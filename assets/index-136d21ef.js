var Ise=Object.defineProperty;var Rse=(n,e,t)=>e in n?Ise(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Pse=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var cn=(n,e,t)=>(Rse(n,typeof e!="symbol"?e+"":e,t),t);var pdt=Pse((Yo,Xo)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function _T(n,e){const t=Object.create(null),r=n.split(",");for(let i=0;i<r.length;i++)t[r[i]]=!0;return e?i=>!!t[i.toLowerCase()]:i=>!!t[i]}const Si={},qv=[],xr=()=>{},Lse=()=>!1,Dse=/^on[^a-z]/,fS=n=>Dse.test(n),gD=n=>n.startsWith("onUpdate:"),Li=Object.assign,yD=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},kse=Object.prototype.hasOwnProperty,ar=(n,e)=>kse.call(n,e),St=Array.isArray,Kv=n=>oy(n)==="[object Map]",$0=n=>oy(n)==="[object Set]",oh=n=>oy(n)==="[object Date]",Ose=n=>oy(n)==="[object RegExp]",Kt=n=>typeof n=="function",qt=n=>typeof n=="string",Wb=n=>typeof n=="symbol",Pn=n=>n!==null&&typeof n=="object",vg=n=>Pn(n)&&Kt(n.then)&&Kt(n.catch),vq=Object.prototype.toString,oy=n=>vq.call(n),Nse=n=>oy(n).slice(8,-1),qb=n=>oy(n)==="[object Object]",bD=n=>qt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,ib=_T(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ST=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},Bse=/-(\w)/g,ls=ST(n=>n.replace(Bse,(e,t)=>t?t.toUpperCase():"")),Fse=/\B([A-Z])/g,Go=ST(n=>n.replace(Fse,"-$1").toLowerCase()),ly=ST(n=>n.charAt(0).toUpperCase()+n.slice(1)),Yv=ST(n=>n?`on${ly(n)}`:""),gg=(n,e)=>!Object.is(n,e),Xv=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},BC=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},FC=n=>{const e=parseFloat(n);return isNaN(e)?n:e},zC=n=>{const e=qt(n)?Number(n):NaN;return isNaN(e)?n:e};let dB;const oR=()=>dB||(dB=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),zse="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",Use=_T(zse);function Ft(n){if(St(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],i=qt(r)?Gse(r):Ft(r);if(i)for(const a in i)e[a]=i[a]}return e}else{if(qt(n))return n;if(Pn(n))return n}}const Hse=/;(?![^(]*\))/g,Vse=/:([^]+)/,$se=/\/\*[^]*?\*\//g;function Gse(n){const e={};return n.replace($se,"").split(Hse).forEach(t=>{if(t){const r=t.split(Vse);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function j(n){let e="";if(qt(n))e=n;else if(St(n))for(let t=0;t<n.length;t++){const r=j(n[t]);r&&(e+=r+" ")}else if(Pn(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function Ll(n){if(!n)return null;let{class:e,style:t}=n;return e&&!qt(e)&&(n.class=j(e)),t&&(n.style=Ft(t)),n}const Wse="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qse=_T(Wse);function gq(n){return!!n||n===""}function Kse(n,e){if(n.length!==e.length)return!1;let t=!0;for(let r=0;t&&r<n.length;r++)t=lh(n[r],e[r]);return t}function lh(n,e){if(n===e)return!0;let t=oh(n),r=oh(e);if(t||r)return t&&r?n.getTime()===e.getTime():!1;if(t=Wb(n),r=Wb(e),t||r)return n===e;if(t=St(n),r=St(e),t||r)return t&&r?Kse(n,e):!1;if(t=Pn(n),r=Pn(e),t||r){if(!t||!r)return!1;const i=Object.keys(n).length,a=Object.keys(e).length;if(i!==a)return!1;for(const s in n){const o=n.hasOwnProperty(s),l=e.hasOwnProperty(s);if(o&&!l||!o&&l||!lh(n[s],e[s]))return!1}}return String(n)===String(e)}function wT(n,e){return n.findIndex(t=>lh(t,e))}const _t=n=>qt(n)?n:n==null?"":St(n)||Pn(n)&&(n.toString===vq||!Kt(n.toString))?JSON.stringify(n,yq,2):String(n),yq=(n,e)=>e&&e.__v_isRef?yq(n,e.value):Kv(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,i])=>(t[`${r} =>`]=i,t),{})}:$0(e)?{[`Set(${e.size})`]:[...e.values()]}:Pn(e)&&!St(e)&&!qb(e)?String(e):e;let Ho;class _D{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ho,!e&&Ho&&(this.index=(Ho.scopes||(Ho.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=Ho;try{return Ho=this,e()}finally{Ho=t}}}on(){Ho=this}off(){Ho=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function SD(n){return new _D(n)}function bq(n,e=Ho){e&&e.active&&e.effects.push(n)}function wD(){return Ho}function xD(n){Ho&&Ho.cleanups.push(n)}const CD=n=>{const e=new Set(n);return e.w=0,e.n=0,e},_q=n=>(n.w&ch)>0,Sq=n=>(n.n&ch)>0,Yse=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=ch},Xse=n=>{const{deps:e}=n;if(e.length){let t=0;for(let r=0;r<e.length;r++){const i=e[r];_q(i)&&!Sq(i)?i.delete(n):e[t++]=i,i.w&=~ch,i.n&=~ch}e.length=t}},UC=new WeakMap;let $1=0,ch=1;const lR=30;let hc;const r0=Symbol(""),cR=Symbol("");class hS{constructor(e,t=null,r){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,bq(this,r)}run(){if(!this.active)return this.fn();let e=hc,t=Kf;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=hc,hc=this,Kf=!0,ch=1<<++$1,$1<=lR?Yse(this):fB(this),this.fn()}finally{$1<=lR&&Xse(this),ch=1<<--$1,hc=this.parent,Kf=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){hc===this?this.deferStop=!0:this.active&&(fB(this),this.onStop&&this.onStop(),this.active=!1)}}function fB(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}function jse(n,e){n.effect&&(n=n.effect.fn);const t=new hS(n);e&&(Li(t,e),e.scope&&bq(t,e.scope)),(!e||!e.lazy)&&t.run();const r=t.run.bind(t);return r.effect=t,r}function Zse(n){n.effect.stop()}let Kf=!0;const wq=[];function cy(){wq.push(Kf),Kf=!1}function uy(){const n=wq.pop();Kf=n===void 0?!0:n}function Co(n,e,t){if(Kf&&hc){let r=UC.get(n);r||UC.set(n,r=new Map);let i=r.get(t);i||r.set(t,i=CD()),xq(i)}}function xq(n,e){let t=!1;$1<=lR?Sq(n)||(n.n|=ch,t=!_q(n)):t=!n.has(hc),t&&(n.add(hc),hc.deps.push(n))}function Cd(n,e,t,r,i,a){const s=UC.get(n);if(!s)return;let o=[];if(e==="clear")o=[...s.values()];else if(t==="length"&&St(n)){const l=Number(r);s.forEach((c,u)=>{(u==="length"||u>=l)&&o.push(c)})}else switch(t!==void 0&&o.push(s.get(t)),e){case"add":St(n)?bD(t)&&o.push(s.get("length")):(o.push(s.get(r0)),Kv(n)&&o.push(s.get(cR)));break;case"delete":St(n)||(o.push(s.get(r0)),Kv(n)&&o.push(s.get(cR)));break;case"set":Kv(n)&&o.push(s.get(r0));break}if(o.length===1)o[0]&&uR(o[0]);else{const l=[];for(const c of o)c&&l.push(...c);uR(CD(l))}}function uR(n,e){const t=St(n)?n:[...n];for(const r of t)r.computed&&hB(r);for(const r of t)r.computed||hB(r)}function hB(n,e){(n!==hc||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}function Qse(n,e){var t;return(t=UC.get(n))==null?void 0:t.get(e)}const Jse=_T("__proto__,__v_isRef,__isVue"),Cq=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Wb)),eoe=xT(),toe=xT(!1,!0),noe=xT(!0),roe=xT(!0,!0),pB=ioe();function ioe(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const r=Er(this);for(let a=0,s=this.length;a<s;a++)Co(r,"get",a+"");const i=r[e](...t);return i===-1||i===!1?r[e](...t.map(Er)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){cy();const r=Er(this)[e].apply(this,t);return uy(),r}}),n}function aoe(n){const e=Er(this);return Co(e,"has",n),e.hasOwnProperty(n)}function xT(n=!1,e=!1){return function(r,i,a){if(i==="__v_isReactive")return!n;if(i==="__v_isReadonly")return n;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&a===(n?e?Pq:Rq:e?Iq:Eq).get(r))return r;const s=St(r);if(!n){if(s&&ar(pB,i))return Reflect.get(pB,i,a);if(i==="hasOwnProperty")return aoe}const o=Reflect.get(r,i,a);return(Wb(i)?Cq.has(i):Jse(i))||(n||Co(r,"get",i),e)?o:Ur(o)?s&&bD(i)?o:o.value:Pn(o)?n?G0(o):pr(o):o}}const soe=Mq(),ooe=Mq(!0);function Mq(n=!1){return function(t,r,i,a){let s=t[r];if(b0(s)&&Ur(s)&&!Ur(i))return!1;if(!n&&(!Kb(i)&&!b0(i)&&(s=Er(s),i=Er(i)),!St(t)&&Ur(s)&&!Ur(i)))return s.value=i,!0;const o=St(t)&&bD(r)?Number(r)<t.length:ar(t,r),l=Reflect.set(t,r,i,a);return t===Er(a)&&(o?gg(i,s)&&Cd(t,"set",r,i):Cd(t,"add",r,i)),l}}function loe(n,e){const t=ar(n,e);n[e];const r=Reflect.deleteProperty(n,e);return r&&t&&Cd(n,"delete",e,void 0),r}function coe(n,e){const t=Reflect.has(n,e);return(!Wb(e)||!Cq.has(e))&&Co(n,"has",e),t}function uoe(n){return Co(n,"iterate",St(n)?"length":r0),Reflect.ownKeys(n)}const Tq={get:eoe,set:soe,deleteProperty:loe,has:coe,ownKeys:uoe},Aq={get:noe,set(n,e){return!0},deleteProperty(n,e){return!0}},doe=Li({},Tq,{get:toe,set:ooe}),foe=Li({},Aq,{get:roe}),MD=n=>n,CT=n=>Reflect.getPrototypeOf(n);function aw(n,e,t=!1,r=!1){n=n.__v_raw;const i=Er(n),a=Er(e);t||(e!==a&&Co(i,"get",e),Co(i,"get",a));const{has:s}=CT(i),o=r?MD:t?ED:Yb;if(s.call(i,e))return o(n.get(e));if(s.call(i,a))return o(n.get(a));n!==i&&n.get(e)}function sw(n,e=!1){const t=this.__v_raw,r=Er(t),i=Er(n);return e||(n!==i&&Co(r,"has",n),Co(r,"has",i)),n===i?t.has(n):t.has(n)||t.has(i)}function ow(n,e=!1){return n=n.__v_raw,!e&&Co(Er(n),"iterate",r0),Reflect.get(n,"size",n)}function mB(n){n=Er(n);const e=Er(this);return CT(e).has.call(e,n)||(e.add(n),Cd(e,"add",n,n)),this}function vB(n,e){e=Er(e);const t=Er(this),{has:r,get:i}=CT(t);let a=r.call(t,n);a||(n=Er(n),a=r.call(t,n));const s=i.call(t,n);return t.set(n,e),a?gg(e,s)&&Cd(t,"set",n,e):Cd(t,"add",n,e),this}function gB(n){const e=Er(this),{has:t,get:r}=CT(e);let i=t.call(e,n);i||(n=Er(n),i=t.call(e,n)),r&&r.call(e,n);const a=e.delete(n);return i&&Cd(e,"delete",n,void 0),a}function yB(){const n=Er(this),e=n.size!==0,t=n.clear();return e&&Cd(n,"clear",void 0,void 0),t}function lw(n,e){return function(r,i){const a=this,s=a.__v_raw,o=Er(s),l=e?MD:n?ED:Yb;return!n&&Co(o,"iterate",r0),s.forEach((c,u)=>r.call(i,l(c),l(u),a))}}function cw(n,e,t){return function(...r){const i=this.__v_raw,a=Er(i),s=Kv(a),o=n==="entries"||n===Symbol.iterator&&s,l=n==="keys"&&s,c=i[n](...r),u=t?MD:e?ED:Yb;return!e&&Co(a,"iterate",l?cR:r0),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:o?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function ef(n){return function(...e){return n==="delete"?!1:this}}function hoe(){const n={get(a){return aw(this,a)},get size(){return ow(this)},has:sw,add:mB,set:vB,delete:gB,clear:yB,forEach:lw(!1,!1)},e={get(a){return aw(this,a,!1,!0)},get size(){return ow(this)},has:sw,add:mB,set:vB,delete:gB,clear:yB,forEach:lw(!1,!0)},t={get(a){return aw(this,a,!0)},get size(){return ow(this,!0)},has(a){return sw.call(this,a,!0)},add:ef("add"),set:ef("set"),delete:ef("delete"),clear:ef("clear"),forEach:lw(!0,!1)},r={get(a){return aw(this,a,!0,!0)},get size(){return ow(this,!0)},has(a){return sw.call(this,a,!0)},add:ef("add"),set:ef("set"),delete:ef("delete"),clear:ef("clear"),forEach:lw(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=cw(a,!1,!1),t[a]=cw(a,!0,!1),e[a]=cw(a,!1,!0),r[a]=cw(a,!0,!0)}),[n,t,e,r]}const[poe,moe,voe,goe]=hoe();function MT(n,e){const t=e?n?goe:voe:n?moe:poe;return(r,i,a)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?r:Reflect.get(ar(t,i)&&i in r?t:r,i,a)}const yoe={get:MT(!1,!1)},boe={get:MT(!1,!0)},_oe={get:MT(!0,!1)},Soe={get:MT(!0,!0)},Eq=new WeakMap,Iq=new WeakMap,Rq=new WeakMap,Pq=new WeakMap;function woe(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xoe(n){return n.__v_skip||!Object.isExtensible(n)?0:woe(Nse(n))}function pr(n){return b0(n)?n:TT(n,!1,Tq,yoe,Eq)}function TD(n){return TT(n,!1,doe,boe,Iq)}function G0(n){return TT(n,!0,Aq,_oe,Rq)}function Coe(n){return TT(n,!0,foe,Soe,Pq)}function TT(n,e,t,r,i){if(!Pn(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const a=i.get(n);if(a)return a;const s=xoe(n);if(s===0)return n;const o=new Proxy(n,s===2?r:t);return i.set(n,o),o}function i0(n){return b0(n)?i0(n.__v_raw):!!(n&&n.__v_isReactive)}function b0(n){return!!(n&&n.__v_isReadonly)}function Kb(n){return!!(n&&n.__v_isShallow)}function AD(n){return i0(n)||b0(n)}function Er(n){const e=n&&n.__v_raw;return e?Er(e):n}function ou(n){return BC(n,"__v_skip",!0),n}const Yb=n=>Pn(n)?pr(n):n,ED=n=>Pn(n)?G0(n):n;function ID(n){Kf&&hc&&(n=Er(n),xq(n.dep||(n.dep=CD())))}function AT(n,e){n=Er(n);const t=n.dep;t&&uR(t)}function Ur(n){return!!(n&&n.__v_isRef===!0)}function te(n){return Lq(n,!1)}function Cr(n){return Lq(n,!0)}function Lq(n,e){return Ur(n)?n:new Moe(n,e)}class Moe{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Er(e),this._value=t?e:Yb(e)}get value(){return ID(this),this._value}set value(e){const t=this.__v_isShallow||Kb(e)||b0(e);e=t?e:Er(e),gg(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Yb(e),AT(this))}}function Toe(n){AT(n)}function S(n){return Ur(n)?n.value:n}function Aoe(n){return Kt(n)?n():S(n)}const Eoe={get:(n,e,t)=>S(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const i=n[e];return Ur(i)&&!Ur(t)?(i.value=t,!0):Reflect.set(n,e,t,r)}};function RD(n){return i0(n)?n:new Proxy(n,Eoe)}class Ioe{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:r}=e(()=>ID(this),()=>AT(this));this._get=t,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function Dq(n){return new Ioe(n)}function aa(n){const e=St(n)?new Array(n.length):{};for(const t in n)e[t]=kq(n,t);return e}class Roe{constructor(e,t,r){this._object=e,this._key=t,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Qse(Er(this._object),this._key)}}class Poe{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function br(n,e,t){return Ur(n)?n:Kt(n)?new Poe(n):Pn(n)&&arguments.length>1?kq(n,e,t):te(n)}function kq(n,e,t){const r=n[e];return Ur(r)?r:new Roe(n,e,t)}class Loe{constructor(e,t,r,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new hS(e,()=>{this._dirty||(this._dirty=!0,AT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Er(this);return ID(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Doe(n,e,t=!1){let r,i;const a=Kt(n);return a?(r=n,i=xr):(r=n.get,i=n.set),new Loe(r,i,a||!i,t)}function Oq(n,...e){}function koe(n,e){}function bd(n,e,t,r){let i;try{i=r?n(...r):n()}catch(a){W0(a,e,t)}return i}function jo(n,e,t,r){if(Kt(n)){const a=bd(n,e,t,r);return a&&vg(a)&&a.catch(s=>{W0(s,e,t)}),a}const i=[];for(let a=0;a<n.length;a++)i.push(jo(n[a],e,t,r));return i}function W0(n,e,t,r=!0){const i=e?e.vnode:null;if(e){let a=e.parent;const s=e.proxy,o=t;for(;a;){const c=a.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](n,s,o)===!1)return}a=a.parent}const l=e.appContext.config.errorHandler;if(l){bd(l,null,10,[n,s,o]);return}}Ooe(n,t,i,r)}function Ooe(n,e,t,r=!0){console.error(n)}let Xb=!1,dR=!1;const Es=[];let jc=0;const jv=[];let nd=null,Ip=0;const Nq=Promise.resolve();let PD=null;function Yt(n){const e=PD||Nq;return n?e.then(this?n.bind(this):n):e}function Noe(n){let e=jc+1,t=Es.length;for(;e<t;){const r=e+t>>>1;jb(Es[r])<n?e=r+1:t=r}return e}function ET(n){(!Es.length||!Es.includes(n,Xb&&n.allowRecurse?jc+1:jc))&&(n.id==null?Es.push(n):Es.splice(Noe(n.id),0,n),Bq())}function Bq(){!Xb&&!dR&&(dR=!0,PD=Nq.then(Fq))}function Boe(n){const e=Es.indexOf(n);e>jc&&Es.splice(e,1)}function LD(n){St(n)?jv.push(...n):(!nd||!nd.includes(n,n.allowRecurse?Ip+1:Ip))&&jv.push(n),Bq()}function bB(n,e=Xb?jc+1:0){for(;e<Es.length;e++){const t=Es[e];t&&t.pre&&(Es.splice(e,1),e--,t())}}function HC(n){if(jv.length){const e=[...new Set(jv)];if(jv.length=0,nd){nd.push(...e);return}for(nd=e,nd.sort((t,r)=>jb(t)-jb(r)),Ip=0;Ip<nd.length;Ip++)nd[Ip]();nd=null,Ip=0}}const jb=n=>n.id==null?1/0:n.id,Foe=(n,e)=>{const t=jb(n)-jb(e);if(t===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return t};function Fq(n){dR=!1,Xb=!0,Es.sort(Foe);const e=xr;try{for(jc=0;jc<Es.length;jc++){const t=Es[jc];t&&t.active!==!1&&bd(t,null,14)}}finally{jc=0,Es.length=0,HC(),Xb=!1,PD=null,(Es.length||jv.length)&&Fq()}}let vv,uw=[];function zq(n,e){var t,r;vv=n,vv?(vv.enabled=!0,uw.forEach(({event:i,args:a})=>vv.emit(i,...a)),uw=[]):typeof window<"u"&&window.HTMLElement&&!((r=(t=window.navigator)==null?void 0:t.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(a=>{zq(a,e)}),setTimeout(()=>{vv||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,uw=[])},3e3)):uw=[]}function zoe(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||Si;let i=t;const a=e.startsWith("update:"),s=a&&e.slice(7);if(s&&s in r){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:f}=r[u]||Si;f&&(i=t.map(h=>qt(h)?h.trim():h)),d&&(i=t.map(FC))}let o,l=r[o=Yv(e)]||r[o=Yv(ls(e))];!l&&a&&(l=r[o=Yv(Go(e))]),l&&jo(l,n,6,i);const c=r[o+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[o])return;n.emitted[o]=!0,jo(c,n,6,i)}}function Uq(n,e,t=!1){const r=e.emitsCache,i=r.get(n);if(i!==void 0)return i;const a=n.emits;let s={},o=!1;if(!Kt(n)){const l=c=>{const u=Uq(c,e,!0);u&&(o=!0,Li(s,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!a&&!o?(Pn(n)&&r.set(n,null),null):(St(a)?a.forEach(l=>s[l]=null):Li(s,a),Pn(n)&&r.set(n,s),s)}function IT(n,e){return!n||!fS(e)?!1:(e=e.slice(2).replace(/Once$/,""),ar(n,e[0].toLowerCase()+e.slice(1))||ar(n,Go(e))||ar(n,e))}let Wa=null,RT=null;function Zb(n){const e=Wa;return Wa=n,RT=n&&n.type.__scopeId||null,e}function Nd(n){RT=n}function Bd(){RT=null}const Uoe=n=>Me;function Me(n,e=Wa,t){if(!e||n._n)return n;const r=(...i)=>{r._d&&yR(-1);const a=Zb(e);let s;try{s=n(...i)}finally{Zb(a),r._d&&yR(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function B2(n){const{type:e,vnode:t,proxy:r,withProxy:i,props:a,propsOptions:[s],slots:o,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=n;let g,v;const y=Zb(n);try{if(t.shapeFlag&4){const _=i||r;g=$o(u.call(_,_,d,a,h,f,p)),v=l}else{const _=e;g=$o(_.length>1?_(a,{attrs:l,slots:o,emit:c}):_(a,null)),v=e.props?l:Voe(l)}}catch(_){ob.length=0,W0(_,n,1),g=pe(xa)}let b=g;if(v&&m!==!1){const _=Object.keys(v),{shapeFlag:w}=b;_.length&&w&7&&(s&&_.some(gD)&&(v=$oe(v,s)),b=Mc(b,v))}return t.dirs&&(b=Mc(b),b.dirs=b.dirs?b.dirs.concat(t.dirs):t.dirs),t.transition&&(b.transition=t.transition),g=b,Zb(y),g}function Hoe(n){let e;for(let t=0;t<n.length;t++){const r=n[t];if(ti(r)){if(r.type!==xa||r.children==="v-if"){if(e)return;e=r}}else return}return e}const Voe=n=>{let e;for(const t in n)(t==="class"||t==="style"||fS(t))&&((e||(e={}))[t]=n[t]);return e},$oe=(n,e)=>{const t={};for(const r in n)(!gD(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function Goe(n,e,t){const{props:r,children:i,component:a}=n,{props:s,children:o,patchFlag:l}=e,c=a.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return r?_B(r,s,c):!!s;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(s[f]!==r[f]&&!IT(c,f))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===s?!1:r?s?_B(r,s,c):!0:!!s;return!1}function _B(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(e[a]!==n[a]&&!IT(t,a))return!0}return!1}function DD({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const Hq=n=>n.__isSuspense,Woe={name:"Suspense",__isSuspense:!0,process(n,e,t,r,i,a,s,o,l,c){n==null?Koe(e,t,r,i,a,s,o,l,c):Yoe(n,e,t,r,i,s,o,l,c)},hydrate:Xoe,create:kD,normalize:joe},qoe=Woe;function Qb(n,e){const t=n.props&&n.props[e];Kt(t)&&t()}function Koe(n,e,t,r,i,a,s,o,l){const{p:c,o:{createElement:u}}=l,d=u("div"),f=n.suspense=kD(n,i,r,e,d,t,a,s,o,l);c(null,f.pendingBranch=n.ssContent,d,null,r,f,a,s),f.deps>0?(Qb(n,"onPending"),Qb(n,"onFallback"),c(null,n.ssFallback,e,t,r,null,a,s),Zv(f,n.ssFallback)):f.resolve(!1,!0)}function Yoe(n,e,t,r,i,a,s,o,{p:l,um:c,o:{createElement:u}}){const d=e.suspense=n.suspense;d.vnode=e,e.el=n.el;const f=e.ssContent,h=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:g,isHydrating:v}=d;if(m)d.pendingBranch=f,pc(f,m)?(l(m,f,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0?d.resolve():g&&(l(p,h,t,r,i,null,a,s,o),Zv(d,h))):(d.pendingId++,v?(d.isHydrating=!1,d.activeBranch=m):c(m,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),g?(l(null,f,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0?d.resolve():(l(p,h,t,r,i,null,a,s,o),Zv(d,h))):p&&pc(f,p)?(l(p,f,t,r,i,d,a,s,o),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0&&d.resolve()));else if(p&&pc(f,p))l(p,f,t,r,i,d,a,s,o),Zv(d,f);else if(Qb(e,"onPending"),d.pendingBranch=f,d.pendingId++,l(null,f,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0)d.resolve();else{const{timeout:y,pendingId:b}=d;y>0?setTimeout(()=>{d.pendingId===b&&d.fallback(h)},y):y===0&&d.fallback(h)}}function kD(n,e,t,r,i,a,s,o,l,c,u=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:m,remove:g}}=c;let v;const y=Zoe(n);y&&e!=null&&e.pendingBranch&&(v=e.pendingId,e.deps++);const b=n.props?zC(n.props.timeout):void 0,_={vnode:n,parent:e,parentComponent:t,isSVG:s,container:r,hiddenContainer:i,anchor:a,deps:0,pendingId:0,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(w=!1,x=!1){const{vnode:M,activeBranch:C,pendingBranch:T,pendingId:A,effects:I,parentComponent:L,container:k}=_;if(_.isHydrating)_.isHydrating=!1;else if(!w){const D=C&&T.transition&&T.transition.mode==="out-in";D&&(C.transition.afterLeave=()=>{A===_.pendingId&&f(T,k,H,0)});let{anchor:H}=_;C&&(H=p(C),h(C,L,_,!0)),D||f(T,k,H,0)}Zv(_,T),_.pendingBranch=null,_.isInFallback=!1;let N=_.parent,F=!1;for(;N;){if(N.pendingBranch){N.effects.push(...I),F=!0;break}N=N.parent}F||LD(I),_.effects=[],y&&e&&e.pendingBranch&&v===e.pendingId&&(e.deps--,e.deps===0&&!x&&e.resolve()),Qb(M,"onResolve")},fallback(w){if(!_.pendingBranch)return;const{vnode:x,activeBranch:M,parentComponent:C,container:T,isSVG:A}=_;Qb(x,"onFallback");const I=p(M),L=()=>{_.isInFallback&&(d(null,w,T,I,C,null,A,o,l),Zv(_,w))},k=w.transition&&w.transition.mode==="out-in";k&&(M.transition.afterLeave=L),_.isInFallback=!0,h(M,C,null,!0),k||L()},move(w,x,M){_.activeBranch&&f(_.activeBranch,w,x,M),_.container=w},next(){return _.activeBranch&&p(_.activeBranch)},registerDep(w,x){const M=!!_.pendingBranch;M&&_.deps++;const C=w.vnode.el;w.asyncDep.catch(T=>{W0(T,w,0)}).then(T=>{if(w.isUnmounted||_.isUnmounted||_.pendingId!==w.suspenseId)return;w.asyncResolved=!0;const{vnode:A}=w;bR(w,T,!1),C&&(A.el=C);const I=!C&&w.subTree.el;x(w,A,m(C||w.subTree.el),C?null:p(w.subTree),_,s,l),I&&g(I),DD(w,A.el),M&&--_.deps===0&&_.resolve()})},unmount(w,x){_.isUnmounted=!0,_.activeBranch&&h(_.activeBranch,t,w,x),_.pendingBranch&&h(_.pendingBranch,t,w,x)}};return _}function Xoe(n,e,t,r,i,a,s,o,l){const c=e.suspense=kD(e,r,t,n.parentNode,document.createElement("div"),null,i,a,s,o,!0),u=l(n,c.pendingBranch=e.ssContent,t,c,a,s);return c.deps===0&&c.resolve(!1,!0),u}function joe(n){const{shapeFlag:e,children:t}=n,r=e&32;n.ssContent=SB(r?t.default:t),n.ssFallback=r?SB(t.fallback):pe(xa)}function SB(n){let e;if(Kt(n)){const t=S0&&n._c;t&&(n._d=!1,$()),n=n(),t&&(n._d=!0,e=po,pK())}return St(n)&&(n=Hoe(n)),n=$o(n),e&&!n.dynamicChildren&&(n.dynamicChildren=e.filter(t=>t!==n)),n}function Vq(n,e){e&&e.pendingBranch?St(n)?e.effects.push(...n):e.effects.push(n):LD(n)}function Zv(n,e){n.activeBranch=e;const{vnode:t,parentComponent:r}=n,i=t.el=e.el;r&&r.subTree===t&&(r.vnode.el=i,DD(r,i))}function Zoe(n){var e;return((e=n.props)==null?void 0:e.suspensible)!=null&&n.props.suspensible!==!1}function wa(n,e){return pS(n,null,e)}function $q(n,e){return pS(n,null,{flush:"post"})}function Qoe(n,e){return pS(n,null,{flush:"sync"})}const dw={};function dt(n,e,t){return pS(n,e,t)}function pS(n,e,{immediate:t,deep:r,flush:i,onTrack:a,onTrigger:s}=Si){var o;const l=wD()===((o=_a)==null?void 0:o.scope)?_a:null;let c,u=!1,d=!1;if(Ur(n)?(c=()=>n.value,u=Kb(n)):i0(n)?(c=()=>n,r=!0):St(n)?(d=!0,u=n.some(_=>i0(_)||Kb(_)),c=()=>n.map(_=>{if(Ur(_))return _.value;if(i0(_))return Up(_);if(Kt(_))return bd(_,l,2)})):Kt(n)?e?c=()=>bd(n,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),jo(n,l,3,[h])}:c=xr,e&&r){const _=c;c=()=>Up(_())}let f,h=_=>{f=y.onStop=()=>{bd(_,l,4)}},p;if(bg)if(h=xr,e?t&&jo(e,l,3,[c(),d?[]:void 0,h]):c(),i==="sync"){const _=xK();p=_.__watcherHandles||(_.__watcherHandles=[])}else return xr;let m=d?new Array(n.length).fill(dw):dw;const g=()=>{if(y.active)if(e){const _=y.run();(r||u||(d?_.some((w,x)=>gg(w,m[x])):gg(_,m)))&&(f&&f(),jo(e,l,3,[_,m===dw?void 0:d&&m[0]===dw?[]:m,h]),m=_)}else y.run()};g.allowRecurse=!!e;let v;i==="sync"?v=g:i==="post"?v=()=>ts(g,l&&l.suspense):(g.pre=!0,l&&(g.id=l.uid),v=()=>ET(g));const y=new hS(c,v);e?t?g():m=y.run():i==="post"?ts(y.run.bind(y),l&&l.suspense):y.run();const b=()=>{y.stop(),l&&l.scope&&yD(l.scope.effects,y)};return p&&p.push(b),b}function Joe(n,e,t){const r=this.proxy,i=qt(n)?n.includes(".")?Gq(r,n):()=>r[n]:n.bind(r,r);let a;Kt(e)?a=e:(a=e.handler,t=e);const s=_a;uh(this);const o=pS(i,a.bind(r),t);return s?uh(s):Yf(),o}function Gq(n,e){const t=e.split(".");return()=>{let r=n;for(let i=0;i<t.length&&r;i++)r=r[t[i]];return r}}function Up(n,e){if(!Pn(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),Ur(n))Up(n.value,e);else if(St(n))for(let t=0;t<n.length;t++)Up(n[t],e);else if($0(n)||Kv(n))n.forEach(t=>{Up(t,e)});else if(qb(n))for(const t in n)Up(n[t],e);return n}function Sn(n,e){const t=Wa;if(t===null)return n;const r=NT(t)||t.proxy,i=n.dirs||(n.dirs=[]);for(let a=0;a<e.length;a++){let[s,o,l,c=Si]=e[a];s&&(Kt(s)&&(s={mounted:s,updated:s}),s.deep&&Up(o),i.push({dir:s,instance:r,value:o,oldValue:void 0,arg:l,modifiers:c}))}return n}function qc(n,e,t,r){const i=n.dirs,a=e&&e.dirs;for(let s=0;s<i.length;s++){const o=i[s];a&&(o.oldValue=a[s].value);let l=o.dir[r];l&&(cy(),jo(l,t,8,[n.el,o,n,e]),uy())}}function OD(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return dn(()=>{n.isMounted=!0}),vr(()=>{n.isUnmounting=!0}),n}const cl=[Function,Array],ND={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:cl,onEnter:cl,onAfterEnter:cl,onEnterCancelled:cl,onBeforeLeave:cl,onLeave:cl,onAfterLeave:cl,onLeaveCancelled:cl,onBeforeAppear:cl,onAppear:cl,onAfterAppear:cl,onAppearCancelled:cl},ele={name:"BaseTransition",props:ND,setup(n,{slots:e}){const t=wn(),r=OD();let i;return()=>{const a=e.default&&PT(e.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){for(const m of a)if(m.type!==xa){s=m;break}}const o=Er(n),{mode:l}=o;if(r.isLeaving)return TE(s);const c=wB(s);if(!c)return TE(s);const u=yg(c,o,r,t);_0(c,u);const d=t.subTree,f=d&&wB(d);let h=!1;const{getTransitionKey:p}=c.type;if(p){const m=p();i===void 0?i=m:m!==i&&(i=m,h=!0)}if(f&&f.type!==xa&&(!pc(c,f)||h)){const m=yg(f,o,r,t);if(_0(f,m),l==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,t.update.active!==!1&&t.update()},TE(s);l==="in-out"&&c.type!==xa&&(m.delayLeave=(g,v,y)=>{const b=qq(r,f);b[String(f.key)]=f,g._leaveCb=()=>{v(),g._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=y})}return s}}},Wq=ele;function qq(n,e){const{leavingVNodes:t}=n;let r=t.get(e.type);return r||(r=Object.create(null),t.set(e.type,r)),r}function yg(n,e,t,r){const{appear:i,mode:a,persisted:s=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:g,onAfterAppear:v,onAppearCancelled:y}=e,b=String(n.key),_=qq(t,n),w=(C,T)=>{C&&jo(C,r,9,T)},x=(C,T)=>{const A=T[1];w(C,T),St(C)?C.every(I=>I.length<=1)&&A():C.length<=1&&A()},M={mode:a,persisted:s,beforeEnter(C){let T=o;if(!t.isMounted)if(i)T=m||o;else return;C._leaveCb&&C._leaveCb(!0);const A=_[b];A&&pc(n,A)&&A.el._leaveCb&&A.el._leaveCb(),w(T,[C])},enter(C){let T=l,A=c,I=u;if(!t.isMounted)if(i)T=g||l,A=v||c,I=y||u;else return;let L=!1;const k=C._enterCb=N=>{L||(L=!0,N?w(I,[C]):w(A,[C]),M.delayedLeave&&M.delayedLeave(),C._enterCb=void 0)};T?x(T,[C,k]):k()},leave(C,T){const A=String(n.key);if(C._enterCb&&C._enterCb(!0),t.isUnmounting)return T();w(d,[C]);let I=!1;const L=C._leaveCb=k=>{I||(I=!0,T(),k?w(p,[C]):w(h,[C]),C._leaveCb=void 0,_[A]===n&&delete _[A])};_[A]=n,f?x(f,[C,L]):L()},clone(C){return yg(C,e,t,r)}};return M}function TE(n){if(mS(n))return n=Mc(n),n.children=null,n}function wB(n){return mS(n)?n.children?n.children[0]:void 0:n}function _0(n,e){n.shapeFlag&6&&n.component?_0(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function PT(n,e=!1,t){let r=[],i=0;for(let a=0;a<n.length;a++){let s=n[a];const o=t==null?s.key:String(t)+String(s.key!=null?s.key:a);s.type===Bt?(s.patchFlag&128&&i++,r=r.concat(PT(s.children,e,o))):(e||s.type!==xa)&&r.push(o!=null?Mc(s,{key:o}):s)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function Pe(n,e){return Kt(n)?(()=>Li({name:n.name},e,{setup:n}))():n}const a0=n=>!!n.type.__asyncLoader;function tle(n){Kt(n)&&(n={loader:n});const{loader:e,loadingComponent:t,errorComponent:r,delay:i=200,timeout:a,suspensible:s=!0,onError:o}=n;let l=null,c,u=0;const d=()=>(u++,l=null,f()),f=()=>{let h;return l||(h=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),o)return new Promise((m,g)=>{o(p,()=>m(d()),()=>g(p),u+1)});throw p}).then(p=>h!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),c=p,p)))};return Pe({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return c},setup(){const h=_a;if(c)return()=>AE(c,h);const p=y=>{l=null,W0(y,h,13,!r)};if(s&&h.suspense||bg)return f().then(y=>()=>AE(y,h)).catch(y=>(p(y),()=>r?pe(r,{error:y}):null));const m=te(!1),g=te(),v=te(!!i);return i&&setTimeout(()=>{v.value=!1},i),a!=null&&setTimeout(()=>{if(!m.value&&!g.value){const y=new Error(`Async component timed out after ${a}ms.`);p(y),g.value=y}},a),f().then(()=>{m.value=!0,h.parent&&mS(h.parent.vnode)&&ET(h.parent.update)}).catch(y=>{p(y),g.value=y}),()=>{if(m.value&&c)return AE(c,h);if(g.value&&r)return pe(r,{error:g.value});if(t&&!v.value)return pe(t)}}})}function AE(n,e){const{ref:t,props:r,children:i,ce:a}=e.vnode,s=pe(n,r,i);return s.ref=t,s.ce=a,delete e.vnode.ce,s}const mS=n=>n.type.__isKeepAlive,nle={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:e}){const t=wn(),r=t.ctx;if(!r.renderer)return()=>{const y=e.default&&e.default();return y&&y.length===1?y[0]:y};const i=new Map,a=new Set;let s=null;const o=t.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:d}}}=r,f=d("div");r.activate=(y,b,_,w,x)=>{const M=y.component;c(y,b,_,0,o),l(M.vnode,y,b,_,M,o,w,y.slotScopeIds,x),ts(()=>{M.isDeactivated=!1,M.a&&Xv(M.a);const C=y.props&&y.props.onVnodeMounted;C&&uo(C,M.parent,y)},o)},r.deactivate=y=>{const b=y.component;c(y,f,null,1,o),ts(()=>{b.da&&Xv(b.da);const _=y.props&&y.props.onVnodeUnmounted;_&&uo(_,b.parent,y),b.isDeactivated=!0},o)};function h(y){EE(y),u(y,t,o,!0)}function p(y){i.forEach((b,_)=>{const w=SR(b.type);w&&(!y||!y(w))&&m(_)})}function m(y){const b=i.get(y);!s||!pc(b,s)?h(b):s&&EE(s),i.delete(y),a.delete(y)}dt(()=>[n.include,n.exclude],([y,b])=>{y&&p(_=>G1(y,_)),b&&p(_=>!G1(b,_))},{flush:"post",deep:!0});let g=null;const v=()=>{g!=null&&i.set(g,IE(t.subTree))};return dn(v),Io(v),vr(()=>{i.forEach(y=>{const{subTree:b,suspense:_}=t,w=IE(b);if(y.type===w.type&&y.key===w.key){EE(w);const x=w.component.da;x&&ts(x,_);return}h(y)})}),()=>{if(g=null,!e.default)return null;const y=e.default(),b=y[0];if(y.length>1)return s=null,y;if(!ti(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return s=null,b;let _=IE(b);const w=_.type,x=SR(a0(_)?_.type.__asyncResolved||{}:w),{include:M,exclude:C,max:T}=n;if(M&&(!x||!G1(M,x))||C&&x&&G1(C,x))return s=_,b;const A=_.key==null?w:_.key,I=i.get(A);return _.el&&(_=Mc(_),b.shapeFlag&128&&(b.ssContent=_)),g=A,I?(_.el=I.el,_.component=I.component,_.transition&&_0(_,_.transition),_.shapeFlag|=512,a.delete(A),a.add(A)):(a.add(A),T&&a.size>parseInt(T,10)&&m(a.values().next().value)),_.shapeFlag|=256,s=_,Hq(b.type)?b:_}}},rle=nle;function G1(n,e){return St(n)?n.some(t=>G1(t,e)):qt(n)?n.split(",").includes(e):Ose(n)?n.test(e):!1}function LT(n,e){Kq(n,"a",e)}function BD(n,e){Kq(n,"da",e)}function Kq(n,e,t=_a){const r=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(DT(e,r,t),t){let i=t.parent;for(;i&&i.parent;)mS(i.parent.vnode)&&ile(r,e,t,i),i=i.parent}}function ile(n,e,t,r){const i=DT(e,n,r,!0);Ec(()=>{yD(r[e],i)},t)}function EE(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function IE(n){return n.shapeFlag&128?n.ssContent:n}function DT(n,e,t=_a,r=!1){if(t){const i=t[n]||(t[n]=[]),a=e.__weh||(e.__weh=(...s)=>{if(t.isUnmounted)return;cy(),uh(t);const o=jo(e,t,n,s);return Yf(),uy(),o});return r?i.unshift(a):i.push(a),a}}const Fd=n=>(e,t=_a)=>(!bg||n==="sp")&&DT(n,(...r)=>e(...r),t),vS=Fd("bm"),dn=Fd("m"),kT=Fd("bu"),Io=Fd("u"),vr=Fd("bum"),Ec=Fd("um"),Yq=Fd("sp"),Xq=Fd("rtg"),jq=Fd("rtc");function Zq(n,e=_a){DT("ec",n,e)}const FD="components",ale="directives";function Lt(n,e){return zD(FD,n,!0,e)||n}const Qq=Symbol.for("v-ndc");function Rn(n){return qt(n)?zD(FD,n,!1)||n:n||Qq}function gS(n){return zD(ale,n)}function zD(n,e,t=!0,r=!1){const i=Wa||_a;if(i){const a=i.type;if(n===FD){const o=SR(a,!1);if(o&&(o===e||o===ls(e)||o===ly(ls(e))))return a}const s=xB(i[n]||a[n],e)||xB(i.appContext[n],e);return!s&&r?a:s}}function xB(n,e){return n&&(n[e]||n[ls(e)]||n[ly(ls(e))])}function kn(n,e,t,r){let i;const a=t&&t[r];if(St(n)||qt(n)){i=new Array(n.length);for(let s=0,o=n.length;s<o;s++)i[s]=e(n[s],s,void 0,a&&a[s])}else if(typeof n=="number"){i=new Array(n);for(let s=0;s<n;s++)i[s]=e(s+1,s,void 0,a&&a[s])}else if(Pn(n))if(n[Symbol.iterator])i=Array.from(n,(s,o)=>e(s,o,void 0,a&&a[o]));else{const s=Object.keys(n);i=new Array(s.length);for(let o=0,l=s.length;o<l;o++){const c=s[o];i[o]=e(n[c],c,o,a&&a[o])}}else i=[];return t&&(t[r]=i),i}function rl(n,e){for(let t=0;t<e.length;t++){const r=e[t];if(St(r))for(let i=0;i<r.length;i++)n[r[i].name]=r[i].fn;else r&&(n[r.name]=r.key?(...i)=>{const a=r.fn(...i);return a&&(a.key=r.key),a}:r.fn)}return n}function Qe(n,e,t={},r,i){if(Wa.isCE||Wa.parent&&a0(Wa.parent)&&Wa.parent.isCE)return e!=="default"&&(t.name=e),pe("slot",t,r&&r());let a=n[e];a&&a._c&&(a._d=!1),$();const s=a&&Jq(a(t)),o=rt(Bt,{key:t.key||s&&s.key||`_${e}`},s||(r?r():[]),s&&n._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),a&&a._c&&(a._d=!0),o}function Jq(n){return n.some(e=>ti(e)?!(e.type===xa||e.type===Bt&&!Jq(e.children)):!0)?n:null}function eK(n,e){const t={};for(const r in n)t[e&&/[A-Z]/.test(r)?`on:${r}`:Yv(r)]=n[r];return t}const fR=n=>n?yK(n)?NT(n)||n.proxy:fR(n.parent):null,ab=Li(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>fR(n.parent),$root:n=>fR(n.root),$emit:n=>n.emit,$options:n=>UD(n),$forceUpdate:n=>n.f||(n.f=()=>ET(n.update)),$nextTick:n=>n.n||(n.n=Yt.bind(n.proxy)),$watch:n=>Joe.bind(n)}),RE=(n,e)=>n!==Si&&!n.__isScriptSetup&&ar(n,e),hR={get({_:n},e){const{ctx:t,setupState:r,data:i,props:a,accessCache:s,type:o,appContext:l}=n;let c;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return t[e];case 3:return a[e]}else{if(RE(r,e))return s[e]=1,r[e];if(i!==Si&&ar(i,e))return s[e]=2,i[e];if((c=n.propsOptions[0])&&ar(c,e))return s[e]=3,a[e];if(t!==Si&&ar(t,e))return s[e]=4,t[e];pR&&(s[e]=0)}}const u=ab[e];let d,f;if(u)return e==="$attrs"&&Co(n,"get",e),u(n);if((d=o.__cssModules)&&(d=d[e]))return d;if(t!==Si&&ar(t,e))return s[e]=4,t[e];if(f=l.config.globalProperties,ar(f,e))return f[e]},set({_:n},e,t){const{data:r,setupState:i,ctx:a}=n;return RE(i,e)?(i[e]=t,!0):r!==Si&&ar(r,e)?(r[e]=t,!0):ar(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(a[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:i,propsOptions:a}},s){let o;return!!t[s]||n!==Si&&ar(n,s)||RE(e,s)||(o=a[0])&&ar(o,s)||ar(r,s)||ar(ab,s)||ar(i.config.globalProperties,s)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:ar(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}},sle=Li({},hR,{get(n,e){if(e!==Symbol.unscopables)return hR.get(n,e,n)},has(n,e){return e[0]!=="_"&&!Use(e)}});function ole(){return null}function lle(){return null}function cle(n){}function ule(n){}function dle(){return null}function fle(){}function hle(n,e){return null}function Qi(){return tK().slots}function zd(){return tK().attrs}function ple(n,e,t){const r=wn();if(t&&t.local){const i=te(n[e]);return dt(()=>n[e],a=>i.value=a),dt(i,a=>{a!==n[e]&&r.emit(`update:${e}`,a)}),i}else return{__v_isRef:!0,get value(){return n[e]},set value(i){r.emit(`update:${e}`,i)}}}function tK(){const n=wn();return n.setupContext||(n.setupContext=SK(n))}function Jb(n){return St(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}function mle(n,e){const t=Jb(n);for(const r in e){if(r.startsWith("__skip"))continue;let i=t[r];i?St(i)||Kt(i)?i=t[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=t[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return t}function vle(n,e){return!n||!e?n||e:St(n)&&St(e)?n.concat(e):Li({},Jb(n),Jb(e))}function gle(n,e){const t={};for(const r in n)e.includes(r)||Object.defineProperty(t,r,{enumerable:!0,get:()=>n[r]});return t}function yle(n){const e=wn();let t=n();return Yf(),vg(t)&&(t=t.catch(r=>{throw uh(e),r})),[t,()=>uh(e)]}let pR=!0;function ble(n){const e=UD(n),t=n.proxy,r=n.ctx;pR=!1,e.beforeCreate&&CB(e.beforeCreate,n,"bc");const{data:i,computed:a,methods:s,watch:o,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:g,beforeDestroy:v,beforeUnmount:y,destroyed:b,unmounted:_,render:w,renderTracked:x,renderTriggered:M,errorCaptured:C,serverPrefetch:T,expose:A,inheritAttrs:I,components:L,directives:k,filters:N}=e;if(c&&_le(c,r,null),s)for(const H in s){const z=s[H];Kt(z)&&(r[H]=z.bind(t))}if(i){const H=i.call(t,t);Pn(H)&&(n.data=pr(H))}if(pR=!0,a)for(const H in a){const z=a[H],B=Kt(z)?z.bind(t,t):Kt(z.get)?z.get.bind(t,t):xr,W=!Kt(z)&&Kt(z.set)?z.set.bind(t):xr,Z=U({get:B,set:W});Object.defineProperty(r,H,{enumerable:!0,configurable:!0,get:()=>Z.value,set:ee=>Z.value=ee})}if(o)for(const H in o)nK(o[H],r,t,H);if(l){const H=Kt(l)?l.call(t):l;Reflect.ownKeys(H).forEach(z=>{Vn(z,H[z])})}u&&CB(u,n,"c");function D(H,z){St(z)?z.forEach(B=>H(B.bind(t))):z&&H(z.bind(t))}if(D(vS,d),D(dn,f),D(kT,h),D(Io,p),D(LT,m),D(BD,g),D(Zq,C),D(jq,x),D(Xq,M),D(vr,y),D(Ec,_),D(Yq,T),St(A))if(A.length){const H=n.exposed||(n.exposed={});A.forEach(z=>{Object.defineProperty(H,z,{get:()=>t[z],set:B=>t[z]=B})})}else n.exposed||(n.exposed={});w&&n.render===xr&&(n.render=w),I!=null&&(n.inheritAttrs=I),L&&(n.components=L),k&&(n.directives=k)}function _le(n,e,t=xr){St(n)&&(n=mR(n));for(const r in n){const i=n[r];let a;Pn(i)?"default"in i?a=Nt(i.from||r,i.default,!0):a=Nt(i.from||r):a=Nt(i),Ur(a)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):e[r]=a}}function CB(n,e,t){jo(St(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function nK(n,e,t,r){const i=r.includes(".")?Gq(t,r):()=>t[r];if(qt(n)){const a=e[n];Kt(a)&&dt(i,a)}else if(Kt(n))dt(i,n.bind(t));else if(Pn(n))if(St(n))n.forEach(a=>nK(a,e,t,r));else{const a=Kt(n.handler)?n.handler.bind(t):e[n.handler];Kt(a)&&dt(i,a,n)}}function UD(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=n.appContext,o=a.get(e);let l;return o?l=o:!i.length&&!t&&!r?l=e:(l={},i.length&&i.forEach(c=>VC(l,c,s,!0)),VC(l,e,s)),Pn(e)&&a.set(e,l),l}function VC(n,e,t,r=!1){const{mixins:i,extends:a}=e;a&&VC(n,a,t,!0),i&&i.forEach(s=>VC(n,s,t,!0));for(const s in e)if(!(r&&s==="expose")){const o=Sle[s]||t&&t[s];n[s]=o?o(n[s],e[s]):e[s]}return n}const Sle={data:MB,props:TB,emits:TB,methods:W1,computed:W1,beforeCreate:Hs,created:Hs,beforeMount:Hs,mounted:Hs,beforeUpdate:Hs,updated:Hs,beforeDestroy:Hs,beforeUnmount:Hs,destroyed:Hs,unmounted:Hs,activated:Hs,deactivated:Hs,errorCaptured:Hs,serverPrefetch:Hs,components:W1,directives:W1,watch:xle,provide:MB,inject:wle};function MB(n,e){return e?n?function(){return Li(Kt(n)?n.call(this,this):n,Kt(e)?e.call(this,this):e)}:e:n}function wle(n,e){return W1(mR(n),mR(e))}function mR(n){if(St(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Hs(n,e){return n?[...new Set([].concat(n,e))]:e}function W1(n,e){return n?Li(Object.create(null),n,e):e}function TB(n,e){return n?St(n)&&St(e)?[...new Set([...n,...e])]:Li(Object.create(null),Jb(n),Jb(e??{})):e}function xle(n,e){if(!n)return e;if(!e)return n;const t=Li(Object.create(null),n);for(const r in e)t[r]=Hs(n[r],e[r]);return t}function rK(){return{app:null,config:{isNativeTag:Lse,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Cle=0;function Mle(n,e){return function(r,i=null){Kt(r)||(r=Li({},r)),i!=null&&!Pn(i)&&(i=null);const a=rK(),s=new Set;let o=!1;const l=a.app={_uid:Cle++,_component:r,_props:i,_container:null,_context:a,_instance:null,version:MK,get config(){return a.config},set config(c){},use(c,...u){return s.has(c)||(c&&Kt(c.install)?(s.add(c),c.install(l,...u)):Kt(c)&&(s.add(c),c(l,...u))),l},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),l},component(c,u){return u?(a.components[c]=u,l):a.components[c]},directive(c,u){return u?(a.directives[c]=u,l):a.directives[c]},mount(c,u,d){if(!o){const f=pe(r,i);return f.appContext=a,u&&e?e(f,c):n(f,c,d),o=!0,l._container=c,c.__vue_app__=l,NT(f.component)||f.component.proxy}},unmount(){o&&(n(null,l._container),delete l._container.__vue_app__)},provide(c,u){return a.provides[c]=u,l},runWithContext(c){e_=l;try{return c()}finally{e_=null}}};return l}}let e_=null;function Vn(n,e){if(_a){let t=_a.provides;const r=_a.parent&&_a.parent.provides;r===t&&(t=_a.provides=Object.create(r)),t[n]=e}}function Nt(n,e,t=!1){const r=_a||Wa;if(r||e_){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:e_._context.provides;if(i&&n in i)return i[n];if(arguments.length>1)return t&&Kt(e)?e.call(r&&r.proxy):e}}function Tle(){return!!(_a||Wa||e_)}function Ale(n,e,t,r=!1){const i={},a={};BC(a,OT,1),n.propsDefaults=Object.create(null),iK(n,e,i,a);for(const s in n.propsOptions[0])s in i||(i[s]=void 0);t?n.props=r?i:TD(i):n.type.props?n.props=i:n.props=a,n.attrs=a}function Ele(n,e,t,r){const{props:i,attrs:a,vnode:{patchFlag:s}}=n,o=Er(i),[l]=n.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=n.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(IT(n.emitsOptions,f))continue;const h=e[f];if(l)if(ar(a,f))h!==a[f]&&(a[f]=h,c=!0);else{const p=ls(f);i[p]=vR(l,o,p,h,n,!1)}else h!==a[f]&&(a[f]=h,c=!0)}}}else{iK(n,e,i,a)&&(c=!0);let u;for(const d in o)(!e||!ar(e,d)&&((u=Go(d))===d||!ar(e,u)))&&(l?t&&(t[d]!==void 0||t[u]!==void 0)&&(i[d]=vR(l,o,d,void 0,n,!0)):delete i[d]);if(a!==o)for(const d in a)(!e||!ar(e,d))&&(delete a[d],c=!0)}c&&Cd(n,"set","$attrs")}function iK(n,e,t,r){const[i,a]=n.propsOptions;let s=!1,o;if(e)for(let l in e){if(ib(l))continue;const c=e[l];let u;i&&ar(i,u=ls(l))?!a||!a.includes(u)?t[u]=c:(o||(o={}))[u]=c:IT(n.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,s=!0)}if(a){const l=Er(t),c=o||Si;for(let u=0;u<a.length;u++){const d=a[u];t[d]=vR(i,l,d,c[d],n,!ar(c,d))}}return s}function vR(n,e,t,r,i,a){const s=n[t];if(s!=null){const o=ar(s,"default");if(o&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Kt(l)){const{propsDefaults:c}=i;t in c?r=c[t]:(uh(i),r=c[t]=l.call(null,e),Yf())}else r=l}s[0]&&(a&&!o?r=!1:s[1]&&(r===""||r===Go(t))&&(r=!0))}return r}function aK(n,e,t=!1){const r=e.propsCache,i=r.get(n);if(i)return i;const a=n.props,s={},o=[];let l=!1;if(!Kt(n)){const u=d=>{l=!0;const[f,h]=aK(d,e,!0);Li(s,f),h&&o.push(...h)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!a&&!l)return Pn(n)&&r.set(n,qv),qv;if(St(a))for(let u=0;u<a.length;u++){const d=ls(a[u]);AB(d)&&(s[d]=Si)}else if(a)for(const u in a){const d=ls(u);if(AB(d)){const f=a[u],h=s[d]=St(f)||Kt(f)?{type:f}:Li({},f);if(h){const p=RB(Boolean,h.type),m=RB(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||ar(h,"default"))&&o.push(d)}}}const c=[s,o];return Pn(n)&&r.set(n,c),c}function AB(n){return n[0]!=="$"}function EB(n){const e=n&&n.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:n===null?"null":""}function IB(n,e){return EB(n)===EB(e)}function RB(n,e){return St(e)?e.findIndex(t=>IB(t,n)):Kt(e)&&IB(e,n)?0:-1}const sK=n=>n[0]==="_"||n==="$stable",HD=n=>St(n)?n.map($o):[$o(n)],Ile=(n,e,t)=>{if(e._n)return e;const r=Me((...i)=>HD(e(...i)),t);return r._c=!1,r},oK=(n,e,t)=>{const r=n._ctx;for(const i in n){if(sK(i))continue;const a=n[i];if(Kt(a))e[i]=Ile(i,a,r);else if(a!=null){const s=HD(a);e[i]=()=>s}}},lK=(n,e)=>{const t=HD(e);n.slots.default=()=>t},Rle=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=Er(e),BC(e,"_",t)):oK(e,n.slots={})}else n.slots={},e&&lK(n,e);BC(n.slots,OT,1)},Ple=(n,e,t)=>{const{vnode:r,slots:i}=n;let a=!0,s=Si;if(r.shapeFlag&32){const o=e._;o?t&&o===1?a=!1:(Li(i,e),!t&&o===1&&delete i._):(a=!e.$stable,oK(e,i)),s=e}else e&&(lK(n,e),s={default:1});if(a)for(const o in i)!sK(o)&&!(o in s)&&delete i[o]};function $C(n,e,t,r,i=!1){if(St(n)){n.forEach((f,h)=>$C(f,e&&(St(e)?e[h]:e),t,r,i));return}if(a0(r)&&!i)return;const a=r.shapeFlag&4?NT(r.component)||r.component.proxy:r.el,s=i?null:a,{i:o,r:l}=n,c=e&&e.r,u=o.refs===Si?o.refs={}:o.refs,d=o.setupState;if(c!=null&&c!==l&&(qt(c)?(u[c]=null,ar(d,c)&&(d[c]=null)):Ur(c)&&(c.value=null)),Kt(l))bd(l,o,12,[s,u]);else{const f=qt(l),h=Ur(l);if(f||h){const p=()=>{if(n.f){const m=f?ar(d,l)?d[l]:u[l]:l.value;i?St(m)&&yD(m,a):St(m)?m.includes(a)||m.push(a):f?(u[l]=[a],ar(d,l)&&(d[l]=u[l])):(l.value=[a],n.k&&(u[n.k]=l.value))}else f?(u[l]=s,ar(d,l)&&(d[l]=s)):h&&(l.value=s,n.k&&(u[n.k]=s))};s?(p.id=-1,ts(p,t)):p()}}}let tf=!1;const fw=n=>/svg/.test(n.namespaceURI)&&n.tagName!=="foreignObject",hw=n=>n.nodeType===8;function Lle(n){const{mt:e,p:t,o:{patchProp:r,createText:i,nextSibling:a,parentNode:s,remove:o,insert:l,createComment:c}}=n,u=(v,y)=>{if(!y.hasChildNodes()){t(null,v,y),HC(),y._vnode=v;return}tf=!1,d(y.firstChild,v,null,null,null),HC(),y._vnode=v,tf&&console.error("Hydration completed but contains mismatches.")},d=(v,y,b,_,w,x=!1)=>{const M=hw(v)&&v.data==="[",C=()=>m(v,y,b,_,w,M),{type:T,ref:A,shapeFlag:I,patchFlag:L}=y;let k=v.nodeType;y.el=v,L===-2&&(x=!1,y.dynamicChildren=null);let N=null;switch(T){case hu:k!==3?y.children===""?(l(y.el=i(""),s(v),v),N=v):N=C():(v.data!==y.children&&(tf=!0,v.data=y.children),N=a(v));break;case xa:k!==8||M?N=C():N=a(v);break;case s0:if(M&&(v=a(v),k=v.nodeType),k===1||k===3){N=v;const F=!y.children.length;for(let D=0;D<y.staticCount;D++)F&&(y.children+=N.nodeType===1?N.outerHTML:N.data),D===y.staticCount-1&&(y.anchor=N),N=a(N);return M?a(N):N}else C();break;case Bt:M?N=p(v,y,b,_,w,x):N=C();break;default:if(I&1)k!==1||y.type.toLowerCase()!==v.tagName.toLowerCase()?N=C():N=f(v,y,b,_,w,x);else if(I&6){y.slotScopeIds=w;const F=s(v);if(e(y,F,null,b,_,fw(F),x),N=M?g(v):a(v),N&&hw(N)&&N.data==="teleport end"&&(N=a(N)),a0(y)){let D;M?(D=pe(Bt),D.anchor=N?N.previousSibling:F.lastChild):D=v.nodeType===3?un(""):pe("div"),D.el=v,y.component.subTree=D}}else I&64?k!==8?N=C():N=y.type.hydrate(v,y,b,_,w,x,n,h):I&128&&(N=y.type.hydrate(v,y,b,_,fw(s(v)),w,x,n,d))}return A!=null&&$C(A,null,_,y),N},f=(v,y,b,_,w,x)=>{x=x||!!y.dynamicChildren;const{type:M,props:C,patchFlag:T,shapeFlag:A,dirs:I}=y,L=M==="input"&&I||M==="option";if(L||T!==-1){if(I&&qc(y,null,b,"created"),C)if(L||!x||T&48)for(const N in C)(L&&N.endsWith("value")||fS(N)&&!ib(N))&&r(v,N,null,C[N],!1,void 0,b);else C.onClick&&r(v,"onClick",null,C.onClick,!1,void 0,b);let k;if((k=C&&C.onVnodeBeforeMount)&&uo(k,b,y),I&&qc(y,null,b,"beforeMount"),((k=C&&C.onVnodeMounted)||I)&&Vq(()=>{k&&uo(k,b,y),I&&qc(y,null,b,"mounted")},_),A&16&&!(C&&(C.innerHTML||C.textContent))){let N=h(v.firstChild,y,v,b,_,w,x);for(;N;){tf=!0;const F=N;N=N.nextSibling,o(F)}}else A&8&&v.textContent!==y.children&&(tf=!0,v.textContent=y.children)}return v.nextSibling},h=(v,y,b,_,w,x,M)=>{M=M||!!y.dynamicChildren;const C=y.children,T=C.length;for(let A=0;A<T;A++){const I=M?C[A]:C[A]=$o(C[A]);if(v)v=d(v,I,_,w,x,M);else{if(I.type===hu&&!I.children)continue;tf=!0,t(null,I,b,null,_,w,fw(b),x)}}return v},p=(v,y,b,_,w,x)=>{const{slotScopeIds:M}=y;M&&(w=w?w.concat(M):M);const C=s(v),T=h(a(v),y,C,b,_,w,x);return T&&hw(T)&&T.data==="]"?a(y.anchor=T):(tf=!0,l(y.anchor=c("]"),C,T),T)},m=(v,y,b,_,w,x)=>{if(tf=!0,y.el=null,x){const T=g(v);for(;;){const A=a(v);if(A&&A!==T)o(A);else break}}const M=a(v),C=s(v);return o(v),t(null,y,C,M,b,_,fw(C),w),M},g=v=>{let y=0;for(;v;)if(v=a(v),v&&hw(v)&&(v.data==="["&&y++,v.data==="]")){if(y===0)return a(v);y--}return v};return[u,d]}const ts=Vq;function cK(n){return dK(n)}function uK(n){return dK(n,Lle)}function dK(n,e){const t=oR();t.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:s,createText:o,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=xr,insertStaticContent:p}=n,m=(K,ue,ie,$e=null,Ne=null,Ye=null,ce=!1,he=null,ke=!!ue.dynamicChildren)=>{if(K===ue)return;K&&!pc(K,ue)&&($e=me(K),ee(K,Ne,Ye,!0),K=null),ue.patchFlag===-2&&(ke=!1,ue.dynamicChildren=null);const{type:oe,ref:V,shapeFlag:Y}=ue;switch(oe){case hu:g(K,ue,ie,$e);break;case xa:v(K,ue,ie,$e);break;case s0:K==null&&y(ue,ie,$e,ce);break;case Bt:L(K,ue,ie,$e,Ne,Ye,ce,he,ke);break;default:Y&1?w(K,ue,ie,$e,Ne,Ye,ce,he,ke):Y&6?k(K,ue,ie,$e,Ne,Ye,ce,he,ke):(Y&64||Y&128)&&oe.process(K,ue,ie,$e,Ne,Ye,ce,he,ke,De)}V!=null&&Ne&&$C(V,K&&K.ref,Ye,ue||K,!ue)},g=(K,ue,ie,$e)=>{if(K==null)r(ue.el=o(ue.children),ie,$e);else{const Ne=ue.el=K.el;ue.children!==K.children&&c(Ne,ue.children)}},v=(K,ue,ie,$e)=>{K==null?r(ue.el=l(ue.children||""),ie,$e):ue.el=K.el},y=(K,ue,ie,$e)=>{[K.el,K.anchor]=p(K.children,ue,ie,$e,K.el,K.anchor)},b=({el:K,anchor:ue},ie,$e)=>{let Ne;for(;K&&K!==ue;)Ne=f(K),r(K,ie,$e),K=Ne;r(ue,ie,$e)},_=({el:K,anchor:ue})=>{let ie;for(;K&&K!==ue;)ie=f(K),i(K),K=ie;i(ue)},w=(K,ue,ie,$e,Ne,Ye,ce,he,ke)=>{ce=ce||ue.type==="svg",K==null?x(ue,ie,$e,Ne,Ye,ce,he,ke):T(K,ue,Ne,Ye,ce,he,ke)},x=(K,ue,ie,$e,Ne,Ye,ce,he)=>{let ke,oe;const{type:V,props:Y,shapeFlag:Q,transition:we,dirs:Ue}=K;if(ke=K.el=s(K.type,Ye,Y&&Y.is,Y),Q&8?u(ke,K.children):Q&16&&C(K.children,ke,null,$e,Ne,Ye&&V!=="foreignObject",ce,he),Ue&&qc(K,null,$e,"created"),M(ke,K,K.scopeId,ce,$e),Y){for(const pt in Y)pt!=="value"&&!ib(pt)&&a(ke,pt,null,Y[pt],Ye,K.children,$e,Ne,de);"value"in Y&&a(ke,"value",null,Y.value),(oe=Y.onVnodeBeforeMount)&&uo(oe,$e,K)}Ue&&qc(K,null,$e,"beforeMount");const ct=(!Ne||Ne&&!Ne.pendingBranch)&&we&&!we.persisted;ct&&we.beforeEnter(ke),r(ke,ue,ie),((oe=Y&&Y.onVnodeMounted)||ct||Ue)&&ts(()=>{oe&&uo(oe,$e,K),ct&&we.enter(ke),Ue&&qc(K,null,$e,"mounted")},Ne)},M=(K,ue,ie,$e,Ne)=>{if(ie&&h(K,ie),$e)for(let Ye=0;Ye<$e.length;Ye++)h(K,$e[Ye]);if(Ne){let Ye=Ne.subTree;if(ue===Ye){const ce=Ne.vnode;M(K,ce,ce.scopeId,ce.slotScopeIds,Ne.parent)}}},C=(K,ue,ie,$e,Ne,Ye,ce,he,ke=0)=>{for(let oe=ke;oe<K.length;oe++){const V=K[oe]=he?Of(K[oe]):$o(K[oe]);m(null,V,ue,ie,$e,Ne,Ye,ce,he)}},T=(K,ue,ie,$e,Ne,Ye,ce)=>{const he=ue.el=K.el;let{patchFlag:ke,dynamicChildren:oe,dirs:V}=ue;ke|=K.patchFlag&16;const Y=K.props||Si,Q=ue.props||Si;let we;ie&&$h(ie,!1),(we=Q.onVnodeBeforeUpdate)&&uo(we,ie,ue,K),V&&qc(ue,K,ie,"beforeUpdate"),ie&&$h(ie,!0);const Ue=Ne&&ue.type!=="foreignObject";if(oe?A(K.dynamicChildren,oe,he,ie,$e,Ue,Ye):ce||z(K,ue,he,null,ie,$e,Ue,Ye,!1),ke>0){if(ke&16)I(he,ue,Y,Q,ie,$e,Ne);else if(ke&2&&Y.class!==Q.class&&a(he,"class",null,Q.class,Ne),ke&4&&a(he,"style",Y.style,Q.style,Ne),ke&8){const ct=ue.dynamicProps;for(let pt=0;pt<ct.length;pt++){const Ee=ct[pt],ft=Y[Ee],st=Q[Ee];(st!==ft||Ee==="value")&&a(he,Ee,ft,st,Ne,K.children,ie,$e,de)}}ke&1&&K.children!==ue.children&&u(he,ue.children)}else!ce&&oe==null&&I(he,ue,Y,Q,ie,$e,Ne);((we=Q.onVnodeUpdated)||V)&&ts(()=>{we&&uo(we,ie,ue,K),V&&qc(ue,K,ie,"updated")},$e)},A=(K,ue,ie,$e,Ne,Ye,ce)=>{for(let he=0;he<ue.length;he++){const ke=K[he],oe=ue[he],V=ke.el&&(ke.type===Bt||!pc(ke,oe)||ke.shapeFlag&70)?d(ke.el):ie;m(ke,oe,V,null,$e,Ne,Ye,ce,!0)}},I=(K,ue,ie,$e,Ne,Ye,ce)=>{if(ie!==$e){if(ie!==Si)for(const he in ie)!ib(he)&&!(he in $e)&&a(K,he,ie[he],null,ce,ue.children,Ne,Ye,de);for(const he in $e){if(ib(he))continue;const ke=$e[he],oe=ie[he];ke!==oe&&he!=="value"&&a(K,he,oe,ke,ce,ue.children,Ne,Ye,de)}"value"in $e&&a(K,"value",ie.value,$e.value)}},L=(K,ue,ie,$e,Ne,Ye,ce,he,ke)=>{const oe=ue.el=K?K.el:o(""),V=ue.anchor=K?K.anchor:o("");let{patchFlag:Y,dynamicChildren:Q,slotScopeIds:we}=ue;we&&(he=he?he.concat(we):we),K==null?(r(oe,ie,$e),r(V,ie,$e),C(ue.children,ie,V,Ne,Ye,ce,he,ke)):Y>0&&Y&64&&Q&&K.dynamicChildren?(A(K.dynamicChildren,Q,ie,Ne,Ye,ce,he),(ue.key!=null||Ne&&ue===Ne.subTree)&&VD(K,ue,!0)):z(K,ue,ie,V,Ne,Ye,ce,he,ke)},k=(K,ue,ie,$e,Ne,Ye,ce,he,ke)=>{ue.slotScopeIds=he,K==null?ue.shapeFlag&512?Ne.ctx.activate(ue,ie,$e,ce,ke):N(ue,ie,$e,Ne,Ye,ce,ke):F(K,ue,ke)},N=(K,ue,ie,$e,Ne,Ye,ce)=>{const he=K.component=gK(K,$e,Ne);if(mS(K)&&(he.ctx.renderer=De),bK(he),he.asyncDep){if(Ne&&Ne.registerDep(he,D),!K.el){const ke=he.subTree=pe(xa);v(null,ke,ue,ie)}return}D(he,K,ue,ie,Ne,Ye,ce)},F=(K,ue,ie)=>{const $e=ue.component=K.component;if(Goe(K,ue,ie))if($e.asyncDep&&!$e.asyncResolved){H($e,ue,ie);return}else $e.next=ue,Boe($e.update),$e.update();else ue.el=K.el,$e.vnode=ue},D=(K,ue,ie,$e,Ne,Ye,ce)=>{const he=()=>{if(K.isMounted){let{next:V,bu:Y,u:Q,parent:we,vnode:Ue}=K,ct=V,pt;$h(K,!1),V?(V.el=Ue.el,H(K,V,ce)):V=Ue,Y&&Xv(Y),(pt=V.props&&V.props.onVnodeBeforeUpdate)&&uo(pt,we,V,Ue),$h(K,!0);const Ee=B2(K),ft=K.subTree;K.subTree=Ee,m(ft,Ee,d(ft.el),me(ft),K,Ne,Ye),V.el=Ee.el,ct===null&&DD(K,Ee.el),Q&&ts(Q,Ne),(pt=V.props&&V.props.onVnodeUpdated)&&ts(()=>uo(pt,we,V,Ue),Ne)}else{let V;const{el:Y,props:Q}=ue,{bm:we,m:Ue,parent:ct}=K,pt=a0(ue);if($h(K,!1),we&&Xv(we),!pt&&(V=Q&&Q.onVnodeBeforeMount)&&uo(V,ct,ue),$h(K,!0),Y&&We){const Ee=()=>{K.subTree=B2(K),We(Y,K.subTree,K,Ne,null)};pt?ue.type.__asyncLoader().then(()=>!K.isUnmounted&&Ee()):Ee()}else{const Ee=K.subTree=B2(K);m(null,Ee,ie,$e,K,Ne,Ye),ue.el=Ee.el}if(Ue&&ts(Ue,Ne),!pt&&(V=Q&&Q.onVnodeMounted)){const Ee=ue;ts(()=>uo(V,ct,Ee),Ne)}(ue.shapeFlag&256||ct&&a0(ct.vnode)&&ct.vnode.shapeFlag&256)&&K.a&&ts(K.a,Ne),K.isMounted=!0,ue=ie=$e=null}},ke=K.effect=new hS(he,()=>ET(oe),K.scope),oe=K.update=()=>ke.run();oe.id=K.uid,$h(K,!0),oe()},H=(K,ue,ie)=>{ue.component=K;const $e=K.vnode.props;K.vnode=ue,K.next=null,Ele(K,ue.props,$e,ie),Ple(K,ue.children,ie),cy(),bB(),uy()},z=(K,ue,ie,$e,Ne,Ye,ce,he,ke=!1)=>{const oe=K&&K.children,V=K?K.shapeFlag:0,Y=ue.children,{patchFlag:Q,shapeFlag:we}=ue;if(Q>0){if(Q&128){W(oe,Y,ie,$e,Ne,Ye,ce,he,ke);return}else if(Q&256){B(oe,Y,ie,$e,Ne,Ye,ce,he,ke);return}}we&8?(V&16&&de(oe,Ne,Ye),Y!==oe&&u(ie,Y)):V&16?we&16?W(oe,Y,ie,$e,Ne,Ye,ce,he,ke):de(oe,Ne,Ye,!0):(V&8&&u(ie,""),we&16&&C(Y,ie,$e,Ne,Ye,ce,he,ke))},B=(K,ue,ie,$e,Ne,Ye,ce,he,ke)=>{K=K||qv,ue=ue||qv;const oe=K.length,V=ue.length,Y=Math.min(oe,V);let Q;for(Q=0;Q<Y;Q++){const we=ue[Q]=ke?Of(ue[Q]):$o(ue[Q]);m(K[Q],we,ie,null,Ne,Ye,ce,he,ke)}oe>V?de(K,Ne,Ye,!0,!1,Y):C(ue,ie,$e,Ne,Ye,ce,he,ke,Y)},W=(K,ue,ie,$e,Ne,Ye,ce,he,ke)=>{let oe=0;const V=ue.length;let Y=K.length-1,Q=V-1;for(;oe<=Y&&oe<=Q;){const we=K[oe],Ue=ue[oe]=ke?Of(ue[oe]):$o(ue[oe]);if(pc(we,Ue))m(we,Ue,ie,null,Ne,Ye,ce,he,ke);else break;oe++}for(;oe<=Y&&oe<=Q;){const we=K[Y],Ue=ue[Q]=ke?Of(ue[Q]):$o(ue[Q]);if(pc(we,Ue))m(we,Ue,ie,null,Ne,Ye,ce,he,ke);else break;Y--,Q--}if(oe>Y){if(oe<=Q){const we=Q+1,Ue=we<V?ue[we].el:$e;for(;oe<=Q;)m(null,ue[oe]=ke?Of(ue[oe]):$o(ue[oe]),ie,Ue,Ne,Ye,ce,he,ke),oe++}}else if(oe>Q)for(;oe<=Y;)ee(K[oe],Ne,Ye,!0),oe++;else{const we=oe,Ue=oe,ct=new Map;for(oe=Ue;oe<=Q;oe++){const Le=ue[oe]=ke?Of(ue[oe]):$o(ue[oe]);Le.key!=null&&ct.set(Le.key,oe)}let pt,Ee=0;const ft=Q-Ue+1;let st=!1,G=0;const ye=new Array(ft);for(oe=0;oe<ft;oe++)ye[oe]=0;for(oe=we;oe<=Y;oe++){const Le=K[oe];if(Ee>=ft){ee(Le,Ne,Ye,!0);continue}let be;if(Le.key!=null)be=ct.get(Le.key);else for(pt=Ue;pt<=Q;pt++)if(ye[pt-Ue]===0&&pc(Le,ue[pt])){be=pt;break}be===void 0?ee(Le,Ne,Ye,!0):(ye[be-Ue]=oe+1,be>=G?G=be:st=!0,m(Le,ue[be],ie,null,Ne,Ye,ce,he,ke),Ee++)}const ve=st?Dle(ye):qv;for(pt=ve.length-1,oe=ft-1;oe>=0;oe--){const Le=Ue+oe,be=ue[Le],Te=Le+1<V?ue[Le+1].el:$e;ye[oe]===0?m(null,be,ie,Te,Ne,Ye,ce,he,ke):st&&(pt<0||oe!==ve[pt]?Z(be,ie,Te,2):pt--)}}},Z=(K,ue,ie,$e,Ne=null)=>{const{el:Ye,type:ce,transition:he,children:ke,shapeFlag:oe}=K;if(oe&6){Z(K.component.subTree,ue,ie,$e);return}if(oe&128){K.suspense.move(ue,ie,$e);return}if(oe&64){ce.move(K,ue,ie,De);return}if(ce===Bt){r(Ye,ue,ie);for(let Y=0;Y<ke.length;Y++)Z(ke[Y],ue,ie,$e);r(K.anchor,ue,ie);return}if(ce===s0){b(K,ue,ie);return}if($e!==2&&oe&1&&he)if($e===0)he.beforeEnter(Ye),r(Ye,ue,ie),ts(()=>he.enter(Ye),Ne);else{const{leave:Y,delayLeave:Q,afterLeave:we}=he,Ue=()=>r(Ye,ue,ie),ct=()=>{Y(Ye,()=>{Ue(),we&&we()})};Q?Q(Ye,Ue,ct):ct()}else r(Ye,ue,ie)},ee=(K,ue,ie,$e=!1,Ne=!1)=>{const{type:Ye,props:ce,ref:he,children:ke,dynamicChildren:oe,shapeFlag:V,patchFlag:Y,dirs:Q}=K;if(he!=null&&$C(he,null,ie,K,!0),V&256){ue.ctx.deactivate(K);return}const we=V&1&&Q,Ue=!a0(K);let ct;if(Ue&&(ct=ce&&ce.onVnodeBeforeUnmount)&&uo(ct,ue,K),V&6)fe(K.component,ie,$e);else{if(V&128){K.suspense.unmount(ie,$e);return}we&&qc(K,null,ue,"beforeUnmount"),V&64?K.type.remove(K,ue,ie,Ne,De,$e):oe&&(Ye!==Bt||Y>0&&Y&64)?de(oe,ue,ie,!1,!0):(Ye===Bt&&Y&384||!Ne&&V&16)&&de(ke,ue,ie),$e&&J(K)}(Ue&&(ct=ce&&ce.onVnodeUnmounted)||we)&&ts(()=>{ct&&uo(ct,ue,K),we&&qc(K,null,ue,"unmounted")},ie)},J=K=>{const{type:ue,el:ie,anchor:$e,transition:Ne}=K;if(ue===Bt){re(ie,$e);return}if(ue===s0){_(K);return}const Ye=()=>{i(ie),Ne&&!Ne.persisted&&Ne.afterLeave&&Ne.afterLeave()};if(K.shapeFlag&1&&Ne&&!Ne.persisted){const{leave:ce,delayLeave:he}=Ne,ke=()=>ce(ie,Ye);he?he(K.el,Ye,ke):ke()}else Ye()},re=(K,ue)=>{let ie;for(;K!==ue;)ie=f(K),i(K),K=ie;i(ue)},fe=(K,ue,ie)=>{const{bum:$e,scope:Ne,update:Ye,subTree:ce,um:he}=K;$e&&Xv($e),Ne.stop(),Ye&&(Ye.active=!1,ee(ce,K,ue,ie)),he&&ts(he,ue),ts(()=>{K.isUnmounted=!0},ue),ue&&ue.pendingBranch&&!ue.isUnmounted&&K.asyncDep&&!K.asyncResolved&&K.suspenseId===ue.pendingId&&(ue.deps--,ue.deps===0&&ue.resolve())},de=(K,ue,ie,$e=!1,Ne=!1,Ye=0)=>{for(let ce=Ye;ce<K.length;ce++)ee(K[ce],ue,ie,$e,Ne)},me=K=>K.shapeFlag&6?me(K.component.subTree):K.shapeFlag&128?K.suspense.next():f(K.anchor||K.el),Re=(K,ue,ie)=>{K==null?ue._vnode&&ee(ue._vnode,null,null,!0):m(ue._vnode||null,K,ue,null,null,null,ie),bB(),HC(),ue._vnode=K},De={p:m,um:ee,m:Z,r:J,mt:N,mc:C,pc:z,pbc:A,n:me,o:n};let Ge,We;return e&&([Ge,We]=e(De)),{render:Re,hydrate:Ge,createApp:Mle(Re,Ge)}}function $h({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function VD(n,e,t=!1){const r=n.children,i=e.children;if(St(r)&&St(i))for(let a=0;a<r.length;a++){const s=r[a];let o=i[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[a]=Of(i[a]),o.el=s.el),t||VD(s,o)),o.type===hu&&(o.el=s.el)}}function Dle(n){const e=n.slice(),t=[0];let r,i,a,s,o;const l=n.length;for(r=0;r<l;r++){const c=n[r];if(c!==0){if(i=t[t.length-1],n[i]<c){e[r]=i,t.push(r);continue}for(a=0,s=t.length-1;a<s;)o=a+s>>1,n[t[o]]<c?a=o+1:s=o;c<n[t[a]]&&(a>0&&(e[r]=t[a-1]),t[a]=r)}}for(a=t.length,s=t[a-1];a-- >0;)t[a]=s,s=e[s];return t}const kle=n=>n.__isTeleport,sb=n=>n&&(n.disabled||n.disabled===""),PB=n=>typeof SVGElement<"u"&&n instanceof SVGElement,gR=(n,e)=>{const t=n&&n.to;return qt(t)?e?e(t):null:t},Ole={__isTeleport:!0,process(n,e,t,r,i,a,s,o,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:g}}=c,v=sb(e.props);let{shapeFlag:y,children:b,dynamicChildren:_}=e;if(n==null){const w=e.el=m(""),x=e.anchor=m("");h(w,t,r),h(x,t,r);const M=e.target=gR(e.props,p),C=e.targetAnchor=m("");M&&(h(C,M),s=s||PB(M));const T=(A,I)=>{y&16&&u(b,A,I,i,a,s,o,l)};v?T(t,x):M&&T(M,C)}else{e.el=n.el;const w=e.anchor=n.anchor,x=e.target=n.target,M=e.targetAnchor=n.targetAnchor,C=sb(n.props),T=C?t:x,A=C?w:M;if(s=s||PB(x),_?(f(n.dynamicChildren,_,T,i,a,s,o),VD(n,e,!0)):l||d(n,e,T,A,i,a,s,o,!1),v)C||pw(e,t,w,c,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const I=e.target=gR(e.props,p);I&&pw(e,I,null,c,0)}else C&&pw(e,x,M,c,1)}hK(e)},remove(n,e,t,r,{um:i,o:{remove:a}},s){const{shapeFlag:o,children:l,anchor:c,targetAnchor:u,target:d,props:f}=n;if(d&&a(u),(s||!sb(f))&&(a(c),o&16))for(let h=0;h<l.length;h++){const p=l[h];i(p,e,t,!0,!!p.dynamicChildren)}},move:pw,hydrate:Nle};function pw(n,e,t,{o:{insert:r},m:i},a=2){a===0&&r(n.targetAnchor,e,t);const{el:s,anchor:o,shapeFlag:l,children:c,props:u}=n,d=a===2;if(d&&r(s,e,t),(!d||sb(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],e,t,2);d&&r(o,e,t)}function Nle(n,e,t,r,i,a,{o:{nextSibling:s,parentNode:o,querySelector:l}},c){const u=e.target=gR(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(sb(e.props))e.anchor=c(s(n),e,o(n),t,r,i,a),e.targetAnchor=d;else{e.anchor=s(n);let f=d;for(;f;)if(f=s(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&s(e.targetAnchor);break}c(d,e,u,t,r,i,a)}hK(e)}return e.anchor&&s(e.anchor)}const fK=Ole;function hK(n){const e=n.ctx;if(e&&e.ut){let t=n.children[0].el;for(;t!==n.targetAnchor;)t.nodeType===1&&t.setAttribute("data-v-owner",e.uid),t=t.nextSibling;e.ut()}}const Bt=Symbol.for("v-fgt"),hu=Symbol.for("v-txt"),xa=Symbol.for("v-cmt"),s0=Symbol.for("v-stc"),ob=[];let po=null;function $(n=!1){ob.push(po=n?null:[])}function pK(){ob.pop(),po=ob[ob.length-1]||null}let S0=1;function yR(n){S0+=n}function mK(n){return n.dynamicChildren=S0>0?po||qv:null,pK(),S0>0&&po&&po.push(n),n}function ge(n,e,t,r,i,a){return mK(_e(n,e,t,r,i,a,!0))}function rt(n,e,t,r,i){return mK(pe(n,e,t,r,i,!0))}function ti(n){return n?n.__v_isVNode===!0:!1}function pc(n,e){return n.type===e.type&&n.key===e.key}function Ble(n){}const OT="__vInternal",vK=({key:n})=>n??null,F2=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?qt(n)||Ur(n)||Kt(n)?{i:Wa,r:n,k:e,f:!!t}:n:null);function _e(n,e=null,t=null,r=0,i=null,a=n===Bt?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&vK(e),ref:e&&F2(e),scopeId:RT,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Wa};return o?($D(l,t),a&128&&n.normalize(l)):t&&(l.shapeFlag|=qt(t)?8:16),S0>0&&!s&&po&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&po.push(l),l}const pe=Fle;function Fle(n,e=null,t=null,r=0,i=null,a=!1){if((!n||n===Qq)&&(n=xa),ti(n)){const o=Mc(n,e,!0);return t&&$D(o,t),S0>0&&!a&&po&&(o.shapeFlag&6?po[po.indexOf(n)]=o:po.push(o)),o.patchFlag|=-2,o}if(qle(n)&&(n=n.__vccOpts),e){e=Md(e);let{class:o,style:l}=e;o&&!qt(o)&&(e.class=j(o)),Pn(l)&&(AD(l)&&!St(l)&&(l=Li({},l)),e.style=Ft(l))}const s=qt(n)?1:Hq(n)?128:kle(n)?64:Pn(n)?4:Kt(n)?2:0;return _e(n,e,t,r,i,s,a,!0)}function Md(n){return n?AD(n)||OT in n?Li({},n):n:null}function Mc(n,e,t=!1){const{props:r,ref:i,patchFlag:a,children:s}=n,o=e?Bn(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:o,key:o&&vK(o),ref:e&&e.ref?t&&i?St(i)?i.concat(F2(e)):[i,F2(e)]:F2(e):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:s,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Bt?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Mc(n.ssContent),ssFallback:n.ssFallback&&Mc(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function un(n=" ",e=0){return pe(hu,null,n,e)}function zle(n,e){const t=pe(s0,null,n);return t.staticCount=e,t}function Je(n="",e=!1){return e?($(),rt(xa,null,n)):pe(xa,null,n)}function $o(n){return n==null||typeof n=="boolean"?pe(xa):St(n)?pe(Bt,null,n.slice()):typeof n=="object"?Of(n):pe(hu,null,String(n))}function Of(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Mc(n)}function $D(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(St(e))t=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),$D(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!(OT in e)?e._ctx=Wa:i===3&&Wa&&(Wa.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Kt(e)?(e={default:e,_ctx:Wa},t=32):(e=String(e),r&64?(t=16,e=[un(e)]):t=8);n.children=e,n.shapeFlag|=t}function Bn(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=j([e.class,r.class]));else if(i==="style")e.style=Ft([e.style,r.style]);else if(fS(i)){const a=e[i],s=r[i];s&&a!==s&&!(St(a)&&a.includes(s))&&(e[i]=a?[].concat(a,s):s)}else i!==""&&(e[i]=r[i])}return e}function uo(n,e,t,r=null){jo(n,e,7,[t,r])}const Ule=rK();let Hle=0;function gK(n,e,t){const r=n.type,i=(e?e.appContext:n.appContext)||Ule,a={uid:Hle++,vnode:n,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new _D(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:aK(r,i),emitsOptions:Uq(r,i),emit:null,emitted:null,propsDefaults:Si,inheritAttrs:r.inheritAttrs,ctx:Si,data:Si,props:Si,attrs:Si,slots:Si,refs:Si,setupState:Si,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=zoe.bind(null,a),n.ce&&n.ce(a),a}let _a=null;const wn=()=>_a||Wa;let GD,cm,LB="__VUE_INSTANCE_SETTERS__";(cm=oR()[LB])||(cm=oR()[LB]=[]),cm.push(n=>_a=n),GD=n=>{cm.length>1?cm.forEach(e=>e(n)):cm[0](n)};const uh=n=>{GD(n),n.scope.on()},Yf=()=>{_a&&_a.scope.off(),GD(null)};function yK(n){return n.vnode.shapeFlag&4}let bg=!1;function bK(n,e=!1){bg=e;const{props:t,children:r}=n.vnode,i=yK(n);Ale(n,t,i,e),Rle(n,r);const a=i?Vle(n,e):void 0;return bg=!1,a}function Vle(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=ou(new Proxy(n.ctx,hR));const{setup:r}=t;if(r){const i=n.setupContext=r.length>1?SK(n):null;uh(n),cy();const a=bd(r,n,0,[n.props,i]);if(uy(),Yf(),vg(a)){if(a.then(Yf,Yf),e)return a.then(s=>{bR(n,s,e)}).catch(s=>{W0(s,n,0)});n.asyncDep=a}else bR(n,a,e)}else _K(n,e)}function bR(n,e,t){Kt(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Pn(e)&&(n.setupState=RD(e)),_K(n,t)}let GC,_R;function $le(n){GC=n,_R=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,sle))}}const Gle=()=>!GC;function _K(n,e,t){const r=n.type;if(!n.render){if(!e&&GC&&!r.render){const i=r.template||UD(n).template;if(i){const{isCustomElement:a,compilerOptions:s}=n.appContext.config,{delimiters:o,compilerOptions:l}=r,c=Li(Li({isCustomElement:a,delimiters:o},s),l);r.render=GC(i,c)}}n.render=r.render||xr,_R&&_R(n)}uh(n),cy(),ble(n),uy(),Yf()}function Wle(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(e,t){return Co(n,"get","$attrs"),e[t]}}))}function SK(n){const e=t=>{n.exposed=t||{}};return{get attrs(){return Wle(n)},slots:n.slots,emit:n.emit,expose:e}}function NT(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(RD(ou(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in ab)return ab[t](n)},has(e,t){return t in e||t in ab}}))}function SR(n,e=!0){return Kt(n)?n.displayName||n.name:n.name||e&&n.__name}function qle(n){return Kt(n)&&"__vccOpts"in n}const U=(n,e)=>Doe(n,e,bg);function $t(n,e,t){const r=arguments.length;return r===2?Pn(e)&&!St(e)?ti(e)?pe(n,null,[e]):pe(n,e):pe(n,null,e):(r>3?t=Array.prototype.slice.call(arguments,2):r===3&&ti(t)&&(t=[t]),pe(n,e,t))}const wK=Symbol.for("v-scx"),xK=()=>Nt(wK);function Kle(){}function Yle(n,e,t,r){const i=t[r];if(i&&CK(i,n))return i;const a=e();return a.memo=n.slice(),t[r]=a}function CK(n,e){const t=n.memo;if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(gg(t[r],e[r]))return!1;return S0>0&&po&&po.push(n),!0}const MK="3.3.4",Xle={createComponentInstance:gK,setupComponent:bK,renderComponentRoot:B2,setCurrentRenderingInstance:Zb,isVNode:ti,normalizeVNode:$o},jle=Xle,Zle=null,Qle=null,Jle="http://www.w3.org/2000/svg",Rp=typeof document<"u"?document:null,DB=Rp&&Rp.createElement("template"),ece={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const i=e?Rp.createElementNS(Jle,n):Rp.createElement(n,t?{is:t}:void 0);return n==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:n=>Rp.createTextNode(n),createComment:n=>Rp.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Rp.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,r,i,a){const s=t?t.previousSibling:e.lastChild;if(i&&(i===a||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===a||!(i=i.nextSibling)););else{DB.innerHTML=r?`<svg>${n}</svg>`:n;const o=DB.content;if(r){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function tce(n,e,t){const r=n._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function nce(n,e,t){const r=n.style,i=qt(t);if(t&&!i){if(e&&!qt(e))for(const a in e)t[a]==null&&wR(r,a,"");for(const a in t)wR(r,a,t[a])}else{const a=r.display;i?e!==t&&(r.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(r.display=a)}}const kB=/\s*!important$/;function wR(n,e,t){if(St(t))t.forEach(r=>wR(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=rce(n,e);kB.test(t)?n.setProperty(Go(r),t.replace(kB,""),"important"):n[r]=t}}const OB=["Webkit","Moz","ms"],PE={};function rce(n,e){const t=PE[e];if(t)return t;let r=ls(e);if(r!=="filter"&&r in n)return PE[e]=r;r=ly(r);for(let i=0;i<OB.length;i++){const a=OB[i]+r;if(a in n)return PE[e]=a}return e}const NB="http://www.w3.org/1999/xlink";function ice(n,e,t,r,i){if(r&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(NB,e.slice(6,e.length)):n.setAttributeNS(NB,e,t);else{const a=qse(e);t==null||a&&!gq(t)?n.removeAttribute(e):n.setAttribute(e,a?"":t)}}function ace(n,e,t,r,i,a,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,a),n[e]=t??"";return}const o=n.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){n._value=t;const c=o==="OPTION"?n.getAttribute("value"):n.value,u=t??"";c!==u&&(n.value=u),t==null&&n.removeAttribute(e);return}let l=!1;if(t===""||t==null){const c=typeof n[e];c==="boolean"?t=gq(t):t==null&&c==="string"?(t="",l=!0):c==="number"&&(t=0,l=!0)}try{n[e]=t}catch{}l&&n.removeAttribute(e)}function cd(n,e,t,r){n.addEventListener(e,t,r)}function sce(n,e,t,r){n.removeEventListener(e,t,r)}function oce(n,e,t,r,i=null){const a=n._vei||(n._vei={}),s=a[e];if(r&&s)s.value=r;else{const[o,l]=lce(e);if(r){const c=a[e]=dce(r,i);cd(n,o,c,l)}else s&&(sce(n,o,s,l),a[e]=void 0)}}const BB=/(?:Once|Passive|Capture)$/;function lce(n){let e;if(BB.test(n)){e={};let r;for(;r=n.match(BB);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Go(n.slice(2)),e]}let LE=0;const cce=Promise.resolve(),uce=()=>LE||(cce.then(()=>LE=0),LE=Date.now());function dce(n,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;jo(fce(r,t.value),e,5,[r])};return t.value=n,t.attached=uce(),t}function fce(n,e){if(St(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const FB=/^on[a-z]/,hce=(n,e,t,r,i=!1,a,s,o,l)=>{e==="class"?tce(n,r,i):e==="style"?nce(n,t,r):fS(e)?gD(e)||oce(n,e,t,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):pce(n,e,r,i))?ace(n,e,r,a,s,o,l):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),ice(n,e,r,i))};function pce(n,e,t,r){return r?!!(e==="innerHTML"||e==="textContent"||e in n&&FB.test(e)&&Kt(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||FB.test(e)&&qt(t)?!1:e in n}function TK(n,e){const t=Pe(n);class r extends BT{constructor(a){super(t,a,e)}}return r.def=t,r}const mce=n=>TK(n,HK),vce=typeof HTMLElement<"u"?HTMLElement:class{};class BT extends vce{constructor(e,t={},r){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Yt(()=>{this._connected||(Tc(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:a,styles:s}=r;let o;if(a&&!St(a))for(const l in a){const c=a[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=zC(this._props[l])),(o||(o=Object.create(null)))[ls(l)]=!0)}this._numberProps=o,i&&this._resolveProps(r),this._applyStyles(s),this._update()},t=this._def.__asyncLoader;t?t().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:t}=e,r=St(t)?t:Object.keys(t||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(ls))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(a){this._setProp(i,a)}})}_setAttr(e){let t=this.getAttribute(e);const r=ls(e);this._numberProps&&this._numberProps[r]&&(t=zC(t)),this._setProp(r,t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,r=!0,i=!0){t!==this._props[e]&&(this._props[e]=t,i&&this._instance&&this._update(),r&&(t===!0?this.setAttribute(Go(e),""):typeof t=="string"||typeof t=="number"?this.setAttribute(Go(e),t+""):t||this.removeAttribute(Go(e))))}_update(){Tc(this._createVNode(),this.shadowRoot)}_createVNode(){const e=pe(this._def,Li({},this._props));return this._instance||(e.ce=t=>{this._instance=t,t.isCE=!0;const r=(a,s)=>{this.dispatchEvent(new CustomEvent(a,{detail:s}))};t.emit=(a,...s)=>{r(a,s),Go(a)!==a&&r(Go(a),s)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof BT){t.parent=i._instance,t.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(t=>{const r=document.createElement("style");r.textContent=t,this.shadowRoot.appendChild(r)})}}function gce(n="$style"){{const e=wn();if(!e)return Si;const t=e.type.__cssModules;if(!t)return Si;const r=t[n];return r||Si}}function yce(n){const e=wn();if(!e)return;const t=e.ut=(i=n(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(a=>CR(a,i))},r=()=>{const i=n(e.proxy);xR(e.subTree,i),t(i)};$q(r),dn(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Ec(()=>i.disconnect())})}function xR(n,e){if(n.shapeFlag&128){const t=n.suspense;n=t.activeBranch,t.pendingBranch&&!t.isHydrating&&t.effects.push(()=>{xR(t.activeBranch,e)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)CR(n.el,e);else if(n.type===Bt)n.children.forEach(t=>xR(t,e));else if(n.type===s0){let{el:t,anchor:r}=n;for(;t&&(CR(t,e),t!==r);)t=t.nextSibling}}function CR(n,e){if(n.nodeType===1){const t=n.style;for(const r in e)t.setProperty(`--${r}`,e[r])}}const nf="transition",Qy="animation",sa=(n,{slots:e})=>$t(Wq,EK(n),e);sa.displayName="Transition";const AK={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},bce=sa.props=Li({},ND,AK),Gh=(n,e=[])=>{St(n)?n.forEach(t=>t(...e)):n&&n(...e)},zB=n=>n?St(n)?n.some(e=>e.length>1):n.length>1:!1;function EK(n){const e={};for(const L in n)L in AK||(e[L]=n[L]);if(n.css===!1)return e;const{name:t="v",type:r,duration:i,enterFromClass:a=`${t}-enter-from`,enterActiveClass:s=`${t}-enter-active`,enterToClass:o=`${t}-enter-to`,appearFromClass:l=a,appearActiveClass:c=s,appearToClass:u=o,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:f=`${t}-leave-active`,leaveToClass:h=`${t}-leave-to`}=n,p=_ce(i),m=p&&p[0],g=p&&p[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:_,onLeaveCancelled:w,onBeforeAppear:x=v,onAppear:M=y,onAppearCancelled:C=b}=e,T=(L,k,N)=>{If(L,k?u:o),If(L,k?c:s),N&&N()},A=(L,k)=>{L._isLeaving=!1,If(L,d),If(L,h),If(L,f),k&&k()},I=L=>(k,N)=>{const F=L?M:y,D=()=>T(k,L,N);Gh(F,[k,D]),UB(()=>{If(k,L?l:a),Ju(k,L?u:o),zB(F)||HB(k,r,m,D)})};return Li(e,{onBeforeEnter(L){Gh(v,[L]),Ju(L,a),Ju(L,s)},onBeforeAppear(L){Gh(x,[L]),Ju(L,l),Ju(L,c)},onEnter:I(!1),onAppear:I(!0),onLeave(L,k){L._isLeaving=!0;const N=()=>A(L,k);Ju(L,d),RK(),Ju(L,f),UB(()=>{L._isLeaving&&(If(L,d),Ju(L,h),zB(_)||HB(L,r,g,N))}),Gh(_,[L,N])},onEnterCancelled(L){T(L,!1),Gh(b,[L])},onAppearCancelled(L){T(L,!0),Gh(C,[L])},onLeaveCancelled(L){A(L),Gh(w,[L])}})}function _ce(n){if(n==null)return null;if(Pn(n))return[DE(n.enter),DE(n.leave)];{const e=DE(n);return[e,e]}}function DE(n){return zC(n)}function Ju(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n._vtc||(n._vtc=new Set)).add(e)}function If(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.remove(r));const{_vtc:t}=n;t&&(t.delete(e),t.size||(n._vtc=void 0))}function UB(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let Sce=0;function HB(n,e,t,r){const i=n._endId=++Sce,a=()=>{i===n._endId&&r()};if(t)return setTimeout(a,t);const{type:s,timeout:o,propCount:l}=IK(n,e);if(!s)return r();const c=s+"end";let u=0;const d=()=>{n.removeEventListener(c,f),a()},f=h=>{h.target===n&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},o+1),n.addEventListener(c,f)}function IK(n,e){const t=window.getComputedStyle(n),r=p=>(t[p]||"").split(", "),i=r(`${nf}Delay`),a=r(`${nf}Duration`),s=VB(i,a),o=r(`${Qy}Delay`),l=r(`${Qy}Duration`),c=VB(o,l);let u=null,d=0,f=0;e===nf?s>0&&(u=nf,d=s,f=a.length):e===Qy?c>0&&(u=Qy,d=c,f=l.length):(d=Math.max(s,c),u=d>0?s>c?nf:Qy:null,f=u?u===nf?a.length:l.length:0);const h=u===nf&&/\b(transform|all)(,|$)/.test(r(`${nf}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function VB(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,r)=>$B(t)+$B(n[r])))}function $B(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function RK(){return document.body.offsetHeight}const PK=new WeakMap,LK=new WeakMap,DK={name:"TransitionGroup",props:Li({},bce,{tag:String,moveClass:String}),setup(n,{slots:e}){const t=wn(),r=OD();let i,a;return Io(()=>{if(!i.length)return;const s=n.moveClass||`${n.name||"v"}-move`;if(!Tce(i[0].el,t.vnode.el,s))return;i.forEach(xce),i.forEach(Cce);const o=i.filter(Mce);RK(),o.forEach(l=>{const c=l.el,u=c.style;Ju(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const d=c._moveCb=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,If(c,s))};c.addEventListener("transitionend",d)})}),()=>{const s=Er(n),o=EK(s);let l=s.tag||Bt;i=a,a=e.default?PT(e.default()):[];for(let c=0;c<a.length;c++){const u=a[c];u.key!=null&&_0(u,yg(u,o,r,t))}if(i)for(let c=0;c<i.length;c++){const u=i[c];_0(u,yg(u,o,r,t)),PK.set(u,u.el.getBoundingClientRect())}return pe(l,null,a)}}},wce=n=>delete n.mode;DK.props;const WD=DK;function xce(n){const e=n.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function Cce(n){LK.set(n,n.el.getBoundingClientRect())}function Mce(n){const e=PK.get(n),t=LK.get(n),r=e.left-t.left,i=e.top-t.top;if(r||i){const a=n.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${i}px)`,a.transitionDuration="0s",n}}function Tce(n,e,t){const r=n.cloneNode();n._vtc&&n._vtc.forEach(s=>{s.split(/\s+/).forEach(o=>o&&r.classList.remove(o))}),t.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:a}=IK(r);return i.removeChild(r),a}const dh=n=>{const e=n.props["onUpdate:modelValue"]||!1;return St(e)?t=>Xv(e,t):e};function Ace(n){n.target.composing=!0}function GB(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const fh={created(n,{modifiers:{lazy:e,trim:t,number:r}},i){n._assign=dh(i);const a=r||i.props&&i.props.type==="number";cd(n,e?"change":"input",s=>{if(s.target.composing)return;let o=n.value;t&&(o=o.trim()),a&&(o=FC(o)),n._assign(o)}),t&&cd(n,"change",()=>{n.value=n.value.trim()}),e||(cd(n,"compositionstart",Ace),cd(n,"compositionend",GB),cd(n,"change",GB))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:r,number:i}},a){if(n._assign=dh(a),n.composing||document.activeElement===n&&n.type!=="range"&&(t||r&&n.value.trim()===e||(i||n.type==="number")&&FC(n.value)===e))return;const s=e??"";n.value!==s&&(n.value=s)}},w0={deep:!0,created(n,e,t){n._assign=dh(t),cd(n,"change",()=>{const r=n._modelValue,i=_g(n),a=n.checked,s=n._assign;if(St(r)){const o=wT(r,i),l=o!==-1;if(a&&!l)s(r.concat(i));else if(!a&&l){const c=[...r];c.splice(o,1),s(c)}}else if($0(r)){const o=new Set(r);a?o.add(i):o.delete(i),s(o)}else s(OK(n,a))})},mounted:WB,beforeUpdate(n,e,t){n._assign=dh(t),WB(n,e,t)}};function WB(n,{value:e,oldValue:t},r){n._modelValue=e,St(e)?n.checked=wT(e,r.props.value)>-1:$0(e)?n.checked=e.has(r.props.value):e!==t&&(n.checked=lh(e,OK(n,!0)))}const yS={created(n,{value:e},t){n.checked=lh(e,t.props.value),n._assign=dh(t),cd(n,"change",()=>{n._assign(_g(n))})},beforeUpdate(n,{value:e,oldValue:t},r){n._assign=dh(r),e!==t&&(n.checked=lh(e,r.props.value))}},kK={deep:!0,created(n,{value:e,modifiers:{number:t}},r){const i=$0(e);cd(n,"change",()=>{const a=Array.prototype.filter.call(n.options,s=>s.selected).map(s=>t?FC(_g(s)):_g(s));n._assign(n.multiple?i?new Set(a):a:a[0])}),n._assign=dh(r)},mounted(n,{value:e}){qB(n,e)},beforeUpdate(n,e,t){n._assign=dh(t)},updated(n,{value:e}){qB(n,e)}};function qB(n,e){const t=n.multiple;if(!(t&&!St(e)&&!$0(e))){for(let r=0,i=n.options.length;r<i;r++){const a=n.options[r],s=_g(a);if(t)St(e)?a.selected=wT(e,s)>-1:a.selected=e.has(s);else if(lh(_g(a),e)){n.selectedIndex!==r&&(n.selectedIndex=r);return}}!t&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function _g(n){return"_value"in n?n._value:n.value}function OK(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const NK={created(n,e,t){mw(n,e,t,null,"created")},mounted(n,e,t){mw(n,e,t,null,"mounted")},beforeUpdate(n,e,t,r){mw(n,e,t,r,"beforeUpdate")},updated(n,e,t,r){mw(n,e,t,r,"updated")}};function BK(n,e){switch(n){case"SELECT":return kK;case"TEXTAREA":return fh;default:switch(e){case"checkbox":return w0;case"radio":return yS;default:return fh}}}function mw(n,e,t,r,i){const s=BK(n.tagName,t.props&&t.props.type)[i];s&&s(n,e,t,r)}function Ece(){fh.getSSRProps=({value:n})=>({value:n}),yS.getSSRProps=({value:n},e)=>{if(e.props&&lh(e.props.value,n))return{checked:!0}},w0.getSSRProps=({value:n},e)=>{if(St(n)){if(e.props&&wT(n,e.props.value)>-1)return{checked:!0}}else if($0(n)){if(e.props&&n.has(e.props.value))return{checked:!0}}else if(n)return{checked:!0}},NK.getSSRProps=(n,e)=>{if(typeof e.type!="string")return;const t=BK(e.type.toUpperCase(),e.props&&e.props.type);if(t.getSSRProps)return t.getSSRProps(n,e)}}const Ice=["ctrl","shift","alt","meta"],Rce={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>Ice.some(t=>n[`${t}Key`]&&!e.includes(t))},sn=(n,e)=>(t,...r)=>{for(let i=0;i<e.length;i++){const a=Rce[e[i]];if(a&&a(t,e))return}return n(t,...r)},Pce={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Rr=(n,e)=>t=>{if(!("key"in t))return;const r=Go(t.key);if(e.some(i=>i===r||Pce[i]===r))return n(t)},lr={beforeMount(n,{value:e},{transition:t}){n._vod=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):Jy(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:r}){!e!=!t&&(r?e?(r.beforeEnter(n),Jy(n,!0),r.enter(n)):r.leave(n,()=>{Jy(n,!1)}):Jy(n,e))},beforeUnmount(n,{value:e}){Jy(n,e)}};function Jy(n,e){n.style.display=e?n._vod:"none"}function Lce(){lr.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const FK=Li({patchProp:hce},ece);let lb,KB=!1;function zK(){return lb||(lb=cK(FK))}function UK(){return lb=KB?lb:uK(FK),KB=!0,lb}const Tc=(...n)=>{zK().render(...n)},HK=(...n)=>{UK().hydrate(...n)},qD=(...n)=>{const e=zK().createApp(...n),{mount:t}=e;return e.mount=r=>{const i=VK(r);if(!i)return;const a=e._component;!Kt(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.innerHTML="";const s=t(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e},Dce=(...n)=>{const e=UK().createApp(...n),{mount:t}=e;return e.mount=r=>{const i=VK(r);if(i)return t(i,!0,i instanceof SVGElement)},e};function VK(n){return qt(n)?document.querySelector(n):n}let YB=!1;const kce=()=>{YB||(YB=!0,Ece(),Lce())},Oce=()=>{},XB=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Wq,BaseTransitionPropsValidators:ND,Comment:xa,EffectScope:_D,Fragment:Bt,KeepAlive:rle,ReactiveEffect:hS,Static:s0,Suspense:qoe,Teleport:fK,Text:hu,Transition:sa,TransitionGroup:WD,VueElement:BT,assertNumber:koe,callWithAsyncErrorHandling:jo,callWithErrorHandling:bd,camelize:ls,capitalize:ly,cloneVNode:Mc,compatUtils:Qle,compile:Oce,computed:U,createApp:qD,createBlock:rt,createCommentVNode:Je,createElementBlock:ge,createElementVNode:_e,createHydrationRenderer:uK,createPropsRestProxy:gle,createRenderer:cK,createSSRApp:Dce,createSlots:rl,createStaticVNode:zle,createTextVNode:un,createVNode:pe,customRef:Dq,defineAsyncComponent:tle,defineComponent:Pe,defineCustomElement:TK,defineEmits:lle,defineExpose:cle,defineModel:fle,defineOptions:ule,defineProps:ole,defineSSRCustomElement:mce,defineSlots:dle,get devtools(){return vv},effect:jse,effectScope:SD,getCurrentInstance:wn,getCurrentScope:wD,getTransitionRawChildren:PT,guardReactiveProps:Md,h:$t,handleError:W0,hasInjectionContext:Tle,hydrate:HK,initCustomFormatter:Kle,initDirectivesForSSR:kce,inject:Nt,isMemoSame:CK,isProxy:AD,isReactive:i0,isReadonly:b0,isRef:Ur,isRuntimeOnly:Gle,isShallow:Kb,isVNode:ti,markRaw:ou,mergeDefaults:mle,mergeModels:vle,mergeProps:Bn,nextTick:Yt,normalizeClass:j,normalizeProps:Ll,normalizeStyle:Ft,onActivated:LT,onBeforeMount:vS,onBeforeUnmount:vr,onBeforeUpdate:kT,onDeactivated:BD,onErrorCaptured:Zq,onMounted:dn,onRenderTracked:jq,onRenderTriggered:Xq,onScopeDispose:xD,onServerPrefetch:Yq,onUnmounted:Ec,onUpdated:Io,openBlock:$,popScopeId:Bd,provide:Vn,proxyRefs:RD,pushScopeId:Nd,queuePostFlushCb:LD,reactive:pr,readonly:G0,ref:te,registerRuntimeCompiler:$le,render:Tc,renderList:kn,renderSlot:Qe,resolveComponent:Lt,resolveDirective:gS,resolveDynamicComponent:Rn,resolveFilter:Zle,resolveTransitionHooks:yg,setBlockTracking:yR,setDevtoolsHook:zq,setTransitionHooks:_0,shallowReactive:TD,shallowReadonly:Coe,shallowRef:Cr,ssrContextKey:wK,ssrUtils:jle,stop:Zse,toDisplayString:_t,toHandlerKey:Yv,toHandlers:eK,toRaw:Er,toRef:br,toRefs:aa,toValue:Aoe,transformVNodeArgs:Ble,triggerRef:Toe,unref:S,useAttrs:zd,useCssModule:gce,useCssVars:yce,useModel:ple,useSSRContext:xK,useSlots:Qi,useTransitionState:OD,vModelCheckbox:w0,vModelDynamic:NK,vModelRadio:yS,vModelSelect:kK,vModelText:fh,vShow:lr,version:MK,warn:Oq,watch:dt,watchEffect:wa,watchPostEffect:$q,watchSyncEffect:Qoe,withAsyncContext:yle,withCtx:Me,withDefaults:hle,withDirectives:Sn,withKeys:Rr,withMemo:Yle,withModifiers:sn,withScopeId:Uoe},Symbol.toStringTag,{value:"Module"})),Nce="2.9.1",jB=Symbol("INSTALLED_KEY"),$K=Symbol(),cb="el",Bce="is-",Wh=(n,e,t,r,i)=>{let a=`${n}-${e}`;return t&&(a+=`-${t}`),r&&(a+=`__${r}`),i&&(a+=`--${i}`),a},GK=Symbol("namespaceContextKey"),KD=n=>{const e=n||(wn()?Nt(GK,te(cb)):te(cb));return U(()=>S(e)||cb)},yt=(n,e)=>{const t=KD(e);return{namespace:t,b:(m="")=>Wh(t.value,n,m,"",""),e:m=>m?Wh(t.value,n,"",m,""):"",m:m=>m?Wh(t.value,n,"","",m):"",be:(m,g)=>m&&g?Wh(t.value,n,m,g,""):"",em:(m,g)=>m&&g?Wh(t.value,n,"",m,g):"",bm:(m,g)=>m&&g?Wh(t.value,n,m,"",g):"",bem:(m,g,v)=>m&&g&&v?Wh(t.value,n,m,g,v):"",is:(m,...g)=>{const v=g.length>=1?g[0]:!0;return m&&v?`${Bce}${m}`:""},cssVar:m=>{const g={};for(const v in m)m[v]&&(g[`--${t.value}-${v}`]=m[v]);return g},cssVarName:m=>`--${t.value}-${m}`,cssVarBlock:m=>{const g={};for(const v in m)m[v]&&(g[`--${t.value}-${n}-${v}`]=m[v]);return g},cssVarBlockName:m=>`--${t.value}-${n}-${m}`}};var Fce=typeof global=="object"&&global&&global.Object===Object&&global;const WK=Fce;var zce=typeof self=="object"&&self&&self.Object===Object&&self,Uce=WK||zce||Function("return this")();const Ic=Uce;var Hce=Ic.Symbol;const $l=Hce;var qK=Object.prototype,Vce=qK.hasOwnProperty,$ce=qK.toString,e1=$l?$l.toStringTag:void 0;function Gce(n){var e=Vce.call(n,e1),t=n[e1];try{n[e1]=void 0;var r=!0}catch{}var i=$ce.call(n);return r&&(e?n[e1]=t:delete n[e1]),i}var Wce=Object.prototype,qce=Wce.toString;function Kce(n){return qce.call(n)}var Yce="[object Null]",Xce="[object Undefined]",ZB=$l?$l.toStringTag:void 0;function q0(n){return n==null?n===void 0?Xce:Yce:ZB&&ZB in Object(n)?Gce(n):Kce(n)}function pu(n){return n!=null&&typeof n=="object"}var jce="[object Symbol]";function FT(n){return typeof n=="symbol"||pu(n)&&q0(n)==jce}function YD(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var Zce=Array.isArray;const eo=Zce;var Qce=1/0,QB=$l?$l.prototype:void 0,JB=QB?QB.toString:void 0;function KK(n){if(typeof n=="string")return n;if(eo(n))return YD(n,KK)+"";if(FT(n))return JB?JB.call(n):"";var e=n+"";return e=="0"&&1/n==-Qce?"-0":e}var Jce=/\s/;function eue(n){for(var e=n.length;e--&&Jce.test(n.charAt(e)););return e}var tue=/^\s+/;function nue(n){return n&&n.slice(0,eue(n)+1).replace(tue,"")}function to(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var eF=0/0,rue=/^[-+]0x[0-9a-f]+$/i,iue=/^0b[01]+$/i,aue=/^0o[0-7]+$/i,sue=parseInt;function MR(n){if(typeof n=="number")return n;if(FT(n))return eF;if(to(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=to(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=nue(n);var t=iue.test(n);return t||aue.test(n)?sue(n.slice(2),t?2:8):rue.test(n)?eF:+n}var tF=1/0,oue=17976931348623157e292;function lue(n){if(!n)return n===0?n:0;if(n=MR(n),n===tF||n===-tF){var e=n<0?-1:1;return e*oue}return n===n?n:0}function cue(n){var e=lue(n),t=e%1;return e===e?t?e-t:e:0}function XD(n){return n}var uue="[object AsyncFunction]",due="[object Function]",fue="[object GeneratorFunction]",hue="[object Proxy]";function jD(n){if(!to(n))return!1;var e=q0(n);return e==due||e==fue||e==uue||e==hue}var pue=Ic["__core-js_shared__"];const kE=pue;var nF=function(){var n=/[^.]+$/.exec(kE&&kE.keys&&kE.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function mue(n){return!!nF&&nF in n}var vue=Function.prototype,gue=vue.toString;function K0(n){if(n!=null){try{return gue.call(n)}catch{}try{return n+""}catch{}}return""}var yue=/[\\^$.*+?()[\]{}|]/g,bue=/^\[object .+?Constructor\]$/,_ue=Function.prototype,Sue=Object.prototype,wue=_ue.toString,xue=Sue.hasOwnProperty,Cue=RegExp("^"+wue.call(xue).replace(yue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Mue(n){if(!to(n)||mue(n))return!1;var e=jD(n)?Cue:bue;return e.test(K0(n))}function Tue(n,e){return n==null?void 0:n[e]}function Y0(n,e){var t=Tue(n,e);return Mue(t)?t:void 0}var Aue=Y0(Ic,"WeakMap");const TR=Aue;var rF=Object.create,Eue=function(){function n(){}return function(e){if(!to(e))return{};if(rF)return rF(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const Iue=Eue;function Rue(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function Pue(){}function YK(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var Lue=800,Due=16,kue=Date.now;function Oue(n){var e=0,t=0;return function(){var r=kue(),i=Due-(r-t);if(t=r,i>0){if(++e>=Lue)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function Nue(n){return function(){return n}}var Bue=function(){try{var n=Y0(Object,"defineProperty");return n({},"",{}),n}catch{}}();const WC=Bue;var Fue=WC?function(n,e){return WC(n,"toString",{configurable:!0,enumerable:!1,value:Nue(e),writable:!0})}:XD;const zue=Fue;var Uue=Oue(zue);const XK=Uue;function Hue(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}function jK(n,e,t,r){for(var i=n.length,a=t+(r?1:-1);r?a--:++a<i;)if(e(n[a],a,n))return a;return-1}function Vue(n){return n!==n}function $ue(n,e,t){for(var r=t-1,i=n.length;++r<i;)if(n[r]===e)return r;return-1}function Gue(n,e,t){return e===e?$ue(n,e,t):jK(n,Vue,t)}function Wue(n,e){var t=n==null?0:n.length;return!!t&&Gue(n,e,0)>-1}var que=9007199254740991,Kue=/^(?:0|[1-9]\d*)$/;function zT(n,e){var t=typeof n;return e=e??que,!!e&&(t=="number"||t!="symbol"&&Kue.test(n))&&n>-1&&n%1==0&&n<e}function ZD(n,e,t){e=="__proto__"&&WC?WC(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function bS(n,e){return n===e||n!==n&&e!==e}var Yue=Object.prototype,Xue=Yue.hasOwnProperty;function QD(n,e,t){var r=n[e];(!(Xue.call(n,e)&&bS(r,t))||t===void 0&&!(e in n))&&ZD(n,e,t)}function dy(n,e,t,r){var i=!t;t||(t={});for(var a=-1,s=e.length;++a<s;){var o=e[a],l=r?r(t[o],n[o],o,t,n):void 0;l===void 0&&(l=n[o]),i?ZD(t,o,l):QD(t,o,l)}return t}var iF=Math.max;function ZK(n,e,t){return e=iF(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,a=iF(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=t(s),Rue(n,this,o)}}function QK(n,e){return XK(ZK(n,e,XD),n+"")}var jue=9007199254740991;function JD(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=jue}function fy(n){return n!=null&&JD(n.length)&&!jD(n)}function Zue(n,e,t){if(!to(t))return!1;var r=typeof e;return(r=="number"?fy(t)&&zT(e,t.length):r=="string"&&e in t)?bS(t[e],n):!1}function Que(n){return QK(function(e,t){var r=-1,i=t.length,a=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(a=n.length>3&&typeof a=="function"?(i--,a):void 0,s&&Zue(t[0],t[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var o=t[r];o&&n(e,o,r,a)}return e})}var Jue=Object.prototype;function e6(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Jue;return n===t}function ede(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var tde="[object Arguments]";function aF(n){return pu(n)&&q0(n)==tde}var JK=Object.prototype,nde=JK.hasOwnProperty,rde=JK.propertyIsEnumerable,ide=aF(function(){return arguments}())?aF:function(n){return pu(n)&&nde.call(n,"callee")&&!rde.call(n,"callee")};const t_=ide;function ade(){return!1}var eY=typeof Yo=="object"&&Yo&&!Yo.nodeType&&Yo,sF=eY&&typeof Xo=="object"&&Xo&&!Xo.nodeType&&Xo,sde=sF&&sF.exports===eY,oF=sde?Ic.Buffer:void 0,ode=oF?oF.isBuffer:void 0,lde=ode||ade;const n_=lde;var cde="[object Arguments]",ude="[object Array]",dde="[object Boolean]",fde="[object Date]",hde="[object Error]",pde="[object Function]",mde="[object Map]",vde="[object Number]",gde="[object Object]",yde="[object RegExp]",bde="[object Set]",_de="[object String]",Sde="[object WeakMap]",wde="[object ArrayBuffer]",xde="[object DataView]",Cde="[object Float32Array]",Mde="[object Float64Array]",Tde="[object Int8Array]",Ade="[object Int16Array]",Ede="[object Int32Array]",Ide="[object Uint8Array]",Rde="[object Uint8ClampedArray]",Pde="[object Uint16Array]",Lde="[object Uint32Array]",Di={};Di[Cde]=Di[Mde]=Di[Tde]=Di[Ade]=Di[Ede]=Di[Ide]=Di[Rde]=Di[Pde]=Di[Lde]=!0;Di[cde]=Di[ude]=Di[wde]=Di[dde]=Di[xde]=Di[fde]=Di[hde]=Di[pde]=Di[mde]=Di[vde]=Di[gde]=Di[yde]=Di[bde]=Di[_de]=Di[Sde]=!1;function Dde(n){return pu(n)&&JD(n.length)&&!!Di[q0(n)]}function t6(n){return function(e){return n(e)}}var tY=typeof Yo=="object"&&Yo&&!Yo.nodeType&&Yo,ub=tY&&typeof Xo=="object"&&Xo&&!Xo.nodeType&&Xo,kde=ub&&ub.exports===tY,OE=kde&&WK.process,Ode=function(){try{var n=ub&&ub.require&&ub.require("util").types;return n||OE&&OE.binding&&OE.binding("util")}catch{}}();const Sg=Ode;var lF=Sg&&Sg.isTypedArray,Nde=lF?t6(lF):Dde;const n6=Nde;var Bde=Object.prototype,Fde=Bde.hasOwnProperty;function nY(n,e){var t=eo(n),r=!t&&t_(n),i=!t&&!r&&n_(n),a=!t&&!r&&!i&&n6(n),s=t||r||i||a,o=s?ede(n.length,String):[],l=o.length;for(var c in n)(e||Fde.call(n,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||zT(c,l)))&&o.push(c);return o}function rY(n,e){return function(t){return n(e(t))}}var zde=rY(Object.keys,Object);const Ude=zde;var Hde=Object.prototype,Vde=Hde.hasOwnProperty;function $de(n){if(!e6(n))return Ude(n);var e=[];for(var t in Object(n))Vde.call(n,t)&&t!="constructor"&&e.push(t);return e}function _S(n){return fy(n)?nY(n):$de(n)}function Gde(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var Wde=Object.prototype,qde=Wde.hasOwnProperty;function Kde(n){if(!to(n))return Gde(n);var e=e6(n),t=[];for(var r in n)r=="constructor"&&(e||!qde.call(n,r))||t.push(r);return t}function SS(n){return fy(n)?nY(n,!0):Kde(n)}var Yde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xde=/^\w*$/;function r6(n,e){if(eo(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||FT(n)?!0:Xde.test(n)||!Yde.test(n)||e!=null&&n in Object(e)}var jde=Y0(Object,"create");const r_=jde;function Zde(){this.__data__=r_?r_(null):{},this.size=0}function Qde(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Jde="__lodash_hash_undefined__",efe=Object.prototype,tfe=efe.hasOwnProperty;function nfe(n){var e=this.__data__;if(r_){var t=e[n];return t===Jde?void 0:t}return tfe.call(e,n)?e[n]:void 0}var rfe=Object.prototype,ife=rfe.hasOwnProperty;function afe(n){var e=this.__data__;return r_?e[n]!==void 0:ife.call(e,n)}var sfe="__lodash_hash_undefined__";function ofe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=r_&&e===void 0?sfe:e,this}function x0(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}x0.prototype.clear=Zde;x0.prototype.delete=Qde;x0.prototype.get=nfe;x0.prototype.has=afe;x0.prototype.set=ofe;function lfe(){this.__data__=[],this.size=0}function UT(n,e){for(var t=n.length;t--;)if(bS(n[t][0],e))return t;return-1}var cfe=Array.prototype,ufe=cfe.splice;function dfe(n){var e=this.__data__,t=UT(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():ufe.call(e,t,1),--this.size,!0}function ffe(n){var e=this.__data__,t=UT(e,n);return t<0?void 0:e[t][1]}function hfe(n){return UT(this.__data__,n)>-1}function pfe(n,e){var t=this.__data__,r=UT(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Ud(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ud.prototype.clear=lfe;Ud.prototype.delete=dfe;Ud.prototype.get=ffe;Ud.prototype.has=hfe;Ud.prototype.set=pfe;var mfe=Y0(Ic,"Map");const i_=mfe;function vfe(){this.size=0,this.__data__={hash:new x0,map:new(i_||Ud),string:new x0}}function gfe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function HT(n,e){var t=n.__data__;return gfe(e)?t[typeof e=="string"?"string":"hash"]:t.map}function yfe(n){var e=HT(this,n).delete(n);return this.size-=e?1:0,e}function bfe(n){return HT(this,n).get(n)}function _fe(n){return HT(this,n).has(n)}function Sfe(n,e){var t=HT(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Hd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Hd.prototype.clear=vfe;Hd.prototype.delete=yfe;Hd.prototype.get=bfe;Hd.prototype.has=_fe;Hd.prototype.set=Sfe;var wfe="Expected a function";function VT(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(wfe);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=t.cache;if(a.has(i))return a.get(i);var s=n.apply(this,r);return t.cache=a.set(i,s)||a,s};return t.cache=new(VT.Cache||Hd),t}VT.Cache=Hd;var xfe=500;function Cfe(n){var e=VT(n,function(r){return t.size===xfe&&t.clear(),r}),t=e.cache;return e}var Mfe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tfe=/\\(\\)?/g,Afe=Cfe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Mfe,function(t,r,i,a){e.push(i?a.replace(Tfe,"$1"):r||t)}),e});const Efe=Afe;function Ife(n){return n==null?"":KK(n)}function hy(n,e){return eo(n)?n:r6(n,e)?[n]:Efe(Ife(n))}var Rfe=1/0;function py(n){if(typeof n=="string"||FT(n))return n;var e=n+"";return e=="0"&&1/n==-Rfe?"-0":e}function $T(n,e){e=hy(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[py(e[t++])];return t&&t==r?n:void 0}function $i(n,e,t){var r=n==null?void 0:$T(n,e);return r===void 0?t:r}function i6(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var cF=$l?$l.isConcatSpreadable:void 0;function Pfe(n){return eo(n)||t_(n)||!!(cF&&n&&n[cF])}function wS(n,e,t,r,i){var a=-1,s=n.length;for(t||(t=Pfe),i||(i=[]);++a<s;){var o=n[a];e>0&&t(o)?e>1?wS(o,e-1,t,r,i):i6(i,o):r||(i[i.length]=o)}return i}function iY(n){var e=n==null?0:n.length;return e?wS(n,1):[]}function aY(n){return XK(ZK(n,void 0,iY),n+"")}var Lfe=rY(Object.getPrototypeOf,Object);const a6=Lfe;var Dfe="[object Object]",kfe=Function.prototype,Ofe=Object.prototype,sY=kfe.toString,Nfe=Ofe.hasOwnProperty,Bfe=sY.call(Object);function oY(n){if(!pu(n)||q0(n)!=Dfe)return!1;var e=a6(n);if(e===null)return!0;var t=Nfe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&sY.call(t)==Bfe}function Ffe(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=n[r+e];return a}function Is(){if(!arguments.length)return[];var n=arguments[0];return eo(n)?n:[n]}function zfe(){this.__data__=new Ud,this.size=0}function Ufe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Hfe(n){return this.__data__.get(n)}function Vfe(n){return this.__data__.has(n)}var $fe=200;function Gfe(n,e){var t=this.__data__;if(t instanceof Ud){var r=t.__data__;if(!i_||r.length<$fe-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Hd(r)}return t.set(n,e),this.size=t.size,this}function wc(n){var e=this.__data__=new Ud(n);this.size=e.size}wc.prototype.clear=zfe;wc.prototype.delete=Ufe;wc.prototype.get=Hfe;wc.prototype.has=Vfe;wc.prototype.set=Gfe;function Wfe(n,e){return n&&dy(e,_S(e),n)}function qfe(n,e){return n&&dy(e,SS(e),n)}var lY=typeof Yo=="object"&&Yo&&!Yo.nodeType&&Yo,uF=lY&&typeof Xo=="object"&&Xo&&!Xo.nodeType&&Xo,Kfe=uF&&uF.exports===lY,dF=Kfe?Ic.Buffer:void 0,fF=dF?dF.allocUnsafe:void 0;function cY(n,e){if(e)return n.slice();var t=n.length,r=fF?fF(t):new n.constructor(t);return n.copy(r),r}function Yfe(n,e){for(var t=-1,r=n==null?0:n.length,i=0,a=[];++t<r;){var s=n[t];e(s,t,n)&&(a[i++]=s)}return a}function uY(){return[]}var Xfe=Object.prototype,jfe=Xfe.propertyIsEnumerable,hF=Object.getOwnPropertySymbols,Zfe=hF?function(n){return n==null?[]:(n=Object(n),Yfe(hF(n),function(e){return jfe.call(n,e)}))}:uY;const s6=Zfe;function Qfe(n,e){return dy(n,s6(n),e)}var Jfe=Object.getOwnPropertySymbols,ehe=Jfe?function(n){for(var e=[];n;)i6(e,s6(n)),n=a6(n);return e}:uY;const dY=ehe;function the(n,e){return dy(n,dY(n),e)}function fY(n,e,t){var r=e(n);return eo(n)?r:i6(r,t(n))}function AR(n){return fY(n,_S,s6)}function hY(n){return fY(n,SS,dY)}var nhe=Y0(Ic,"DataView");const ER=nhe;var rhe=Y0(Ic,"Promise");const IR=rhe;var ihe=Y0(Ic,"Set");const Qv=ihe;var pF="[object Map]",ahe="[object Object]",mF="[object Promise]",vF="[object Set]",gF="[object WeakMap]",yF="[object DataView]",she=K0(ER),ohe=K0(i_),lhe=K0(IR),che=K0(Qv),uhe=K0(TR),xp=q0;(ER&&xp(new ER(new ArrayBuffer(1)))!=yF||i_&&xp(new i_)!=pF||IR&&xp(IR.resolve())!=mF||Qv&&xp(new Qv)!=vF||TR&&xp(new TR)!=gF)&&(xp=function(n){var e=q0(n),t=e==ahe?n.constructor:void 0,r=t?K0(t):"";if(r)switch(r){case she:return yF;case ohe:return pF;case lhe:return mF;case che:return vF;case uhe:return gF}return e});const a_=xp;var dhe=Object.prototype,fhe=dhe.hasOwnProperty;function hhe(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&fhe.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var phe=Ic.Uint8Array;const qC=phe;function o6(n){var e=new n.constructor(n.byteLength);return new qC(e).set(new qC(n)),e}function mhe(n,e){var t=e?o6(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var vhe=/\w*$/;function ghe(n){var e=new n.constructor(n.source,vhe.exec(n));return e.lastIndex=n.lastIndex,e}var bF=$l?$l.prototype:void 0,_F=bF?bF.valueOf:void 0;function yhe(n){return _F?Object(_F.call(n)):{}}function pY(n,e){var t=e?o6(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var bhe="[object Boolean]",_he="[object Date]",She="[object Map]",whe="[object Number]",xhe="[object RegExp]",Che="[object Set]",Mhe="[object String]",The="[object Symbol]",Ahe="[object ArrayBuffer]",Ehe="[object DataView]",Ihe="[object Float32Array]",Rhe="[object Float64Array]",Phe="[object Int8Array]",Lhe="[object Int16Array]",Dhe="[object Int32Array]",khe="[object Uint8Array]",Ohe="[object Uint8ClampedArray]",Nhe="[object Uint16Array]",Bhe="[object Uint32Array]";function Fhe(n,e,t){var r=n.constructor;switch(e){case Ahe:return o6(n);case bhe:case _he:return new r(+n);case Ehe:return mhe(n,t);case Ihe:case Rhe:case Phe:case Lhe:case Dhe:case khe:case Ohe:case Nhe:case Bhe:return pY(n,t);case She:return new r;case whe:case Mhe:return new r(n);case xhe:return ghe(n);case Che:return new r;case The:return yhe(n)}}function mY(n){return typeof n.constructor=="function"&&!e6(n)?Iue(a6(n)):{}}var zhe="[object Map]";function Uhe(n){return pu(n)&&a_(n)==zhe}var SF=Sg&&Sg.isMap,Hhe=SF?t6(SF):Uhe;const Vhe=Hhe;var $he="[object Set]";function Ghe(n){return pu(n)&&a_(n)==$he}var wF=Sg&&Sg.isSet,Whe=wF?t6(wF):Ghe;const qhe=Whe;var Khe=1,Yhe=2,Xhe=4,vY="[object Arguments]",jhe="[object Array]",Zhe="[object Boolean]",Qhe="[object Date]",Jhe="[object Error]",gY="[object Function]",epe="[object GeneratorFunction]",tpe="[object Map]",npe="[object Number]",yY="[object Object]",rpe="[object RegExp]",ipe="[object Set]",ape="[object String]",spe="[object Symbol]",ope="[object WeakMap]",lpe="[object ArrayBuffer]",cpe="[object DataView]",upe="[object Float32Array]",dpe="[object Float64Array]",fpe="[object Int8Array]",hpe="[object Int16Array]",ppe="[object Int32Array]",mpe="[object Uint8Array]",vpe="[object Uint8ClampedArray]",gpe="[object Uint16Array]",ype="[object Uint32Array]",Ii={};Ii[vY]=Ii[jhe]=Ii[lpe]=Ii[cpe]=Ii[Zhe]=Ii[Qhe]=Ii[upe]=Ii[dpe]=Ii[fpe]=Ii[hpe]=Ii[ppe]=Ii[tpe]=Ii[npe]=Ii[yY]=Ii[rpe]=Ii[ipe]=Ii[ape]=Ii[spe]=Ii[mpe]=Ii[vpe]=Ii[gpe]=Ii[ype]=!0;Ii[Jhe]=Ii[gY]=Ii[ope]=!1;function Jv(n,e,t,r,i,a){var s,o=e&Khe,l=e&Yhe,c=e&Xhe;if(t&&(s=i?t(n,r,i,a):t(n)),s!==void 0)return s;if(!to(n))return n;var u=eo(n);if(u){if(s=hhe(n),!o)return YK(n,s)}else{var d=a_(n),f=d==gY||d==epe;if(n_(n))return cY(n,o);if(d==yY||d==vY||f&&!i){if(s=l||f?{}:mY(n),!o)return l?the(n,qfe(s,n)):Qfe(n,Wfe(s,n))}else{if(!Ii[d])return i?n:{};s=Fhe(n,d,o)}}a||(a=new wc);var h=a.get(n);if(h)return h;a.set(n,s),qhe(n)?n.forEach(function(g){s.add(Jv(g,e,t,g,n,a))}):Vhe(n)&&n.forEach(function(g,v){s.set(v,Jv(g,e,t,v,n,a))});var p=c?l?hY:AR:l?SS:_S,m=u?void 0:p(n);return Hue(m||n,function(g,v){m&&(v=g,g=n[v]),QD(s,v,Jv(g,e,t,v,n,a))}),s}var bpe=4;function xF(n){return Jv(n,bpe)}var _pe=1,Spe=4;function KC(n){return Jv(n,_pe|Spe)}var wpe="__lodash_hash_undefined__";function xpe(n){return this.__data__.set(n,wpe),this}function Cpe(n){return this.__data__.has(n)}function s_(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Hd;++e<t;)this.add(n[e])}s_.prototype.add=s_.prototype.push=xpe;s_.prototype.has=Cpe;function Mpe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function bY(n,e){return n.has(e)}var Tpe=1,Ape=2;function _Y(n,e,t,r,i,a){var s=t&Tpe,o=n.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(n),u=a.get(e);if(c&&u)return c==e&&u==n;var d=-1,f=!0,h=t&Ape?new s_:void 0;for(a.set(n,e),a.set(e,n);++d<o;){var p=n[d],m=e[d];if(r)var g=s?r(m,p,d,e,n,a):r(p,m,d,n,e,a);if(g!==void 0){if(g)continue;f=!1;break}if(h){if(!Mpe(e,function(v,y){if(!bY(h,y)&&(p===v||i(p,v,t,r,a)))return h.push(y)})){f=!1;break}}else if(!(p===m||i(p,m,t,r,a))){f=!1;break}}return a.delete(n),a.delete(e),f}function Epe(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function l6(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var Ipe=1,Rpe=2,Ppe="[object Boolean]",Lpe="[object Date]",Dpe="[object Error]",kpe="[object Map]",Ope="[object Number]",Npe="[object RegExp]",Bpe="[object Set]",Fpe="[object String]",zpe="[object Symbol]",Upe="[object ArrayBuffer]",Hpe="[object DataView]",CF=$l?$l.prototype:void 0,NE=CF?CF.valueOf:void 0;function Vpe(n,e,t,r,i,a,s){switch(t){case Hpe:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Upe:return!(n.byteLength!=e.byteLength||!a(new qC(n),new qC(e)));case Ppe:case Lpe:case Ope:return bS(+n,+e);case Dpe:return n.name==e.name&&n.message==e.message;case Npe:case Fpe:return n==e+"";case kpe:var o=Epe;case Bpe:var l=r&Ipe;if(o||(o=l6),n.size!=e.size&&!l)return!1;var c=s.get(n);if(c)return c==e;r|=Rpe,s.set(n,e);var u=_Y(o(n),o(e),r,i,a,s);return s.delete(n),u;case zpe:if(NE)return NE.call(n)==NE.call(e)}return!1}var $pe=1,Gpe=Object.prototype,Wpe=Gpe.hasOwnProperty;function qpe(n,e,t,r,i,a){var s=t&$pe,o=AR(n),l=o.length,c=AR(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var f=o[d];if(!(s?f in e:Wpe.call(e,f)))return!1}var h=a.get(n),p=a.get(e);if(h&&p)return h==e&&p==n;var m=!0;a.set(n,e),a.set(e,n);for(var g=s;++d<l;){f=o[d];var v=n[f],y=e[f];if(r)var b=s?r(y,v,f,e,n,a):r(v,y,f,n,e,a);if(!(b===void 0?v===y||i(v,y,t,r,a):b)){m=!1;break}g||(g=f=="constructor")}if(m&&!g){var _=n.constructor,w=e.constructor;_!=w&&"constructor"in n&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(m=!1)}return a.delete(n),a.delete(e),m}var Kpe=1,MF="[object Arguments]",TF="[object Array]",vw="[object Object]",Ype=Object.prototype,AF=Ype.hasOwnProperty;function Xpe(n,e,t,r,i,a){var s=eo(n),o=eo(e),l=s?TF:a_(n),c=o?TF:a_(e);l=l==MF?vw:l,c=c==MF?vw:c;var u=l==vw,d=c==vw,f=l==c;if(f&&n_(n)){if(!n_(e))return!1;s=!0,u=!1}if(f&&!u)return a||(a=new wc),s||n6(n)?_Y(n,e,t,r,i,a):Vpe(n,e,l,t,r,i,a);if(!(t&Kpe)){var h=u&&AF.call(n,"__wrapped__"),p=d&&AF.call(e,"__wrapped__");if(h||p){var m=h?n.value():n,g=p?e.value():e;return a||(a=new wc),i(m,g,t,r,a)}}return f?(a||(a=new wc),qpe(n,e,t,r,i,a)):!1}function GT(n,e,t,r,i){return n===e?!0:n==null||e==null||!pu(n)&&!pu(e)?n!==n&&e!==e:Xpe(n,e,t,r,GT,i)}var jpe=1,Zpe=2;function Qpe(n,e,t,r){var i=t.length,a=i,s=!r;if(n==null)return!a;for(n=Object(n);i--;){var o=t[i];if(s&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++i<a;){o=t[i];var l=o[0],c=n[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in n))return!1}else{var d=new wc;if(r)var f=r(c,u,l,n,e,d);if(!(f===void 0?GT(u,c,jpe|Zpe,r,d):f))return!1}}return!0}function SY(n){return n===n&&!to(n)}function Jpe(n){for(var e=_S(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,SY(i)]}return e}function wY(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function e0e(n){var e=Jpe(n);return e.length==1&&e[0][2]?wY(e[0][0],e[0][1]):function(t){return t===n||Qpe(t,n,e)}}function t0e(n,e){return n!=null&&e in Object(n)}function n0e(n,e,t){e=hy(e,n);for(var r=-1,i=e.length,a=!1;++r<i;){var s=py(e[r]);if(!(a=n!=null&&t(n,s)))break;n=n[s]}return a||++r!=i?a:(i=n==null?0:n.length,!!i&&JD(i)&&zT(s,i)&&(eo(n)||t_(n)))}function xY(n,e){return n!=null&&n0e(n,e,t0e)}var r0e=1,i0e=2;function a0e(n,e){return r6(n)&&SY(e)?wY(py(n),e):function(t){var r=$i(t,n);return r===void 0&&r===e?xY(t,n):GT(e,r,r0e|i0e)}}function s0e(n){return function(e){return e==null?void 0:e[n]}}function o0e(n){return function(e){return $T(e,n)}}function l0e(n){return r6(n)?s0e(py(n)):o0e(n)}function CY(n){return typeof n=="function"?n:n==null?XD:typeof n=="object"?eo(n)?a0e(n[0],n[1]):e0e(n):l0e(n)}function c0e(n){return function(e,t,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[n?o:++i];if(t(a[l],l,a)===!1)break}return e}}var u0e=c0e();const MY=u0e;function d0e(n,e){return n&&MY(n,e,_S)}function f0e(n,e){return function(t,r){if(t==null)return t;if(!fy(t))return n(t,r);for(var i=t.length,a=e?i:-1,s=Object(t);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return t}}var h0e=f0e(d0e);const p0e=h0e;var m0e=function(){return Ic.Date.now()};const BE=m0e;var v0e="Expected a function",g0e=Math.max,y0e=Math.min;function Mo(n,e,t){var r,i,a,s,o,l,c=0,u=!1,d=!1,f=!0;if(typeof n!="function")throw new TypeError(v0e);e=MR(e)||0,to(t)&&(u=!!t.leading,d="maxWait"in t,a=d?g0e(MR(t.maxWait)||0,e):a,f="trailing"in t?!!t.trailing:f);function h(x){var M=r,C=i;return r=i=void 0,c=x,s=n.apply(C,M),s}function p(x){return c=x,o=setTimeout(v,e),u?h(x):s}function m(x){var M=x-l,C=x-c,T=e-M;return d?y0e(T,a-C):T}function g(x){var M=x-l,C=x-c;return l===void 0||M>=e||M<0||d&&C>=a}function v(){var x=BE();if(g(x))return y(x);o=setTimeout(v,m(x))}function y(x){return o=void 0,f&&r?h(x):(r=i=void 0,s)}function b(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function _(){return o===void 0?s:y(BE())}function w(){var x=BE(),M=g(x);if(r=arguments,i=this,l=x,M){if(o===void 0)return p(l);if(d)return clearTimeout(o),o=setTimeout(v,e),h(l)}return o===void 0&&(o=setTimeout(v,e)),s}return w.cancel=b,w.flush=_,w}function RR(n,e,t){(t!==void 0&&!bS(n[e],t)||t===void 0&&!(e in n))&&ZD(n,e,t)}function TY(n){return pu(n)&&fy(n)}function PR(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function b0e(n){return dy(n,SS(n))}function _0e(n,e,t,r,i,a,s){var o=PR(n,t),l=PR(e,t),c=s.get(l);if(c){RR(n,t,c);return}var u=a?a(o,l,t+"",n,e,s):void 0,d=u===void 0;if(d){var f=eo(l),h=!f&&n_(l),p=!f&&!h&&n6(l);u=l,f||h||p?eo(o)?u=o:TY(o)?u=YK(o):h?(d=!1,u=cY(l,!0)):p?(d=!1,u=pY(l,!0)):u=[]:oY(l)||t_(l)?(u=o,t_(o)?u=b0e(o):(!to(o)||jD(o))&&(u=mY(l))):d=!1}d&&(s.set(l,u),i(u,l,r,a,s),s.delete(l)),RR(n,t,u)}function AY(n,e,t,r,i){n!==e&&MY(e,function(a,s){if(i||(i=new wc),to(a))_0e(n,e,s,t,AY,r,i);else{var o=r?r(PR(n,s),a,s+"",n,e,i):void 0;o===void 0&&(o=a),RR(n,s,o)}},SS)}function S0e(n,e,t){for(var r=-1,i=n==null?0:n.length;++r<i;)if(t(e,n[r]))return!0;return!1}function w0e(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var x0e=Math.max,C0e=Math.min;function EY(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r-1;return t!==void 0&&(i=cue(t),i=t<0?x0e(r+i,0):C0e(i,r-1)),jK(n,CY(e),i,!0)}function M0e(n,e){var t=-1,r=fy(n)?Array(n.length):[];return p0e(n,function(i,a,s){r[++t]=e(i,a,s)}),r}function T0e(n,e){var t=eo(n)?YD:M0e;return t(n,CY(e))}function A0e(n,e){return wS(T0e(n,e),1)}var E0e=1/0;function I0e(n){var e=n==null?0:n.length;return e?wS(n,E0e):[]}function o_(n){for(var e=-1,t=n==null?0:n.length,r={};++e<t;){var i=n[e];r[i[0]]=i[1]}return r}function R0e(n,e){return e.length<2?n:$T(n,Ffe(e,0,-1))}function Ka(n,e){return GT(n,e)}function Ca(n){return n==null}function IY(n){return n===void 0}var P0e=Que(function(n,e,t){AY(n,e,t)});const RY=P0e;function L0e(n,e){return e=hy(e,n),n=R0e(n,e),n==null||delete n[py(w0e(e))]}function D0e(n){return oY(n)?void 0:n}var k0e=1,O0e=2,N0e=4,B0e=aY(function(n,e){var t={};if(n==null)return t;var r=!1;e=YD(e,function(a){return a=hy(a,n),r||(r=a.length>1),a}),dy(n,hY(n),t),r&&(t=Jv(t,k0e|O0e|N0e,D0e));for(var i=e.length;i--;)L0e(t,e[i]);return t});const F0e=B0e;function PY(n,e,t,r){if(!to(n))return n;e=hy(e,n);for(var i=-1,a=e.length,s=a-1,o=n;o!=null&&++i<a;){var l=py(e[i]),c=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(i!=s){var u=o[l];c=r?r(u,l,o):void 0,c===void 0&&(c=to(u)?u:zT(e[i+1])?[]:{})}QD(o,l,c),o=o[l]}return n}function z0e(n,e,t){for(var r=-1,i=e.length,a={};++r<i;){var s=e[r],o=$T(n,s);t(o,s)&&PY(a,hy(s,n),o)}return a}function U0e(n,e){return z0e(n,e,function(t,r){return xY(n,r)})}var H0e=aY(function(n,e){return n==null?{}:U0e(n,e)});const vc=H0e;function V0e(n,e,t){return n==null?n:PY(n,e,t)}var $0e="Expected a function";function o0(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError($0e);return to(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),Mo(n,e,{leading:r,maxWait:e,trailing:i})}var G0e=1/0,W0e=Qv&&1/l6(new Qv([,-0]))[1]==G0e?function(n){return new Qv(n)}:Pue;const q0e=W0e;var K0e=200;function Y0e(n,e,t){var r=-1,i=Wue,a=n.length,s=!0,o=[],l=o;if(t)s=!1,i=S0e;else if(a>=K0e){var c=e?null:q0e(n);if(c)return l6(c);s=!1,i=bY,l=new s_}else l=e?[]:o;e:for(;++r<a;){var u=n[r],d=e?e(u):u;if(u=t||u!==0?u:0,s&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),o.push(u)}else i(l,d,t)||(l!==o&&l.push(d),o.push(u))}return o}var X0e=QK(function(n){return Y0e(wS(n,1,TY,!0))});const FE=X0e,Tr=n=>n===void 0,Vr=n=>typeof n=="boolean",en=n=>typeof n=="number",Wo=n=>!n&&n!==0||St(n)&&n.length===0||Pn(n)&&!Object.keys(n).length,Zo=n=>typeof Element>"u"?!1:n instanceof Element,C0=n=>Ca(n),j0e=n=>qt(n)?!Number.isNaN(Number(n)):!1,WT=n=>n===window;var Z0e=Object.defineProperty,Q0e=Object.defineProperties,J0e=Object.getOwnPropertyDescriptors,EF=Object.getOwnPropertySymbols,eme=Object.prototype.hasOwnProperty,tme=Object.prototype.propertyIsEnumerable,IF=(n,e,t)=>e in n?Z0e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,nme=(n,e)=>{for(var t in e||(e={}))eme.call(e,t)&&IF(n,t,e[t]);if(EF)for(var t of EF(e))tme.call(e,t)&&IF(n,t,e[t]);return n},rme=(n,e)=>Q0e(n,J0e(e));function LR(n,e){var t;const r=Cr();return wa(()=>{r.value=n()},rme(nme({},e),{flush:(t=e==null?void 0:e.flush)!=null?t:"sync"})),G0(r)}var RF;const tr=typeof window<"u",ime=n=>typeof n<"u",DR=n=>typeof n=="function",ame=n=>typeof n=="string",wg=()=>{},kR=tr&&((RF=window==null?void 0:window.navigator)==null?void 0:RF.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function hh(n){return typeof n=="function"?n():S(n)}function LY(n,e){function t(...r){return new Promise((i,a)=>{Promise.resolve(n(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(a)})}return t}function sme(n,e={}){let t,r,i=wg;const a=o=>{clearTimeout(o),i(),i=wg};return o=>{const l=hh(n),c=hh(e.maxWait);return t&&a(t),l<=0||c!==void 0&&c<=0?(r&&(a(r),r=null),Promise.resolve(o())):new Promise((u,d)=>{i=e.rejectOnCancel?d:u,c&&!r&&(r=setTimeout(()=>{t&&a(t),r=null,u(o())},c)),t=setTimeout(()=>{r&&a(r),r=null,u(o())},l)})}}function ome(n,e=!0,t=!0,r=!1){let i=0,a,s=!0,o=wg,l;const c=()=>{a&&(clearTimeout(a),a=void 0,o(),o=wg)};return d=>{const f=hh(n),h=Date.now()-i,p=()=>l=d();return c(),f<=0?(i=Date.now(),p()):(h>f&&(t||!s)?(i=Date.now(),p()):e&&(l=new Promise((m,g)=>{o=r?g:m,a=setTimeout(()=>{i=Date.now(),s=!0,m(p()),c()},Math.max(0,f-h))})),!t&&!a&&(a=setTimeout(()=>s=!0,f)),s=!1,l)}}function lme(n){return n}function cme(n,e){let t,r,i;const a=te(!0),s=()=>{a.value=!0,i()};dt(n,s,{flush:"sync"});const o=DR(e)?e:e.get,l=DR(e)?void 0:e.set,c=Dq((u,d)=>(r=u,i=d,{get(){return a.value&&(t=o(),a.value=!1),r(),t},set(f){l==null||l(f)}}));return Object.isExtensible(c)&&(c.trigger=s),c}function xS(n){return wD()?(xD(n),!0):!1}function ume(n,e=200,t={}){return LY(sme(e,t),n)}function dme(n,e=200,t={}){const r=te(n.value),i=ume(()=>{r.value=n.value},e,t);return dt(n,()=>i()),r}function DY(n,e=200,t=!1,r=!0,i=!1){return LY(ome(e,t,r,i),n)}function c6(n,e=!0){wn()?dn(n):e?n():Yt(n)}function M0(n,e,t={}){const{immediate:r=!0}=t,i=te(!1);let a=null;function s(){a&&(clearTimeout(a),a=null)}function o(){i.value=!1,s()}function l(...c){s(),i.value=!0,a=setTimeout(()=>{i.value=!1,a=null,n(...c)},hh(e))}return r&&(i.value=!0,tr&&l()),xS(o),{isPending:G0(i),start:l,stop:o}}function Xs(n){var e;const t=hh(n);return(e=t==null?void 0:t.$el)!=null?e:t}const Lh=tr?window:void 0,fme=tr?window.document:void 0;function Ar(...n){let e,t,r,i;if(ame(n[0])||Array.isArray(n[0])?([t,r,i]=n,e=Lh):[e,t,r,i]=n,!e)return wg;Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);const a=[],s=()=>{a.forEach(u=>u()),a.length=0},o=(u,d,f,h)=>(u.addEventListener(d,f,h),()=>u.removeEventListener(d,f,h)),l=dt(()=>[Xs(e),hh(i)],([u,d])=>{s(),u&&a.push(...t.flatMap(f=>r.map(h=>o(u,f,h,d))))},{immediate:!0,flush:"post"}),c=()=>{l(),s()};return xS(c),c}let PF=!1;function u6(n,e,t={}){const{window:r=Lh,ignore:i=[],capture:a=!0,detectIframe:s=!1}=t;if(!r)return;kR&&!PF&&(PF=!0,Array.from(r.document.body.children).forEach(f=>f.addEventListener("click",wg)));let o=!0;const l=f=>i.some(h=>{if(typeof h=="string")return Array.from(r.document.querySelectorAll(h)).some(p=>p===f.target||f.composedPath().includes(p));{const p=Xs(h);return p&&(f.target===p||f.composedPath().includes(p))}}),u=[Ar(r,"click",f=>{const h=Xs(n);if(!(!h||h===f.target||f.composedPath().includes(h))){if(f.detail===0&&(o=!l(f)),!o){o=!0;return}e(f)}},{passive:!0,capture:a}),Ar(r,"pointerdown",f=>{const h=Xs(n);h&&(o=!f.composedPath().includes(h)&&!l(f))},{passive:!0}),s&&Ar(r,"blur",f=>{var h;const p=Xs(n);((h=r.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(p!=null&&p.contains(r.document.activeElement))&&e(f)})].filter(Boolean);return()=>u.forEach(f=>f())}function hme(n={}){var e;const{window:t=Lh}=n,r=(e=n.document)!=null?e:t==null?void 0:t.document,i=cme(()=>null,()=>r==null?void 0:r.activeElement);return t&&(Ar(t,"blur",a=>{a.relatedTarget===null&&i.trigger()},!0),Ar(t,"focus",i.trigger,!0)),i}function kY(n,e=!1){const t=te(),r=()=>t.value=!!n();return r(),c6(r,e),t}function pme(n){return JSON.parse(JSON.stringify(n))}const LF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},DF="__vueuse_ssr_handlers__";LF[DF]=LF[DF]||{};function mme(n,e,{window:t=Lh,initialValue:r=""}={}){const i=te(r),a=U(()=>{var s;return Xs(e)||((s=t==null?void 0:t.document)==null?void 0:s.documentElement)});return dt([a,()=>hh(n)],([s,o])=>{var l;if(s&&t){const c=(l=t.getComputedStyle(s).getPropertyValue(o))==null?void 0:l.trim();i.value=c||r}},{immediate:!0}),dt(i,s=>{var o;(o=a.value)!=null&&o.style&&a.value.style.setProperty(hh(n),s)}),i}function vme({document:n=fme}={}){if(!n)return te("visible");const e=te(n.visibilityState);return Ar(n,"visibilitychange",()=>{e.value=n.visibilityState}),e}var kF=Object.getOwnPropertySymbols,gme=Object.prototype.hasOwnProperty,yme=Object.prototype.propertyIsEnumerable,bme=(n,e)=>{var t={};for(var r in n)gme.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&kF)for(var r of kF(n))e.indexOf(r)<0&&yme.call(n,r)&&(t[r]=n[r]);return t};function hi(n,e,t={}){const r=t,{window:i=Lh}=r,a=bme(r,["window"]);let s;const o=kY(()=>i&&"ResizeObserver"in i),l=()=>{s&&(s.disconnect(),s=void 0)},c=dt(()=>Xs(n),d=>{l(),o.value&&i&&d&&(s=new ResizeObserver(e),s.observe(d,a))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return xS(u),{isSupported:o,stop:u}}function OF(n,e={}){const{reset:t=!0,windowResize:r=!0,windowScroll:i=!0,immediate:a=!0}=e,s=te(0),o=te(0),l=te(0),c=te(0),u=te(0),d=te(0),f=te(0),h=te(0);function p(){const m=Xs(n);if(!m){t&&(s.value=0,o.value=0,l.value=0,c.value=0,u.value=0,d.value=0,f.value=0,h.value=0);return}const g=m.getBoundingClientRect();s.value=g.height,o.value=g.bottom,l.value=g.left,c.value=g.right,u.value=g.top,d.value=g.width,f.value=g.x,h.value=g.y}return hi(n,p),dt(()=>Xs(n),m=>!m&&p()),i&&Ar("scroll",p,{capture:!0,passive:!0}),r&&Ar("resize",p,{passive:!0}),c6(()=>{a&&p()}),{height:s,bottom:o,left:l,right:c,top:u,width:d,x:f,y:h,update:p}}var NF=Object.getOwnPropertySymbols,_me=Object.prototype.hasOwnProperty,Sme=Object.prototype.propertyIsEnumerable,wme=(n,e)=>{var t={};for(var r in n)_me.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&NF)for(var r of NF(n))e.indexOf(r)<0&&Sme.call(n,r)&&(t[r]=n[r]);return t};function OY(n,e,t={}){const r=t,{window:i=Lh}=r,a=wme(r,["window"]);let s;const o=kY(()=>i&&"MutationObserver"in i),l=()=>{s&&(s.disconnect(),s=void 0)},c=dt(()=>Xs(n),d=>{l(),o.value&&i&&d&&(s=new MutationObserver(e),s.observe(d,a))},{immediate:!0}),u=()=>{l(),c()};return xS(u),{isSupported:o,stop:u}}var BF;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(BF||(BF={}));var xme=Object.defineProperty,FF=Object.getOwnPropertySymbols,Cme=Object.prototype.hasOwnProperty,Mme=Object.prototype.propertyIsEnumerable,zF=(n,e,t)=>e in n?xme(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Tme=(n,e)=>{for(var t in e||(e={}))Cme.call(e,t)&&zF(n,t,e[t]);if(FF)for(var t of FF(e))Mme.call(e,t)&&zF(n,t,e[t]);return n};const Ame={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Tme({linear:lme},Ame);function NY(n,e,t,r={}){var i,a,s;const{clone:o=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d}=r,f=wn(),h=t||(f==null?void 0:f.emit)||((i=f==null?void 0:f.$emit)==null?void 0:i.bind(f))||((s=(a=f==null?void 0:f.proxy)==null?void 0:a.$emit)==null?void 0:s.bind(f==null?void 0:f.proxy));let p=c;e||(e="modelValue"),p=c||p||`update:${e.toString()}`;const m=v=>o?DR(o)?o(v):pme(v):v,g=()=>ime(n[e])?m(n[e]):d;if(l){const v=g(),y=te(v);return dt(()=>n[e],b=>y.value=m(b)),dt(y,b=>{(b!==n[e]||u)&&h(p,b)},{deep:u}),y}else return U({get(){return g()},set(v){h(p,v)}})}function Eme({window:n=Lh}={}){if(!n)return te(!1);const e=te(n.document.hasFocus());return Ar(n,"blur",()=>{e.value=!1}),Ar(n,"focus",()=>{e.value=!0}),e}function Ime(n={}){const{window:e=Lh,initialWidth:t=1/0,initialHeight:r=1/0,listenOrientation:i=!0,includeScrollbar:a=!0}=n,s=te(t),o=te(r),l=()=>{e&&(a?(s.value=e.innerWidth,o.value=e.innerHeight):(s.value=e.document.documentElement.clientWidth,o.value=e.document.documentElement.clientHeight))};return l(),c6(l),Ar("resize",l,{passive:!0}),i&&Ar("orientationchange",l,{passive:!0}),{width:s,height:o}}class Rme extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function va(n,e){throw new Rme(`[${n}] ${e}`)}const UF={current:0},HF=te(0),BY=2e3,VF=Symbol("elZIndexContextKey"),FY=Symbol("zIndexContextKey"),my=n=>{const e=wn()?Nt(VF,UF):UF,t=n||(wn()?Nt(FY,void 0):void 0),r=U(()=>{const s=S(t);return en(s)?s:BY}),i=U(()=>r.value+HF.value),a=()=>(e.current++,HF.value=e.current,i.value);return!tr&&Nt(VF),{initialZIndex:r,currentZIndex:i,nextZIndex:a}};var Pme={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const Lme=n=>(e,t)=>Dme(e,t,S(n)),Dme=(n,e,t)=>$i(t,n,n).replace(/\{(\w+)\}/g,(r,i)=>{var a;return`${(a=e==null?void 0:e[i])!=null?a:`{${i}}`}`}),kme=n=>{const e=U(()=>S(n).name),t=Ur(n)?n:te(n);return{lang:e,locale:t,t:Lme(n)}},zY=Symbol("localeContextKey"),nr=n=>{const e=n||Nt(zY,te());return kme(U(()=>e.value||Pme))},UY="__epPropKey",Ke=n=>n,Ome=n=>Pn(n)&&!!n[UY],Rc=(n,e)=>{if(!Pn(n)||Ome(n))return n;const{values:t,required:r,default:i,type:a,validator:s}=n,l={type:a,required:!!r,validator:t||s?c=>{let u=!1,d=[];if(t&&(d=Array.from(t),ar(n,"default")&&d.push(i),u||(u=d.includes(c))),s&&(u||(u=s(c))),!u&&d.length>0){const f=[...new Set(d)].map(h=>JSON.stringify(h)).join(", ");Oq(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[UY]:!0};return ar(n,"default")&&(l.default=i),l},Et=n=>o_(Object.entries(n).map(([e,t])=>[e,Rc(t,e)])),Cu=["","default","small","large"],oa=Rc({type:String,values:Cu,required:!1}),HY=Symbol("size"),VY=()=>{const n=Nt(HY,{});return U(()=>S(n.size)||"")},$Y=Symbol("emptyValuesContextKey"),Nme=["",void 0,null],Bme=void 0,vy=Et({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:n=>Kt(n)?!n():!n}}),qT=(n,e)=>{const t=wn()?Nt($Y,te({})):te({}),r=U(()=>n.emptyValues||t.value.emptyValues||Nme),i=U(()=>Kt(n.valueOnClear)?n.valueOnClear():n.valueOnClear!==void 0?n.valueOnClear:Kt(t.value.valueOnClear)?t.value.valueOnClear():t.value.valueOnClear!==void 0?t.value.valueOnClear:e!==void 0?e:Bme),a=s=>r.value.includes(s);return r.value.includes(i.value),{emptyValues:r,valueOnClear:i,isEmptyValue:a}},xg=n=>Object.keys(n),GY=n=>Object.entries(n),z2=(n,e,t)=>({get value(){return $i(n,e,t)},set value(r){V0e(n,e,r)}}),YC=te();function KT(n,e=void 0){const t=wn()?Nt($K,YC):YC;return n?U(()=>{var r,i;return(i=(r=t.value)==null?void 0:r[n])!=null?i:e}):t}function YT(n,e){const t=KT(),r=yt(n,U(()=>{var o;return((o=t.value)==null?void 0:o.namespace)||cb})),i=nr(U(()=>{var o;return(o=t.value)==null?void 0:o.locale})),a=my(U(()=>{var o;return((o=t.value)==null?void 0:o.zIndex)||BY})),s=U(()=>{var o;return S(e)||((o=t.value)==null?void 0:o.size)||""});return d6(U(()=>S(t)||{})),{ns:r,locale:i,zIndex:a,size:s}}const d6=(n,e,t=!1)=>{var r;const i=!!wn(),a=i?KT():void 0,s=(r=e==null?void 0:e.provide)!=null?r:i?Vn:void 0;if(!s)return;const o=U(()=>{const l=S(n);return a!=null&&a.value?Fme(a.value,l):l});return s($K,o),s(zY,U(()=>o.value.locale)),s(GK,U(()=>o.value.namespace)),s(FY,U(()=>o.value.zIndex)),s(HY,{size:U(()=>o.value.size||"")}),s($Y,U(()=>({emptyValues:o.value.emptyValues,valueOnClear:o.value.valueOnClear}))),(t||!YC.value)&&(YC.value=o.value),o},Fme=(n,e)=>{const t=[...new Set([...xg(n),...xg(e)])],r={};for(const i of t)r[i]=e[i]!==void 0?e[i]:n[i];return r},zme=(n=[])=>({version:Nce,install:(t,r)=>{t[jB]||(t[jB]=!0,n.forEach(i=>t.use(i)),r&&d6(r,t,!0))}}),Tn="update:modelValue",Pr="change",cs="input",Ume=Et({zIndex:{type:Ke([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),Hme={scroll:({scrollTop:n,fixed:e})=>en(n)&&Vr(e),[Pr]:n=>Vr(n)};var It=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t};function Vme(n,e,t,r){const i=t-e;return n/=r/2,n<1?i/2*n*n*n+e:i/2*((n-=2)*n*n+2)+e}const ph=n=>tr?window.requestAnimationFrame(n):setTimeout(n,16),T0=n=>tr?window.cancelAnimationFrame(n):clearTimeout(n),WY=(n="")=>n.split(" ").filter(e=>!!e.trim()),mo=(n,e)=>{if(!n||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return n.classList.contains(e)},Dl=(n,e)=>{!n||!e.trim()||n.classList.add(...WY(e))},ks=(n,e)=>{!n||!e.trim()||n.classList.remove(...WY(e))},ud=(n,e)=>{var t;if(!tr||!n||!e)return"";let r=ls(e);r==="float"&&(r="cssFloat");try{const i=n.style[r];if(i)return i;const a=(t=document.defaultView)==null?void 0:t.getComputedStyle(n,"");return a?a[r]:""}catch{return n.style[r]}},qY=(n,e,t)=>{if(!(!n||!e))if(Pn(e))GY(e).forEach(([r,i])=>qY(n,r,i));else{const r=ls(e);n.style[r]=t}};function Pi(n,e="px"){if(!n)return"";if(en(n)||j0e(n))return`${n}${e}`;if(qt(n))return n}const $me=(n,e)=>{if(!tr)return!1;const t={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=ud(n,t);return["scroll","auto","overlay"].some(i=>r.includes(i))},f6=(n,e)=>{if(!tr)return;let t=n;for(;t;){if([window,document,document.documentElement].includes(t))return window;if($me(t,e))return t;t=t.parentNode}return t};let gw;const KY=n=>{var e;if(!tr)return 0;if(gw!==void 0)return gw;const t=document.createElement("div");t.className=`${n}-scrollbar__wrap`,t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const r=t.offsetWidth;t.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",t.appendChild(i);const a=i.offsetWidth;return(e=t.parentNode)==null||e.removeChild(t),gw=r-a,gw};function h6(n,e){if(!tr)return;if(!e){n.scrollTop=0;return}const t=[];let r=e.offsetParent;for(;r!==null&&n!==r&&n.contains(r);)t.push(r),r=r.offsetParent;const i=e.offsetTop+t.reduce((l,c)=>l+c.offsetTop,0),a=i+e.offsetHeight,s=n.scrollTop,o=s+n.clientHeight;i<s?n.scrollTop=i:a>o&&(n.scrollTop=a-n.clientHeight)}function Gme(n,e,t,r,i){const a=Date.now();let s;const o=()=>{const c=Date.now()-a,u=Vme(c>r?r:c,e,t,r);WT(n)?n.scrollTo(window.pageXOffset,u):n.scrollTop=u,c<r?s=ph(o):Kt(i)&&i()};return o(),()=>{s&&T0(s)}}const $F=(n,e)=>WT(e)?n.ownerDocument.documentElement:e,GF=n=>WT(n)?window.scrollY:n.scrollTop,YY="ElAffix",Wme=Pe({name:YY}),qme=Pe({...Wme,props:Ume,emits:Hme,setup(n,{expose:e,emit:t}){const r=n,i=yt("affix"),a=Cr(),s=Cr(),o=Cr(),{height:l}=Ime(),{height:c,width:u,top:d,bottom:f,update:h}=OF(s,{windowScroll:!1}),p=OF(a),m=te(!1),g=te(0),v=te(0),y=U(()=>({height:m.value?`${c.value}px`:"",width:m.value?`${u.value}px`:""})),b=U(()=>{if(!m.value)return{};const x=r.offset?Pi(r.offset):0;return{height:`${c.value}px`,width:`${u.value}px`,top:r.position==="top"?x:"",bottom:r.position==="bottom"?x:"",transform:v.value?`translateY(${v.value}px)`:"",zIndex:r.zIndex}}),_=()=>{if(!o.value)return;g.value=o.value instanceof Window?document.documentElement.scrollTop:o.value.scrollTop||0;const{position:x,target:M,offset:C}=r,T=C+c.value;if(x==="top")if(M){const A=p.bottom.value-T;m.value=C>d.value&&p.bottom.value>0,v.value=A<0?A:0}else m.value=C>d.value;else if(M){const A=l.value-p.top.value-T;m.value=l.value-C<f.value&&l.value>p.top.value,v.value=A<0?-A:0}else m.value=l.value-C<f.value},w=()=>{h(),t("scroll",{scrollTop:g.value,fixed:m.value})};return dt(m,x=>t("change",x)),dn(()=>{var x;r.target?(a.value=(x=document.querySelector(r.target))!=null?x:void 0,a.value||va(YY,`Target does not exist: ${r.target}`)):a.value=document.documentElement,o.value=f6(s.value,!0),h()}),Ar(o,"scroll",w),wa(_),e({update:_,updateRoot:h}),(x,M)=>($(),ge("div",{ref_key:"root",ref:s,class:j(S(i).b()),style:Ft(S(y))},[_e("div",{class:j({[S(i).m("fixed")]:m.value}),style:Ft(S(b))},[Qe(x.$slots,"default")],6)],6))}});var Kme=It(qme,[["__file","affix.vue"]]);const gn=(n,e)=>{if(n.install=t=>{for(const r of[n,...Object.values(e??{})])t.component(r.name,r)},e)for(const[t,r]of Object.entries(e))n[t]=r;return n},XY=(n,e)=>(n.install=t=>{n._context=t._context,t.config.globalProperties[e]=n},n),Yme=(n,e)=>(n.install=t=>{t.directive(e,n)},n),Ci=n=>(n.install=xr,n),Xme=gn(Kme),jme=Et({size:{type:Ke([Number,String])},color:{type:String}}),Zme=Pe({name:"ElIcon",inheritAttrs:!1}),Qme=Pe({...Zme,props:jme,setup(n){const e=n,t=yt("icon"),r=U(()=>{const{size:i,color:a}=e;return!i&&!a?{}:{fontSize:Tr(i)?void 0:Pi(i),"--color":a}});return(i,a)=>($(),ge("i",Bn({class:S(t).b(),style:S(r)},i.$attrs),[Qe(i.$slots,"default")],16))}});var Jme=It(Qme,[["__file","icon.vue"]]);const Gt=gn(Jme);/*! Element Plus Icons Vue v2.3.1 */var eve=Pe({name:"ArrowDown",__name:"arrow-down",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Vd=eve,tve=Pe({name:"ArrowLeft",__name:"arrow-left",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),mh=tve,nve=Pe({name:"ArrowRight",__name:"arrow-right",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Zs=nve,rve=Pe({name:"ArrowUp",__name:"arrow-up",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),p6=rve,ive=Pe({name:"Back",__name:"back",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),_e("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),ave=ive,sve=Pe({name:"Calendar",__name:"calendar",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),ove=sve,lve=Pe({name:"CaretRight",__name:"caret-right",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),jY=lve,cve=Pe({name:"CaretTop",__name:"caret-top",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),uve=cve,dve=Pe({name:"Check",__name:"check",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),CS=dve,fve=Pe({name:"CircleCheckFilled",__name:"circle-check-filled",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),hve=fve,pve=Pe({name:"CircleCheck",__name:"circle-check",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),_e("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),m6=pve,mve=Pe({name:"CircleCloseFilled",__name:"circle-close-filled",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),v6=mve,vve=Pe({name:"CircleClose",__name:"circle-close",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),_e("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),$d=vve,gve=Pe({name:"Clock",__name:"clock",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),_e("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),_e("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),ZY=gve,yve=Pe({name:"Close",__name:"close",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Ac=yve,bve=Pe({name:"DArrowLeft",__name:"d-arrow-left",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),vh=bve,_ve=Pe({name:"DArrowRight",__name:"d-arrow-right",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),gh=_ve,Sve=Pe({name:"DataAnalysis",__name:"data-analysis",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"m665.216 768 110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32zM832 192H192v512h640zM352 448a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v128a32 32 0 0 1-64 0V416a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V352a32 32 0 0 1 32-32"})]))}}),wve=Sve,xve=Pe({name:"Delete",__name:"delete",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),Cve=xve,Mve=Pe({name:"Document",__name:"document",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),OR=Mve,Tve=Pe({name:"Files",__name:"files",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M128 384v448h768V384zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32m64-128h704v64H160zm96-128h512v64H256z"})]))}}),Ave=Tve,Eve=Pe({name:"Film",__name:"film",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M160 160v704h704V160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32"}),_e("path",{fill:"currentColor",d:"M320 288V128h64v352h256V128h64v160h160v64H704v128h160v64H704v128h160v64H704v160h-64V544H384v352h-64V736H128v-64h192V544H128v-64h192V352H128v-64z"})]))}}),Ive=Eve,Rve=Pe({name:"FullScreen",__name:"full-screen",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),Pve=Rve,Lve=Pe({name:"Hide",__name:"hide",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),_e("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),Dve=Lve,kve=Pe({name:"InfoFilled",__name:"info-filled",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),g6=kve,Ove=Pe({name:"Loading",__name:"loading",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),mu=Ove,Nve=Pe({name:"MagicStick",__name:"magic-stick",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M512 64h64v192h-64zm0 576h64v192h-64zM160 480v-64h192v64zm576 0v-64h192v64zM249.856 199.04l45.248-45.184L430.848 289.6 385.6 334.848 249.856 199.104zM657.152 606.4l45.248-45.248 135.744 135.744-45.248 45.248zM114.048 923.2 68.8 877.952l316.8-316.8 45.248 45.248zM702.4 334.848 657.152 289.6l135.744-135.744 45.248 45.248z"})]))}}),Bve=Nve,Fve=Pe({name:"Minus",__name:"minus",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),zve=Fve,Uve=Pe({name:"MoreFilled",__name:"more-filled",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),WF=Uve,Hve=Pe({name:"More",__name:"more",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),Vve=Hve,$ve=Pe({name:"PictureFilled",__name:"picture-filled",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),Gve=$ve,Wve=Pe({name:"Picture",__name:"picture",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M160 160v704h704V160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32"}),_e("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64M185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472 122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888 49.92 39.936-215.808 269.824-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072-.64-.512a32 32 0 0 0-44.8 5.952z"})]))}}),qve=Wve,Kve=Pe({name:"Plus",__name:"plus",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),QY=Kve,Yve=Pe({name:"QuestionFilled",__name:"question-filled",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),Xve=Yve,jve=Pe({name:"RefreshLeft",__name:"refresh-left",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),Zve=jve,Qve=Pe({name:"RefreshRight",__name:"refresh-right",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),Jve=Qve,ege=Pe({name:"ScaleToOriginal",__name:"scale-to-original",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),tge=ege,nge=Pe({name:"Search",__name:"search",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),rge=nge,ige=Pe({name:"SortDown",__name:"sort-down",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),age=ige,sge=Pe({name:"SortUp",__name:"sort-up",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),oge=sge,lge=Pe({name:"StarFilled",__name:"star-filled",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),yw=lge,cge=Pe({name:"Star",__name:"star",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),uge=cge,dge=Pe({name:"SuccessFilled",__name:"success-filled",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),JY=dge,fge=Pe({name:"View",__name:"view",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),hge=fge,pge=Pe({name:"WarningFilled",__name:"warning-filled",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),XT=pge,mge=Pe({name:"ZoomIn",__name:"zoom-in",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),eX=mge,vge=Pe({name:"ZoomOut",__name:"zoom-out",setup(n){return(e,t)=>($(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_e("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),gge=vge;const Dr=Ke([String,Object,Function]),y6={Close:Ac},b6={Close:Ac,SuccessFilled:JY,InfoFilled:g6,WarningFilled:XT,CircleCloseFilled:v6},yh={success:JY,warning:XT,error:v6,info:g6},jT={validating:mu,success:m6,error:$d},yge=["light","dark"],bge=Et({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:xg(yh),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:yge,default:"light"}}),_ge={close:n=>n instanceof MouseEvent},Sge=Pe({name:"ElAlert"}),wge=Pe({...Sge,props:bge,emits:_ge,setup(n,{emit:e}){const t=n,{Close:r}=b6,i=Qi(),a=yt("alert"),s=te(!0),o=U(()=>yh[t.type]),l=U(()=>!!(t.description||i.default)),c=u=>{s.value=!1,e("close",u)};return(u,d)=>($(),rt(sa,{name:S(a).b("fade"),persisted:""},{default:Me(()=>[Sn(_e("div",{class:j([S(a).b(),S(a).m(u.type),S(a).is("center",u.center),S(a).is(u.effect)]),role:"alert"},[u.showIcon&&S(o)?($(),rt(S(Gt),{key:0,class:j([S(a).e("icon"),{[S(a).is("big")]:S(l)}])},{default:Me(()=>[($(),rt(Rn(S(o))))]),_:1},8,["class"])):Je("v-if",!0),_e("div",{class:j(S(a).e("content"))},[u.title||u.$slots.title?($(),ge("span",{key:0,class:j([S(a).e("title"),{"with-description":S(l)}])},[Qe(u.$slots,"title",{},()=>[un(_t(u.title),1)])],2)):Je("v-if",!0),S(l)?($(),ge("p",{key:1,class:j(S(a).e("description"))},[Qe(u.$slots,"default",{},()=>[un(_t(u.description),1)])],2)):Je("v-if",!0),u.closable?($(),ge(Bt,{key:2},[u.closeText?($(),ge("div",{key:0,class:j([S(a).e("close-btn"),S(a).is("customed")]),onClick:c},_t(u.closeText),3)):($(),rt(S(Gt),{key:1,class:j(S(a).e("close-btn")),onClick:c},{default:Me(()=>[pe(S(r))]),_:1},8,["class"]))],64)):Je("v-if",!0)],2)],2),[[lr,s.value]])]),_:3},8,["name"]))}});var xge=It(wge,[["__file","alert.vue"]]);const Cge=gn(xge),ZT=()=>tr&&/firefox/i.test(window.navigator.userAgent);let Jl;const Mge=`
  height:0 !important;
  visibility:hidden !important;
  ${ZT()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Tge=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Age(n){const e=window.getComputedStyle(n),t=e.getPropertyValue("box-sizing"),r=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),i=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:Tge.map(s=>`${s}:${e.getPropertyValue(s)}`).join(";"),paddingSize:r,borderSize:i,boxSizing:t}}function qF(n,e=1,t){var r;Jl||(Jl=document.createElement("textarea"),document.body.appendChild(Jl));const{paddingSize:i,borderSize:a,boxSizing:s,contextStyle:o}=Age(n);Jl.setAttribute("style",`${o};${Mge}`),Jl.value=n.value||n.placeholder||"";let l=Jl.scrollHeight;const c={};s==="border-box"?l=l+a:s==="content-box"&&(l=l-i),Jl.value="";const u=Jl.scrollHeight-i;if(en(e)){let d=u*e;s==="border-box"&&(d=d+i+a),l=Math.max(d,l),c.minHeight=`${d}px`}if(en(t)){let d=u*t;s==="border-box"&&(d=d+i+a),l=Math.min(d,l)}return c.height=`${l}px`,(r=Jl.parentNode)==null||r.removeChild(Jl),Jl=void 0,c}const wi=n=>n,Ege=Et({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Xa=n=>vc(Ege,n),_6=Et({id:{type:String,default:void 0},size:oa,disabled:Boolean,modelValue:{type:Ke([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Ke([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Dr},prefixIcon:{type:Dr},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Ke([Object,Array,String]),default:()=>wi({})},autofocus:Boolean,rows:{type:Number,default:2},...Xa(["ariaLabel"])}),Ige={[Tn]:n=>qt(n),input:n=>qt(n),change:n=>qt(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof Event,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},Rge=["class","style"],Pge=/^on[A-Z]/,MS=(n={})=>{const{excludeListeners:e=!1,excludeKeys:t}=n,r=U(()=>((t==null?void 0:t.value)||[]).concat(Rge)),i=wn();return U(i?()=>{var a;return o_(Object.entries((a=i.proxy)==null?void 0:a.$attrs).filter(([s])=>!r.value.includes(s)&&!(e&&Pge.test(s))))}:()=>({}))},X0=Symbol("formContextKey"),vu=Symbol("formItemContextKey"),KF={prefix:Math.floor(Math.random()*1e4),current:0},Lge=Symbol("elIdInjection"),S6=()=>wn()?Nt(Lge,KF):KF,Ya=n=>{const e=S6(),t=KD();return LR(()=>S(n)||`${t.value}-id-${e.prefix}-${e.current++}`)},hs=()=>{const n=Nt(X0,void 0),e=Nt(vu,void 0);return{form:n,formItem:e}},Xl=(n,{formItemContext:e,disableIdGeneration:t,disableIdManagement:r})=>{t||(t=te(!1)),r||(r=te(!1));const i=te();let a;const s=U(()=>{var o;return!!(!(n.label||n.ariaLabel)&&e&&e.inputIds&&((o=e.inputIds)==null?void 0:o.length)<=1)});return dn(()=>{a=dt([br(n,"id"),t],([o,l])=>{const c=o??(l?void 0:Ya().value);c!==i.value&&(e!=null&&e.removeInputId&&(i.value&&e.removeInputId(i.value),!(r!=null&&r.value)&&!l&&c&&e.addInputId(c)),i.value=c)},{immediate:!0})}),Ec(()=>{a&&a(),e!=null&&e.removeInputId&&i.value&&e.removeInputId(i.value)}),{isLabeledByFormItem:s,inputId:i}},tX=n=>{const e=wn();return U(()=>{var t,r;return(r=(t=e==null?void 0:e.proxy)==null?void 0:t.$props)==null?void 0:r[n]})},ji=(n,e={})=>{const t=te(void 0),r=e.prop?t:tX("size"),i=e.global?t:VY(),a=e.form?{size:void 0}:Nt(X0,void 0),s=e.formItem?{size:void 0}:Nt(vu,void 0);return U(()=>r.value||S(n)||(s==null?void 0:s.size)||(a==null?void 0:a.size)||i.value||"")},ps=n=>{const e=tX("disabled"),t=Nt(X0,void 0);return U(()=>e.value||S(n)||(t==null?void 0:t.disabled)||!1)};function Dh(n,{beforeFocus:e,afterFocus:t,beforeBlur:r,afterBlur:i}={}){const a=wn(),{emit:s}=a,o=Cr(),l=te(!1),c=f=>{Kt(e)&&e(f)||l.value||(l.value=!0,s("focus",f),t==null||t())},u=f=>{var h;Kt(r)&&r(f)||f.relatedTarget&&((h=o.value)!=null&&h.contains(f.relatedTarget))||(l.value=!1,s("blur",f),i==null||i())},d=()=>{var f,h;(f=o.value)!=null&&f.contains(document.activeElement)&&o.value!==document.activeElement||(h=n.value)==null||h.focus()};return dt(o,f=>{f&&f.setAttribute("tabindex","-1")}),Ar(o,"focus",c,!0),Ar(o,"blur",u,!0),Ar(o,"click",d,!0),{isFocused:l,wrapperRef:o,handleFocus:c,handleBlur:u}}const Dge=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n);function TS({afterComposition:n,emit:e}){const t=te(!1),r=o=>{e==null||e("compositionstart",o),t.value=!0},i=o=>{var l;e==null||e("compositionupdate",o);const c=(l=o.target)==null?void 0:l.value,u=c[c.length-1]||"";t.value=!Dge(u)},a=o=>{e==null||e("compositionend",o),t.value&&(t.value=!1,Yt(()=>n(o)))};return{isComposing:t,handleComposition:o=>{o.type==="compositionend"?a(o):i(o)},handleCompositionStart:r,handleCompositionUpdate:i,handleCompositionEnd:a}}function kge(n){let e;function t(){if(n.value==null)return;const{selectionStart:i,selectionEnd:a,value:s}=n.value;if(i==null||a==null)return;const o=s.slice(0,Math.max(0,i)),l=s.slice(Math.max(0,a));e={selectionStart:i,selectionEnd:a,value:s,beforeTxt:o,afterTxt:l}}function r(){if(n.value==null||e==null)return;const{value:i}=n.value,{beforeTxt:a,afterTxt:s,selectionStart:o}=e;if(a==null||s==null||o==null)return;let l=i.length;if(i.endsWith(s))l=i.length-s.length;else if(i.startsWith(a))l=a.length;else{const c=a[o-1],u=i.indexOf(c,o-1);u!==-1&&(l=u+1)}n.value.setSelectionRange(l,l)}return[t,r]}const Oge=Pe({name:"ElInput",inheritAttrs:!1}),Nge=Pe({...Oge,props:_6,emits:Ige,setup(n,{expose:e,emit:t}){const r=n,i=zd(),a=MS(),s=Qi(),o=U(()=>[r.type==="textarea"?m.b():p.b(),p.m(f.value),p.is("disabled",h.value),p.is("exceed",ee.value),{[p.b("group")]:s.prepend||s.append,[p.m("prefix")]:s.prefix||r.prefixIcon,[p.m("suffix")]:s.suffix||r.suffixIcon||r.clearable||r.showPassword,[p.bm("suffix","password-clear")]:z.value&&B.value,[p.b("hidden")]:r.type==="hidden"},i.class]),l=U(()=>[p.e("wrapper"),p.is("focus",C.value)]),{form:c,formItem:u}=hs(),{inputId:d}=Xl(r,{formItemContext:u}),f=ji(),h=ps(),p=yt("input"),m=yt("textarea"),g=Cr(),v=Cr(),y=te(!1),b=te(!1),_=te(),w=Cr(r.inputStyle),x=U(()=>g.value||v.value),{wrapperRef:M,isFocused:C,handleFocus:T,handleBlur:A}=Dh(x,{beforeFocus(){return h.value},afterBlur(){var Q;r.validateEvent&&((Q=u==null?void 0:u.validate)==null||Q.call(u,"blur").catch(we=>void 0))}}),I=U(()=>{var Q;return(Q=c==null?void 0:c.statusIcon)!=null?Q:!1}),L=U(()=>(u==null?void 0:u.validateState)||""),k=U(()=>L.value&&jT[L.value]),N=U(()=>b.value?hge:Dve),F=U(()=>[i.style]),D=U(()=>[r.inputStyle,w.value,{resize:r.resize}]),H=U(()=>Ca(r.modelValue)?"":String(r.modelValue)),z=U(()=>r.clearable&&!h.value&&!r.readonly&&!!H.value&&(C.value||y.value)),B=U(()=>r.showPassword&&!h.value&&!!H.value&&(!!H.value||C.value)),W=U(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!h.value&&!r.readonly&&!r.showPassword),Z=U(()=>H.value.length),ee=U(()=>!!W.value&&Z.value>Number(r.maxlength)),J=U(()=>!!s.suffix||!!r.suffixIcon||z.value||r.showPassword||W.value||!!L.value&&I.value),[re,fe]=kge(g);hi(v,Q=>{if(Re(),!W.value||r.resize!=="both")return;const we=Q[0],{width:Ue}=we.contentRect;_.value={right:`calc(100% - ${Ue+15+6}px)`}});const de=()=>{const{type:Q,autosize:we}=r;if(!(!tr||Q!=="textarea"||!v.value))if(we){const Ue=Pn(we)?we.minRows:void 0,ct=Pn(we)?we.maxRows:void 0,pt=qF(v.value,Ue,ct);w.value={overflowY:"hidden",...pt},Yt(()=>{v.value.offsetHeight,w.value=pt})}else w.value={minHeight:qF(v.value).minHeight}},Re=(Q=>{let we=!1;return()=>{var Ue;if(we||!r.autosize)return;((Ue=v.value)==null?void 0:Ue.offsetParent)===null||(Q(),we=!0)}})(de),De=()=>{const Q=x.value,we=r.formatter?r.formatter(H.value):H.value;!Q||Q.value===we||(Q.value=we)},Ge=async Q=>{re();let{value:we}=Q.target;if(r.formatter&&(we=r.parser?r.parser(we):we),!K.value){if(we===H.value){De();return}t(Tn,we),t("input",we),await Yt(),De(),fe()}},We=Q=>{t("change",Q.target.value)},{isComposing:K,handleCompositionStart:ue,handleCompositionUpdate:ie,handleCompositionEnd:$e}=TS({emit:t,afterComposition:Ge}),Ne=()=>{re(),b.value=!b.value,setTimeout(fe)},Ye=()=>{var Q;return(Q=x.value)==null?void 0:Q.focus()},ce=()=>{var Q;return(Q=x.value)==null?void 0:Q.blur()},he=Q=>{y.value=!1,t("mouseleave",Q)},ke=Q=>{y.value=!0,t("mouseenter",Q)},oe=Q=>{t("keydown",Q)},V=()=>{var Q;(Q=x.value)==null||Q.select()},Y=()=>{t(Tn,""),t("change",""),t("clear"),t("input","")};return dt(()=>r.modelValue,()=>{var Q;Yt(()=>de()),r.validateEvent&&((Q=u==null?void 0:u.validate)==null||Q.call(u,"change").catch(we=>void 0))}),dt(H,()=>De()),dt(()=>r.type,async()=>{await Yt(),De(),de()}),dn(()=>{!r.formatter&&r.parser,De(),Yt(de)}),e({input:g,textarea:v,ref:x,textareaStyle:D,autosize:br(r,"autosize"),isComposing:K,focus:Ye,blur:ce,select:V,clear:Y,resizeTextarea:de}),(Q,we)=>($(),ge("div",{class:j([S(o),{[S(p).bm("group","append")]:Q.$slots.append,[S(p).bm("group","prepend")]:Q.$slots.prepend}]),style:Ft(S(F)),onMouseenter:ke,onMouseleave:he},[Je(" input "),Q.type!=="textarea"?($(),ge(Bt,{key:0},[Je(" prepend slot "),Q.$slots.prepend?($(),ge("div",{key:0,class:j(S(p).be("group","prepend"))},[Qe(Q.$slots,"prepend")],2)):Je("v-if",!0),_e("div",{ref_key:"wrapperRef",ref:M,class:j(S(l))},[Je(" prefix slot "),Q.$slots.prefix||Q.prefixIcon?($(),ge("span",{key:0,class:j(S(p).e("prefix"))},[_e("span",{class:j(S(p).e("prefix-inner"))},[Qe(Q.$slots,"prefix"),Q.prefixIcon?($(),rt(S(Gt),{key:0,class:j(S(p).e("icon"))},{default:Me(()=>[($(),rt(Rn(Q.prefixIcon)))]),_:1},8,["class"])):Je("v-if",!0)],2)],2)):Je("v-if",!0),_e("input",Bn({id:S(d),ref_key:"input",ref:g,class:S(p).e("inner")},S(a),{minlength:Q.minlength,maxlength:Q.maxlength,type:Q.showPassword?b.value?"text":"password":Q.type,disabled:S(h),readonly:Q.readonly,autocomplete:Q.autocomplete,tabindex:Q.tabindex,"aria-label":Q.ariaLabel,placeholder:Q.placeholder,style:Q.inputStyle,form:Q.form,autofocus:Q.autofocus,role:Q.containerRole,onCompositionstart:S(ue),onCompositionupdate:S(ie),onCompositionend:S($e),onInput:Ge,onChange:We,onKeydown:oe}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),Je(" suffix slot "),S(J)?($(),ge("span",{key:1,class:j(S(p).e("suffix"))},[_e("span",{class:j(S(p).e("suffix-inner"))},[!S(z)||!S(B)||!S(W)?($(),ge(Bt,{key:0},[Qe(Q.$slots,"suffix"),Q.suffixIcon?($(),rt(S(Gt),{key:0,class:j(S(p).e("icon"))},{default:Me(()=>[($(),rt(Rn(Q.suffixIcon)))]),_:1},8,["class"])):Je("v-if",!0)],64)):Je("v-if",!0),S(z)?($(),rt(S(Gt),{key:1,class:j([S(p).e("icon"),S(p).e("clear")]),onMousedown:sn(S(xr),["prevent"]),onClick:Y},{default:Me(()=>[pe(S($d))]),_:1},8,["class","onMousedown"])):Je("v-if",!0),S(B)?($(),rt(S(Gt),{key:2,class:j([S(p).e("icon"),S(p).e("password")]),onClick:Ne},{default:Me(()=>[($(),rt(Rn(S(N))))]),_:1},8,["class"])):Je("v-if",!0),S(W)?($(),ge("span",{key:3,class:j(S(p).e("count"))},[_e("span",{class:j(S(p).e("count-inner"))},_t(S(Z))+" / "+_t(Q.maxlength),3)],2)):Je("v-if",!0),S(L)&&S(k)&&S(I)?($(),rt(S(Gt),{key:4,class:j([S(p).e("icon"),S(p).e("validateIcon"),S(p).is("loading",S(L)==="validating")])},{default:Me(()=>[($(),rt(Rn(S(k))))]),_:1},8,["class"])):Je("v-if",!0)],2)],2)):Je("v-if",!0)],2),Je(" append slot "),Q.$slots.append?($(),ge("div",{key:1,class:j(S(p).be("group","append"))},[Qe(Q.$slots,"append")],2)):Je("v-if",!0)],64)):($(),ge(Bt,{key:1},[Je(" textarea "),_e("textarea",Bn({id:S(d),ref_key:"textarea",ref:v,class:[S(m).e("inner"),S(p).is("focus",S(C))]},S(a),{minlength:Q.minlength,maxlength:Q.maxlength,tabindex:Q.tabindex,disabled:S(h),readonly:Q.readonly,autocomplete:Q.autocomplete,style:S(D),"aria-label":Q.ariaLabel,placeholder:Q.placeholder,form:Q.form,autofocus:Q.autofocus,rows:Q.rows,role:Q.containerRole,onCompositionstart:S(ue),onCompositionupdate:S(ie),onCompositionend:S($e),onInput:Ge,onFocus:S(T),onBlur:S(A),onChange:We,onKeydown:oe}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),S(W)?($(),ge("span",{key:0,style:Ft(_.value),class:j(S(p).e("count"))},_t(S(Z))+" / "+_t(Q.maxlength),7)):Je("v-if",!0)],64))],38))}});var Bge=It(Nge,[["__file","input.vue"]]);const Ls=gn(Bge),um=4,nX={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Fge=({move:n,size:e,bar:t})=>({[t.size]:e,transform:`translate${t.axis}(${n}%)`}),w6=Symbol("scrollbarContextKey"),zge=Et({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Uge="Thumb",Hge=Pe({__name:"thumb",props:zge,setup(n){const e=n,t=Nt(w6),r=yt("scrollbar");t||va(Uge,"can not inject scrollbar context");const i=te(),a=te(),s=te({}),o=te(!1);let l=!1,c=!1,u=tr?document.onselectstart:null;const d=U(()=>nX[e.vertical?"vertical":"horizontal"]),f=U(()=>Fge({size:e.size,move:e.move,bar:d.value})),h=U(()=>i.value[d.value.offset]**2/t.wrapElement[d.value.scrollSize]/e.ratio/a.value[d.value.offset]),p=x=>{var M;if(x.stopPropagation(),x.ctrlKey||[1,2].includes(x.button))return;(M=window.getSelection())==null||M.removeAllRanges(),g(x);const C=x.currentTarget;C&&(s.value[d.value.axis]=C[d.value.offset]-(x[d.value.client]-C.getBoundingClientRect()[d.value.direction]))},m=x=>{if(!a.value||!i.value||!t.wrapElement)return;const M=Math.abs(x.target.getBoundingClientRect()[d.value.direction]-x[d.value.client]),C=a.value[d.value.offset]/2,T=(M-C)*100*h.value/i.value[d.value.offset];t.wrapElement[d.value.scroll]=T*t.wrapElement[d.value.scrollSize]/100},g=x=>{x.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),u=document.onselectstart,document.onselectstart=()=>!1},v=x=>{if(!i.value||!a.value||l===!1)return;const M=s.value[d.value.axis];if(!M)return;const C=(i.value.getBoundingClientRect()[d.value.direction]-x[d.value.client])*-1,T=a.value[d.value.offset]-M,A=(C-T)*100*h.value/i.value[d.value.offset];t.wrapElement[d.value.scroll]=A*t.wrapElement[d.value.scrollSize]/100},y=()=>{l=!1,s.value[d.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),w(),c&&(o.value=!1)},b=()=>{c=!1,o.value=!!e.size},_=()=>{c=!0,o.value=l};vr(()=>{w(),document.removeEventListener("mouseup",y)});const w=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return Ar(br(t,"scrollbarElement"),"mousemove",b),Ar(br(t,"scrollbarElement"),"mouseleave",_),(x,M)=>($(),rt(sa,{name:S(r).b("fade"),persisted:""},{default:Me(()=>[Sn(_e("div",{ref_key:"instance",ref:i,class:j([S(r).e("bar"),S(r).is(S(d).key)]),onMousedown:m},[_e("div",{ref_key:"thumb",ref:a,class:j(S(r).e("thumb")),style:Ft(S(f)),onMousedown:p},null,38)],34),[[lr,x.always||o.value]])]),_:1},8,["name"]))}});var YF=It(Hge,[["__file","thumb.vue"]]);const Vge=Et({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),$ge=Pe({__name:"bar",props:Vge,setup(n,{expose:e}){const t=n,r=Nt(w6),i=te(0),a=te(0),s=te(""),o=te(""),l=te(1),c=te(1);return e({handleScroll:f=>{if(f){const h=f.offsetHeight-um,p=f.offsetWidth-um;a.value=f.scrollTop*100/h*l.value,i.value=f.scrollLeft*100/p*c.value}},update:()=>{const f=r==null?void 0:r.wrapElement;if(!f)return;const h=f.offsetHeight-um,p=f.offsetWidth-um,m=h**2/f.scrollHeight,g=p**2/f.scrollWidth,v=Math.max(m,t.minSize),y=Math.max(g,t.minSize);l.value=m/(h-m)/(v/(h-v)),c.value=g/(p-g)/(y/(p-y)),o.value=v+um<h?`${v}px`:"",s.value=y+um<p?`${y}px`:""}}),(f,h)=>($(),ge(Bt,null,[pe(YF,{move:i.value,ratio:c.value,size:s.value,always:f.always},null,8,["move","ratio","size","always"]),pe(YF,{move:a.value,ratio:l.value,size:o.value,vertical:"",always:f.always},null,8,["move","ratio","size","always"])],64))}});var Gge=It($ge,[["__file","bar.vue"]]);const Wge=Et({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Ke([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Xa(["ariaLabel","ariaOrientation"])}),qge={scroll:({scrollTop:n,scrollLeft:e})=>[n,e].every(en)},Kge="ElScrollbar",Yge=Pe({name:Kge}),Xge=Pe({...Yge,props:Wge,emits:qge,setup(n,{expose:e,emit:t}){const r=n,i=yt("scrollbar");let a,s,o=0,l=0;const c=te(),u=te(),d=te(),f=te(),h=U(()=>{const w={};return r.height&&(w.height=Pi(r.height)),r.maxHeight&&(w.maxHeight=Pi(r.maxHeight)),[r.wrapStyle,w]}),p=U(()=>[r.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!r.native}]),m=U(()=>[i.e("view"),r.viewClass]),g=()=>{var w;u.value&&((w=f.value)==null||w.handleScroll(u.value),o=u.value.scrollTop,l=u.value.scrollLeft,t("scroll",{scrollTop:u.value.scrollTop,scrollLeft:u.value.scrollLeft}))};function v(w,x){Pn(w)?u.value.scrollTo(w):en(w)&&en(x)&&u.value.scrollTo(w,x)}const y=w=>{en(w)&&(u.value.scrollTop=w)},b=w=>{en(w)&&(u.value.scrollLeft=w)},_=()=>{var w;(w=f.value)==null||w.update()};return dt(()=>r.noresize,w=>{w?(a==null||a(),s==null||s()):({stop:a}=hi(d,_),s=Ar("resize",_))},{immediate:!0}),dt(()=>[r.maxHeight,r.height],()=>{r.native||Yt(()=>{var w;_(),u.value&&((w=f.value)==null||w.handleScroll(u.value))})}),Vn(w6,pr({scrollbarElement:c,wrapElement:u})),LT(()=>{u.value&&(u.value.scrollTop=o,u.value.scrollLeft=l)}),dn(()=>{r.native||Yt(()=>{_()})}),Io(()=>_()),e({wrapRef:u,update:_,scrollTo:v,setScrollTop:y,setScrollLeft:b,handleScroll:g}),(w,x)=>($(),ge("div",{ref_key:"scrollbarRef",ref:c,class:j(S(i).b())},[_e("div",{ref_key:"wrapRef",ref:u,class:j(S(p)),style:Ft(S(h)),tabindex:w.tabindex,onScroll:g},[($(),rt(Rn(w.tag),{id:w.id,ref_key:"resizeRef",ref:d,class:j(S(m)),style:Ft(w.viewStyle),role:w.role,"aria-label":w.ariaLabel,"aria-orientation":w.ariaOrientation},{default:Me(()=>[Qe(w.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),w.native?Je("v-if",!0):($(),rt(Gge,{key:0,ref_key:"barRef",ref:f,always:w.always,"min-size":w.minSize},null,8,["always","min-size"]))],2))}});var jge=It(Xge,[["__file","scrollbar.vue"]]);const Mu=gn(jge),x6=Symbol("popper"),rX=Symbol("popperContent"),Zge=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],iX=Et({role:{type:String,values:Zge,default:"tooltip"}}),Qge=Pe({name:"ElPopper",inheritAttrs:!1}),Jge=Pe({...Qge,props:iX,setup(n,{expose:e}){const t=n,r=te(),i=te(),a=te(),s=te(),o=U(()=>t.role),l={triggerRef:r,popperInstanceRef:i,contentRef:a,referenceRef:s,role:o};return e(l),Vn(x6,l),(c,u)=>Qe(c.$slots,"default")}});var eye=It(Jge,[["__file","popper.vue"]]);const aX=Et({arrowOffset:{type:Number,default:5}}),tye=Pe({name:"ElPopperArrow",inheritAttrs:!1}),nye=Pe({...tye,props:aX,setup(n,{expose:e}){const t=n,r=yt("popper"),{arrowOffset:i,arrowRef:a,arrowStyle:s}=Nt(rX,void 0);return dt(()=>t.arrowOffset,o=>{i.value=o}),vr(()=>{a.value=void 0}),e({arrowRef:a}),(o,l)=>($(),ge("span",{ref_key:"arrowRef",ref:a,class:j(S(r).e("arrow")),style:Ft(S(s)),"data-popper-arrow":""},null,6))}});var rye=It(nye,[["__file","arrow.vue"]]);const sX=Et({virtualRef:{type:Ke(Object)},virtualTriggering:Boolean,onMouseenter:{type:Ke(Function)},onMouseleave:{type:Ke(Function)},onClick:{type:Ke(Function)},onKeydown:{type:Ke(Function)},onFocus:{type:Ke(Function)},onBlur:{type:Ke(Function)},onContextmenu:{type:Ke(Function)},id:String,open:Boolean}),oX=Symbol("elForwardRef"),iye=n=>{Vn(oX,{setForwardRef:t=>{n.value=t}})},aye=n=>({mounted(e){n(e)},updated(e){n(e)},unmounted(){n(null)}}),sye='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',oye=n=>getComputedStyle(n).position==="fixed"?!1:n.offsetParent!==null,XF=n=>Array.from(n.querySelectorAll(sye)).filter(e=>NR(e)&&oye(e)),NR=n=>{if(n.tabIndex>0||n.tabIndex===0&&n.getAttribute("tabIndex")!==null)return!0;if(n.tabIndex<0||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true")return!1;switch(n.nodeName){case"A":return!!n.href&&n.rel!=="ignore";case"INPUT":return!(n.type==="hidden"||n.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},U2=function(n,e,...t){let r;e.includes("mouse")||e.includes("click")?r="MouseEvents":e.includes("key")?r="KeyboardEvent":r="HTMLEvents";const i=document.createEvent(r);return i.initEvent(e,...t),n.dispatchEvent(i),n},lX=n=>!n.getAttribute("aria-owns"),cX=(n,e,t)=>{const{parentNode:r}=n;if(!r)return null;const i=r.querySelectorAll(t),a=Array.prototype.indexOf.call(i,n);return i[a+e]||null},H2=n=>{n&&(n.focus(),!lX(n)&&n.click())},lye="ElOnlyChild",uX=Pe({name:lye,setup(n,{slots:e,attrs:t}){var r;const i=Nt(oX),a=aye((r=i==null?void 0:i.setForwardRef)!=null?r:xr);return()=>{var s;const o=(s=e.default)==null?void 0:s.call(e,t);if(!o||o.length>1)return null;const l=dX(o);return l?Sn(Mc(l,t),[[a]]):null}}});function dX(n){if(!n)return null;const e=n;for(const t of e){if(Pn(t))switch(t.type){case xa:continue;case hu:case"svg":return jF(t);case Bt:return dX(t.children);default:return t}return jF(t)}return null}function jF(n){const e=yt("only-child");return pe("span",{class:e.e("content")},[n])}const cye=Pe({name:"ElPopperTrigger",inheritAttrs:!1}),uye=Pe({...cye,props:sX,setup(n,{expose:e}){const t=n,{role:r,triggerRef:i}=Nt(x6,void 0);iye(i);const a=U(()=>o.value?t.id:void 0),s=U(()=>{if(r&&r.value==="tooltip")return t.open&&t.id?t.id:void 0}),o=U(()=>{if(r&&r.value!=="tooltip")return r.value}),l=U(()=>o.value?`${t.open}`:void 0);let c;const u=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return dn(()=>{dt(()=>t.virtualRef,d=>{d&&(i.value=Xs(d))},{immediate:!0}),dt(i,(d,f)=>{c==null||c(),c=void 0,Zo(d)&&(u.forEach(h=>{var p;const m=t[h];m&&(d.addEventListener(h.slice(2).toLowerCase(),m),(p=f==null?void 0:f.removeEventListener)==null||p.call(f,h.slice(2).toLowerCase(),m))}),NR(d)&&(c=dt([a,s,o,l],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,m)=>{Ca(h[m])?d.removeAttribute(p):d.setAttribute(p,h[m])})},{immediate:!0}))),Zo(f)&&NR(f)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>f.removeAttribute(h))},{immediate:!0})}),vr(()=>{if(c==null||c(),c=void 0,i.value&&Zo(i.value)){const d=i.value;u.forEach(f=>{const h=t[f];h&&d.removeEventListener(f.slice(2).toLowerCase(),h)}),i.value=void 0}}),e({triggerRef:i}),(d,f)=>d.virtualTriggering?Je("v-if",!0):($(),rt(S(uX),Bn({key:0},d.$attrs,{"aria-controls":S(a),"aria-describedby":S(s),"aria-expanded":S(l),"aria-haspopup":S(o)}),{default:Me(()=>[Qe(d.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var dye=It(uye,[["__file","trigger.vue"]]);const zE="focus-trap.focus-after-trapped",UE="focus-trap.focus-after-released",fye="focus-trap.focusout-prevented",ZF={cancelable:!0,bubbles:!1},hye={cancelable:!0,bubbles:!1},QF="focusAfterTrapped",JF="focusAfterReleased",C6=Symbol("elFocusTrap"),M6=te(),QT=te(0),T6=te(0);let bw=0;const fX=n=>{const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e},e7=(n,e)=>{for(const t of n)if(!pye(t,e))return t},pye=(n,e)=>{if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1},mye=n=>{const e=fX(n),t=e7(e,n),r=e7(e.reverse(),n);return[t,r]},vye=n=>n instanceof HTMLInputElement&&"select"in n,Rf=(n,e)=>{if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),T6.value=window.performance.now(),n!==t&&vye(n)&&e&&n.select()}};function t7(n,e){const t=[...n],r=n.indexOf(e);return r!==-1&&t.splice(r,1),t}const gye=()=>{let n=[];return{push:r=>{const i=n[0];i&&r!==i&&i.pause(),n=t7(n,r),n.unshift(r)},remove:r=>{var i,a;n=t7(n,r),(a=(i=n[0])==null?void 0:i.resume)==null||a.call(i)}}},yye=(n,e=!1)=>{const t=document.activeElement;for(const r of n)if(Rf(r,e),document.activeElement!==t)return},n7=gye(),bye=()=>QT.value>T6.value,_w=()=>{M6.value="pointer",QT.value=window.performance.now()},r7=()=>{M6.value="keyboard",QT.value=window.performance.now()},_ye=()=>(dn(()=>{bw===0&&(document.addEventListener("mousedown",_w),document.addEventListener("touchstart",_w),document.addEventListener("keydown",r7)),bw++}),vr(()=>{bw--,bw<=0&&(document.removeEventListener("mousedown",_w),document.removeEventListener("touchstart",_w),document.removeEventListener("keydown",r7))}),{focusReason:M6,lastUserFocusTimestamp:QT,lastAutomatedFocusTimestamp:T6}),Sw=n=>new CustomEvent(fye,{...hye,detail:n}),Ot={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let gv=[];const i7=n=>{n.code===Ot.esc&&gv.forEach(e=>e(n))},Sye=n=>{dn(()=>{gv.length===0&&document.addEventListener("keydown",i7),tr&&gv.push(n)}),vr(()=>{gv=gv.filter(e=>e!==n),gv.length===0&&tr&&document.removeEventListener("keydown",i7)})},wye=Pe({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[QF,JF,"focusin","focusout","focusout-prevented","release-requested"],setup(n,{emit:e}){const t=te();let r,i;const{focusReason:a}=_ye();Sye(p=>{n.trapped&&!s.paused&&e("release-requested",p)});const s={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},o=p=>{if(!n.loop&&!n.trapped||s.paused)return;const{code:m,altKey:g,ctrlKey:v,metaKey:y,currentTarget:b,shiftKey:_}=p,{loop:w}=n,x=m===Ot.tab&&!g&&!v&&!y,M=document.activeElement;if(x&&M){const C=b,[T,A]=mye(C);if(T&&A){if(!_&&M===A){const L=Sw({focusReason:a.value});e("focusout-prevented",L),L.defaultPrevented||(p.preventDefault(),w&&Rf(T,!0))}else if(_&&[T,C].includes(M)){const L=Sw({focusReason:a.value});e("focusout-prevented",L),L.defaultPrevented||(p.preventDefault(),w&&Rf(A,!0))}}else if(M===C){const L=Sw({focusReason:a.value});e("focusout-prevented",L),L.defaultPrevented||p.preventDefault()}}};Vn(C6,{focusTrapRef:t,onKeydown:o}),dt(()=>n.focusTrapEl,p=>{p&&(t.value=p)},{immediate:!0}),dt([t],([p],[m])=>{p&&(p.addEventListener("keydown",o),p.addEventListener("focusin",u),p.addEventListener("focusout",d)),m&&(m.removeEventListener("keydown",o),m.removeEventListener("focusin",u),m.removeEventListener("focusout",d))});const l=p=>{e(QF,p)},c=p=>e(JF,p),u=p=>{const m=S(t);if(!m)return;const g=p.target,v=p.relatedTarget,y=g&&m.contains(g);n.trapped||v&&m.contains(v)||(r=v),y&&e("focusin",p),!s.paused&&n.trapped&&(y?i=g:Rf(i,!0))},d=p=>{const m=S(t);if(!(s.paused||!m))if(n.trapped){const g=p.relatedTarget;!Ca(g)&&!m.contains(g)&&setTimeout(()=>{if(!s.paused&&n.trapped){const v=Sw({focusReason:a.value});e("focusout-prevented",v),v.defaultPrevented||Rf(i,!0)}},0)}else{const g=p.target;g&&m.contains(g)||e("focusout",p)}};async function f(){await Yt();const p=S(t);if(p){n7.push(s);const m=p.contains(document.activeElement)?r:document.activeElement;if(r=m,!p.contains(m)){const v=new Event(zE,ZF);p.addEventListener(zE,l),p.dispatchEvent(v),v.defaultPrevented||Yt(()=>{let y=n.focusStartEl;qt(y)||(Rf(y),document.activeElement!==y&&(y="first")),y==="first"&&yye(fX(p),!0),(document.activeElement===m||y==="container")&&Rf(p)})}}}function h(){const p=S(t);if(p){p.removeEventListener(zE,l);const m=new CustomEvent(UE,{...ZF,detail:{focusReason:a.value}});p.addEventListener(UE,c),p.dispatchEvent(m),!m.defaultPrevented&&(a.value=="keyboard"||!bye()||p.contains(document.activeElement))&&Rf(r??document.body),p.removeEventListener(UE,c),n7.remove(s)}}return dn(()=>{n.trapped&&f(),dt(()=>n.trapped,p=>{p?f():h()})}),vr(()=>{n.trapped&&h(),t.value&&(t.value.removeEventListener("keydown",o),t.value.removeEventListener("focusin",u),t.value.removeEventListener("focusout",d),t.value=void 0)}),{onKeydown:o}}});function xye(n,e,t,r,i,a){return Qe(n.$slots,"default",{handleKeydown:n.onKeydown})}var gy=It(wye,[["render",xye],["__file","focus-trap.vue"]]),yo="top",Gl="bottom",Wl="right",bo="left",A6="auto",AS=[yo,Gl,Wl,bo],Cg="start",l_="end",Cye="clippingParents",hX="viewport",t1="popper",Mye="reference",a7=AS.reduce(function(n,e){return n.concat([e+"-"+Cg,e+"-"+l_])},[]),Gd=[].concat(AS,[A6]).reduce(function(n,e){return n.concat([e,e+"-"+Cg,e+"-"+l_])},[]),Tye="beforeRead",Aye="read",Eye="afterRead",Iye="beforeMain",Rye="main",Pye="afterMain",Lye="beforeWrite",Dye="write",kye="afterWrite",Oye=[Tye,Aye,Eye,Iye,Rye,Pye,Lye,Dye,kye];function gu(n){return n?(n.nodeName||"").toLowerCase():null}function Pc(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Mg(n){var e=Pc(n).Element;return n instanceof e||n instanceof Element}function Fl(n){var e=Pc(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function E6(n){if(typeof ShadowRoot>"u")return!1;var e=Pc(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Nye(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!Fl(a)||!gu(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(s){var o=i[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function Bye(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),o=s.reduce(function(l,c){return l[c]="",l},{});!Fl(i)||!gu(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}var pX={name:"applyStyles",enabled:!0,phase:"write",fn:Nye,effect:Bye,requires:["computeStyles"]};function lu(n){return n.split("-")[0]}var l0=Math.max,XC=Math.min,Tg=Math.round;function Ag(n,e){e===void 0&&(e=!1);var t=n.getBoundingClientRect(),r=1,i=1;if(Fl(n)&&e){var a=n.offsetHeight,s=n.offsetWidth;s>0&&(r=Tg(t.width)/s||1),a>0&&(i=Tg(t.height)/a||1)}return{width:t.width/r,height:t.height/i,top:t.top/i,right:t.right/r,bottom:t.bottom/i,left:t.left/r,x:t.left/r,y:t.top/i}}function I6(n){var e=Ag(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function mX(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&E6(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Td(n){return Pc(n).getComputedStyle(n)}function Fye(n){return["table","td","th"].indexOf(gu(n))>=0}function kh(n){return((Mg(n)?n.ownerDocument:n.document)||window.document).documentElement}function JT(n){return gu(n)==="html"?n:n.assignedSlot||n.parentNode||(E6(n)?n.host:null)||kh(n)}function s7(n){return!Fl(n)||Td(n).position==="fixed"?null:n.offsetParent}function zye(n){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=navigator.userAgent.indexOf("Trident")!==-1;if(t&&Fl(n)){var r=Td(n);if(r.position==="fixed")return null}var i=JT(n);for(E6(i)&&(i=i.host);Fl(i)&&["html","body"].indexOf(gu(i))<0;){var a=Td(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function ES(n){for(var e=Pc(n),t=s7(n);t&&Fye(t)&&Td(t).position==="static";)t=s7(t);return t&&(gu(t)==="html"||gu(t)==="body"&&Td(t).position==="static")?e:t||zye(n)||e}function R6(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function db(n,e,t){return l0(n,XC(e,t))}function Uye(n,e,t){var r=db(n,e,t);return r>t?t:r}function vX(){return{top:0,right:0,bottom:0,left:0}}function gX(n){return Object.assign({},vX(),n)}function yX(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var Hye=function(n,e){return n=typeof n=="function"?n(Object.assign({},e.rects,{placement:e.placement})):n,gX(typeof n!="number"?n:yX(n,AS))};function Vye(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,s=t.modifiersData.popperOffsets,o=lu(t.placement),l=R6(o),c=[bo,Wl].indexOf(o)>=0,u=c?"height":"width";if(!(!a||!s)){var d=Hye(i.padding,t),f=I6(a),h=l==="y"?yo:bo,p=l==="y"?Gl:Wl,m=t.rects.reference[u]+t.rects.reference[l]-s[l]-t.rects.popper[u],g=s[l]-t.rects.reference[l],v=ES(a),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,b=m/2-g/2,_=d[h],w=y-f[u]-d[p],x=y/2-f[u]/2+b,M=db(_,x,w),C=l;t.modifiersData[r]=(e={},e[C]=M,e.centerOffset=M-x,e)}}function $ye(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!mX(e.elements.popper,i)||(e.elements.arrow=i))}var Gye={name:"arrow",enabled:!0,phase:"main",fn:Vye,effect:$ye,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Eg(n){return n.split("-")[1]}var Wye={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qye(n){var e=n.x,t=n.y,r=window,i=r.devicePixelRatio||1;return{x:Tg(e*i)/i||0,y:Tg(t*i)/i||0}}function o7(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,s=n.offsets,o=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,d=n.isFixed,f=s.x,h=f===void 0?0:f,p=s.y,m=p===void 0?0:p,g=typeof u=="function"?u({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=bo,_=yo,w=window;if(c){var x=ES(t),M="clientHeight",C="clientWidth";if(x===Pc(t)&&(x=kh(t),Td(x).position!=="static"&&o==="absolute"&&(M="scrollHeight",C="scrollWidth")),x=x,i===yo||(i===bo||i===Wl)&&a===l_){_=Gl;var T=d&&x===w&&w.visualViewport?w.visualViewport.height:x[M];m-=T-r.height,m*=l?1:-1}if(i===bo||(i===yo||i===Gl)&&a===l_){b=Wl;var A=d&&x===w&&w.visualViewport?w.visualViewport.width:x[C];h-=A-r.width,h*=l?1:-1}}var I=Object.assign({position:o},c&&Wye),L=u===!0?qye({x:h,y:m}):{x:h,y:m};if(h=L.x,m=L.y,l){var k;return Object.assign({},I,(k={},k[_]=y?"0":"",k[b]=v?"0":"",k.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",k))}return Object.assign({},I,(e={},e[_]=y?m+"px":"",e[b]=v?h+"px":"",e.transform="",e))}function Kye(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,s=a===void 0?!0:a,o=t.roundOffsets,l=o===void 0?!0:o,c={placement:lu(e.placement),variation:Eg(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,o7(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,o7(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var bX={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Kye,data:{}},ww={passive:!0};function Yye(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=i===void 0?!0:i,s=r.resize,o=s===void 0?!0:s,l=Pc(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(u){u.addEventListener("scroll",t.update,ww)}),o&&l.addEventListener("resize",t.update,ww),function(){a&&c.forEach(function(u){u.removeEventListener("scroll",t.update,ww)}),o&&l.removeEventListener("resize",t.update,ww)}}var _X={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Yye,data:{}},Xye={left:"right",right:"left",bottom:"top",top:"bottom"};function V2(n){return n.replace(/left|right|bottom|top/g,function(e){return Xye[e]})}var jye={start:"end",end:"start"};function l7(n){return n.replace(/start|end/g,function(e){return jye[e]})}function P6(n){var e=Pc(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function L6(n){return Ag(kh(n)).left+P6(n).scrollLeft}function Zye(n){var e=Pc(n),t=kh(n),r=e.visualViewport,i=t.clientWidth,a=t.clientHeight,s=0,o=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,o=r.offsetTop)),{width:i,height:a,x:s+L6(n),y:o}}function Qye(n){var e,t=kh(n),r=P6(n),i=(e=n.ownerDocument)==null?void 0:e.body,a=l0(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=l0(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+L6(n),l=-r.scrollTop;return Td(i||t).direction==="rtl"&&(o+=l0(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}function D6(n){var e=Td(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function SX(n){return["html","body","#document"].indexOf(gu(n))>=0?n.ownerDocument.body:Fl(n)&&D6(n)?n:SX(JT(n))}function fb(n,e){var t;e===void 0&&(e=[]);var r=SX(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=Pc(r),s=i?[a].concat(a.visualViewport||[],D6(r)?r:[]):r,o=e.concat(s);return i?o:o.concat(fb(JT(s)))}function BR(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Jye(n){var e=Ag(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function c7(n,e){return e===hX?BR(Zye(n)):Mg(e)?Jye(e):BR(Qye(kh(n)))}function e1e(n){var e=fb(JT(n)),t=["absolute","fixed"].indexOf(Td(n).position)>=0,r=t&&Fl(n)?ES(n):n;return Mg(r)?e.filter(function(i){return Mg(i)&&mX(i,r)&&gu(i)!=="body"}):[]}function t1e(n,e,t){var r=e==="clippingParents"?e1e(n):[].concat(e),i=[].concat(r,[t]),a=i[0],s=i.reduce(function(o,l){var c=c7(n,l);return o.top=l0(c.top,o.top),o.right=XC(c.right,o.right),o.bottom=XC(c.bottom,o.bottom),o.left=l0(c.left,o.left),o},c7(n,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function wX(n){var e=n.reference,t=n.element,r=n.placement,i=r?lu(r):null,a=r?Eg(r):null,s=e.x+e.width/2-t.width/2,o=e.y+e.height/2-t.height/2,l;switch(i){case yo:l={x:s,y:e.y-t.height};break;case Gl:l={x:s,y:e.y+e.height};break;case Wl:l={x:e.x+e.width,y:o};break;case bo:l={x:e.x-t.width,y:o};break;default:l={x:e.x,y:e.y}}var c=i?R6(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(a){case Cg:l[c]=l[c]-(e[u]/2-t[u]/2);break;case l_:l[c]=l[c]+(e[u]/2-t[u]/2);break}}return l}function c_(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,a=t.boundary,s=a===void 0?Cye:a,o=t.rootBoundary,l=o===void 0?hX:o,c=t.elementContext,u=c===void 0?t1:c,d=t.altBoundary,f=d===void 0?!1:d,h=t.padding,p=h===void 0?0:h,m=gX(typeof p!="number"?p:yX(p,AS)),g=u===t1?Mye:t1,v=n.rects.popper,y=n.elements[f?g:u],b=t1e(Mg(y)?y:y.contextElement||kh(n.elements.popper),s,l),_=Ag(n.elements.reference),w=wX({reference:_,element:v,strategy:"absolute",placement:i}),x=BR(Object.assign({},v,w)),M=u===t1?x:_,C={top:b.top-M.top+m.top,bottom:M.bottom-b.bottom+m.bottom,left:b.left-M.left+m.left,right:M.right-b.right+m.right},T=n.modifiersData.offset;if(u===t1&&T){var A=T[i];Object.keys(C).forEach(function(I){var L=[Wl,Gl].indexOf(I)>=0?1:-1,k=[yo,Gl].indexOf(I)>=0?"y":"x";C[I]+=A[k]*L})}return C}function n1e(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,a=t.rootBoundary,s=t.padding,o=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?Gd:l,u=Eg(r),d=u?o?a7:a7.filter(function(p){return Eg(p)===u}):AS,f=d.filter(function(p){return c.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,m){return p[m]=c_(n,{placement:m,boundary:i,rootBoundary:a,padding:s})[lu(m)],p},{});return Object.keys(h).sort(function(p,m){return h[p]-h[m]})}function r1e(n){if(lu(n)===A6)return[];var e=V2(n);return[l7(n),e,l7(e)]}function i1e(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,s=t.altAxis,o=s===void 0?!0:s,l=t.fallbackPlacements,c=t.padding,u=t.boundary,d=t.rootBoundary,f=t.altBoundary,h=t.flipVariations,p=h===void 0?!0:h,m=t.allowedAutoPlacements,g=e.options.placement,v=lu(g),y=v===g,b=l||(y||!p?[V2(g)]:r1e(g)),_=[g].concat(b).reduce(function(re,fe){return re.concat(lu(fe)===A6?n1e(e,{placement:fe,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):fe)},[]),w=e.rects.reference,x=e.rects.popper,M=new Map,C=!0,T=_[0],A=0;A<_.length;A++){var I=_[A],L=lu(I),k=Eg(I)===Cg,N=[yo,Gl].indexOf(L)>=0,F=N?"width":"height",D=c_(e,{placement:I,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),H=N?k?Wl:bo:k?Gl:yo;w[F]>x[F]&&(H=V2(H));var z=V2(H),B=[];if(a&&B.push(D[L]<=0),o&&B.push(D[H]<=0,D[z]<=0),B.every(function(re){return re})){T=I,C=!1;break}M.set(I,B)}if(C)for(var W=p?3:1,Z=function(re){var fe=_.find(function(de){var me=M.get(de);if(me)return me.slice(0,re).every(function(Re){return Re})});if(fe)return T=fe,"break"},ee=W;ee>0;ee--){var J=Z(ee);if(J==="break")break}e.placement!==T&&(e.modifiersData[r]._skip=!0,e.placement=T,e.reset=!0)}}var a1e={name:"flip",enabled:!0,phase:"main",fn:i1e,requiresIfExists:["offset"],data:{_skip:!1}};function u7(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function d7(n){return[yo,Wl,Gl,bo].some(function(e){return n[e]>=0})}function s1e(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,s=c_(e,{elementContext:"reference"}),o=c_(e,{altBoundary:!0}),l=u7(s,r),c=u7(o,i,a),u=d7(l),d=d7(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var o1e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:s1e};function l1e(n,e,t){var r=lu(n),i=[bo,yo].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[bo,Wl].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function c1e(n){var e=n.state,t=n.options,r=n.name,i=t.offset,a=i===void 0?[0,0]:i,s=Gd.reduce(function(u,d){return u[d]=l1e(d,e.rects,a),u},{}),o=s[e.placement],l=o.x,c=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}var u1e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:c1e};function d1e(n){var e=n.state,t=n.name;e.modifiersData[t]=wX({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var xX={name:"popperOffsets",enabled:!0,phase:"read",fn:d1e,data:{}};function f1e(n){return n==="x"?"y":"x"}function h1e(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=i===void 0?!0:i,s=t.altAxis,o=s===void 0?!1:s,l=t.boundary,c=t.rootBoundary,u=t.altBoundary,d=t.padding,f=t.tether,h=f===void 0?!0:f,p=t.tetherOffset,m=p===void 0?0:p,g=c_(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=lu(e.placement),y=Eg(e.placement),b=!y,_=R6(v),w=f1e(_),x=e.modifiersData.popperOffsets,M=e.rects.reference,C=e.rects.popper,T=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,A=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),I=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(x){if(a){var k,N=_==="y"?yo:bo,F=_==="y"?Gl:Wl,D=_==="y"?"height":"width",H=x[_],z=H+g[N],B=H-g[F],W=h?-C[D]/2:0,Z=y===Cg?M[D]:C[D],ee=y===Cg?-C[D]:-M[D],J=e.elements.arrow,re=h&&J?I6(J):{width:0,height:0},fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:vX(),de=fe[N],me=fe[F],Re=db(0,M[D],re[D]),De=b?M[D]/2-W-Re-de-A.mainAxis:Z-Re-de-A.mainAxis,Ge=b?-M[D]/2+W+Re+me+A.mainAxis:ee+Re+me+A.mainAxis,We=e.elements.arrow&&ES(e.elements.arrow),K=We?_==="y"?We.clientTop||0:We.clientLeft||0:0,ue=(k=I==null?void 0:I[_])!=null?k:0,ie=H+De-ue-K,$e=H+Ge-ue,Ne=db(h?XC(z,ie):z,H,h?l0(B,$e):B);x[_]=Ne,L[_]=Ne-H}if(o){var Ye,ce=_==="x"?yo:bo,he=_==="x"?Gl:Wl,ke=x[w],oe=w==="y"?"height":"width",V=ke+g[ce],Y=ke-g[he],Q=[yo,bo].indexOf(v)!==-1,we=(Ye=I==null?void 0:I[w])!=null?Ye:0,Ue=Q?V:ke-M[oe]-C[oe]-we+A.altAxis,ct=Q?ke+M[oe]+C[oe]-we-A.altAxis:Y,pt=h&&Q?Uye(Ue,ke,ct):db(h?Ue:V,ke,h?ct:Y);x[w]=pt,L[w]=pt-ke}e.modifiersData[r]=L}}var p1e={name:"preventOverflow",enabled:!0,phase:"main",fn:h1e,requiresIfExists:["offset"]};function m1e(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function v1e(n){return n===Pc(n)||!Fl(n)?P6(n):m1e(n)}function g1e(n){var e=n.getBoundingClientRect(),t=Tg(e.width)/n.offsetWidth||1,r=Tg(e.height)/n.offsetHeight||1;return t!==1||r!==1}function y1e(n,e,t){t===void 0&&(t=!1);var r=Fl(e),i=Fl(e)&&g1e(e),a=kh(e),s=Ag(n,i),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((gu(e)!=="body"||D6(a))&&(o=v1e(e)),Fl(e)?(l=Ag(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=L6(a))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function b1e(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!t.has(o)){var l=e.get(o);l&&i(l)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||i(a)}),r}function _1e(n){var e=b1e(n);return Oye.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function S1e(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function w1e(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var f7={placement:"bottom",modifiers:[],strategy:"absolute"};function h7(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function k6(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?f7:i;return function(s,o,l){l===void 0&&(l=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},f7,a),modifiersData:{},elements:{reference:s,popper:o},attributes:{},styles:{}},u=[],d=!1,f={state:c,setOptions:function(m){var g=typeof m=="function"?m(c.options):m;p(),c.options=Object.assign({},a,c.options,g),c.scrollParents={reference:Mg(s)?fb(s):s.contextElement?fb(s.contextElement):[],popper:fb(o)};var v=_1e(w1e([].concat(r,c.options.modifiers)));return c.orderedModifiers=v.filter(function(y){return y.enabled}),h(),f.update()},forceUpdate:function(){if(!d){var m=c.elements,g=m.reference,v=m.popper;if(h7(g,v)){c.rects={reference:y1e(g,ES(v),c.options.strategy==="fixed"),popper:I6(v)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var y=0;y<c.orderedModifiers.length;y++){if(c.reset===!0){c.reset=!1,y=-1;continue}var b=c.orderedModifiers[y],_=b.fn,w=b.options,x=w===void 0?{}:w,M=b.name;typeof _=="function"&&(c=_({state:c,options:x,name:M,instance:f})||c)}}}},update:S1e(function(){return new Promise(function(m){f.forceUpdate(),m(c)})}),destroy:function(){p(),d=!0}};if(!h7(s,o))return f;f.setOptions(l).then(function(m){!d&&l.onFirstUpdate&&l.onFirstUpdate(m)});function h(){c.orderedModifiers.forEach(function(m){var g=m.name,v=m.options,y=v===void 0?{}:v,b=m.effect;if(typeof b=="function"){var _=b({state:c,name:g,instance:f,options:y}),w=function(){};u.push(_||w)}})}function p(){u.forEach(function(m){return m()}),u=[]}return f}}k6();var x1e=[_X,xX,bX,pX];k6({defaultModifiers:x1e});var C1e=[_X,xX,bX,pX,u1e,a1e,p1e,Gye,o1e],M1e=k6({defaultModifiers:C1e});const T1e=["fixed","absolute"],A1e=Et({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Ke(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Gd,default:"bottom"},popperOptions:{type:Ke(Object),default:()=>({})},strategy:{type:String,values:T1e,default:"absolute"}}),CX=Et({...A1e,id:String,style:{type:Ke([String,Array,Object])},className:{type:Ke([String,Array,Object])},effect:{type:Ke(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Ke([String,Array,Object])},popperStyle:{type:Ke([String,Array,Object])},referenceEl:{type:Ke(Object)},triggerTargetEl:{type:Ke(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Xa(["ariaLabel"])}),E1e={mouseenter:n=>n instanceof MouseEvent,mouseleave:n=>n instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},I1e=(n,e)=>{const t=te(!1),r=te();return{focusStartRef:r,trapped:t,onFocusAfterReleased:c=>{var u;((u=c.detail)==null?void 0:u.focusReason)!=="pointer"&&(r.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:c=>{n.visible&&!t.value&&(c.target&&(r.value=c.target),t.value=!0)},onFocusoutPrevented:c=>{n.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),t.value=!1)},onReleaseRequested:()=>{t.value=!1,e("close")}}},R1e=(n,e=[])=>{const{placement:t,strategy:r,popperOptions:i}=n,a={placement:t,strategy:r,...i,modifiers:[...L1e(n),...e]};return D1e(a,i==null?void 0:i.modifiers),a},P1e=n=>{if(tr)return Xs(n)};function L1e(n){const{offset:e,gpuAcceleration:t,fallbackPlacements:r}=n;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:t}}]}function D1e(n,e){e&&(n.modifiers=[...n.modifiers,...e??[]])}const k1e=(n,e,t={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const c=O1e(l);Object.assign(s.value,c)},requires:["computeStyles"]},i=U(()=>{const{onFirstUpdate:l,placement:c,strategy:u,modifiers:d}=S(t);return{onFirstUpdate:l,placement:c||"bottom",strategy:u||"absolute",modifiers:[...d||[],r,{name:"applyStyles",enabled:!1}]}}),a=Cr(),s=te({styles:{popper:{position:S(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return dt(i,l=>{const c=S(a);c&&c.setOptions(l)},{deep:!0}),dt([n,e],([l,c])=>{o(),!(!l||!c)&&(a.value=M1e(l,c,S(i)))}),vr(()=>{o()}),{state:U(()=>{var l;return{...((l=S(a))==null?void 0:l.state)||{}}}),styles:U(()=>S(s).styles),attributes:U(()=>S(s).attributes),update:()=>{var l;return(l=S(a))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=S(a))==null?void 0:l.forceUpdate()},instanceRef:U(()=>S(a))}};function O1e(n){const e=Object.keys(n.elements),t=o_(e.map(i=>[i,n.styles[i]||{}])),r=o_(e.map(i=>[i,n.attributes[i]]));return{styles:t,attributes:r}}const N1e=0,B1e=n=>{const{popperInstanceRef:e,contentRef:t,triggerRef:r,role:i}=Nt(x6,void 0),a=te(),s=te(),o=U(()=>({name:"eventListeners",enabled:!!n.visible})),l=U(()=>{var v;const y=S(a),b=(v=S(s))!=null?v:N1e;return{name:"arrow",enabled:!IY(y),options:{element:y,padding:b}}}),c=U(()=>({onFirstUpdate:()=>{p()},...R1e(n,[S(l),S(o)])})),u=U(()=>P1e(n.referenceEl)||S(r)),{attributes:d,state:f,styles:h,update:p,forceUpdate:m,instanceRef:g}=k1e(u,t,c);return dt(g,v=>e.value=v),dn(()=>{dt(()=>{var v;return(v=S(u))==null?void 0:v.getBoundingClientRect()},()=>{p()})}),{attributes:d,arrowRef:a,contentRef:t,instanceRef:g,state:f,styles:h,role:i,forceUpdate:m,update:p}},F1e=(n,{attributes:e,styles:t,role:r})=>{const{nextZIndex:i}=my(),a=yt("popper"),s=U(()=>S(e).popper),o=te(en(n.zIndex)?n.zIndex:i()),l=U(()=>[a.b(),a.is("pure",n.pure),a.is(n.effect),n.popperClass]),c=U(()=>[{zIndex:S(o)},S(t).popper,n.popperStyle||{}]),u=U(()=>r.value==="dialog"?"false":void 0),d=U(()=>S(t).arrow||{});return{ariaModal:u,arrowStyle:d,contentAttrs:s,contentClass:l,contentStyle:c,contentZIndex:o,updateZIndex:()=>{o.value=en(n.zIndex)?n.zIndex:i()}}},z1e=Pe({name:"ElPopperContent"}),U1e=Pe({...z1e,props:CX,emits:E1e,setup(n,{expose:e,emit:t}){const r=n,{focusStartRef:i,trapped:a,onFocusAfterReleased:s,onFocusAfterTrapped:o,onFocusInTrap:l,onFocusoutPrevented:c,onReleaseRequested:u}=I1e(r,t),{attributes:d,arrowRef:f,contentRef:h,styles:p,instanceRef:m,role:g,update:v}=B1e(r),{ariaModal:y,arrowStyle:b,contentAttrs:_,contentClass:w,contentStyle:x,updateZIndex:M}=F1e(r,{styles:p,attributes:d,role:g}),C=Nt(vu,void 0),T=te();Vn(rX,{arrowStyle:b,arrowRef:f,arrowOffset:T}),C&&Vn(vu,{...C,addInputId:xr,removeInputId:xr});let A;const I=(k=!0)=>{v(),k&&M()},L=()=>{I(!1),r.visible&&r.focusOnShow?a.value=!0:r.visible===!1&&(a.value=!1)};return dn(()=>{dt(()=>r.triggerTargetEl,(k,N)=>{A==null||A(),A=void 0;const F=S(k||h.value),D=S(N||h.value);Zo(F)&&(A=dt([g,()=>r.ariaLabel,y,()=>r.id],H=>{["role","aria-label","aria-modal","id"].forEach((z,B)=>{Ca(H[B])?F.removeAttribute(z):F.setAttribute(z,H[B])})},{immediate:!0})),D!==F&&Zo(D)&&["role","aria-label","aria-modal","id"].forEach(H=>{D.removeAttribute(H)})},{immediate:!0}),dt(()=>r.visible,L,{immediate:!0})}),vr(()=>{A==null||A(),A=void 0}),e({popperContentRef:h,popperInstanceRef:m,updatePopper:I,contentStyle:x}),(k,N)=>($(),ge("div",Bn({ref_key:"contentRef",ref:h},S(_),{style:S(x),class:S(w),tabindex:"-1",onMouseenter:F=>k.$emit("mouseenter",F),onMouseleave:F=>k.$emit("mouseleave",F)}),[pe(S(gy),{trapped:S(a),"trap-on-focus-in":!0,"focus-trap-el":S(h),"focus-start-el":S(i),onFocusAfterTrapped:S(o),onFocusAfterReleased:S(s),onFocusin:S(l),onFocusoutPrevented:S(c),onReleaseRequested:S(u)},{default:Me(()=>[Qe(k.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var H1e=It(U1e,[["__file","content.vue"]]);const MX=gn(eye),eA=Symbol("elTooltip");function p7(){let n;const e=(r,i)=>{t(),n=window.setTimeout(r,i)},t=()=>window.clearTimeout(n);return xS(()=>t()),{registerTimeout:e,cancelTimeout:t}}const V1e=Et({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),$1e=({showAfter:n,hideAfter:e,autoClose:t,open:r,close:i})=>{const{registerTimeout:a}=p7(),{registerTimeout:s,cancelTimeout:o}=p7();return{onOpen:u=>{a(()=>{r(u);const d=S(t);en(d)&&d>0&&s(()=>{i(u)},d)},S(n))},onClose:u=>{o(),a(()=>{i(u)},S(e))}}},Ea=Et({...V1e,...CX,appendTo:{type:Ke([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:Ke(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Xa(["ariaLabel"])}),u_=Et({...sX,disabled:Boolean,trigger:{type:Ke([String,Array]),default:"hover"},triggerKeys:{type:Ke(Array),default:()=>[Ot.enter,Ot.numpadEnter,Ot.space]}}),G1e=Rc({type:Ke(Boolean),default:null}),W1e=Rc({type:Ke(Function)}),TX=n=>{const e=`update:${n}`,t=`onUpdate:${n}`,r=[e],i={[n]:G1e,[t]:W1e};return{useModelToggle:({indicator:s,toggleReason:o,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:u,onHide:d})=>{const f=wn(),{emit:h}=f,p=f.props,m=U(()=>Kt(p[t])),g=U(()=>p[n]===null),v=M=>{s.value!==!0&&(s.value=!0,o&&(o.value=M),Kt(u)&&u(M))},y=M=>{s.value!==!1&&(s.value=!1,o&&(o.value=M),Kt(d)&&d(M))},b=M=>{if(p.disabled===!0||Kt(c)&&!c())return;const C=m.value&&tr;C&&h(e,!0),(g.value||!C)&&v(M)},_=M=>{if(p.disabled===!0||!tr)return;const C=m.value&&tr;C&&h(e,!1),(g.value||!C)&&y(M)},w=M=>{Vr(M)&&(p.disabled&&M?m.value&&h(e,!1):s.value!==M&&(M?v():y()))},x=()=>{s.value?_():b()};return dt(()=>p[n],w),l&&f.appContext.config.globalProperties.$route!==void 0&&dt(()=>({...f.proxy.$route}),()=>{l.value&&s.value&&_()}),dn(()=>{w(p[n])}),{hide:_,show:b,toggle:x,hasUpdateHandler:m}},useModelToggleProps:i,useModelToggleEmits:r}};TX("modelValue");const{useModelToggleProps:q1e,useModelToggleEmits:K1e,useModelToggle:Y1e}=TX("visible"),X1e=Et({...iX,...q1e,...Ea,...u_,...aX,showArrow:{type:Boolean,default:!0}}),j1e=[...K1e,"before-show","before-hide","show","hide","open","close"],Z1e=(n,e)=>St(n)?n.includes(e):n===e,dm=(n,e,t)=>r=>{Z1e(S(n),e)&&t(r)},Ri=(n,e,{checkForDefaultPrevented:t=!0}={})=>i=>{const a=n==null?void 0:n(i);if(t===!1||!a)return e==null?void 0:e(i)},m7=n=>e=>e.pointerType==="mouse"?n(e):void 0,Q1e=Pe({name:"ElTooltipTrigger"}),J1e=Pe({...Q1e,props:u_,setup(n,{expose:e}){const t=n,r=yt("tooltip"),{controlled:i,id:a,open:s,onOpen:o,onClose:l,onToggle:c}=Nt(eA,void 0),u=te(null),d=()=>{if(S(i)||t.disabled)return!0},f=br(t,"trigger"),h=Ri(d,dm(f,"hover",o)),p=Ri(d,dm(f,"hover",l)),m=Ri(d,dm(f,"click",_=>{_.button===0&&c(_)})),g=Ri(d,dm(f,"focus",o)),v=Ri(d,dm(f,"focus",l)),y=Ri(d,dm(f,"contextmenu",_=>{_.preventDefault(),c(_)})),b=Ri(d,_=>{const{code:w}=_;t.triggerKeys.includes(w)&&(_.preventDefault(),c(_))});return e({triggerRef:u}),(_,w)=>($(),rt(S(dye),{id:S(a),"virtual-ref":_.virtualRef,open:S(s),"virtual-triggering":_.virtualTriggering,class:j(S(r).e("trigger")),onBlur:S(v),onClick:S(m),onContextmenu:S(y),onFocus:S(g),onMouseenter:S(h),onMouseleave:S(p),onKeydown:S(b)},{default:Me(()=>[Qe(_.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ebe=It(J1e,[["__file","trigger.vue"]]);const tbe=Et({to:{type:Ke([String,Object]),required:!0},disabled:Boolean}),nbe=Pe({__name:"teleport",props:tbe,setup(n){return(e,t)=>e.disabled?Qe(e.$slots,"default",{key:0}):($(),rt(fK,{key:1,to:e.to},[Qe(e.$slots,"default")],8,["to"]))}});var rbe=It(nbe,[["__file","teleport.vue"]]);const yy=gn(rbe),AX=()=>{const n=KD(),e=S6(),t=U(()=>`${n.value}-popper-container-${e.prefix}`),r=U(()=>`#${t.value}`);return{id:t,selector:r}},ibe=n=>{const e=document.createElement("div");return e.id=n,document.body.appendChild(e),e},abe=()=>{const{id:n,selector:e}=AX();return vS(()=>{tr&&(document.body.querySelector(e.value)||ibe(n.value))}),{id:n,selector:e}},sbe=Pe({name:"ElTooltipContent",inheritAttrs:!1}),obe=Pe({...sbe,props:Ea,setup(n,{expose:e}){const t=n,{selector:r}=AX(),i=yt("tooltip"),a=te();let s;const{controlled:o,id:l,open:c,trigger:u,onClose:d,onOpen:f,onShow:h,onHide:p,onBeforeShow:m,onBeforeHide:g}=Nt(eA,void 0),v=U(()=>t.transition||`${i.namespace.value}-fade-in-linear`),y=U(()=>t.persistent);vr(()=>{s==null||s()});const b=U(()=>S(y)?!0:S(c)),_=U(()=>t.disabled?!1:S(c)),w=U(()=>t.appendTo||r.value),x=U(()=>{var D;return(D=t.style)!=null?D:{}}),M=te(!0),C=()=>{p(),M.value=!0},T=()=>{if(S(o))return!0},A=Ri(T,()=>{t.enterable&&S(u)==="hover"&&f()}),I=Ri(T,()=>{S(u)==="hover"&&d()}),L=()=>{var D,H;(H=(D=a.value)==null?void 0:D.updatePopper)==null||H.call(D),m==null||m()},k=()=>{g==null||g()},N=()=>{h(),s=u6(U(()=>{var D;return(D=a.value)==null?void 0:D.popperContentRef}),()=>{if(S(o))return;S(u)!=="hover"&&d()})},F=()=>{t.virtualTriggering||d()};return dt(()=>S(c),D=>{D?M.value=!1:s==null||s()},{flush:"post"}),dt(()=>t.content,()=>{var D,H;(H=(D=a.value)==null?void 0:D.updatePopper)==null||H.call(D)}),e({contentRef:a}),(D,H)=>($(),rt(S(yy),{disabled:!D.teleported,to:S(w)},{default:Me(()=>[pe(sa,{name:S(v),onAfterLeave:C,onBeforeEnter:L,onAfterEnter:N,onBeforeLeave:k},{default:Me(()=>[S(b)?Sn(($(),rt(S(H1e),Bn({key:0,id:S(l),ref_key:"contentRef",ref:a},D.$attrs,{"aria-label":D.ariaLabel,"aria-hidden":M.value,"boundaries-padding":D.boundariesPadding,"fallback-placements":D.fallbackPlacements,"gpu-acceleration":D.gpuAcceleration,offset:D.offset,placement:D.placement,"popper-options":D.popperOptions,strategy:D.strategy,effect:D.effect,enterable:D.enterable,pure:D.pure,"popper-class":D.popperClass,"popper-style":[D.popperStyle,S(x)],"reference-el":D.referenceEl,"trigger-target-el":D.triggerTargetEl,visible:S(_),"z-index":D.zIndex,onMouseenter:S(A),onMouseleave:S(I),onBlur:F,onClose:S(d)}),{default:Me(()=>[Qe(D.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[lr,S(_)]]):Je("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var lbe=It(obe,[["__file","content.vue"]]);const cbe=Pe({name:"ElTooltip"}),ube=Pe({...cbe,props:X1e,emits:j1e,setup(n,{expose:e,emit:t}){const r=n;abe();const i=Ya(),a=te(),s=te(),o=()=>{var v;const y=S(a);y&&((v=y.popperInstanceRef)==null||v.update())},l=te(!1),c=te(),{show:u,hide:d,hasUpdateHandler:f}=Y1e({indicator:l,toggleReason:c}),{onOpen:h,onClose:p}=$1e({showAfter:br(r,"showAfter"),hideAfter:br(r,"hideAfter"),autoClose:br(r,"autoClose"),open:u,close:d}),m=U(()=>Vr(r.visible)&&!f.value);Vn(eA,{controlled:m,id:i,open:G0(l),trigger:br(r,"trigger"),onOpen:v=>{h(v)},onClose:v=>{p(v)},onToggle:v=>{S(l)?p(v):h(v)},onShow:()=>{t("show",c.value)},onHide:()=>{t("hide",c.value)},onBeforeShow:()=>{t("before-show",c.value)},onBeforeHide:()=>{t("before-hide",c.value)},updatePopper:o}),dt(()=>r.disabled,v=>{v&&l.value&&(l.value=!1)});const g=v=>{var y,b;const _=(b=(y=s.value)==null?void 0:y.contentRef)==null?void 0:b.popperContentRef,w=(v==null?void 0:v.relatedTarget)||document.activeElement;return _&&_.contains(w)};return BD(()=>l.value&&d()),e({popperRef:a,contentRef:s,isFocusInsideContent:g,updatePopper:o,onOpen:h,onClose:p,hide:d}),(v,y)=>($(),rt(S(MX),{ref_key:"popperRef",ref:a,role:v.role},{default:Me(()=>[pe(ebe,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:Me(()=>[v.$slots.default?Qe(v.$slots,"default",{key:0}):Je("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),pe(lbe,{ref_key:"contentRef",ref:s,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:Me(()=>[Qe(v.$slots,"content",{},()=>[v.rawContent?($(),ge("span",{key:0,innerHTML:v.content},null,8,["innerHTML"])):($(),ge("span",{key:1},_t(v.content),1))]),v.showArrow?($(),rt(S(rye),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):Je("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var dbe=It(ube,[["__file","tooltip.vue"]]);const ds=gn(dbe),fbe=Et({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:Ke(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:Ke([Function,Array]),default:xr},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:Ea.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...Xa(["ariaLabel"])}),hbe={[Tn]:n=>qt(n),[cs]:n=>qt(n),[Pr]:n=>qt(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,select:n=>Pn(n)},EX="ElAutocomplete",pbe=Pe({name:EX,inheritAttrs:!1}),mbe=Pe({...pbe,props:fbe,emits:hbe,setup(n,{expose:e,emit:t}){const r=n,i=MS(),a=zd(),s=ps(),o=yt("autocomplete"),l=te(),c=te(),u=te(),d=te();let f=!1,h=!1;const p=te([]),m=te(-1),g=te(""),v=te(!1),y=te(!1),b=te(!1),_=Ya(),w=U(()=>a.style),x=U(()=>(p.value.length>0||b.value)&&v.value),M=U(()=>!r.hideLoading&&b.value),C=U(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),T=()=>{x.value&&(g.value=`${l.value.$el.offsetWidth}px`)},A=()=>{m.value=-1},I=async me=>{if(y.value)return;const Re=De=>{b.value=!1,!y.value&&(St(De)?(p.value=De,m.value=r.highlightFirstItem?0:-1):va(EX,"autocomplete suggestions must be an array"))};if(b.value=!0,St(r.fetchSuggestions))Re(r.fetchSuggestions);else{const De=await r.fetchSuggestions(me,Re);St(De)&&Re(De)}},L=Mo(I,r.debounce),k=me=>{const Re=!!me;if(t(cs,me),t(Tn,me),y.value=!1,v.value||(v.value=Re),!r.triggerOnFocus&&!me){y.value=!0,p.value=[];return}L(me)},N=me=>{var Re;s.value||(((Re=me.target)==null?void 0:Re.tagName)!=="INPUT"||C.value.includes(document.activeElement))&&(v.value=!0)},F=me=>{t(Pr,me)},D=me=>{h?h=!1:(v.value=!0,t("focus",me),r.triggerOnFocus&&!f&&L(String(r.modelValue)))},H=me=>{setTimeout(()=>{var Re;if((Re=u.value)!=null&&Re.isFocusInsideContent()){h=!0;return}v.value&&Z(),t("blur",me)})},z=()=>{v.value=!1,t(Tn,""),t("clear")},B=async()=>{x.value&&m.value>=0&&m.value<p.value.length?re(p.value[m.value]):r.selectWhenUnmatched&&(t("select",{value:r.modelValue}),p.value=[],m.value=-1)},W=me=>{x.value&&(me.preventDefault(),me.stopPropagation(),Z())},Z=()=>{v.value=!1},ee=()=>{var me;(me=l.value)==null||me.focus()},J=()=>{var me;(me=l.value)==null||me.blur()},re=async me=>{t(cs,me[r.valueKey]),t(Tn,me[r.valueKey]),t("select",me),p.value=[],m.value=-1},fe=me=>{if(!x.value||b.value)return;if(me<0){m.value=-1;return}me>=p.value.length&&(me=p.value.length-1);const Re=c.value.querySelector(`.${o.be("suggestion","wrap")}`),Ge=Re.querySelectorAll(`.${o.be("suggestion","list")} li`)[me],We=Re.scrollTop,{offsetTop:K,scrollHeight:ue}=Ge;K+ue>We+Re.clientHeight&&(Re.scrollTop+=ue),K<We&&(Re.scrollTop-=ue),m.value=me,l.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${m.value}`)},de=u6(d,()=>{x.value&&Z()});return vr(()=>{de==null||de()}),dn(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${m.value}`),f=l.value.ref.hasAttribute("readonly")}),e({highlightedIndex:m,activated:v,loading:b,inputRef:l,popperRef:u,suggestions:p,handleSelect:re,handleKeyEnter:B,focus:ee,blur:J,close:Z,highlight:fe,getData:I}),(me,Re)=>($(),rt(S(ds),{ref_key:"popperRef",ref:u,visible:S(x),placement:me.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[S(o).e("popper"),me.popperClass],teleported:me.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${S(o).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:T,onHide:A},{content:Me(()=>[_e("div",{ref_key:"regionRef",ref:c,class:j([S(o).b("suggestion"),S(o).is("loading",S(M))]),style:Ft({[me.fitInputWidth?"width":"minWidth"]:g.value,outline:"none"}),role:"region"},[pe(S(Mu),{id:S(_),tag:"ul","wrap-class":S(o).be("suggestion","wrap"),"view-class":S(o).be("suggestion","list"),role:"listbox"},{default:Me(()=>[S(M)?($(),ge("li",{key:0},[Qe(me.$slots,"loading",{},()=>[pe(S(Gt),{class:j(S(o).is("loading"))},{default:Me(()=>[pe(S(mu))]),_:1},8,["class"])])])):($(!0),ge(Bt,{key:1},kn(p.value,(De,Ge)=>($(),ge("li",{id:`${S(_)}-item-${Ge}`,key:Ge,class:j({highlighted:m.value===Ge}),role:"option","aria-selected":m.value===Ge,onClick:We=>re(De)},[Qe(me.$slots,"default",{item:De},()=>[un(_t(De[me.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:Me(()=>[_e("div",{ref_key:"listboxRef",ref:d,class:j([S(o).b(),me.$attrs.class]),style:Ft(S(w)),role:"combobox","aria-haspopup":"listbox","aria-expanded":S(x),"aria-owns":S(_)},[pe(S(Ls),Bn({ref_key:"inputRef",ref:l},S(i),{clearable:me.clearable,disabled:S(s),name:me.name,"model-value":me.modelValue,"aria-label":me.ariaLabel,onInput:k,onChange:F,onFocus:D,onBlur:H,onClear:z,onKeydown:[Rr(sn(De=>fe(m.value-1),["prevent"]),["up"]),Rr(sn(De=>fe(m.value+1),["prevent"]),["down"]),Rr(B,["enter"]),Rr(Z,["tab"]),Rr(W,["esc"])],onMousedown:N}),rl({_:2},[me.$slots.prepend?{name:"prepend",fn:Me(()=>[Qe(me.$slots,"prepend")])}:void 0,me.$slots.append?{name:"append",fn:Me(()=>[Qe(me.$slots,"append")])}:void 0,me.$slots.prefix?{name:"prefix",fn:Me(()=>[Qe(me.$slots,"prefix")])}:void 0,me.$slots.suffix?{name:"suffix",fn:Me(()=>[Qe(me.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var vbe=It(mbe,[["__file","autocomplete.vue"]]);const gbe=gn(vbe),ybe=Et({size:{type:[Number,String],values:Cu,default:"",validator:n=>en(n)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Dr},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:Ke(String),default:"cover"}}),bbe={error:n=>n instanceof Event},_be=Pe({name:"ElAvatar"}),Sbe=Pe({..._be,props:ybe,emits:bbe,setup(n,{emit:e}){const t=n,r=yt("avatar"),i=te(!1),a=U(()=>{const{size:c,icon:u,shape:d}=t,f=[r.b()];return qt(c)&&f.push(r.m(c)),u&&f.push(r.m("icon")),d&&f.push(r.m(d)),f}),s=U(()=>{const{size:c}=t;return en(c)?r.cssVarBlock({size:Pi(c)||""}):void 0}),o=U(()=>({objectFit:t.fit}));dt(()=>t.src,()=>i.value=!1);function l(c){i.value=!0,e("error",c)}return(c,u)=>($(),ge("span",{class:j(S(a)),style:Ft(S(s))},[(c.src||c.srcSet)&&!i.value?($(),ge("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:Ft(S(o)),onError:l},null,44,["src","alt","srcset"])):c.icon?($(),rt(S(Gt),{key:1},{default:Me(()=>[($(),rt(Rn(c.icon)))]),_:1})):Qe(c.$slots,"default",{key:2})],6))}});var wbe=It(Sbe,[["__file","avatar.vue"]]);const xbe=gn(wbe),Cbe={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},Mbe={click:n=>n instanceof MouseEvent},Tbe=(n,e,t)=>{const r=Cr(),i=Cr(),a=te(!1),s=()=>{r.value&&(a.value=r.value.scrollTop>=n.visibilityHeight)},o=c=>{var u;(u=r.value)==null||u.scrollTo({top:0,behavior:"smooth"}),e("click",c)},l=DY(s,300,!0);return Ar(i,"scroll",l),dn(()=>{var c;i.value=document,r.value=document.documentElement,n.target&&(r.value=(c=document.querySelector(n.target))!=null?c:void 0,r.value||va(t,`target does not exist: ${n.target}`),i.value=r.value),s()}),{visible:a,handleClick:o}},IX="ElBacktop",Abe=Pe({name:IX}),Ebe=Pe({...Abe,props:Cbe,emits:Mbe,setup(n,{emit:e}){const t=n,r=yt("backtop"),{handleClick:i,visible:a}=Tbe(t,e,IX),s=U(()=>({right:`${t.right}px`,bottom:`${t.bottom}px`}));return(o,l)=>($(),rt(sa,{name:`${S(r).namespace.value}-fade-in`},{default:Me(()=>[S(a)?($(),ge("div",{key:0,style:Ft(S(s)),class:j(S(r).b()),onClick:sn(S(i),["stop"])},[Qe(o.$slots,"default",{},()=>[pe(S(Gt),{class:j(S(r).e("icon"))},{default:Me(()=>[pe(S(uve))]),_:1},8,["class"])])],14,["onClick"])):Je("v-if",!0)]),_:3},8,["name"]))}});var Ibe=It(Ebe,[["__file","backtop.vue"]]);const Rbe=gn(Ibe),Pbe=Et({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:Ke([String,Object,Array])},offset:{type:Ke(Array),default:[0,0]},badgeClass:{type:String}}),Lbe=Pe({name:"ElBadge"}),Dbe=Pe({...Lbe,props:Pbe,setup(n,{expose:e}){const t=n,r=yt("badge"),i=U(()=>t.isDot?"":en(t.value)&&en(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`),a=U(()=>{var s,o,l,c,u;return[{backgroundColor:t.color,marginRight:Pi(-((o=(s=t.offset)==null?void 0:s[0])!=null?o:0)),marginTop:Pi((c=(l=t.offset)==null?void 0:l[1])!=null?c:0)},(u=t.badgeStyle)!=null?u:{}]});return e({content:i}),(s,o)=>($(),ge("div",{class:j(S(r).b())},[Qe(s.$slots,"default"),pe(sa,{name:`${S(r).namespace.value}-zoom-in-center`,persisted:""},{default:Me(()=>[Sn(_e("sup",{class:j([S(r).e("content"),S(r).em("content",s.type),S(r).is("fixed",!!s.$slots.default),S(r).is("dot",s.isDot),S(r).is("hide-zero",!s.showZero&&t.value===0),s.badgeClass]),style:Ft(S(a))},[Qe(s.$slots,"content",{value:S(i)},()=>[un(_t(S(i)),1)])],6),[[lr,!s.hidden&&(S(i)||s.isDot||s.$slots.content)]])]),_:3},8,["name"])],2))}});var kbe=It(Dbe,[["__file","badge.vue"]]);const RX=gn(kbe),PX=Symbol("breadcrumbKey"),Obe=Et({separator:{type:String,default:"/"},separatorIcon:{type:Dr}}),Nbe=Pe({name:"ElBreadcrumb"}),Bbe=Pe({...Nbe,props:Obe,setup(n){const e=n,{t}=nr(),r=yt("breadcrumb"),i=te();return Vn(PX,e),dn(()=>{const a=i.value.querySelectorAll(`.${r.e("item")}`);a.length&&a[a.length-1].setAttribute("aria-current","page")}),(a,s)=>($(),ge("div",{ref_key:"breadcrumb",ref:i,class:j(S(r).b()),"aria-label":S(t)("el.breadcrumb.label"),role:"navigation"},[Qe(a.$slots,"default")],10,["aria-label"]))}});var Fbe=It(Bbe,[["__file","breadcrumb.vue"]]);const zbe=Et({to:{type:Ke([String,Object]),default:""},replace:Boolean}),Ube=Pe({name:"ElBreadcrumbItem"}),Hbe=Pe({...Ube,props:zbe,setup(n){const e=n,t=wn(),r=Nt(PX,void 0),i=yt("breadcrumb"),a=t.appContext.config.globalProperties.$router,s=te(),o=()=>{!e.to||!a||(e.replace?a.replace(e.to):a.push(e.to))};return(l,c)=>{var u,d;return $(),ge("span",{class:j(S(i).e("item"))},[_e("span",{ref_key:"link",ref:s,class:j([S(i).e("inner"),S(i).is("link",!!l.to)]),role:"link",onClick:o},[Qe(l.$slots,"default")],2),(u=S(r))!=null&&u.separatorIcon?($(),rt(S(Gt),{key:0,class:j(S(i).e("separator"))},{default:Me(()=>[($(),rt(Rn(S(r).separatorIcon)))]),_:1},8,["class"])):($(),ge("span",{key:1,class:j(S(i).e("separator")),role:"presentation"},_t((d=S(r))==null?void 0:d.separator),3))],2)}}});var LX=It(Hbe,[["__file","breadcrumb-item.vue"]]);const Vbe=gn(Fbe,{BreadcrumbItem:LX}),$be=Ci(LX),DX=Symbol("buttonGroupContextKey"),Xf=({from:n,replacement:e,scope:t,version:r,ref:i,type:a="API"},s)=>{dt(()=>S(s),o=>{},{immediate:!0})},Gbe=(n,e)=>{Xf({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},U(()=>n.type==="text"));const t=Nt(DX,void 0),r=KT("button"),{form:i}=hs(),a=ji(U(()=>t==null?void 0:t.size)),s=ps(),o=te(),l=Qi(),c=U(()=>n.type||(t==null?void 0:t.type)||""),u=U(()=>{var p,m,g;return(g=(m=n.autoInsertSpace)!=null?m:(p=r.value)==null?void 0:p.autoInsertSpace)!=null?g:!1}),d=U(()=>n.tag==="button"?{ariaDisabled:s.value||n.loading,disabled:s.value||n.loading,autofocus:n.autofocus,type:n.nativeType}:{}),f=U(()=>{var p;const m=(p=l.default)==null?void 0:p.call(l);if(u.value&&(m==null?void 0:m.length)===1){const g=m[0];if((g==null?void 0:g.type)===hu){const v=g.children;return/^\p{Unified_Ideograph}{2}$/u.test(v.trim())}}return!1});return{_disabled:s,_size:a,_type:c,_ref:o,_props:d,shouldAddSpace:f,handleClick:p=>{if(s.value||n.loading){p.stopPropagation();return}n.nativeType==="reset"&&(i==null||i.resetFields()),e("click",p)}}},FR=["default","primary","success","warning","info","danger","text",""],Wbe=["button","submit","reset"],zR=Et({size:oa,disabled:Boolean,type:{type:String,values:FR,default:""},icon:{type:Dr},nativeType:{type:String,values:Wbe,default:"button"},loading:Boolean,loadingIcon:{type:Dr,default:()=>mu},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Ke([String,Object]),default:"button"}}),qbe={click:n=>n instanceof MouseEvent};function us(n,e){Kbe(n)&&(n="100%");var t=Ybe(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function xw(n){return Math.min(1,Math.max(0,n))}function Kbe(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function Ybe(n){return typeof n=="string"&&n.indexOf("%")!==-1}function kX(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Cw(n){return n<=1?"".concat(Number(n)*100,"%"):n}function Hp(n){return n.length===1?"0"+n:String(n)}function Xbe(n,e,t){return{r:us(n,255)*255,g:us(e,255)*255,b:us(t,255)*255}}function v7(n,e,t){n=us(n,255),e=us(e,255),t=us(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),a=0,s=0,o=(r+i)/2;if(r===i)s=0,a=0;else{var l=r-i;switch(s=o>.5?l/(2-r-i):l/(r+i),r){case n:a=(e-t)/l+(e<t?6:0);break;case e:a=(t-n)/l+2;break;case t:a=(n-e)/l+4;break}a/=6}return{h:a,s,l:o}}function HE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function jbe(n,e,t){var r,i,a;if(n=us(n,360),e=us(e,100),t=us(t,100),e===0)i=t,a=t,r=t;else{var s=t<.5?t*(1+e):t+e-t*e,o=2*t-s;r=HE(o,s,n+1/3),i=HE(o,s,n),a=HE(o,s,n-1/3)}return{r:r*255,g:i*255,b:a*255}}function g7(n,e,t){n=us(n,255),e=us(e,255),t=us(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),a=0,s=r,o=r-i,l=r===0?0:o/r;if(r===i)a=0;else{switch(r){case n:a=(e-t)/o+(e<t?6:0);break;case e:a=(t-n)/o+2;break;case t:a=(n-e)/o+4;break}a/=6}return{h:a,s:l,v:s}}function Zbe(n,e,t){n=us(n,360)*6,e=us(e,100),t=us(t,100);var r=Math.floor(n),i=n-r,a=t*(1-e),s=t*(1-i*e),o=t*(1-(1-i)*e),l=r%6,c=[t,s,a,a,o,t][l],u=[o,t,t,s,a,a][l],d=[a,a,o,t,t,s][l];return{r:c*255,g:u*255,b:d*255}}function y7(n,e,t,r){var i=[Hp(Math.round(n).toString(16)),Hp(Math.round(e).toString(16)),Hp(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Qbe(n,e,t,r,i){var a=[Hp(Math.round(n).toString(16)),Hp(Math.round(e).toString(16)),Hp(Math.round(t).toString(16)),Hp(Jbe(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Jbe(n){return Math.round(parseFloat(n)*255).toString(16)}function b7(n){return zo(n)/255}function zo(n){return parseInt(n,16)}function e_e(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var UR={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function t_e(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,a=null,s=!1,o=!1;return typeof n=="string"&&(n=i_e(n)),typeof n=="object"&&(Bu(n.r)&&Bu(n.g)&&Bu(n.b)?(e=Xbe(n.r,n.g,n.b),s=!0,o=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Bu(n.h)&&Bu(n.s)&&Bu(n.v)?(r=Cw(n.s),i=Cw(n.v),e=Zbe(n.h,r,i),s=!0,o="hsv"):Bu(n.h)&&Bu(n.s)&&Bu(n.l)&&(r=Cw(n.s),a=Cw(n.l),e=jbe(n.h,r,a),s=!0,o="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=kX(t),{ok:s,format:n.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var n_e="[-\\+]?\\d+%?",r_e="[-\\+]?\\d*\\.\\d+%?",zf="(?:".concat(r_e,")|(?:").concat(n_e,")"),VE="[\\s|\\(]+(".concat(zf,")[,|\\s]+(").concat(zf,")[,|\\s]+(").concat(zf,")\\s*\\)?"),$E="[\\s|\\(]+(".concat(zf,")[,|\\s]+(").concat(zf,")[,|\\s]+(").concat(zf,")[,|\\s]+(").concat(zf,")\\s*\\)?"),lc={CSS_UNIT:new RegExp(zf),rgb:new RegExp("rgb"+VE),rgba:new RegExp("rgba"+$E),hsl:new RegExp("hsl"+VE),hsla:new RegExp("hsla"+$E),hsv:new RegExp("hsv"+VE),hsva:new RegExp("hsva"+$E),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function i_e(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(UR[n])n=UR[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=lc.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=lc.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=lc.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=lc.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=lc.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=lc.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=lc.hex8.exec(n),t?{r:zo(t[1]),g:zo(t[2]),b:zo(t[3]),a:b7(t[4]),format:e?"name":"hex8"}:(t=lc.hex6.exec(n),t?{r:zo(t[1]),g:zo(t[2]),b:zo(t[3]),format:e?"name":"hex"}:(t=lc.hex4.exec(n),t?{r:zo(t[1]+t[1]),g:zo(t[2]+t[2]),b:zo(t[3]+t[3]),a:b7(t[4]+t[4]),format:e?"name":"hex8"}:(t=lc.hex3.exec(n),t?{r:zo(t[1]+t[1]),g:zo(t[2]+t[2]),b:zo(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function Bu(n){return!!lc.CSS_UNIT.exec(String(n))}var OX=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var r;if(e instanceof n)return e;typeof e=="number"&&(e=e_e(e)),this.originalInput=e;var i=t_e(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=t.format)!==null&&r!==void 0?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,r,i,a=e.r/255,s=e.g/255,o=e.b/255;return a<=.03928?t=a/12.92:t=Math.pow((a+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),.2126*t+.7152*r+.0722*i},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=kX(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=g7(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=g7(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=v7(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=v7(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),y7(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),Qbe(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(us(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(us(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+y7(this.r,this.g,this.b,!1),t=0,r=Object.entries(UR);t<r.length;t++){var i=r[t],a=i[0],s=i[1];if(e===s)return a}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,a=!t&&i&&(e.startsWith("hex")||e==="name");return a?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=xw(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=xw(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=xw(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=xw(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),a=t/100,s={r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a};return new n(s)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var r=this.toHsl(),i=360/t,a=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push(new n(r));return a},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,a=t.v,s=[],o=1/e;e--;)s.push(new n({h:r,s:i,v:a})),a=(a+o)%1;return s},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb(),i=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/i,g:(t.g*t.a+r.g*r.a*(1-t.a))/i,b:(t.b*t.a+r.b*r.a*(1-t.a))/i,a:i})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],a=360/e,s=1;s<e;s++)i.push(new n({h:(r+s*a)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();function rf(n,e=20){return n.mix("#141414",e).toString()}function a_e(n){const e=ps(),t=yt("button");return U(()=>{let r={},i=n.color;if(i){const a=i.match(/var\((.*?)\)/);a&&(i=window.getComputedStyle(window.document.documentElement).getPropertyValue(a[1]));const s=new OX(i),o=n.dark?s.tint(20).toString():rf(s,20);if(n.plain)r=t.cssVarBlock({"bg-color":n.dark?rf(s,90):s.tint(90).toString(),"text-color":i,"border-color":n.dark?rf(s,50):s.tint(50).toString(),"hover-text-color":`var(${t.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":o,"active-text-color":`var(${t.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(r[t.cssVarBlockName("disabled-bg-color")]=n.dark?rf(s,90):s.tint(90).toString(),r[t.cssVarBlockName("disabled-text-color")]=n.dark?rf(s,50):s.tint(50).toString(),r[t.cssVarBlockName("disabled-border-color")]=n.dark?rf(s,80):s.tint(80).toString());else{const l=n.dark?rf(s,30):s.tint(30).toString(),c=s.isDark()?`var(${t.cssVarName("color-white")})`:`var(${t.cssVarName("color-black")})`;if(r=t.cssVarBlock({"bg-color":i,"text-color":c,"border-color":i,"hover-bg-color":l,"hover-text-color":c,"hover-border-color":l,"active-bg-color":o,"active-border-color":o}),e.value){const u=n.dark?rf(s,50):s.tint(50).toString();r[t.cssVarBlockName("disabled-bg-color")]=u,r[t.cssVarBlockName("disabled-text-color")]=n.dark?"rgba(255, 255, 255, 0.5)":`var(${t.cssVarName("color-white")})`,r[t.cssVarBlockName("disabled-border-color")]=u}}}return r})}const s_e=Pe({name:"ElButton"}),o_e=Pe({...s_e,props:zR,emits:qbe,setup(n,{expose:e,emit:t}){const r=n,i=a_e(r),a=yt("button"),{_ref:s,_size:o,_type:l,_disabled:c,_props:u,shouldAddSpace:d,handleClick:f}=Gbe(r,t),h=U(()=>[a.b(),a.m(l.value),a.m(o.value),a.is("disabled",c.value),a.is("loading",r.loading),a.is("plain",r.plain),a.is("round",r.round),a.is("circle",r.circle),a.is("text",r.text),a.is("link",r.link),a.is("has-bg",r.bg)]);return e({ref:s,size:o,type:l,disabled:c,shouldAddSpace:d}),(p,m)=>($(),rt(Rn(p.tag),Bn({ref_key:"_ref",ref:s},S(u),{class:S(h),style:S(i),onClick:S(f)}),{default:Me(()=>[p.loading?($(),ge(Bt,{key:0},[p.$slots.loading?Qe(p.$slots,"loading",{key:0}):($(),rt(S(Gt),{key:1,class:j(S(a).is("loading"))},{default:Me(()=>[($(),rt(Rn(p.loadingIcon)))]),_:1},8,["class"]))],64)):p.icon||p.$slots.icon?($(),rt(S(Gt),{key:1},{default:Me(()=>[p.icon?($(),rt(Rn(p.icon),{key:0})):Qe(p.$slots,"icon",{key:1})]),_:3})):Je("v-if",!0),p.$slots.default?($(),ge("span",{key:2,class:j({[S(a).em("text","expand")]:S(d)})},[Qe(p.$slots,"default")],2)):Je("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var l_e=It(o_e,[["__file","button.vue"]]);const c_e={size:zR.size,type:zR.type},u_e=Pe({name:"ElButtonGroup"}),d_e=Pe({...u_e,props:c_e,setup(n){const e=n;Vn(DX,pr({size:br(e,"size"),type:br(e,"type")}));const t=yt("button");return(r,i)=>($(),ge("div",{class:j(S(t).b("group"))},[Qe(r.$slots,"default")],2))}});var NX=It(d_e,[["__file","button-group.vue"]]);const Ba=gn(l_e,{ButtonGroup:NX}),BX=Ci(NX);var Tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Au(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var FX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Tu,function(){var t=1e3,r=6e4,i=36e5,a="millisecond",s="second",o="minute",l="hour",c="day",u="week",d="month",f="quarter",h="year",p="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var F=["th","st","nd","rd"],D=N%100;return"["+N+(F[(D-20)%10]||F[D]||F[0])+"]"}},b=function(N,F,D){var H=String(N);return!H||H.length>=F?N:""+Array(F+1-H.length).join(D)+N},_={s:b,z:function(N){var F=-N.utcOffset(),D=Math.abs(F),H=Math.floor(D/60),z=D%60;return(F<=0?"+":"-")+b(H,2,"0")+":"+b(z,2,"0")},m:function N(F,D){if(F.date()<D.date())return-N(D,F);var H=12*(D.year()-F.year())+(D.month()-F.month()),z=F.clone().add(H,d),B=D-z<0,W=F.clone().add(H+(B?-1:1),d);return+(-(H+(D-z)/(B?z-W:W-z))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:d,y:h,w:u,d:c,D:p,h:l,m:o,s,ms:a,Q:f}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},w="en",x={};x[w]=y;var M="$isDayjsObject",C=function(N){return N instanceof L||!(!N||!N[M])},T=function N(F,D,H){var z;if(!F)return w;if(typeof F=="string"){var B=F.toLowerCase();x[B]&&(z=B),D&&(x[B]=D,z=B);var W=F.split("-");if(!z&&W.length>1)return N(W[0])}else{var Z=F.name;x[Z]=F,z=Z}return!H&&z&&(w=z),z||!H&&w},A=function(N,F){if(C(N))return N.clone();var D=typeof F=="object"?F:{};return D.date=N,D.args=arguments,new L(D)},I=_;I.l=T,I.i=C,I.w=function(N,F){return A(N,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var L=function(){function N(D){this.$L=T(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[M]=!0}var F=N.prototype;return F.parse=function(D){this.$d=function(H){var z=H.date,B=H.utc;if(z===null)return new Date(NaN);if(I.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var W=z.match(g);if(W){var Z=W[2]-1||0,ee=(W[7]||"0").substring(0,3);return B?new Date(Date.UTC(W[1],Z,W[3]||1,W[4]||0,W[5]||0,W[6]||0,ee)):new Date(W[1],Z,W[3]||1,W[4]||0,W[5]||0,W[6]||0,ee)}}return new Date(z)}(D),this.init()},F.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},F.$utils=function(){return I},F.isValid=function(){return this.$d.toString()!==m},F.isSame=function(D,H){var z=A(D);return this.startOf(H)<=z&&z<=this.endOf(H)},F.isAfter=function(D,H){return A(D)<this.startOf(H)},F.isBefore=function(D,H){return this.endOf(H)<A(D)},F.$g=function(D,H,z){return I.u(D)?this[H]:this.set(z,D)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(D,H){var z=this,B=!!I.u(H)||H,W=I.p(D),Z=function(De,Ge){var We=I.w(z.$u?Date.UTC(z.$y,Ge,De):new Date(z.$y,Ge,De),z);return B?We:We.endOf(c)},ee=function(De,Ge){return I.w(z.toDate()[De].apply(z.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(Ge)),z)},J=this.$W,re=this.$M,fe=this.$D,de="set"+(this.$u?"UTC":"");switch(W){case h:return B?Z(1,0):Z(31,11);case d:return B?Z(1,re):Z(0,re+1);case u:var me=this.$locale().weekStart||0,Re=(J<me?J+7:J)-me;return Z(B?fe-Re:fe+(6-Re),re);case c:case p:return ee(de+"Hours",0);case l:return ee(de+"Minutes",1);case o:return ee(de+"Seconds",2);case s:return ee(de+"Milliseconds",3);default:return this.clone()}},F.endOf=function(D){return this.startOf(D,!1)},F.$set=function(D,H){var z,B=I.p(D),W="set"+(this.$u?"UTC":""),Z=(z={},z[c]=W+"Date",z[p]=W+"Date",z[d]=W+"Month",z[h]=W+"FullYear",z[l]=W+"Hours",z[o]=W+"Minutes",z[s]=W+"Seconds",z[a]=W+"Milliseconds",z)[B],ee=B===c?this.$D+(H-this.$W):H;if(B===d||B===h){var J=this.clone().set(p,1);J.$d[Z](ee),J.init(),this.$d=J.set(p,Math.min(this.$D,J.daysInMonth())).$d}else Z&&this.$d[Z](ee);return this.init(),this},F.set=function(D,H){return this.clone().$set(D,H)},F.get=function(D){return this[I.p(D)]()},F.add=function(D,H){var z,B=this;D=Number(D);var W=I.p(H),Z=function(re){var fe=A(B);return I.w(fe.date(fe.date()+Math.round(re*D)),B)};if(W===d)return this.set(d,this.$M+D);if(W===h)return this.set(h,this.$y+D);if(W===c)return Z(1);if(W===u)return Z(7);var ee=(z={},z[o]=r,z[l]=i,z[s]=t,z)[W]||1,J=this.$d.getTime()+D*ee;return I.w(J,this)},F.subtract=function(D,H){return this.add(-1*D,H)},F.format=function(D){var H=this,z=this.$locale();if(!this.isValid())return z.invalidDate||m;var B=D||"YYYY-MM-DDTHH:mm:ssZ",W=I.z(this),Z=this.$H,ee=this.$m,J=this.$M,re=z.weekdays,fe=z.months,de=z.meridiem,me=function(Ge,We,K,ue){return Ge&&(Ge[We]||Ge(H,B))||K[We].slice(0,ue)},Re=function(Ge){return I.s(Z%12||12,Ge,"0")},De=de||function(Ge,We,K){var ue=Ge<12?"AM":"PM";return K?ue.toLowerCase():ue};return B.replace(v,function(Ge,We){return We||function(K){switch(K){case"YY":return String(H.$y).slice(-2);case"YYYY":return I.s(H.$y,4,"0");case"M":return J+1;case"MM":return I.s(J+1,2,"0");case"MMM":return me(z.monthsShort,J,fe,3);case"MMMM":return me(fe,J);case"D":return H.$D;case"DD":return I.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return me(z.weekdaysMin,H.$W,re,2);case"ddd":return me(z.weekdaysShort,H.$W,re,3);case"dddd":return re[H.$W];case"H":return String(Z);case"HH":return I.s(Z,2,"0");case"h":return Re(1);case"hh":return Re(2);case"a":return De(Z,ee,!0);case"A":return De(Z,ee,!1);case"m":return String(ee);case"mm":return I.s(ee,2,"0");case"s":return String(H.$s);case"ss":return I.s(H.$s,2,"0");case"SSS":return I.s(H.$ms,3,"0");case"Z":return W}return null}(Ge)||W.replace(":","")})},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(D,H,z){var B,W=this,Z=I.p(H),ee=A(D),J=(ee.utcOffset()-this.utcOffset())*r,re=this-ee,fe=function(){return I.m(W,ee)};switch(Z){case h:B=fe()/12;break;case d:B=fe();break;case f:B=fe()/3;break;case u:B=(re-J)/6048e5;break;case c:B=(re-J)/864e5;break;case l:B=re/i;break;case o:B=re/r;break;case s:B=re/t;break;default:B=re}return z?B:I.a(B)},F.daysInMonth=function(){return this.endOf(d).$D},F.$locale=function(){return x[this.$L]},F.locale=function(D,H){if(!D)return this.$L;var z=this.clone(),B=T(D,H,!0);return B&&(z.$L=B),z},F.clone=function(){return I.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},N}(),k=L.prototype;return A.prototype=k,[["$ms",a],["$s",s],["$m",o],["$H",l],["$W",c],["$M",d],["$y",h],["$D",p]].forEach(function(N){k[N[1]]=function(F){return this.$g(F,N[0],N[1])}}),A.extend=function(N,F){return N.$i||(N(F,L,A),N.$i=!0),A},A.locale=T,A.isDayjs=C,A.unix=function(N){return A(1e3*N)},A.en=x[w],A.Ls=x,A.p={},A})})(FX);var f_e=FX.exports;const hn=Au(f_e),GE=(n,e)=>[n>0?n-1:void 0,n,n<e?n+1:void 0],jf=n=>Array.from(Array.from({length:n}).keys()),zX=n=>n.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),UX=n=>n.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),_7=function(n,e){const t=oh(n),r=oh(e);return t&&r?n.getTime()===e.getTime():!t&&!r?n===e:!1},S7=function(n,e){const t=St(n),r=St(e);return t&&r?n.length!==e.length?!1:n.every((i,a)=>_7(i,e[a])):!t&&!r?_7(n,e):!1},w7=function(n,e,t){const r=Wo(e)||e==="x"?hn(n).locale(t):hn(n,e).locale(t);return r.isValid()?r:void 0},x7=function(n,e,t){return Wo(e)?n:e==="x"?+n:hn(n).locale(t).format(e)},WE=(n,e)=>{var t;const r=[],i=e==null?void 0:e();for(let a=0;a<n;a++)r.push((t=i==null?void 0:i.includes(a))!=null?t:!1);return r},Mw=n=>St(n)?n.map(e=>e.toDate()):n.toDate(),h_e=(n,e)=>{const t=n.subtract(1,"month").endOf("month").date();return jf(e).map((r,i)=>t-(e-i-1))},p_e=n=>{const e=n.daysInMonth();return jf(e).map((t,r)=>r+1)},m_e=n=>jf(n.length/7).map(e=>{const t=e*7;return n.slice(t,t+7)}),v_e=Et({selectedDay:{type:Ke(Object)},range:{type:Ke(Array)},date:{type:Ke(Object),required:!0},hideHeader:{type:Boolean}}),g_e={pick:n=>Pn(n)};var HX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Tu,function(){return function(t,r,i){var a=r.prototype,s=function(d){return d&&(d.indexOf?d:d.s)},o=function(d,f,h,p,m){var g=d.name?d:d.$locale(),v=s(g[f]),y=s(g[h]),b=v||y.map(function(w){return w.slice(0,p)});if(!m)return b;var _=g.weekStart;return b.map(function(w,x){return b[(x+(_||0))%7]})},l=function(){return i.Ls[i.locale()]},c=function(d,f){return d.formats[f]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,m,g){return m||g.slice(1)})}(d.formats[f.toUpperCase()])},u=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):o(d,"months")},monthsShort:function(f){return f?f.format("MMM"):o(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):o(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):o(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):o(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return u.bind(this)()},i.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(f){return c(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},i.months=function(){return o(l(),"months")},i.monthsShort=function(){return o(l(),"monthsShort","months",3)},i.weekdays=function(d){return o(l(),"weekdays",null,null,d)},i.weekdaysShort=function(d){return o(l(),"weekdaysShort","weekdays",3,d)},i.weekdaysMin=function(d){return o(l(),"weekdaysMin","weekdays",2,d)}}})})(HX);var y_e=HX.exports;const VX=Au(y_e),b_e=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],qE=["sun","mon","tue","wed","thu","fri","sat"],__e=(n,e)=>{hn.extend(VX);const t=hn.localeData().firstDayOfWeek(),{t:r,lang:i}=nr(),a=hn().locale(i.value),s=U(()=>!!n.range&&!!n.range.length),o=U(()=>{let f=[];if(s.value){const[h,p]=n.range,m=jf(p.date()-h.date()+1).map(y=>({text:h.date()+y,type:"current"}));let g=m.length%7;g=g===0?0:7-g;const v=jf(g).map((y,b)=>({text:b+1,type:"next"}));f=m.concat(v)}else{const h=n.date.startOf("month").day(),p=h_e(n.date,(h-t+7)%7).map(y=>({text:y,type:"prev"})),m=p_e(n.date).map(y=>({text:y,type:"current"}));f=[...p,...m];const g=7-(f.length%7||7),v=jf(g).map((y,b)=>({text:b+1,type:"next"}));f=f.concat(v)}return m_e(f)}),l=U(()=>{const f=t;return f===0?qE.map(h=>r(`el.datepicker.weeks.${h}`)):qE.slice(f).concat(qE.slice(0,f)).map(h=>r(`el.datepicker.weeks.${h}`))}),c=(f,h)=>{switch(h){case"prev":return n.date.startOf("month").subtract(1,"month").date(f);case"next":return n.date.startOf("month").add(1,"month").date(f);case"current":return n.date.date(f)}};return{now:a,isInRange:s,rows:o,weekDays:l,getFormattedDate:c,handlePickDay:({text:f,type:h})=>{const p=c(f,h);e("pick",p)},getSlotData:({text:f,type:h})=>{const p=c(f,h);return{isSelected:p.isSame(n.selectedDay),type:`${h}-month`,day:p.format("YYYY-MM-DD"),date:p.toDate()}}}},S_e=Pe({name:"DateTable"}),w_e=Pe({...S_e,props:v_e,emits:g_e,setup(n,{expose:e,emit:t}){const r=n,{isInRange:i,now:a,rows:s,weekDays:o,getFormattedDate:l,handlePickDay:c,getSlotData:u}=__e(r,t),d=yt("calendar-table"),f=yt("calendar-day"),h=({text:p,type:m})=>{const g=[m];if(m==="current"){const v=l(p,m);v.isSame(r.selectedDay,"day")&&g.push(f.is("selected")),v.isSame(a,"day")&&g.push(f.is("today"))}return g};return e({getFormattedDate:l}),(p,m)=>($(),ge("table",{class:j([S(d).b(),S(d).is("range",S(i))]),cellspacing:"0",cellpadding:"0"},[p.hideHeader?Je("v-if",!0):($(),ge("thead",{key:0},[_e("tr",null,[($(!0),ge(Bt,null,kn(S(o),g=>($(),ge("th",{key:g,scope:"col"},_t(g),1))),128))])])),_e("tbody",null,[($(!0),ge(Bt,null,kn(S(s),(g,v)=>($(),ge("tr",{key:v,class:j({[S(d).e("row")]:!0,[S(d).em("row","hide-border")]:v===0&&p.hideHeader})},[($(!0),ge(Bt,null,kn(g,(y,b)=>($(),ge("td",{key:b,class:j(h(y)),onClick:_=>S(c)(y)},[_e("div",{class:j(S(f).b())},[Qe(p.$slots,"date-cell",{data:S(u)(y)},()=>[_e("span",null,_t(y.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var C7=It(w_e,[["__file","date-table.vue"]]);const x_e=(n,e)=>{const t=n.endOf("month"),r=e.startOf("month"),a=t.isSame(r,"week")?r.add(1,"week"):r;return[[n,t],[a.startOf("week"),e]]},C_e=(n,e)=>{const t=n.endOf("month"),r=n.add(1,"month").startOf("month"),i=t.isSame(r,"week")?r.add(1,"week"):r,a=i.endOf("month"),s=e.startOf("month"),o=a.isSame(s,"week")?s.add(1,"week"):s;return[[n,t],[i.startOf("week"),a],[o.startOf("week"),e]]},M_e=(n,e,t)=>{const{lang:r}=nr(),i=te(),a=hn().locale(r.value),s=U({get(){return n.modelValue?l.value:i.value},set(g){if(!g)return;i.value=g;const v=g.toDate();e(cs,v),e(Tn,v)}}),o=U(()=>{if(!n.range||!St(n.range)||n.range.length!==2||n.range.some(b=>!oh(b)))return[];const g=n.range.map(b=>hn(b).locale(r.value)),[v,y]=g;return v.isAfter(y)?[]:v.isSame(y,"month")?h(v,y):v.add(1,"month").month()!==y.month()?[]:h(v,y)}),l=U(()=>n.modelValue?hn(n.modelValue).locale(r.value):s.value||(o.value.length?o.value[0][0]:a)),c=U(()=>l.value.subtract(1,"month").date(1)),u=U(()=>l.value.add(1,"month").date(1)),d=U(()=>l.value.subtract(1,"year").date(1)),f=U(()=>l.value.add(1,"year").date(1)),h=(g,v)=>{const y=g.startOf("week"),b=v.endOf("week"),_=y.get("month"),w=b.get("month");return _===w?[[y,b]]:(_+1)%12===w?x_e(y,b):_+2===w||(_+1)%11===w?C_e(y,b):[]},p=g=>{s.value=g};return{calculateValidatedDateRange:h,date:l,realSelectedDay:s,pickDay:p,selectDate:g=>{const y={"prev-month":c.value,"next-month":u.value,"prev-year":d.value,"next-year":f.value,today:a}[g];y.isSame(l.value,"day")||p(y)},validatedRange:o}},T_e=n=>St(n)&&n.length===2&&n.every(e=>oh(e)),A_e=Et({modelValue:{type:Date},range:{type:Ke(Array),validator:T_e}}),E_e={[Tn]:n=>oh(n),[cs]:n=>oh(n)},I_e="ElCalendar",R_e=Pe({name:I_e}),P_e=Pe({...R_e,props:A_e,emits:E_e,setup(n,{expose:e,emit:t}){const r=n,i=yt("calendar"),{calculateValidatedDateRange:a,date:s,pickDay:o,realSelectedDay:l,selectDate:c,validatedRange:u}=M_e(r,t),{t:d}=nr(),f=U(()=>{const h=`el.datepicker.month${s.value.format("M")}`;return`${s.value.year()} ${d("el.datepicker.year")} ${d(h)}`});return e({selectedDay:l,pickDay:o,selectDate:c,calculateValidatedDateRange:a}),(h,p)=>($(),ge("div",{class:j(S(i).b())},[_e("div",{class:j(S(i).e("header"))},[Qe(h.$slots,"header",{date:S(f)},()=>[_e("div",{class:j(S(i).e("title"))},_t(S(f)),3),S(u).length===0?($(),ge("div",{key:0,class:j(S(i).e("button-group"))},[pe(S(BX),null,{default:Me(()=>[pe(S(Ba),{size:"small",onClick:m=>S(c)("prev-month")},{default:Me(()=>[un(_t(S(d)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),pe(S(Ba),{size:"small",onClick:m=>S(c)("today")},{default:Me(()=>[un(_t(S(d)("el.datepicker.today")),1)]),_:1},8,["onClick"]),pe(S(Ba),{size:"small",onClick:m=>S(c)("next-month")},{default:Me(()=>[un(_t(S(d)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):Je("v-if",!0)])],2),S(u).length===0?($(),ge("div",{key:0,class:j(S(i).e("body"))},[pe(C7,{date:S(s),"selected-day":S(l),onPick:S(o)},rl({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:Me(m=>[Qe(h.$slots,"date-cell",Ll(Md(m)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):($(),ge("div",{key:1,class:j(S(i).e("body"))},[($(!0),ge(Bt,null,kn(S(u),(m,g)=>($(),rt(C7,{key:g,date:m[0],"selected-day":S(l),range:m,"hide-header":g!==0,onPick:S(o)},rl({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:Me(v=>[Qe(h.$slots,"date-cell",Ll(Md(v)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var L_e=It(P_e,[["__file","calendar.vue"]]);const D_e=gn(L_e),k_e=Et({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Ke([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),O_e=Pe({name:"ElCard"}),N_e=Pe({...O_e,props:k_e,setup(n){const e=yt("card");return(t,r)=>($(),ge("div",{class:j([S(e).b(),S(e).is(`${t.shadow}-shadow`)])},[t.$slots.header||t.header?($(),ge("div",{key:0,class:j(S(e).e("header"))},[Qe(t.$slots,"header",{},()=>[un(_t(t.header),1)])],2)):Je("v-if",!0),_e("div",{class:j([S(e).e("body"),t.bodyClass]),style:Ft(t.bodyStyle)},[Qe(t.$slots,"default")],6),t.$slots.footer||t.footer?($(),ge("div",{key:1,class:j(S(e).e("footer"))},[Qe(t.$slots,"footer",{},()=>[un(_t(t.footer),1)])],2)):Je("v-if",!0)],2))}});var B_e=It(N_e,[["__file","card.vue"]]);const F_e=gn(B_e),z_e=Et({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),U_e={change:(n,e)=>[n,e].every(en)},$X=Symbol("carouselContextKey"),HR="ElCarouselItem";var _l=(n=>(n[n.TEXT=1]="TEXT",n[n.CLASS=2]="CLASS",n[n.STYLE=4]="STYLE",n[n.PROPS=8]="PROPS",n[n.FULL_PROPS=16]="FULL_PROPS",n[n.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",n[n.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",n[n.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",n[n.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",n[n.NEED_PATCH=512]="NEED_PATCH",n[n.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",n[n.HOISTED=-1]="HOISTED",n[n.BAIL=-2]="BAIL",n))(_l||{});function VR(n){return ti(n)&&n.type===Bt}function H_e(n){return ti(n)&&n.type===xa}function V_e(n){return ti(n)&&!VR(n)&&!H_e(n)}const $_e=n=>{if(!ti(n))return{};const e=n.props||{},t=(ti(n.type)?n.type.props:void 0)||{},r={};return Object.keys(t).forEach(i=>{ar(t[i],"default")&&(r[i]=t[i].default)}),Object.keys(e).forEach(i=>{r[ls(i)]=e[i]}),r},G_e=n=>{if(!St(n)||n.length>1)throw new Error("expect to receive a single Vue element child");return n[0]},Zf=n=>{const e=St(n)?n:[n],t=[];return e.forEach(r=>{var i;St(r)?t.push(...Zf(r)):ti(r)&&((i=r.component)!=null&&i.subTree)?t.push(r,...Zf(r.component.subTree)):ti(r)&&St(r.children)?t.push(...Zf(r.children)):t.push(r)}),t},W_e=(n,e,t)=>Zf(n.subTree).filter(a=>{var s;return ti(a)&&((s=a.type)==null?void 0:s.name)===e&&!!a.component}).map(a=>a.component.uid).map(a=>t[a]).filter(a=>!!a),O6=(n,e)=>{const t={},r=Cr([]);return{children:r,addChild:s=>{t[s.uid]=s,r.value=W_e(n,e,t)},removeChild:s=>{delete t[s],r.value=r.value.filter(o=>o.uid!==s)}}},M7=300,q_e=(n,e,t)=>{const{children:r,addChild:i,removeChild:a}=O6(wn(),HR),s=Qi(),o=te(-1),l=te(null),c=te(!1),u=te(),d=te(0),f=te(!0),h=te(!0),p=te(!1),m=U(()=>n.arrow!=="never"&&!S(y)),g=U(()=>r.value.some(de=>de.props.label.toString().length>0)),v=U(()=>n.type==="card"),y=U(()=>n.direction==="vertical"),b=U(()=>n.height!=="auto"?{height:n.height}:{height:`${d.value}px`,overflow:"hidden"}),_=o0(de=>{A(de)},M7,{trailing:!0}),w=o0(de=>{B(de)},M7),x=de=>f.value?o.value<=1?de<=1:de>1:!0;function M(){l.value&&(clearInterval(l.value),l.value=null)}function C(){n.interval<=0||!n.autoplay||l.value||(l.value=setInterval(()=>T(),n.interval))}const T=()=>{h.value||(p.value=!0),h.value=!1,o.value<r.value.length-1?o.value=o.value+1:n.loop?o.value=0:p.value=!1};function A(de){if(h.value||(p.value=!0),h.value=!1,qt(de)){const De=r.value.filter(Ge=>Ge.props.name===de);De.length>0&&(de=r.value.indexOf(De[0]))}if(de=Number(de),Number.isNaN(de)||de!==Math.floor(de))return;const me=r.value.length,Re=o.value;de<0?o.value=n.loop?me-1:0:de>=me?o.value=n.loop?0:me-1:o.value=de,Re===o.value&&I(Re),ee()}function I(de){r.value.forEach((me,Re)=>{me.translateItem(Re,o.value,de)})}function L(de,me){var Re,De,Ge,We;const K=S(r),ue=K.length;if(ue===0||!de.states.inStage)return!1;const ie=me+1,$e=me-1,Ne=ue-1,Ye=K[Ne].states.active,ce=K[0].states.active,he=(De=(Re=K[ie])==null?void 0:Re.states)==null?void 0:De.active,ke=(We=(Ge=K[$e])==null?void 0:Ge.states)==null?void 0:We.active;return me===Ne&&ce||he?"left":me===0&&Ye||ke?"right":!1}function k(){c.value=!0,n.pauseOnHover&&M()}function N(){c.value=!1,C()}function F(){p.value=!1}function D(de){S(y)||r.value.forEach((me,Re)=>{de===L(me,Re)&&(me.states.hover=!0)})}function H(){S(y)||r.value.forEach(de=>{de.states.hover=!1})}function z(de){de!==o.value&&(h.value||(p.value=!0)),o.value=de}function B(de){n.trigger==="hover"&&de!==o.value&&(o.value=de,h.value||(p.value=!0))}function W(){A(o.value-1)}function Z(){A(o.value+1)}function ee(){M(),n.pauseOnHover||C()}function J(de){n.height==="auto"&&(d.value=de)}function re(){var de;const me=(de=s.default)==null?void 0:de.call(s);if(!me)return null;const De=Zf(me).filter(Ge=>ti(Ge)&&Ge.type.name===HR);return(De==null?void 0:De.length)===2&&n.loop&&!v.value?(f.value=!0,De):(f.value=!1,null)}dt(()=>o.value,(de,me)=>{I(me),f.value&&(de=de%2,me=me%2),me>-1&&e("change",de,me)}),dt(()=>n.autoplay,de=>{de?C():M()}),dt(()=>n.loop,()=>{A(o.value)}),dt(()=>n.interval,()=>{ee()});const fe=Cr();return dn(()=>{dt(()=>r.value,()=>{r.value.length>0&&A(n.initialIndex)},{immediate:!0}),fe.value=hi(u.value,()=>{I()}),C()}),vr(()=>{M(),u.value&&fe.value&&fe.value.stop()}),Vn($X,{root:u,isCardType:v,isVertical:y,items:r,loop:n.loop,cardScale:n.cardScale,addItem:i,removeItem:a,setActiveItem:A,setContainerHeight:J}),{root:u,activeIndex:o,arrowDisplay:m,hasLabel:g,hover:c,isCardType:v,isTransitioning:p,items:r,isVertical:y,containerStyle:b,isItemsTwoLength:f,handleButtonEnter:D,handleTransitionEnd:F,handleButtonLeave:H,handleIndicatorClick:z,handleMouseEnter:k,handleMouseLeave:N,setActiveItem:A,prev:W,next:Z,PlaceholderItem:re,isTwoLengthShow:x,throttledArrowClick:_,throttledIndicatorHover:w}},K_e="ElCarousel",Y_e=Pe({name:K_e}),X_e=Pe({...Y_e,props:z_e,emits:U_e,setup(n,{expose:e,emit:t}){const r=n,{root:i,activeIndex:a,arrowDisplay:s,hasLabel:o,hover:l,isCardType:c,items:u,isVertical:d,containerStyle:f,handleButtonEnter:h,handleButtonLeave:p,isTransitioning:m,handleIndicatorClick:g,handleMouseEnter:v,handleMouseLeave:y,handleTransitionEnd:b,setActiveItem:_,prev:w,next:x,PlaceholderItem:M,isTwoLengthShow:C,throttledArrowClick:T,throttledIndicatorHover:A}=q_e(r,t),I=yt("carousel"),{t:L}=nr(),k=U(()=>{const D=[I.b(),I.m(r.direction)];return S(c)&&D.push(I.m("card")),D}),N=U(()=>{const D=[I.e("container")];return r.motionBlur&&S(m)&&u.value.length>1&&D.push(S(d)?`${I.namespace.value}-transitioning-vertical`:`${I.namespace.value}-transitioning`),D}),F=U(()=>{const D=[I.e("indicators"),I.em("indicators",r.direction)];return S(o)&&D.push(I.em("indicators","labels")),r.indicatorPosition==="outside"&&D.push(I.em("indicators","outside")),S(d)&&D.push(I.em("indicators","right")),D});return e({activeIndex:a,setActiveItem:_,prev:w,next:x}),(D,H)=>($(),ge("div",{ref_key:"root",ref:i,class:j(S(k)),onMouseenter:sn(S(v),["stop"]),onMouseleave:sn(S(y),["stop"])},[S(s)?($(),rt(sa,{key:0,name:"carousel-arrow-left",persisted:""},{default:Me(()=>[Sn(_e("button",{type:"button",class:j([S(I).e("arrow"),S(I).em("arrow","left")]),"aria-label":S(L)("el.carousel.leftArrow"),onMouseenter:z=>S(h)("left"),onMouseleave:S(p),onClick:sn(z=>S(T)(S(a)-1),["stop"])},[pe(S(Gt),null,{default:Me(()=>[pe(S(mh))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[lr,(D.arrow==="always"||S(l))&&(r.loop||S(a)>0)]])]),_:1})):Je("v-if",!0),S(s)?($(),rt(sa,{key:1,name:"carousel-arrow-right",persisted:""},{default:Me(()=>[Sn(_e("button",{type:"button",class:j([S(I).e("arrow"),S(I).em("arrow","right")]),"aria-label":S(L)("el.carousel.rightArrow"),onMouseenter:z=>S(h)("right"),onMouseleave:S(p),onClick:sn(z=>S(T)(S(a)+1),["stop"])},[pe(S(Gt),null,{default:Me(()=>[pe(S(Zs))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[lr,(D.arrow==="always"||S(l))&&(r.loop||S(a)<S(u).length-1)]])]),_:1})):Je("v-if",!0),_e("div",{class:j(S(N)),style:Ft(S(f)),onTransitionend:S(b)},[pe(S(M)),Qe(D.$slots,"default")],46,["onTransitionend"]),D.indicatorPosition!=="none"?($(),ge("ul",{key:2,class:j(S(F))},[($(!0),ge(Bt,null,kn(S(u),(z,B)=>Sn(($(),ge("li",{key:B,class:j([S(I).e("indicator"),S(I).em("indicator",D.direction),S(I).is("active",B===S(a))]),onMouseenter:W=>S(A)(B),onClick:sn(W=>S(g)(B),["stop"])},[_e("button",{class:j(S(I).e("button")),"aria-label":S(L)("el.carousel.indicator",{index:B+1})},[S(o)?($(),ge("span",{key:0},_t(z.props.label),1)):Je("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[lr,S(C)(B)]])),128))],2)):Je("v-if",!0),r.motionBlur?($(),ge("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[_e("defs",null,[_e("filter",{id:"elCarouselHorizontal"},[_e("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),_e("filter",{id:"elCarouselVertical"},[_e("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):Je("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var j_e=It(X_e,[["__file","carousel.vue"]]);const Z_e=Et({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Q_e=n=>{const e=Nt($X),t=wn(),r=te(),i=te(!1),a=te(0),s=te(1),o=te(!1),l=te(!1),c=te(!1),u=te(!1),{isCardType:d,isVertical:f,cardScale:h}=e;function p(b,_,w){const x=w-1,M=_-1,C=_+1,T=w/2;return _===0&&b===x?-1:_===x&&b===0?w:b<M&&_-b>=T?w+1:b>C&&b-_>=T?-2:b}function m(b,_){var w,x;const M=S(f)?((w=e.root.value)==null?void 0:w.offsetHeight)||0:((x=e.root.value)==null?void 0:x.offsetWidth)||0;return c.value?M*((2-h)*(b-_)+1)/4:b<_?-(1+h)*M/4:(3+h)*M/4}function g(b,_,w){const x=e.root.value;return x?((w?x.offsetHeight:x.offsetWidth)||0)*(b-_):0}const v=(b,_,w)=>{var x;const M=S(d),C=(x=e.items.value.length)!=null?x:Number.NaN,T=b===_;!M&&!Tr(w)&&(u.value=T||b===w),!T&&C>2&&e.loop&&(b=p(b,_,C));const A=S(f);o.value=T,M?(c.value=Math.round(Math.abs(b-_))<=1,a.value=m(b,_),s.value=S(o)?1:h):a.value=g(b,_,A),l.value=!0,T&&r.value&&e.setContainerHeight(r.value.offsetHeight)};function y(){if(e&&S(d)){const b=e.items.value.findIndex(({uid:_})=>_===t.uid);e.setActiveItem(b)}}return dn(()=>{e.addItem({props:n,states:pr({hover:i,translate:a,scale:s,active:o,ready:l,inStage:c,animating:u}),uid:t.uid,translateItem:v})}),Ec(()=>{e.removeItem(t.uid)}),{carouselItemRef:r,active:o,animating:u,hover:i,inStage:c,isVertical:f,translate:a,isCardType:d,scale:s,ready:l,handleItemClick:y}},J_e=Pe({name:HR}),eSe=Pe({...J_e,props:Z_e,setup(n){const e=n,t=yt("carousel"),{carouselItemRef:r,active:i,animating:a,hover:s,inStage:o,isVertical:l,translate:c,isCardType:u,scale:d,ready:f,handleItemClick:h}=Q_e(e),p=U(()=>[t.e("item"),t.is("active",i.value),t.is("in-stage",o.value),t.is("hover",s.value),t.is("animating",a.value),{[t.em("item","card")]:u.value,[t.em("item","card-vertical")]:u.value&&l.value}]),m=U(()=>{const v=`${`translate${S(l)?"Y":"X"}`}(${S(c)}px)`,y=`scale(${S(d)})`;return{transform:[v,y].join(" ")}});return(g,v)=>Sn(($(),ge("div",{ref_key:"carouselItemRef",ref:r,class:j(S(p)),style:Ft(S(m)),onClick:S(h)},[S(u)?Sn(($(),ge("div",{key:0,class:j(S(t).e("mask"))},null,2)),[[lr,!S(i)]]):Je("v-if",!0),Qe(g.$slots,"default")],14,["onClick"])),[[lr,S(f)]])}});var GX=It(eSe,[["__file","carousel-item.vue"]]);const tSe=gn(j_e,{CarouselItem:GX}),nSe=Ci(GX),WX={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:oa,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...Xa(["ariaControls"])},qX={[Tn]:n=>qt(n)||en(n)||Vr(n),change:n=>qt(n)||en(n)||Vr(n)},by=Symbol("checkboxGroupContextKey"),rSe=({model:n,isChecked:e})=>{const t=Nt(by,void 0),r=U(()=>{var a,s;const o=(a=t==null?void 0:t.max)==null?void 0:a.value,l=(s=t==null?void 0:t.min)==null?void 0:s.value;return!Tr(o)&&n.value.length>=o&&!e.value||!Tr(l)&&n.value.length<=l&&e.value});return{isDisabled:ps(U(()=>(t==null?void 0:t.disabled.value)||r.value)),isLimitDisabled:r}},iSe=(n,{model:e,isLimitExceeded:t,hasOwnLabel:r,isDisabled:i,isLabeledByFormItem:a})=>{const s=Nt(by,void 0),{formItem:o}=hs(),{emit:l}=wn();function c(p){var m,g,v,y;return[!0,n.trueValue,n.trueLabel].includes(p)?(g=(m=n.trueValue)!=null?m:n.trueLabel)!=null?g:!0:(y=(v=n.falseValue)!=null?v:n.falseLabel)!=null?y:!1}function u(p,m){l("change",c(p),m)}function d(p){if(t.value)return;const m=p.target;l("change",c(m.checked),p)}async function f(p){t.value||!r.value&&!i.value&&a.value&&(p.composedPath().some(v=>v.tagName==="LABEL")||(e.value=c([!1,n.falseValue,n.falseLabel].includes(e.value)),await Yt(),u(e.value,p)))}const h=U(()=>(s==null?void 0:s.validateEvent)||n.validateEvent);return dt(()=>n.modelValue,()=>{h.value&&(o==null||o.validate("change").catch(p=>void 0))}),{handleChange:d,onClickRoot:f}},aSe=n=>{const e=te(!1),{emit:t}=wn(),r=Nt(by,void 0),i=U(()=>Tr(r)===!1),a=te(!1),s=U({get(){var o,l;return i.value?(o=r==null?void 0:r.modelValue)==null?void 0:o.value:(l=n.modelValue)!=null?l:e.value},set(o){var l,c;i.value&&St(o)?(a.value=((l=r==null?void 0:r.max)==null?void 0:l.value)!==void 0&&o.length>(r==null?void 0:r.max.value)&&o.length>s.value.length,a.value===!1&&((c=r==null?void 0:r.changeEvent)==null||c.call(r,o))):(t(Tn,o),e.value=o)}});return{model:s,isGroup:i,isLimitExceeded:a}},sSe=(n,e,{model:t})=>{const r=Nt(by,void 0),i=te(!1),a=U(()=>C0(n.value)?n.label:n.value),s=U(()=>{const u=t.value;return Vr(u)?u:St(u)?Pn(a.value)?u.map(Er).some(d=>Ka(d,a.value)):u.map(Er).includes(a.value):u!=null?u===n.trueValue||u===n.trueLabel:!!u}),o=ji(U(()=>{var u;return(u=r==null?void 0:r.size)==null?void 0:u.value}),{prop:!0}),l=ji(U(()=>{var u;return(u=r==null?void 0:r.size)==null?void 0:u.value})),c=U(()=>!!e.default||!C0(a.value));return{checkboxButtonSize:o,isChecked:s,isFocused:i,checkboxSize:l,hasOwnLabel:c,actualValue:a}},KX=(n,e)=>{const{formItem:t}=hs(),{model:r,isGroup:i,isLimitExceeded:a}=aSe(n),{isFocused:s,isChecked:o,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,actualValue:d}=sSe(n,e,{model:r}),{isDisabled:f}=rSe({model:r,isChecked:o}),{inputId:h,isLabeledByFormItem:p}=Xl(n,{formItemContext:t,disableIdGeneration:u,disableIdManagement:i}),{handleChange:m,onClickRoot:g}=iSe(n,{model:r,isLimitExceeded:a,hasOwnLabel:u,isDisabled:f,isLabeledByFormItem:p});return(()=>{function y(){var b,_;St(r.value)&&!r.value.includes(d.value)?r.value.push(d.value):r.value=(_=(b=n.trueValue)!=null?b:n.trueLabel)!=null?_:!0}n.checked&&y()})(),Xf({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},U(()=>i.value&&C0(n.value))),Xf({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},U(()=>!!n.trueLabel)),Xf({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},U(()=>!!n.falseLabel)),{inputId:h,isLabeledByFormItem:p,isChecked:o,isDisabled:f,isFocused:s,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,model:r,actualValue:d,handleChange:m,onClickRoot:g}},oSe=Pe({name:"ElCheckbox"}),lSe=Pe({...oSe,props:WX,emits:qX,setup(n){const e=n,t=Qi(),{inputId:r,isLabeledByFormItem:i,isChecked:a,isDisabled:s,isFocused:o,checkboxSize:l,hasOwnLabel:c,model:u,actualValue:d,handleChange:f,onClickRoot:h}=KX(e,t),p=yt("checkbox"),m=U(()=>[p.b(),p.m(l.value),p.is("disabled",s.value),p.is("bordered",e.border),p.is("checked",a.value)]),g=U(()=>[p.e("input"),p.is("disabled",s.value),p.is("checked",a.value),p.is("indeterminate",e.indeterminate),p.is("focus",o.value)]);return(v,y)=>($(),rt(Rn(!S(c)&&S(i)?"span":"label"),{class:j(S(m)),"aria-controls":v.indeterminate?v.ariaControls:null,onClick:S(h)},{default:Me(()=>{var b,_,w,x;return[_e("span",{class:j(S(g))},[v.trueValue||v.falseValue||v.trueLabel||v.falseLabel?Sn(($(),ge("input",{key:0,id:S(r),"onUpdate:modelValue":M=>Ur(u)?u.value=M:null,class:j(S(p).e("original")),type:"checkbox",indeterminate:v.indeterminate,name:v.name,tabindex:v.tabindex,disabled:S(s),"true-value":(_=(b=v.trueValue)!=null?b:v.trueLabel)!=null?_:!0,"false-value":(x=(w=v.falseValue)!=null?w:v.falseLabel)!=null?x:!1,onChange:S(f),onFocus:M=>o.value=!0,onBlur:M=>o.value=!1,onClick:sn(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[w0,S(u)]]):Sn(($(),ge("input",{key:1,id:S(r),"onUpdate:modelValue":M=>Ur(u)?u.value=M:null,class:j(S(p).e("original")),type:"checkbox",indeterminate:v.indeterminate,disabled:S(s),value:S(d),name:v.name,tabindex:v.tabindex,onChange:S(f),onFocus:M=>o.value=!0,onBlur:M=>o.value=!1,onClick:sn(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[w0,S(u)]]),_e("span",{class:j(S(p).e("inner"))},null,2)],2),S(c)?($(),ge("span",{key:0,class:j(S(p).e("label"))},[Qe(v.$slots,"default"),v.$slots.default?Je("v-if",!0):($(),ge(Bt,{key:0},[un(_t(v.label),1)],64))],2)):Je("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var cSe=It(lSe,[["__file","checkbox.vue"]]);const uSe=Pe({name:"ElCheckboxButton"}),dSe=Pe({...uSe,props:WX,emits:qX,setup(n){const e=n,t=Qi(),{isFocused:r,isChecked:i,isDisabled:a,checkboxButtonSize:s,model:o,actualValue:l,handleChange:c}=KX(e,t),u=Nt(by,void 0),d=yt("checkbox"),f=U(()=>{var p,m,g,v;const y=(m=(p=u==null?void 0:u.fill)==null?void 0:p.value)!=null?m:"";return{backgroundColor:y,borderColor:y,color:(v=(g=u==null?void 0:u.textColor)==null?void 0:g.value)!=null?v:"",boxShadow:y?`-1px 0 0 0 ${y}`:void 0}}),h=U(()=>[d.b("button"),d.bm("button",s.value),d.is("disabled",a.value),d.is("checked",i.value),d.is("focus",r.value)]);return(p,m)=>{var g,v,y,b;return $(),ge("label",{class:j(S(h))},[p.trueValue||p.falseValue||p.trueLabel||p.falseLabel?Sn(($(),ge("input",{key:0,"onUpdate:modelValue":_=>Ur(o)?o.value=_:null,class:j(S(d).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:S(a),"true-value":(v=(g=p.trueValue)!=null?g:p.trueLabel)!=null?v:!0,"false-value":(b=(y=p.falseValue)!=null?y:p.falseLabel)!=null?b:!1,onChange:S(c),onFocus:_=>r.value=!0,onBlur:_=>r.value=!1,onClick:sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[w0,S(o)]]):Sn(($(),ge("input",{key:1,"onUpdate:modelValue":_=>Ur(o)?o.value=_:null,class:j(S(d).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:S(a),value:S(l),onChange:S(c),onFocus:_=>r.value=!0,onBlur:_=>r.value=!1,onClick:sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[w0,S(o)]]),p.$slots.default||p.label?($(),ge("span",{key:2,class:j(S(d).be("button","inner")),style:Ft(S(i)?S(f):void 0)},[Qe(p.$slots,"default",{},()=>[un(_t(p.label),1)])],6)):Je("v-if",!0)],2)}}});var YX=It(dSe,[["__file","checkbox-button.vue"]]);const fSe=Et({modelValue:{type:Ke(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:oa,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...Xa(["ariaLabel"])}),hSe={[Tn]:n=>St(n),change:n=>St(n)},pSe=Pe({name:"ElCheckboxGroup"}),mSe=Pe({...pSe,props:fSe,emits:hSe,setup(n,{emit:e}){const t=n,r=yt("checkbox"),{formItem:i}=hs(),{inputId:a,isLabeledByFormItem:s}=Xl(t,{formItemContext:i}),o=async c=>{e(Tn,c),await Yt(),e("change",c)},l=U({get(){return t.modelValue},set(c){o(c)}});return Vn(by,{...vc(aa(t),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:o}),dt(()=>t.modelValue,()=>{t.validateEvent&&(i==null||i.validate("change").catch(c=>void 0))}),(c,u)=>{var d;return $(),rt(Rn(c.tag),{id:S(a),class:j(S(r).b("group")),role:"group","aria-label":S(s)?void 0:c.ariaLabel||"checkbox-group","aria-labelledby":S(s)?(d=S(i))==null?void 0:d.labelId:void 0},{default:Me(()=>[Qe(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var XX=It(mSe,[["__file","checkbox-group.vue"]]);const ql=gn(cSe,{CheckboxButton:YX,CheckboxGroup:XX}),vSe=Ci(YX),jX=Ci(XX),ZX=Et({modelValue:{type:[String,Number,Boolean],default:void 0},size:oa,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),gSe=Et({...ZX,border:Boolean}),QX={[Tn]:n=>qt(n)||en(n)||Vr(n),[Pr]:n=>qt(n)||en(n)||Vr(n)},JX=Symbol("radioGroupKey"),ej=(n,e)=>{const t=te(),r=Nt(JX,void 0),i=U(()=>!!r),a=U(()=>C0(n.value)?n.label:n.value),s=U({get(){return i.value?r.modelValue:n.modelValue},set(d){i.value?r.changeEvent(d):e&&e(Tn,d),t.value.checked=n.modelValue===a.value}}),o=ji(U(()=>r==null?void 0:r.size)),l=ps(U(()=>r==null?void 0:r.disabled)),c=te(!1),u=U(()=>l.value||i.value&&s.value!==a.value?-1:0);return Xf({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},U(()=>i.value&&C0(n.value))),{radioRef:t,isGroup:i,radioGroup:r,focus:c,size:o,disabled:l,tabIndex:u,modelValue:s,actualValue:a}},ySe=Pe({name:"ElRadio"}),bSe=Pe({...ySe,props:gSe,emits:QX,setup(n,{emit:e}){const t=n,r=yt("radio"),{radioRef:i,radioGroup:a,focus:s,size:o,disabled:l,modelValue:c,actualValue:u}=ej(t,e);function d(){Yt(()=>e("change",c.value))}return(f,h)=>{var p;return $(),ge("label",{class:j([S(r).b(),S(r).is("disabled",S(l)),S(r).is("focus",S(s)),S(r).is("bordered",f.border),S(r).is("checked",S(c)===S(u)),S(r).m(S(o))])},[_e("span",{class:j([S(r).e("input"),S(r).is("disabled",S(l)),S(r).is("checked",S(c)===S(u))])},[Sn(_e("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":m=>Ur(c)?c.value=m:null,class:j(S(r).e("original")),value:S(u),name:f.name||((p=S(a))==null?void 0:p.name),disabled:S(l),checked:S(c)===S(u),type:"radio",onFocus:m=>s.value=!0,onBlur:m=>s.value=!1,onChange:d,onClick:sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[yS,S(c)]]),_e("span",{class:j(S(r).e("inner"))},null,2)],2),_e("span",{class:j(S(r).e("label")),onKeydown:sn(()=>{},["stop"])},[Qe(f.$slots,"default",{},()=>[un(_t(f.label),1)])],42,["onKeydown"])],2)}}});var _Se=It(bSe,[["__file","radio.vue"]]);const SSe=Et({...ZX}),wSe=Pe({name:"ElRadioButton"}),xSe=Pe({...wSe,props:SSe,setup(n){const e=n,t=yt("radio"),{radioRef:r,focus:i,size:a,disabled:s,modelValue:o,radioGroup:l,actualValue:c}=ej(e),u=U(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(d,f)=>{var h;return $(),ge("label",{class:j([S(t).b("button"),S(t).is("active",S(o)===S(c)),S(t).is("disabled",S(s)),S(t).is("focus",S(i)),S(t).bm("button",S(a))])},[Sn(_e("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":p=>Ur(o)?o.value=p:null,class:j(S(t).be("button","original-radio")),value:S(c),type:"radio",name:d.name||((h=S(l))==null?void 0:h.name),disabled:S(s),onFocus:p=>i.value=!0,onBlur:p=>i.value=!1,onClick:sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[yS,S(o)]]),_e("span",{class:j(S(t).be("button","inner")),style:Ft(S(o)===S(c)?S(u):{}),onKeydown:sn(()=>{},["stop"])},[Qe(d.$slots,"default",{},()=>[un(_t(d.label),1)])],46,["onKeydown"])],2)}}});var tj=It(xSe,[["__file","radio-button.vue"]]);const CSe=Et({id:{type:String,default:void 0},size:oa,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...Xa(["ariaLabel"])}),MSe=QX,TSe=Pe({name:"ElRadioGroup"}),ASe=Pe({...TSe,props:CSe,emits:MSe,setup(n,{emit:e}){const t=n,r=yt("radio"),i=Ya(),a=te(),{formItem:s}=hs(),{inputId:o,isLabeledByFormItem:l}=Xl(t,{formItemContext:s}),c=d=>{e(Tn,d),Yt(()=>e("change",d))};dn(()=>{const d=a.value.querySelectorAll("[type=radio]"),f=d[0];!Array.from(d).some(h=>h.checked)&&f&&(f.tabIndex=0)});const u=U(()=>t.name||i.value);return Vn(JX,pr({...aa(t),changeEvent:c,name:u})),dt(()=>t.modelValue,()=>{t.validateEvent&&(s==null||s.validate("change").catch(d=>void 0))}),(d,f)=>($(),ge("div",{id:S(o),ref_key:"radioGroupRef",ref:a,class:j(S(r).b("group")),role:"radiogroup","aria-label":S(l)?void 0:d.ariaLabel||"radio-group","aria-labelledby":S(l)?S(s).labelId:void 0},[Qe(d.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var nj=It(ASe,[["__file","radio-group.vue"]]);const rj=gn(_Se,{RadioButton:tj,RadioGroup:nj}),ESe=Ci(nj),ISe=Ci(tj);var RSe=Pe({name:"NodeContent",setup(){return{ns:yt("cascader-node")}},render(){const{ns:n}=this,{node:e,panel:t}=this.$parent,{data:r,label:i}=e,{renderLabelFn:a}=t;return $t("span",{class:n.e("label")},a?a({node:e,data:r}):i)}});const N6=Symbol(),PSe=Pe({name:"ElCascaderNode",components:{ElCheckbox:ql,ElRadio:rj,NodeContent:RSe,ElIcon:Gt,Check:CS,Loading:mu,ArrowRight:Zs},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(n,{emit:e}){const t=Nt(N6),r=yt("cascader-node"),i=U(()=>t.isHoverMenu),a=U(()=>t.config.multiple),s=U(()=>t.config.checkStrictly),o=U(()=>{var x;return(x=t.checkedNodes[0])==null?void 0:x.uid}),l=U(()=>n.node.isDisabled),c=U(()=>n.node.isLeaf),u=U(()=>s.value&&!c.value||!l.value),d=U(()=>h(t.expandingNode)),f=U(()=>s.value&&t.checkedNodes.some(h)),h=x=>{var M;const{level:C,uid:T}=n.node;return((M=x==null?void 0:x.pathNodes[C-1])==null?void 0:M.uid)===T},p=()=>{d.value||t.expandNode(n.node)},m=x=>{const{node:M}=n;x!==M.checked&&t.handleCheckChange(M,x)},g=()=>{t.lazyLoad(n.node,()=>{c.value||p()})},v=x=>{i.value&&(y(),!c.value&&e("expand",x))},y=()=>{const{node:x}=n;!u.value||x.loading||(x.loaded?p():g())},b=()=>{i.value&&!c.value||(c.value&&!l.value&&!s.value&&!a.value?w(!0):y())},_=x=>{s.value?(m(x),n.node.loaded&&p()):w(x)},w=x=>{n.node.loaded?(m(x),!s.value&&p()):g()};return{panel:t,isHoverMenu:i,multiple:a,checkStrictly:s,checkedNodeId:o,isDisabled:l,isLeaf:c,expandable:u,inExpandingPath:d,inCheckedPath:f,ns:r,handleHoverExpand:v,handleExpand:y,handleClick:b,handleCheck:w,handleSelectCheck:_}}});function LSe(n,e,t,r,i,a){const s=Lt("el-checkbox"),o=Lt("el-radio"),l=Lt("check"),c=Lt("el-icon"),u=Lt("node-content"),d=Lt("loading"),f=Lt("arrow-right");return $(),ge("li",{id:`${n.menuId}-${n.node.uid}`,role:"menuitem","aria-haspopup":!n.isLeaf,"aria-owns":n.isLeaf?null:n.menuId,"aria-expanded":n.inExpandingPath,tabindex:n.expandable?-1:void 0,class:j([n.ns.b(),n.ns.is("selectable",n.checkStrictly),n.ns.is("active",n.node.checked),n.ns.is("disabled",!n.expandable),n.inExpandingPath&&"in-active-path",n.inCheckedPath&&"in-checked-path"]),onMouseenter:n.handleHoverExpand,onFocus:n.handleHoverExpand,onClick:n.handleClick},[Je(" prefix "),n.multiple?($(),rt(s,{key:0,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:n.isDisabled,onClick:sn(()=>{},["stop"]),"onUpdate:modelValue":n.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):n.checkStrictly?($(),rt(o,{key:1,"model-value":n.checkedNodeId,label:n.node.uid,disabled:n.isDisabled,"onUpdate:modelValue":n.handleSelectCheck,onClick:sn(()=>{},["stop"])},{default:Me(()=>[Je(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),_e("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):n.isLeaf&&n.node.checked?($(),rt(c,{key:2,class:j(n.ns.e("prefix"))},{default:Me(()=>[pe(l)]),_:1},8,["class"])):Je("v-if",!0),Je(" content "),pe(u),Je(" postfix "),n.isLeaf?Je("v-if",!0):($(),ge(Bt,{key:3},[n.node.loading?($(),rt(c,{key:0,class:j([n.ns.is("loading"),n.ns.e("postfix")])},{default:Me(()=>[pe(d)]),_:1},8,["class"])):($(),rt(c,{key:1,class:j(["arrow-right",n.ns.e("postfix")])},{default:Me(()=>[pe(f)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var DSe=It(PSe,[["render",LSe],["__file","node.vue"]]);const kSe=Pe({name:"ElCascaderMenu",components:{Loading:mu,ElIcon:Gt,ElScrollbar:Mu,ElCascaderNode:DSe},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(n){const e=wn(),t=yt("cascader-menu"),{t:r}=nr(),i=Ya();let a=null,s=null;const o=Nt(N6),l=te(null),c=U(()=>!n.nodes.length),u=U(()=>!o.initialLoaded),d=U(()=>`${i.value}-${n.index}`),f=g=>{a=g.target},h=g=>{if(!(!o.isHoverMenu||!a||!l.value))if(a.contains(g.target)){p();const v=e.vnode.el,{left:y}=v.getBoundingClientRect(),{offsetWidth:b,offsetHeight:_}=v,w=g.clientX-y,x=a.offsetTop,M=x+a.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${w} ${x} L${b} 0 V${x} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${w} ${M} L${b} ${_} V${M} Z" />
        `}else s||(s=window.setTimeout(m,o.config.hoverThreshold))},p=()=>{s&&(clearTimeout(s),s=null)},m=()=>{l.value&&(l.value.innerHTML="",p())};return{ns:t,panel:o,hoverZone:l,isEmpty:c,isLoading:u,menuId:d,t:r,handleExpand:f,handleMouseMove:h,clearHoverZone:m}}});function OSe(n,e,t,r,i,a){const s=Lt("el-cascader-node"),o=Lt("loading"),l=Lt("el-icon"),c=Lt("el-scrollbar");return $(),rt(c,{key:n.menuId,tag:"ul",role:"menu",class:j(n.ns.b()),"wrap-class":n.ns.e("wrap"),"view-class":[n.ns.e("list"),n.ns.is("empty",n.isEmpty)],onMousemove:n.handleMouseMove,onMouseleave:n.clearHoverZone},{default:Me(()=>{var u;return[($(!0),ge(Bt,null,kn(n.nodes,d=>($(),rt(s,{key:d.uid,node:d,"menu-id":n.menuId,onExpand:n.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),n.isLoading?($(),ge("div",{key:0,class:j(n.ns.e("empty-text"))},[pe(l,{size:"14",class:j(n.ns.is("loading"))},{default:Me(()=>[pe(o)]),_:1},8,["class"]),un(" "+_t(n.t("el.cascader.loading")),1)],2)):n.isEmpty?($(),ge("div",{key:1,class:j(n.ns.e("empty-text"))},[Qe(n.$slots,"empty",{},()=>[un(_t(n.t("el.cascader.noData")),1)])],2)):(u=n.panel)!=null&&u.isHoverMenu?($(),ge("svg",{key:2,ref:"hoverZone",class:j(n.ns.e("hover-zone"))},null,2)):Je("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var NSe=It(kSe,[["render",OSe],["__file","menu.vue"]]);const B6=(n="")=>n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Zc=n=>ly(n);let BSe=0;const FSe=n=>{const e=[n];let{parent:t}=n;for(;t;)e.unshift(t),t=t.parent;return e};let $R=class GR{constructor(e,t,r,i=!1){this.data=e,this.config=t,this.parent=r,this.root=i,this.uid=BSe++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:a,label:s,children:o}=t,l=e[o],c=FSe(this);this.level=i?0:r?r.level+1:1,this.value=e[a],this.label=e[s],this.pathNodes=c,this.pathValues=c.map(u=>u.value),this.pathLabels=c.map(u=>u.label),this.childrenData=l,this.children=(l||[]).map(u=>new GR(u,t,this)),this.loaded=!t.lazy||this.isLeaf||!Wo(l)}get isDisabled(){const{data:e,parent:t,config:r}=this,{disabled:i,checkStrictly:a}=r;return(Kt(i)?i(e,this):!!e[i])||!a&&(t==null?void 0:t.isDisabled)}get isLeaf(){const{data:e,config:t,childrenData:r,loaded:i}=this,{lazy:a,leaf:s}=t,o=Kt(s)?s(e,this):e[s];return Tr(o)?a&&!i?!1:!(St(r)&&r.length):!!o}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:t,children:r}=this,i=new GR(e,this.config,this);return St(t)?t.push(e):this.childrenData=[e],r.push(i),i}calcText(e,t){const r=e?this.pathLabels.join(t):this.label;return this.text=r,r}broadcast(e,...t){const r=`onParent${Zc(e)}`;this.children.forEach(i=>{i&&(i.broadcast(e,...t),i[r]&&i[r](...t))})}emit(e,...t){const{parent:r}=this,i=`onChild${Zc(e)}`;r&&(r[i]&&r[i](...t),r.emit(e,...t))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,t=e.filter(i=>!i.isDisabled),r=t.length?t.every(i=>i.checked):!1;this.setCheckState(r)}setCheckState(e){const t=this.children.length,r=this.children.reduce((i,a)=>{const s=a.checked?1:a.indeterminate?.5:0;return i+s},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&e,this.indeterminate=this.loaded&&r!==t&&r>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:t,multiple:r}=this.config;t||!r?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const WR=(n,e)=>n.reduce((t,r)=>(r.isLeaf?t.push(r):(!e&&t.push(r),t=t.concat(WR(r.children,e))),t),[]);class T7{constructor(e,t){this.config=t;const r=(e||[]).map(i=>new $R(i,this.config));this.nodes=r,this.allNodes=WR(r,!1),this.leafNodes=WR(r,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,t){const r=t?t.appendChild(e):new $R(e,this.config);t||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(e,t){e.forEach(r=>this.appendNode(r,t))}getNodeByValue(e,t=!1){return!e&&e!==0?null:this.getFlattedNodes(t).find(i=>Ka(i.value,e)||Ka(i.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:r,level:i})=>Ka(e.value,r)&&e.level===i)||null}}const ij=Et({modelValue:{type:Ke([Number,String,Array])},options:{type:Ke(Array),default:()=>[]},props:{type:Ke(Object),default:()=>({})}}),zSe={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:xr,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},USe=n=>U(()=>({...zSe,...n.props})),A7=n=>{if(!n)return 0;const e=n.id.split("-");return Number(e[e.length-2])},HSe=n=>{if(!n)return;const e=n.querySelector("input");e?e.click():lX(n)&&n.click()},VSe=(n,e)=>{const t=e.slice(0),r=t.map(a=>a.uid),i=n.reduce((a,s)=>{const o=r.indexOf(s.uid);return o>-1&&(a.push(s),t.splice(o,1),r.splice(o,1)),a},[]);return i.push(...t),i},E7=n=>[...new Set(n)],Ks=n=>!n&&n!==0?[]:St(n)?n:[n],$Se=Pe({name:"ElCascaderPanel",components:{ElCascaderMenu:NSe},props:{...ij,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Tn,Pr,"close","expand-change"],setup(n,{emit:e,slots:t}){let r=!1;const i=yt("cascader"),a=USe(n);let s=null;const o=te(!0),l=te([]),c=te(null),u=te([]),d=te(null),f=te([]),h=U(()=>a.value.expandTrigger==="hover"),p=U(()=>n.renderLabel||t.default),m=()=>{const{options:L}=n,k=a.value;r=!1,s=new T7(L,k),u.value=[s.getNodes()],k.lazy&&Wo(n.options)?(o.value=!1,g(void 0,N=>{N&&(s=new T7(N,k),u.value=[s.getNodes()]),o.value=!0,C(!1,!0)})):C(!1,!0)},g=(L,k)=>{const N=a.value;L=L||new $R({},N,void 0,!0),L.loading=!0;const F=D=>{const H=L,z=H.root?null:H;D&&(s==null||s.appendNodes(D,z)),H.loading=!1,H.loaded=!0,H.childrenData=H.childrenData||[],k&&k(D)};N.lazyLoad(L,F)},v=(L,k)=>{var N;const{level:F}=L,D=u.value.slice(0,F);let H;L.isLeaf?H=L.pathNodes[F-2]:(H=L,D.push(L.children)),((N=d.value)==null?void 0:N.uid)!==(H==null?void 0:H.uid)&&(d.value=L,u.value=D,!k&&e("expand-change",(L==null?void 0:L.pathValues)||[]))},y=(L,k,N=!0)=>{const{checkStrictly:F,multiple:D}=a.value,H=f.value[0];r=!0,!D&&(H==null||H.doCheck(!1)),L.doCheck(k),M(),N&&!D&&!F&&e("close"),!N&&!D&&!F&&b(L)},b=L=>{L&&(L=L.parent,b(L),L&&v(L))},_=L=>s==null?void 0:s.getFlattedNodes(L),w=L=>{var k;return(k=_(L))==null?void 0:k.filter(N=>N.checked!==!1)},x=()=>{f.value.forEach(L=>L.doCheck(!1)),M(),u.value=u.value.slice(0,1),d.value=null,e("expand-change",[])},M=()=>{var L;const{checkStrictly:k,multiple:N}=a.value,F=f.value,D=w(!k),H=VSe(F,D),z=H.map(B=>B.valueByOption);f.value=H,c.value=N?z:(L=z[0])!=null?L:null},C=(L=!1,k=!1)=>{const{modelValue:N}=n,{lazy:F,multiple:D,checkStrictly:H}=a.value,z=!H;if(!(!o.value||r||!k&&Ka(N,c.value)))if(F&&!L){const W=E7(I0e(Ks(N))).map(Z=>s==null?void 0:s.getNodeByValue(Z)).filter(Z=>!!Z&&!Z.loaded&&!Z.loading);W.length?W.forEach(Z=>{g(Z,()=>C(!1,k))}):C(!0,k)}else{const B=D?Ks(N):[N],W=E7(B.map(Z=>s==null?void 0:s.getNodeByValue(Z,z)));T(W,k),c.value=KC(N)}},T=(L,k=!0)=>{const{checkStrictly:N}=a.value,F=f.value,D=L.filter(B=>!!B&&(N||B.isLeaf)),H=s==null?void 0:s.getSameNode(d.value),z=k&&H||D[0];z?z.pathNodes.forEach(B=>v(B,!0)):d.value=null,F.forEach(B=>B.doCheck(!1)),pr(D).forEach(B=>B.doCheck(!0)),f.value=D,Yt(A)},A=()=>{tr&&l.value.forEach(L=>{const k=L==null?void 0:L.$el;if(k){const N=k.querySelector(`.${i.namespace.value}-scrollbar__wrap`),F=k.querySelector(`.${i.b("node")}.${i.is("active")}`)||k.querySelector(`.${i.b("node")}.in-active-path`);h6(N,F)}})},I=L=>{const k=L.target,{code:N}=L;switch(N){case Ot.up:case Ot.down:{L.preventDefault();const F=N===Ot.up?-1:1;H2(cX(k,F,`.${i.b("node")}[tabindex="-1"]`));break}case Ot.left:{L.preventDefault();const F=l.value[A7(k)-1],D=F==null?void 0:F.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);H2(D);break}case Ot.right:{L.preventDefault();const F=l.value[A7(k)+1],D=F==null?void 0:F.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);H2(D);break}case Ot.enter:case Ot.numpadEnter:HSe(k);break}};return Vn(N6,pr({config:a,expandingNode:d,checkedNodes:f,isHoverMenu:h,initialLoaded:o,renderLabelFn:p,lazyLoad:g,expandNode:v,handleCheckChange:y})),dt([a,()=>n.options],m,{deep:!0,immediate:!0}),dt(()=>n.modelValue,()=>{r=!1,C()},{deep:!0}),dt(()=>c.value,L=>{Ka(L,n.modelValue)||(e(Tn,L),e(Pr,L))}),kT(()=>l.value=[]),dn(()=>!Wo(n.modelValue)&&C()),{ns:i,menuList:l,menus:u,checkedNodes:f,handleKeyDown:I,handleCheckChange:y,getFlattedNodes:_,getCheckedNodes:w,clearCheckedNodes:x,calculateCheckedValue:M,scrollToExpandingNode:A}}});function GSe(n,e,t,r,i,a){const s=Lt("el-cascader-menu");return $(),ge("div",{class:j([n.ns.b("panel"),n.ns.is("bordered",n.border)]),onKeydown:n.handleKeyDown},[($(!0),ge(Bt,null,kn(n.menus,(o,l)=>($(),rt(s,{key:l,ref_for:!0,ref:c=>n.menuList[l]=c,index:l,nodes:[...o]},{empty:Me(()=>[Qe(n.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var WSe=It($Se,[["render",GSe],["__file","index.vue"]]);const aj=gn(WSe),Ad=Et({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Cu},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),qSe={close:n=>n instanceof MouseEvent,click:n=>n instanceof MouseEvent},KSe=Pe({name:"ElTag"}),YSe=Pe({...KSe,props:Ad,emits:qSe,setup(n,{emit:e}){const t=n,r=ji(),i=yt("tag"),a=U(()=>{const{type:c,hit:u,effect:d,closable:f,round:h}=t;return[i.b(),i.is("closable",f),i.m(c||"primary"),i.m(r.value),i.m(d),i.is("hit",u),i.is("round",h)]}),s=c=>{e("close",c)},o=c=>{e("click",c)},l=c=>{var u,d,f;(f=(d=(u=c==null?void 0:c.component)==null?void 0:u.subTree)==null?void 0:d.component)!=null&&f.bum&&(c.component.subTree.component.bum=null)};return(c,u)=>c.disableTransitions?($(),ge("span",{key:0,class:j(S(a)),style:Ft({backgroundColor:c.color}),onClick:o},[_e("span",{class:j(S(i).e("content"))},[Qe(c.$slots,"default")],2),c.closable?($(),rt(S(Gt),{key:0,class:j(S(i).e("close")),onClick:sn(s,["stop"])},{default:Me(()=>[pe(S(Ac))]),_:1},8,["class","onClick"])):Je("v-if",!0)],6)):($(),rt(sa,{key:1,name:`${S(i).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:l},{default:Me(()=>[_e("span",{class:j(S(a)),style:Ft({backgroundColor:c.color}),onClick:o},[_e("span",{class:j(S(i).e("content"))},[Qe(c.$slots,"default")],2),c.closable?($(),rt(S(Gt),{key:0,class:j(S(i).e("close")),onClick:sn(s,["stop"])},{default:Me(()=>[pe(S(Ac))]),_:1},8,["class","onClick"])):Je("v-if",!0)],6)]),_:3},8,["name"]))}});var XSe=It(YSe,[["__file","tag.vue"]]);const Ig=gn(XSe),jSe=Et({...ij,size:oa,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Ke(Function),default:(n,e)=>n.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Ke(Function),default:()=>!0},placement:{type:Ke(String),values:Gd,default:"bottom-start"},fallbackPlacements:{type:Ke(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:Ea.teleported,tagType:{...Ad.type,default:"info"},tagEffect:{...Ad.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...vy}),ZSe={[Tn]:n=>!0,[Pr]:n=>!0,focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,visibleChange:n=>Vr(n),expandChange:n=>!!n,removeTag:n=>!!n},Pf=new Map;if(tr){let n;document.addEventListener("mousedown",e=>n=e),document.addEventListener("mouseup",e=>{if(n){for(const t of Pf.values())for(const{documentHandler:r}of t)r(e,n);n=void 0}})}function I7(n,e){let t=[];return St(e.arg)?t=e.arg:Zo(e.arg)&&t.push(e.arg),function(r,i){const a=e.instance.popperRef,s=r.target,o=i==null?void 0:i.target,l=!e||!e.instance,c=!s||!o,u=n.contains(s)||n.contains(o),d=n===s,f=t.length&&t.some(p=>p==null?void 0:p.contains(s))||t.length&&t.includes(o),h=a&&(a.contains(s)||a.contains(o));l||c||u||d||f||h||e.value(r,i)}}const Ed={beforeMount(n,e){Pf.has(n)||Pf.set(n,[]),Pf.get(n).push({documentHandler:I7(n,e),bindingFn:e.value})},updated(n,e){Pf.has(n)||Pf.set(n,[]);const t=Pf.get(n),r=t.findIndex(a=>a.bindingFn===e.oldValue),i={documentHandler:I7(n,e),bindingFn:e.value};r>=0?t.splice(r,1,i):t.push(i)},unmounted(n){Pf.delete(n)}},QSe="ElCascader",JSe=Pe({name:QSe}),ewe=Pe({...JSe,props:jSe,emits:ZSe,setup(n,{expose:e,emit:t}){const r=n,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:ve})=>{const{modifiersData:Le,placement:be}=ve;["right","left","bottom","top"].includes(be)||(Le.arrow.x=35)},requires:["arrow"]}]},a=zd();let s=0,o=0;const l=yt("cascader"),c=yt("input"),{t:u}=nr(),{form:d,formItem:f}=hs(),{valueOnClear:h}=qT(r),{isComposing:p,handleComposition:m}=TS({afterComposition(ve){var Le;const be=(Le=ve.target)==null?void 0:Le.value;G(be)}}),g=te(null),v=te(null),y=te(null),b=te(null),_=te(null),w=te(!1),x=te(!1),M=te(!1),C=te(!1),T=te(""),A=te(""),I=te([]),L=te([]),k=te([]),N=U(()=>a.style),F=U(()=>r.disabled||(d==null?void 0:d.disabled)),D=U(()=>r.placeholder||u("el.cascader.placeholder")),H=U(()=>A.value||I.value.length>0||p.value?"":D.value),z=ji(),B=U(()=>z.value==="small"?"small":"default"),W=U(()=>!!r.props.multiple),Z=U(()=>!r.filterable||W.value),ee=U(()=>W.value?A.value:T.value),J=U(()=>{var ve;return((ve=b.value)==null?void 0:ve.checkedNodes)||[]}),re=U(()=>!r.clearable||F.value||M.value||!x.value?!1:!!J.value.length),fe=U(()=>{const{showAllLevels:ve,separator:Le}=r,be=J.value;return be.length?W.value?"":be[0].calcText(ve,Le):""}),de=U(()=>(f==null?void 0:f.validateState)||""),me=U({get(){return KC(r.modelValue)},set(ve){const Le=ve??h.value;t(Tn,Le),t(Pr,Le),r.validateEvent&&(f==null||f.validate("change").catch(be=>void 0))}}),Re=U(()=>[l.b(),l.m(z.value),l.is("disabled",F.value),a.class]),De=U(()=>[c.e("icon"),"icon-arrow-down",l.is("reverse",w.value)]),Ge=U(()=>l.is("focus",w.value||C.value)),We=U(()=>{var ve,Le;return(Le=(ve=g.value)==null?void 0:ve.popperRef)==null?void 0:Le.contentRef}),K=ve=>{var Le,be,Te;F.value||(ve=ve??!w.value,ve!==w.value&&(w.value=ve,(be=(Le=v.value)==null?void 0:Le.input)==null||be.setAttribute("aria-expanded",`${ve}`),ve?(ue(),Yt((Te=b.value)==null?void 0:Te.scrollToExpandingNode)):r.filterable&&we(),t("visibleChange",ve)))},ue=()=>{Yt(()=>{var ve;(ve=g.value)==null||ve.updatePopper()})},ie=()=>{M.value=!1},$e=ve=>{const{showAllLevels:Le,separator:be}=r;return{node:ve,key:ve.uid,text:ve.calcText(Le,be),hitState:!1,closable:!F.value&&!ve.isDisabled,isCollapseTag:!1}},Ne=ve=>{var Le;const be=ve.node;be.doCheck(!1),(Le=b.value)==null||Le.calculateCheckedValue(),t("removeTag",be.valueByOption)},Ye=()=>{if(!W.value)return;const ve=J.value,Le=[],be=[];if(ve.forEach(Te=>be.push($e(Te))),L.value=be,ve.length){ve.slice(0,r.maxCollapseTags).forEach(Ie=>Le.push($e(Ie)));const Te=ve.slice(r.maxCollapseTags),ht=Te.length;ht&&(r.collapseTags?Le.push({key:-1,text:`+ ${ht}`,closable:!1,isCollapseTag:!0}):Te.forEach(Ie=>Le.push($e(Ie))))}I.value=Le},ce=()=>{var ve,Le;const{filterMethod:be,showAllLevels:Te,separator:ht}=r,Ie=(Le=(ve=b.value)==null?void 0:ve.getFlattedNodes(!r.props.checkStrictly))==null?void 0:Le.filter(bt=>bt.isDisabled?!1:(bt.calcText(Te,ht),be(bt,ee.value)));W.value&&(I.value.forEach(bt=>{bt.hitState=!1}),L.value.forEach(bt=>{bt.hitState=!1})),M.value=!0,k.value=Ie,ue()},he=()=>{var ve;let Le;M.value&&_.value?Le=_.value.$el.querySelector(`.${l.e("suggestion-item")}`):Le=(ve=b.value)==null?void 0:ve.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),Le&&(Le.focus(),!M.value&&Le.click())},ke=()=>{var ve,Le;const be=(ve=v.value)==null?void 0:ve.input,Te=y.value,ht=(Le=_.value)==null?void 0:Le.$el;if(!(!tr||!be)){if(ht){const Ie=ht.querySelector(`.${l.e("suggestion-list")}`);Ie.style.minWidth=`${be.offsetWidth}px`}if(Te){const{offsetHeight:Ie}=Te,bt=I.value.length>0?`${Math.max(Ie,s)-2}px`:`${s}px`;be.style.height=bt,ue()}}},oe=ve=>{var Le;return(Le=b.value)==null?void 0:Le.getCheckedNodes(ve)},V=ve=>{ue(),t("expandChange",ve)},Y=ve=>{if(!p.value)switch(ve.code){case Ot.enter:case Ot.numpadEnter:K();break;case Ot.down:K(!0),Yt(he),ve.preventDefault();break;case Ot.esc:w.value===!0&&(ve.preventDefault(),ve.stopPropagation(),K(!1));break;case Ot.tab:K(!1);break}},Q=()=>{var ve;(ve=b.value)==null||ve.clearCheckedNodes(),!w.value&&r.filterable&&we(),K(!1),t("clear")},we=()=>{const{value:ve}=fe;T.value=ve,A.value=ve},Ue=ve=>{var Le,be;const{checked:Te}=ve;W.value?(Le=b.value)==null||Le.handleCheckChange(ve,!Te,!1):(!Te&&((be=b.value)==null||be.handleCheckChange(ve,!0,!1)),K(!1))},ct=ve=>{const Le=ve.target,{code:be}=ve;switch(be){case Ot.up:case Ot.down:{const Te=be===Ot.up?-1:1;H2(cX(Le,Te,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case Ot.enter:case Ot.numpadEnter:Le.click();break}},pt=()=>{const ve=I.value,Le=ve[ve.length-1];o=A.value?0:o+1,!(!Le||!o||r.collapseTags&&ve.length>1)&&(Le.hitState?Ne(Le):Le.hitState=!0)},Ee=ve=>{const Le=ve.target,be=l.e("search-input");Le.className===be&&(C.value=!0),t("focus",ve)},ft=ve=>{C.value=!1,t("blur",ve)},st=Mo(()=>{const{value:ve}=ee;if(!ve)return;const Le=r.beforeFilter(ve);vg(Le)?Le.then(ce).catch(()=>{}):Le!==!1?ce():ie()},r.debounce),G=(ve,Le)=>{!w.value&&K(!0),!(Le!=null&&Le.isComposing)&&(ve?st():ie())},ye=ve=>Number.parseFloat(mme(c.cssVarName("input-height"),ve).value)-2;return dt(M,ue),dt([J,F,()=>r.collapseTags],Ye),dt(I,()=>{Yt(()=>ke())}),dt(z,async()=>{await Yt();const ve=v.value.input;s=ye(ve)||s,ke()}),dt(fe,we,{immediate:!0}),dn(()=>{const ve=v.value.input,Le=ye(ve);s=ve.offsetHeight||Le,hi(ve,ke)}),e({getCheckedNodes:oe,cascaderPanelRef:b,togglePopperVisible:K,contentRef:We,presentText:fe}),(ve,Le)=>($(),rt(S(ds),{ref_key:"tooltipRef",ref:g,visible:w.value,teleported:ve.teleported,"popper-class":[S(l).e("dropdown"),ve.popperClass],"popper-options":i,"fallback-placements":ve.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:ve.placement,transition:`${S(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:ve.persistent,onHide:ie},{default:Me(()=>[Sn(($(),ge("div",{class:j(S(Re)),style:Ft(S(N)),onClick:()=>K(S(Z)?void 0:!0),onKeydown:Y,onMouseenter:be=>x.value=!0,onMouseleave:be=>x.value=!1},[pe(S(Ls),{ref_key:"input",ref:v,modelValue:T.value,"onUpdate:modelValue":be=>T.value=be,placeholder:S(H),readonly:S(Z),disabled:S(F),"validate-event":!1,size:S(z),class:j(S(Ge)),tabindex:S(W)&&ve.filterable&&!S(F)?-1:void 0,onCompositionstart:S(m),onCompositionupdate:S(m),onCompositionend:S(m),onFocus:Ee,onBlur:ft,onInput:G},{suffix:Me(()=>[S(re)?($(),rt(S(Gt),{key:"clear",class:j([S(c).e("icon"),"icon-circle-close"]),onClick:sn(Q,["stop"])},{default:Me(()=>[pe(S($d))]),_:1},8,["class","onClick"])):($(),rt(S(Gt),{key:"arrow-down",class:j(S(De)),onClick:sn(be=>K(),["stop"])},{default:Me(()=>[pe(S(Vd))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),S(W)?($(),ge("div",{key:0,ref_key:"tagWrapper",ref:y,class:j([S(l).e("tags"),S(l).is("validate",!!S(de))])},[($(!0),ge(Bt,null,kn(I.value,be=>($(),rt(S(Ig),{key:be.key,type:ve.tagType,size:S(B),effect:ve.tagEffect,hit:be.hitState,closable:be.closable,"disable-transitions":"",onClose:Te=>Ne(be)},{default:Me(()=>[be.isCollapseTag===!1?($(),ge("span",{key:0},_t(be.text),1)):($(),rt(S(ds),{key:1,disabled:w.value||!ve.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:Me(()=>[_e("span",null,_t(be.text),1)]),content:Me(()=>[_e("div",{class:j(S(l).e("collapse-tags"))},[($(!0),ge(Bt,null,kn(L.value.slice(ve.maxCollapseTags),(Te,ht)=>($(),ge("div",{key:ht,class:j(S(l).e("collapse-tag"))},[($(),rt(S(Ig),{key:Te.key,class:"in-tooltip",type:ve.tagType,size:S(B),effect:ve.tagEffect,hit:Te.hitState,closable:Te.closable,"disable-transitions":"",onClose:Ie=>Ne(Te)},{default:Me(()=>[_e("span",null,_t(Te.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),ve.filterable&&!S(F)?Sn(($(),ge("input",{key:0,"onUpdate:modelValue":be=>A.value=be,type:"text",class:j(S(l).e("search-input")),placeholder:S(fe)?"":S(D),onInput:be=>G(A.value,be),onClick:sn(be=>K(!0),["stop"]),onKeydown:Rr(pt,["delete"]),onCompositionstart:S(m),onCompositionupdate:S(m),onCompositionend:S(m),onFocus:Ee,onBlur:ft},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[fh,A.value]]):Je("v-if",!0)],2)):Je("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[S(Ed),()=>K(!1),S(We)]])]),content:Me(()=>[Sn(pe(S(aj),{ref_key:"cascaderPanelRef",ref:b,modelValue:S(me),"onUpdate:modelValue":be=>Ur(me)?me.value=be:null,options:ve.options,props:r.props,border:!1,"render-label":ve.$slots.default,onExpandChange:V,onClose:be=>ve.$nextTick(()=>K(!1))},{empty:Me(()=>[Qe(ve.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[lr,!M.value]]),ve.filterable?Sn(($(),rt(S(Mu),{key:0,ref_key:"suggestionPanel",ref:_,tag:"ul",class:j(S(l).e("suggestion-panel")),"view-class":S(l).e("suggestion-list"),onKeydown:ct},{default:Me(()=>[k.value.length?($(!0),ge(Bt,{key:0},kn(k.value,be=>($(),ge("li",{key:be.uid,class:j([S(l).e("suggestion-item"),S(l).is("checked",be.checked)]),tabindex:-1,onClick:Te=>Ue(be)},[_e("span",null,_t(be.text),1),be.checked?($(),rt(S(Gt),{key:0},{default:Me(()=>[pe(S(CS))]),_:1})):Je("v-if",!0)],10,["onClick"]))),128)):Qe(ve.$slots,"empty",{key:1},()=>[_e("li",{class:j(S(l).e("empty-text"))},_t(S(u)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[lr,M.value]]):Je("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var twe=It(ewe,[["__file","cascader.vue"]]);const nwe=gn(twe),rwe=Et({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),iwe={"update:checked":n=>Vr(n),[Pr]:n=>Vr(n)},awe=Pe({name:"ElCheckTag"}),swe=Pe({...awe,props:rwe,emits:iwe,setup(n,{emit:e}){const t=n,r=yt("check-tag"),i=U(()=>t.disabled),a=U(()=>[r.b(),r.is("checked",t.checked),r.is("disabled",i.value),r.m(t.type||"primary")]),s=()=>{if(i.value)return;const o=!t.checked;e(Pr,o),e("update:checked",o)};return(o,l)=>($(),ge("span",{class:j(S(a)),onClick:s},[Qe(o.$slots,"default")],2))}});var owe=It(swe,[["__file","check-tag.vue"]]);const lwe=gn(owe),cwe=Et({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Ke([Number,Object]),default:()=>wi({})},sm:{type:Ke([Number,Object]),default:()=>wi({})},md:{type:Ke([Number,Object]),default:()=>wi({})},lg:{type:Ke([Number,Object]),default:()=>wi({})},xl:{type:Ke([Number,Object]),default:()=>wi({})}}),sj=Symbol("rowContextKey"),uwe=Pe({name:"ElCol"}),dwe=Pe({...uwe,props:cwe,setup(n){const e=n,{gutter:t}=Nt(sj,{gutter:U(()=>0)}),r=yt("col"),i=U(()=>{const s={};return t.value&&(s.paddingLeft=s.paddingRight=`${t.value/2}px`),s}),a=U(()=>{const s=[];return["span","offset","pull","push"].forEach(c=>{const u=e[c];en(u)&&(c==="span"?s.push(r.b(`${e[c]}`)):u>0&&s.push(r.b(`${c}-${e[c]}`)))}),["xs","sm","md","lg","xl"].forEach(c=>{en(e[c])?s.push(r.b(`${c}-${e[c]}`)):Pn(e[c])&&Object.entries(e[c]).forEach(([u,d])=>{s.push(u!=="span"?r.b(`${c}-${u}-${d}`):r.b(`${c}-${d}`))})}),t.value&&s.push(r.is("guttered")),[r.b(),s]});return(s,o)=>($(),rt(Rn(s.tag),{class:j(S(a)),style:Ft(S(i))},{default:Me(()=>[Qe(s.$slots,"default")]),_:3},8,["class","style"]))}});var fwe=It(dwe,[["__file","col.vue"]]);const hwe=gn(fwe),R7=n=>en(n)||qt(n)||St(n),pwe=Et({accordion:Boolean,modelValue:{type:Ke([Array,String,Number]),default:()=>wi([])}}),mwe={[Tn]:R7,[Pr]:R7},oj=Symbol("collapseContextKey"),vwe=(n,e)=>{const t=te(Is(n.modelValue)),r=a=>{t.value=a;const s=n.accordion?t.value[0]:t.value;e(Tn,s),e(Pr,s)},i=a=>{if(n.accordion)r([t.value[0]===a?"":a]);else{const s=[...t.value],o=s.indexOf(a);o>-1?s.splice(o,1):s.push(a),r(s)}};return dt(()=>n.modelValue,()=>t.value=Is(n.modelValue),{deep:!0}),Vn(oj,{activeNames:t,handleItemClick:i}),{activeNames:t,setActiveNames:r}},gwe=()=>{const n=yt("collapse");return{rootKls:U(()=>n.b())}},ywe=Pe({name:"ElCollapse"}),bwe=Pe({...ywe,props:pwe,emits:mwe,setup(n,{expose:e,emit:t}){const r=n,{activeNames:i,setActiveNames:a}=vwe(r,t),{rootKls:s}=gwe();return e({activeNames:i,setActiveNames:a}),(o,l)=>($(),ge("div",{class:j(S(s))},[Qe(o.$slots,"default")],2))}});var _we=It(bwe,[["__file","collapse.vue"]]);const Swe=Pe({name:"ElCollapseTransition"}),wwe=Pe({...Swe,setup(n){const e=yt("collapse-transition"),t=i=>{i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom},r={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.height&&(i.dataset.elExistsHeight=i.style.height),i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){requestAnimationFrame(()=>{i.dataset.oldOverflow=i.style.overflow,i.dataset.elExistsHeight?i.style.maxHeight=i.dataset.elExistsHeight:i.scrollHeight!==0?i.style.maxHeight=`${i.scrollHeight}px`:i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom,i.style.overflow="hidden"})},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},enterCancelled(i){t(i)},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight=`${i.scrollHeight}px`,i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){t(i)},leaveCancelled(i){t(i)}};return(i,a)=>($(),rt(sa,Bn({name:S(e).b()},eK(r)),{default:Me(()=>[Qe(i.$slots,"default")]),_:3},16,["name"]))}});var xwe=It(wwe,[["__file","collapse-transition.vue"]]);const tA=gn(xwe),Cwe=Et({title:{type:String,default:""},name:{type:Ke([String,Number]),default:void 0},icon:{type:Dr,default:Zs},disabled:Boolean}),Mwe=n=>{const e=Nt(oj),{namespace:t}=yt("collapse"),r=te(!1),i=te(!1),a=S6(),s=U(()=>a.current++),o=U(()=>{var f;return(f=n.name)!=null?f:`${t.value}-id-${a.prefix}-${S(s)}`}),l=U(()=>e==null?void 0:e.activeNames.value.includes(S(o)));return{focusing:r,id:s,isActive:l,handleFocus:()=>{setTimeout(()=>{i.value?i.value=!1:r.value=!0},50)},handleHeaderClick:()=>{n.disabled||(e==null||e.handleItemClick(S(o)),r.value=!1,i.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(S(o))}}},Twe=(n,{focusing:e,isActive:t,id:r})=>{const i=yt("collapse"),a=U(()=>[i.b("item"),i.is("active",S(t)),i.is("disabled",n.disabled)]),s=U(()=>[i.be("item","header"),i.is("active",S(t)),{focusing:S(e)&&!n.disabled}]),o=U(()=>[i.be("item","arrow"),i.is("active",S(t))]),l=U(()=>i.be("item","wrap")),c=U(()=>i.be("item","content")),u=U(()=>i.b(`content-${S(r)}`)),d=U(()=>i.b(`head-${S(r)}`));return{arrowKls:o,headKls:s,rootKls:a,itemWrapperKls:l,itemContentKls:c,scopedContentId:u,scopedHeadId:d}},Awe=Pe({name:"ElCollapseItem"}),Ewe=Pe({...Awe,props:Cwe,setup(n,{expose:e}){const t=n,{focusing:r,id:i,isActive:a,handleFocus:s,handleHeaderClick:o,handleEnterClick:l}=Mwe(t),{arrowKls:c,headKls:u,rootKls:d,itemWrapperKls:f,itemContentKls:h,scopedContentId:p,scopedHeadId:m}=Twe(t,{focusing:r,isActive:a,id:i});return e({isActive:a}),(g,v)=>($(),ge("div",{class:j(S(d))},[_e("button",{id:S(m),class:j(S(u)),"aria-expanded":S(a),"aria-controls":S(p),"aria-describedby":S(p),tabindex:g.disabled?-1:0,type:"button",onClick:S(o),onKeydown:Rr(sn(S(l),["stop","prevent"]),["space","enter"]),onFocus:S(s),onBlur:y=>r.value=!1},[Qe(g.$slots,"title",{},()=>[un(_t(g.title),1)]),Qe(g.$slots,"icon",{isActive:S(a)},()=>[pe(S(Gt),{class:j(S(c))},{default:Me(()=>[($(),rt(Rn(g.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),pe(S(tA),null,{default:Me(()=>[Sn(_e("div",{id:S(p),role:"region",class:j(S(f)),"aria-hidden":!S(a),"aria-labelledby":S(m)},[_e("div",{class:j(S(h))},[Qe(g.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[lr,S(a)]])]),_:3})],2))}});var lj=It(Ewe,[["__file","collapse-item.vue"]]);const Iwe=gn(_we,{CollapseItem:lj}),Rwe=Ci(lj),Pwe=Et({color:{type:Ke(Object),required:!0},vertical:{type:Boolean,default:!1}});let KE=!1;function d_(n,e){if(!tr)return;const t=function(a){var s;(s=e.drag)==null||s.call(e,a)},r=function(a){var s;document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",t),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,KE=!1,(s=e.end)==null||s.call(e,a)},i=function(a){var s;KE||(a.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",t),document.addEventListener("mouseup",r),document.addEventListener("touchmove",t),document.addEventListener("touchend",r),KE=!0,(s=e.start)==null||s.call(e,a))};n.addEventListener("mousedown",i),n.addEventListener("touchstart",i,{passive:!1})}const Lwe=(n,e)=>{if(!tr||!n||!e)return!1;const t=n.getBoundingClientRect();let r;return e instanceof Element?r=e.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},t.top<r.bottom&&t.bottom>r.top&&t.right>r.left&&t.left<r.right},P7=n=>{let e=0,t=n;for(;t;)e+=t.offsetTop,t=t.offsetParent;return e},qR=(n,e)=>Math.abs(P7(n)-P7(e)),F6=n=>{let e,t;return n.type==="touchend"?(t=n.changedTouches[0].clientY,e=n.changedTouches[0].clientX):n.type.startsWith("touch")?(t=n.touches[0].clientY,e=n.touches[0].clientX):(t=n.clientY,e=n.clientX),{clientX:e,clientY:t}},Dwe=n=>{const e=wn(),{t}=nr(),r=Cr(),i=Cr(),a=U(()=>n.color.get("alpha")),s=U(()=>t("el.colorpicker.alphaLabel"));function o(d){var f;d.target!==r.value&&l(d),(f=r.value)==null||f.focus()}function l(d){if(!i.value||!r.value)return;const h=e.vnode.el.getBoundingClientRect(),{clientX:p,clientY:m}=F6(d);if(n.vertical){let g=m-h.top;g=Math.max(r.value.offsetHeight/2,g),g=Math.min(g,h.height-r.value.offsetHeight/2),n.color.set("alpha",Math.round((g-r.value.offsetHeight/2)/(h.height-r.value.offsetHeight)*100))}else{let g=p-h.left;g=Math.max(r.value.offsetWidth/2,g),g=Math.min(g,h.width-r.value.offsetWidth/2),n.color.set("alpha",Math.round((g-r.value.offsetWidth/2)/(h.width-r.value.offsetWidth)*100))}}function c(d){const{code:f,shiftKey:h}=d,p=h?10:1;switch(f){case Ot.left:case Ot.down:d.preventDefault(),d.stopPropagation(),u(-p);break;case Ot.right:case Ot.up:d.preventDefault(),d.stopPropagation(),u(p);break}}function u(d){let f=a.value+d;f=f<0?0:f>100?100:f,n.color.set("alpha",f)}return{thumb:r,bar:i,alpha:a,alphaLabel:s,handleDrag:l,handleClick:o,handleKeydown:c}},kwe=(n,{bar:e,thumb:t,handleDrag:r})=>{const i=wn(),a=yt("color-alpha-slider"),s=te(0),o=te(0),l=te();function c(){if(!t.value||n.vertical)return 0;const y=i.vnode.el,b=n.color.get("alpha");return y?Math.round(b*(y.offsetWidth-t.value.offsetWidth/2)/100):0}function u(){if(!t.value)return 0;const y=i.vnode.el;if(!n.vertical)return 0;const b=n.color.get("alpha");return y?Math.round(b*(y.offsetHeight-t.value.offsetHeight/2)/100):0}function d(){if(n.color&&n.color.value){const{r:y,g:b,b:_}=n.color.toRgb();return`linear-gradient(to right, rgba(${y}, ${b}, ${_}, 0) 0%, rgba(${y}, ${b}, ${_}, 1) 100%)`}return""}function f(){s.value=c(),o.value=u(),l.value=d()}dn(()=>{if(!e.value||!t.value)return;const y={drag:b=>{r(b)},end:b=>{r(b)}};d_(e.value,y),d_(t.value,y),f()}),dt(()=>n.color.get("alpha"),()=>f()),dt(()=>n.color.value,()=>f());const h=U(()=>[a.b(),a.is("vertical",n.vertical)]),p=U(()=>a.e("bar")),m=U(()=>a.e("thumb")),g=U(()=>({background:l.value})),v=U(()=>({left:Pi(s.value),top:Pi(o.value)}));return{rootKls:h,barKls:p,barStyle:g,thumbKls:m,thumbStyle:v,update:f}},Owe="ElColorAlphaSlider",Nwe=Pe({name:Owe}),Bwe=Pe({...Nwe,props:Pwe,setup(n,{expose:e}){const t=n,{alpha:r,alphaLabel:i,bar:a,thumb:s,handleDrag:o,handleClick:l,handleKeydown:c}=Dwe(t),{rootKls:u,barKls:d,barStyle:f,thumbKls:h,thumbStyle:p,update:m}=kwe(t,{bar:a,thumb:s,handleDrag:o});return e({update:m,bar:a,thumb:s}),(g,v)=>($(),ge("div",{class:j(S(u))},[_e("div",{ref_key:"bar",ref:a,class:j(S(d)),style:Ft(S(f)),onClick:S(l)},null,14,["onClick"]),_e("div",{ref_key:"thumb",ref:s,class:j(S(h)),style:Ft(S(p)),"aria-label":S(i),"aria-valuenow":S(r),"aria-orientation":g.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:S(c)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var Fwe=It(Bwe,[["__file","alpha-slider.vue"]]);const zwe=Pe({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(n){const e=yt("color-hue-slider"),t=wn(),r=te(),i=te(),a=te(0),s=te(0),o=U(()=>n.color.get("hue"));dt(()=>o.value,()=>{f()});function l(h){h.target!==r.value&&c(h)}function c(h){if(!i.value||!r.value)return;const m=t.vnode.el.getBoundingClientRect(),{clientX:g,clientY:v}=F6(h);let y;if(n.vertical){let b=v-m.top;b=Math.min(b,m.height-r.value.offsetHeight/2),b=Math.max(r.value.offsetHeight/2,b),y=Math.round((b-r.value.offsetHeight/2)/(m.height-r.value.offsetHeight)*360)}else{let b=g-m.left;b=Math.min(b,m.width-r.value.offsetWidth/2),b=Math.max(r.value.offsetWidth/2,b),y=Math.round((b-r.value.offsetWidth/2)/(m.width-r.value.offsetWidth)*360)}n.color.set("hue",y)}function u(){if(!r.value)return 0;const h=t.vnode.el;if(n.vertical)return 0;const p=n.color.get("hue");return h?Math.round(p*(h.offsetWidth-r.value.offsetWidth/2)/360):0}function d(){if(!r.value)return 0;const h=t.vnode.el;if(!n.vertical)return 0;const p=n.color.get("hue");return h?Math.round(p*(h.offsetHeight-r.value.offsetHeight/2)/360):0}function f(){a.value=u(),s.value=d()}return dn(()=>{if(!i.value||!r.value)return;const h={drag:p=>{c(p)},end:p=>{c(p)}};d_(i.value,h),d_(r.value,h),f()}),{bar:i,thumb:r,thumbLeft:a,thumbTop:s,hueValue:o,handleClick:l,update:f,ns:e}}});function Uwe(n,e,t,r,i,a){return $(),ge("div",{class:j([n.ns.b(),n.ns.is("vertical",n.vertical)])},[_e("div",{ref:"bar",class:j(n.ns.e("bar")),onClick:n.handleClick},null,10,["onClick"]),_e("div",{ref:"thumb",class:j(n.ns.e("thumb")),style:Ft({left:n.thumbLeft+"px",top:n.thumbTop+"px"})},null,6)],2)}var Hwe=It(zwe,[["render",Uwe],["__file","hue-slider.vue"]]);const Vwe=Et({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:oa,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:Ea.teleported,predefine:{type:Ke(Array)},validateEvent:{type:Boolean,default:!0},...Xa(["ariaLabel"])}),$we={[Tn]:n=>qt(n)||Ca(n),[Pr]:n=>qt(n)||Ca(n),activeChange:n=>qt(n)||Ca(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent},cj=Symbol("colorPickerContextKey"),L7=function(n,e,t){return[n,e*t/((n=(2-e)*t)<1?n:2-n)||0,n/2]},Gwe=function(n){return qt(n)&&n.includes(".")&&Number.parseFloat(n)===1},Wwe=function(n){return qt(n)&&n.includes("%")},eg=function(n,e){Gwe(n)&&(n="100%");const t=Wwe(n);return n=Math.min(e,Math.max(0,Number.parseFloat(`${n}`))),t&&(n=Number.parseInt(`${n*e}`,10)/100),Math.abs(n-e)<1e-6?1:n%e/Number.parseFloat(e)},D7={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},$2=n=>{n=Math.min(Math.round(n),255);const e=Math.floor(n/16),t=n%16;return`${D7[e]||e}${D7[t]||t}`},k7=function({r:n,g:e,b:t}){return Number.isNaN(+n)||Number.isNaN(+e)||Number.isNaN(+t)?"":`#${$2(n)}${$2(e)}${$2(t)}`},YE={A:10,B:11,C:12,D:13,E:14,F:15},qh=function(n){return n.length===2?(YE[n[0].toUpperCase()]||+n[0])*16+(YE[n[1].toUpperCase()]||+n[1]):YE[n[1].toUpperCase()]||+n[1]},qwe=function(n,e,t){e=e/100,t=t/100;let r=e;const i=Math.max(t,.01);t*=2,e*=t<=1?t:2-t,r*=i<=1?i:2-i;const a=(t+e)/2,s=t===0?2*r/(i+r):2*e/(t+e);return{h:n,s:s*100,v:a*100}},O7=(n,e,t)=>{n=eg(n,255),e=eg(e,255),t=eg(t,255);const r=Math.max(n,e,t),i=Math.min(n,e,t);let a;const s=r,o=r-i,l=r===0?0:o/r;if(r===i)a=0;else{switch(r){case n:{a=(e-t)/o+(e<t?6:0);break}case e:{a=(t-n)/o+2;break}case t:{a=(n-e)/o+4;break}}a/=6}return{h:a*360,s:l*100,v:s*100}},n1=function(n,e,t){n=eg(n,360)*6,e=eg(e,100),t=eg(t,100);const r=Math.floor(n),i=n-r,a=t*(1-e),s=t*(1-i*e),o=t*(1-(1-i)*e),l=r%6,c=[t,s,a,a,o,t][l],u=[o,t,t,s,a,a][l],d=[a,a,o,t,t,s][l];return{r:Math.round(c*255),g:Math.round(u*255),b:Math.round(d*255)}};let hb=class{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const t in e)ar(e,t)&&(this[t]=e[t]);e.value?this.fromString(e.value):this.doOnChange()}set(e,t){if(arguments.length===1&&typeof e=="object"){for(const r in e)ar(e,r)&&this.set(r,e[r]);return}this[`_${e}`]=t,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return n1(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const t=(r,i,a)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,i)),this._value=Math.max(0,Math.min(100,a)),this.doOnChange()};if(e.includes("hsl")){const r=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,a)=>a>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s:a,v:s}=qwe(r[0],r[1],r[2]);t(i,a,s)}}else if(e.includes("hsv")){const r=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,a)=>a>2?Number.parseFloat(i):Number.parseInt(i,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&t(r[0],r[1],r[2])}else if(e.includes("rgb")){const r=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,a)=>a>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s:a,v:s}=O7(r[0],r[1],r[2]);t(i,a,s)}}else if(e.includes("#")){const r=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let i,a,s;r.length===3?(i=qh(r[0]+r[0]),a=qh(r[1]+r[1]),s=qh(r[2]+r[2])):(r.length===6||r.length===8)&&(i=qh(r.slice(0,2)),a=qh(r.slice(2,4)),s=qh(r.slice(4,6))),r.length===8?this._alpha=qh(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:o,s:l,v:c}=O7(i,a,s);t(o,l,c)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:t,_value:r,_alpha:i,format:a}=this;if(this.enableAlpha)switch(a){case"hsl":{const s=L7(e,t/100,r/100);this.value=`hsla(${e}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(t)}%, ${Math.round(r)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${k7(n1(e,t,r))}${$2(i*255/100)}`;break}default:{const{r:s,g:o,b:l}=n1(e,t,r);this.value=`rgba(${s}, ${o}, ${l}, ${this.get("alpha")/100})`}}else switch(a){case"hsl":{const s=L7(e,t/100,r/100);this.value=`hsl(${e}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(t)}%, ${Math.round(r)}%)`;break}case"rgb":{const{r:s,g:o,b:l}=n1(e,t,r);this.value=`rgb(${s}, ${o}, ${l})`;break}default:this.value=k7(n1(e,t,r))}}};const Kwe=Pe({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(n){const e=yt("color-predefine"),{currentColor:t}=Nt(cj),r=te(a(n.colors,n.color));dt(()=>t.value,s=>{const o=new hb;o.fromString(s),r.value.forEach(l=>{l.selected=o.compare(l)})}),wa(()=>{r.value=a(n.colors,n.color)});function i(s){n.color.fromString(n.colors[s])}function a(s,o){return s.map(l=>{const c=new hb;return c.enableAlpha=n.enableAlpha,c.format="rgba",c.fromString(l),c.selected=c.value===o.value,c})}return{rgbaColors:r,handleSelect:i,ns:e}}});function Ywe(n,e,t,r,i,a){return $(),ge("div",{class:j(n.ns.b())},[_e("div",{class:j(n.ns.e("colors"))},[($(!0),ge(Bt,null,kn(n.rgbaColors,(s,o)=>($(),ge("div",{key:n.colors[o],class:j([n.ns.e("color-selector"),n.ns.is("alpha",s._alpha<100),{selected:s.selected}]),onClick:l=>n.handleSelect(o)},[_e("div",{style:Ft({backgroundColor:s.value})},null,4)],10,["onClick"]))),128))],2)],2)}var Xwe=It(Kwe,[["render",Ywe],["__file","predefine.vue"]]);const jwe=Pe({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(n){const e=yt("color-svpanel"),t=wn(),r=te(0),i=te(0),a=te("hsl(0, 100%, 50%)"),s=U(()=>{const c=n.color.get("hue"),u=n.color.get("value");return{hue:c,value:u}});function o(){const c=n.color.get("saturation"),u=n.color.get("value"),d=t.vnode.el,{clientWidth:f,clientHeight:h}=d;i.value=c*f/100,r.value=(100-u)*h/100,a.value=`hsl(${n.color.get("hue")}, 100%, 50%)`}function l(c){const d=t.vnode.el.getBoundingClientRect(),{clientX:f,clientY:h}=F6(c);let p=f-d.left,m=h-d.top;p=Math.max(0,p),p=Math.min(p,d.width),m=Math.max(0,m),m=Math.min(m,d.height),i.value=p,r.value=m,n.color.set({saturation:p/d.width*100,value:100-m/d.height*100})}return dt(()=>s.value,()=>{o()}),dn(()=>{d_(t.vnode.el,{drag:c=>{l(c)},end:c=>{l(c)}}),o()}),{cursorTop:r,cursorLeft:i,background:a,colorValue:s,handleDrag:l,update:o,ns:e}}});function Zwe(n,e,t,r,i,a){return $(),ge("div",{class:j(n.ns.b()),style:Ft({backgroundColor:n.background})},[_e("div",{class:j(n.ns.e("white"))},null,2),_e("div",{class:j(n.ns.e("black"))},null,2),_e("div",{class:j(n.ns.e("cursor")),style:Ft({top:n.cursorTop+"px",left:n.cursorLeft+"px"})},[_e("div")],6)],6)}var Qwe=It(jwe,[["render",Zwe],["__file","sv-panel.vue"]]);const Jwe=Pe({name:"ElColorPicker"}),exe=Pe({...Jwe,props:Vwe,emits:$we,setup(n,{expose:e,emit:t}){const r=n,{t:i}=nr(),a=yt("color"),{formItem:s}=hs(),o=ji(),l=ps(),{inputId:c,isLabeledByFormItem:u}=Xl(r,{formItemContext:s}),d=te(),f=te(),h=te(),p=te(),m=te(),g=te(),{isFocused:v,handleFocus:y,handleBlur:b}=Dh(m,{beforeFocus(){return l.value},beforeBlur(De){var Ge;return(Ge=p.value)==null?void 0:Ge.isFocusInsideContent(De)},afterBlur(){F(!1),B()}});let _=!0;const w=pr(new hb({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),x=te(!1),M=te(!1),C=te(""),T=U(()=>!r.modelValue&&!M.value?"transparent":N(w,r.showAlpha)),A=U(()=>!r.modelValue&&!M.value?"":w.value),I=U(()=>u.value?void 0:r.ariaLabel||i("el.colorpicker.defaultLabel")),L=U(()=>u.value?s==null?void 0:s.labelId:void 0),k=U(()=>[a.b("picker"),a.is("disabled",l.value),a.bm("picker",o.value),a.is("focused",v.value)]);function N(De,Ge){if(!(De instanceof hb))throw new TypeError("color should be instance of _color Class");const{r:We,g:K,b:ue}=De.toRgb();return Ge?`rgba(${We}, ${K}, ${ue}, ${De.get("alpha")/100})`:`rgb(${We}, ${K}, ${ue})`}function F(De){x.value=De}const D=Mo(F,100,{leading:!0});function H(){l.value||F(!0)}function z(){D(!1),B()}function B(){Yt(()=>{r.modelValue?w.fromString(r.modelValue):(w.value="",Yt(()=>{M.value=!1}))})}function W(){l.value||D(!x.value)}function Z(){w.fromString(C.value)}function ee(){const De=w.value;t(Tn,De),t("change",De),r.validateEvent&&(s==null||s.validate("change").catch(Ge=>void 0)),D(!1),Yt(()=>{const Ge=new hb({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});w.compare(Ge)||B()})}function J(){D(!1),t(Tn,null),t("change",null),r.modelValue!==null&&r.validateEvent&&(s==null||s.validate("change").catch(De=>void 0)),B()}function re(){x.value&&(z(),v.value&&me())}function fe(De){De.preventDefault(),De.stopPropagation(),F(!1),B()}function de(De){switch(De.code){case Ot.enter:case Ot.numpadEnter:case Ot.space:De.preventDefault(),De.stopPropagation(),H(),g.value.focus();break;case Ot.esc:fe(De);break}}function me(){m.value.focus()}function Re(){m.value.blur()}return dn(()=>{r.modelValue&&(C.value=A.value)}),dt(()=>r.modelValue,De=>{De?De&&De!==w.value&&(_=!1,w.fromString(De)):M.value=!1}),dt(()=>[r.colorFormat,r.showAlpha],()=>{w.enableAlpha=r.showAlpha,w.format=r.colorFormat||w.format,w.doOnChange(),t(Tn,w.value)}),dt(()=>A.value,De=>{C.value=De,_&&t("activeChange",De),_=!0}),dt(()=>w.value,()=>{!r.modelValue&&!M.value&&(M.value=!0)}),dt(()=>x.value,()=>{Yt(()=>{var De,Ge,We;(De=d.value)==null||De.update(),(Ge=f.value)==null||Ge.update(),(We=h.value)==null||We.update()})}),Vn(cj,{currentColor:A}),e({color:w,show:H,hide:z,focus:me,blur:Re}),(De,Ge)=>($(),rt(S(ds),{ref_key:"popper",ref:p,visible:x.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[S(a).be("picker","panel"),S(a).b("dropdown"),De.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:De.teleported,transition:`${S(a).namespace.value}-zoom-in-top`,persistent:"",onHide:We=>F(!1)},{content:Me(()=>[Sn(($(),ge("div",{onKeydown:Rr(fe,["esc"])},[_e("div",{class:j(S(a).be("dropdown","main-wrapper"))},[pe(Hwe,{ref_key:"hue",ref:d,class:"hue-slider",color:S(w),vertical:""},null,8,["color"]),pe(Qwe,{ref_key:"sv",ref:f,color:S(w)},null,8,["color"])],2),De.showAlpha?($(),rt(Fwe,{key:0,ref_key:"alpha",ref:h,color:S(w)},null,8,["color"])):Je("v-if",!0),De.predefine?($(),rt(Xwe,{key:1,ref:"predefine","enable-alpha":De.showAlpha,color:S(w),colors:De.predefine},null,8,["enable-alpha","color","colors"])):Je("v-if",!0),_e("div",{class:j(S(a).be("dropdown","btns"))},[_e("span",{class:j(S(a).be("dropdown","value"))},[pe(S(Ls),{ref_key:"inputRef",ref:g,modelValue:C.value,"onUpdate:modelValue":We=>C.value=We,"validate-event":!1,size:"small",onKeyup:Rr(Z,["enter"]),onBlur:Z},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),pe(S(Ba),{class:j(S(a).be("dropdown","link-btn")),text:"",size:"small",onClick:J},{default:Me(()=>[un(_t(S(i)("el.colorpicker.clear")),1)]),_:1},8,["class"]),pe(S(Ba),{plain:"",size:"small",class:j(S(a).be("dropdown","btn")),onClick:ee},{default:Me(()=>[un(_t(S(i)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[S(Ed),re]])]),default:Me(()=>[_e("div",Bn({id:S(c),ref_key:"triggerRef",ref:m},De.$attrs,{class:S(k),role:"button","aria-label":S(I),"aria-labelledby":S(L),"aria-description":S(i)("el.colorpicker.description",{color:De.modelValue||""}),"aria-disabled":S(l),tabindex:S(l)?-1:De.tabindex,onKeydown:de,onFocus:S(y),onBlur:S(b)}),[S(l)?($(),ge("div",{key:0,class:j(S(a).be("picker","mask"))},null,2)):Je("v-if",!0),_e("div",{class:j(S(a).be("picker","trigger")),onClick:W},[_e("span",{class:j([S(a).be("picker","color"),S(a).is("alpha",De.showAlpha)])},[_e("span",{class:j(S(a).be("picker","color-inner")),style:Ft({backgroundColor:S(T)})},[Sn(pe(S(Gt),{class:j([S(a).be("picker","icon"),S(a).is("icon-arrow-down")])},{default:Me(()=>[pe(S(Vd))]),_:1},8,["class"]),[[lr,De.modelValue||M.value]]),Sn(pe(S(Gt),{class:j([S(a).be("picker","empty"),S(a).is("icon-close")])},{default:Me(()=>[pe(S(Ac))]),_:1},8,["class"]),[[lr,!De.modelValue&&!M.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var txe=It(exe,[["__file","color-picker.vue"]]);const nxe=gn(txe),rxe=Et({a11y:{type:Boolean,default:!0},locale:{type:Ke(Object)},size:oa,button:{type:Ke(Object)},experimentalFeatures:{type:Ke(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:Ke(Object)},zIndex:Number,namespace:{type:String,default:"el"},...vy}),fc={},ixe=Pe({name:"ElConfigProvider",props:rxe,setup(n,{slots:e}){dt(()=>n.message,r=>{Object.assign(fc,r??{})},{immediate:!0,deep:!0});const t=d6(n);return()=>Qe(e,"default",{config:t==null?void 0:t.value})}}),axe=gn(ixe),sxe=Pe({name:"ElContainer"}),oxe=Pe({...sxe,props:{direction:{type:String}},setup(n){const e=n,t=Qi(),r=yt("container"),i=U(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:t&&t.default?t.default().some(s=>{const o=s.type.name;return o==="ElHeader"||o==="ElFooter"}):!1);return(a,s)=>($(),ge("section",{class:j([S(r).b(),S(r).is("vertical",S(i))])},[Qe(a.$slots,"default")],2))}});var lxe=It(oxe,[["__file","container.vue"]]);const cxe=Pe({name:"ElAside"}),uxe=Pe({...cxe,props:{width:{type:String,default:null}},setup(n){const e=n,t=yt("aside"),r=U(()=>e.width?t.cssVarBlock({width:e.width}):{});return(i,a)=>($(),ge("aside",{class:j(S(t).b()),style:Ft(S(r))},[Qe(i.$slots,"default")],6))}});var uj=It(uxe,[["__file","aside.vue"]]);const dxe=Pe({name:"ElFooter"}),fxe=Pe({...dxe,props:{height:{type:String,default:null}},setup(n){const e=n,t=yt("footer"),r=U(()=>e.height?t.cssVarBlock({height:e.height}):{});return(i,a)=>($(),ge("footer",{class:j(S(t).b()),style:Ft(S(r))},[Qe(i.$slots,"default")],6))}});var dj=It(fxe,[["__file","footer.vue"]]);const hxe=Pe({name:"ElHeader"}),pxe=Pe({...hxe,props:{height:{type:String,default:null}},setup(n){const e=n,t=yt("header"),r=U(()=>e.height?t.cssVarBlock({height:e.height}):{});return(i,a)=>($(),ge("header",{class:j(S(t).b()),style:Ft(S(r))},[Qe(i.$slots,"default")],6))}});var fj=It(pxe,[["__file","header.vue"]]);const mxe=Pe({name:"ElMain"}),vxe=Pe({...mxe,setup(n){const e=yt("main");return(t,r)=>($(),ge("main",{class:j(S(e).b())},[Qe(t.$slots,"default")],2))}});var hj=It(vxe,[["__file","main.vue"]]);const gxe=gn(lxe,{Aside:uj,Footer:dj,Header:fj,Main:hj}),yxe=Ci(uj),bxe=Ci(dj),_xe=Ci(fj),Sxe=Ci(hj);var pj={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Tu,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,a=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,l={},c=function(g){return(g=+g)+(g>68?1900:2e3)},u=function(g){return function(v){this[g]=+v}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var y=v.match(/([+-]|\d\d)/g),b=60*y[1]+(+y[2]||0);return b===0?0:y[0]==="+"?-b:b}(g)}],f=function(g){var v=l[g];return v&&(v.indexOf?v:v.s.concat(v.f))},h=function(g,v){var y,b=l.meridiem;if(b){for(var _=1;_<=24;_+=1)if(g.indexOf(b(_,0,v))>-1){y=_>12;break}}else y=g===(v?"pm":"PM");return y},p={A:[o,function(g){this.afternoon=h(g,!1)}],a:[o,function(g){this.afternoon=h(g,!0)}],Q:[i,function(g){this.month=3*(g-1)+1}],S:[i,function(g){this.milliseconds=100*+g}],SS:[a,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[a,u("day")],Do:[o,function(g){var v=l.ordinal,y=g.match(/\d+/);if(this.day=y[0],v)for(var b=1;b<=31;b+=1)v(b).replace(/\[|\]/g,"")===g&&(this.day=b)}],w:[s,u("week")],ww:[a,u("week")],M:[s,u("month")],MM:[a,u("month")],MMM:[o,function(g){var v=f("months"),y=(f("monthsShort")||v.map(function(b){return b.slice(0,3)})).indexOf(g)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[o,function(g){var v=f("months").indexOf(g)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,u("year")],YY:[a,function(g){this.year=c(g)}],YYYY:[/\d{4}/,u("year")],Z:d,ZZ:d};function m(g){var v,y;v=g,y=l&&l.formats;for(var b=(g=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(A,I,L){var k=L&&L.toUpperCase();return I||y[L]||t[L]||y[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(N,F,D){return F||D.slice(1)})})).match(r),_=b.length,w=0;w<_;w+=1){var x=b[w],M=p[x],C=M&&M[0],T=M&&M[1];b[w]=T?{regex:C,parser:T}:x.replace(/^\[|\]$/g,"")}return function(A){for(var I={},L=0,k=0;L<_;L+=1){var N=b[L];if(typeof N=="string")k+=N.length;else{var F=N.regex,D=N.parser,H=A.slice(k),z=F.exec(H)[0];D.call(I,z),A=A.replace(z,"")}}return function(B){var W=B.afternoon;if(W!==void 0){var Z=B.hours;W?Z<12&&(B.hours+=12):Z===12&&(B.hours=0),delete B.afternoon}}(I),I}}return function(g,v,y){y.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(c=g.parseTwoDigitYear);var b=v.prototype,_=b.parse;b.parse=function(w){var x=w.date,M=w.utc,C=w.args;this.$u=M;var T=C[1];if(typeof T=="string"){var A=C[2]===!0,I=C[3]===!0,L=A||I,k=C[2];I&&(k=C[2]),l=this.$locale(),!A&&k&&(l=y.Ls[k]),this.$d=function(H,z,B,W){try{if(["x","X"].indexOf(z)>-1)return new Date((z==="X"?1e3:1)*H);var Z=m(z)(H),ee=Z.year,J=Z.month,re=Z.day,fe=Z.hours,de=Z.minutes,me=Z.seconds,Re=Z.milliseconds,De=Z.zone,Ge=Z.week,We=new Date,K=re||(ee||J?1:We.getDate()),ue=ee||We.getFullYear(),ie=0;ee&&!J||(ie=J>0?J-1:We.getMonth());var $e,Ne=fe||0,Ye=de||0,ce=me||0,he=Re||0;return De?new Date(Date.UTC(ue,ie,K,Ne,Ye,ce,he+60*De.offset*1e3)):B?new Date(Date.UTC(ue,ie,K,Ne,Ye,ce,he)):($e=new Date(ue,ie,K,Ne,Ye,ce,he),Ge&&($e=W($e).week(Ge).toDate()),$e)}catch{return new Date("")}}(x,T,M,y),this.init(),k&&k!==!0&&(this.$L=this.locale(k).$L),L&&x!=this.format(T)&&(this.$d=new Date("")),l={}}else if(T instanceof Array)for(var N=T.length,F=1;F<=N;F+=1){C[1]=T[F-1];var D=y.apply(this,C);if(D.isValid()){this.$d=D.$d,this.$L=D.$L,this.init();break}F===N&&(this.$d=new Date(""))}else _.call(this,w)}}})})(pj);var wxe=pj.exports;const z6=Au(wxe);var mj={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Tu,function(){return function(t,r){var i=r.prototype,a=i.format;i.format=function(s){var o=this,l=this.$locale();if(!this.isValid())return a.bind(this)(s);var c=this.$utils(),u=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return l.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return l.ordinal(o.week(),"W");case"w":case"ww":return c.s(o.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(o.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(o.$H===0?24:o.$H),d==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return d}});return a.bind(this)(u)}}})})(mj);var xxe=mj.exports;const Cxe=Au(xxe);var vj={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Tu,function(){var t="week",r="year";return function(i,a,s){var o=a.prototype;o.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=s(this).startOf(r).add(1,r).date(c),d=s(this).endOf(t);if(u.isBefore(d))return 1}var f=s(this).startOf(r).date(c).startOf(t).subtract(1,"millisecond"),h=this.diff(f,t,!0);return h<0?s(this).startOf("week").week():Math.ceil(h)},o.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(vj);var Mxe=vj.exports;const Txe=Au(Mxe);var gj={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Tu,function(){return function(t,r){r.prototype.weekYear=function(){var i=this.month(),a=this.week(),s=this.year();return a===1&&i===11?s+1:i===0&&a>=52?s-1:s}}})})(gj);var Axe=gj.exports;const Exe=Au(Axe);var yj={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Tu,function(){return function(t,r,i){r.prototype.dayOfYear=function(a){var s=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return a==null?s:this.add(a-s,"day")}}})})(yj);var Ixe=yj.exports;const Rxe=Au(Ixe);var bj={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Tu,function(){return function(t,r){r.prototype.isSameOrAfter=function(i,a){return this.isSame(i,a)||this.isAfter(i,a)}}})})(bj);var Pxe=bj.exports;const Lxe=Au(Pxe);var _j={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Tu,function(){return function(t,r){r.prototype.isSameOrBefore=function(i,a){return this.isSame(i,a)||this.isBefore(i,a)}}})})(_j);var Dxe=_j.exports;const kxe=Au(Dxe),N7=["hours","minutes","seconds"],KR="HH:mm:ss",yv="YYYY-MM-DD",Oxe={date:yv,dates:yv,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${yv} ${KR}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:yv,datetimerange:`${yv} ${KR}`},Sj=Et({disabledHours:{type:Ke(Function)},disabledMinutes:{type:Ke(Function)},disabledSeconds:{type:Ke(Function)}}),wj=Et({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),U6=Et({id:{type:Ke([Array,String])},name:{type:Ke([Array,String])},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Ke([String,Object]),default:$d},editable:{type:Boolean,default:!0},prefixIcon:{type:Ke([String,Object]),default:""},size:oa,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:Ke(Object),default:()=>({})},modelValue:{type:Ke([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Ke([Date,Array])},defaultTime:{type:Ke([Date,Array])},isRange:Boolean,...Sj,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:Ke([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:Ke(String),values:Gd,default:"bottom"},fallbackPlacements:{type:Ke(Array),default:["bottom","top","right","left"]},...vy,...Xa(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),Nxe=Et({id:{type:Ke(Array)},name:{type:Ke(Array)},modelValue:{type:Ke([Array,String])},startPlaceholder:String,endPlaceholder:String}),Bxe=Pe({name:"PickerRangeTrigger",inheritAttrs:!1}),Fxe=Pe({...Bxe,props:Nxe,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(n,{expose:e,emit:t}){const r=MS(),i=yt("date"),a=yt("range"),s=te(),o=te(),{wrapperRef:l,isFocused:c}=Dh(s),u=_=>{t("click",_)},d=_=>{t("mouseenter",_)},f=_=>{t("mouseleave",_)},h=_=>{t("mouseenter",_)},p=_=>{t("startInput",_)},m=_=>{t("endInput",_)},g=_=>{t("startChange",_)},v=_=>{t("endChange",_)};return e({focus:()=>{var _;(_=s.value)==null||_.focus()},blur:()=>{var _,w;(_=s.value)==null||_.blur(),(w=o.value)==null||w.blur()}}),(_,w)=>($(),ge("div",{ref_key:"wrapperRef",ref:l,class:j([S(i).is("active",S(c)),_.$attrs.class]),style:Ft(_.$attrs.style),onClick:u,onMouseenter:d,onMouseleave:f,onTouchstartPassive:h},[Qe(_.$slots,"prefix"),_e("input",Bn(S(r),{id:_.id&&_.id[0],ref_key:"inputRef",ref:s,name:_.name&&_.name[0],placeholder:_.startPlaceholder,value:_.modelValue&&_.modelValue[0],class:S(a).b("input"),onInput:p,onChange:g}),null,16,["id","name","placeholder","value"]),Qe(_.$slots,"range-separator"),_e("input",Bn(S(r),{id:_.id&&_.id[1],ref_key:"endInputRef",ref:o,name:_.name&&_.name[1],placeholder:_.endPlaceholder,value:_.modelValue&&_.modelValue[1],class:S(a).b("input"),onInput:m,onChange:v}),null,16,["id","name","placeholder","value"]),Qe(_.$slots,"suffix")],38))}});var zxe=It(Fxe,[["__file","picker-range-trigger.vue"]]);const Uxe=Pe({name:"Picker"}),Hxe=Pe({...Uxe,props:U6,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(n,{expose:e,emit:t}){const r=n,i=zd(),{lang:a}=nr(),s=yt("date"),o=yt("input"),l=yt("range"),{form:c,formItem:u}=hs(),d=Nt("ElPopperOptions",{}),{valueOnClear:f}=qT(r,null),h=te(),p=te(),m=te(!1),g=te(!1),v=te(null);let y=!1;const{isFocused:b,handleFocus:_,handleBlur:w}=Dh(p,{beforeFocus(){return r.readonly||B.value},afterFocus(){m.value=!0},beforeBlur(be){var Te;return!y&&((Te=h.value)==null?void 0:Te.isFocusInsideContent(be))},afterBlur(){ke(),m.value=!1,y=!1,r.validateEvent&&(u==null||u.validate("blur").catch(be=>void 0))}}),x=U(()=>[s.b("editor"),s.bm("editor",r.type),o.e("wrapper"),s.is("disabled",B.value),s.is("active",m.value),l.b("editor"),Ne?l.bm("editor",Ne.value):"",i.class]),M=U(()=>[o.e("icon"),l.e("close-icon"),Re.value?"":l.e("close-icon--hidden")]);dt(m,be=>{be?Yt(()=>{be&&(v.value=r.modelValue)}):(he.value=null,Yt(()=>{C(r.modelValue)}))});const C=(be,Te)=>{(Te||!S7(be,v.value))&&(t("change",be),r.validateEvent&&(u==null||u.validate("change").catch(ht=>void 0)))},T=be=>{if(!S7(r.modelValue,be)){let Te;St(be)?Te=be.map(ht=>x7(ht,r.valueFormat,a.value)):be&&(Te=x7(be,r.valueFormat,a.value)),t("update:modelValue",be&&Te,a.value)}},A=be=>{t("keydown",be)},I=U(()=>p.value?Array.from(p.value.$el.querySelectorAll("input")):[]),L=(be,Te,ht)=>{const Ie=I.value;Ie.length&&(!ht||ht==="min"?(Ie[0].setSelectionRange(be,Te),Ie[0].focus()):ht==="max"&&(Ie[1].setSelectionRange(be,Te),Ie[1].focus()))},k=(be="",Te=!1)=>{m.value=Te;let ht;St(be)?ht=be.map(Ie=>Ie.toDate()):ht=be&&be.toDate(),he.value=null,T(ht)},N=()=>{g.value=!0},F=()=>{t("visible-change",!0)},D=()=>{g.value=!1,m.value=!1,t("visible-change",!1)},H=()=>{m.value=!0},z=()=>{m.value=!1},B=U(()=>r.disabled||(c==null?void 0:c.disabled)),W=U(()=>{let be;if(Ge.value?ft.value.getDefaultValue&&(be=ft.value.getDefaultValue()):St(r.modelValue)?be=r.modelValue.map(Te=>w7(Te,r.valueFormat,a.value)):be=w7(r.modelValue,r.valueFormat,a.value),ft.value.getRangeAvailableTime){const Te=ft.value.getRangeAvailableTime(be);Ka(Te,be)||(be=Te,Ge.value||T(Mw(be)))}return St(be)&&be.some(Te=>!Te)&&(be=[]),be}),Z=U(()=>{if(!ft.value.panelReady)return"";const be=V(W.value);return St(he.value)?[he.value[0]||be&&be[0]||"",he.value[1]||be&&be[1]||""]:he.value!==null?he.value:!J.value&&Ge.value||!m.value&&Ge.value?"":be?re.value||fe.value||de.value?be.join(", "):be:""}),ee=U(()=>r.type.includes("time")),J=U(()=>r.type.startsWith("time")),re=U(()=>r.type==="dates"),fe=U(()=>r.type==="months"),de=U(()=>r.type==="years"),me=U(()=>r.prefixIcon||(ee.value?ZY:ove)),Re=te(!1),De=be=>{r.readonly||B.value||(Re.value&&(be.stopPropagation(),ft.value.handleClear?ft.value.handleClear():T(f.value),C(f.value,!0),Re.value=!1,D()),t("clear"))},Ge=U(()=>{const{modelValue:be}=r;return!be||St(be)&&!be.filter(Boolean).length}),We=async be=>{var Te;r.readonly||B.value||(((Te=be.target)==null?void 0:Te.tagName)!=="INPUT"||b.value)&&(m.value=!0)},K=()=>{r.readonly||B.value||!Ge.value&&r.clearable&&(Re.value=!0)},ue=()=>{Re.value=!1},ie=be=>{var Te;r.readonly||B.value||(((Te=be.touches[0].target)==null?void 0:Te.tagName)!=="INPUT"||b.value)&&(m.value=!0)},$e=U(()=>r.type.includes("range")),Ne=ji(),Ye=U(()=>{var be,Te;return(Te=(be=S(h))==null?void 0:be.popperRef)==null?void 0:Te.contentRef}),ce=u6(p,be=>{const Te=S(Ye),ht=Xs(p);Te&&(be.target===Te||be.composedPath().includes(Te))||be.target===ht||ht&&be.composedPath().includes(ht)||(m.value=!1)});vr(()=>{ce==null||ce()});const he=te(null),ke=()=>{if(he.value){const be=oe(Z.value);be&&Y(be)&&(T(Mw(be)),he.value=null)}he.value===""&&(T(f.value),C(f.value),he.value=null)},oe=be=>be?ft.value.parseUserInput(be):null,V=be=>be?ft.value.formatToString(be):null,Y=be=>ft.value.isValidValue(be),Q=async be=>{if(r.readonly||B.value)return;const{code:Te}=be;if(A(be),Te===Ot.esc){m.value===!0&&(m.value=!1,be.preventDefault(),be.stopPropagation());return}if(Te===Ot.down&&(ft.value.handleFocusPicker&&(be.preventDefault(),be.stopPropagation()),m.value===!1&&(m.value=!0,await Yt()),ft.value.handleFocusPicker)){ft.value.handleFocusPicker();return}if(Te===Ot.tab){y=!0;return}if(Te===Ot.enter||Te===Ot.numpadEnter){(he.value===null||he.value===""||Y(oe(Z.value)))&&(ke(),m.value=!1),be.stopPropagation();return}if(he.value){be.stopPropagation();return}ft.value.handleKeydownInput&&ft.value.handleKeydownInput(be)},we=be=>{he.value=be,m.value||(m.value=!0)},Ue=be=>{const Te=be.target;he.value?he.value=[Te.value,he.value[1]]:he.value=[Te.value,null]},ct=be=>{const Te=be.target;he.value?he.value=[he.value[0],Te.value]:he.value=[null,Te.value]},pt=()=>{var be;const Te=he.value,ht=oe(Te&&Te[0]),Ie=S(W);if(ht&&ht.isValid()){he.value=[V(ht),((be=Z.value)==null?void 0:be[1])||null];const bt=[ht,Ie&&(Ie[1]||null)];Y(bt)&&(T(Mw(bt)),he.value=null)}},Ee=()=>{var be;const Te=S(he),ht=oe(Te&&Te[1]),Ie=S(W);if(ht&&ht.isValid()){he.value=[((be=S(Z))==null?void 0:be[0])||null,V(ht)];const bt=[Ie&&Ie[0],ht];Y(bt)&&(T(Mw(bt)),he.value=null)}},ft=te({}),st=be=>{ft.value[be[0]]=be[1],ft.value.panelReady=!0},G=be=>{t("calendar-change",be)},ye=(be,Te,ht)=>{t("panel-change",be,Te,ht)},ve=()=>{var be;(be=p.value)==null||be.focus()},Le=()=>{var be;(be=p.value)==null||be.blur()};return Vn("EP_PICKER_BASE",{props:r}),e({focus:ve,blur:Le,handleOpen:H,handleClose:z,onPick:k}),(be,Te)=>($(),rt(S(ds),Bn({ref_key:"refPopper",ref:h,visible:m.value,effect:"light",pure:"",trigger:"click"},be.$attrs,{role:"dialog",teleported:"",transition:`${S(s).namespace.value}-zoom-in-top`,"popper-class":[`${S(s).namespace.value}-picker__popper`,be.popperClass],"popper-options":S(d),"fallback-placements":be.fallbackPlacements,"gpu-acceleration":!1,placement:be.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:N,onShow:F,onHide:D}),{default:Me(()=>[S($e)?($(),rt(zxe,{key:1,id:be.id,ref_key:"inputRef",ref:p,"model-value":S(Z),name:be.name,disabled:S(B),readonly:!be.editable||be.readonly,"start-placeholder":be.startPlaceholder,"end-placeholder":be.endPlaceholder,class:j(S(x)),style:Ft(be.$attrs.style),"aria-label":be.ariaLabel,tabindex:be.tabindex,autocomplete:"off",role:"combobox",onClick:We,onFocus:S(_),onBlur:S(w),onStartInput:Ue,onStartChange:pt,onEndInput:ct,onEndChange:Ee,onMousedown:We,onMouseenter:K,onMouseleave:ue,onTouchstartPassive:ie,onKeydown:Q},{prefix:Me(()=>[S(me)?($(),rt(S(Gt),{key:0,class:j([S(o).e("icon"),S(l).e("icon")])},{default:Me(()=>[($(),rt(Rn(S(me))))]),_:1},8,["class"])):Je("v-if",!0)]),"range-separator":Me(()=>[Qe(be.$slots,"range-separator",{},()=>[_e("span",{class:j(S(l).b("separator"))},_t(be.rangeSeparator),3)])]),suffix:Me(()=>[be.clearIcon?($(),rt(S(Gt),{key:0,class:j(S(M)),onMousedown:sn(S(xr),["prevent"]),onClick:De},{default:Me(()=>[($(),rt(Rn(be.clearIcon)))]),_:1},8,["class","onMousedown"])):Je("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):($(),rt(S(Ls),{key:0,id:be.id,ref_key:"inputRef",ref:p,"container-role":"combobox","model-value":S(Z),name:be.name,size:S(Ne),disabled:S(B),placeholder:be.placeholder,class:j([S(s).b("editor"),S(s).bm("editor",be.type),be.$attrs.class]),style:Ft(be.$attrs.style),readonly:!be.editable||be.readonly||S(re)||S(fe)||S(de)||be.type==="week","aria-label":be.ariaLabel,tabindex:be.tabindex,"validate-event":!1,onInput:we,onFocus:S(_),onBlur:S(w),onKeydown:Q,onChange:ke,onMousedown:We,onMouseenter:K,onMouseleave:ue,onTouchstartPassive:ie,onClick:sn(()=>{},["stop"])},{prefix:Me(()=>[S(me)?($(),rt(S(Gt),{key:0,class:j(S(o).e("icon")),onMousedown:sn(We,["prevent"]),onTouchstartPassive:ie},{default:Me(()=>[($(),rt(Rn(S(me))))]),_:1},8,["class","onMousedown"])):Je("v-if",!0)]),suffix:Me(()=>[Re.value&&be.clearIcon?($(),rt(S(Gt),{key:0,class:j(`${S(o).e("icon")} clear-icon`),onMousedown:sn(S(xr),["prevent"]),onClick:De},{default:Me(()=>[($(),rt(Rn(be.clearIcon)))]),_:1},8,["class","onMousedown"])):Je("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:Me(()=>[Qe(be.$slots,"default",{visible:m.value,actualVisible:g.value,parsedValue:S(W),format:be.format,dateFormat:be.dateFormat,timeFormat:be.timeFormat,unlinkPanels:be.unlinkPanels,type:be.type,defaultValue:be.defaultValue,showNow:be.showNow,onPick:k,onSelectRange:L,onSetPickerOption:st,onCalendarChange:G,onPanelChange:ye,onMousedown:sn(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var xj=It(Hxe,[["__file","picker.vue"]]);const Vxe=Et({...wj,datetimeRole:String,parsedValue:{type:Ke(Object)}}),Cj=({getAvailableHours:n,getAvailableMinutes:e,getAvailableSeconds:t})=>{const r=(s,o,l,c)=>{const u={hour:n,minute:e,second:t};let d=s;return["hour","minute","second"].forEach(f=>{if(u[f]){let h;const p=u[f];switch(f){case"minute":{h=p(d.hour(),o,c);break}case"second":{h=p(d.hour(),d.minute(),o,c);break}default:{h=p(o,c);break}}if(h!=null&&h.length&&!h.includes(d[f]())){const m=l?0:h.length-1;d=d[f](h[m])}}}),d},i={};return{timePickerOptions:i,getAvailableTime:r,onSetOption:([s,o])=>{i[s]=o}}},XE=n=>{const e=(r,i)=>r||i,t=r=>r!==!0;return n.map(e).filter(t)},Mj=(n,e,t)=>({getHoursList:(s,o)=>WE(24,n&&(()=>n==null?void 0:n(s,o))),getMinutesList:(s,o,l)=>WE(60,e&&(()=>e==null?void 0:e(s,o,l))),getSecondsList:(s,o,l,c)=>WE(60,t&&(()=>t==null?void 0:t(s,o,l,c)))}),Tj=(n,e,t)=>{const{getHoursList:r,getMinutesList:i,getSecondsList:a}=Mj(n,e,t);return{getAvailableHours:(c,u)=>XE(r(c,u)),getAvailableMinutes:(c,u,d)=>XE(i(c,u,d)),getAvailableSeconds:(c,u,d,f)=>XE(a(c,u,d,f))}},Aj=n=>{const e=te(n.parsedValue);return dt(()=>n.visible,t=>{t||(e.value=n.parsedValue)}),e},$xe=Et({role:{type:String,required:!0},spinnerDate:{type:Ke(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Ke(String),default:""},...Sj}),Gxe=100,Wxe=600,jC={beforeMount(n,e){const t=e.value,{interval:r=Gxe,delay:i=Wxe}=Kt(t)?{}:t;let a,s;const o=()=>Kt(t)?t():t.handler(),l=()=>{s&&(clearTimeout(s),s=void 0),a&&(clearInterval(a),a=void 0)};n.addEventListener("mousedown",c=>{c.button===0&&(l(),o(),document.addEventListener("mouseup",()=>l(),{once:!0}),s=setTimeout(()=>{a=setInterval(()=>{o()},r)},i))})}},qxe=Pe({__name:"basic-time-spinner",props:$xe,emits:["change","select-range","set-option"],setup(n,{emit:e}){const t=n,r=Nt("EP_PICKER_BASE"),{isRange:i}=r.props,a=yt("time"),{getHoursList:s,getMinutesList:o,getSecondsList:l}=Mj(t.disabledHours,t.disabledMinutes,t.disabledSeconds);let c=!1;const u=te(),d=te(),f=te(),h=te(),p={hours:d,minutes:f,seconds:h},m=U(()=>t.showSeconds?N7:N7.slice(0,2)),g=U(()=>{const{spinnerDate:Z}=t,ee=Z.hour(),J=Z.minute(),re=Z.second();return{hours:ee,minutes:J,seconds:re}}),v=U(()=>{const{hours:Z,minutes:ee}=S(g),{role:J,spinnerDate:re}=t,fe=i?void 0:re;return{hours:s(J,fe),minutes:o(Z,J,fe),seconds:l(Z,ee,J,fe)}}),y=U(()=>{const{hours:Z,minutes:ee,seconds:J}=S(g);return{hours:GE(Z,23),minutes:GE(ee,59),seconds:GE(J,59)}}),b=Mo(Z=>{c=!1,x(Z)},200),_=Z=>{if(!!!t.amPmMode)return"";const J=t.amPmMode==="A";let re=Z<12?" am":" pm";return J&&(re=re.toUpperCase()),re},w=Z=>{let ee;switch(Z){case"hours":ee=[0,2];break;case"minutes":ee=[3,5];break;case"seconds":ee=[6,8];break}const[J,re]=ee;e("select-range",J,re),u.value=Z},x=Z=>{T(Z,S(g)[Z])},M=()=>{x("hours"),x("minutes"),x("seconds")},C=Z=>Z.querySelector(`.${a.namespace.value}-scrollbar__wrap`),T=(Z,ee)=>{if(t.arrowControl)return;const J=S(p[Z]);J&&J.$el&&(C(J.$el).scrollTop=Math.max(0,ee*A(Z)))},A=Z=>{const ee=S(p[Z]),J=ee==null?void 0:ee.$el.querySelector("li");return J&&Number.parseFloat(ud(J,"height"))||0},I=()=>{k(1)},L=()=>{k(-1)},k=Z=>{u.value||w("hours");const ee=u.value,J=S(g)[ee],re=u.value==="hours"?24:60,fe=N(ee,J,Z,re);F(ee,fe),T(ee,fe),Yt(()=>w(ee))},N=(Z,ee,J,re)=>{let fe=(ee+J+re)%re;const de=S(v)[Z];for(;de[fe]&&fe!==ee;)fe=(fe+J+re)%re;return fe},F=(Z,ee)=>{if(S(v)[Z][ee])return;const{hours:fe,minutes:de,seconds:me}=S(g);let Re;switch(Z){case"hours":Re=t.spinnerDate.hour(ee).minute(de).second(me);break;case"minutes":Re=t.spinnerDate.hour(fe).minute(ee).second(me);break;case"seconds":Re=t.spinnerDate.hour(fe).minute(de).second(ee);break}e("change",Re)},D=(Z,{value:ee,disabled:J})=>{J||(F(Z,ee),w(Z),T(Z,ee))},H=Z=>{const ee=S(p[Z]);if(!ee)return;c=!0,b(Z);const J=Math.min(Math.round((C(ee.$el).scrollTop-(z(Z)*.5-10)/A(Z)+3)/A(Z)),Z==="hours"?23:59);F(Z,J)},z=Z=>S(p[Z]).$el.offsetHeight,B=()=>{const Z=ee=>{const J=S(p[ee]);J&&J.$el&&(C(J.$el).onscroll=()=>{H(ee)})};Z("hours"),Z("minutes"),Z("seconds")};dn(()=>{Yt(()=>{!t.arrowControl&&B(),M(),t.role==="start"&&w("hours")})});const W=(Z,ee)=>{p[ee].value=Z??void 0};return e("set-option",[`${t.role}_scrollDown`,k]),e("set-option",[`${t.role}_emitSelectRange`,w]),dt(()=>t.spinnerDate,()=>{c||M()}),(Z,ee)=>($(),ge("div",{class:j([S(a).b("spinner"),{"has-seconds":Z.showSeconds}])},[Z.arrowControl?Je("v-if",!0):($(!0),ge(Bt,{key:0},kn(S(m),J=>($(),rt(S(Mu),{key:J,ref_for:!0,ref:re=>W(re,J),class:j(S(a).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":S(a).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:re=>w(J),onMousemove:re=>x(J)},{default:Me(()=>[($(!0),ge(Bt,null,kn(S(v)[J],(re,fe)=>($(),ge("li",{key:fe,class:j([S(a).be("spinner","item"),S(a).is("active",fe===S(g)[J]),S(a).is("disabled",re)]),onClick:de=>D(J,{value:fe,disabled:re})},[J==="hours"?($(),ge(Bt,{key:0},[un(_t(("0"+(Z.amPmMode?fe%12||12:fe)).slice(-2))+_t(_(fe)),1)],64)):($(),ge(Bt,{key:1},[un(_t(("0"+fe).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),Z.arrowControl?($(!0),ge(Bt,{key:1},kn(S(m),J=>($(),ge("div",{key:J,class:j([S(a).be("spinner","wrapper"),S(a).is("arrow")]),onMouseenter:re=>w(J)},[Sn(($(),rt(S(Gt),{class:j(["arrow-up",S(a).be("spinner","arrow")])},{default:Me(()=>[pe(S(p6))]),_:1},8,["class"])),[[S(jC),L]]),Sn(($(),rt(S(Gt),{class:j(["arrow-down",S(a).be("spinner","arrow")])},{default:Me(()=>[pe(S(Vd))]),_:1},8,["class"])),[[S(jC),I]]),_e("ul",{class:j(S(a).be("spinner","list"))},[($(!0),ge(Bt,null,kn(S(y)[J],(re,fe)=>($(),ge("li",{key:fe,class:j([S(a).be("spinner","item"),S(a).is("active",re===S(g)[J]),S(a).is("disabled",S(v)[J][re])])},[S(en)(re)?($(),ge(Bt,{key:0},[J==="hours"?($(),ge(Bt,{key:0},[un(_t(("0"+(Z.amPmMode?re%12||12:re)).slice(-2))+_t(_(re)),1)],64)):($(),ge(Bt,{key:1},[un(_t(("0"+re).slice(-2)),1)],64))],64)):Je("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):Je("v-if",!0)],2))}});var YR=It(qxe,[["__file","basic-time-spinner.vue"]]);const Kxe=Pe({__name:"panel-time-pick",props:Vxe,emits:["pick","select-range","set-picker-option"],setup(n,{emit:e}){const t=n,r=Nt("EP_PICKER_BASE"),{arrowControl:i,disabledHours:a,disabledMinutes:s,disabledSeconds:o,defaultValue:l}=r.props,{getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}=Tj(a,s,o),f=yt("time"),{t:h,lang:p}=nr(),m=te([0,2]),g=Aj(t),v=U(()=>Tr(t.actualVisible)?`${f.namespace.value}-zoom-in-top`:""),y=U(()=>t.format.includes("ss")),b=U(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),_=z=>{const B=hn(z).locale(p.value),W=N(B);return B.isSame(W)},w=()=>{e("pick",g.value,!1)},x=(z=!1,B=!1)=>{B||e("pick",t.parsedValue,z)},M=z=>{if(!t.visible)return;const B=N(z).millisecond(0);e("pick",B,!0)},C=(z,B)=>{e("select-range",z,B),m.value=[z,B]},T=z=>{const B=[0,3].concat(y.value?[6]:[]),W=["hours","minutes"].concat(y.value?["seconds"]:[]),ee=(B.indexOf(m.value[0])+z+B.length)%B.length;I.start_emitSelectRange(W[ee])},A=z=>{const B=z.code,{left:W,right:Z,up:ee,down:J}=Ot;if([W,Z].includes(B)){T(B===W?-1:1),z.preventDefault();return}if([ee,J].includes(B)){const re=B===ee?-1:1;I.start_scrollDown(re),z.preventDefault();return}},{timePickerOptions:I,onSetOption:L,getAvailableTime:k}=Cj({getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}),N=z=>k(z,t.datetimeRole||"",!0),F=z=>z?hn(z,t.format).locale(p.value):null,D=z=>z?z.format(t.format):null,H=()=>hn(l).locale(p.value);return e("set-picker-option",["isValidValue",_]),e("set-picker-option",["formatToString",D]),e("set-picker-option",["parseUserInput",F]),e("set-picker-option",["handleKeydownInput",A]),e("set-picker-option",["getRangeAvailableTime",N]),e("set-picker-option",["getDefaultValue",H]),(z,B)=>($(),rt(sa,{name:S(v)},{default:Me(()=>[z.actualVisible||z.visible?($(),ge("div",{key:0,class:j(S(f).b("panel"))},[_e("div",{class:j([S(f).be("panel","content"),{"has-seconds":S(y)}])},[pe(YR,{ref:"spinner",role:z.datetimeRole||"start","arrow-control":S(i),"show-seconds":S(y),"am-pm-mode":S(b),"spinner-date":z.parsedValue,"disabled-hours":S(a),"disabled-minutes":S(s),"disabled-seconds":S(o),onChange:M,onSetOption:S(L),onSelectRange:C},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),_e("div",{class:j(S(f).be("panel","footer"))},[_e("button",{type:"button",class:j([S(f).be("panel","btn"),"cancel"]),onClick:w},_t(S(h)("el.datepicker.cancel")),3),_e("button",{type:"button",class:j([S(f).be("panel","btn"),"confirm"]),onClick:W=>x()},_t(S(h)("el.datepicker.confirm")),11,["onClick"])],2)],2)):Je("v-if",!0)]),_:1},8,["name"]))}});var ZC=It(Kxe,[["__file","panel-time-pick.vue"]]);const Yxe=Et({...wj,parsedValue:{type:Ke(Array)}}),Xxe=Pe({__name:"panel-time-range",props:Yxe,emits:["pick","select-range","set-picker-option"],setup(n,{emit:e}){const t=n,r=(We,K)=>{const ue=[];for(let ie=We;ie<=K;ie++)ue.push(ie);return ue},{t:i,lang:a}=nr(),s=yt("time"),o=yt("picker"),l=Nt("EP_PICKER_BASE"),{arrowControl:c,disabledHours:u,disabledMinutes:d,disabledSeconds:f,defaultValue:h}=l.props,p=U(()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",c),_.value?"has-seconds":""]),m=U(()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",c),_.value?"has-seconds":""]),g=U(()=>t.parsedValue[0]),v=U(()=>t.parsedValue[1]),y=Aj(t),b=()=>{e("pick",y.value,!1)},_=U(()=>t.format.includes("ss")),w=U(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),x=(We=!1)=>{e("pick",[g.value,v.value],We)},M=We=>{A(We.millisecond(0),v.value)},C=We=>{A(g.value,We.millisecond(0))},T=We=>{const K=We.map(ie=>hn(ie).locale(a.value)),ue=Z(K);return K[0].isSame(ue[0])&&K[1].isSame(ue[1])},A=(We,K)=>{t.visible&&e("pick",[We,K],!0)},I=U(()=>g.value>v.value),L=te([0,2]),k=(We,K)=>{e("select-range",We,K,"min"),L.value=[We,K]},N=U(()=>_.value?11:8),F=(We,K)=>{e("select-range",We,K,"max");const ue=S(N);L.value=[We+ue,K+ue]},D=We=>{const K=_.value?[0,3,6,11,14,17]:[0,3,8,11],ue=["hours","minutes"].concat(_.value?["seconds"]:[]),$e=(K.indexOf(L.value[0])+We+K.length)%K.length,Ne=K.length/2;$e<Ne?fe.start_emitSelectRange(ue[$e]):fe.end_emitSelectRange(ue[$e-Ne])},H=We=>{const K=We.code,{left:ue,right:ie,up:$e,down:Ne}=Ot;if([ue,ie].includes(K)){D(K===ue?-1:1),We.preventDefault();return}if([$e,Ne].includes(K)){const Ye=K===$e?-1:1,ce=L.value[0]<N.value?"start":"end";fe[`${ce}_scrollDown`](Ye),We.preventDefault();return}},z=(We,K)=>{const ue=u?u(We):[],ie=We==="start",Ne=(K||(ie?v.value:g.value)).hour(),Ye=ie?r(Ne+1,23):r(0,Ne-1);return FE(ue,Ye)},B=(We,K,ue)=>{const ie=d?d(We,K):[],$e=K==="start",Ne=ue||($e?v.value:g.value),Ye=Ne.hour();if(We!==Ye)return ie;const ce=Ne.minute(),he=$e?r(ce+1,59):r(0,ce-1);return FE(ie,he)},W=(We,K,ue,ie)=>{const $e=f?f(We,K,ue):[],Ne=ue==="start",Ye=ie||(Ne?v.value:g.value),ce=Ye.hour(),he=Ye.minute();if(We!==ce||K!==he)return $e;const ke=Ye.second(),oe=Ne?r(ke+1,59):r(0,ke-1);return FE($e,oe)},Z=([We,K])=>[de(We,"start",!0,K),de(K,"end",!1,We)],{getAvailableHours:ee,getAvailableMinutes:J,getAvailableSeconds:re}=Tj(z,B,W),{timePickerOptions:fe,getAvailableTime:de,onSetOption:me}=Cj({getAvailableHours:ee,getAvailableMinutes:J,getAvailableSeconds:re}),Re=We=>We?St(We)?We.map(K=>hn(K,t.format).locale(a.value)):hn(We,t.format).locale(a.value):null,De=We=>We?St(We)?We.map(K=>K.format(t.format)):We.format(t.format):null,Ge=()=>{if(St(h))return h.map(K=>hn(K).locale(a.value));const We=hn(h).locale(a.value);return[We,We.add(60,"m")]};return e("set-picker-option",["formatToString",De]),e("set-picker-option",["parseUserInput",Re]),e("set-picker-option",["isValidValue",T]),e("set-picker-option",["handleKeydownInput",H]),e("set-picker-option",["getDefaultValue",Ge]),e("set-picker-option",["getRangeAvailableTime",Z]),(We,K)=>We.actualVisible?($(),ge("div",{key:0,class:j([S(s).b("range-picker"),S(o).b("panel")])},[_e("div",{class:j(S(s).be("range-picker","content"))},[_e("div",{class:j(S(s).be("range-picker","cell"))},[_e("div",{class:j(S(s).be("range-picker","header"))},_t(S(i)("el.datepicker.startTime")),3),_e("div",{class:j(S(p))},[pe(YR,{ref:"minSpinner",role:"start","show-seconds":S(_),"am-pm-mode":S(w),"arrow-control":S(c),"spinner-date":S(g),"disabled-hours":z,"disabled-minutes":B,"disabled-seconds":W,onChange:M,onSetOption:S(me),onSelectRange:k},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),_e("div",{class:j(S(s).be("range-picker","cell"))},[_e("div",{class:j(S(s).be("range-picker","header"))},_t(S(i)("el.datepicker.endTime")),3),_e("div",{class:j(S(m))},[pe(YR,{ref:"maxSpinner",role:"end","show-seconds":S(_),"am-pm-mode":S(w),"arrow-control":S(c),"spinner-date":S(v),"disabled-hours":z,"disabled-minutes":B,"disabled-seconds":W,onChange:C,onSetOption:S(me),onSelectRange:F},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),_e("div",{class:j(S(s).be("panel","footer"))},[_e("button",{type:"button",class:j([S(s).be("panel","btn"),"cancel"]),onClick:ue=>b()},_t(S(i)("el.datepicker.cancel")),11,["onClick"]),_e("button",{type:"button",class:j([S(s).be("panel","btn"),"confirm"]),disabled:S(I),onClick:ue=>x()},_t(S(i)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):Je("v-if",!0)}});var jxe=It(Xxe,[["__file","panel-time-range.vue"]]);hn.extend(z6);var Zxe=Pe({name:"ElTimePicker",install:null,props:{...U6,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,e){const t=te(),[r,i]=n.isRange?["timerange",jxe]:["time",ZC],a=s=>e.emit("update:modelValue",s);return Vn("ElPopperOptions",n.popperOptions),e.expose({focus:()=>{var s;(s=t.value)==null||s.focus()},blur:()=>{var s;(s=t.value)==null||s.blur()},handleOpen:()=>{var s;(s=t.value)==null||s.handleOpen()},handleClose:()=>{var s;(s=t.value)==null||s.handleClose()}}),()=>{var s;const o=(s=n.format)!=null?s:KR;return pe(xj,Bn(n,{ref:t,type:r,format:o,"onUpdate:modelValue":a}),{default:l=>pe(i,l,null)})}}});const Qxe=gn(Zxe),nA=Symbol(),Jxe=Et({...U6,type:{type:Ke(String),default:"date"}}),e2e=["date","dates","year","years","month","months","week","range"],H6=Et({disabledDate:{type:Ke(Function)},date:{type:Ke(Object),required:!0},minDate:{type:Ke(Object)},maxDate:{type:Ke(Object)},parsedValue:{type:Ke([Object,Array])},rangeState:{type:Ke(Object),default:()=>({endDate:null,selecting:!1})}}),Ej=Et({type:{type:Ke(String),required:!0,values:b_e},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),V6=Et({unlinkPanels:Boolean,parsedValue:{type:Ke(Array)}}),$6=n=>({type:String,values:e2e,default:n}),t2e=Et({...Ej,parsedValue:{type:Ke([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Rg=n=>{if(!St(n))return!1;const[e,t]=n;return hn.isDayjs(e)&&hn.isDayjs(t)&&e.isSameOrBefore(t)},G6=(n,{lang:e,unit:t,unlinkPanels:r})=>{let i;if(St(n)){let[a,s]=n.map(o=>hn(o).locale(e));return r||(s=a.add(1,t)),[a,s]}else n?i=hn(n):i=hn();return i=i.locale(e),[i,i.add(1,t)]},n2e=(n,e,{columnIndexOffset:t,startDate:r,nextEndDate:i,now:a,unit:s,relativeDateGetter:o,setCellMetadata:l,setRowMetadata:c})=>{for(let u=0;u<n.row;u++){const d=e[u];for(let f=0;f<n.column;f++){let h=d[f+t];h||(h={row:u,column:f,type:"normal",inRange:!1,start:!1,end:!1});const p=u*n.column+f,m=o(p);h.dayjs=m,h.date=m.toDate(),h.timestamp=m.valueOf(),h.type="normal",h.inRange=!!(r&&m.isSameOrAfter(r,s)&&i&&m.isSameOrBefore(i,s))||!!(r&&m.isSameOrBefore(r,s)&&i&&m.isSameOrAfter(i,s)),r!=null&&r.isSameOrAfter(i)?(h.start=!!i&&m.isSame(i,s),h.end=r&&m.isSame(r,s)):(h.start=!!r&&m.isSame(r,s),h.end=!!i&&m.isSame(i,s)),m.isSame(a,s)&&(h.type="today"),l==null||l(h,{rowIndex:u,columnIndex:f}),d[f+t]=h}c==null||c(d)}},QC=(n,e,t)=>{const r=hn().locale(t).startOf("month").month(e).year(n),i=r.daysInMonth();return jf(i).map(a=>r.add(a,"day").toDate())},f_=(n,e,t,r)=>{const i=hn().year(n).month(e).startOf("month"),a=QC(n,e,t).find(s=>!(r!=null&&r(s)));return a?hn(a).locale(t):i.locale(t)},XR=(n,e,t)=>{const r=n.year();if(!(t!=null&&t(n.toDate())))return n.locale(e);const i=n.month();if(!QC(r,i,e).every(t))return f_(r,i,e,t);for(let a=0;a<12;a++)if(!QC(r,a,e).every(t))return f_(r,a,e,t);return n},r2e=Et({...H6,cellClassName:{type:Ke(Function)},showWeekNumber:Boolean,selectionMode:$6("date")}),i2e=["changerange","pick","select"],jR=(n="")=>["normal","today"].includes(n),a2e=(n,e)=>{const{lang:t}=nr(),r=te(),i=te(),a=te(),s=te(),o=te([[],[],[],[],[],[]]);let l=!1;const c=n.date.$locale().weekStart||7,u=n.date.locale("en").localeData().weekdaysShort().map(B=>B.toLowerCase()),d=U(()=>c>3?7-c:-c),f=U(()=>{const B=n.date.startOf("month");return B.subtract(B.day()||7,"day")}),h=U(()=>u.concat(u).slice(c,c+7)),p=U(()=>iY(S(_)).some(B=>B.isCurrent)),m=U(()=>{const B=n.date.startOf("month"),W=B.day()||7,Z=B.daysInMonth(),ee=B.subtract(1,"month").daysInMonth();return{startOfMonthDay:W,dateCountOfMonth:Z,dateCountOfLastMonth:ee}}),g=U(()=>n.selectionMode==="dates"?Ks(n.parsedValue):[]),v=(B,{count:W,rowIndex:Z,columnIndex:ee})=>{const{startOfMonthDay:J,dateCountOfMonth:re,dateCountOfLastMonth:fe}=S(m),de=S(d);if(Z>=0&&Z<=1){const me=J+de<0?7+J+de:J+de;if(ee+Z*7>=me)return B.text=W,!0;B.text=fe-(me-ee%7)+1+Z*7,B.type="prev-month"}else return W<=re?B.text=W:(B.text=W-re,B.type="next-month"),!0;return!1},y=(B,{columnIndex:W,rowIndex:Z},ee)=>{const{disabledDate:J,cellClassName:re}=n,fe=S(g),de=v(B,{count:ee,rowIndex:Z,columnIndex:W}),me=B.dayjs.toDate();return B.selected=fe.find(Re=>Re.isSame(B.dayjs,"day")),B.isSelected=!!B.selected,B.isCurrent=x(B),B.disabled=J==null?void 0:J(me),B.customClass=re==null?void 0:re(me),de},b=B=>{if(n.selectionMode==="week"){const[W,Z]=n.showWeekNumber?[1,7]:[0,6],ee=z(B[W+1]);B[W].inRange=ee,B[W].start=ee,B[Z].inRange=ee,B[Z].end=ee}},_=U(()=>{const{minDate:B,maxDate:W,rangeState:Z,showWeekNumber:ee}=n,J=S(d),re=S(o),fe="day";let de=1;if(ee)for(let me=0;me<6;me++)re[me][0]||(re[me][0]={type:"week",text:S(f).add(me*7+1,fe).week()});return n2e({row:6,column:7},re,{startDate:B,columnIndexOffset:ee?1:0,nextEndDate:Z.endDate||W||Z.selecting&&B||null,now:hn().locale(S(t)).startOf(fe),unit:fe,relativeDateGetter:me=>S(f).add(me-J,fe),setCellMetadata:(...me)=>{y(...me,de)&&(de+=1)},setRowMetadata:b}),re});dt(()=>n.date,async()=>{var B;(B=S(r))!=null&&B.contains(document.activeElement)&&(await Yt(),await w())});const w=async()=>{var B;return(B=S(i))==null?void 0:B.focus()},x=B=>n.selectionMode==="date"&&jR(B.type)&&M(B,n.parsedValue),M=(B,W)=>W?hn(W).locale(S(t)).isSame(n.date.date(Number(B.text)),"day"):!1,C=(B,W)=>{const Z=B*7+(W-(n.showWeekNumber?1:0))-S(d);return S(f).add(Z,"day")},T=B=>{var W;if(!n.rangeState.selecting)return;let Z=B.target;if(Z.tagName==="SPAN"&&(Z=(W=Z.parentNode)==null?void 0:W.parentNode),Z.tagName==="DIV"&&(Z=Z.parentNode),Z.tagName!=="TD")return;const ee=Z.parentNode.rowIndex-1,J=Z.cellIndex;S(_)[ee][J].disabled||(ee!==S(a)||J!==S(s))&&(a.value=ee,s.value=J,e("changerange",{selecting:!0,endDate:C(ee,J)}))},A=B=>!S(p)&&(B==null?void 0:B.text)===1&&B.type==="normal"||B.isCurrent,I=B=>{l||S(p)||n.selectionMode!=="date"||H(B,!0)},L=B=>{B.target.closest("td")&&(l=!0)},k=B=>{B.target.closest("td")&&(l=!1)},N=B=>{!n.rangeState.selecting||!n.minDate?(e("pick",{minDate:B,maxDate:null}),e("select",!0)):(B>=n.minDate?e("pick",{minDate:n.minDate,maxDate:B}):e("pick",{minDate:B,maxDate:n.minDate}),e("select",!1))},F=B=>{const W=B.week(),Z=`${B.year()}w${W}`;e("pick",{year:B.year(),week:W,value:Z,date:B.startOf("week")})},D=(B,W)=>{const Z=W?Ks(n.parsedValue).filter(ee=>(ee==null?void 0:ee.valueOf())!==B.valueOf()):Ks(n.parsedValue).concat([B]);e("pick",Z)},H=(B,W=!1)=>{const Z=B.target.closest("td");if(!Z)return;const ee=Z.parentNode.rowIndex-1,J=Z.cellIndex,re=S(_)[ee][J];if(re.disabled||re.type==="week")return;const fe=C(ee,J);switch(n.selectionMode){case"range":{N(fe);break}case"date":{e("pick",fe,W);break}case"week":{F(fe);break}case"dates":{D(fe,!!re.selected);break}}},z=B=>{if(n.selectionMode!=="week")return!1;let W=n.date.startOf("day");if(B.type==="prev-month"&&(W=W.subtract(1,"month")),B.type==="next-month"&&(W=W.add(1,"month")),W=W.date(Number.parseInt(B.text,10)),n.parsedValue&&!St(n.parsedValue)){const Z=(n.parsedValue.day()-c+7)%7-1;return n.parsedValue.subtract(Z,"day").isSame(W,"day")}return!1};return{WEEKS:h,rows:_,tbodyRef:r,currentCellRef:i,focus:w,isCurrent:x,isWeekActive:z,isSelectedCell:A,handlePickDate:H,handleMouseUp:k,handleMouseDown:L,handleMouseMove:T,handleFocus:I}},s2e=(n,{isCurrent:e,isWeekActive:t})=>{const r=yt("date-table"),{t:i}=nr(),a=U(()=>[r.b(),{"is-week-mode":n.selectionMode==="week"}]),s=U(()=>i("el.datepicker.dateTablePrompt")),o=U(()=>i("el.datepicker.week"));return{tableKls:a,tableLabel:s,weekLabel:o,getCellClasses:u=>{const d=[];return jR(u.type)&&!u.disabled?(d.push("available"),u.type==="today"&&d.push("today")):d.push(u.type),e(u)&&d.push("current"),u.inRange&&(jR(u.type)||n.selectionMode==="week")&&(d.push("in-range"),u.start&&d.push("start-date"),u.end&&d.push("end-date")),u.disabled&&d.push("disabled"),u.selected&&d.push("selected"),u.customClass&&d.push(u.customClass),d.join(" ")},getRowKls:u=>[r.e("row"),{current:t(u)}],t:i}},o2e=Et({cell:{type:Ke(Object)}});var W6=Pe({name:"ElDatePickerCell",props:o2e,setup(n){const e=yt("date-table-cell"),{slots:t}=Nt(nA);return()=>{const{cell:r}=n;return Qe(t,"default",{...r},()=>{var i;return[pe("div",{class:e.b()},[pe("span",{class:e.e("text")},[(i=r==null?void 0:r.renderText)!=null?i:r==null?void 0:r.text])])]})}}});const l2e=Pe({__name:"basic-date-table",props:r2e,emits:i2e,setup(n,{expose:e,emit:t}){const r=n,{WEEKS:i,rows:a,tbodyRef:s,currentCellRef:o,focus:l,isCurrent:c,isWeekActive:u,isSelectedCell:d,handlePickDate:f,handleMouseUp:h,handleMouseDown:p,handleMouseMove:m,handleFocus:g}=a2e(r,t),{tableLabel:v,tableKls:y,weekLabel:b,getCellClasses:_,getRowKls:w,t:x}=s2e(r,{isCurrent:c,isWeekActive:u});return e({focus:l}),(M,C)=>($(),ge("table",{"aria-label":S(v),class:j(S(y)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:S(f),onMousemove:S(m),onMousedown:sn(S(p),["prevent"]),onMouseup:S(h)},[_e("tbody",{ref_key:"tbodyRef",ref:s},[_e("tr",null,[M.showWeekNumber?($(),ge("th",{key:0,scope:"col"},_t(S(b)),1)):Je("v-if",!0),($(!0),ge(Bt,null,kn(S(i),(T,A)=>($(),ge("th",{key:A,"aria-label":S(x)("el.datepicker.weeksFull."+T),scope:"col"},_t(S(x)("el.datepicker.weeks."+T)),9,["aria-label"]))),128))]),($(!0),ge(Bt,null,kn(S(a),(T,A)=>($(),ge("tr",{key:A,class:j(S(w)(T[1]))},[($(!0),ge(Bt,null,kn(T,(I,L)=>($(),ge("td",{key:`${A}.${L}`,ref_for:!0,ref:k=>S(d)(I)&&(o.value=k),class:j(S(_)(I)),"aria-current":I.isCurrent?"date":void 0,"aria-selected":I.isCurrent,tabindex:S(d)(I)?0:-1,onFocus:S(g)},[pe(S(W6),{cell:I},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var ZR=It(l2e,[["__file","basic-date-table.vue"]]);const c2e=Et({...H6,selectionMode:$6("month")}),u2e=Pe({__name:"basic-month-table",props:c2e,emits:["changerange","pick","select"],setup(n,{expose:e,emit:t}){const r=n,i=yt("month-table"),{t:a,lang:s}=nr(),o=te(),l=te(),c=te(r.date.locale("en").localeData().monthsShort().map(b=>b.toLowerCase())),u=te([[],[],[]]),d=te(),f=te(),h=U(()=>{var b,_;const w=u.value,x=hn().locale(s.value).startOf("month");for(let M=0;M<3;M++){const C=w[M];for(let T=0;T<4;T++){const A=C[T]||(C[T]={row:M,column:T,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});A.type="normal";const I=M*4+T,L=r.date.startOf("year").month(I),k=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;A.inRange=!!(r.minDate&&L.isSameOrAfter(r.minDate,"month")&&k&&L.isSameOrBefore(k,"month"))||!!(r.minDate&&L.isSameOrBefore(r.minDate,"month")&&k&&L.isSameOrAfter(k,"month")),(b=r.minDate)!=null&&b.isSameOrAfter(k)?(A.start=!!(k&&L.isSame(k,"month")),A.end=r.minDate&&L.isSame(r.minDate,"month")):(A.start=!!(r.minDate&&L.isSame(r.minDate,"month")),A.end=!!(k&&L.isSame(k,"month"))),x.isSame(L)&&(A.type="today"),A.text=I,A.disabled=((_=r.disabledDate)==null?void 0:_.call(r,L.toDate()))||!1}}return w}),p=()=>{var b;(b=l.value)==null||b.focus()},m=b=>{const _={},w=r.date.year(),x=new Date,M=b.text;return _.disabled=r.disabledDate?QC(w,M,s.value).every(r.disabledDate):!1,_.current=Ks(r.parsedValue).findIndex(C=>hn.isDayjs(C)&&C.year()===w&&C.month()===M)>=0,_.today=x.getFullYear()===w&&x.getMonth()===M,b.inRange&&(_["in-range"]=!0,b.start&&(_["start-date"]=!0),b.end&&(_["end-date"]=!0)),_},g=b=>{const _=r.date.year(),w=b.text;return Ks(r.date).findIndex(x=>x.year()===_&&x.month()===w)>=0},v=b=>{var _;if(!r.rangeState.selecting)return;let w=b.target;if(w.tagName==="SPAN"&&(w=(_=w.parentNode)==null?void 0:_.parentNode),w.tagName==="DIV"&&(w=w.parentNode),w.tagName!=="TD")return;const x=w.parentNode.rowIndex,M=w.cellIndex;h.value[x][M].disabled||(x!==d.value||M!==f.value)&&(d.value=x,f.value=M,t("changerange",{selecting:!0,endDate:r.date.startOf("year").month(x*4+M)}))},y=b=>{var _;const w=(_=b.target)==null?void 0:_.closest("td");if((w==null?void 0:w.tagName)!=="TD"||mo(w,"disabled"))return;const x=w.cellIndex,C=w.parentNode.rowIndex*4+x,T=r.date.startOf("year").month(C);if(r.selectionMode==="months"){if(b.type==="keydown"){t("pick",Ks(r.parsedValue),!1);return}const A=f_(r.date.year(),C,s.value,r.disabledDate),I=mo(w,"current")?Ks(r.parsedValue).filter(L=>(L==null?void 0:L.month())!==A.month()):Ks(r.parsedValue).concat([hn(A)]);t("pick",I)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&T>=r.minDate?t("pick",{minDate:r.minDate,maxDate:T}):t("pick",{minDate:T,maxDate:r.minDate}),t("select",!1)):(t("pick",{minDate:T,maxDate:null}),t("select",!0)):t("pick",C)};return dt(()=>r.date,async()=>{var b,_;(b=o.value)!=null&&b.contains(document.activeElement)&&(await Yt(),(_=l.value)==null||_.focus())}),e({focus:p}),(b,_)=>($(),ge("table",{role:"grid","aria-label":S(a)("el.datepicker.monthTablePrompt"),class:j(S(i).b()),onClick:y,onMousemove:v},[_e("tbody",{ref_key:"tbodyRef",ref:o},[($(!0),ge(Bt,null,kn(S(h),(w,x)=>($(),ge("tr",{key:x},[($(!0),ge(Bt,null,kn(w,(M,C)=>($(),ge("td",{key:C,ref_for:!0,ref:T=>g(M)&&(l.value=T),class:j(m(M)),"aria-selected":`${g(M)}`,"aria-label":S(a)(`el.datepicker.month${+M.text+1}`),tabindex:g(M)?0:-1,onKeydown:[Rr(sn(y,["prevent","stop"]),["space"]),Rr(sn(y,["prevent","stop"]),["enter"])]},[pe(S(W6),{cell:{...M,renderText:S(a)("el.datepicker.months."+c.value[M.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var QR=It(u2e,[["__file","basic-month-table.vue"]]);const d2e=Et({...H6,selectionMode:$6("year")}),f2e=Pe({__name:"basic-year-table",props:d2e,emits:["changerange","pick","select"],setup(n,{expose:e,emit:t}){const r=n,i=(_,w)=>{const x=hn(String(_)).locale(w).startOf("year"),C=x.endOf("year").dayOfYear();return jf(C).map(T=>x.add(T,"day").toDate())},a=yt("year-table"),{t:s,lang:o}=nr(),l=te(),c=te(),u=U(()=>Math.floor(r.date.year()/10)*10),d=te([[],[],[]]),f=te(),h=te(),p=U(()=>{var _;const w=d.value,x=hn().locale(o.value).startOf("year");for(let M=0;M<3;M++){const C=w[M];for(let T=0;T<4&&!(M*4+T>=10);T++){let A=C[T];A||(A={row:M,column:T,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),A.type="normal";const I=M*4+T+u.value,L=hn().year(I),k=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;A.inRange=!!(r.minDate&&L.isSameOrAfter(r.minDate,"year")&&k&&L.isSameOrBefore(k,"year"))||!!(r.minDate&&L.isSameOrBefore(r.minDate,"year")&&k&&L.isSameOrAfter(k,"year")),(_=r.minDate)!=null&&_.isSameOrAfter(k)?(A.start=!!(k&&L.isSame(k,"year")),A.end=!!(r.minDate&&L.isSame(r.minDate,"year"))):(A.start=!!(r.minDate&&L.isSame(r.minDate,"year")),A.end=!!(k&&L.isSame(k,"year"))),x.isSame(L)&&(A.type="today"),A.text=I;const F=L.toDate();A.disabled=r.disabledDate&&r.disabledDate(F)||!1,C[T]=A}}return w}),m=()=>{var _;(_=c.value)==null||_.focus()},g=_=>{const w={},x=hn().locale(o.value),M=_.text;return w.disabled=r.disabledDate?i(M,o.value).every(r.disabledDate):!1,w.today=x.year()===M,w.current=Ks(r.parsedValue).findIndex(C=>C.year()===M)>=0,_.inRange&&(w["in-range"]=!0,_.start&&(w["start-date"]=!0),_.end&&(w["end-date"]=!0)),w},v=_=>{const w=_.text;return Ks(r.date).findIndex(x=>x.year()===w)>=0},y=_=>{var w;const x=(w=_.target)==null?void 0:w.closest("td");if(!x||!x.textContent||mo(x,"disabled"))return;const M=x.cellIndex,T=x.parentNode.rowIndex*4+M+u.value,A=hn().year(T);if(r.selectionMode==="range")r.rangeState.selecting?(r.minDate&&A>=r.minDate?t("pick",{minDate:r.minDate,maxDate:A}):t("pick",{minDate:A,maxDate:r.minDate}),t("select",!1)):(t("pick",{minDate:A,maxDate:null}),t("select",!0));else if(r.selectionMode==="years"){if(_.type==="keydown"){t("pick",Ks(r.parsedValue),!1);return}const I=XR(A.startOf("year"),o.value,r.disabledDate),L=mo(x,"current")?Ks(r.parsedValue).filter(k=>(k==null?void 0:k.year())!==T):Ks(r.parsedValue).concat([I]);t("pick",L)}else t("pick",T)},b=_=>{var w;if(!r.rangeState.selecting)return;const x=(w=_.target)==null?void 0:w.closest("td");if(!x)return;const M=x.parentNode.rowIndex,C=x.cellIndex;p.value[M][C].disabled||(M!==f.value||C!==h.value)&&(f.value=M,h.value=C,t("changerange",{selecting:!0,endDate:hn().year(u.value).add(M*4+C,"year")}))};return dt(()=>r.date,async()=>{var _,w;(_=l.value)!=null&&_.contains(document.activeElement)&&(await Yt(),(w=c.value)==null||w.focus())}),e({focus:m}),(_,w)=>($(),ge("table",{role:"grid","aria-label":S(s)("el.datepicker.yearTablePrompt"),class:j(S(a).b()),onClick:y,onMousemove:b},[_e("tbody",{ref_key:"tbodyRef",ref:l},[($(!0),ge(Bt,null,kn(S(p),(x,M)=>($(),ge("tr",{key:M},[($(!0),ge(Bt,null,kn(x,(C,T)=>($(),ge("td",{key:`${M}_${T}`,ref_for:!0,ref:A=>v(C)&&(c.value=A),class:j(["available",g(C)]),"aria-selected":v(C),"aria-label":String(C.text),tabindex:v(C)?0:-1,onKeydown:[Rr(sn(y,["prevent","stop"]),["space"]),Rr(sn(y,["prevent","stop"]),["enter"])]},[pe(S(W6),{cell:C},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var JR=It(f2e,[["__file","basic-year-table.vue"]]);const h2e=Pe({__name:"panel-date-pick",props:t2e,emits:["pick","set-picker-option","panel-change"],setup(n,{emit:e}){const t=n,r=(G,ye,ve)=>!0,i=yt("picker-panel"),a=yt("date-picker"),s=zd(),o=Qi(),{t:l,lang:c}=nr(),u=Nt("EP_PICKER_BASE"),d=Nt(eA),{shortcuts:f,disabledDate:h,cellClassName:p,defaultTime:m}=u.props,g=br(u.props,"defaultValue"),v=te(),y=te(hn().locale(c.value)),b=te(!1);let _=!1;const w=U(()=>hn(m).locale(c.value)),x=U(()=>y.value.month()),M=U(()=>y.value.year()),C=te([]),T=te(null),A=te(null),I=G=>C.value.length>0?r(G,C.value,t.format||"HH:mm:ss"):!0,L=G=>m&&!$e.value&&!b.value&&!_?w.value.year(G.year()).month(G.month()).date(G.date()):me.value?G.millisecond(0):G.startOf("day"),k=(G,...ye)=>{if(!G)e("pick",G,...ye);else if(St(G)){const ve=G.map(L);e("pick",ve,...ye)}else e("pick",L(G),...ye);T.value=null,A.value=null,b.value=!1,_=!1},N=async(G,ye)=>{if(W.value==="date"){G=G;let ve=t.parsedValue?t.parsedValue.year(G.year()).month(G.month()).date(G.date()):G;I(ve)||(ve=C.value[0][0].year(G.year()).month(G.month()).date(G.date())),y.value=ve,k(ve,me.value||ye),t.type==="datetime"&&(await Yt(),pt())}else W.value==="week"?k(G.date):W.value==="dates"&&k(G,!0)},F=G=>{const ye=G?"add":"subtract";y.value=y.value[ye](1,"month"),st("month")},D=G=>{const ye=y.value,ve=G?"add":"subtract";y.value=H.value==="year"?ye[ve](10,"year"):ye[ve](1,"year"),st("year")},H=te("date"),z=U(()=>{const G=l("el.datepicker.year");if(H.value==="year"){const ye=Math.floor(M.value/10)*10;return G?`${ye} ${G} - ${ye+9} ${G}`:`${ye} - ${ye+9}`}return`${M.value} ${G}`}),B=G=>{const ye=Kt(G.value)?G.value():G.value;if(ye){_=!0,k(hn(ye).locale(c.value));return}G.onClick&&G.onClick({attrs:s,slots:o,emit:e})},W=U(()=>{const{type:G}=t;return["week","month","months","year","years","dates"].includes(G)?G:"date"}),Z=U(()=>W.value==="dates"||W.value==="months"||W.value==="years"),ee=U(()=>W.value==="date"?H.value:W.value),J=U(()=>!!f.length),re=async(G,ye)=>{W.value==="month"?(y.value=f_(y.value.year(),G,c.value,h),k(y.value,!1)):W.value==="months"?k(G,ye??!0):(y.value=f_(y.value.year(),G,c.value,h),H.value="date",["month","year","date","week"].includes(W.value)&&(k(y.value,!0),await Yt(),pt())),st("month")},fe=async(G,ye)=>{if(W.value==="year"){const ve=y.value.startOf("year").year(G);y.value=XR(ve,c.value,h),k(y.value,!1)}else if(W.value==="years")k(G,ye??!0);else{const ve=y.value.year(G);y.value=XR(ve,c.value,h),H.value="month",["month","year","date","week"].includes(W.value)&&(k(y.value,!0),await Yt(),pt())}st("year")},de=async G=>{H.value=G,await Yt(),pt()},me=U(()=>t.type==="datetime"||t.type==="datetimerange"),Re=U(()=>{const G=me.value||W.value==="dates",ye=W.value==="years",ve=W.value==="months",Le=H.value==="date",be=H.value==="year",Te=H.value==="month";return G&&Le||ye&&be||ve&&Te}),De=U(()=>h?t.parsedValue?St(t.parsedValue)?h(t.parsedValue[0].toDate()):h(t.parsedValue.toDate()):!0:!1),Ge=()=>{if(Z.value)k(t.parsedValue);else{let G=t.parsedValue;if(!G){const ye=hn(m).locale(c.value),ve=ct();G=ye.year(ve.year()).month(ve.month()).date(ve.date())}y.value=G,k(G)}},We=U(()=>h?h(hn().locale(c.value).toDate()):!1),K=()=>{const ye=hn().locale(c.value).toDate();b.value=!0,(!h||!h(ye))&&I(ye)&&(y.value=hn().locale(c.value),k(y.value))},ue=U(()=>t.timeFormat||UX(t.format)),ie=U(()=>t.dateFormat||zX(t.format)),$e=U(()=>{if(A.value)return A.value;if(!(!t.parsedValue&&!g.value))return(t.parsedValue||y.value).format(ue.value)}),Ne=U(()=>{if(T.value)return T.value;if(!(!t.parsedValue&&!g.value))return(t.parsedValue||y.value).format(ie.value)}),Ye=te(!1),ce=()=>{Ye.value=!0},he=()=>{Ye.value=!1},ke=G=>({hour:G.hour(),minute:G.minute(),second:G.second(),year:G.year(),month:G.month(),date:G.date()}),oe=(G,ye,ve)=>{const{hour:Le,minute:be,second:Te}=ke(G),ht=t.parsedValue?t.parsedValue.hour(Le).minute(be).second(Te):G;y.value=ht,k(y.value,!0),ve||(Ye.value=ye)},V=G=>{const ye=hn(G,ue.value).locale(c.value);if(ye.isValid()&&I(ye)){const{year:ve,month:Le,date:be}=ke(y.value);y.value=ye.year(ve).month(Le).date(be),A.value=null,Ye.value=!1,k(y.value,!0)}},Y=G=>{const ye=hn(G,ie.value).locale(c.value);if(ye.isValid()){if(h&&h(ye.toDate()))return;const{hour:ve,minute:Le,second:be}=ke(y.value);y.value=ye.hour(ve).minute(Le).second(be),T.value=null,k(y.value,!0)}},Q=G=>hn.isDayjs(G)&&G.isValid()&&(h?!h(G.toDate()):!0),we=G=>St(G)?G.map(ye=>ye.format(t.format)):G.format(t.format),Ue=G=>hn(G,t.format).locale(c.value),ct=()=>{const G=hn(g.value).locale(c.value);if(!g.value){const ye=w.value;return hn().hour(ye.hour()).minute(ye.minute()).second(ye.second()).locale(c.value)}return G},pt=async()=>{var G;["week","month","year","date"].includes(W.value)&&((G=v.value)==null||G.focus(),W.value==="week"&&ft(Ot.down))},Ee=G=>{const{code:ye}=G;[Ot.up,Ot.down,Ot.left,Ot.right,Ot.home,Ot.end,Ot.pageUp,Ot.pageDown].includes(ye)&&(ft(ye),G.stopPropagation(),G.preventDefault()),[Ot.enter,Ot.space,Ot.numpadEnter].includes(ye)&&T.value===null&&A.value===null&&(G.preventDefault(),k(y.value,!1))},ft=G=>{var ye;const{up:ve,down:Le,left:be,right:Te,home:ht,end:Ie,pageUp:bt,pageDown:nt}=Ot,vt={year:{[ve]:-4,[Le]:4,[be]:-1,[Te]:1,offset:(Tt,an)=>Tt.setFullYear(Tt.getFullYear()+an)},month:{[ve]:-4,[Le]:4,[be]:-1,[Te]:1,offset:(Tt,an)=>Tt.setMonth(Tt.getMonth()+an)},week:{[ve]:-1,[Le]:1,[be]:-1,[Te]:1,offset:(Tt,an)=>Tt.setDate(Tt.getDate()+an*7)},date:{[ve]:-7,[Le]:7,[be]:-1,[Te]:1,[ht]:Tt=>-Tt.getDay(),[Ie]:Tt=>-Tt.getDay()+6,[bt]:Tt=>-new Date(Tt.getFullYear(),Tt.getMonth(),0).getDate(),[nt]:Tt=>new Date(Tt.getFullYear(),Tt.getMonth()+1,0).getDate(),offset:(Tt,an)=>Tt.setDate(Tt.getDate()+an)}},kt=y.value.toDate();for(;Math.abs(y.value.diff(kt,"year",!0))<1;){const Tt=vt[ee.value];if(!Tt)return;if(Tt.offset(kt,Kt(Tt[G])?Tt[G](kt):(ye=Tt[G])!=null?ye:0),h&&h(kt))break;const an=hn(kt).locale(c.value);y.value=an,e("pick",an,!0);break}},st=G=>{e("panel-change",y.value.toDate(),G,H.value)};return dt(()=>W.value,G=>{if(["month","year"].includes(G)){H.value=G;return}else if(G==="years"){H.value="year";return}else if(G==="months"){H.value="month";return}H.value="date"},{immediate:!0}),dt(()=>H.value,()=>{d==null||d.updatePopper()}),dt(()=>g.value,G=>{G&&(y.value=ct())},{immediate:!0}),dt(()=>t.parsedValue,G=>{if(G){if(Z.value||St(G))return;y.value=G}else y.value=ct()},{immediate:!0}),e("set-picker-option",["isValidValue",Q]),e("set-picker-option",["formatToString",we]),e("set-picker-option",["parseUserInput",Ue]),e("set-picker-option",["handleFocusPicker",pt]),(G,ye)=>($(),ge("div",{class:j([S(i).b(),S(a).b(),{"has-sidebar":G.$slots.sidebar||S(J),"has-time":S(me)}])},[_e("div",{class:j(S(i).e("body-wrapper"))},[Qe(G.$slots,"sidebar",{class:j(S(i).e("sidebar"))}),S(J)?($(),ge("div",{key:0,class:j(S(i).e("sidebar"))},[($(!0),ge(Bt,null,kn(S(f),(ve,Le)=>($(),ge("button",{key:Le,type:"button",class:j(S(i).e("shortcut")),onClick:be=>B(ve)},_t(ve.text),11,["onClick"]))),128))],2)):Je("v-if",!0),_e("div",{class:j(S(i).e("body"))},[S(me)?($(),ge("div",{key:0,class:j(S(a).e("time-header"))},[_e("span",{class:j(S(a).e("editor-wrap"))},[pe(S(Ls),{placeholder:S(l)("el.datepicker.selectDate"),"model-value":S(Ne),size:"small","validate-event":!1,onInput:ve=>T.value=ve,onChange:Y},null,8,["placeholder","model-value","onInput"])],2),Sn(($(),ge("span",{class:j(S(a).e("editor-wrap"))},[pe(S(Ls),{placeholder:S(l)("el.datepicker.selectTime"),"model-value":S($e),size:"small","validate-event":!1,onFocus:ce,onInput:ve=>A.value=ve,onChange:V},null,8,["placeholder","model-value","onInput"]),pe(S(ZC),{visible:Ye.value,format:S(ue),"parsed-value":y.value,onPick:oe},null,8,["visible","format","parsed-value"])],2)),[[S(Ed),he]])],2)):Je("v-if",!0),Sn(_e("div",{class:j([S(a).e("header"),(H.value==="year"||H.value==="month")&&S(a).e("header--bordered")])},[_e("span",{class:j(S(a).e("prev-btn"))},[_e("button",{type:"button","aria-label":S(l)("el.datepicker.prevYear"),class:j(["d-arrow-left",S(i).e("icon-btn")]),onClick:ve=>D(!1)},[Qe(G.$slots,"prev-year",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(vh))]),_:1})])],10,["aria-label","onClick"]),Sn(_e("button",{type:"button","aria-label":S(l)("el.datepicker.prevMonth"),class:j([S(i).e("icon-btn"),"arrow-left"]),onClick:ve=>F(!1)},[Qe(G.$slots,"prev-month",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(mh))]),_:1})])],10,["aria-label","onClick"]),[[lr,H.value==="date"]])],2),_e("span",{role:"button",class:j(S(a).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Rr(ve=>de("year"),["enter"]),onClick:ve=>de("year")},_t(S(z)),43,["onKeydown","onClick"]),Sn(_e("span",{role:"button","aria-live":"polite",tabindex:"0",class:j([S(a).e("header-label"),{active:H.value==="month"}]),onKeydown:Rr(ve=>de("month"),["enter"]),onClick:ve=>de("month")},_t(S(l)(`el.datepicker.month${S(x)+1}`)),43,["onKeydown","onClick"]),[[lr,H.value==="date"]]),_e("span",{class:j(S(a).e("next-btn"))},[Sn(_e("button",{type:"button","aria-label":S(l)("el.datepicker.nextMonth"),class:j([S(i).e("icon-btn"),"arrow-right"]),onClick:ve=>F(!0)},[Qe(G.$slots,"next-month",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(Zs))]),_:1})])],10,["aria-label","onClick"]),[[lr,H.value==="date"]]),_e("button",{type:"button","aria-label":S(l)("el.datepicker.nextYear"),class:j([S(i).e("icon-btn"),"d-arrow-right"]),onClick:ve=>D(!0)},[Qe(G.$slots,"next-year",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(gh))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[lr,H.value!=="time"]]),_e("div",{class:j(S(i).e("content")),onKeydown:Ee},[H.value==="date"?($(),rt(ZR,{key:0,ref_key:"currentViewRef",ref:v,"selection-mode":S(W),date:y.value,"parsed-value":G.parsedValue,"disabled-date":S(h),"cell-class-name":S(p),onPick:N},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Je("v-if",!0),H.value==="year"?($(),rt(JR,{key:1,ref_key:"currentViewRef",ref:v,"selection-mode":S(W),date:y.value,"disabled-date":S(h),"parsed-value":G.parsedValue,onPick:fe},null,8,["selection-mode","date","disabled-date","parsed-value"])):Je("v-if",!0),H.value==="month"?($(),rt(QR,{key:2,ref_key:"currentViewRef",ref:v,"selection-mode":S(W),date:y.value,"parsed-value":G.parsedValue,"disabled-date":S(h),onPick:re},null,8,["selection-mode","date","parsed-value","disabled-date"])):Je("v-if",!0)],34)],2)],2),Sn(_e("div",{class:j(S(i).e("footer"))},[Sn(pe(S(Ba),{text:"",size:"small",class:j(S(i).e("link-btn")),disabled:S(We),onClick:K},{default:Me(()=>[un(_t(S(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[lr,!S(Z)&&G.showNow]]),pe(S(Ba),{plain:"",size:"small",class:j(S(i).e("link-btn")),disabled:S(De),onClick:Ge},{default:Me(()=>[un(_t(S(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[lr,S(Re)]])],2))}});var p2e=It(h2e,[["__file","panel-date-pick.vue"]]);const m2e=Et({...Ej,...V6,visible:Boolean}),Ij=n=>{const{emit:e}=wn(),t=zd(),r=Qi();return a=>{const s=Kt(a.value)?a.value():a.value;if(s){e("pick",[hn(s[0]).locale(n.value),hn(s[1]).locale(n.value)]);return}a.onClick&&a.onClick({attrs:t,slots:r,emit:e})}},Rj=(n,{defaultValue:e,leftDate:t,rightDate:r,unit:i,onParsedValueChanged:a})=>{const{emit:s}=wn(),{pickerNs:o}=Nt(nA),l=yt("date-range-picker"),{t:c,lang:u}=nr(),d=Ij(u),f=te(),h=te(),p=te({endDate:null,selecting:!1}),m=_=>{p.value=_},g=(_=!1)=>{const w=S(f),x=S(h);Rg([w,x])&&s("pick",[w,x],_)},v=_=>{p.value.selecting=_,_||(p.value.endDate=null)},y=_=>{if(St(_)&&_.length===2){const[w,x]=_;f.value=w,t.value=w,h.value=x,a(S(f),S(h))}else b()},b=()=>{const[_,w]=G6(S(e),{lang:S(u),unit:i,unlinkPanels:n.unlinkPanels});f.value=void 0,h.value=void 0,t.value=_,r.value=w};return dt(e,_=>{_&&b()},{immediate:!0}),dt(()=>n.parsedValue,y,{immediate:!0}),{minDate:f,maxDate:h,rangeState:p,lang:u,ppNs:o,drpNs:l,handleChangeRange:m,handleRangeConfirm:g,handleShortcutClick:d,onSelect:v,onReset:y,t:c}},Tw="month",v2e=Pe({__name:"panel-date-range",props:m2e,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(n,{emit:e}){const t=n,r=Nt("EP_PICKER_BASE"),{disabledDate:i,cellClassName:a,defaultTime:s,clearable:o}=r.props,l=br(r.props,"format"),c=br(r.props,"shortcuts"),u=br(r.props,"defaultValue"),{lang:d}=nr(),f=te(hn().locale(d.value)),h=te(hn().locale(d.value).add(1,Tw)),{minDate:p,maxDate:m,rangeState:g,ppNs:v,drpNs:y,handleChangeRange:b,handleRangeConfirm:_,handleShortcutClick:w,onSelect:x,onReset:M,t:C}=Rj(t,{defaultValue:u,leftDate:f,rightDate:h,unit:Tw,onParsedValueChanged:ye});dt(()=>t.visible,ve=>{!ve&&g.value.selecting&&(M(t.parsedValue),x(!1))});const T=te({min:null,max:null}),A=te({min:null,max:null}),I=U(()=>`${f.value.year()} ${C("el.datepicker.year")} ${C(`el.datepicker.month${f.value.month()+1}`)}`),L=U(()=>`${h.value.year()} ${C("el.datepicker.year")} ${C(`el.datepicker.month${h.value.month()+1}`)}`),k=U(()=>f.value.year()),N=U(()=>f.value.month()),F=U(()=>h.value.year()),D=U(()=>h.value.month()),H=U(()=>!!c.value.length),z=U(()=>T.value.min!==null?T.value.min:p.value?p.value.format(J.value):""),B=U(()=>T.value.max!==null?T.value.max:m.value||p.value?(m.value||p.value).format(J.value):""),W=U(()=>A.value.min!==null?A.value.min:p.value?p.value.format(ee.value):""),Z=U(()=>A.value.max!==null?A.value.max:m.value||p.value?(m.value||p.value).format(ee.value):""),ee=U(()=>t.timeFormat||UX(l.value)),J=U(()=>t.dateFormat||zX(l.value)),re=ve=>Rg(ve)&&(i?!i(ve[0].toDate())&&!i(ve[1].toDate()):!0),fe=()=>{f.value=f.value.subtract(1,"year"),t.unlinkPanels||(h.value=f.value.add(1,"month")),ue("year")},de=()=>{f.value=f.value.subtract(1,"month"),t.unlinkPanels||(h.value=f.value.add(1,"month")),ue("month")},me=()=>{t.unlinkPanels?h.value=h.value.add(1,"year"):(f.value=f.value.add(1,"year"),h.value=f.value.add(1,"month")),ue("year")},Re=()=>{t.unlinkPanels?h.value=h.value.add(1,"month"):(f.value=f.value.add(1,"month"),h.value=f.value.add(1,"month")),ue("month")},De=()=>{f.value=f.value.add(1,"year"),ue("year")},Ge=()=>{f.value=f.value.add(1,"month"),ue("month")},We=()=>{h.value=h.value.subtract(1,"year"),ue("year")},K=()=>{h.value=h.value.subtract(1,"month"),ue("month")},ue=ve=>{e("panel-change",[f.value.toDate(),h.value.toDate()],ve)},ie=U(()=>{const ve=(N.value+1)%12,Le=N.value+1>=12?1:0;return t.unlinkPanels&&new Date(k.value+Le,ve)<new Date(F.value,D.value)}),$e=U(()=>t.unlinkPanels&&F.value*12+D.value-(k.value*12+N.value+1)>=12),Ne=U(()=>!(p.value&&m.value&&!g.value.selecting&&Rg([p.value,m.value]))),Ye=U(()=>t.type==="datetime"||t.type==="datetimerange"),ce=(ve,Le)=>{if(ve)return s?hn(s[Le]||s).locale(d.value).year(ve.year()).month(ve.month()).date(ve.date()):ve},he=(ve,Le=!0)=>{const be=ve.minDate,Te=ve.maxDate,ht=ce(be,0),Ie=ce(Te,1);m.value===Ie&&p.value===ht||(e("calendar-change",[be.toDate(),Te&&Te.toDate()]),m.value=Ie,p.value=ht,!(!Le||Ye.value)&&_())},ke=te(!1),oe=te(!1),V=()=>{ke.value=!1},Y=()=>{oe.value=!1},Q=(ve,Le)=>{T.value[Le]=ve;const be=hn(ve,J.value).locale(d.value);if(be.isValid()){if(i&&i(be.toDate()))return;Le==="min"?(f.value=be,p.value=(p.value||f.value).year(be.year()).month(be.month()).date(be.date()),!t.unlinkPanels&&(!m.value||m.value.isBefore(p.value))&&(h.value=be.add(1,"month"),m.value=p.value.add(1,"month"))):(h.value=be,m.value=(m.value||h.value).year(be.year()).month(be.month()).date(be.date()),!t.unlinkPanels&&(!p.value||p.value.isAfter(m.value))&&(f.value=be.subtract(1,"month"),p.value=m.value.subtract(1,"month")))}},we=(ve,Le)=>{T.value[Le]=null},Ue=(ve,Le)=>{A.value[Le]=ve;const be=hn(ve,ee.value).locale(d.value);be.isValid()&&(Le==="min"?(ke.value=!0,p.value=(p.value||f.value).hour(be.hour()).minute(be.minute()).second(be.second())):(oe.value=!0,m.value=(m.value||h.value).hour(be.hour()).minute(be.minute()).second(be.second()),h.value=m.value))},ct=(ve,Le)=>{A.value[Le]=null,Le==="min"?(f.value=p.value,ke.value=!1,(!m.value||m.value.isBefore(p.value))&&(m.value=p.value)):(h.value=m.value,oe.value=!1,m.value&&m.value.isBefore(p.value)&&(p.value=m.value))},pt=(ve,Le,be)=>{A.value.min||(ve&&(f.value=ve,p.value=(p.value||f.value).hour(ve.hour()).minute(ve.minute()).second(ve.second())),be||(ke.value=Le),(!m.value||m.value.isBefore(p.value))&&(m.value=p.value,h.value=ve))},Ee=(ve,Le,be)=>{A.value.max||(ve&&(h.value=ve,m.value=(m.value||h.value).hour(ve.hour()).minute(ve.minute()).second(ve.second())),be||(oe.value=Le),m.value&&m.value.isBefore(p.value)&&(p.value=m.value))},ft=()=>{f.value=G6(S(u),{lang:S(d),unit:"month",unlinkPanels:t.unlinkPanels})[0],h.value=f.value.add(1,"month"),m.value=void 0,p.value=void 0,e("pick",null)},st=ve=>St(ve)?ve.map(Le=>Le.format(l.value)):ve.format(l.value),G=ve=>St(ve)?ve.map(Le=>hn(Le,l.value).locale(d.value)):hn(ve,l.value).locale(d.value);function ye(ve,Le){if(t.unlinkPanels&&Le){const be=(ve==null?void 0:ve.year())||0,Te=(ve==null?void 0:ve.month())||0,ht=Le.year(),Ie=Le.month();h.value=be===ht&&Te===Ie?Le.add(1,Tw):Le}else h.value=f.value.add(1,Tw),Le&&(h.value=h.value.hour(Le.hour()).minute(Le.minute()).second(Le.second()))}return e("set-picker-option",["isValidValue",re]),e("set-picker-option",["parseUserInput",G]),e("set-picker-option",["formatToString",st]),e("set-picker-option",["handleClear",ft]),(ve,Le)=>($(),ge("div",{class:j([S(v).b(),S(y).b(),{"has-sidebar":ve.$slots.sidebar||S(H),"has-time":S(Ye)}])},[_e("div",{class:j(S(v).e("body-wrapper"))},[Qe(ve.$slots,"sidebar",{class:j(S(v).e("sidebar"))}),S(H)?($(),ge("div",{key:0,class:j(S(v).e("sidebar"))},[($(!0),ge(Bt,null,kn(S(c),(be,Te)=>($(),ge("button",{key:Te,type:"button",class:j(S(v).e("shortcut")),onClick:ht=>S(w)(be)},_t(be.text),11,["onClick"]))),128))],2)):Je("v-if",!0),_e("div",{class:j(S(v).e("body"))},[S(Ye)?($(),ge("div",{key:0,class:j(S(y).e("time-header"))},[_e("span",{class:j(S(y).e("editors-wrap"))},[_e("span",{class:j(S(y).e("time-picker-wrap"))},[pe(S(Ls),{size:"small",disabled:S(g).selecting,placeholder:S(C)("el.datepicker.startDate"),class:j(S(y).e("editor")),"model-value":S(z),"validate-event":!1,onInput:be=>Q(be,"min"),onChange:be=>we(be,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),Sn(($(),ge("span",{class:j(S(y).e("time-picker-wrap"))},[pe(S(Ls),{size:"small",class:j(S(y).e("editor")),disabled:S(g).selecting,placeholder:S(C)("el.datepicker.startTime"),"model-value":S(W),"validate-event":!1,onFocus:be=>ke.value=!0,onInput:be=>Ue(be,"min"),onChange:be=>ct(be,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),pe(S(ZC),{visible:ke.value,format:S(ee),"datetime-role":"start","parsed-value":f.value,onPick:pt},null,8,["visible","format","parsed-value"])],2)),[[S(Ed),V]])],2),_e("span",null,[pe(S(Gt),null,{default:Me(()=>[pe(S(Zs))]),_:1})]),_e("span",{class:j([S(y).e("editors-wrap"),"is-right"])},[_e("span",{class:j(S(y).e("time-picker-wrap"))},[pe(S(Ls),{size:"small",class:j(S(y).e("editor")),disabled:S(g).selecting,placeholder:S(C)("el.datepicker.endDate"),"model-value":S(B),readonly:!S(p),"validate-event":!1,onInput:be=>Q(be,"max"),onChange:be=>we(be,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),Sn(($(),ge("span",{class:j(S(y).e("time-picker-wrap"))},[pe(S(Ls),{size:"small",class:j(S(y).e("editor")),disabled:S(g).selecting,placeholder:S(C)("el.datepicker.endTime"),"model-value":S(Z),readonly:!S(p),"validate-event":!1,onFocus:be=>S(p)&&(oe.value=!0),onInput:be=>Ue(be,"max"),onChange:be=>ct(be,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),pe(S(ZC),{"datetime-role":"end",visible:oe.value,format:S(ee),"parsed-value":h.value,onPick:Ee},null,8,["visible","format","parsed-value"])],2)),[[S(Ed),Y]])],2)],2)):Je("v-if",!0),_e("div",{class:j([[S(v).e("content"),S(y).e("content")],"is-left"])},[_e("div",{class:j(S(y).e("header"))},[_e("button",{type:"button",class:j([S(v).e("icon-btn"),"d-arrow-left"]),"aria-label":S(C)("el.datepicker.prevYear"),onClick:fe},[Qe(ve.$slots,"prev-year",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(vh))]),_:1})])],10,["aria-label"]),_e("button",{type:"button",class:j([S(v).e("icon-btn"),"arrow-left"]),"aria-label":S(C)("el.datepicker.prevMonth"),onClick:de},[Qe(ve.$slots,"prev-month",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(mh))]),_:1})])],10,["aria-label"]),ve.unlinkPanels?($(),ge("button",{key:0,type:"button",disabled:!S($e),class:j([[S(v).e("icon-btn"),{"is-disabled":!S($e)}],"d-arrow-right"]),"aria-label":S(C)("el.datepicker.nextYear"),onClick:De},[Qe(ve.$slots,"next-year",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(gh))]),_:1})])],10,["disabled","aria-label"])):Je("v-if",!0),ve.unlinkPanels?($(),ge("button",{key:1,type:"button",disabled:!S(ie),class:j([[S(v).e("icon-btn"),{"is-disabled":!S(ie)}],"arrow-right"]),"aria-label":S(C)("el.datepicker.nextMonth"),onClick:Ge},[Qe(ve.$slots,"next-month",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(Zs))]),_:1})])],10,["disabled","aria-label"])):Je("v-if",!0),_e("div",null,_t(S(I)),1)],2),pe(ZR,{"selection-mode":"range",date:f.value,"min-date":S(p),"max-date":S(m),"range-state":S(g),"disabled-date":S(i),"cell-class-name":S(a),onChangerange:S(b),onPick:he,onSelect:S(x)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),_e("div",{class:j([[S(v).e("content"),S(y).e("content")],"is-right"])},[_e("div",{class:j(S(y).e("header"))},[ve.unlinkPanels?($(),ge("button",{key:0,type:"button",disabled:!S($e),class:j([[S(v).e("icon-btn"),{"is-disabled":!S($e)}],"d-arrow-left"]),"aria-label":S(C)("el.datepicker.prevYear"),onClick:We},[Qe(ve.$slots,"prev-year",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(vh))]),_:1})])],10,["disabled","aria-label"])):Je("v-if",!0),ve.unlinkPanels?($(),ge("button",{key:1,type:"button",disabled:!S(ie),class:j([[S(v).e("icon-btn"),{"is-disabled":!S(ie)}],"arrow-left"]),"aria-label":S(C)("el.datepicker.prevMonth"),onClick:K},[Qe(ve.$slots,"prev-month",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(mh))]),_:1})])],10,["disabled","aria-label"])):Je("v-if",!0),_e("button",{type:"button","aria-label":S(C)("el.datepicker.nextYear"),class:j([S(v).e("icon-btn"),"d-arrow-right"]),onClick:me},[Qe(ve.$slots,"next-year",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(gh))]),_:1})])],10,["aria-label"]),_e("button",{type:"button",class:j([S(v).e("icon-btn"),"arrow-right"]),"aria-label":S(C)("el.datepicker.nextMonth"),onClick:Re},[Qe(ve.$slots,"next-month",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(Zs))]),_:1})])],10,["aria-label"]),_e("div",null,_t(S(L)),1)],2),pe(ZR,{"selection-mode":"range",date:h.value,"min-date":S(p),"max-date":S(m),"range-state":S(g),"disabled-date":S(i),"cell-class-name":S(a),onChangerange:S(b),onPick:he,onSelect:S(x)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),S(Ye)?($(),ge("div",{key:0,class:j(S(v).e("footer"))},[S(o)?($(),rt(S(Ba),{key:0,text:"",size:"small",class:j(S(v).e("link-btn")),onClick:ft},{default:Me(()=>[un(_t(S(C)("el.datepicker.clear")),1)]),_:1},8,["class"])):Je("v-if",!0),pe(S(Ba),{plain:"",size:"small",class:j(S(v).e("link-btn")),disabled:S(Ne),onClick:be=>S(_)(!1)},{default:Me(()=>[un(_t(S(C)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):Je("v-if",!0)],2))}});var g2e=It(v2e,[["__file","panel-date-range.vue"]]);const y2e=Et({...V6}),b2e=["pick","set-picker-option","calendar-change"],_2e=({unlinkPanels:n,leftDate:e,rightDate:t})=>{const{t:r}=nr(),i=()=>{e.value=e.value.subtract(1,"year"),n.value||(t.value=t.value.subtract(1,"year"))},a=()=>{n.value||(e.value=e.value.add(1,"year")),t.value=t.value.add(1,"year")},s=()=>{e.value=e.value.add(1,"year")},o=()=>{t.value=t.value.subtract(1,"year")},l=U(()=>`${e.value.year()} ${r("el.datepicker.year")}`),c=U(()=>`${t.value.year()} ${r("el.datepicker.year")}`),u=U(()=>e.value.year()),d=U(()=>t.value.year()===e.value.year()?e.value.year()+1:t.value.year());return{leftPrevYear:i,rightNextYear:a,leftNextYear:s,rightPrevYear:o,leftLabel:l,rightLabel:c,leftYear:u,rightYear:d}},Aw="year",S2e=Pe({name:"DatePickerMonthRange"}),w2e=Pe({...S2e,props:y2e,emits:b2e,setup(n,{emit:e}){const t=n,{lang:r}=nr(),i=Nt("EP_PICKER_BASE"),{shortcuts:a,disabledDate:s}=i.props,o=br(i.props,"format"),l=br(i.props,"defaultValue"),c=te(hn().locale(r.value)),u=te(hn().locale(r.value).add(1,Aw)),{minDate:d,maxDate:f,rangeState:h,ppNs:p,drpNs:m,handleChangeRange:g,handleRangeConfirm:v,handleShortcutClick:y,onSelect:b}=Rj(t,{defaultValue:l,leftDate:c,rightDate:u,unit:Aw,onParsedValueChanged:z}),_=U(()=>!!a.length),{leftPrevYear:w,rightNextYear:x,leftNextYear:M,rightPrevYear:C,leftLabel:T,rightLabel:A,leftYear:I,rightYear:L}=_2e({unlinkPanels:br(t,"unlinkPanels"),leftDate:c,rightDate:u}),k=U(()=>t.unlinkPanels&&L.value>I.value+1),N=(B,W=!0)=>{const Z=B.minDate,ee=B.maxDate;f.value===ee&&d.value===Z||(e("calendar-change",[Z.toDate(),ee&&ee.toDate()]),f.value=ee,d.value=Z,W&&v())},F=()=>{c.value=G6(S(l),{lang:S(r),unit:"year",unlinkPanels:t.unlinkPanels})[0],u.value=c.value.add(1,"year"),e("pick",null)},D=B=>St(B)?B.map(W=>W.format(o.value)):B.format(o.value),H=B=>St(B)?B.map(W=>hn(W,o.value).locale(r.value)):hn(B,o.value).locale(r.value);function z(B,W){if(t.unlinkPanels&&W){const Z=(B==null?void 0:B.year())||0,ee=W.year();u.value=Z===ee?W.add(1,Aw):W}else u.value=c.value.add(1,Aw)}return e("set-picker-option",["isValidValue",Rg]),e("set-picker-option",["formatToString",D]),e("set-picker-option",["parseUserInput",H]),e("set-picker-option",["handleClear",F]),(B,W)=>($(),ge("div",{class:j([S(p).b(),S(m).b(),{"has-sidebar":!!B.$slots.sidebar||S(_)}])},[_e("div",{class:j(S(p).e("body-wrapper"))},[Qe(B.$slots,"sidebar",{class:j(S(p).e("sidebar"))}),S(_)?($(),ge("div",{key:0,class:j(S(p).e("sidebar"))},[($(!0),ge(Bt,null,kn(S(a),(Z,ee)=>($(),ge("button",{key:ee,type:"button",class:j(S(p).e("shortcut")),onClick:J=>S(y)(Z)},_t(Z.text),11,["onClick"]))),128))],2)):Je("v-if",!0),_e("div",{class:j(S(p).e("body"))},[_e("div",{class:j([[S(p).e("content"),S(m).e("content")],"is-left"])},[_e("div",{class:j(S(m).e("header"))},[_e("button",{type:"button",class:j([S(p).e("icon-btn"),"d-arrow-left"]),onClick:S(w)},[Qe(B.$slots,"prev-year",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(vh))]),_:1})])],10,["onClick"]),B.unlinkPanels?($(),ge("button",{key:0,type:"button",disabled:!S(k),class:j([[S(p).e("icon-btn"),{[S(p).is("disabled")]:!S(k)}],"d-arrow-right"]),onClick:S(M)},[Qe(B.$slots,"next-year",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(gh))]),_:1})])],10,["disabled","onClick"])):Je("v-if",!0),_e("div",null,_t(S(T)),1)],2),pe(QR,{"selection-mode":"range",date:c.value,"min-date":S(d),"max-date":S(f),"range-state":S(h),"disabled-date":S(s),onChangerange:S(g),onPick:N,onSelect:S(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),_e("div",{class:j([[S(p).e("content"),S(m).e("content")],"is-right"])},[_e("div",{class:j(S(m).e("header"))},[B.unlinkPanels?($(),ge("button",{key:0,type:"button",disabled:!S(k),class:j([[S(p).e("icon-btn"),{"is-disabled":!S(k)}],"d-arrow-left"]),onClick:S(C)},[Qe(B.$slots,"prev-year",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(vh))]),_:1})])],10,["disabled","onClick"])):Je("v-if",!0),_e("button",{type:"button",class:j([S(p).e("icon-btn"),"d-arrow-right"]),onClick:S(x)},[Qe(B.$slots,"next-year",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(gh))]),_:1})])],10,["onClick"]),_e("div",null,_t(S(A)),1)],2),pe(QR,{"selection-mode":"range",date:u.value,"min-date":S(d),"max-date":S(f),"range-state":S(h),"disabled-date":S(s),onChangerange:S(g),onPick:N,onSelect:S(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var x2e=It(w2e,[["__file","panel-month-range.vue"]]);const C2e=Et({...V6}),M2e=["pick","set-picker-option","calendar-change"],T2e=({unlinkPanels:n,leftDate:e,rightDate:t})=>{const r=()=>{e.value=e.value.subtract(10,"year"),n.value||(t.value=t.value.subtract(10,"year"))},i=()=>{n.value||(e.value=e.value.add(10,"year")),t.value=t.value.add(10,"year")},a=()=>{e.value=e.value.add(10,"year")},s=()=>{t.value=t.value.subtract(10,"year")},o=U(()=>{const d=Math.floor(e.value.year()/10)*10;return`${d}-${d+9}`}),l=U(()=>{const d=Math.floor(t.value.year()/10)*10;return`${d}-${d+9}`}),c=U(()=>Math.floor(e.value.year()/10)*10+9),u=U(()=>Math.floor(t.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:i,leftNextYear:a,rightPrevYear:s,leftLabel:o,rightLabel:l,leftYear:c,rightYear:u}},B7="year",A2e=Pe({name:"DatePickerYearRange"}),E2e=Pe({...A2e,props:C2e,emits:M2e,setup(n,{emit:e}){const t=n,{lang:r}=nr(),i=te(hn().locale(r.value)),a=te(i.value.add(10,"year")),{pickerNs:s}=Nt(nA),o=yt("date-range-picker"),l=U(()=>!!N.length),c=U(()=>[s.b(),o.b(),{"has-sidebar":!!Qi().sidebar||l.value}]),u=U(()=>({content:[s.e("content"),o.e("content"),"is-left"],arrowLeftBtn:[s.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),{[s.is("disabled")]:!w.value},"d-arrow-right"]})),d=U(()=>({content:[s.e("content"),o.e("content"),"is-right"],arrowLeftBtn:[s.e("icon-btn"),{"is-disabled":!w.value},"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),"d-arrow-right"]})),f=Ij(r),{leftPrevYear:h,rightNextYear:p,leftNextYear:m,rightPrevYear:g,leftLabel:v,rightLabel:y,leftYear:b,rightYear:_}=T2e({unlinkPanels:br(t,"unlinkPanels"),leftDate:i,rightDate:a}),w=U(()=>t.unlinkPanels&&_.value>b.value+1),x=te(),M=te(),C=te({endDate:null,selecting:!1}),T=J=>{C.value=J},A=(J,re=!0)=>{const fe=J.minDate,de=J.maxDate;M.value===de&&x.value===fe||(e("calendar-change",[fe.toDate(),de&&de.toDate()]),M.value=de,x.value=fe,re&&I())},I=(J=!1)=>{Rg([x.value,M.value])&&e("pick",[x.value,M.value],J)},L=J=>{C.value.selecting=J,J||(C.value.endDate=null)},k=Nt("EP_PICKER_BASE"),{shortcuts:N,disabledDate:F}=k.props,D=br(k.props,"format"),H=br(k.props,"defaultValue"),z=()=>{let J;if(St(H.value)){const re=hn(H.value[0]);let fe=hn(H.value[1]);return t.unlinkPanels||(fe=re.add(10,B7)),[re,fe]}else H.value?J=hn(H.value):J=hn();return J=J.locale(r.value),[J,J.add(10,B7)]};dt(()=>H.value,J=>{if(J){const re=z();i.value=re[0],a.value=re[1]}},{immediate:!0}),dt(()=>t.parsedValue,J=>{if(J&&J.length===2)if(x.value=J[0],M.value=J[1],i.value=x.value,t.unlinkPanels&&M.value){const re=x.value.year(),fe=M.value.year();a.value=re===fe?M.value.add(10,"year"):M.value}else a.value=i.value.add(10,"year");else{const re=z();x.value=void 0,M.value=void 0,i.value=re[0],a.value=re[1]}},{immediate:!0});const B=J=>St(J)?J.map(re=>hn(re,D.value).locale(r.value)):hn(J,D.value).locale(r.value),W=J=>St(J)?J.map(re=>re.format(D.value)):J.format(D.value),Z=J=>Rg(J)&&(F?!F(J[0].toDate())&&!F(J[1].toDate()):!0),ee=()=>{const J=z();i.value=J[0],a.value=J[1],M.value=void 0,x.value=void 0,e("pick",null)};return e("set-picker-option",["isValidValue",Z]),e("set-picker-option",["parseUserInput",B]),e("set-picker-option",["formatToString",W]),e("set-picker-option",["handleClear",ee]),(J,re)=>($(),ge("div",{class:j(S(c))},[_e("div",{class:j(S(s).e("body-wrapper"))},[Qe(J.$slots,"sidebar",{class:j(S(s).e("sidebar"))}),S(l)?($(),ge("div",{key:0,class:j(S(s).e("sidebar"))},[($(!0),ge(Bt,null,kn(S(N),(fe,de)=>($(),ge("button",{key:de,type:"button",class:j(S(s).e("shortcut")),onClick:me=>S(f)(fe)},_t(fe.text),11,["onClick"]))),128))],2)):Je("v-if",!0),_e("div",{class:j(S(s).e("body"))},[_e("div",{class:j(S(u).content)},[_e("div",{class:j(S(o).e("header"))},[_e("button",{type:"button",class:j(S(u).arrowLeftBtn),onClick:S(h)},[Qe(J.$slots,"prev-year",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(vh))]),_:1})])],10,["onClick"]),J.unlinkPanels?($(),ge("button",{key:0,type:"button",disabled:!S(w),class:j(S(u).arrowRightBtn),onClick:S(m)},[Qe(J.$slots,"next-year",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(gh))]),_:1})])],10,["disabled","onClick"])):Je("v-if",!0),_e("div",null,_t(S(v)),1)],2),pe(JR,{"selection-mode":"range",date:i.value,"min-date":x.value,"max-date":M.value,"range-state":C.value,"disabled-date":S(F),onChangerange:T,onPick:A,onSelect:L},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),_e("div",{class:j(S(d).content)},[_e("div",{class:j(S(o).e("header"))},[J.unlinkPanels?($(),ge("button",{key:0,type:"button",disabled:!S(w),class:j(S(d).arrowLeftBtn),onClick:S(g)},[Qe(J.$slots,"prev-year",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(vh))]),_:1})])],10,["disabled","onClick"])):Je("v-if",!0),_e("button",{type:"button",class:j(S(d).arrowRightBtn),onClick:S(p)},[Qe(J.$slots,"next-year",{},()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(gh))]),_:1})])],10,["onClick"]),_e("div",null,_t(S(y)),1)],2),pe(JR,{"selection-mode":"range",date:a.value,"min-date":x.value,"max-date":M.value,"range-state":C.value,"disabled-date":S(F),onChangerange:T,onPick:A,onSelect:L},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var I2e=It(E2e,[["__file","panel-year-range.vue"]]);const R2e=function(n){switch(n){case"daterange":case"datetimerange":return g2e;case"monthrange":return x2e;case"yearrange":return I2e;default:return p2e}};hn.extend(VX);hn.extend(Cxe);hn.extend(z6);hn.extend(Txe);hn.extend(Exe);hn.extend(Rxe);hn.extend(Lxe);hn.extend(kxe);var P2e=Pe({name:"ElDatePicker",install:null,props:Jxe,emits:["update:modelValue"],setup(n,{expose:e,emit:t,slots:r}){const i=yt("picker-panel");Vn("ElPopperOptions",pr(br(n,"popperOptions"))),Vn(nA,{slots:r,pickerNs:i});const a=te();e({focus:()=>{var l;(l=a.value)==null||l.focus()},blur:()=>{var l;(l=a.value)==null||l.blur()},handleOpen:()=>{var l;(l=a.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=a.value)==null||l.handleClose()}});const o=l=>{t("update:modelValue",l)};return()=>{var l;const c=(l=n.format)!=null?l:Oxe[n.type]||yv,u=R2e(n.type);return pe(xj,Bn(n,{format:c,type:n.type,ref:a,"onUpdate:modelValue":o}),{default:d=>pe(u,d,{"prev-month":r["prev-month"],"next-month":r["next-month"],"prev-year":r["prev-year"],"next-year":r["next-year"]}),"range-separator":r["range-separator"]})}}});const L2e=gn(P2e),q6=Symbol("elDescriptions");var r1=Pe({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:Nt(q6,{})}},render(){var n;const e=$_e(this.cell),t=(((n=this.cell)==null?void 0:n.dirs)||[]).map(v=>{const{dir:y,arg:b,modifiers:_,value:w}=v;return[y,w,b,_]}),{border:r,direction:i}=this.descriptions,a=i==="vertical",s=()=>{var v,y,b;return((b=(y=(v=this.cell)==null?void 0:v.children)==null?void 0:y.label)==null?void 0:b.call(y))||e.label},o=()=>{var v,y,b;return(b=(y=(v=this.cell)==null?void 0:v.children)==null?void 0:y.default)==null?void 0:b.call(y)},l=e.span,c=e.rowspan,u=e.align?`is-${e.align}`:"",d=e.labelAlign?`is-${e.labelAlign}`:u,f=e.className,h=e.labelClassName,p=this.type==="label"&&(e.labelWidth||this.descriptions.labelWidth)||e.width,m={width:Pi(p),minWidth:Pi(e.minWidth)},g=yt("descriptions");switch(this.type){case"label":return Sn($t(this.tag,{style:m,class:[g.e("cell"),g.e("label"),g.is("bordered-label",r),g.is("vertical-label",a),d,h],colSpan:a?l:1,rowspan:a?1:c},s()),t);case"content":return Sn($t(this.tag,{style:m,class:[g.e("cell"),g.e("content"),g.is("bordered-content",r),g.is("vertical-content",a),u,f],colSpan:a?l:l*2-1,rowspan:a?c*2-1:c},o()),t);default:{const v=s();return Sn($t("td",{style:m,class:[g.e("cell"),u],colSpan:l,rowspan:c},[Ca(v)?void 0:$t("span",{class:[g.e("label"),h]},v),$t("span",{class:[g.e("content"),f]},o())]),t)}}}});const D2e=Et({row:{type:Ke(Array),default:()=>[]}}),k2e=Pe({name:"ElDescriptionsRow"}),O2e=Pe({...k2e,props:D2e,setup(n){const e=Nt(q6,{});return(t,r)=>S(e).direction==="vertical"?($(),ge(Bt,{key:0},[_e("tr",null,[($(!0),ge(Bt,null,kn(t.row,(i,a)=>($(),rt(S(r1),{key:`tr1-${a}`,cell:i,tag:"th",type:"label"},null,8,["cell"]))),128))]),_e("tr",null,[($(!0),ge(Bt,null,kn(t.row,(i,a)=>($(),rt(S(r1),{key:`tr2-${a}`,cell:i,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):($(),ge("tr",{key:1},[($(!0),ge(Bt,null,kn(t.row,(i,a)=>($(),ge(Bt,{key:`tr3-${a}`},[S(e).border?($(),ge(Bt,{key:0},[pe(S(r1),{cell:i,tag:"td",type:"label"},null,8,["cell"]),pe(S(r1),{cell:i,tag:"td",type:"content"},null,8,["cell"])],64)):($(),rt(S(r1),{key:1,cell:i,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var N2e=It(O2e,[["__file","descriptions-row.vue"]]);const B2e=Et({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:oa,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),F2e=Pe({name:"ElDescriptions"}),z2e=Pe({...F2e,props:B2e,setup(n){const e=n,t=yt("descriptions"),r=ji(),i=Qi();Vn(q6,e);const a=U(()=>[t.b(),t.m(r.value)]),s=(l,c,u,d=!1)=>(l.props||(l.props={}),c>u&&(l.props.span=u),d&&(l.props.span=c),l),o=()=>{if(!i.default)return[];const l=Zf(i.default()).filter(p=>{var m;return((m=p==null?void 0:p.type)==null?void 0:m.name)==="ElDescriptionsItem"}),c=[];let u=[],d=e.column,f=0;const h=[];return l.forEach((p,m)=>{var g,v,y;const b=((g=p.props)==null?void 0:g.span)||1,_=((v=p.props)==null?void 0:v.rowspan)||1,w=c.length;if(h[w]||(h[w]=0),_>1)for(let x=1;x<_;x++)h[y=w+x]||(h[y]=0),h[w+x]++,f++;if(h[w]>0&&(d-=h[w],h[w]=0),m<l.length-1&&(f+=b>d?d:b),m===l.length-1){const x=e.column-f%e.column;u.push(s(p,x,d,!0)),c.push(u);return}b<d?(d-=b,u.push(p)):(u.push(s(p,b,d)),c.push(u),d=e.column,u=[])}),c};return(l,c)=>($(),ge("div",{class:j(S(a))},[l.title||l.extra||l.$slots.title||l.$slots.extra?($(),ge("div",{key:0,class:j(S(t).e("header"))},[_e("div",{class:j(S(t).e("title"))},[Qe(l.$slots,"title",{},()=>[un(_t(l.title),1)])],2),_e("div",{class:j(S(t).e("extra"))},[Qe(l.$slots,"extra",{},()=>[un(_t(l.extra),1)])],2)],2)):Je("v-if",!0),_e("div",{class:j(S(t).e("body"))},[_e("table",{class:j([S(t).e("table"),S(t).is("bordered",l.border)])},[_e("tbody",null,[($(!0),ge(Bt,null,kn(o(),(u,d)=>($(),rt(N2e,{key:d,row:u},null,8,["row"]))),128))])],2)],2)],2))}});var U2e=It(z2e,[["__file","description.vue"]]);const H2e=Et({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),Pj=Pe({name:"ElDescriptionsItem",props:H2e}),V2e=gn(U2e,{DescriptionsItem:Pj}),$2e=Ci(Pj),K6=n=>{if(!n)return{onClick:xr,onMousedown:xr,onMouseup:xr};let e=!1,t=!1;return{onClick:s=>{e&&t&&n(s),e=t=!1},onMousedown:s=>{e=s.target===s.currentTarget},onMouseup:s=>{t=s.target===s.currentTarget}}},G2e=Et({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:Ke([String,Array,Object])},zIndex:{type:Ke([String,Number])}}),W2e={click:n=>n instanceof MouseEvent},q2e="overlay";var K2e=Pe({name:"ElOverlay",props:G2e,emits:W2e,setup(n,{slots:e,emit:t}){const r=yt(q2e),i=l=>{t("click",l)},{onClick:a,onMousedown:s,onMouseup:o}=K6(n.customMaskEvent?void 0:i);return()=>n.mask?pe("div",{class:[r.b(),n.overlayClass],style:{zIndex:n.zIndex},onClick:a,onMousedown:s,onMouseup:o},[Qe(e,"default")],_l.STYLE|_l.CLASS|_l.PROPS,["onClick","onMouseup","onMousedown"]):$t("div",{class:n.overlayClass,style:{zIndex:n.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Qe(e,"default")])}});const Y6=K2e,Lj=Symbol("dialogInjectionKey"),Dj=Et({center:Boolean,alignCenter:Boolean,closeIcon:{type:Dr},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Y2e={close:()=>!0},kj=(n,e,t,r)=>{let i={offsetX:0,offsetY:0};const a=c=>{const u=c.clientX,d=c.clientY,{offsetX:f,offsetY:h}=i,p=n.value.getBoundingClientRect(),m=p.left,g=p.top,v=p.width,y=p.height,b=document.documentElement.clientWidth,_=document.documentElement.clientHeight,w=-m+f,x=-g+h,M=b-m-v+f,C=_-g-y+h,T=I=>{let L=f+I.clientX-u,k=h+I.clientY-d;r!=null&&r.value||(L=Math.min(Math.max(L,w),M),k=Math.min(Math.max(k,x),C)),i={offsetX:L,offsetY:k},n.value&&(n.value.style.transform=`translate(${Pi(L)}, ${Pi(k)})`)},A=()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",T),document.addEventListener("mouseup",A)},s=()=>{e.value&&n.value&&e.value.addEventListener("mousedown",a)},o=()=>{e.value&&n.value&&e.value.removeEventListener("mousedown",a)},l=()=>{i={offsetX:0,offsetY:0},n.value&&(n.value.style.transform="none")};return dn(()=>{wa(()=>{t.value?s():o()})}),vr(()=>{o()}),{resetPosition:l}},rA=(...n)=>e=>{n.forEach(t=>{Kt(t)?t(e):t.value=e})},X2e=Pe({name:"ElDialogContent"}),j2e=Pe({...X2e,props:Dj,emits:Y2e,setup(n,{expose:e}){const t=n,{t:r}=nr(),{Close:i}=y6,{dialogRef:a,headerRef:s,bodyId:o,ns:l,style:c}=Nt(Lj),{focusTrapRef:u}=Nt(C6),d=U(()=>[l.b(),l.is("fullscreen",t.fullscreen),l.is("draggable",t.draggable),l.is("align-center",t.alignCenter),{[l.m("center")]:t.center}]),f=rA(u,a),h=U(()=>t.draggable),p=U(()=>t.overflow),{resetPosition:m}=kj(a,s,h,p);return e({resetPosition:m}),(g,v)=>($(),ge("div",{ref:S(f),class:j(S(d)),style:Ft(S(c)),tabindex:"-1"},[_e("header",{ref_key:"headerRef",ref:s,class:j([S(l).e("header"),{"show-close":g.showClose}])},[Qe(g.$slots,"header",{},()=>[_e("span",{role:"heading","aria-level":g.ariaLevel,class:j(S(l).e("title"))},_t(g.title),11,["aria-level"])]),g.showClose?($(),ge("button",{key:0,"aria-label":S(r)("el.dialog.close"),class:j(S(l).e("headerbtn")),type:"button",onClick:y=>g.$emit("close")},[pe(S(Gt),{class:j(S(l).e("close"))},{default:Me(()=>[($(),rt(Rn(g.closeIcon||S(i))))]),_:1},8,["class"])],10,["aria-label","onClick"])):Je("v-if",!0)],2),_e("div",{id:S(o),class:j(S(l).e("body"))},[Qe(g.$slots,"default")],10,["id"]),g.$slots.footer?($(),ge("footer",{key:0,class:j(S(l).e("footer"))},[Qe(g.$slots,"footer")],2)):Je("v-if",!0)],6))}});var Z2e=It(j2e,[["__file","dialog-content.vue"]]);const Oj=Et({...Dj,appendToBody:Boolean,appendTo:{type:Ke([String,Object]),default:"body"},beforeClose:{type:Ke(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),Nj={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Tn]:n=>Vr(n),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},X6=(n,e={})=>{Ur(n)||va("[useLockscreen]","You need to pass a ref param to this function");const t=e.ns||yt("popup"),r=U(()=>t.bm("parent","hidden"));if(!tr||mo(document.body,r.value))return;let i=0,a=!1,s="0";const o=()=>{setTimeout(()=>{typeof document>"u"||(ks(document==null?void 0:document.body,r.value),a&&document&&(document.body.style.width=s))},200)};dt(n,l=>{if(!l){o();return}a=!mo(document.body,r.value),a&&(s=document.body.style.width),i=KY(t.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,u=ud(document.body,"overflowY");i>0&&(c||u==="scroll")&&a&&(document.body.style.width=`calc(100% - ${i}px)`),Dl(document.body,r.value)}),xD(()=>o())},Bj=(n,e)=>{var t;const i=wn().emit,{nextZIndex:a}=my();let s="";const o=Ya(),l=Ya(),c=te(!1),u=te(!1),d=te(!1),f=te((t=n.zIndex)!=null?t:a());let h,p;const m=KT("namespace",cb),g=U(()=>{const F={},D=`--${m.value}-dialog`;return n.fullscreen||(n.top&&(F[`${D}-margin-top`]=n.top),n.width&&(F[`${D}-width`]=Pi(n.width))),F}),v=U(()=>n.alignCenter?{display:"flex"}:{});function y(){i("opened")}function b(){i("closed"),i(Tn,!1),n.destroyOnClose&&(d.value=!1)}function _(){i("close")}function w(){p==null||p(),h==null||h(),n.openDelay&&n.openDelay>0?{stop:h}=M0(()=>T(),n.openDelay):T()}function x(){h==null||h(),p==null||p(),n.closeDelay&&n.closeDelay>0?{stop:p}=M0(()=>A(),n.closeDelay):A()}function M(){function F(D){D||(u.value=!0,c.value=!1)}n.beforeClose?n.beforeClose(F):x()}function C(){n.closeOnClickModal&&M()}function T(){tr&&(c.value=!0)}function A(){c.value=!1}function I(){i("openAutoFocus")}function L(){i("closeAutoFocus")}function k(F){var D;((D=F.detail)==null?void 0:D.focusReason)==="pointer"&&F.preventDefault()}n.lockScroll&&X6(c);function N(){n.closeOnPressEscape&&M()}return dt(()=>n.modelValue,F=>{F?(u.value=!1,w(),d.value=!0,f.value=IY(n.zIndex)?a():f.value++,Yt(()=>{i("open"),e.value&&(e.value.scrollTop=0)})):c.value&&x()}),dt(()=>n.fullscreen,F=>{e.value&&(F?(s=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=s)}),dn(()=>{n.modelValue&&(c.value=!0,d.value=!0,w())}),{afterEnter:y,afterLeave:b,beforeLeave:_,handleClose:M,onModalClick:C,close:x,doClose:A,onOpenAutoFocus:I,onCloseAutoFocus:L,onCloseRequested:N,onFocusoutPrevented:k,titleId:o,bodyId:l,closed:u,style:g,overlayDialogStyle:v,rendered:d,visible:c,zIndex:f}},Q2e=Pe({name:"ElDialog",inheritAttrs:!1}),J2e=Pe({...Q2e,props:Oj,emits:Nj,setup(n,{expose:e}){const t=n,r=Qi();Xf({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},U(()=>!!r.title));const i=yt("dialog"),a=te(),s=te(),o=te(),{visible:l,titleId:c,bodyId:u,style:d,overlayDialogStyle:f,rendered:h,zIndex:p,afterEnter:m,afterLeave:g,beforeLeave:v,handleClose:y,onModalClick:b,onOpenAutoFocus:_,onCloseAutoFocus:w,onCloseRequested:x,onFocusoutPrevented:M}=Bj(t,a);Vn(Lj,{dialogRef:a,headerRef:s,bodyId:u,ns:i,rendered:h,style:d});const C=K6(b),T=U(()=>t.draggable&&!t.fullscreen);return e({visible:l,dialogContentRef:o,resetPosition:()=>{var I;(I=o.value)==null||I.resetPosition()}}),(I,L)=>($(),rt(S(yy),{to:I.appendTo,disabled:I.appendTo!=="body"?!1:!I.appendToBody},{default:Me(()=>[pe(sa,{name:"dialog-fade",onAfterEnter:S(m),onAfterLeave:S(g),onBeforeLeave:S(v),persisted:""},{default:Me(()=>[Sn(pe(S(Y6),{"custom-mask-event":"",mask:I.modal,"overlay-class":I.modalClass,"z-index":S(p)},{default:Me(()=>[_e("div",{role:"dialog","aria-modal":"true","aria-label":I.title||void 0,"aria-labelledby":I.title?void 0:S(c),"aria-describedby":S(u),class:j(`${S(i).namespace.value}-overlay-dialog`),style:Ft(S(f)),onClick:S(C).onClick,onMousedown:S(C).onMousedown,onMouseup:S(C).onMouseup},[pe(S(gy),{loop:"",trapped:S(l),"focus-start-el":"container",onFocusAfterTrapped:S(_),onFocusAfterReleased:S(w),onFocusoutPrevented:S(M),onReleaseRequested:S(x)},{default:Me(()=>[S(h)?($(),rt(Z2e,Bn({key:0,ref_key:"dialogContentRef",ref:o},I.$attrs,{center:I.center,"align-center":I.alignCenter,"close-icon":I.closeIcon,draggable:S(T),overflow:I.overflow,fullscreen:I.fullscreen,"show-close":I.showClose,title:I.title,"aria-level":I.headerAriaLevel,onClose:S(y)}),rl({header:Me(()=>[I.$slots.title?Qe(I.$slots,"title",{key:1}):Qe(I.$slots,"header",{key:0,close:S(y),titleId:S(c),titleClass:S(i).e("title")})]),default:Me(()=>[Qe(I.$slots,"default")]),_:2},[I.$slots.footer?{name:"footer",fn:Me(()=>[Qe(I.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):Je("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[lr,S(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var eCe=It(J2e,[["__file","dialog.vue"]]);const tCe=gn(eCe),nCe=Et({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Ke(String),default:"solid"}}),rCe=Pe({name:"ElDivider"}),iCe=Pe({...rCe,props:nCe,setup(n){const e=n,t=yt("divider"),r=U(()=>t.cssVar({"border-style":e.borderStyle}));return(i,a)=>($(),ge("div",{class:j([S(t).b(),S(t).m(i.direction)]),style:Ft(S(r)),role:"separator"},[i.$slots.default&&i.direction!=="vertical"?($(),ge("div",{key:0,class:j([S(t).e("text"),S(t).is(i.contentPosition)])},[Qe(i.$slots,"default")],2)):Je("v-if",!0)],6))}});var aCe=It(iCe,[["__file","divider.vue"]]);const Fj=gn(aCe),sCe=Et({...Oj,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),oCe=Nj,lCe=Pe({name:"ElDrawer",inheritAttrs:!1}),cCe=Pe({...lCe,props:sCe,emits:oCe,setup(n,{expose:e}){const t=n,r=Qi();Xf({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},U(()=>!!r.title));const i=te(),a=te(),s=yt("drawer"),{t:o}=nr(),{afterEnter:l,afterLeave:c,beforeLeave:u,visible:d,rendered:f,titleId:h,bodyId:p,zIndex:m,onModalClick:g,onOpenAutoFocus:v,onCloseAutoFocus:y,onFocusoutPrevented:b,onCloseRequested:_,handleClose:w}=Bj(t,i),x=U(()=>t.direction==="rtl"||t.direction==="ltr"),M=U(()=>Pi(t.size));return e({handleClose:w,afterEnter:l,afterLeave:c}),(C,T)=>($(),rt(S(yy),{to:C.appendTo,disabled:C.appendTo!=="body"?!1:!C.appendToBody},{default:Me(()=>[pe(sa,{name:S(s).b("fade"),onAfterEnter:S(l),onAfterLeave:S(c),onBeforeLeave:S(u),persisted:""},{default:Me(()=>[Sn(pe(S(Y6),{mask:C.modal,"overlay-class":C.modalClass,"z-index":S(m),onClick:S(g)},{default:Me(()=>[pe(S(gy),{loop:"",trapped:S(d),"focus-trap-el":i.value,"focus-start-el":a.value,onFocusAfterTrapped:S(v),onFocusAfterReleased:S(y),onFocusoutPrevented:S(b),onReleaseRequested:S(_)},{default:Me(()=>[_e("div",Bn({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":C.title||void 0,"aria-labelledby":C.title?void 0:S(h),"aria-describedby":S(p)},C.$attrs,{class:[S(s).b(),C.direction,S(d)&&"open"],style:S(x)?"width: "+S(M):"height: "+S(M),role:"dialog",onClick:sn(()=>{},["stop"])}),[_e("span",{ref_key:"focusStartRef",ref:a,class:j(S(s).e("sr-focus")),tabindex:"-1"},null,2),C.withHeader?($(),ge("header",{key:0,class:j(S(s).e("header"))},[C.$slots.title?Qe(C.$slots,"title",{key:1},()=>[Je(" DEPRECATED SLOT ")]):Qe(C.$slots,"header",{key:0,close:S(w),titleId:S(h),titleClass:S(s).e("title")},()=>[C.$slots.title?Je("v-if",!0):($(),ge("span",{key:0,id:S(h),role:"heading","aria-level":C.headerAriaLevel,class:j(S(s).e("title"))},_t(C.title),11,["id","aria-level"]))]),C.showClose?($(),ge("button",{key:2,"aria-label":S(o)("el.drawer.close"),class:j(S(s).e("close-btn")),type:"button",onClick:S(w)},[pe(S(Gt),{class:j(S(s).e("close"))},{default:Me(()=>[pe(S(Ac))]),_:1},8,["class"])],10,["aria-label","onClick"])):Je("v-if",!0)],2)):Je("v-if",!0),S(f)?($(),ge("div",{key:1,id:S(p),class:j(S(s).e("body"))},[Qe(C.$slots,"default")],10,["id"])):Je("v-if",!0),C.$slots.footer?($(),ge("div",{key:2,class:j(S(s).e("footer"))},[Qe(C.$slots,"footer")],2)):Je("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[lr,S(d)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var uCe=It(cCe,[["__file","drawer.vue"]]);const dCe=gn(uCe),fCe=Pe({inheritAttrs:!1});function hCe(n,e,t,r,i,a){return Qe(n.$slots,"default")}var pCe=It(fCe,[["render",hCe],["__file","collection.vue"]]);const mCe=Pe({name:"ElCollectionItem",inheritAttrs:!1});function vCe(n,e,t,r,i,a){return Qe(n.$slots,"default")}var gCe=It(mCe,[["render",vCe],["__file","collection-item.vue"]]);const zj="data-el-collection-item",Uj=n=>{const e=`El${n}Collection`,t=`${e}Item`,r=Symbol(e),i=Symbol(t),a={...pCe,name:e,setup(){const o=te(null),l=new Map;Vn(r,{itemMap:l,getItems:()=>{const u=S(o);if(!u)return[];const d=Array.from(u.querySelectorAll(`[${zj}]`));return[...l.values()].sort((h,p)=>d.indexOf(h.ref)-d.indexOf(p.ref))},collectionRef:o})}},s={...gCe,name:t,setup(o,{attrs:l}){const c=te(null),u=Nt(r,void 0);Vn(i,{collectionItemRef:c}),dn(()=>{const d=S(c);d&&u.itemMap.set(d,{ref:d,...l})}),vr(()=>{const d=S(c);u.itemMap.delete(d)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:a,ElCollectionItem:s}},yCe=Et({style:{type:Ke([String,Array,Object])},currentTabId:{type:Ke(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Ke(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:bCe,ElCollectionItem:_Ce,COLLECTION_INJECTION_KEY:j6,COLLECTION_ITEM_INJECTION_KEY:SCe}=Uj("RovingFocusGroup"),Z6=Symbol("elRovingFocusGroup"),Hj=Symbol("elRovingFocusGroupItem"),wCe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},xCe=(n,e)=>{if(e!=="rtl")return n;switch(n){case Ot.right:return Ot.left;case Ot.left:return Ot.right;default:return n}},CCe=(n,e,t)=>{const r=xCe(n.code,t);if(!(e==="vertical"&&[Ot.left,Ot.right].includes(r))&&!(e==="horizontal"&&[Ot.up,Ot.down].includes(r)))return wCe[r]},MCe=(n,e)=>n.map((t,r)=>n[(r+e)%n.length]),Q6=n=>{const{activeElement:e}=document;for(const t of n)if(t===e||(t.focus(),e!==document.activeElement))return},F7="currentTabIdChange",z7="rovingFocusGroup.entryFocus",TCe={bubbles:!1,cancelable:!0},ACe=Pe({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:yCe,emits:[F7,"entryFocus"],setup(n,{emit:e}){var t;const r=te((t=n.currentTabId||n.defaultCurrentTabId)!=null?t:null),i=te(!1),a=te(!1),s=te(null),{getItems:o}=Nt(j6,void 0),l=U(()=>[{outline:"none"},n.style]),c=m=>{e(F7,m)},u=()=>{i.value=!0},d=Ri(m=>{var g;(g=n.onMousedown)==null||g.call(n,m)},()=>{a.value=!0}),f=Ri(m=>{var g;(g=n.onFocus)==null||g.call(n,m)},m=>{const g=!S(a),{target:v,currentTarget:y}=m;if(v===y&&g&&!S(i)){const b=new Event(z7,TCe);if(y==null||y.dispatchEvent(b),!b.defaultPrevented){const _=o().filter(T=>T.focusable),w=_.find(T=>T.active),x=_.find(T=>T.id===S(r)),C=[w,x,..._].filter(Boolean).map(T=>T.ref);Q6(C)}}a.value=!1}),h=Ri(m=>{var g;(g=n.onBlur)==null||g.call(n,m)},()=>{i.value=!1}),p=(...m)=>{e("entryFocus",...m)};Vn(Z6,{currentTabbedId:G0(r),loop:br(n,"loop"),tabIndex:U(()=>S(i)?-1:0),rovingFocusGroupRef:s,rovingFocusGroupRootStyle:l,orientation:br(n,"orientation"),dir:br(n,"dir"),onItemFocus:c,onItemShiftTab:u,onBlur:h,onFocus:f,onMousedown:d}),dt(()=>n.currentTabId,m=>{r.value=m??null}),Ar(s,z7,p)}});function ECe(n,e,t,r,i,a){return Qe(n.$slots,"default")}var ICe=It(ACe,[["render",ECe],["__file","roving-focus-group-impl.vue"]]);const RCe=Pe({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:bCe,ElRovingFocusGroupImpl:ICe}});function PCe(n,e,t,r,i,a){const s=Lt("el-roving-focus-group-impl"),o=Lt("el-focus-group-collection");return $(),rt(o,null,{default:Me(()=>[pe(s,Ll(Md(n.$attrs)),{default:Me(()=>[Qe(n.$slots,"default")]),_:3},16)]),_:3})}var LCe=It(RCe,[["render",PCe],["__file","roving-focus-group.vue"]]);const G2=Et({trigger:u_.trigger,triggerKeys:{type:Ke(Array),default:()=>[Ot.enter,Ot.numpadEnter,Ot.space,Ot.down]},effect:{...Ea.effect,default:"light"},type:{type:Ke(String)},placement:{type:Ke(String),default:"bottom"},popperOptions:{type:Ke(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Ke([Number,String]),default:0},maxHeight:{type:Ke([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:Ke(Object)},teleported:Ea.teleported}),Vj=Et({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Dr}}),DCe=Et({onKeydown:{type:Ke(Function)}}),kCe=[Ot.down,Ot.pageDown,Ot.home],$j=[Ot.up,Ot.pageUp,Ot.end],OCe=[...kCe,...$j],{ElCollection:NCe,ElCollectionItem:BCe,COLLECTION_INJECTION_KEY:FCe,COLLECTION_ITEM_INJECTION_KEY:zCe}=Uj("Dropdown"),iA=Symbol("elDropdown"),{ButtonGroup:UCe}=Ba,HCe=Pe({name:"ElDropdown",components:{ElButton:Ba,ElButtonGroup:UCe,ElScrollbar:Mu,ElDropdownCollection:NCe,ElTooltip:ds,ElRovingFocusGroup:LCe,ElOnlyChild:uX,ElIcon:Gt,ArrowDown:Vd},props:G2,emits:["visible-change","click","command"],setup(n,{emit:e}){const t=wn(),r=yt("dropdown"),{t:i}=nr(),a=te(),s=te(),o=te(null),l=te(null),c=te(null),u=te(null),d=te(!1),f=U(()=>({maxHeight:Pi(n.maxHeight)})),h=U(()=>[r.m(_.value)]),p=U(()=>Is(n.trigger)),m=Ya().value,g=U(()=>n.id||m);dt([a,p],([D,H],[z])=>{var B,W,Z;(B=z==null?void 0:z.$el)!=null&&B.removeEventListener&&z.$el.removeEventListener("pointerenter",x),(W=D==null?void 0:D.$el)!=null&&W.removeEventListener&&D.$el.removeEventListener("pointerenter",x),(Z=D==null?void 0:D.$el)!=null&&Z.addEventListener&&H.includes("hover")&&D.$el.addEventListener("pointerenter",x)},{immediate:!0}),vr(()=>{var D,H;(H=(D=a.value)==null?void 0:D.$el)!=null&&H.removeEventListener&&a.value.$el.removeEventListener("pointerenter",x)});function v(){y()}function y(){var D;(D=o.value)==null||D.onClose()}function b(){var D;(D=o.value)==null||D.onOpen()}const _=ji();function w(...D){e("command",...D)}function x(){var D,H;(H=(D=a.value)==null?void 0:D.$el)==null||H.focus()}function M(){}function C(){const D=S(l);p.value.includes("hover")&&(D==null||D.focus()),u.value=null}function T(D){u.value=D}function A(D){d.value||(D.preventDefault(),D.stopImmediatePropagation())}function I(){e("visible-change",!0)}function L(D){(D==null?void 0:D.type)==="keydown"&&l.value.focus()}function k(){e("visible-change",!1)}return Vn(iA,{contentRef:l,role:U(()=>n.role),triggerId:g,isUsingKeyboard:d,onItemEnter:M,onItemLeave:C}),Vn("elDropdown",{instance:t,dropdownSize:_,handleClick:v,commandHandler:w,trigger:br(n,"trigger"),hideOnClick:br(n,"hideOnClick")}),{t:i,ns:r,scrollbar:c,wrapStyle:f,dropdownTriggerKls:h,dropdownSize:_,triggerId:g,currentTabId:u,handleCurrentTabIdChange:T,handlerMainButtonClick:D=>{e("click",D)},handleEntryFocus:A,handleClose:y,handleOpen:b,handleBeforeShowTooltip:I,handleShowTooltip:L,handleBeforeHideTooltip:k,onFocusAfterTrapped:D=>{var H,z;D.preventDefault(),(z=(H=l.value)==null?void 0:H.focus)==null||z.call(H,{preventScroll:!0})},popperRef:o,contentRef:l,triggeringElementRef:a,referenceElementRef:s}}});function VCe(n,e,t,r,i,a){var s;const o=Lt("el-dropdown-collection"),l=Lt("el-roving-focus-group"),c=Lt("el-scrollbar"),u=Lt("el-only-child"),d=Lt("el-tooltip"),f=Lt("el-button"),h=Lt("arrow-down"),p=Lt("el-icon"),m=Lt("el-button-group");return $(),ge("div",{class:j([n.ns.b(),n.ns.is("disabled",n.disabled)])},[pe(d,{ref:"popperRef",role:n.role,effect:n.effect,"fallback-placements":["bottom","top"],"popper-options":n.popperOptions,"gpu-acceleration":!1,"hide-after":n.trigger==="hover"?n.hideTimeout:0,"manual-mode":!0,placement:n.placement,"popper-class":[n.ns.e("popper"),n.popperClass],"reference-element":(s=n.referenceElementRef)==null?void 0:s.$el,trigger:n.trigger,"trigger-keys":n.triggerKeys,"trigger-target-el":n.contentRef,"show-after":n.trigger==="hover"?n.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":n.triggeringElementRef,"virtual-triggering":n.splitButton,disabled:n.disabled,transition:`${n.ns.namespace.value}-zoom-in-top`,teleported:n.teleported,pure:"",persistent:"",onBeforeShow:n.handleBeforeShowTooltip,onShow:n.handleShowTooltip,onBeforeHide:n.handleBeforeHideTooltip},rl({content:Me(()=>[pe(c,{ref:"scrollbar","wrap-style":n.wrapStyle,tag:"div","view-class":n.ns.e("list")},{default:Me(()=>[pe(l,{loop:n.loop,"current-tab-id":n.currentTabId,orientation:"horizontal",onCurrentTabIdChange:n.handleCurrentTabIdChange,onEntryFocus:n.handleEntryFocus},{default:Me(()=>[pe(o,null,{default:Me(()=>[Qe(n.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[n.splitButton?void 0:{name:"default",fn:Me(()=>[pe(u,{id:n.triggerId,ref:"triggeringElementRef",role:"button",tabindex:n.tabindex},{default:Me(()=>[Qe(n.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),n.splitButton?($(),rt(m,{key:0},{default:Me(()=>[pe(f,Bn({ref:"referenceElementRef"},n.buttonProps,{size:n.dropdownSize,type:n.type,disabled:n.disabled,tabindex:n.tabindex,onClick:n.handlerMainButtonClick}),{default:Me(()=>[Qe(n.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),pe(f,Bn({id:n.triggerId,ref:"triggeringElementRef"},n.buttonProps,{role:"button",size:n.dropdownSize,type:n.type,class:n.ns.e("caret-button"),disabled:n.disabled,tabindex:n.tabindex,"aria-label":n.t("el.dropdown.toggleDropdown")}),{default:Me(()=>[pe(p,{class:j(n.ns.e("icon"))},{default:Me(()=>[pe(h)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Je("v-if",!0)],2)}var $Ce=It(HCe,[["render",VCe],["__file","dropdown.vue"]]);const GCe=Pe({components:{ElRovingFocusCollectionItem:_Ce},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(n,{emit:e}){const{currentTabbedId:t,loop:r,onItemFocus:i,onItemShiftTab:a}=Nt(Z6,void 0),{getItems:s}=Nt(j6,void 0),o=Ya(),l=te(null),c=Ri(h=>{e("mousedown",h)},h=>{n.focusable?i(S(o)):h.preventDefault()}),u=Ri(h=>{e("focus",h)},()=>{i(S(o))}),d=Ri(h=>{e("keydown",h)},h=>{const{code:p,shiftKey:m,target:g,currentTarget:v}=h;if(p===Ot.tab&&m){a();return}if(g!==v)return;const y=CCe(h);if(y){h.preventDefault();let _=s().filter(w=>w.focusable).map(w=>w.ref);switch(y){case"last":{_.reverse();break}case"prev":case"next":{y==="prev"&&_.reverse();const w=_.indexOf(v);_=r.value?MCe(_,w+1):_.slice(w+1);break}}Yt(()=>{Q6(_)})}}),f=U(()=>t.value===S(o));return Vn(Hj,{rovingFocusGroupItemRef:l,tabIndex:U(()=>S(f)?0:-1),handleMousedown:c,handleFocus:u,handleKeydown:d}),{id:o,handleKeydown:d,handleFocus:u,handleMousedown:c}}});function WCe(n,e,t,r,i,a){const s=Lt("el-roving-focus-collection-item");return $(),rt(s,{id:n.id,focusable:n.focusable,active:n.active},{default:Me(()=>[Qe(n.$slots,"default")]),_:3},8,["id","focusable","active"])}var qCe=It(GCe,[["render",WCe],["__file","roving-focus-item.vue"]]);const KCe=Pe({name:"DropdownItemImpl",components:{ElIcon:Gt},props:Vj,emits:["pointermove","pointerleave","click","clickimpl"],setup(n,{emit:e}){const t=yt("dropdown"),{role:r}=Nt(iA,void 0),{collectionItemRef:i}=Nt(zCe,void 0),{collectionItemRef:a}=Nt(SCe,void 0),{rovingFocusGroupItemRef:s,tabIndex:o,handleFocus:l,handleKeydown:c,handleMousedown:u}=Nt(Hj,void 0),d=rA(i,a,s),f=U(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),h=Ri(p=>{if([Ot.enter,Ot.numpadEnter,Ot.space].includes(p.code))return p.preventDefault(),p.stopImmediatePropagation(),e("clickimpl",p),!0},c);return{ns:t,itemRef:d,dataset:{[zj]:""},role:f,tabIndex:o,handleFocus:l,handleKeydown:h,handleMousedown:u}}});function YCe(n,e,t,r,i,a){const s=Lt("el-icon");return $(),ge(Bt,null,[n.divided?($(),ge("li",{key:0,role:"separator",class:j(n.ns.bem("menu","item","divided"))},null,2)):Je("v-if",!0),_e("li",Bn({ref:n.itemRef},{...n.dataset,...n.$attrs},{"aria-disabled":n.disabled,class:[n.ns.be("menu","item"),n.ns.is("disabled",n.disabled)],tabindex:n.tabIndex,role:n.role,onClick:o=>n.$emit("clickimpl",o),onFocus:n.handleFocus,onKeydown:sn(n.handleKeydown,["self"]),onMousedown:n.handleMousedown,onPointermove:o=>n.$emit("pointermove",o),onPointerleave:o=>n.$emit("pointerleave",o)}),[n.icon?($(),rt(s,{key:0},{default:Me(()=>[($(),rt(Rn(n.icon)))]),_:1})):Je("v-if",!0),Qe(n.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var XCe=It(KCe,[["render",YCe],["__file","dropdown-item-impl.vue"]]);const Gj=()=>{const n=Nt("elDropdown",{}),e=U(()=>n==null?void 0:n.dropdownSize);return{elDropdown:n,_elDropdownSize:e}},jCe=Pe({name:"ElDropdownItem",components:{ElDropdownCollectionItem:BCe,ElRovingFocusItem:qCe,ElDropdownItemImpl:XCe},inheritAttrs:!1,props:Vj,emits:["pointermove","pointerleave","click"],setup(n,{emit:e,attrs:t}){const{elDropdown:r}=Gj(),i=wn(),a=te(null),s=U(()=>{var h,p;return(p=(h=S(a))==null?void 0:h.textContent)!=null?p:""}),{onItemEnter:o,onItemLeave:l}=Nt(iA,void 0),c=Ri(h=>(e("pointermove",h),h.defaultPrevented),m7(h=>{if(n.disabled){l(h);return}const p=h.currentTarget;p===document.activeElement||p.contains(document.activeElement)||(o(h),h.defaultPrevented||p==null||p.focus())})),u=Ri(h=>(e("pointerleave",h),h.defaultPrevented),m7(l)),d=Ri(h=>{if(!n.disabled)return e("click",h),h.type!=="keydown"&&h.defaultPrevented},h=>{var p,m,g;if(n.disabled){h.stopImmediatePropagation();return}(p=r==null?void 0:r.hideOnClick)!=null&&p.value&&((m=r.handleClick)==null||m.call(r)),(g=r.commandHandler)==null||g.call(r,n.command,i,h)}),f=U(()=>({...n,...t}));return{handleClick:d,handlePointerMove:c,handlePointerLeave:u,textContent:s,propsAndAttrs:f}}});function ZCe(n,e,t,r,i,a){var s;const o=Lt("el-dropdown-item-impl"),l=Lt("el-roving-focus-item"),c=Lt("el-dropdown-collection-item");return $(),rt(c,{disabled:n.disabled,"text-value":(s=n.textValue)!=null?s:n.textContent},{default:Me(()=>[pe(l,{focusable:!n.disabled},{default:Me(()=>[pe(o,Bn(n.propsAndAttrs,{onPointerleave:n.handlePointerLeave,onPointermove:n.handlePointerMove,onClickimpl:n.handleClick}),{default:Me(()=>[Qe(n.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Wj=It(jCe,[["render",ZCe],["__file","dropdown-item.vue"]]);const QCe=Pe({name:"ElDropdownMenu",props:DCe,setup(n){const e=yt("dropdown"),{_elDropdownSize:t}=Gj(),r=t.value,{focusTrapRef:i,onKeydown:a}=Nt(C6,void 0),{contentRef:s,role:o,triggerId:l}=Nt(iA,void 0),{collectionRef:c,getItems:u}=Nt(FCe,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:f,tabIndex:h,onBlur:p,onFocus:m,onMousedown:g}=Nt(Z6,void 0),{collectionRef:v}=Nt(j6,void 0),y=U(()=>[e.b("menu"),e.bm("menu",r==null?void 0:r.value)]),b=rA(s,c,i,d,v),_=Ri(x=>{var M;(M=n.onKeydown)==null||M.call(n,x)},x=>{const{currentTarget:M,code:C,target:T}=x;if(M.contains(T),Ot.tab===C&&x.stopImmediatePropagation(),x.preventDefault(),T!==S(s)||!OCe.includes(C))return;const I=u().filter(L=>!L.disabled).map(L=>L.ref);$j.includes(C)&&I.reverse(),Q6(I)});return{size:r,rovingFocusGroupRootStyle:f,tabIndex:h,dropdownKls:y,role:o,triggerId:l,dropdownListWrapperRef:b,handleKeydown:x=>{_(x),a(x)},onBlur:p,onFocus:m,onMousedown:g}}});function JCe(n,e,t,r,i,a){return $(),ge("ul",{ref:n.dropdownListWrapperRef,class:j(n.dropdownKls),style:Ft(n.rovingFocusGroupRootStyle),tabindex:-1,role:n.role,"aria-labelledby":n.triggerId,onBlur:n.onBlur,onFocus:n.onFocus,onKeydown:sn(n.handleKeydown,["self"]),onMousedown:sn(n.onMousedown,["self"])},[Qe(n.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var qj=It(QCe,[["render",JCe],["__file","dropdown-menu.vue"]]);const eMe=gn($Ce,{DropdownItem:Wj,DropdownMenu:qj}),tMe=Ci(Wj),nMe=Ci(qj),rMe=Pe({name:"ImgEmpty"}),iMe=Pe({...rMe,setup(n){const e=yt("empty"),t=Ya();return(r,i)=>($(),ge("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[_e("defs",null,[_e("linearGradient",{id:`linearGradient-1-${S(t)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[_e("stop",{"stop-color":`var(${S(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),_e("stop",{"stop-color":`var(${S(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),_e("linearGradient",{id:`linearGradient-2-${S(t)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[_e("stop",{"stop-color":`var(${S(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),_e("stop",{"stop-color":`var(${S(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),_e("rect",{id:`path-3-${S(t)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),_e("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[_e("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[_e("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[_e("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${S(e).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),_e("polygon",{id:"Rectangle-Copy-14",fill:`var(${S(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),_e("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[_e("polygon",{id:"Rectangle-Copy-10",fill:`var(${S(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),_e("polygon",{id:"Rectangle-Copy-11",fill:`var(${S(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),_e("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${S(t)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),_e("polygon",{id:"Rectangle-Copy-13",fill:`var(${S(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),_e("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${S(t)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),_e("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[_e("use",{id:"Mask",fill:`var(${S(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${S(t)}`},null,8,["fill","xlink:href"]),_e("polygon",{id:"Rectangle-Copy",fill:`var(${S(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${S(t)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),_e("polygon",{id:"Rectangle-Copy-18",fill:`var(${S(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var aMe=It(iMe,[["__file","img-empty.vue"]]);const sMe=Et({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),oMe=Pe({name:"ElEmpty"}),lMe=Pe({...oMe,props:sMe,setup(n){const e=n,{t}=nr(),r=yt("empty"),i=U(()=>e.description||t("el.table.emptyText")),a=U(()=>({width:Pi(e.imageSize)}));return(s,o)=>($(),ge("div",{class:j(S(r).b())},[_e("div",{class:j(S(r).e("image")),style:Ft(S(a))},[s.image?($(),ge("img",{key:0,src:s.image,ondragstart:"return false"},null,8,["src"])):Qe(s.$slots,"image",{key:1},()=>[pe(aMe)])],6),_e("div",{class:j(S(r).e("description"))},[s.$slots.description?Qe(s.$slots,"description",{key:0}):($(),ge("p",{key:1},_t(S(i)),1))],2),s.$slots.default?($(),ge("div",{key:0,class:j(S(r).e("bottom"))},[Qe(s.$slots,"default")],2)):Je("v-if",!0)],2))}});var cMe=It(lMe,[["__file","empty.vue"]]);const Kj=gn(cMe),uMe=Et({size:{type:String,values:Cu},disabled:Boolean}),dMe=Et({...uMe,model:Object,rules:{type:Ke(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),fMe={validate:(n,e,t)=>(St(n)||qt(n))&&Vr(e)&&qt(t)};function hMe(){const n=te([]),e=U(()=>{if(!n.value.length)return"0";const a=Math.max(...n.value);return a?`${a}px`:""});function t(a){const s=n.value.indexOf(a);return s===-1&&e.value,s}function r(a,s){if(a&&s){const o=t(s);n.value.splice(o,1,a)}else a&&n.value.push(a)}function i(a){const s=t(a);s>-1&&n.value.splice(s,1)}return{autoLabelWidth:e,registerLabelWidth:r,deregisterLabelWidth:i}}const Ew=(n,e)=>{const t=Is(e);return t.length>0?n.filter(r=>r.prop&&t.includes(r.prop)):n},pMe="ElForm",mMe=Pe({name:pMe}),vMe=Pe({...mMe,props:dMe,emits:fMe,setup(n,{expose:e,emit:t}){const r=n,i=[],a=ji(),s=yt("form"),o=U(()=>{const{labelPosition:b,inline:_}=r;return[s.b(),s.m(a.value||"default"),{[s.m(`label-${b}`)]:b,[s.m("inline")]:_}]}),l=b=>i.find(_=>_.prop===b),c=b=>{i.push(b)},u=b=>{b.prop&&i.splice(i.indexOf(b),1)},d=(b=[])=>{r.model&&Ew(i,b).forEach(_=>_.resetField())},f=(b=[])=>{Ew(i,b).forEach(_=>_.clearValidate())},h=U(()=>!!r.model),p=b=>{if(i.length===0)return[];const _=Ew(i,b);return _.length?_:[]},m=async b=>v(void 0,b),g=async(b=[])=>{if(!h.value)return!1;const _=p(b);if(_.length===0)return!0;let w={};for(const x of _)try{await x.validate("")}catch(M){w={...w,...M}}return Object.keys(w).length===0?!0:Promise.reject(w)},v=async(b=[],_)=>{const w=!Kt(_);try{const x=await g(b);return x===!0&&await(_==null?void 0:_(x)),x}catch(x){if(x instanceof Error)throw x;const M=x;return r.scrollToError&&y(Object.keys(M)[0]),await(_==null?void 0:_(!1,M)),w&&Promise.reject(M)}},y=b=>{var _;const w=Ew(i,b)[0];w&&((_=w.$el)==null||_.scrollIntoView(r.scrollIntoViewOptions))};return dt(()=>r.rules,()=>{r.validateOnRuleChange&&m().catch(b=>void 0)},{deep:!0}),Vn(X0,pr({...aa(r),emit:t,resetFields:d,clearValidate:f,validateField:v,getField:l,addField:c,removeField:u,...hMe()})),e({validate:m,validateField:v,resetFields:d,clearValidate:f,scrollToField:y,fields:i}),(b,_)=>($(),ge("form",{class:j(S(o))},[Qe(b.$slots,"default")],2))}});var gMe=It(vMe,[["__file","form.vue"]]);function Vp(){return Vp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Vp.apply(this,arguments)}function yMe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,h_(n,e)}function e5(n){return e5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},e5(n)}function h_(n,e){return h_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},h_(n,e)}function bMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function W2(n,e,t){return bMe()?W2=Reflect.construct.bind():W2=function(i,a,s){var o=[null];o.push.apply(o,a);var l=Function.bind.apply(i,o),c=new l;return s&&h_(c,s.prototype),c},W2.apply(null,arguments)}function _Me(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function t5(n){var e=typeof Map=="function"?new Map:void 0;return t5=function(r){if(r===null||!_Me(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return W2(r,arguments,e5(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),h_(i,r)},t5(n)}var SMe=/%[sdj%]/g,wMe=function(){};typeof process<"u"&&process.env;function n5(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function Ko(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=0,a=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var s=n.replace(SMe,function(o){if(o==="%%")return"%";if(i>=a)return o;switch(o){case"%s":return String(t[i++]);case"%d":return Number(t[i++]);case"%j":try{return JSON.stringify(t[i++])}catch{return"[Circular]"}break;default:return o}});return s}return n}function xMe(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function za(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||xMe(e)&&typeof n=="string"&&!n)}function CMe(n,e,t){var r=[],i=0,a=n.length;function s(o){r.push.apply(r,o||[]),i++,i===a&&t(r)}n.forEach(function(o){e(o,s)})}function U7(n,e,t){var r=0,i=n.length;function a(s){if(s&&s.length){t(s);return}var o=r;r=r+1,o<i?e(n[o],a):t([])}a([])}function MMe(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t]||[])}),e}var H7=function(n){yMe(e,n);function e(t,r){var i;return i=n.call(this,"Async Validation Error")||this,i.errors=t,i.fields=r,i}return e}(t5(Error));function TMe(n,e,t,r,i){if(e.first){var a=new Promise(function(f,h){var p=function(v){return r(v),v.length?h(new H7(v,n5(v))):f(i)},m=MMe(n);U7(m,t,p)});return a.catch(function(f){return f}),a}var s=e.firstFields===!0?Object.keys(n):e.firstFields||[],o=Object.keys(n),l=o.length,c=0,u=[],d=new Promise(function(f,h){var p=function(g){if(u.push.apply(u,g),c++,c===l)return r(u),u.length?h(new H7(u,n5(u))):f(i)};o.length||(r(u),f(i)),o.forEach(function(m){var g=n[m];s.indexOf(m)!==-1?U7(g,t,p):CMe(g,t,p)})});return d.catch(function(f){return f}),d}function AMe(n){return!!(n&&n.message!==void 0)}function EMe(n,e){for(var t=n,r=0;r<e.length;r++){if(t==null)return t;t=t[e[r]]}return t}function V7(n,e){return function(t){var r;return n.fullFields?r=EMe(e,n.fullFields):r=e[t.field||n.fullField],AMe(t)?(t.field=t.field||n.fullField,t.fieldValue=r,t):{message:typeof t=="function"?t():t,fieldValue:r,field:t.field||n.fullField}}}function $7(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];typeof r=="object"&&typeof n[t]=="object"?n[t]=Vp({},n[t],r):n[t]=r}}return n}var Yj=function(e,t,r,i,a,s){e.required&&(!r.hasOwnProperty(e.field)||za(t,s||e.type))&&i.push(Ko(a.messages.required,e.fullField))},IMe=function(e,t,r,i,a){(/^\s+$/.test(t)||t==="")&&i.push(Ko(a.messages.whitespace,e.fullField))},Iw,RMe=function(){if(Iw)return Iw;var n="[a-fA-F\\d:]",e=function(_){return _&&_.includeBoundaries?"(?:(?<=\\s|^)(?="+n+")|(?<="+n+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+t+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+t+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+t+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+t+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+t+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+t+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+t+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+t+"$)|(?:^"+i+"$)"),s=new RegExp("^"+t+"$"),o=new RegExp("^"+i+"$"),l=function(_){return _&&_.exact?a:new RegExp("(?:"+e(_)+t+e(_)+")|(?:"+e(_)+i+e(_)+")","g")};l.v4=function(b){return b&&b.exact?s:new RegExp(""+e(b)+t+e(b),"g")},l.v6=function(b){return b&&b.exact?o:new RegExp(""+e(b)+i+e(b),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,f=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",g="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',y="(?:"+c+"|www\\.)"+u+"(?:localhost|"+d+"|"+f+"|"+h+p+m+")"+g+v;return Iw=new RegExp("(?:^"+y+"$)","i"),Iw},G7={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},q1={integer:function(e){return q1.number(e)&&parseInt(e,10)===e},float:function(e){return q1.number(e)&&!q1.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!q1.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(G7.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(RMe())},hex:function(e){return typeof e=="string"&&!!e.match(G7.hex)}},PMe=function(e,t,r,i,a){if(e.required&&t===void 0){Yj(e,t,r,i,a);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;s.indexOf(o)>-1?q1[o](t)||i.push(Ko(a.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&i.push(Ko(a.messages.types[o],e.fullField,e.type))},LMe=function(e,t,r,i,a){var s=typeof e.len=="number",o=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=t,d=null,f=typeof t=="number",h=typeof t=="string",p=Array.isArray(t);if(f?d="number":h?d="string":p&&(d="array"),!d)return!1;p&&(u=t.length),h&&(u=t.replace(c,"_").length),s?u!==e.len&&i.push(Ko(a.messages[d].len,e.fullField,e.len)):o&&!l&&u<e.min?i.push(Ko(a.messages[d].min,e.fullField,e.min)):l&&!o&&u>e.max?i.push(Ko(a.messages[d].max,e.fullField,e.max)):o&&l&&(u<e.min||u>e.max)&&i.push(Ko(a.messages[d].range,e.fullField,e.min,e.max))},fm="enum",DMe=function(e,t,r,i,a){e[fm]=Array.isArray(e[fm])?e[fm]:[],e[fm].indexOf(t)===-1&&i.push(Ko(a.messages[fm],e.fullField,e[fm].join(", ")))},kMe=function(e,t,r,i,a){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||i.push(Ko(a.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(t)||i.push(Ko(a.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},$r={required:Yj,whitespace:IMe,type:PMe,range:LMe,enum:DMe,pattern:kMe},OMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(za(t,"string")&&!e.required)return r();$r.required(e,t,i,s,a,"string"),za(t,"string")||($r.type(e,t,i,s,a),$r.range(e,t,i,s,a),$r.pattern(e,t,i,s,a),e.whitespace===!0&&$r.whitespace(e,t,i,s,a))}r(s)},NMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(za(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&$r.type(e,t,i,s,a)}r(s)},BMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(t===""&&(t=void 0),za(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&($r.type(e,t,i,s,a),$r.range(e,t,i,s,a))}r(s)},FMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(za(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&$r.type(e,t,i,s,a)}r(s)},zMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(za(t)&&!e.required)return r();$r.required(e,t,i,s,a),za(t)||$r.type(e,t,i,s,a)}r(s)},UMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(za(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&($r.type(e,t,i,s,a),$r.range(e,t,i,s,a))}r(s)},HMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(za(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&($r.type(e,t,i,s,a),$r.range(e,t,i,s,a))}r(s)},VMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(t==null&&!e.required)return r();$r.required(e,t,i,s,a,"array"),t!=null&&($r.type(e,t,i,s,a),$r.range(e,t,i,s,a))}r(s)},$Me=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(za(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&$r.type(e,t,i,s,a)}r(s)},GMe="enum",WMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(za(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&$r[GMe](e,t,i,s,a)}r(s)},qMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(za(t,"string")&&!e.required)return r();$r.required(e,t,i,s,a),za(t,"string")||$r.pattern(e,t,i,s,a)}r(s)},KMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(za(t,"date")&&!e.required)return r();if($r.required(e,t,i,s,a),!za(t,"date")){var l;t instanceof Date?l=t:l=new Date(t),$r.type(e,l,i,s,a),l&&$r.range(e,l.getTime(),i,s,a)}}r(s)},YMe=function(e,t,r,i,a){var s=[],o=Array.isArray(t)?"array":typeof t;$r.required(e,t,i,s,a,o),r(s)},jE=function(e,t,r,i,a){var s=e.type,o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(za(t,s)&&!e.required)return r();$r.required(e,t,i,o,a,s),za(t,s)||$r.type(e,t,i,o,a)}r(o)},XMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(za(t)&&!e.required)return r();$r.required(e,t,i,s,a)}r(s)},pb={string:OMe,method:NMe,number:BMe,boolean:FMe,regexp:zMe,integer:UMe,float:HMe,array:VMe,object:$Me,enum:WMe,pattern:qMe,date:KMe,url:jE,hex:jE,email:jE,required:YMe,any:XMe};function r5(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var i5=r5(),IS=function(){function n(t){this.rules=null,this._messages=i5,this.define(t)}var e=n.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(a){var s=r[a];i.rules[a]=Array.isArray(s)?s:[s]})},e.messages=function(r){return r&&(this._messages=$7(r5(),r)),this._messages},e.validate=function(r,i,a){var s=this;i===void 0&&(i={}),a===void 0&&(a=function(){});var o=r,l=i,c=a;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,o),Promise.resolve(o);function u(m){var g=[],v={};function y(_){if(Array.isArray(_)){var w;g=(w=g).concat.apply(w,_)}else g.push(_)}for(var b=0;b<m.length;b++)y(m[b]);g.length?(v=n5(g),c(g,v)):c(null,o)}if(l.messages){var d=this.messages();d===i5&&(d=r5()),$7(d,l.messages),l.messages=d}else l.messages=this.messages();var f={},h=l.keys||Object.keys(this.rules);h.forEach(function(m){var g=s.rules[m],v=o[m];g.forEach(function(y){var b=y;typeof b.transform=="function"&&(o===r&&(o=Vp({},o)),v=o[m]=b.transform(v)),typeof b=="function"?b={validator:b}:b=Vp({},b),b.validator=s.getValidationMethod(b),b.validator&&(b.field=m,b.fullField=b.fullField||m,b.type=s.getType(b),f[m]=f[m]||[],f[m].push({rule:b,value:v,source:o,field:m}))})});var p={};return TMe(f,l,function(m,g){var v=m.rule,y=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");y=y&&(v.required||!v.required&&m.value),v.field=m.field;function b(x,M){return Vp({},M,{fullField:v.fullField+"."+x,fullFields:v.fullFields?[].concat(v.fullFields,[x]):[x]})}function _(x){x===void 0&&(x=[]);var M=Array.isArray(x)?x:[x];!l.suppressWarning&&M.length&&n.warning("async-validator:",M),M.length&&v.message!==void 0&&(M=[].concat(v.message));var C=M.map(V7(v,o));if(l.first&&C.length)return p[v.field]=1,g(C);if(!y)g(C);else{if(v.required&&!m.value)return v.message!==void 0?C=[].concat(v.message).map(V7(v,o)):l.error&&(C=[l.error(v,Ko(l.messages.required,v.field))]),g(C);var T={};v.defaultField&&Object.keys(m.value).map(function(L){T[L]=v.defaultField}),T=Vp({},T,m.rule.fields);var A={};Object.keys(T).forEach(function(L){var k=T[L],N=Array.isArray(k)?k:[k];A[L]=N.map(b.bind(null,L))});var I=new n(A);I.messages(l.messages),m.rule.options&&(m.rule.options.messages=l.messages,m.rule.options.error=l.error),I.validate(m.value,m.rule.options||l,function(L){var k=[];C&&C.length&&k.push.apply(k,C),L&&L.length&&k.push.apply(k,L),g(k.length?k:null)})}}var w;if(v.asyncValidator)w=v.asyncValidator(v,m.value,_,m.source,l);else if(v.validator){try{w=v.validator(v,m.value,_,m.source,l)}catch(x){console.error==null||console.error(x),l.suppressValidatorError||setTimeout(function(){throw x},0),_(x.message)}w===!0?_():w===!1?_(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||(v.fullField||v.field)+" fails"):w instanceof Array?_(w):w instanceof Error&&_(w.message)}w&&w.then&&w.then(function(){return _()},function(x){return _(x)})},function(m){u(m)},o)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!pb.hasOwnProperty(r.type))throw new Error(Ko("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),a=i.indexOf("message");return a!==-1&&i.splice(a,1),i.length===1&&i[0]==="required"?pb.required:pb[this.getType(r)]||void 0},n}();IS.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");pb[e]=t};IS.warning=wMe;IS.messages=i5;IS.validators=pb;const jMe=["","error","validating","success"],ZMe=Et({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:Ke([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Ke([Object,Array])},error:String,validateStatus:{type:String,values:jMe},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Cu}}),W7="ElLabelWrap";var QMe=Pe({name:W7,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(n,{slots:e}){const t=Nt(X0,void 0),r=Nt(vu);r||va(W7,"usage: <el-form-item><label-wrap /></el-form-item>");const i=yt("form"),a=te(),s=te(0),o=()=>{var u;if((u=a.value)!=null&&u.firstElementChild){const d=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},l=(u="update")=>{Yt(()=>{e.default&&n.isAutoWidth&&(u==="update"?s.value=o():u==="remove"&&(t==null||t.deregisterLabelWidth(s.value)))})},c=()=>l("update");return dn(()=>{c()}),vr(()=>{l("remove")}),Io(()=>c()),dt(s,(u,d)=>{n.updateAll&&(t==null||t.registerLabelWidth(u,d))}),hi(U(()=>{var u,d;return(d=(u=a.value)==null?void 0:u.firstElementChild)!=null?d:null}),c),()=>{var u,d;if(!e)return null;const{isAutoWidth:f}=n;if(f){const h=t==null?void 0:t.autoLabelWidth,p=r==null?void 0:r.hasLabel,m={};if(p&&h&&h!=="auto"){const g=Math.max(0,Number.parseInt(h,10)-s.value),y=(r.labelPosition||t.labelPosition)==="left"?"marginRight":"marginLeft";g&&(m[y]=`${g}px`)}return pe("div",{ref:a,class:[i.be("item","label-wrap")],style:m},[(u=e.default)==null?void 0:u.call(e)])}else return pe(Bt,{ref:a},[(d=e.default)==null?void 0:d.call(e)])}}});const JMe=Pe({name:"ElFormItem"}),eTe=Pe({...JMe,props:ZMe,setup(n,{expose:e}){const t=n,r=Qi(),i=Nt(X0,void 0),a=Nt(vu,void 0),s=ji(void 0,{formItem:!1}),o=yt("form-item"),l=Ya().value,c=te([]),u=te(""),d=dme(u,100),f=te(""),h=te();let p,m=!1;const g=U(()=>t.labelPosition||(i==null?void 0:i.labelPosition)),v=U(()=>{if(g.value==="top")return{};const Re=Pi(t.labelWidth||(i==null?void 0:i.labelWidth)||"");return Re?{width:Re}:{}}),y=U(()=>{if(g.value==="top"||i!=null&&i.inline)return{};if(!t.label&&!t.labelWidth&&A)return{};const Re=Pi(t.labelWidth||(i==null?void 0:i.labelWidth)||"");return!t.label&&!r.label?{marginLeft:Re}:{}}),b=U(()=>[o.b(),o.m(s.value),o.is("error",u.value==="error"),o.is("validating",u.value==="validating"),o.is("success",u.value==="success"),o.is("required",F.value||t.required),o.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[o.m("feedback")]:i==null?void 0:i.statusIcon,[o.m(`label-${g.value}`)]:g.value}]),_=U(()=>Vr(t.inlineMessage)?t.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),w=U(()=>[o.e("error"),{[o.em("error","inline")]:_.value}]),x=U(()=>t.prop?qt(t.prop)?t.prop:t.prop.join("."):""),M=U(()=>!!(t.label||r.label)),C=U(()=>t.for||(c.value.length===1?c.value[0]:void 0)),T=U(()=>!C.value&&M.value),A=!!a,I=U(()=>{const Re=i==null?void 0:i.model;if(!(!Re||!t.prop))return z2(Re,t.prop).value}),L=U(()=>{const{required:Re}=t,De=[];t.rules&&De.push(...Is(t.rules));const Ge=i==null?void 0:i.rules;if(Ge&&t.prop){const We=z2(Ge,t.prop).value;We&&De.push(...Is(We))}if(Re!==void 0){const We=De.map((K,ue)=>[K,ue]).filter(([K])=>Object.keys(K).includes("required"));if(We.length>0)for(const[K,ue]of We)K.required!==Re&&(De[ue]={...K,required:Re});else De.push({required:Re})}return De}),k=U(()=>L.value.length>0),N=Re=>L.value.filter(Ge=>!Ge.trigger||!Re?!0:St(Ge.trigger)?Ge.trigger.includes(Re):Ge.trigger===Re).map(({trigger:Ge,...We})=>We),F=U(()=>L.value.some(Re=>Re.required)),D=U(()=>{var Re;return d.value==="error"&&t.showMessage&&((Re=i==null?void 0:i.showMessage)!=null?Re:!0)}),H=U(()=>`${t.label||""}${(i==null?void 0:i.labelSuffix)||""}`),z=Re=>{u.value=Re},B=Re=>{var De,Ge;const{errors:We,fields:K}=Re;(!We||!K)&&console.error(Re),z("error"),f.value=We?(Ge=(De=We==null?void 0:We[0])==null?void 0:De.message)!=null?Ge:`${t.prop} is required`:"",i==null||i.emit("validate",t.prop,!1,f.value)},W=()=>{z("success"),i==null||i.emit("validate",t.prop,!0,"")},Z=async Re=>{const De=x.value;return new IS({[De]:Re}).validate({[De]:I.value},{firstFields:!0}).then(()=>(W(),!0)).catch(We=>(B(We),Promise.reject(We)))},ee=async(Re,De)=>{if(m||!t.prop)return!1;const Ge=Kt(De);if(!k.value)return De==null||De(!1),!1;const We=N(Re);return We.length===0?(De==null||De(!0),!0):(z("validating"),Z(We).then(()=>(De==null||De(!0),!0)).catch(K=>{const{fields:ue}=K;return De==null||De(!1,ue),Ge?!1:Promise.reject(ue)}))},J=()=>{z(""),f.value="",m=!1},re=async()=>{const Re=i==null?void 0:i.model;if(!Re||!t.prop)return;const De=z2(Re,t.prop);m=!0,De.value=xF(p),await Yt(),J(),m=!1},fe=Re=>{c.value.includes(Re)||c.value.push(Re)},de=Re=>{c.value=c.value.filter(De=>De!==Re)};dt(()=>t.error,Re=>{f.value=Re||"",z(Re?"error":"")},{immediate:!0}),dt(()=>t.validateStatus,Re=>z(Re||""));const me=pr({...aa(t),$el:h,size:s,validateState:u,labelId:l,inputIds:c,isGroup:T,hasLabel:M,fieldValue:I,addInputId:fe,removeInputId:de,resetField:re,clearValidate:J,validate:ee});return Vn(vu,me),dn(()=>{t.prop&&(i==null||i.addField(me),p=xF(I.value))}),vr(()=>{i==null||i.removeField(me)}),e({size:s,validateMessage:f,validateState:u,validate:ee,clearValidate:J,resetField:re}),(Re,De)=>{var Ge;return $(),ge("div",{ref_key:"formItemRef",ref:h,class:j(S(b)),role:S(T)?"group":void 0,"aria-labelledby":S(T)?S(l):void 0},[pe(S(QMe),{"is-auto-width":S(v).width==="auto","update-all":((Ge=S(i))==null?void 0:Ge.labelWidth)==="auto"},{default:Me(()=>[S(M)?($(),rt(Rn(S(C)?"label":"div"),{key:0,id:S(l),for:S(C),class:j(S(o).e("label")),style:Ft(S(v))},{default:Me(()=>[Qe(Re.$slots,"label",{label:S(H)},()=>[un(_t(S(H)),1)])]),_:3},8,["id","for","class","style"])):Je("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),_e("div",{class:j(S(o).e("content")),style:Ft(S(y))},[Qe(Re.$slots,"default"),pe(WD,{name:`${S(o).namespace.value}-zoom-in-top`},{default:Me(()=>[S(D)?Qe(Re.$slots,"error",{key:0,error:f.value},()=>[_e("div",{class:j(S(w))},_t(f.value),3)]):Je("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var Xj=It(eTe,[["__file","form-item.vue"]]);const tTe=gn(gMe,{FormItem:Xj}),nTe=Ci(Xj),rTe=Et({urlList:{type:Ke(Array),default:()=>wi([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Ke(String)}}),iTe={close:()=>!0,switch:n=>en(n),rotate:n=>en(n)},aTe=Pe({name:"ElImageViewer"}),sTe=Pe({...aTe,props:rTe,emits:iTe,setup(n,{expose:e,emit:t}){var r;const i=n,a={CONTAIN:{name:"contain",icon:ou(Pve)},ORIGINAL:{name:"original",icon:ou(tge)}},{t:s}=nr(),o=yt("image-viewer"),{nextZIndex:l}=my(),c=te(),u=te([]),d=SD(),f=te(!0),h=te(i.initialIndex),p=Cr(a.CONTAIN),m=te({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),g=te((r=i.zIndex)!=null?r:l()),v=U(()=>{const{urlList:ee}=i;return ee.length<=1}),y=U(()=>h.value===0),b=U(()=>h.value===i.urlList.length-1),_=U(()=>i.urlList[h.value]),w=U(()=>[o.e("btn"),o.e("prev"),o.is("disabled",!i.infinite&&y.value)]),x=U(()=>[o.e("btn"),o.e("next"),o.is("disabled",!i.infinite&&b.value)]),M=U(()=>{const{scale:ee,deg:J,offsetX:re,offsetY:fe,enableTransition:de}=m.value;let me=re/ee,Re=fe/ee;const De=J*Math.PI/180,Ge=Math.cos(De),We=Math.sin(De);me=me*Ge+Re*We,Re=Re*Ge-re/ee*We;const K={transform:`scale(${ee}) rotate(${J}deg) translate(${me}px, ${Re}px)`,transition:de?"transform .3s":""};return p.value.name===a.CONTAIN.name&&(K.maxWidth=K.maxHeight="100%"),K});function C(){A(),t("close")}function T(){const ee=o0(re=>{switch(re.code){case Ot.esc:i.closeOnPressEscape&&C();break;case Ot.space:F();break;case Ot.left:H();break;case Ot.up:B("zoomIn");break;case Ot.right:z();break;case Ot.down:B("zoomOut");break}}),J=o0(re=>{const fe=re.deltaY||re.deltaX;B(fe<0?"zoomIn":"zoomOut",{zoomRate:i.zoomRate,enableTransition:!1})});d.run(()=>{Ar(document,"keydown",ee),Ar(document,"wheel",J)})}function A(){d.stop()}function I(){f.value=!1}function L(ee){f.value=!1,ee.target.alt=s("el.image.error")}function k(ee){if(f.value||ee.button!==0||!c.value)return;m.value.enableTransition=!1;const{offsetX:J,offsetY:re}=m.value,fe=ee.pageX,de=ee.pageY,me=o0(De=>{m.value={...m.value,offsetX:J+De.pageX-fe,offsetY:re+De.pageY-de}}),Re=Ar(document,"mousemove",me);Ar(document,"mouseup",()=>{Re()}),ee.preventDefault()}function N(){m.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function F(){if(f.value)return;const ee=xg(a),J=Object.values(a),re=p.value.name,de=(J.findIndex(me=>me.name===re)+1)%ee.length;p.value=a[ee[de]],N()}function D(ee){const J=i.urlList.length;h.value=(ee+J)%J}function H(){y.value&&!i.infinite||D(h.value-1)}function z(){b.value&&!i.infinite||D(h.value+1)}function B(ee,J={}){if(f.value)return;const{minScale:re,maxScale:fe}=i,{zoomRate:de,rotateDeg:me,enableTransition:Re}={zoomRate:i.zoomRate,rotateDeg:90,enableTransition:!0,...J};switch(ee){case"zoomOut":m.value.scale>re&&(m.value.scale=Number.parseFloat((m.value.scale/de).toFixed(3)));break;case"zoomIn":m.value.scale<fe&&(m.value.scale=Number.parseFloat((m.value.scale*de).toFixed(3)));break;case"clockwise":m.value.deg+=me,t("rotate",m.value.deg);break;case"anticlockwise":m.value.deg-=me,t("rotate",m.value.deg);break}m.value.enableTransition=Re}function W(ee){var J;((J=ee.detail)==null?void 0:J.focusReason)==="pointer"&&ee.preventDefault()}function Z(){i.closeOnPressEscape&&C()}return dt(_,()=>{Yt(()=>{const ee=u.value[0];ee!=null&&ee.complete||(f.value=!0)})}),dt(h,ee=>{N(),t("switch",ee)}),dn(()=>{T()}),e({setActiveItem:D}),(ee,J)=>($(),rt(S(yy),{to:"body",disabled:!ee.teleported},{default:Me(()=>[pe(sa,{name:"viewer-fade",appear:""},{default:Me(()=>[_e("div",{ref_key:"wrapper",ref:c,tabindex:-1,class:j(S(o).e("wrapper")),style:Ft({zIndex:g.value})},[pe(S(gy),{loop:"",trapped:"","focus-trap-el":c.value,"focus-start-el":"container",onFocusoutPrevented:W,onReleaseRequested:Z},{default:Me(()=>[_e("div",{class:j(S(o).e("mask")),onClick:sn(re=>ee.hideOnClickModal&&C(),["self"])},null,10,["onClick"]),Je(" CLOSE "),_e("span",{class:j([S(o).e("btn"),S(o).e("close")]),onClick:C},[pe(S(Gt),null,{default:Me(()=>[pe(S(Ac))]),_:1})],2),Je(" ARROW "),S(v)?Je("v-if",!0):($(),ge(Bt,{key:0},[_e("span",{class:j(S(w)),onClick:H},[pe(S(Gt),null,{default:Me(()=>[pe(S(mh))]),_:1})],2),_e("span",{class:j(S(x)),onClick:z},[pe(S(Gt),null,{default:Me(()=>[pe(S(Zs))]),_:1})],2)],64)),Je(" ACTIONS "),_e("div",{class:j([S(o).e("btn"),S(o).e("actions")])},[_e("div",{class:j(S(o).e("actions__inner"))},[pe(S(Gt),{onClick:re=>B("zoomOut")},{default:Me(()=>[pe(S(gge))]),_:1},8,["onClick"]),pe(S(Gt),{onClick:re=>B("zoomIn")},{default:Me(()=>[pe(S(eX))]),_:1},8,["onClick"]),_e("i",{class:j(S(o).e("actions__divider"))},null,2),pe(S(Gt),{onClick:F},{default:Me(()=>[($(),rt(Rn(S(p).icon)))]),_:1}),_e("i",{class:j(S(o).e("actions__divider"))},null,2),pe(S(Gt),{onClick:re=>B("anticlockwise")},{default:Me(()=>[pe(S(Zve))]),_:1},8,["onClick"]),pe(S(Gt),{onClick:re=>B("clockwise")},{default:Me(()=>[pe(S(Jve))]),_:1},8,["onClick"])],2)],2),Je(" CANVAS "),_e("div",{class:j(S(o).e("canvas"))},[($(!0),ge(Bt,null,kn(ee.urlList,(re,fe)=>Sn(($(),ge("img",{ref_for:!0,ref:de=>u.value[fe]=de,key:re,src:re,style:Ft(S(M)),class:j(S(o).e("img")),crossorigin:ee.crossorigin,onLoad:I,onError:L,onMousedown:k},null,46,["src","crossorigin"])),[[lr,fe===h.value]])),128))],2),Qe(ee.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var oTe=It(sTe,[["__file","image-viewer.vue"]]);const jj=gn(oTe),lTe=Et({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Ke([String,Object])},previewSrcList:{type:Ke(Array),default:()=>wi([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Ke(String)}}),cTe={load:n=>n instanceof Event,error:n=>n instanceof Event,switch:n=>en(n),close:()=>!0,show:()=>!0},uTe=Pe({name:"ElImage",inheritAttrs:!1}),dTe=Pe({...uTe,props:lTe,emits:cTe,setup(n,{emit:e}){const t=n;let r="";const{t:i}=nr(),a=yt("image"),s=zd(),o=U(()=>o_(Object.entries(s).filter(([z])=>/^(data-|on[A-Z])/i.test(z)||["id","style"].includes(z)))),l=MS({excludeListeners:!0,excludeKeys:U(()=>Object.keys(o.value))}),c=te(),u=te(!1),d=te(!0),f=te(!1),h=te(),p=te(),m=tr&&"loading"in HTMLImageElement.prototype;let g,v;const y=U(()=>[a.e("inner"),_.value&&a.e("preview"),d.value&&a.is("loading")]),b=U(()=>{const{fit:z}=t;return tr&&z?{objectFit:z}:{}}),_=U(()=>{const{previewSrcList:z}=t;return St(z)&&z.length>0}),w=U(()=>{const{previewSrcList:z,initialIndex:B}=t;let W=B;return B>z.length-1&&(W=0),W}),x=U(()=>t.loading==="eager"?!1:!m&&t.loading==="lazy"||t.lazy),M=()=>{tr&&(d.value=!0,u.value=!1,c.value=t.src)};function C(z){d.value=!1,u.value=!1,e("load",z)}function T(z){d.value=!1,u.value=!0,e("error",z)}function A(){Lwe(h.value,p.value)&&(M(),k())}const I=DY(A,200,!0);async function L(){var z;if(!tr)return;await Yt();const{scrollContainer:B}=t;Zo(B)?p.value=B:qt(B)&&B!==""?p.value=(z=document.querySelector(B))!=null?z:void 0:h.value&&(p.value=f6(h.value)),p.value&&(g=Ar(p,"scroll",I),setTimeout(()=>A(),100))}function k(){!tr||!p.value||!I||(g==null||g(),p.value=void 0)}function N(z){if(z.ctrlKey){if(z.deltaY<0)return z.preventDefault(),!1;if(z.deltaY>0)return z.preventDefault(),!1}}function F(){_.value&&(v=Ar("wheel",N,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",f.value=!0,e("show"))}function D(){v==null||v(),document.body.style.overflow=r,f.value=!1,e("close")}function H(z){e("switch",z)}return dt(()=>t.src,()=>{x.value?(d.value=!0,u.value=!1,k(),L()):M()}),dn(()=>{x.value?L():M()}),(z,B)=>($(),ge("div",Bn({ref_key:"container",ref:h},S(o),{class:[S(a).b(),z.$attrs.class]}),[u.value?Qe(z.$slots,"error",{key:0},()=>[_e("div",{class:j(S(a).e("error"))},_t(S(i)("el.image.error")),3)]):($(),ge(Bt,{key:1},[c.value!==void 0?($(),ge("img",Bn({key:0},S(l),{src:c.value,loading:z.loading,style:S(b),class:S(y),crossorigin:z.crossorigin,onClick:F,onLoad:C,onError:T}),null,16,["src","loading","crossorigin"])):Je("v-if",!0),d.value?($(),ge("div",{key:1,class:j(S(a).e("wrapper"))},[Qe(z.$slots,"placeholder",{},()=>[_e("div",{class:j(S(a).e("placeholder"))},null,2)])],2)):Je("v-if",!0)],64)),S(_)?($(),ge(Bt,{key:2},[f.value?($(),rt(S(jj),{key:0,"z-index":z.zIndex,"initial-index":S(w),infinite:z.infinite,"zoom-rate":z.zoomRate,"min-scale":z.minScale,"max-scale":z.maxScale,"url-list":z.previewSrcList,crossorigin:z.crossorigin,"hide-on-click-modal":z.hideOnClickModal,teleported:z.previewTeleported,"close-on-press-escape":z.closeOnPressEscape,onClose:D,onSwitch:H},{default:Me(()=>[z.$slots.viewer?($(),ge("div",{key:0},[Qe(z.$slots,"viewer")])):Je("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):Je("v-if",!0)],64)):Je("v-if",!0)],16))}});var fTe=It(dTe,[["__file","image.vue"]]);const hTe=gn(fTe),pTe=Et({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:oa,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:n=>n===null||en(n)||["min","max"].includes(n),default:null},name:String,placeholder:String,precision:{type:Number,validator:n=>n>=0&&n===Number.parseInt(`${n}`,10)},validateEvent:{type:Boolean,default:!0},...Xa(["ariaLabel"])}),mTe={[Pr]:(n,e)=>e!==n,blur:n=>n instanceof FocusEvent,focus:n=>n instanceof FocusEvent,[cs]:n=>en(n)||Ca(n),[Tn]:n=>en(n)||Ca(n)},vTe=Pe({name:"ElInputNumber"}),gTe=Pe({...vTe,props:pTe,emits:mTe,setup(n,{expose:e,emit:t}){const r=n,{t:i}=nr(),a=yt("input-number"),s=te(),o=pr({currentValue:r.modelValue,userInput:null}),{formItem:l}=hs(),c=U(()=>en(r.modelValue)&&r.modelValue<=r.min),u=U(()=>en(r.modelValue)&&r.modelValue>=r.max),d=U(()=>{const F=v(r.step);return Tr(r.precision)?Math.max(v(r.modelValue),F):(F>r.precision,r.precision)}),f=U(()=>r.controls&&r.controlsPosition==="right"),h=ji(),p=ps(),m=U(()=>{if(o.userInput!==null)return o.userInput;let F=o.currentValue;if(Ca(F))return"";if(en(F)){if(Number.isNaN(F))return"";Tr(r.precision)||(F=F.toFixed(r.precision))}return F}),g=(F,D)=>{if(Tr(D)&&(D=d.value),D===0)return Math.round(F);let H=String(F);const z=H.indexOf(".");if(z===-1||!H.replace(".","").split("")[z+D])return F;const Z=H.length;return H.charAt(Z-1)==="5"&&(H=`${H.slice(0,Math.max(0,Z-1))}6`),Number.parseFloat(Number(H).toFixed(D))},v=F=>{if(Ca(F))return 0;const D=F.toString(),H=D.indexOf(".");let z=0;return H!==-1&&(z=D.length-H-1),z},y=(F,D=1)=>en(F)?g(F+r.step*D):o.currentValue,b=()=>{if(r.readonly||p.value||u.value)return;const F=Number(m.value)||0,D=y(F);x(D),t(cs,o.currentValue),k()},_=()=>{if(r.readonly||p.value||c.value)return;const F=Number(m.value)||0,D=y(F,-1);x(D),t(cs,o.currentValue),k()},w=(F,D)=>{const{max:H,min:z,step:B,precision:W,stepStrictly:Z,valueOnClear:ee}=r;H<z&&va("InputNumber","min should not be greater than max.");let J=Number(F);if(Ca(F)||Number.isNaN(J))return null;if(F===""){if(ee===null)return null;J=qt(ee)?{min:z,max:H}[ee]:ee}return Z&&(J=g(Math.round(J/B)*B,W),J!==F&&D&&t(Tn,J)),Tr(W)||(J=g(J,W)),(J>H||J<z)&&(J=J>H?H:z,D&&t(Tn,J)),J},x=(F,D=!0)=>{var H;const z=o.currentValue,B=w(F);if(!D){t(Tn,B);return}z===B&&F||(o.userInput=null,t(Tn,B),z!==B&&t(Pr,B,z),r.validateEvent&&((H=l==null?void 0:l.validate)==null||H.call(l,"change").catch(W=>void 0)),o.currentValue=B)},M=F=>{o.userInput=F;const D=F===""?null:Number(F);t(cs,D),x(D,!1)},C=F=>{const D=F!==""?Number(F):"";(en(D)&&!Number.isNaN(D)||F==="")&&x(D),k(),o.userInput=null},T=()=>{var F,D;(D=(F=s.value)==null?void 0:F.focus)==null||D.call(F)},A=()=>{var F,D;(D=(F=s.value)==null?void 0:F.blur)==null||D.call(F)},I=F=>{t("focus",F)},L=F=>{var D,H;o.userInput=null,ZT()&&o.currentValue===null&&((D=s.value)!=null&&D.input)&&(s.value.input.value=""),t("blur",F),r.validateEvent&&((H=l==null?void 0:l.validate)==null||H.call(l,"blur").catch(z=>void 0))},k=()=>{o.currentValue!==r.modelValue&&(o.currentValue=r.modelValue)},N=F=>{document.activeElement===F.target&&F.preventDefault()};return dt(()=>r.modelValue,(F,D)=>{const H=w(F,!0);o.userInput===null&&H!==D&&(o.currentValue=H)},{immediate:!0}),dn(()=>{var F;const{min:D,max:H,modelValue:z}=r,B=(F=s.value)==null?void 0:F.input;if(B.setAttribute("role","spinbutton"),Number.isFinite(H)?B.setAttribute("aria-valuemax",String(H)):B.removeAttribute("aria-valuemax"),Number.isFinite(D)?B.setAttribute("aria-valuemin",String(D)):B.removeAttribute("aria-valuemin"),B.setAttribute("aria-valuenow",o.currentValue||o.currentValue===0?String(o.currentValue):""),B.setAttribute("aria-disabled",String(p.value)),!en(z)&&z!=null){let W=Number(z);Number.isNaN(W)&&(W=null),t(Tn,W)}B.addEventListener("wheel",N,{passive:!1})}),Io(()=>{var F,D;const H=(F=s.value)==null?void 0:F.input;H==null||H.setAttribute("aria-valuenow",`${(D=o.currentValue)!=null?D:""}`)}),e({focus:T,blur:A}),(F,D)=>($(),ge("div",{class:j([S(a).b(),S(a).m(S(h)),S(a).is("disabled",S(p)),S(a).is("without-controls",!F.controls),S(a).is("controls-right",S(f))]),onDragstart:sn(()=>{},["prevent"])},[F.controls?Sn(($(),ge("span",{key:0,role:"button","aria-label":S(i)("el.inputNumber.decrease"),class:j([S(a).e("decrease"),S(a).is("disabled",S(c))]),onKeydown:Rr(_,["enter"])},[Qe(F.$slots,"decrease-icon",{},()=>[pe(S(Gt),null,{default:Me(()=>[S(f)?($(),rt(S(Vd),{key:0})):($(),rt(S(zve),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[S(jC),_]]):Je("v-if",!0),F.controls?Sn(($(),ge("span",{key:1,role:"button","aria-label":S(i)("el.inputNumber.increase"),class:j([S(a).e("increase"),S(a).is("disabled",S(u))]),onKeydown:Rr(b,["enter"])},[Qe(F.$slots,"increase-icon",{},()=>[pe(S(Gt),null,{default:Me(()=>[S(f)?($(),rt(S(p6),{key:0})):($(),rt(S(QY),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[S(jC),b]]):Je("v-if",!0),pe(S(Ls),{id:F.id,ref_key:"input",ref:s,type:"number",step:F.step,"model-value":S(m),placeholder:F.placeholder,readonly:F.readonly,disabled:S(p),size:S(h),max:F.max,min:F.min,name:F.name,"aria-label":F.ariaLabel,"validate-event":!1,onKeydown:[Rr(sn(b,["prevent"]),["up"]),Rr(sn(_,["prevent"]),["down"])],onBlur:L,onFocus:I,onInput:M,onChange:C},rl({_:2},[F.$slots.prefix?{name:"prefix",fn:Me(()=>[Qe(F.$slots,"prefix")])}:void 0,F.$slots.suffix?{name:"suffix",fn:Me(()=>[Qe(F.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var yTe=It(gTe,[["__file","input-number.vue"]]);const Zj=gn(yTe),bTe=Et({modelValue:{type:Ke(Array)},max:Number,tagType:{...Ad.type,default:"info"},tagEffect:Ad.effect,trigger:{type:Ke(String),default:Ot.enter},draggable:{type:Boolean,default:!1},size:oa,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},ariaLabel:String}),_Te={[Tn]:n=>St(n)||Tr(n),[Pr]:n=>St(n)||Tr(n),[cs]:n=>qt(n),"add-tag":n=>qt(n),"remove-tag":n=>qt(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0};function STe({props:n,emit:e,formItem:t}){const r=ps(),i=ji(),a=Cr(),s=te(),o=U(()=>["small"].includes(i.value)?"small":"default"),l=U(()=>{var T;return(T=n.modelValue)!=null&&T.length?void 0:n.placeholder}),c=U(()=>!(n.readonly||r.value)),u=U(()=>{var T,A;return Tr(n.max)?!1:((A=(T=n.modelValue)==null?void 0:T.length)!=null?A:0)>=n.max}),d=T=>{if(u.value){s.value=void 0;return}w.value||e(cs,T.target.value)},f=T=>{var A;if(!w.value)switch(T.code){case n.trigger:T.preventDefault(),T.stopPropagation(),h();break;case Ot.numpadEnter:n.trigger===Ot.enter&&(T.preventDefault(),T.stopPropagation(),h());break;case Ot.backspace:!s.value&&((A=n.modelValue)!=null&&A.length)&&(T.preventDefault(),T.stopPropagation(),p(n.modelValue.length-1));break}},h=()=>{var T,A;const I=(T=s.value)==null?void 0:T.trim();if(!I||u.value)return;const L=[...(A=n.modelValue)!=null?A:[],I];e(Tn,L),e(Pr,L),e("add-tag",I),s.value=void 0},p=T=>{var A;const I=((A=n.modelValue)!=null?A:[]).slice(),[L]=I.splice(T,1);e(Tn,I),e(Pr,I),e("remove-tag",L)},m=()=>{s.value=void 0,e(Tn,void 0),e(Pr,void 0),e("clear")},g=(T,A,I)=>{var L;const k=((L=n.modelValue)!=null?L:[]).slice(),[N]=k.splice(T,1),F=A>T&&I==="before"?-1:A<T&&I==="after"?1:0;k.splice(A+F,0,N),e(Tn,k),e(Pr,k)},v=()=>{var T;(T=a.value)==null||T.focus()},y=()=>{var T;(T=a.value)==null||T.blur()},{wrapperRef:b,isFocused:_}=Dh(a,{beforeFocus(){return r.value},afterBlur(){var T;h(),n.validateEvent&&((T=t==null?void 0:t.validate)==null||T.call(t,"blur").catch(A=>void 0))}}),{isComposing:w,handleCompositionStart:x,handleCompositionUpdate:M,handleCompositionEnd:C}=TS({afterComposition:d});return dt(()=>n.modelValue,()=>{var T;n.validateEvent&&((T=t==null?void 0:t.validate)==null||T.call(t,Pr).catch(A=>void 0))}),{inputRef:a,wrapperRef:b,isFocused:_,isComposing:w,inputValue:s,size:i,tagSize:o,placeholder:l,closable:c,disabled:r,inputLimit:u,handleDragged:g,handleInput:d,handleKeydown:f,handleAddTag:h,handleRemoveTag:p,handleClear:m,handleCompositionStart:x,handleCompositionUpdate:M,handleCompositionEnd:C,focus:v,blur:y}}function wTe(){const n=te(!1);return{hovering:n,handleMouseEnter:()=>{n.value=!0},handleMouseLeave:()=>{n.value=!1}}}function xTe(){const n=Cr(),e=te(0),t=11,r=U(()=>({minWidth:`${Math.max(e.value,t)}px`}));return hi(n,()=>{var a,s;e.value=(s=(a=n.value)==null?void 0:a.getBoundingClientRect().width)!=null?s:0}),{calculatorRef:n,calculatorWidth:e,inputStyle:r}}function CTe({wrapperRef:n,handleDragged:e,afterDragged:t}){const r=yt("input-tag"),i=Cr(),a=te(!1);let s,o,l,c;function u(p){return`.${r.e("inner")} .${r.namespace.value}-tag:nth-child(${p+1})`}function d(p,m){s=m,o=n.value.querySelector(u(m)),o&&(o.style.opacity="0.5"),p.dataTransfer.effectAllowed="move"}function f(p,m){if(l=m,p.preventDefault(),p.dataTransfer.dropEffect="move",Tr(s)||s===m){a.value=!1;return}const g=n.value.querySelector(u(m)).getBoundingClientRect(),v=s+1!==m,y=s-1!==m,b=p.clientX-g.left,_=v?y?.5:1:-1,w=y?v?.5:0:1;b<=g.width*_?c="before":b>g.width*w?c="after":c=void 0;const x=n.value.querySelector(`.${r.e("inner")}`),M=x.getBoundingClientRect(),C=Number.parseFloat(ud(x,"gap"))/2,T=g.top-M.top;let A=-9999;if(c==="before")A=Math.max(g.left-M.left-C,Math.floor(-C/2));else if(c==="after"){const I=g.right-M.left;A=I+(M.width===I?Math.floor(C/2):C)}qY(i.value,{top:`${T}px`,left:`${A}px`}),a.value=!!c}function h(p){p.preventDefault(),o&&(o.style.opacity=""),c&&!Tr(s)&&!Tr(l)&&s!==l&&e(s,l,c),a.value=!1,s=void 0,o=null,l=void 0,c=void 0,t==null||t()}return{dropIndicatorRef:i,showDropIndicator:a,handleDragStart:d,handleDragOver:f,handleDragEnd:h}}function MTe({props:n,isFocused:e,hovering:t,disabled:r,inputValue:i,size:a,validateState:s,validateIcon:o,needStatusIcon:l}){const c=zd(),u=Qi(),d=yt("input-tag"),f=yt("input"),h=U(()=>[d.b(),d.is("focused",e.value),d.is("hovering",t.value),d.is("disabled",r.value),d.m(a.value),d.e("wrapper"),c.class]),p=U(()=>[c.style]),m=U(()=>{var y,b;return[d.e("inner"),d.is("draggable",n.draggable),d.is("left-space",!((y=n.modelValue)!=null&&y.length)&&!u.prefix),d.is("right-space",!((b=n.modelValue)!=null&&b.length)&&!v.value)]}),g=U(()=>{var y;return n.clearable&&!r.value&&!n.readonly&&(((y=n.modelValue)==null?void 0:y.length)||i.value)&&(e.value||t.value)}),v=U(()=>u.suffix||g.value||s.value&&o.value&&l.value);return{ns:d,nsInput:f,containerKls:h,containerStyle:p,innerKls:m,showClear:g,showSuffix:v}}const TTe=Pe({name:"ElInputTag",inheritAttrs:!1}),ATe=Pe({...TTe,props:bTe,emits:_Te,setup(n,{expose:e,emit:t}){const r=n,i=MS(),a=Qi(),{form:s,formItem:o}=hs(),{inputId:l}=Xl(r,{formItemContext:o}),c=U(()=>{var K;return(K=s==null?void 0:s.statusIcon)!=null?K:!1}),u=U(()=>(o==null?void 0:o.validateState)||""),d=U(()=>u.value&&jT[u.value]),{inputRef:f,wrapperRef:h,isFocused:p,inputValue:m,size:g,tagSize:v,placeholder:y,closable:b,disabled:_,handleDragged:w,handleInput:x,handleKeydown:M,handleRemoveTag:C,handleClear:T,handleCompositionStart:A,handleCompositionUpdate:I,handleCompositionEnd:L,focus:k,blur:N}=STe({props:r,emit:t,formItem:o}),{hovering:F,handleMouseEnter:D,handleMouseLeave:H}=wTe(),{calculatorRef:z,inputStyle:B}=xTe(),{dropIndicatorRef:W,showDropIndicator:Z,handleDragStart:ee,handleDragOver:J,handleDragEnd:re}=CTe({wrapperRef:h,handleDragged:w,afterDragged:k}),{ns:fe,nsInput:de,containerKls:me,containerStyle:Re,innerKls:De,showClear:Ge,showSuffix:We}=MTe({props:r,hovering:F,isFocused:p,inputValue:m,disabled:_,size:g,validateState:u,validateIcon:d,needStatusIcon:c});return e({focus:k,blur:N}),(K,ue)=>($(),ge("div",{ref_key:"wrapperRef",ref:h,class:j(S(me)),style:Ft(S(Re)),onMouseenter:S(D),onMouseleave:S(H)},[S(a).prefix?($(),ge("div",{key:0,class:j(S(fe).e("prefix"))},[Qe(K.$slots,"prefix")],2)):Je("v-if",!0),_e("div",{class:j(S(De))},[($(!0),ge(Bt,null,kn(K.modelValue,(ie,$e)=>($(),rt(S(Ig),{key:$e,size:S(v),closable:S(b),type:K.tagType,effect:K.tagEffect,draggable:S(b)&&K.draggable,"disable-transitions":"",onClose:Ne=>S(C)($e),onDragstart:Ne=>S(ee)(Ne,$e),onDragover:Ne=>S(J)(Ne,$e),onDragend:S(re),onDrop:sn(()=>{},["stop"])},{default:Me(()=>[Qe(K.$slots,"tag",{value:ie,index:$e},()=>[un(_t(ie),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),_e("div",{class:j(S(fe).e("input-wrapper"))},[Sn(_e("input",Bn({id:S(l),ref_key:"inputRef",ref:f,"onUpdate:modelValue":ie=>Ur(m)?m.value=ie:null},S(i),{type:"text",minlength:K.minlength,maxlength:K.maxlength,disabled:S(_),readonly:K.readonly,autocomplete:K.autocomplete,tabindex:K.tabindex,placeholder:S(y),autofocus:K.autofocus,ariaLabel:K.ariaLabel,class:S(fe).e("input"),style:S(B),onCompositionstart:S(A),onCompositionupdate:S(I),onCompositionend:S(L),onInput:S(x),onKeydown:S(M)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[fh,S(m)]]),_e("span",{ref_key:"calculatorRef",ref:z,"aria-hidden":"true",class:j(S(fe).e("input-calculator")),textContent:_t(S(m))},null,10,["textContent"])],2),Sn(_e("div",{ref_key:"dropIndicatorRef",ref:W,class:j(S(fe).e("drop-indicator"))},null,2),[[lr,S(Z)]])],2),S(We)?($(),ge("div",{key:1,class:j(S(fe).e("suffix"))},[Qe(K.$slots,"suffix"),S(Ge)?($(),rt(S(Gt),{key:0,class:j([S(fe).e("icon"),S(fe).e("clear")]),onMousedown:sn(S(xr),["prevent"]),onClick:S(T)},{default:Me(()=>[pe(S($d))]),_:1},8,["class","onMousedown","onClick"])):Je("v-if",!0),S(u)&&S(d)&&S(c)?($(),rt(S(Gt),{key:1,class:j([S(de).e("icon"),S(de).e("validateIcon"),S(de).is("loading",S(u)==="validating")])},{default:Me(()=>[($(),rt(Rn(S(d))))]),_:1},8,["class"])):Je("v-if",!0)],2)):Je("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var ETe=It(ATe,[["__file","input-tag.vue"]]);const ITe=gn(ETe),RTe=Et({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:Dr}}),PTe={click:n=>n instanceof MouseEvent},LTe=Pe({name:"ElLink"}),DTe=Pe({...LTe,props:RTe,emits:PTe,setup(n,{emit:e}){const t=n,r=yt("link"),i=U(()=>[r.b(),r.m(t.type),r.is("disabled",t.disabled),r.is("underline",t.underline&&!t.disabled)]);function a(s){t.disabled||e("click",s)}return(s,o)=>($(),ge("a",{class:j(S(i)),href:s.disabled||!s.href?void 0:s.href,target:s.disabled||!s.href?void 0:s.target,onClick:a},[s.icon?($(),rt(S(Gt),{key:0},{default:Me(()=>[($(),rt(Rn(s.icon)))]),_:1})):Je("v-if",!0),s.$slots.default?($(),ge("span",{key:1,class:j(S(r).e("inner"))},[Qe(s.$slots,"default")],2)):Je("v-if",!0),s.$slots.icon?Qe(s.$slots,"icon",{key:2}):Je("v-if",!0)],10,["href","target"]))}});var kTe=It(DTe,[["__file","link.vue"]]);const OTe=gn(kTe);let NTe=class{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener("keydown",r=>{let i=!1;switch(r.code){case Ot.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case Ot.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case Ot.tab:{U2(e,"mouseleave");break}case Ot.enter:case Ot.numpadEnter:case Ot.space:{i=!0,r.currentTarget.click();break}}return i&&(r.preventDefault(),r.stopPropagation()),!1})})}},BTe=class{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new NTe(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let t=!1;switch(e.code){case Ot.down:{U2(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break}case Ot.up:{U2(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break}case Ot.tab:{U2(e.currentTarget,"mouseleave");break}case Ot.enter:case Ot.numpadEnter:case Ot.space:{t=!0,e.currentTarget.click();break}}t&&e.preventDefault()})}},FTe=class{constructor(e,t){this.domNode=e,this.init(t)}init(e){const t=this.domNode.childNodes;Array.from(t).forEach(r=>{r.nodeType===1&&new BTe(r,e)})}};const zTe=Pe({name:"ElMenuCollapseTransition",setup(){const n=yt("menu");return{listeners:{onBeforeEnter:t=>t.style.opacity="0.2",onEnter(t,r){Dl(t,`${n.namespace.value}-opacity-transition`),t.style.opacity="1",r()},onAfterEnter(t){ks(t,`${n.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),mo(t,n.m("collapse"))?(ks(t,n.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),Dl(t,n.m("collapse"))):(Dl(t,n.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),ks(t,n.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(t){Dl(t,"horizontal-collapse-transition"),t.style.width=`${t.dataset.scrollWidth}px`}}}}});function UTe(n,e,t,r,i,a){return $(),rt(sa,Bn({mode:"out-in"},n.listeners),{default:Me(()=>[Qe(n.$slots,"default")]),_:3},16)}var HTe=It(zTe,[["render",UTe],["__file","menu-collapse-transition.vue"]]);function Qj(n,e){const t=U(()=>{let i=n.parent;const a=[e.value];for(;i.type.name!=="ElMenu";)i.props.index&&a.unshift(i.props.index),i=i.parent;return a});return{parentMenu:U(()=>{let i=n.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:t}}function VTe(n){return U(()=>{const t=n.backgroundColor;return t?new OX(t).shade(20).toString():""})}const Jj=(n,e)=>{const t=yt("menu");return U(()=>t.cssVarBlock({"text-color":n.textColor||"","hover-text-color":n.textColor||"","bg-color":n.backgroundColor||"","hover-bg-color":VTe(n).value||"","active-color":n.activeTextColor||"",level:`${e}`}))},$Te=Et({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Dr},expandOpenIcon:{type:Dr},collapseCloseIcon:{type:Dr},collapseOpenIcon:{type:Dr}}),ZE="ElSubMenu";var J6=Pe({name:ZE,props:$Te,setup(n,{slots:e,expose:t}){const r=wn(),{indexPath:i,parentMenu:a}=Qj(r,U(()=>n.index)),s=yt("menu"),o=yt("sub-menu"),l=Nt("rootMenu");l||va(ZE,"can not inject root menu");const c=Nt(`subMenu:${a.value.uid}`);c||va(ZE,"can not inject sub menu");const u=te({}),d=te({});let f;const h=te(!1),p=te(),m=te(null),g=U(()=>C.value==="horizontal"&&y.value?"bottom-start":"right-start"),v=U(()=>C.value==="horizontal"&&y.value||C.value==="vertical"&&!l.props.collapse?n.expandCloseIcon&&n.expandOpenIcon?x.value?n.expandOpenIcon:n.expandCloseIcon:Vd:n.collapseCloseIcon&&n.collapseOpenIcon?x.value?n.collapseOpenIcon:n.collapseCloseIcon:Zs),y=U(()=>c.level===0),b=U(()=>{const W=n.teleported;return W===void 0?y.value:W}),_=U(()=>l.props.collapse?`${s.namespace.value}-zoom-in-left`:`${s.namespace.value}-zoom-in-top`),w=U(()=>C.value==="horizontal"&&y.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),x=U(()=>l.openedMenus.includes(n.index)),M=U(()=>{let W=!1;return Object.values(u.value).forEach(Z=>{Z.active&&(W=!0)}),Object.values(d.value).forEach(Z=>{Z.active&&(W=!0)}),W}),C=U(()=>l.props.mode),T=pr({index:n.index,indexPath:i,active:M}),A=Jj(l.props,c.level+1),I=U(()=>{var W;return(W=n.popperOffset)!=null?W:l.props.popperOffset}),L=U(()=>{var W;return(W=n.popperClass)!=null?W:l.props.popperClass}),k=U(()=>{var W;return(W=n.showTimeout)!=null?W:l.props.showTimeout}),N=U(()=>{var W;return(W=n.hideTimeout)!=null?W:l.props.hideTimeout}),F=()=>{var W,Z,ee;return(ee=(Z=(W=m.value)==null?void 0:W.popperRef)==null?void 0:Z.popperInstanceRef)==null?void 0:ee.destroy()},D=W=>{W||F()},H=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||n.disabled||l.handleSubMenuClick({index:n.index,indexPath:i.value,active:M.value})},z=(W,Z=k.value)=>{var ee;if(W.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||n.disabled){c.mouseInChild.value=!0;return}c.mouseInChild.value=!0,f==null||f(),{stop:f}=M0(()=>{l.openMenu(n.index,i.value)},Z),b.value&&((ee=a.value.vnode.el)==null||ee.dispatchEvent(new MouseEvent("mouseenter")))}},B=(W=!1)=>{var Z;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){c.mouseInChild.value=!1;return}f==null||f(),c.mouseInChild.value=!1,{stop:f}=M0(()=>!h.value&&l.closeMenu(n.index,i.value),N.value),b.value&&W&&((Z=c.handleMouseleave)==null||Z.call(c,!0))};dt(()=>l.props.collapse,W=>D(!!W));{const W=ee=>{d.value[ee.index]=ee},Z=ee=>{delete d.value[ee.index]};Vn(`subMenu:${r.uid}`,{addSubMenu:W,removeSubMenu:Z,handleMouseleave:B,mouseInChild:h,level:c.level+1})}return t({opened:x}),dn(()=>{l.addSubMenu(T),c.addSubMenu(T)}),vr(()=>{c.removeSubMenu(T),l.removeSubMenu(T)}),()=>{var W;const Z=[(W=e.title)==null?void 0:W.call(e),$t(Gt,{class:o.e("icon-arrow"),style:{transform:x.value?n.expandCloseIcon&&n.expandOpenIcon||n.collapseCloseIcon&&n.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>qt(v.value)?$t(r.appContext.components[v.value]):$t(v.value)})],ee=l.isMenuPopup?$t(ds,{ref:m,visible:x.value,effect:"light",pure:!0,offset:I.value,showArrow:!1,persistent:!0,popperClass:L.value,placement:g.value,teleported:b.value,fallbackPlacements:w.value,transition:_.value,gpuAcceleration:!1},{content:()=>{var J;return $t("div",{class:[s.m(C.value),s.m("popup-container"),L.value],onMouseenter:re=>z(re,100),onMouseleave:()=>B(!0),onFocus:re=>z(re,100)},[$t("ul",{class:[s.b(),s.m("popup"),s.m(`popup-${g.value}`)],style:A.value},[(J=e.default)==null?void 0:J.call(e)])])},default:()=>$t("div",{class:o.e("title"),onClick:H},Z)}):$t(Bt,{},[$t("div",{class:o.e("title"),ref:p,onClick:H},Z),$t(tA,{},{default:()=>{var J;return Sn($t("ul",{role:"menu",class:[s.b(),s.m("inline")],style:A.value},[(J=e.default)==null?void 0:J.call(e)]),[[lr,x.value]])}})]);return $t("li",{class:[o.b(),o.is("active",M.value),o.is("opened",x.value),o.is("disabled",n.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:x.value,onMouseenter:z,onMouseleave:()=>B(),onFocus:z},[ee])}}});const GTe=Et({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Ke(Array),default:()=>wi([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Dr,default:()=>Vve},popperEffect:{type:Ke(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),QE=n=>St(n)&&n.every(e=>qt(e)),WTe={close:(n,e)=>qt(n)&&QE(e),open:(n,e)=>qt(n)&&QE(e),select:(n,e,t,r)=>qt(n)&&QE(e)&&Pn(t)&&(r===void 0||r instanceof Promise)};var qTe=Pe({name:"ElMenu",props:GTe,emits:WTe,setup(n,{emit:e,slots:t,expose:r}){const i=wn(),a=i.appContext.config.globalProperties.$router,s=te(),o=yt("menu"),l=yt("sub-menu"),c=te(-1),u=te(n.defaultOpeneds&&!n.collapse?n.defaultOpeneds.slice(0):[]),d=te(n.defaultActive),f=te({}),h=te({}),p=U(()=>n.mode==="horizontal"||n.mode==="vertical"&&n.collapse),m=()=>{const F=d.value&&f.value[d.value];if(!F||n.mode==="horizontal"||n.collapse)return;F.indexPath.forEach(H=>{const z=h.value[H];z&&g(H,z.indexPath)})},g=(F,D)=>{u.value.includes(F)||(n.uniqueOpened&&(u.value=u.value.filter(H=>D.includes(H))),u.value.push(F),e("open",F,D))},v=F=>{const D=u.value.indexOf(F);D!==-1&&u.value.splice(D,1)},y=(F,D)=>{v(F),e("close",F,D)},b=({index:F,indexPath:D})=>{u.value.includes(F)?y(F,D):g(F,D)},_=F=>{(n.mode==="horizontal"||n.collapse)&&(u.value=[]);const{index:D,indexPath:H}=F;if(!(Ca(D)||Ca(H)))if(n.router&&a){const z=F.route||D,B=a.push(z).then(W=>(W||(d.value=D),W));e("select",D,H,{index:D,indexPath:H,route:z},B)}else d.value=D,e("select",D,H,{index:D,indexPath:H})},w=F=>{const D=f.value,H=D[F]||d.value&&D[d.value]||D[n.defaultActive];H?d.value=H.index:d.value=F},x=F=>{const D=getComputedStyle(F),H=Number.parseInt(D.marginLeft,10),z=Number.parseInt(D.marginRight,10);return F.offsetWidth+H+z||0},M=()=>{var F,D;if(!s.value)return-1;const H=Array.from((D=(F=s.value)==null?void 0:F.childNodes)!=null?D:[]).filter(fe=>fe.nodeName!=="#comment"&&(fe.nodeName!=="#text"||fe.nodeValue)),z=64,B=getComputedStyle(s.value),W=Number.parseInt(B.paddingLeft,10),Z=Number.parseInt(B.paddingRight,10),ee=s.value.clientWidth-W-Z;let J=0,re=0;return H.forEach((fe,de)=>{J+=x(fe),J<=ee-z&&(re=de+1)}),re===H.length?-1:re},C=F=>h.value[F].indexPath,T=(F,D=33.34)=>{let H;return()=>{H&&clearTimeout(H),H=setTimeout(()=>{F()},D)}};let A=!0;const I=()=>{if(c.value===M())return;const F=()=>{c.value=-1,Yt(()=>{c.value=M()})};A?F():T(F)(),A=!1};dt(()=>n.defaultActive,F=>{f.value[F]||(d.value=""),w(F)}),dt(()=>n.collapse,F=>{F&&(u.value=[])}),dt(f.value,m);let L;wa(()=>{n.mode==="horizontal"&&n.ellipsis?L=hi(s,I).stop:L==null||L()});const k=te(!1);{const F=B=>{h.value[B.index]=B},D=B=>{delete h.value[B.index]};Vn("rootMenu",pr({props:n,openedMenus:u,items:f,subMenus:h,activeIndex:d,isMenuPopup:p,addMenuItem:B=>{f.value[B.index]=B},removeMenuItem:B=>{delete f.value[B.index]},addSubMenu:F,removeSubMenu:D,openMenu:g,closeMenu:y,handleMenuItemClick:_,handleSubMenuClick:b})),Vn(`subMenu:${i.uid}`,{addSubMenu:F,removeSubMenu:D,mouseInChild:k,level:0})}dn(()=>{n.mode==="horizontal"&&new FTe(i.vnode.el,o.namespace.value)}),r({open:D=>{const{indexPath:H}=h.value[D];H.forEach(z=>g(z,H))},close:v,handleResize:I});const N=Jj(n,0);return()=>{var F,D;let H=(D=(F=t.default)==null?void 0:F.call(t))!=null?D:[];const z=[];if(n.mode==="horizontal"&&s.value){const Z=Zf(H),ee=c.value===-1?Z:Z.slice(0,c.value),J=c.value===-1?[]:Z.slice(c.value);J!=null&&J.length&&n.ellipsis&&(H=ee,z.push($t(J6,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:n.popperOffset},{title:()=>$t(Gt,{class:l.e("icon-more")},{default:()=>$t(n.ellipsisIcon)}),default:()=>J})))}const B=n.closeOnClickOutside?[[Ed,()=>{u.value.length&&(k.value||(u.value.forEach(Z=>e("close",Z,C(Z))),u.value=[]))}]]:[],W=Sn($t("ul",{key:String(n.collapse),role:"menubar",ref:s,style:N.value,class:{[o.b()]:!0,[o.m(n.mode)]:!0,[o.m("collapse")]:n.collapse}},[...H,...z]),B);return n.collapseTransition&&n.mode==="vertical"?$t(HTe,()=>W):W}}});const KTe=Et({index:{type:Ke([String,null]),default:null},route:{type:Ke([String,Object])},disabled:Boolean}),YTe={click:n=>qt(n.index)&&St(n.indexPath)},JE="ElMenuItem",XTe=Pe({name:JE,components:{ElTooltip:ds},props:KTe,emits:YTe,setup(n,{emit:e}){const t=wn(),r=Nt("rootMenu"),i=yt("menu"),a=yt("menu-item");r||va(JE,"can not inject root menu");const{parentMenu:s,indexPath:o}=Qj(t,br(n,"index")),l=Nt(`subMenu:${s.value.uid}`);l||va(JE,"can not inject sub menu");const c=U(()=>n.index===r.activeIndex),u=pr({index:n.index,indexPath:o,active:c}),d=()=>{n.disabled||(r.handleMenuItemClick({index:n.index,indexPath:o.value,route:n.route}),e("click",u))};return dn(()=>{l.addSubMenu(u),r.addMenuItem(u)}),vr(()=>{l.removeSubMenu(u),r.removeMenuItem(u)}),{parentMenu:s,rootMenu:r,active:c,nsMenu:i,nsMenuItem:a,handleClick:d}}});function jTe(n,e,t,r,i,a){const s=Lt("el-tooltip");return $(),ge("li",{class:j([n.nsMenuItem.b(),n.nsMenuItem.is("active",n.active),n.nsMenuItem.is("disabled",n.disabled)]),role:"menuitem",tabindex:"-1",onClick:n.handleClick},[n.parentMenu.type.name==="ElMenu"&&n.rootMenu.props.collapse&&n.$slots.title?($(),rt(s,{key:0,effect:n.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:Me(()=>[Qe(n.$slots,"title")]),default:Me(()=>[_e("div",{class:j(n.nsMenu.be("tooltip","trigger"))},[Qe(n.$slots,"default")],2)]),_:3},8,["effect"])):($(),ge(Bt,{key:1},[Qe(n.$slots,"default"),Qe(n.$slots,"title")],64))],10,["onClick"])}var eZ=It(XTe,[["render",jTe],["__file","menu-item.vue"]]);const ZTe={title:String},QTe="ElMenuItemGroup",JTe=Pe({name:QTe,props:ZTe,setup(){return{ns:yt("menu-item-group")}}});function eAe(n,e,t,r,i,a){return $(),ge("li",{class:j(n.ns.b())},[_e("div",{class:j(n.ns.e("title"))},[n.$slots.title?Qe(n.$slots,"title",{key:1}):($(),ge(Bt,{key:0},[un(_t(n.title),1)],64))],2),_e("ul",null,[Qe(n.$slots,"default")])],2)}var tZ=It(JTe,[["render",eAe],["__file","menu-item-group.vue"]]);const tAe=gn(qTe,{MenuItem:eZ,MenuItemGroup:tZ,SubMenu:J6}),nAe=Ci(eZ),rAe=Ci(tZ),iAe=Ci(J6),aAe=Et({icon:{type:Dr,default:()=>ave},title:String,content:{type:String,default:""}}),sAe={back:()=>!0},oAe=Pe({name:"ElPageHeader"}),lAe=Pe({...oAe,props:aAe,emits:sAe,setup(n,{emit:e}){const t=Qi(),{t:r}=nr(),i=yt("page-header"),a=U(()=>[i.b(),{[i.m("has-breadcrumb")]:!!t.breadcrumb,[i.m("has-extra")]:!!t.extra,[i.is("contentful")]:!!t.default}]);function s(){e("back")}return(o,l)=>($(),ge("div",{class:j(S(a))},[o.$slots.breadcrumb?($(),ge("div",{key:0,class:j(S(i).e("breadcrumb"))},[Qe(o.$slots,"breadcrumb")],2)):Je("v-if",!0),_e("div",{class:j(S(i).e("header"))},[_e("div",{class:j(S(i).e("left"))},[_e("div",{class:j(S(i).e("back")),role:"button",tabindex:"0",onClick:s},[o.icon||o.$slots.icon?($(),ge("div",{key:0,"aria-label":o.title||S(r)("el.pageHeader.title"),class:j(S(i).e("icon"))},[Qe(o.$slots,"icon",{},()=>[o.icon?($(),rt(S(Gt),{key:0},{default:Me(()=>[($(),rt(Rn(o.icon)))]),_:1})):Je("v-if",!0)])],10,["aria-label"])):Je("v-if",!0),_e("div",{class:j(S(i).e("title"))},[Qe(o.$slots,"title",{},()=>[un(_t(o.title||S(r)("el.pageHeader.title")),1)])],2)],2),pe(S(Fj),{direction:"vertical"}),_e("div",{class:j(S(i).e("content"))},[Qe(o.$slots,"content",{},()=>[un(_t(o.content),1)])],2)],2),o.$slots.extra?($(),ge("div",{key:0,class:j(S(i).e("extra"))},[Qe(o.$slots,"extra")],2)):Je("v-if",!0)],2),o.$slots.default?($(),ge("div",{key:1,class:j(S(i).e("main"))},[Qe(o.$slots,"default")],2)):Je("v-if",!0)],2))}});var cAe=It(lAe,[["__file","page-header.vue"]]);const uAe=gn(cAe),nZ=Symbol("elPaginationKey"),dAe=Et({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Dr}}),fAe={click:n=>n instanceof MouseEvent},hAe=Pe({name:"ElPaginationPrev"}),pAe=Pe({...hAe,props:dAe,emits:fAe,setup(n){const e=n,{t}=nr(),r=U(()=>e.disabled||e.currentPage<=1);return(i,a)=>($(),ge("button",{type:"button",class:"btn-prev",disabled:S(r),"aria-label":i.prevText||S(t)("el.pagination.prev"),"aria-disabled":S(r),onClick:s=>i.$emit("click",s)},[i.prevText?($(),ge("span",{key:0},_t(i.prevText),1)):($(),rt(S(Gt),{key:1},{default:Me(()=>[($(),rt(Rn(i.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var mAe=It(pAe,[["__file","prev.vue"]]);const vAe=Et({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Dr}}),gAe=Pe({name:"ElPaginationNext"}),yAe=Pe({...gAe,props:vAe,emits:["click"],setup(n){const e=n,{t}=nr(),r=U(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(i,a)=>($(),ge("button",{type:"button",class:"btn-next",disabled:S(r),"aria-label":i.nextText||S(t)("el.pagination.next"),"aria-disabled":S(r),onClick:s=>i.$emit("click",s)},[i.nextText?($(),ge("span",{key:0},_t(i.nextText),1)):($(),rt(S(Gt),{key:1},{default:Me(()=>[($(),rt(Rn(i.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var bAe=It(yAe,[["__file","next.vue"]]);const rZ=Symbol("ElSelectGroup"),_y=Symbol("ElSelect");function _Ae(n,e){const t=Nt(_y),r=Nt(rZ,{disabled:!1}),i=U(()=>u(Is(t.props.modelValue),n.value)),a=U(()=>{var h;if(t.props.multiple){const p=Is((h=t.props.modelValue)!=null?h:[]);return!i.value&&p.length>=t.props.multipleLimit&&t.props.multipleLimit>0}else return!1}),s=U(()=>n.label||(Pn(n.value)?"":n.value)),o=U(()=>n.value||n.label||""),l=U(()=>n.disabled||e.groupDisabled||a.value),c=wn(),u=(h=[],p)=>{if(Pn(n.value)){const m=t.props.valueKey;return h&&h.some(g=>Er($i(g,m))===$i(p,m))}else return h&&h.includes(p)},d=()=>{!n.disabled&&!r.disabled&&(t.states.hoveringIndex=t.optionsArray.indexOf(c.proxy))},f=h=>{const p=new RegExp(B6(h),"i");e.visible=p.test(s.value)||n.created};return dt(()=>s.value,()=>{!n.created&&!t.props.remote&&t.setSelected()}),dt(()=>n.value,(h,p)=>{const{remote:m,valueKey:g}=t.props;if(h!==p&&(t.onOptionDestroy(p,c.proxy),t.onOptionCreate(c.proxy)),!n.created&&!m){if(g&&Pn(h)&&Pn(p)&&h[g]===p[g])return;t.setSelected()}}),dt(()=>r.disabled,()=>{e.groupDisabled=r.disabled},{immediate:!0}),{select:t,currentLabel:s,currentValue:o,itemSelected:i,isDisabled:l,hoverItem:d,updateOption:f}}const SAe=Pe({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(n){const e=yt("select"),t=Ya(),r=U(()=>[e.be("dropdown","item"),e.is("disabled",S(o)),e.is("selected",S(s)),e.is("hovering",S(f))]),i=pr({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:a,itemSelected:s,isDisabled:o,select:l,hoverItem:c,updateOption:u}=_Ae(n,i),{visible:d,hover:f}=aa(i),h=wn().proxy;l.onOptionCreate(h),vr(()=>{const m=h.value,{selected:g}=l.states,v=g.some(y=>y.value===h.value);Yt(()=>{l.states.cachedOptions.get(m)===h&&!v&&l.states.cachedOptions.delete(m)}),l.onOptionDestroy(m,h)});function p(){o.value||l.handleOptionSelect(h)}return{ns:e,id:t,containerKls:r,currentLabel:a,itemSelected:s,isDisabled:o,select:l,hoverItem:c,updateOption:u,visible:d,hover:f,selectOptionClick:p,states:i}}});function wAe(n,e,t,r,i,a){return Sn(($(),ge("li",{id:n.id,class:j(n.containerKls),role:"option","aria-disabled":n.isDisabled||void 0,"aria-selected":n.itemSelected,onMousemove:n.hoverItem,onClick:sn(n.selectOptionClick,["stop"])},[Qe(n.$slots,"default",{},()=>[_e("span",null,_t(n.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[lr,n.visible]])}var ek=It(SAe,[["render",wAe],["__file","option.vue"]]);const xAe=Pe({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const n=Nt(_y),e=yt("select"),t=U(()=>n.props.popperClass),r=U(()=>n.props.multiple),i=U(()=>n.props.fitInputWidth),a=te("");function s(){var o;a.value=`${(o=n.selectRef)==null?void 0:o.offsetWidth}px`}return dn(()=>{s(),hi(n.selectRef,s)}),{ns:e,minWidth:a,popperClass:t,isMultiple:r,isFitInputWidth:i}}});function CAe(n,e,t,r,i,a){return $(),ge("div",{class:j([n.ns.b("dropdown"),n.ns.is("multiple",n.isMultiple),n.popperClass]),style:Ft({[n.isFitInputWidth?"width":"minWidth"]:n.minWidth})},[n.$slots.header?($(),ge("div",{key:0,class:j(n.ns.be("dropdown","header"))},[Qe(n.$slots,"header")],2)):Je("v-if",!0),Qe(n.$slots,"default"),n.$slots.footer?($(),ge("div",{key:1,class:j(n.ns.be("dropdown","footer"))},[Qe(n.$slots,"footer")],2)):Je("v-if",!0)],6)}var MAe=It(xAe,[["render",CAe],["__file","select-dropdown.vue"]]);const TAe=11,AAe=(n,e)=>{const{t}=nr(),r=Ya(),i=yt("select"),a=yt("input"),s=pr({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),o=te(null),l=te(null),c=te(null),u=te(null),d=te(null),f=te(null),h=te(null),p=te(null),m=te(null),g=te(null),v=te(null),y=te(null),{isComposing:b,handleCompositionStart:_,handleCompositionUpdate:w,handleCompositionEnd:x}=TS({afterComposition:et=>Ee(et)}),{wrapperRef:M,isFocused:C,handleBlur:T}=Dh(d,{beforeFocus(){return H.value},afterFocus(){n.automaticDropdown&&!A.value&&(A.value=!0,s.menuVisibleOnFocus=!0)},beforeBlur(et){var wt,Xt;return((wt=c.value)==null?void 0:wt.isFocusInsideContent(et))||((Xt=u.value)==null?void 0:Xt.isFocusInsideContent(et))},afterBlur(){A.value=!1,s.menuVisibleOnFocus=!1}}),A=te(!1),I=te(),{form:L,formItem:k}=hs(),{inputId:N}=Xl(n,{formItemContext:k}),{valueOnClear:F,isEmptyValue:D}=qT(n),H=U(()=>n.disabled||(L==null?void 0:L.disabled)),z=U(()=>St(n.modelValue)?n.modelValue.length>0:!D(n.modelValue)),B=U(()=>{var et;return(et=L==null?void 0:L.statusIcon)!=null?et:!1}),W=U(()=>n.clearable&&!H.value&&s.inputHovering&&z.value),Z=U(()=>n.remote&&n.filterable&&!n.remoteShowSuffix?"":n.suffixIcon),ee=U(()=>i.is("reverse",Z.value&&A.value)),J=U(()=>(k==null?void 0:k.validateState)||""),re=U(()=>jT[J.value]),fe=U(()=>n.remote?300:0),de=U(()=>n.loading?n.loadingText||t("el.select.loading"):n.remote&&!s.inputValue&&s.options.size===0?!1:n.filterable&&s.inputValue&&s.options.size>0&&me.value===0?n.noMatchText||t("el.select.noMatch"):s.options.size===0?n.noDataText||t("el.select.noData"):null),me=U(()=>Re.value.filter(et=>et.visible).length),Re=U(()=>{const et=Array.from(s.options.values()),wt=[];return s.optionValues.forEach(Xt=>{const yn=et.findIndex(On=>On.value===Xt);yn>-1&&wt.push(et[yn])}),wt.length>=et.length?wt:et}),De=U(()=>Array.from(s.cachedOptions.values())),Ge=U(()=>{const et=Re.value.filter(wt=>!wt.created).some(wt=>wt.currentLabel===s.inputValue);return n.filterable&&n.allowCreate&&s.inputValue!==""&&!et}),We=()=>{n.filterable&&Kt(n.filterMethod)||n.filterable&&n.remote&&Kt(n.remoteMethod)||Re.value.forEach(et=>{var wt;(wt=et.updateOption)==null||wt.call(et,s.inputValue)})},K=ji(),ue=U(()=>["small"].includes(K.value)?"small":"default"),ie=U({get(){return A.value&&de.value!==!1},set(et){A.value=et}}),$e=U(()=>{if(n.multiple&&!Tr(n.modelValue))return Is(n.modelValue).length===0&&!s.inputValue;const et=St(n.modelValue)?n.modelValue[0]:n.modelValue;return n.filterable||Tr(et)?!s.inputValue:!0}),Ne=U(()=>{var et;const wt=(et=n.placeholder)!=null?et:t("el.select.placeholder");return n.multiple||!z.value?wt:s.selectedLabel}),Ye=U(()=>kR?null:"mouseenter");dt(()=>n.modelValue,(et,wt)=>{n.multiple&&n.filterable&&!n.reserveKeyword&&(s.inputValue="",ce("")),ke(),!Ka(et,wt)&&n.validateEvent&&(k==null||k.validate("change").catch(Xt=>void 0))},{flush:"post",deep:!0}),dt(()=>A.value,et=>{et?ce(s.inputValue):(s.inputValue="",s.previousQuery=null,s.isBeforeHide=!0),e("visible-change",et)}),dt(()=>s.options.entries(),()=>{tr&&(ke(),n.defaultFirstOption&&(n.filterable||n.remote)&&me.value&&he())},{flush:"post"}),dt(()=>s.hoveringIndex,et=>{en(et)&&et>-1?I.value=Re.value[et]||{}:I.value={},Re.value.forEach(wt=>{wt.hover=I.value===wt})}),wa(()=>{s.isBeforeHide||We()});const ce=et=>{s.previousQuery===et||b.value||(s.previousQuery=et,n.filterable&&Kt(n.filterMethod)?n.filterMethod(et):n.filterable&&n.remote&&Kt(n.remoteMethod)&&n.remoteMethod(et),n.defaultFirstOption&&(n.filterable||n.remote)&&me.value?Yt(he):Yt(V))},he=()=>{const et=Re.value.filter(On=>On.visible&&!On.disabled&&!On.states.groupDisabled),wt=et.find(On=>On.created),Xt=et[0],yn=Re.value.map(On=>On.value);s.hoveringIndex=Te(yn,wt||Xt)},ke=()=>{if(n.multiple)s.selectedLabel="";else{const wt=St(n.modelValue)?n.modelValue[0]:n.modelValue,Xt=oe(wt);s.selectedLabel=Xt.currentLabel,s.selected=[Xt];return}const et=[];Tr(n.modelValue)||Is(n.modelValue).forEach(wt=>{et.push(oe(wt))}),s.selected=et},oe=et=>{let wt;const Xt=qb(et);for(let Ze=s.cachedOptions.size-1;Ze>=0;Ze--){const Yn=De.value[Ze];if(Xt?$i(Yn.value,n.valueKey)===$i(et,n.valueKey):Yn.value===et){wt={value:et,currentLabel:Yn.currentLabel,get isDisabled(){return Yn.isDisabled}};break}}if(wt)return wt;const yn=Xt?et.label:et??"";return{value:et,currentLabel:yn}},V=()=>{s.hoveringIndex=Re.value.findIndex(et=>s.selected.some(wt=>jn(wt)===jn(et)))},Y=()=>{s.selectionWidth=l.value.getBoundingClientRect().width},Q=()=>{s.calculatorWidth=f.value.getBoundingClientRect().width},we=()=>{s.collapseItemWidth=v.value.getBoundingClientRect().width},Ue=()=>{var et,wt;(wt=(et=c.value)==null?void 0:et.updatePopper)==null||wt.call(et)},ct=()=>{var et,wt;(wt=(et=u.value)==null?void 0:et.updatePopper)==null||wt.call(et)},pt=()=>{s.inputValue.length>0&&!A.value&&(A.value=!0),ce(s.inputValue)},Ee=et=>{if(s.inputValue=et.target.value,n.remote)ft();else return pt()},ft=Mo(()=>{pt()},fe.value),st=et=>{Ka(n.modelValue,et)||e(Pr,et)},G=et=>EY(et,wt=>{const Xt=s.cachedOptions.get(wt);return Xt&&!Xt.disabled&&!Xt.states.groupDisabled}),ye=et=>{if(n.multiple&&et.code!==Ot.delete&&et.target.value.length<=0){const wt=Is(n.modelValue).slice(),Xt=G(wt);if(Xt<0)return;const yn=wt[Xt];wt.splice(Xt,1),e(Tn,wt),st(wt),e("remove-tag",yn)}},ve=(et,wt)=>{const Xt=s.selected.indexOf(wt);if(Xt>-1&&!H.value){const yn=Is(n.modelValue).slice();yn.splice(Xt,1),e(Tn,yn),st(yn),e("remove-tag",wt.value)}et.stopPropagation(),kt()},Le=et=>{et.stopPropagation();const wt=n.multiple?[]:F.value;if(n.multiple)for(const Xt of s.selected)Xt.isDisabled&&wt.push(Xt.value);e(Tn,wt),st(wt),s.hoveringIndex=-1,A.value=!1,e("clear"),kt()},be=et=>{var wt;if(n.multiple){const Xt=Is((wt=n.modelValue)!=null?wt:[]).slice(),yn=Te(Xt,et);yn>-1?Xt.splice(yn,1):(n.multipleLimit<=0||Xt.length<n.multipleLimit)&&Xt.push(et.value),e(Tn,Xt),st(Xt),et.created&&ce(""),n.filterable&&!n.reserveKeyword&&(s.inputValue="")}else e(Tn,et.value),st(et.value),A.value=!1;kt(),!A.value&&Yt(()=>{ht(et)})},Te=(et=[],wt)=>Tr(wt)?-1:Pn(wt.value)?et.findIndex(Xt=>Ka($i(Xt,n.valueKey),jn(wt))):et.indexOf(wt.value),ht=et=>{var wt,Xt,yn,On,Ze;const Yn=St(et)?et[0]:et;let at=null;if(Yn!=null&&Yn.value){const Oe=Re.value.filter(gt=>gt.value===Yn.value);Oe.length>0&&(at=Oe[0].$el)}if(c.value&&at){const Oe=(On=(yn=(Xt=(wt=c.value)==null?void 0:wt.popperRef)==null?void 0:Xt.contentRef)==null?void 0:yn.querySelector)==null?void 0:On.call(yn,`.${i.be("dropdown","wrap")}`);Oe&&h6(Oe,at)}(Ze=y.value)==null||Ze.handleScroll()},Ie=et=>{s.options.set(et.value,et),s.cachedOptions.set(et.value,et)},bt=(et,wt)=>{s.options.get(et)===wt&&s.options.delete(et)},nt=U(()=>{var et,wt;return(wt=(et=c.value)==null?void 0:et.popperRef)==null?void 0:wt.contentRef}),vt=()=>{s.isBeforeHide=!1,Yt(()=>ht(s.selected))},kt=()=>{var et;(et=d.value)==null||et.focus()},Tt=()=>{var et;if(A.value){A.value=!1,Yt(()=>{var wt;return(wt=d.value)==null?void 0:wt.blur()});return}(et=d.value)==null||et.blur()},an=et=>{Le(et)},_n=et=>{if(A.value=!1,C.value){const wt=new FocusEvent("focus",et);Yt(()=>T(wt))}},or=()=>{s.inputValue.length>0?s.inputValue="":A.value=!1},Ln=()=>{H.value||(kR&&(s.inputHovering=!0),s.menuVisibleOnFocus?s.menuVisibleOnFocus=!1:A.value=!A.value)},Kr=()=>{if(!A.value)Ln();else{const et=Re.value[s.hoveringIndex];et&&!et.isDisabled&&be(et)}},jn=et=>Pn(et.value)?$i(et.value,n.valueKey):et.value,X=U(()=>Re.value.filter(et=>et.visible).every(et=>et.isDisabled)),se=U(()=>n.multiple?n.collapseTags?s.selected.slice(0,n.maxCollapseTags):s.selected:[]),Ut=U(()=>n.multiple?n.collapseTags?s.selected.slice(n.maxCollapseTags):[]:[]),Ae=et=>{if(!A.value){A.value=!0;return}if(!(s.options.size===0||me.value===0||b.value)&&!X.value){et==="next"?(s.hoveringIndex++,s.hoveringIndex===s.options.size&&(s.hoveringIndex=0)):et==="prev"&&(s.hoveringIndex--,s.hoveringIndex<0&&(s.hoveringIndex=s.options.size-1));const wt=Re.value[s.hoveringIndex];(wt.isDisabled||!wt.visible)&&Ae(et),Yt(()=>ht(I.value))}},le=()=>{if(!l.value)return 0;const et=window.getComputedStyle(l.value);return Number.parseFloat(et.gap||"6px")},xt=U(()=>{const et=le();return{maxWidth:`${v.value&&n.maxCollapseTags===1?s.selectionWidth-s.collapseItemWidth-et:s.selectionWidth}px`}}),mt=U(()=>({maxWidth:`${s.selectionWidth}px`})),At=U(()=>({width:`${Math.max(s.calculatorWidth,TAe)}px`}));return hi(l,Y),hi(f,Q),hi(m,Ue),hi(M,Ue),hi(g,ct),hi(v,we),dn(()=>{ke()}),{inputId:N,contentId:r,nsSelect:i,nsInput:a,states:s,isFocused:C,expanded:A,optionsArray:Re,hoverOption:I,selectSize:K,filteredOptionsCount:me,resetCalculatorWidth:Q,updateTooltip:Ue,updateTagTooltip:ct,debouncedOnInputChange:ft,onInput:Ee,deletePrevTag:ye,deleteTag:ve,deleteSelected:Le,handleOptionSelect:be,scrollToOption:ht,hasModelValue:z,shouldShowPlaceholder:$e,currentPlaceholder:Ne,mouseEnterEventName:Ye,needStatusIcon:B,showClose:W,iconComponent:Z,iconReverse:ee,validateState:J,validateIcon:re,showNewOption:Ge,updateOptions:We,collapseTagSize:ue,setSelected:ke,selectDisabled:H,emptyText:de,handleCompositionStart:_,handleCompositionUpdate:w,handleCompositionEnd:x,onOptionCreate:Ie,onOptionDestroy:bt,handleMenuEnter:vt,focus:kt,blur:Tt,handleClearClick:an,handleClickOutside:_n,handleEsc:or,toggleMenu:Ln,selectOption:Kr,getValueKey:jn,navigateOptions:Ae,dropdownMenuVisible:ie,showTagList:se,collapseTagList:Ut,tagStyle:xt,collapseTagStyle:mt,inputStyle:At,popperRef:nt,inputRef:d,tooltipRef:c,tagTooltipRef:u,calculatorRef:f,prefixRef:h,suffixRef:p,selectRef:o,wrapperRef:M,selectionRef:l,scrollbarRef:y,menuRef:m,tagMenuRef:g,collapseItemRef:v}};var EAe=Pe({name:"ElOptions",setup(n,{slots:e}){const t=Nt(_y);let r=[];return()=>{var i,a;const s=(i=e.default)==null?void 0:i.call(e),o=[];function l(c){St(c)&&c.forEach(u=>{var d,f,h,p;const m=(d=(u==null?void 0:u.type)||{})==null?void 0:d.name;m==="ElOptionGroup"?l(!qt(u.children)&&!St(u.children)&&Kt((f=u.children)==null?void 0:f.default)?(h=u.children)==null?void 0:h.default():u.children):m==="ElOption"?o.push((p=u.props)==null?void 0:p.value):St(u.children)&&l(u.children)})}return s.length&&l((a=s[0])==null?void 0:a.children),Ka(o,r)||(r=o,t&&(t.states.optionValues=o)),s}}});const IAe=Et({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:oa,effect:{type:Ke(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Ke(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Ea.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Dr,default:$d},fitInputWidth:Boolean,suffixIcon:{type:Dr,default:Vd},tagType:{...Ad.type,default:"info"},tagEffect:{...Ad.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:Ke(String),values:Gd,default:"bottom-start"},fallbackPlacements:{type:Ke(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...vy,...Xa(["ariaLabel"])}),q7="ElSelect",RAe=Pe({name:q7,componentName:q7,components:{ElSelectMenu:MAe,ElOption:ek,ElOptions:EAe,ElTag:Ig,ElScrollbar:Mu,ElTooltip:ds,ElIcon:Gt},directives:{ClickOutside:Ed},props:IAe,emits:[Tn,Pr,"remove-tag","clear","visible-change","focus","blur"],setup(n,{emit:e}){const t=U(()=>{const{modelValue:s,multiple:o}=n,l=o?[]:void 0;return St(s)?o?s:l:o?l:s}),r=pr({...aa(n),modelValue:t}),i=AAe(r,e);Vn(_y,pr({props:r,states:i.states,optionsArray:i.optionsArray,handleOptionSelect:i.handleOptionSelect,onOptionCreate:i.onOptionCreate,onOptionDestroy:i.onOptionDestroy,selectRef:i.selectRef,setSelected:i.setSelected}));const a=U(()=>n.multiple?i.states.selected.map(s=>s.currentLabel):i.states.selectedLabel);return{...i,modelValue:t,selectedLabel:a}}});function PAe(n,e,t,r,i,a){const s=Lt("el-tag"),o=Lt("el-tooltip"),l=Lt("el-icon"),c=Lt("el-option"),u=Lt("el-options"),d=Lt("el-scrollbar"),f=Lt("el-select-menu"),h=gS("click-outside");return Sn(($(),ge("div",{ref:"selectRef",class:j([n.nsSelect.b(),n.nsSelect.m(n.selectSize)]),[Yv(n.mouseEnterEventName)]:p=>n.states.inputHovering=!0,onMouseleave:p=>n.states.inputHovering=!1},[pe(o,{ref:"tooltipRef",visible:n.dropdownMenuVisible,placement:n.placement,teleported:n.teleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"popper-options":n.popperOptions,"fallback-placements":n.fallbackPlacements,effect:n.effect,pure:"",trigger:"click",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:n.persistent,"append-to":n.appendTo,"show-arrow":n.showArrow,offset:n.offset,onBeforeShow:n.handleMenuEnter,onHide:p=>n.states.isBeforeHide=!1},{default:Me(()=>{var p;return[_e("div",{ref:"wrapperRef",class:j([n.nsSelect.e("wrapper"),n.nsSelect.is("focused",n.isFocused),n.nsSelect.is("hovering",n.states.inputHovering),n.nsSelect.is("filterable",n.filterable),n.nsSelect.is("disabled",n.selectDisabled)]),onClick:sn(n.toggleMenu,["prevent"])},[n.$slots.prefix?($(),ge("div",{key:0,ref:"prefixRef",class:j(n.nsSelect.e("prefix"))},[Qe(n.$slots,"prefix")],2)):Je("v-if",!0),_e("div",{ref:"selectionRef",class:j([n.nsSelect.e("selection"),n.nsSelect.is("near",n.multiple&&!n.$slots.prefix&&!!n.states.selected.length)])},[n.multiple?Qe(n.$slots,"tag",{key:0},()=>[($(!0),ge(Bt,null,kn(n.showTagList,m=>($(),ge("div",{key:n.getValueKey(m),class:j(n.nsSelect.e("selected-item"))},[pe(s,{closable:!n.selectDisabled&&!m.isDisabled,size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",style:Ft(n.tagStyle),onClose:g=>n.deleteTag(g,m)},{default:Me(()=>[_e("span",{class:j(n.nsSelect.e("tags-text"))},[Qe(n.$slots,"label",{label:m.currentLabel,value:m.value},()=>[un(_t(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),n.collapseTags&&n.states.selected.length>n.maxCollapseTags?($(),rt(o,{key:0,ref:"tagTooltipRef",disabled:n.dropdownMenuVisible||!n.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:n.teleported},{default:Me(()=>[_e("div",{ref:"collapseItemRef",class:j(n.nsSelect.e("selected-item"))},[pe(s,{closable:!1,size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",style:Ft(n.collapseTagStyle)},{default:Me(()=>[_e("span",{class:j(n.nsSelect.e("tags-text"))}," + "+_t(n.states.selected.length-n.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:Me(()=>[_e("div",{ref:"tagMenuRef",class:j(n.nsSelect.e("selection"))},[($(!0),ge(Bt,null,kn(n.collapseTagList,m=>($(),ge("div",{key:n.getValueKey(m),class:j(n.nsSelect.e("selected-item"))},[pe(s,{class:"in-tooltip",closable:!n.selectDisabled&&!m.isDisabled,size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",onClose:g=>n.deleteTag(g,m)},{default:Me(()=>[_e("span",{class:j(n.nsSelect.e("tags-text"))},[Qe(n.$slots,"label",{label:m.currentLabel,value:m.value},()=>[un(_t(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Je("v-if",!0)]):Je("v-if",!0),_e("div",{class:j([n.nsSelect.e("selected-item"),n.nsSelect.e("input-wrapper"),n.nsSelect.is("hidden",!n.filterable)])},[Sn(_e("input",{id:n.inputId,ref:"inputRef","onUpdate:modelValue":m=>n.states.inputValue=m,type:"text",name:n.name,class:j([n.nsSelect.e("input"),n.nsSelect.is(n.selectSize)]),disabled:n.selectDisabled,autocomplete:n.autocomplete,style:Ft(n.inputStyle),tabindex:n.tabindex,role:"combobox",readonly:!n.filterable,spellcheck:"false","aria-activedescendant":((p=n.hoverOption)==null?void 0:p.id)||"","aria-controls":n.contentId,"aria-expanded":n.dropdownMenuVisible,"aria-label":n.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Rr(sn(m=>n.navigateOptions("next"),["stop","prevent"]),["down"]),Rr(sn(m=>n.navigateOptions("prev"),["stop","prevent"]),["up"]),Rr(sn(n.handleEsc,["stop","prevent"]),["esc"]),Rr(sn(n.selectOption,["stop","prevent"]),["enter"]),Rr(sn(n.deletePrevTag,["stop"]),["delete"])],onCompositionstart:n.handleCompositionStart,onCompositionupdate:n.handleCompositionUpdate,onCompositionend:n.handleCompositionEnd,onInput:n.onInput,onClick:sn(n.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[fh,n.states.inputValue]]),n.filterable?($(),ge("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:j(n.nsSelect.e("input-calculator")),textContent:_t(n.states.inputValue)},null,10,["textContent"])):Je("v-if",!0)],2),n.shouldShowPlaceholder?($(),ge("div",{key:1,class:j([n.nsSelect.e("selected-item"),n.nsSelect.e("placeholder"),n.nsSelect.is("transparent",!n.hasModelValue||n.expanded&&!n.states.inputValue)])},[n.hasModelValue?Qe(n.$slots,"label",{key:0,label:n.currentPlaceholder,value:n.modelValue},()=>[_e("span",null,_t(n.currentPlaceholder),1)]):($(),ge("span",{key:1},_t(n.currentPlaceholder),1))],2)):Je("v-if",!0)],2),_e("div",{ref:"suffixRef",class:j(n.nsSelect.e("suffix"))},[n.iconComponent&&!n.showClose?($(),rt(l,{key:0,class:j([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.iconReverse])},{default:Me(()=>[($(),rt(Rn(n.iconComponent)))]),_:1},8,["class"])):Je("v-if",!0),n.showClose&&n.clearIcon?($(),rt(l,{key:1,class:j([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.nsSelect.e("clear")]),onClick:n.handleClearClick},{default:Me(()=>[($(),rt(Rn(n.clearIcon)))]),_:1},8,["class","onClick"])):Je("v-if",!0),n.validateState&&n.validateIcon&&n.needStatusIcon?($(),rt(l,{key:2,class:j([n.nsInput.e("icon"),n.nsInput.e("validateIcon")])},{default:Me(()=>[($(),rt(Rn(n.validateIcon)))]),_:1},8,["class"])):Je("v-if",!0)],2)],10,["onClick"])]}),content:Me(()=>[pe(f,{ref:"menuRef"},{default:Me(()=>[n.$slots.header?($(),ge("div",{key:0,class:j(n.nsSelect.be("dropdown","header")),onClick:sn(()=>{},["stop"])},[Qe(n.$slots,"header")],10,["onClick"])):Je("v-if",!0),Sn(pe(d,{id:n.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":n.nsSelect.be("dropdown","wrap"),"view-class":n.nsSelect.be("dropdown","list"),class:j([n.nsSelect.is("empty",n.filteredOptionsCount===0)]),role:"listbox","aria-label":n.ariaLabel,"aria-orientation":"vertical"},{default:Me(()=>[n.showNewOption?($(),rt(c,{key:0,value:n.states.inputValue,created:!0},null,8,["value"])):Je("v-if",!0),pe(u,null,{default:Me(()=>[Qe(n.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[lr,n.states.options.size>0&&!n.loading]]),n.$slots.loading&&n.loading?($(),ge("div",{key:1,class:j(n.nsSelect.be("dropdown","loading"))},[Qe(n.$slots,"loading")],2)):n.loading||n.filteredOptionsCount===0?($(),ge("div",{key:2,class:j(n.nsSelect.be("dropdown","empty"))},[Qe(n.$slots,"empty",{},()=>[_e("span",null,_t(n.emptyText),1)])],2)):Je("v-if",!0),n.$slots.footer?($(),ge("div",{key:3,class:j(n.nsSelect.be("dropdown","footer")),onClick:sn(()=>{},["stop"])},[Qe(n.$slots,"footer")],10,["onClick"])):Je("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[h,n.handleClickOutside,n.popperRef]])}var LAe=It(RAe,[["render",PAe],["__file","select.vue"]]);const DAe=Pe({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(n){const e=yt("select"),t=te(null),r=wn(),i=te([]);Vn(rZ,pr({...aa(n)}));const a=U(()=>i.value.some(c=>c.visible===!0)),s=c=>{var u,d;return((u=c.type)==null?void 0:u.name)==="ElOption"&&!!((d=c.component)!=null&&d.proxy)},o=c=>{const u=Is(c),d=[];return u.forEach(f=>{var h,p;s(f)?d.push(f.component.proxy):(h=f.children)!=null&&h.length?d.push(...o(f.children)):(p=f.component)!=null&&p.subTree&&d.push(...o(f.component.subTree))}),d},l=()=>{i.value=o(r.subTree)};return dn(()=>{l()}),OY(t,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:t,visible:a,ns:e}}});function kAe(n,e,t,r,i,a){return Sn(($(),ge("ul",{ref:"groupRef",class:j(n.ns.be("group","wrap"))},[_e("li",{class:j(n.ns.be("group","title"))},_t(n.label),3),_e("li",null,[_e("ul",{class:j(n.ns.b("group"))},[Qe(n.$slots,"default")],2)])],2)),[[lr,n.visible]])}var iZ=It(DAe,[["render",kAe],["__file","option-group.vue"]]);const A0=gn(LAe,{Option:ek,OptionGroup:iZ}),JC=Ci(ek),OAe=Ci(iZ),tk=()=>Nt(nZ,{}),NAe=Et({pageSize:{type:Number,required:!0},pageSizes:{type:Ke(Array),default:()=>wi([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:Cu},appendSizeTo:String}),BAe=Pe({name:"ElPaginationSizes"}),FAe=Pe({...BAe,props:NAe,emits:["page-size-change"],setup(n,{emit:e}){const t=n,{t:r}=nr(),i=yt("pagination"),a=tk(),s=te(t.pageSize);dt(()=>t.pageSizes,(c,u)=>{if(!Ka(c,u)&&St(c)){const d=c.includes(t.pageSize)?t.pageSize:t.pageSizes[0];e("page-size-change",d)}}),dt(()=>t.pageSize,c=>{s.value=c});const o=U(()=>t.pageSizes);function l(c){var u;c!==s.value&&(s.value=c,(u=a.handleSizeChange)==null||u.call(a,Number(c)))}return(c,u)=>($(),ge("span",{class:j(S(i).e("sizes"))},[pe(S(A0),{"model-value":s.value,disabled:c.disabled,"popper-class":c.popperClass,size:c.size,teleported:c.teleported,"validate-event":!1,"append-to":c.appendSizeTo,onChange:l},{default:Me(()=>[($(!0),ge(Bt,null,kn(S(o),d=>($(),rt(S(JC),{key:d,value:d,label:d+S(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var zAe=It(FAe,[["__file","sizes.vue"]]);const UAe=Et({size:{type:String,values:Cu}}),HAe=Pe({name:"ElPaginationJumper"}),VAe=Pe({...HAe,props:UAe,setup(n){const{t:e}=nr(),t=yt("pagination"),{pageCount:r,disabled:i,currentPage:a,changeEvent:s}=tk(),o=te(),l=U(()=>{var d;return(d=o.value)!=null?d:a==null?void 0:a.value});function c(d){o.value=d?+d:""}function u(d){d=Math.trunc(+d),s==null||s(d),o.value=void 0}return(d,f)=>($(),ge("span",{class:j(S(t).e("jump")),disabled:S(i)},[_e("span",{class:j([S(t).e("goto")])},_t(S(e)("el.pagination.goto")),3),pe(S(Ls),{size:d.size,class:j([S(t).e("editor"),S(t).is("in-pagination")]),min:1,max:S(r),disabled:S(i),"model-value":S(l),"validate-event":!1,"aria-label":S(e)("el.pagination.page"),type:"number","onUpdate:modelValue":c,onChange:u},null,8,["size","class","max","disabled","model-value","aria-label"]),_e("span",{class:j([S(t).e("classifier")])},_t(S(e)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var $Ae=It(VAe,[["__file","jumper.vue"]]);const GAe=Et({total:{type:Number,default:1e3}}),WAe=Pe({name:"ElPaginationTotal"}),qAe=Pe({...WAe,props:GAe,setup(n){const{t:e}=nr(),t=yt("pagination"),{disabled:r}=tk();return(i,a)=>($(),ge("span",{class:j(S(t).e("total")),disabled:S(r)},_t(S(e)("el.pagination.total",{total:i.total})),11,["disabled"]))}});var KAe=It(qAe,[["__file","total.vue"]]);const YAe=Et({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),XAe=Pe({name:"ElPaginationPager"}),jAe=Pe({...XAe,props:YAe,emits:["change"],setup(n,{emit:e}){const t=n,r=yt("pager"),i=yt("icon"),{t:a}=nr(),s=te(!1),o=te(!1),l=te(!1),c=te(!1),u=te(!1),d=te(!1),f=U(()=>{const _=t.pagerCount,w=(_-1)/2,x=Number(t.currentPage),M=Number(t.pageCount);let C=!1,T=!1;M>_&&(x>_-w&&(C=!0),x<M-w&&(T=!0));const A=[];if(C&&!T){const I=M-(_-2);for(let L=I;L<M;L++)A.push(L)}else if(!C&&T)for(let I=2;I<_;I++)A.push(I);else if(C&&T){const I=Math.floor(_/2)-1;for(let L=x-I;L<=x+I;L++)A.push(L)}else for(let I=2;I<M;I++)A.push(I);return A}),h=U(()=>["more","btn-quickprev",i.b(),r.is("disabled",t.disabled)]),p=U(()=>["more","btn-quicknext",i.b(),r.is("disabled",t.disabled)]),m=U(()=>t.disabled?-1:0);wa(()=>{const _=(t.pagerCount-1)/2;s.value=!1,o.value=!1,t.pageCount>t.pagerCount&&(t.currentPage>t.pagerCount-_&&(s.value=!0),t.currentPage<t.pageCount-_&&(o.value=!0))});function g(_=!1){t.disabled||(_?l.value=!0:c.value=!0)}function v(_=!1){_?u.value=!0:d.value=!0}function y(_){const w=_.target;if(w.tagName.toLowerCase()==="li"&&Array.from(w.classList).includes("number")){const x=Number(w.textContent);x!==t.currentPage&&e("change",x)}else w.tagName.toLowerCase()==="li"&&Array.from(w.classList).includes("more")&&b(_)}function b(_){const w=_.target;if(w.tagName.toLowerCase()==="ul"||t.disabled)return;let x=Number(w.textContent);const M=t.pageCount,C=t.currentPage,T=t.pagerCount-2;w.className.includes("more")&&(w.className.includes("quickprev")?x=C-T:w.className.includes("quicknext")&&(x=C+T)),Number.isNaN(+x)||(x<1&&(x=1),x>M&&(x=M)),x!==C&&e("change",x)}return(_,w)=>($(),ge("ul",{class:j(S(r).b()),onClick:b,onKeyup:Rr(y,["enter"])},[_.pageCount>0?($(),ge("li",{key:0,class:j([[S(r).is("active",_.currentPage===1),S(r).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===1,"aria-label":S(a)("el.pagination.currentPage",{pager:1}),tabindex:S(m)}," 1 ",10,["aria-current","aria-label","tabindex"])):Je("v-if",!0),s.value?($(),ge("li",{key:1,class:j(S(h)),tabindex:S(m),"aria-label":S(a)("el.pagination.prevPages",{pager:_.pagerCount-2}),onMouseenter:x=>g(!0),onMouseleave:x=>l.value=!1,onFocus:x=>v(!0),onBlur:x=>u.value=!1},[(l.value||u.value)&&!_.disabled?($(),rt(S(vh),{key:0})):($(),rt(S(WF),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Je("v-if",!0),($(!0),ge(Bt,null,kn(S(f),x=>($(),ge("li",{key:x,class:j([[S(r).is("active",_.currentPage===x),S(r).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===x,"aria-label":S(a)("el.pagination.currentPage",{pager:x}),tabindex:S(m)},_t(x),11,["aria-current","aria-label","tabindex"]))),128)),o.value?($(),ge("li",{key:2,class:j(S(p)),tabindex:S(m),"aria-label":S(a)("el.pagination.nextPages",{pager:_.pagerCount-2}),onMouseenter:x=>g(),onMouseleave:x=>c.value=!1,onFocus:x=>v(),onBlur:x=>d.value=!1},[(c.value||d.value)&&!_.disabled?($(),rt(S(gh),{key:0})):($(),rt(S(WF),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Je("v-if",!0),_.pageCount>1?($(),ge("li",{key:3,class:j([[S(r).is("active",_.currentPage===_.pageCount),S(r).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===_.pageCount,"aria-label":S(a)("el.pagination.currentPage",{pager:_.pageCount}),tabindex:S(m)},_t(_.pageCount),11,["aria-current","aria-label","tabindex"])):Je("v-if",!0)],42,["onKeyup"]))}});var ZAe=It(jAe,[["__file","pager.vue"]]);const zs=n=>typeof n!="number",QAe=Et({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:n=>en(n)&&Math.trunc(n)===n&&n>4&&n<22&&n%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Ke(Array),default:()=>wi([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Dr,default:()=>mh},nextText:{type:String,default:""},nextIcon:{type:Dr,default:()=>Zs},teleported:{type:Boolean,default:!0},small:Boolean,size:oa,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),JAe={"update:current-page":n=>en(n),"update:page-size":n=>en(n),"size-change":n=>en(n),change:(n,e)=>en(n)&&en(e),"current-change":n=>en(n),"prev-click":n=>en(n),"next-click":n=>en(n)},K7="ElPagination";var eEe=Pe({name:K7,props:QAe,emits:JAe,setup(n,{emit:e,slots:t}){const{t:r}=nr(),i=yt("pagination"),a=wn().vnode.props||{},s=VY(),o=U(()=>{var w;return n.small?"small":(w=n.size)!=null?w:s.value});Xf({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},U(()=>!!n.small));const l="onUpdate:currentPage"in a||"onUpdate:current-page"in a||"onCurrentChange"in a,c="onUpdate:pageSize"in a||"onUpdate:page-size"in a||"onSizeChange"in a,u=U(()=>{if(zs(n.total)&&zs(n.pageCount)||!zs(n.currentPage)&&!l)return!1;if(n.layout.includes("sizes")){if(zs(n.pageCount)){if(!zs(n.total)&&!zs(n.pageSize)&&!c)return!1}else if(!c)return!1}return!0}),d=te(zs(n.defaultPageSize)?10:n.defaultPageSize),f=te(zs(n.defaultCurrentPage)?1:n.defaultCurrentPage),h=U({get(){return zs(n.pageSize)?d.value:n.pageSize},set(w){zs(n.pageSize)&&(d.value=w),c&&(e("update:page-size",w),e("size-change",w))}}),p=U(()=>{let w=0;return zs(n.pageCount)?zs(n.total)||(w=Math.max(1,Math.ceil(n.total/h.value))):w=n.pageCount,w}),m=U({get(){return zs(n.currentPage)?f.value:n.currentPage},set(w){let x=w;w<1?x=1:w>p.value&&(x=p.value),zs(n.currentPage)&&(f.value=x),l&&(e("update:current-page",x),e("current-change",x))}});dt(p,w=>{m.value>w&&(m.value=w)}),dt([m,h],w=>{e("change",...w)},{flush:"post"});function g(w){m.value=w}function v(w){h.value=w;const x=p.value;m.value>x&&(m.value=x)}function y(){n.disabled||(m.value-=1,e("prev-click",m.value))}function b(){n.disabled||(m.value+=1,e("next-click",m.value))}function _(w,x){w&&(w.props||(w.props={}),w.props.class=[w.props.class,x].join(" "))}return Vn(nZ,{pageCount:p,disabled:U(()=>n.disabled),currentPage:m,changeEvent:g,handleSizeChange:v}),()=>{var w,x;if(!u.value)return r("el.pagination.deprecationWarning"),null;if(!n.layout||n.hideOnSinglePage&&p.value<=1)return null;const M=[],C=[],T=$t("div",{class:i.e("rightwrapper")},C),A={prev:$t(mAe,{disabled:n.disabled,currentPage:m.value,prevText:n.prevText,prevIcon:n.prevIcon,onClick:y}),jumper:$t($Ae,{size:o.value}),pager:$t(ZAe,{currentPage:m.value,pageCount:p.value,pagerCount:n.pagerCount,onChange:g,disabled:n.disabled}),next:$t(bAe,{disabled:n.disabled,currentPage:m.value,pageCount:p.value,nextText:n.nextText,nextIcon:n.nextIcon,onClick:b}),sizes:$t(zAe,{pageSize:h.value,pageSizes:n.pageSizes,popperClass:n.popperClass,disabled:n.disabled,teleported:n.teleported,size:o.value,appendSizeTo:n.appendSizeTo}),slot:(x=(w=t==null?void 0:t.default)==null?void 0:w.call(t))!=null?x:null,total:$t(KAe,{total:zs(n.total)?0:n.total})},I=n.layout.split(",").map(k=>k.trim());let L=!1;return I.forEach(k=>{if(k==="->"){L=!0;return}L?C.push(A[k]):M.push(A[k])}),_(M[0],i.is("first")),_(M[M.length-1],i.is("last")),L&&C.length>0&&(_(C[0],i.is("first")),_(C[C.length-1],i.is("last")),M.push(T)),$t("div",{class:[i.b(),i.is("background",n.background),i.m(o.value)]},M)}}});const tEe=gn(eEe),nEe=Et({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:FR,default:"primary"},cancelButtonType:{type:String,values:FR,default:"text"},icon:{type:Dr,default:()=>Xve},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Ea.teleported,persistent:Ea.persistent,width:{type:[String,Number],default:150}}),rEe={confirm:n=>n instanceof MouseEvent,cancel:n=>n instanceof MouseEvent},iEe=Pe({name:"ElPopconfirm"}),aEe=Pe({...iEe,props:nEe,emits:rEe,setup(n,{emit:e}){const t=n,{t:r}=nr(),i=yt("popconfirm"),a=te(),s=()=>{var f,h;(h=(f=a.value)==null?void 0:f.onClose)==null||h.call(f)},o=U(()=>({width:Pi(t.width)})),l=f=>{e("confirm",f),s()},c=f=>{e("cancel",f),s()},u=U(()=>t.confirmButtonText||r("el.popconfirm.confirmButtonText")),d=U(()=>t.cancelButtonText||r("el.popconfirm.cancelButtonText"));return(f,h)=>($(),rt(S(ds),Bn({ref_key:"tooltipRef",ref:a,trigger:"click",effect:"light"},f.$attrs,{"popper-class":`${S(i).namespace.value}-popover`,"popper-style":S(o),teleported:f.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":f.hideAfter,persistent:f.persistent}),{content:Me(()=>[_e("div",{class:j(S(i).b())},[_e("div",{class:j(S(i).e("main"))},[!f.hideIcon&&f.icon?($(),rt(S(Gt),{key:0,class:j(S(i).e("icon")),style:Ft({color:f.iconColor})},{default:Me(()=>[($(),rt(Rn(f.icon)))]),_:1},8,["class","style"])):Je("v-if",!0),un(" "+_t(f.title),1)],2),_e("div",{class:j(S(i).e("action"))},[Qe(f.$slots,"actions",{confirm:l,cancel:c},()=>[pe(S(Ba),{size:"small",type:f.cancelButtonType==="text"?"":f.cancelButtonType,text:f.cancelButtonType==="text",onClick:c},{default:Me(()=>[un(_t(S(d)),1)]),_:1},8,["type","text"]),pe(S(Ba),{size:"small",type:f.confirmButtonType==="text"?"":f.confirmButtonType,text:f.confirmButtonType==="text",onClick:l},{default:Me(()=>[un(_t(S(u)),1)]),_:1},8,["type","text"])])],2)],2)]),default:Me(()=>[f.$slots.reference?Qe(f.$slots,"reference",{key:0}):Je("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var sEe=It(aEe,[["__file","popconfirm.vue"]]);const oEe=gn(sEe),lEe=Et({trigger:u_.trigger,placement:G2.placement,disabled:u_.disabled,visible:Ea.visible,transition:Ea.transition,popperOptions:G2.popperOptions,tabindex:G2.tabindex,content:Ea.content,popperStyle:Ea.popperStyle,popperClass:Ea.popperClass,enterable:{...Ea.enterable,default:!0},effect:{...Ea.effect,default:"light"},teleported:Ea.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),cEe={"update:visible":n=>Vr(n),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},uEe="onUpdate:visible",dEe=Pe({name:"ElPopover"}),fEe=Pe({...dEe,props:lEe,emits:cEe,setup(n,{expose:e,emit:t}){const r=n,i=U(()=>r[uEe]),a=yt("popover"),s=te(),o=U(()=>{var g;return(g=S(s))==null?void 0:g.popperRef}),l=U(()=>[{width:Pi(r.width)},r.popperStyle]),c=U(()=>[a.b(),r.popperClass,{[a.m("plain")]:!!r.content}]),u=U(()=>r.transition===`${a.namespace.value}-fade-in-linear`),d=()=>{var g;(g=s.value)==null||g.hide()},f=()=>{t("before-enter")},h=()=>{t("before-leave")},p=()=>{t("after-enter")},m=()=>{t("update:visible",!1),t("after-leave")};return e({popperRef:o,hide:d}),(g,v)=>($(),rt(S(ds),Bn({ref_key:"tooltipRef",ref:s},g.$attrs,{trigger:g.trigger,placement:g.placement,disabled:g.disabled,visible:g.visible,transition:g.transition,"popper-options":g.popperOptions,tabindex:g.tabindex,content:g.content,offset:g.offset,"show-after":g.showAfter,"hide-after":g.hideAfter,"auto-close":g.autoClose,"show-arrow":g.showArrow,"aria-label":g.title,effect:g.effect,enterable:g.enterable,"popper-class":S(c),"popper-style":S(l),teleported:g.teleported,persistent:g.persistent,"gpu-acceleration":S(u),"onUpdate:visible":S(i),onBeforeShow:f,onBeforeHide:h,onShow:p,onHide:m}),{content:Me(()=>[g.title?($(),ge("div",{key:0,class:j(S(a).e("title")),role:"title"},_t(g.title),3)):Je("v-if",!0),Qe(g.$slots,"default",{},()=>[un(_t(g.content),1)])]),default:Me(()=>[g.$slots.reference?Qe(g.$slots,"reference",{key:0}):Je("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var hEe=It(fEe,[["__file","popover.vue"]]);const Y7=(n,e)=>{const t=e.arg||e.value,r=t==null?void 0:t.popperRef;r&&(r.triggerRef=n)};var pEe={mounted(n,e){Y7(n,e)},updated(n,e){Y7(n,e)}};const mEe="popover",aZ=Yme(pEe,mEe),vEe=gn(hEe,{directive:aZ}),gEe=Et({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:n=>n>=0&&n<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Ke(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Ke([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Ke(Function),default:n=>`${n}%`}}),yEe=Pe({name:"ElProgress"}),bEe=Pe({...yEe,props:gEe,setup(n){const e=n,t={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=yt("progress"),i=U(()=>{const b={width:`${e.percentage}%`,animationDuration:`${e.duration}s`},_=y(e.percentage);return _.includes("gradient")?b.background=_:b.backgroundColor=_,b}),a=U(()=>(e.strokeWidth/e.width*100).toFixed(1)),s=U(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),o=U(()=>{const b=s.value,_=e.type==="dashboard";return`
          M 50 50
          m 0 ${_?"":"-"}${b}
          a ${b} ${b} 0 1 1 0 ${_?"-":""}${b*2}
          a ${b} ${b} 0 1 1 0 ${_?"":"-"}${b*2}
          `}),l=U(()=>2*Math.PI*s.value),c=U(()=>e.type==="dashboard"?.75:1),u=U(()=>`${-1*l.value*(1-c.value)/2}px`),d=U(()=>({strokeDasharray:`${l.value*c.value}px, ${l.value}px`,strokeDashoffset:u.value})),f=U(()=>({strokeDasharray:`${l.value*c.value*(e.percentage/100)}px, ${l.value}px`,strokeDashoffset:u.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=U(()=>{let b;return e.color?b=y(e.percentage):b=t[e.status]||t.default,b}),p=U(()=>e.status==="warning"?XT:e.type==="line"?e.status==="success"?m6:$d:e.status==="success"?CS:Ac),m=U(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),g=U(()=>e.format(e.percentage));function v(b){const _=100/b.length;return b.map((x,M)=>qt(x)?{color:x,percentage:(M+1)*_}:x).sort((x,M)=>x.percentage-M.percentage)}const y=b=>{var _;const{color:w}=e;if(Kt(w))return w(b);if(qt(w))return w;{const x=v(w);for(const M of x)if(M.percentage>b)return M.color;return(_=x[x.length-1])==null?void 0:_.color}};return(b,_)=>($(),ge("div",{class:j([S(r).b(),S(r).m(b.type),S(r).is(b.status),{[S(r).m("without-text")]:!b.showText,[S(r).m("text-inside")]:b.textInside}]),role:"progressbar","aria-valuenow":b.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[b.type==="line"?($(),ge("div",{key:0,class:j(S(r).b("bar"))},[_e("div",{class:j(S(r).be("bar","outer")),style:Ft({height:`${b.strokeWidth}px`})},[_e("div",{class:j([S(r).be("bar","inner"),{[S(r).bem("bar","inner","indeterminate")]:b.indeterminate},{[S(r).bem("bar","inner","striped")]:b.striped},{[S(r).bem("bar","inner","striped-flow")]:b.stripedFlow}]),style:Ft(S(i))},[(b.showText||b.$slots.default)&&b.textInside?($(),ge("div",{key:0,class:j(S(r).be("bar","innerText"))},[Qe(b.$slots,"default",{percentage:b.percentage},()=>[_e("span",null,_t(S(g)),1)])],2)):Je("v-if",!0)],6)],6)],2)):($(),ge("div",{key:1,class:j(S(r).b("circle")),style:Ft({height:`${b.width}px`,width:`${b.width}px`})},[($(),ge("svg",{viewBox:"0 0 100 100"},[_e("path",{class:j(S(r).be("circle","track")),d:S(o),stroke:`var(${S(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":b.strokeLinecap,"stroke-width":S(a),fill:"none",style:Ft(S(d))},null,14,["d","stroke","stroke-linecap","stroke-width"]),_e("path",{class:j(S(r).be("circle","path")),d:S(o),stroke:S(h),fill:"none",opacity:b.percentage?1:0,"stroke-linecap":b.strokeLinecap,"stroke-width":S(a),style:Ft(S(f))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(b.showText||b.$slots.default)&&!b.textInside?($(),ge("div",{key:2,class:j(S(r).e("text")),style:Ft({fontSize:`${S(m)}px`})},[Qe(b.$slots,"default",{percentage:b.percentage},()=>[b.status?($(),rt(S(Gt),{key:1},{default:Me(()=>[($(),rt(Rn(S(p))))]),_:1})):($(),ge("span",{key:0},_t(S(g)),1))])],6)):Je("v-if",!0)],10,["aria-valuenow"]))}});var _Ee=It(bEe,[["__file","progress.vue"]]);const sZ=gn(_Ee),SEe=Et({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:Ke([Array,Object]),default:()=>wi(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:Ke([Array,Object]),default:()=>[yw,yw,yw]},voidIcon:{type:Dr,default:()=>uge},disabledVoidIcon:{type:Dr,default:()=>yw},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:Ke(Array),default:()=>wi(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:oa,clearable:Boolean,...Xa(["ariaLabel"])}),wEe={[Pr]:n=>en(n),[Tn]:n=>en(n)},xEe=Pe({name:"ElRate"}),CEe=Pe({...xEe,props:SEe,emits:wEe,setup(n,{expose:e,emit:t}){const r=n;function i(D,H){const z=Z=>Pn(Z),B=Object.keys(H).map(Z=>+Z).filter(Z=>{const ee=H[Z];return(z(ee)?ee.excluded:!1)?D<Z:D<=Z}).sort((Z,ee)=>Z-ee),W=H[B[0]];return z(W)&&W.value||W}const a=Nt(X0,void 0),s=Nt(vu,void 0),o=ji(),l=yt("rate"),{inputId:c,isLabeledByFormItem:u}=Xl(r,{formItemContext:s}),d=te(r.modelValue),f=te(-1),h=te(!0),p=U(()=>[l.b(),l.m(o.value)]),m=U(()=>r.disabled||(a==null?void 0:a.disabled)),g=U(()=>l.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":_.value})),v=U(()=>{let D="";return r.showScore?D=r.scoreTemplate.replace(/\{\s*value\s*\}/,m.value?`${r.modelValue}`:`${d.value}`):r.showText&&(D=r.texts[Math.ceil(d.value)-1]),D}),y=U(()=>r.modelValue*100-Math.floor(r.modelValue)*100),b=U(()=>St(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),_=U(()=>{const D=i(d.value,b.value);return Pn(D)?"":D}),w=U(()=>{let D="";return m.value?D=`${y.value}%`:r.allowHalf&&(D="50%"),{color:_.value,width:D}}),x=U(()=>{let D=St(r.icons)?[...r.icons]:{...r.icons};return D=ou(D),St(D)?{[r.lowThreshold]:D[0],[r.highThreshold]:{value:D[1],excluded:!0},[r.max]:D[2]}:D}),M=U(()=>i(r.modelValue,x.value)),C=U(()=>m.value?qt(r.disabledVoidIcon)?r.disabledVoidIcon:ou(r.disabledVoidIcon):qt(r.voidIcon)?r.voidIcon:ou(r.voidIcon)),T=U(()=>i(d.value,x.value));function A(D){const H=m.value&&y.value>0&&D-1<r.modelValue&&D>r.modelValue,z=r.allowHalf&&h.value&&D-.5<=d.value&&D>d.value;return H||z}function I(D){r.clearable&&D===r.modelValue&&(D=0),t(Tn,D),r.modelValue!==D&&t("change",D)}function L(D){m.value||(r.allowHalf&&h.value?I(d.value):I(D))}function k(D){if(m.value)return;let H=d.value;const z=D.code;return z===Ot.up||z===Ot.right?(r.allowHalf?H+=.5:H+=1,D.stopPropagation(),D.preventDefault()):(z===Ot.left||z===Ot.down)&&(r.allowHalf?H-=.5:H-=1,D.stopPropagation(),D.preventDefault()),H=H<0?0:H,H=H>r.max?r.max:H,t(Tn,H),t("change",H),H}function N(D,H){if(!m.value){if(r.allowHalf&&H){let z=H.target;mo(z,l.e("item"))&&(z=z.querySelector(`.${l.e("icon")}`)),(z.clientWidth===0||mo(z,l.e("decimal")))&&(z=z.parentNode),h.value=H.offsetX*2<=z.clientWidth,d.value=h.value?D-.5:D}else d.value=D;f.value=D}}function F(){m.value||(r.allowHalf&&(h.value=r.modelValue!==Math.floor(r.modelValue)),d.value=r.modelValue,f.value=-1)}return dt(()=>r.modelValue,D=>{d.value=D,h.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||t(Tn,0),e({setCurrentValue:N,resetCurrentValue:F}),(D,H)=>{var z;return $(),ge("div",{id:S(c),class:j([S(p),S(l).is("disabled",S(m))]),role:"slider","aria-label":S(u)?void 0:D.ariaLabel||"rating","aria-labelledby":S(u)?(z=S(s))==null?void 0:z.labelId:void 0,"aria-valuenow":d.value,"aria-valuetext":S(v)||void 0,"aria-valuemin":"0","aria-valuemax":D.max,tabindex:"0",style:Ft(S(g)),onKeydown:k},[($(!0),ge(Bt,null,kn(D.max,(B,W)=>($(),ge("span",{key:W,class:j(S(l).e("item")),onMousemove:Z=>N(B,Z),onMouseleave:F,onClick:Z=>L(B)},[pe(S(Gt),{class:j([S(l).e("icon"),{hover:f.value===B},S(l).is("active",B<=d.value)])},{default:Me(()=>[A(B)?Je("v-if",!0):($(),ge(Bt,{key:0},[Sn(($(),rt(Rn(S(T)),null,null,512)),[[lr,B<=d.value]]),Sn(($(),rt(Rn(S(C)),null,null,512)),[[lr,!(B<=d.value)]])],64)),A(B)?($(),ge(Bt,{key:1},[($(),rt(Rn(S(C)),{class:j([S(l).em("decimal","box")])},null,8,["class"])),pe(S(Gt),{style:Ft(S(w)),class:j([S(l).e("icon"),S(l).e("decimal")])},{default:Me(()=>[($(),rt(Rn(S(M))))]),_:1},8,["style","class"])],64)):Je("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),D.showText||D.showScore?($(),ge("span",{key:0,class:j(S(l).e("text")),style:Ft({color:D.textColor})},_t(S(v)),7)):Je("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var MEe=It(CEe,[["__file","rate.vue"]]);const TEe=gn(MEe),Pv={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},X7={[Pv.success]:hve,[Pv.warning]:XT,[Pv.error]:v6,[Pv.info]:g6},AEe=Et({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),EEe=Pe({name:"ElResult"}),IEe=Pe({...EEe,props:AEe,setup(n){const e=n,t=yt("result"),r=U(()=>{const i=e.icon,a=i&&Pv[i]?Pv[i]:"icon-info",s=X7[a]||X7["icon-info"];return{class:a,component:s}});return(i,a)=>($(),ge("div",{class:j(S(t).b())},[_e("div",{class:j(S(t).e("icon"))},[Qe(i.$slots,"icon",{},()=>[S(r).component?($(),rt(Rn(S(r).component),{key:0,class:j(S(r).class)},null,8,["class"])):Je("v-if",!0)])],2),i.title||i.$slots.title?($(),ge("div",{key:0,class:j(S(t).e("title"))},[Qe(i.$slots,"title",{},()=>[_e("p",null,_t(i.title),1)])],2)):Je("v-if",!0),i.subTitle||i.$slots["sub-title"]?($(),ge("div",{key:1,class:j(S(t).e("subtitle"))},[Qe(i.$slots,"sub-title",{},()=>[_e("p",null,_t(i.subTitle),1)])],2)):Je("v-if",!0),i.$slots.extra?($(),ge("div",{key:2,class:j(S(t).e("extra"))},[Qe(i.$slots,"extra")],2)):Je("v-if",!0)],2))}});var REe=It(IEe,[["__file","result.vue"]]);const PEe=gn(REe),LEe=["start","center","end","space-around","space-between","space-evenly"],DEe=["top","middle","bottom"],kEe=Et({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:LEe,default:"start"},align:{type:String,values:DEe}}),OEe=Pe({name:"ElRow"}),NEe=Pe({...OEe,props:kEe,setup(n){const e=n,t=yt("row"),r=U(()=>e.gutter);Vn(sj,{gutter:r});const i=U(()=>{const s={};return e.gutter&&(s.marginRight=s.marginLeft=`-${e.gutter/2}px`),s}),a=U(()=>[t.b(),t.is(`justify-${e.justify}`,e.justify!=="start"),t.is(`align-${e.align}`,!!e.align)]);return(s,o)=>($(),rt(Rn(s.tag),{class:j(S(a)),style:Ft(S(i))},{default:Me(()=>[Qe(s.$slots,"default")]),_:3},8,["class","style"]))}});var BEe=It(NEe,[["__file","row.vue"]]);const FEe=gn(BEe),zEe=Pe({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:yt("select")}}});function UEe(n,e,t,r,i,a){return $(),ge("div",{class:j(n.ns.be("group","title")),style:Ft({...n.style,lineHeight:`${n.height}px`})},_t(n.item.label),7)}var HEe=It(zEe,[["render",UEe],["__file","group-item.vue"]]);function VEe(n,{emit:e}){return{hoverItem:()=>{n.disabled||e("hover",n.index)},selectOptionClick:()=>{n.disabled||e("select",n.item,n.index)}}}const oZ={label:"label",value:"value",disabled:"disabled",options:"options"};function aA(n){const e=U(()=>({...oZ,...n.props}));return{aliasProps:e,getLabel:s=>$i(s,e.value.label),getValue:s=>$i(s,e.value.value),getDisabled:s=>$i(s,e.value.disabled),getOptions:s=>$i(s,e.value.options)}}const $Ee=Et({allowCreate:Boolean,autocomplete:{type:Ke(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Dr,default:$d},effect:{type:Ke(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:Ke([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Ke(Array),required:!0},placeholder:{type:String},teleported:Ea.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Ke(Object),default:()=>({})},remote:Boolean,size:oa,props:{type:Ke(Object),default:()=>oZ},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:Ke(String),values:Gd,default:"bottom-start"},fallbackPlacements:{type:Ke(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Ad.type,default:"info"},tagEffect:{...Ad.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,...vy,...Xa(["ariaLabel"])}),GEe=Et({data:Array,disabled:Boolean,hovering:Boolean,item:{type:Ke(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),WEe={[Tn]:n=>!0,[Pr]:n=>!0,"remove-tag":n=>!0,"visible-change":n=>!0,focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0},qEe={hover:n=>en(n),select:(n,e)=>!0},nk=Symbol("ElSelectV2Injection"),KEe=Pe({props:GEe,emits:qEe,setup(n,{emit:e}){const t=Nt(nk),r=yt("select"),{hoverItem:i,selectOptionClick:a}=VEe(n,{emit:e}),{getLabel:s}=aA(t.props);return{ns:r,hoverItem:i,selectOptionClick:a,getLabel:s}}});function YEe(n,e,t,r,i,a){return $(),ge("li",{"aria-selected":n.selected,style:Ft(n.style),class:j([n.ns.be("dropdown","item"),n.ns.is("selected",n.selected),n.ns.is("disabled",n.disabled),n.ns.is("created",n.created),n.ns.is("hovering",n.hovering)]),onMousemove:n.hoverItem,onClick:sn(n.selectOptionClick,["stop"])},[Qe(n.$slots,"default",{item:n.item,index:n.index,disabled:n.disabled},()=>[_e("span",null,_t(n.getLabel(n.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var XEe=It(KEe,[["render",YEe],["__file","option-item.vue"]]),j7=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function jEe(n,e){return!!(n===e||j7(n)&&j7(e))}function ZEe(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!jEe(n[t],e[t]))return!1;return!0}function QEe(n,e){e===void 0&&(e=ZEe);var t=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var s=n.apply(this,i);return t={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){t=null},r}const lZ=()=>{const e=wn().proxy.$props;return U(()=>{const t=(r,i,a)=>({});return e.perfMode?VT(t):QEe(t)})},a5=50,eM="itemRendered",tM="scroll",Lv="forward",nM="backward",kl="auto",sA="smart",p_="start",eu="center",m_="end",Pg="horizontal",rk="vertical",JEe="ltr",tg="rtl",v_="negative",ik="positive-ascending",ak="positive-descending",e3e={[Pg]:"left",[rk]:"top"},t3e=20,n3e={[Pg]:"deltaX",[rk]:"deltaY"},r3e=({atEndEdge:n,atStartEdge:e,layout:t},r)=>{let i,a=0;const s=l=>l<0&&e.value||l>0&&n.value;return{hasReachedEdge:s,onWheel:l=>{T0(i);const c=l[n3e[t.value]];s(a)&&s(a+c)||(a+=c,ZT()||l.preventDefault(),i=ph(()=>{r(a),a=0}))}}},s5=Rc({type:Ke([Number,Function]),required:!0}),o5=Rc({type:Number}),l5=Rc({type:Number,default:2}),i3e=Rc({type:String,values:["ltr","rtl"],default:"ltr"}),c5=Rc({type:Number,default:0}),rM=Rc({type:Number,required:!0}),cZ=Rc({type:String,values:["horizontal","vertical"],default:rk}),uZ=Et({className:{type:String,default:""},containerElement:{type:Ke([String,Object]),default:"div"},data:{type:Ke(Array),default:()=>wi([])},direction:i3e,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Ke([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),dZ=Et({cache:l5,estimatedItemSize:o5,layout:cZ,initScrollOffset:c5,total:rM,itemSize:s5,...uZ}),u5={type:Number,default:6},fZ={type:Number,default:0},hZ={type:Number,default:2},c0=Et({columnCache:l5,columnWidth:s5,estimatedColumnWidth:o5,estimatedRowHeight:o5,initScrollLeft:c5,initScrollTop:c5,itemKey:{type:Ke(Function),default:({columnIndex:n,rowIndex:e})=>`${e}:${n}`},rowCache:l5,rowHeight:s5,totalColumn:rM,totalRow:rM,hScrollbarSize:u5,vScrollbarSize:u5,scrollbarStartGap:fZ,scrollbarEndGap:hZ,role:String,...uZ}),pZ=Et({alwaysOn:Boolean,class:String,layout:cZ,total:rM,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:u5,startGap:fZ,endGap:hZ,visible:Boolean}),$p=(n,e)=>n<e?Lv:nM,g_=n=>n===JEe||n===tg||n===Pg,Z7=n=>n===tg;let hm=null;function iM(n=!1){if(hm===null||n){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?hm=ak:(e.scrollLeft=1,e.scrollLeft===0?hm=v_:hm=ik),document.body.removeChild(e),hm}return hm}function a3e({move:n,size:e,bar:t},r){const i={},a=`translate${t.axis}(${n}px)`;return i[t.size]=e,i.transform=a,i.msTransform=a,i.webkitTransform=a,r==="horizontal"?i.height="100%":i.width="100%",i}const d5=Pe({name:"ElVirtualScrollBar",props:pZ,emits:["scroll","start-move","stop-move"],setup(n,{emit:e}){const t=U(()=>n.startGap+n.endGap),r=yt("virtual-scrollbar"),i=yt("scrollbar"),a=te(),s=te();let o=null,l=null;const c=pr({isDragging:!1,traveled:0}),u=U(()=>nX[n.layout]),d=U(()=>n.clientSize-S(t)),f=U(()=>({position:"absolute",width:`${Pg===n.layout?d.value:n.scrollbarSize}px`,height:`${Pg===n.layout?n.scrollbarSize:d.value}px`,[e3e[n.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),h=U(()=>{const x=n.ratio,M=n.clientSize;if(x>=100)return Number.POSITIVE_INFINITY;if(x>=50)return x*M/100;const C=M/3;return Math.floor(Math.min(Math.max(x*M,t3e),C))}),p=U(()=>{if(!Number.isFinite(h.value))return{display:"none"};const x=`${h.value}px`;return a3e({bar:u.value,size:x,move:c.traveled},n.layout)}),m=U(()=>Math.floor(n.clientSize-h.value-S(t))),g=()=>{window.addEventListener("mousemove",_),window.addEventListener("mouseup",b);const x=S(s);x&&(l=document.onselectstart,document.onselectstart=()=>!1,x.addEventListener("touchmove",_,{passive:!0}),x.addEventListener("touchend",b))},v=()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",b),document.onselectstart=l,l=null;const x=S(s);x&&(x.removeEventListener("touchmove",_),x.removeEventListener("touchend",b))},y=x=>{x.stopImmediatePropagation(),!(x.ctrlKey||[1,2].includes(x.button))&&(c.isDragging=!0,c[u.value.axis]=x.currentTarget[u.value.offset]-(x[u.value.client]-x.currentTarget.getBoundingClientRect()[u.value.direction]),e("start-move"),g())},b=()=>{c.isDragging=!1,c[u.value.axis]=0,e("stop-move"),v()},_=x=>{const{isDragging:M}=c;if(!M||!s.value||!a.value)return;const C=c[u.value.axis];if(!C)return;T0(o);const T=(a.value.getBoundingClientRect()[u.value.direction]-x[u.value.client])*-1,A=s.value[u.value.offset]-C,I=T-A;o=ph(()=>{c.traveled=Math.max(n.startGap,Math.min(I,m.value)),e("scroll",I,m.value)})},w=x=>{const M=Math.abs(x.target.getBoundingClientRect()[u.value.direction]-x[u.value.client]),C=s.value[u.value.offset]/2,T=M-C;c.traveled=Math.max(0,Math.min(T,m.value)),e("scroll",T,m.value)};return dt(()=>n.scrollFrom,x=>{c.isDragging||(c.traveled=Math.ceil(x*m.value))}),vr(()=>{v()}),()=>$t("div",{role:"presentation",ref:a,class:[r.b(),n.class,(n.alwaysOn||c.isDragging)&&"always-on"],style:f.value,onMousedown:sn(w,["stop","prevent"]),onTouchstartPrevent:y},$t("div",{ref:s,class:i.e("thumb"),style:p.value,onMousedown:y},[]))}}),mZ=({name:n,getOffset:e,getItemSize:t,getItemOffset:r,getEstimatedTotalSize:i,getStartIndexForOffset:a,getStopIndexForStartIndex:s,initCache:o,clearCache:l,validateProps:c})=>Pe({name:n??"ElVirtualList",props:dZ,emits:[eM,tM],setup(u,{emit:d,expose:f}){c(u);const h=wn(),p=yt("vl"),m=te(o(u,h)),g=lZ(),v=te(),y=te(),b=te(),_=te({isScrolling:!1,scrollDir:"forward",scrollOffset:en(u.initScrollOffset)?u.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:u.scrollbarAlwaysOn}),w=U(()=>{const{total:J,cache:re}=u,{isScrolling:fe,scrollDir:de,scrollOffset:me}=S(_);if(J===0)return[0,0,0,0];const Re=a(u,me,S(m)),De=s(u,Re,me,S(m)),Ge=!fe||de===nM?Math.max(1,re):1,We=!fe||de===Lv?Math.max(1,re):1;return[Math.max(0,Re-Ge),Math.max(0,Math.min(J-1,De+We)),Re,De]}),x=U(()=>i(u,S(m))),M=U(()=>g_(u.layout)),C=U(()=>[{position:"relative",[`overflow-${M.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:u.direction,height:en(u.height)?`${u.height}px`:u.height,width:en(u.width)?`${u.width}px`:u.width},u.style]),T=U(()=>{const J=S(x),re=S(M);return{height:re?"100%":`${J}px`,pointerEvents:S(_).isScrolling?"none":void 0,width:re?`${J}px`:"100%"}}),A=U(()=>M.value?u.width:u.height),{onWheel:I}=r3e({atStartEdge:U(()=>_.value.scrollOffset<=0),atEndEdge:U(()=>_.value.scrollOffset>=x.value),layout:U(()=>u.layout)},J=>{var re,fe;(fe=(re=b.value).onMouseUp)==null||fe.call(re),H(Math.min(_.value.scrollOffset+J,x.value-A.value))});Ar(v,"wheel",I,{passive:!1});const L=()=>{const{total:J}=u;if(J>0){const[me,Re,De,Ge]=S(w);d(eM,me,Re,De,Ge)}const{scrollDir:re,scrollOffset:fe,updateRequested:de}=S(_);d(tM,re,fe,de)},k=J=>{const{clientHeight:re,scrollHeight:fe,scrollTop:de}=J.currentTarget,me=S(_);if(me.scrollOffset===de)return;const Re=Math.max(0,Math.min(de,fe-re));_.value={...me,isScrolling:!0,scrollDir:$p(me.scrollOffset,Re),scrollOffset:Re,updateRequested:!1},Yt(W)},N=J=>{const{clientWidth:re,scrollLeft:fe,scrollWidth:de}=J.currentTarget,me=S(_);if(me.scrollOffset===fe)return;const{direction:Re}=u;let De=fe;if(Re===tg)switch(iM()){case v_:{De=-fe;break}case ak:{De=de-re-fe;break}}De=Math.max(0,Math.min(De,de-re)),_.value={...me,isScrolling:!0,scrollDir:$p(me.scrollOffset,De),scrollOffset:De,updateRequested:!1},Yt(W)},F=J=>{S(M)?N(J):k(J),L()},D=(J,re)=>{const fe=(x.value-A.value)/re*J;H(Math.min(x.value-A.value,fe))},H=J=>{J=Math.max(J,0),J!==S(_).scrollOffset&&(_.value={...S(_),scrollOffset:J,scrollDir:$p(S(_).scrollOffset,J),updateRequested:!0},Yt(W))},z=(J,re=kl)=>{const{scrollOffset:fe}=S(_);J=Math.max(0,Math.min(J,u.total-1)),H(e(u,J,re,fe,S(m)))},B=J=>{const{direction:re,itemSize:fe,layout:de}=u,me=g.value(l&&fe,l&&de,l&&re);let Re;if(ar(me,String(J)))Re=me[J];else{const De=r(u,J,S(m)),Ge=t(u,J,S(m)),We=S(M),K=re===tg,ue=We?De:0;me[J]=Re={position:"absolute",left:K?void 0:`${ue}px`,right:K?`${ue}px`:void 0,top:We?0:`${De}px`,height:We?"100%":`${Ge}px`,width:We?`${Ge}px`:"100%"}}return Re},W=()=>{_.value.isScrolling=!1,Yt(()=>{g.value(-1,null,null)})},Z=()=>{const J=v.value;J&&(J.scrollTop=0)};dn(()=>{if(!tr)return;const{initScrollOffset:J}=u,re=S(v);en(J)&&re&&(S(M)?re.scrollLeft=J:re.scrollTop=J),L()}),Io(()=>{const{direction:J,layout:re}=u,{scrollOffset:fe,updateRequested:de}=S(_),me=S(v);if(de&&me)if(re===Pg)if(J===tg)switch(iM()){case v_:{me.scrollLeft=-fe;break}case ik:{me.scrollLeft=fe;break}default:{const{clientWidth:Re,scrollWidth:De}=me;me.scrollLeft=De-Re-fe;break}}else me.scrollLeft=fe;else me.scrollTop=fe}),LT(()=>{S(v).scrollTop=S(_).scrollOffset});const ee={ns:p,clientSize:A,estimatedTotalSize:x,windowStyle:C,windowRef:v,innerRef:y,innerStyle:T,itemsToRender:w,scrollbarRef:b,states:_,getItemStyle:B,onScroll:F,onScrollbarScroll:D,onWheel:I,scrollTo:H,scrollToItem:z,resetScrollTop:Z};return f({windowRef:v,innerRef:y,getItemStyleCache:g,scrollTo:H,scrollToItem:z,resetScrollTop:Z,states:_}),ee},render(u){var d;const{$slots:f,className:h,clientSize:p,containerElement:m,data:g,getItemStyle:v,innerElement:y,itemsToRender:b,innerStyle:_,layout:w,total:x,onScroll:M,onScrollbarScroll:C,states:T,useIsScrolling:A,windowStyle:I,ns:L}=u,[k,N]=b,F=Rn(m),D=Rn(y),H=[];if(x>0)for(let Z=k;Z<=N;Z++)H.push($t(Bt,{key:Z},(d=f.default)==null?void 0:d.call(f,{data:g,index:Z,isScrolling:A?T.isScrolling:void 0,style:v(Z)})));const z=[$t(D,{style:_,ref:"innerRef"},qt(D)?H:{default:()=>H})],B=$t(d5,{ref:"scrollbarRef",clientSize:p,layout:w,onScroll:C,ratio:p*100/this.estimatedTotalSize,scrollFrom:T.scrollOffset/(this.estimatedTotalSize-p),total:x}),W=$t(F,{class:[L.e("window"),h],style:I,onScroll:M,ref:"windowRef",key:0},qt(F)?[z]:{default:()=>[z]});return $t("div",{key:0,class:[L.e("wrapper"),T.scrollbarAlwaysOn?"always-on":""]},[W,B])}}),vZ=mZ({name:"ElFixedSizeList",getItemOffset:({itemSize:n},e)=>e*n,getItemSize:({itemSize:n})=>n,getEstimatedTotalSize:({total:n,itemSize:e})=>e*n,getOffset:({height:n,total:e,itemSize:t,layout:r,width:i},a,s,o)=>{const l=g_(r)?i:n,c=Math.max(0,e*t-l),u=Math.min(c,a*t),d=Math.max(0,(a+1)*t-l);switch(s===sA&&(o>=d-l&&o<=u+l?s=kl:s=eu),s){case p_:return u;case m_:return d;case eu:{const f=Math.round(d+(u-d)/2);return f<Math.ceil(l/2)?0:f>c+Math.floor(l/2)?c:f}case kl:default:return o>=d&&o<=u?o:o<d?d:u}},getStartIndexForOffset:({total:n,itemSize:e},t)=>Math.max(0,Math.min(n-1,Math.floor(t/e))),getStopIndexForStartIndex:({height:n,total:e,itemSize:t,layout:r,width:i},a,s)=>{const o=a*t,l=g_(r)?i:n,c=Math.ceil((l+s-o)/t);return Math.max(0,Math.min(e-1,a+c-1))},initCache(){},clearCache:!0,validateProps(){}}),Dv=(n,e,t)=>{const{itemSize:r}=n,{items:i,lastVisitedIndex:a}=t;if(e>a){let s=0;if(a>=0){const o=i[a];s=o.offset+o.size}for(let o=a+1;o<=e;o++){const l=r(o);i[o]={offset:s,size:l},s+=l}t.lastVisitedIndex=e}return i[e]},s3e=(n,e,t)=>{const{items:r,lastVisitedIndex:i}=e;return(i>0?r[i].offset:0)>=t?gZ(n,e,0,i,t):o3e(n,e,Math.max(0,i),t)},gZ=(n,e,t,r,i)=>{for(;t<=r;){const a=t+Math.floor((r-t)/2),s=Dv(n,a,e).offset;if(s===i)return a;s<i?t=a+1:s>i&&(r=a-1)}return Math.max(0,t-1)},o3e=(n,e,t,r)=>{const{total:i}=n;let a=1;for(;t<i&&Dv(n,t,e).offset<r;)t+=a,a*=2;return gZ(n,e,Math.floor(t/2),Math.min(t,i-1),r)},Q7=({total:n},{items:e,estimatedItemSize:t,lastVisitedIndex:r})=>{let i=0;if(r>=n&&(r=n-1),r>=0){const o=e[r];i=o.offset+o.size}const s=(n-r-1)*t;return i+s},l3e=mZ({name:"ElDynamicSizeList",getItemOffset:(n,e,t)=>Dv(n,e,t).offset,getItemSize:(n,e,{items:t})=>t[e].size,getEstimatedTotalSize:Q7,getOffset:(n,e,t,r,i)=>{const{height:a,layout:s,width:o}=n,l=g_(s)?o:a,c=Dv(n,e,i),u=Q7(n,i),d=Math.max(0,Math.min(u-l,c.offset)),f=Math.max(0,c.offset-l+c.size);switch(t===sA&&(r>=f-l&&r<=d+l?t=kl:t=eu),t){case p_:return d;case m_:return f;case eu:return Math.round(f+(d-f)/2);case kl:default:return r>=f&&r<=d?r:r<f?f:d}},getStartIndexForOffset:(n,e,t)=>s3e(n,t,e),getStopIndexForStartIndex:(n,e,t,r)=>{const{height:i,total:a,layout:s,width:o}=n,l=g_(s)?o:i,c=Dv(n,e,r),u=t+l;let d=c.offset+c.size,f=e;for(;f<a-1&&d<u;)f++,d+=Dv(n,f,r).size;return f},initCache({estimatedItemSize:n=a5},e){const t={items:{},estimatedItemSize:n,lastVisitedIndex:-1};return t.clearCacheAfterIndex=(r,i=!0)=>{var a,s;t.lastVisitedIndex=Math.min(t.lastVisitedIndex,r-1),(a=e.exposed)==null||a.getItemStyleCache(-1),i&&((s=e.proxy)==null||s.$forceUpdate())},t},clearCache:!1,validateProps:({itemSize:n})=>{}}),c3e={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var u3e=Pe({name:"ElSelectDropdown",props:c3e,setup(n,{slots:e,expose:t}){const r=Nt(nk),i=yt("select"),{getLabel:a,getValue:s,getDisabled:o}=aA(r.props),l=te([]),c=te(),u=U(()=>n.data.length);dt(()=>u.value,()=>{var I,L;(L=(I=r.tooltipRef.value).updatePopper)==null||L.call(I)});const d=U(()=>Tr(r.props.estimatedOptionHeight)),f=U(()=>d.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:I=>l.value[I]}),h=(I=[],L)=>{const{props:{valueKey:k}}=r;return Pn(L)?I&&I.some(N=>Er($i(N,k))===$i(L,k)):I.includes(L)},p=(I,L)=>{if(Pn(L)){const{valueKey:k}=r.props;return $i(I,k)===$i(L,k)}else return I===L},m=(I,L)=>r.props.multiple?h(I,s(L)):p(I,s(L)),g=(I,L)=>{const{disabled:k,multiple:N,multipleLimit:F}=r.props;return k||!L&&(N?F>0&&I.length>=F:!1)},v=I=>n.hoveringIndex===I;t({listRef:c,isSized:d,isItemDisabled:g,isItemHovering:v,isItemSelected:m,scrollToItem:I=>{const L=c.value;L&&L.scrollToItem(I)},resetScrollTop:()=>{const I=c.value;I&&I.resetScrollTop()}});const w=I=>{const{index:L,data:k,style:N}=I,F=S(d),{itemSize:D,estimatedSize:H}=S(f),{modelValue:z}=r.props,{onSelect:B,onHover:W}=r,Z=k[L];if(Z.type==="Group")return pe(HEe,{item:Z,style:N,height:F?D:H},null);const ee=m(z,Z),J=g(z,ee),re=v(L);return pe(XEe,Bn(I,{selected:ee,disabled:o(Z)||J,created:!!Z.created,hovering:re,item:Z,onSelect:B,onHover:W}),{default:fe=>{var de;return((de=e.default)==null?void 0:de.call(e,fe))||pe("span",null,[a(Z)])}})},{onKeyboardNavigate:x,onKeyboardSelect:M}=r,C=()=>{x("forward")},T=()=>{x("backward")},A=I=>{const{code:L}=I,{tab:k,esc:N,down:F,up:D,enter:H,numpadEnter:z}=Ot;switch(L!==k&&(I.preventDefault(),I.stopPropagation()),L){case k:case N:break;case F:C();break;case D:T();break;case H:case z:M();break}};return()=>{var I,L,k,N;const{data:F,width:D}=n,{height:H,multiple:z,scrollbarAlwaysOn:B}=r.props,W=S(d)?vZ:l3e;return pe("div",{class:[i.b("dropdown"),i.is("multiple",z)],style:{width:`${D}px`}},[(I=e.header)==null?void 0:I.call(e),((L=e.loading)==null?void 0:L.call(e))||((k=e.empty)==null?void 0:k.call(e))||pe(W,Bn({ref:c},S(f),{className:i.be("dropdown","list"),scrollbarAlwaysOn:B,data:F,height:H,width:D,total:F.length,onKeydown:A}),{default:Z=>pe(w,Z,null)}),(N=e.footer)==null?void 0:N.call(e)])}}});function d3e(n,e){const{aliasProps:t,getLabel:r,getValue:i}=aA(n),a=te(0),s=te(),o=U(()=>n.allowCreate&&n.filterable);function l(h){const p=m=>r(m)===h;return n.options&&n.options.some(p)||e.createdOptions.some(p)}function c(h){o.value&&(n.multiple&&h.created?a.value++:s.value=h)}function u(h){if(o.value)if(h&&h.length>0){if(l(h))return;const p={[t.value.value]:h,[t.value.label]:h,created:!0,[t.value.disabled]:!1};e.createdOptions.length>=a.value?e.createdOptions[a.value]=p:e.createdOptions.push(p)}else if(n.multiple)e.createdOptions.length=a.value;else{const p=s.value;e.createdOptions.length=0,p&&p.created&&e.createdOptions.push(p)}}function d(h){if(!o.value||!h||!h.created||h.created&&n.reserveKeyword&&e.inputValue===r(h))return;const p=e.createdOptions.findIndex(m=>i(m)===i(h));~p&&(e.createdOptions.splice(p,1),a.value--)}function f(){o.value&&(e.createdOptions.length=0,a.value=0)}return{createNewOption:u,removeNewOption:d,selectNewOption:c,clearAllNewOption:f}}const f3e=11,h3e=(n,e)=>{const{t}=nr(),r=yt("select"),i=yt("input"),{form:a,formItem:s}=hs(),{inputId:o}=Xl(n,{formItemContext:s}),{aliasProps:l,getLabel:c,getValue:u,getDisabled:d,getOptions:f}=aA(n),{valueOnClear:h,isEmptyValue:p}=qT(n),m=pr({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),g=te(-1),v=te(),y=te(),b=te(),_=te(),w=te(),x=te(),M=te(),C=te(),T=te(),A=te(),I=te(),{isComposing:L,handleCompositionStart:k,handleCompositionEnd:N,handleCompositionUpdate:F}=TS({afterComposition:qe=>On(qe)}),{wrapperRef:D,isFocused:H,handleBlur:z}=Dh(w,{beforeFocus(){return ee.value},afterFocus(){n.automaticDropdown&&!Z.value&&(Z.value=!0,m.menuVisibleOnFocus=!0)},beforeBlur(qe){var lt,it;return((lt=b.value)==null?void 0:lt.isFocusInsideContent(qe))||((it=_.value)==null?void 0:it.isFocusInsideContent(qe))},afterBlur(){Z.value=!1,m.menuVisibleOnFocus=!1}}),B=te([]),W=te([]),Z=te(!1),ee=U(()=>n.disabled||(a==null?void 0:a.disabled)),J=U(()=>{var qe;return(qe=a==null?void 0:a.statusIcon)!=null?qe:!1}),re=U(()=>{const qe=W.value.length*n.itemHeight;return qe>n.height?n.height:qe}),fe=U(()=>n.multiple?St(n.modelValue)&&n.modelValue.length>0:!p(n.modelValue)),de=U(()=>n.clearable&&!ee.value&&m.inputHovering&&fe.value),me=U(()=>n.remote&&n.filterable?"":Vd),Re=U(()=>me.value&&r.is("reverse",Z.value)),De=U(()=>(s==null?void 0:s.validateState)||""),Ge=U(()=>{if(De.value)return jT[De.value]}),We=U(()=>n.remote?300:0),K=U(()=>n.loading?n.loadingText||t("el.select.loading"):n.remote&&!m.inputValue&&B.value.length===0?!1:n.filterable&&m.inputValue&&B.value.length>0&&W.value.length===0?n.noMatchText||t("el.select.noMatch"):B.value.length===0?n.noDataText||t("el.select.noData"):null),ue=qe=>{const lt=it=>{if(n.filterable&&Kt(n.filterMethod)||n.filterable&&n.remote&&Kt(n.remoteMethod))return!0;const Ct=new RegExp(B6(qe),"i");return qe?Ct.test(c(it)||""):!0};return n.loading?[]:[...m.createdOptions,...n.options].reduce((it,Ct)=>{const tn=f(Ct);if(St(tn)){const Qt=tn.filter(lt);Qt.length>0&&it.push({label:c(Ct),type:"Group"},...Qt)}else(n.remote||lt(Ct))&&it.push(Ct);return it},[])},ie=()=>{B.value=ue(""),W.value=ue(m.inputValue)},$e=U(()=>{const qe=new Map;return B.value.forEach((lt,it)=>{qe.set(Tt(u(lt)),{option:lt,index:it})}),qe}),Ne=U(()=>{const qe=new Map;return W.value.forEach((lt,it)=>{qe.set(Tt(u(lt)),{option:lt,index:it})}),qe}),Ye=U(()=>W.value.every(qe=>d(qe))),ce=ji(),he=U(()=>ce.value==="small"?"small":"default"),ke=()=>{var qe;g.value=((qe=v.value)==null?void 0:qe.offsetWidth)||200},oe=()=>{if(!y.value)return 0;const qe=window.getComputedStyle(y.value);return Number.parseFloat(qe.gap||"6px")},V=U(()=>{const qe=oe();return{maxWidth:`${I.value&&n.maxCollapseTags===1?m.selectionWidth-m.collapseItemWidth-qe:m.selectionWidth}px`}}),Y=U(()=>({maxWidth:`${m.selectionWidth}px`})),Q=U(()=>({width:`${Math.max(m.calculatorWidth,f3e)}px`})),we=U(()=>St(n.modelValue)?n.modelValue.length===0&&!m.inputValue:n.filterable?!m.inputValue:!0),Ue=U(()=>{var qe;const lt=(qe=n.placeholder)!=null?qe:t("el.select.placeholder");return n.multiple||!fe.value?lt:m.selectedLabel}),ct=U(()=>{var qe,lt;return(lt=(qe=b.value)==null?void 0:qe.popperRef)==null?void 0:lt.contentRef}),pt=U(()=>{if(n.multiple){const qe=n.modelValue.length;if(n.modelValue.length>0&&Ne.value.has(n.modelValue[qe-1])){const{index:lt}=Ne.value.get(n.modelValue[qe-1]);return lt}}else if(!p(n.modelValue)&&Ne.value.has(n.modelValue)){const{index:qe}=Ne.value.get(n.modelValue);return qe}return-1}),Ee=U({get(){return Z.value&&K.value!==!1},set(qe){Z.value=qe}}),ft=U(()=>n.multiple?n.collapseTags?m.cachedOptions.slice(0,n.maxCollapseTags):m.cachedOptions:[]),st=U(()=>n.multiple?n.collapseTags?m.cachedOptions.slice(n.maxCollapseTags):[]:[]),{createNewOption:G,removeNewOption:ye,selectNewOption:ve,clearAllNewOption:Le}=d3e(n,m),be=()=>{ee.value||(m.menuVisibleOnFocus?m.menuVisibleOnFocus=!1:Z.value=!Z.value)},Te=()=>{m.inputValue.length>0&&!Z.value&&(Z.value=!0),G(m.inputValue),Ie(m.inputValue)},ht=Mo(Te,We.value),Ie=qe=>{m.previousQuery===qe||L.value||(m.previousQuery=qe,n.filterable&&Kt(n.filterMethod)?n.filterMethod(qe):n.filterable&&n.remote&&Kt(n.remoteMethod)&&n.remoteMethod(qe),n.defaultFirstOption&&(n.filterable||n.remote)&&W.value.length?Yt(bt):Yt(yn))},bt=()=>{const qe=W.value.filter(Ct=>!Ct.disabled&&Ct.type!=="Group"),lt=qe.find(Ct=>Ct.created),it=qe[0];m.hoveringIndex=kt(W.value,lt||it)},nt=qe=>{Ka(n.modelValue,qe)||e(Pr,qe)},vt=qe=>{e(Tn,qe),nt(qe),m.previousValue=n.multiple?String(qe):qe},kt=(qe=[],lt)=>{if(!Pn(lt))return qe.indexOf(lt);const it=n.valueKey;let Ct=-1;return qe.some((tn,Qt)=>$i(tn,it)===$i(lt,it)?(Ct=Qt,!0):!1),Ct},Tt=qe=>Pn(qe)?$i(qe,n.valueKey):qe,an=()=>{ke()},_n=()=>{m.selectionWidth=y.value.getBoundingClientRect().width},or=()=>{m.calculatorWidth=x.value.getBoundingClientRect().width},Ln=()=>{m.collapseItemWidth=I.value.getBoundingClientRect().width},Kr=()=>{var qe,lt;(lt=(qe=b.value)==null?void 0:qe.updatePopper)==null||lt.call(qe)},jn=()=>{var qe,lt;(lt=(qe=_.value)==null?void 0:qe.updatePopper)==null||lt.call(qe)},X=qe=>{if(n.multiple){let lt=n.modelValue.slice();const it=kt(lt,u(qe));it>-1?(lt=[...lt.slice(0,it),...lt.slice(it+1)],m.cachedOptions.splice(it,1),ye(qe)):(n.multipleLimit<=0||lt.length<n.multipleLimit)&&(lt=[...lt,u(qe)],m.cachedOptions.push(qe),ve(qe)),vt(lt),qe.created&&Ie(""),n.filterable&&!n.reserveKeyword&&(m.inputValue="")}else m.selectedLabel=c(qe),vt(u(qe)),Z.value=!1,ve(qe),qe.created||Le();Ut()},se=(qe,lt)=>{let it=n.modelValue.slice();const Ct=kt(it,u(lt));Ct>-1&&!ee.value&&(it=[...n.modelValue.slice(0,Ct),...n.modelValue.slice(Ct+1)],m.cachedOptions.splice(Ct,1),vt(it),e("remove-tag",u(lt)),ye(lt)),qe.stopPropagation(),Ut()},Ut=()=>{var qe;(qe=w.value)==null||qe.focus()},Ae=()=>{var qe;if(Z.value){Z.value=!1,Yt(()=>{var lt;return(lt=w.value)==null?void 0:lt.blur()});return}(qe=w.value)==null||qe.blur()},le=()=>{m.inputValue.length>0?m.inputValue="":Z.value=!1},xt=qe=>EY(qe,lt=>!m.cachedOptions.some(it=>u(it)===lt&&d(it))),mt=qe=>{if(n.multiple&&qe.code!==Ot.delete&&m.inputValue.length===0){qe.preventDefault();const lt=n.modelValue.slice(),it=xt(lt);if(it<0)return;const Ct=lt[it];lt.splice(it,1);const tn=m.cachedOptions[it];m.cachedOptions.splice(it,1),ye(tn),vt(lt),e("remove-tag",Ct)}},At=()=>{let qe;St(n.modelValue)?qe=[]:qe=h.value,n.multiple?m.cachedOptions=[]:m.selectedLabel="",Z.value=!1,vt(qe),e("clear"),Le(),Ut()},et=(qe,lt=void 0)=>{const it=W.value;if(!["forward","backward"].includes(qe)||ee.value||it.length<=0||Ye.value||L.value)return;if(!Z.value)return be();lt===void 0&&(lt=m.hoveringIndex);let Ct=-1;qe==="forward"?(Ct=lt+1,Ct>=it.length&&(Ct=0)):qe==="backward"&&(Ct=lt-1,(Ct<0||Ct>=it.length)&&(Ct=it.length-1));const tn=it[Ct];if(d(tn)||tn.type==="Group")return et(qe,Ct);m.hoveringIndex=Ct,at(Ct)},wt=()=>{if(Z.value)~m.hoveringIndex&&W.value[m.hoveringIndex]&&X(W.value[m.hoveringIndex]);else return be()},Xt=qe=>{m.hoveringIndex=qe??-1},yn=()=>{n.multiple?m.hoveringIndex=W.value.findIndex(qe=>n.modelValue.some(lt=>Tt(lt)===Tt(qe))):m.hoveringIndex=W.value.findIndex(qe=>Tt(qe)===Tt(n.modelValue))},On=qe=>{if(m.inputValue=qe.target.value,n.remote)ht();else return Te()},Ze=qe=>{if(Z.value=!1,H.value){const lt=new FocusEvent("focus",qe);z(lt)}},Yn=()=>(m.isBeforeHide=!1,Yt(()=>{~pt.value&&at(m.hoveringIndex)})),at=qe=>{T.value.scrollToItem(qe)},Oe=(qe,lt)=>{const it=Tt(qe);if($e.value.has(it)){const{option:Ct}=$e.value.get(it);return Ct}if(lt&&lt.length){const Ct=lt.find(tn=>Tt(u(tn))===it);if(Ct)return Ct}return{[l.value.value]:qe,[l.value.label]:qe}},gt=(qe=!1)=>{if(n.multiple)if(n.modelValue.length>0){const lt=m.cachedOptions.slice();m.cachedOptions.length=0,m.previousValue=n.modelValue.toString();for(const it of n.modelValue){const Ct=Oe(it,lt);m.cachedOptions.push(Ct)}}else m.cachedOptions=[],m.previousValue=void 0;else if(fe.value){m.previousValue=n.modelValue;const lt=W.value,it=lt.findIndex(Ct=>Tt(u(Ct))===Tt(n.modelValue));~it?m.selectedLabel=c(lt[it]):(!m.selectedLabel||qe)&&(m.selectedLabel=Tt(n.modelValue))}else m.selectedLabel="",m.previousValue=void 0;Le(),ke()};return dt(Z,qe=>{qe?Ie(""):(m.inputValue="",m.previousQuery=null,m.isBeforeHide=!0,G("")),e("visible-change",qe)}),dt(()=>n.modelValue,(qe,lt)=>{var it;(!qe||St(qe)&&qe.length===0||n.multiple&&!Ka(qe.toString(),m.previousValue)||!n.multiple&&Tt(qe)!==Tt(m.previousValue))&&gt(!0),!Ka(qe,lt)&&n.validateEvent&&((it=s==null?void 0:s.validate)==null||it.call(s,"change").catch(tn=>void 0))},{deep:!0}),dt(()=>n.options,()=>{const qe=w.value;(!qe||qe&&document.activeElement!==qe)&&gt()},{deep:!0,flush:"post"}),dt(()=>W.value,()=>T.value&&Yt(T.value.resetScrollTop)),wa(()=>{m.isBeforeHide||ie()}),wa(()=>{const{valueKey:qe,options:lt}=n,it=new Map;for(const Ct of lt){const tn=u(Ct);let Qt=tn;if(Pn(Qt)&&(Qt=$i(tn,qe)),it.get(Qt))break;it.set(Qt,!0)}}),dn(()=>{gt()}),hi(v,an),hi(y,_n),hi(x,or),hi(T,Kr),hi(D,Kr),hi(A,jn),hi(I,Ln),{inputId:o,collapseTagSize:he,currentPlaceholder:Ue,expanded:Z,emptyText:K,popupHeight:re,debounce:We,allOptions:B,filteredOptions:W,iconComponent:me,iconReverse:Re,tagStyle:V,collapseTagStyle:Y,inputStyle:Q,popperSize:g,dropdownMenuVisible:Ee,hasModelValue:fe,shouldShowPlaceholder:we,selectDisabled:ee,selectSize:ce,needStatusIcon:J,showClearBtn:de,states:m,isFocused:H,nsSelect:r,nsInput:i,calculatorRef:x,inputRef:w,menuRef:T,tagMenuRef:A,tooltipRef:b,tagTooltipRef:_,selectRef:v,wrapperRef:D,selectionRef:y,prefixRef:M,suffixRef:C,collapseItemRef:I,popperRef:ct,validateState:De,validateIcon:Ge,showTagList:ft,collapseTagList:st,debouncedOnInputChange:ht,deleteTag:se,getLabel:c,getValue:u,getDisabled:d,getValueKey:Tt,handleClear:At,handleClickOutside:Ze,handleDel:mt,handleEsc:le,focus:Ut,blur:Ae,handleMenuEnter:Yn,handleResize:an,resetSelectionWidth:_n,resetCalculatorWidth:or,updateTooltip:Kr,updateTagTooltip:jn,updateOptions:ie,toggleMenu:be,scrollTo:at,onInput:On,onKeyboardNavigate:et,onKeyboardSelect:wt,onSelect:X,onHover:Xt,handleCompositionStart:k,handleCompositionEnd:N,handleCompositionUpdate:F}},p3e=Pe({name:"ElSelectV2",components:{ElSelectMenu:u3e,ElTag:Ig,ElTooltip:ds,ElIcon:Gt},directives:{ClickOutside:Ed},props:$Ee,emits:WEe,setup(n,{emit:e}){const t=U(()=>{const{modelValue:a,multiple:s}=n,o=s?[]:void 0;return St(a)?s?a:o:s?o:a}),r=h3e(pr({...aa(n),modelValue:t}),e);Vn(nk,{props:pr({...aa(n),height:r.popupHeight,modelValue:t}),expanded:r.expanded,tooltipRef:r.tooltipRef,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const i=U(()=>n.multiple?r.states.cachedOptions.map(a=>a.label):r.states.selectedLabel);return{...r,modelValue:t,selectedLabel:i}}});function m3e(n,e,t,r,i,a){const s=Lt("el-tag"),o=Lt("el-tooltip"),l=Lt("el-icon"),c=Lt("el-select-menu"),u=gS("click-outside");return Sn(($(),ge("div",{ref:"selectRef",class:j([n.nsSelect.b(),n.nsSelect.m(n.selectSize)]),onMouseenter:d=>n.states.inputHovering=!0,onMouseleave:d=>n.states.inputHovering=!1},[pe(o,{ref:"tooltipRef",visible:n.dropdownMenuVisible,teleported:n.teleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":n.popperOptions,"fallback-placements":n.fallbackPlacements,effect:n.effect,placement:n.placement,pure:"",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:n.persistent,"append-to":n.appendTo,"show-arrow":n.showArrow,offset:n.offset,onBeforeShow:n.handleMenuEnter,onHide:d=>n.states.isBeforeHide=!1},{default:Me(()=>[_e("div",{ref:"wrapperRef",class:j([n.nsSelect.e("wrapper"),n.nsSelect.is("focused",n.isFocused),n.nsSelect.is("hovering",n.states.inputHovering),n.nsSelect.is("filterable",n.filterable),n.nsSelect.is("disabled",n.selectDisabled)]),onClick:sn(n.toggleMenu,["prevent"])},[n.$slots.prefix?($(),ge("div",{key:0,ref:"prefixRef",class:j(n.nsSelect.e("prefix"))},[Qe(n.$slots,"prefix")],2)):Je("v-if",!0),_e("div",{ref:"selectionRef",class:j([n.nsSelect.e("selection"),n.nsSelect.is("near",n.multiple&&!n.$slots.prefix&&!!n.modelValue.length)])},[n.multiple?Qe(n.$slots,"tag",{key:0},()=>[($(!0),ge(Bt,null,kn(n.showTagList,d=>($(),ge("div",{key:n.getValueKey(n.getValue(d)),class:j(n.nsSelect.e("selected-item"))},[pe(s,{closable:!n.selectDisabled&&!n.getDisabled(d),size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",style:Ft(n.tagStyle),onClose:f=>n.deleteTag(f,d)},{default:Me(()=>[_e("span",{class:j(n.nsSelect.e("tags-text"))},[Qe(n.$slots,"label",{label:n.getLabel(d),value:n.getValue(d)},()=>[un(_t(n.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),n.collapseTags&&n.modelValue.length>n.maxCollapseTags?($(),rt(o,{key:0,ref:"tagTooltipRef",disabled:n.dropdownMenuVisible||!n.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:n.teleported},{default:Me(()=>[_e("div",{ref:"collapseItemRef",class:j(n.nsSelect.e("selected-item"))},[pe(s,{closable:!1,size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,style:Ft(n.collapseTagStyle),"disable-transitions":""},{default:Me(()=>[_e("span",{class:j(n.nsSelect.e("tags-text"))}," + "+_t(n.modelValue.length-n.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:Me(()=>[_e("div",{ref:"tagMenuRef",class:j(n.nsSelect.e("selection"))},[($(!0),ge(Bt,null,kn(n.collapseTagList,d=>($(),ge("div",{key:n.getValueKey(n.getValue(d)),class:j(n.nsSelect.e("selected-item"))},[pe(s,{class:"in-tooltip",closable:!n.selectDisabled&&!n.getDisabled(d),size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",onClose:f=>n.deleteTag(f,d)},{default:Me(()=>[_e("span",{class:j(n.nsSelect.e("tags-text"))},[Qe(n.$slots,"label",{label:n.getLabel(d),value:n.getValue(d)},()=>[un(_t(n.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Je("v-if",!0)]):Je("v-if",!0),_e("div",{class:j([n.nsSelect.e("selected-item"),n.nsSelect.e("input-wrapper"),n.nsSelect.is("hidden",!n.filterable)])},[Sn(_e("input",{id:n.inputId,ref:"inputRef","onUpdate:modelValue":d=>n.states.inputValue=d,style:Ft(n.inputStyle),autocomplete:n.autocomplete,tabindex:n.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":n.expanded,"aria-label":n.ariaLabel,class:j([n.nsSelect.e("input"),n.nsSelect.is(n.selectSize)]),disabled:n.selectDisabled,role:"combobox",readonly:!n.filterable,spellcheck:"false",type:"text",name:n.name,onInput:n.onInput,onCompositionstart:n.handleCompositionStart,onCompositionupdate:n.handleCompositionUpdate,onCompositionend:n.handleCompositionEnd,onKeydown:[Rr(sn(d=>n.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),Rr(sn(d=>n.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),Rr(sn(n.onKeyboardSelect,["stop","prevent"]),["enter"]),Rr(sn(n.handleEsc,["stop","prevent"]),["esc"]),Rr(sn(n.handleDel,["stop"]),["delete"])],onClick:sn(n.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[fh,n.states.inputValue]]),n.filterable?($(),ge("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:j(n.nsSelect.e("input-calculator")),textContent:_t(n.states.inputValue)},null,10,["textContent"])):Je("v-if",!0)],2),n.shouldShowPlaceholder?($(),ge("div",{key:1,class:j([n.nsSelect.e("selected-item"),n.nsSelect.e("placeholder"),n.nsSelect.is("transparent",!n.hasModelValue||n.expanded&&!n.states.inputValue)])},[n.hasModelValue?Qe(n.$slots,"label",{key:0,label:n.currentPlaceholder,value:n.modelValue},()=>[_e("span",null,_t(n.currentPlaceholder),1)]):($(),ge("span",{key:1},_t(n.currentPlaceholder),1))],2)):Je("v-if",!0)],2),_e("div",{ref:"suffixRef",class:j(n.nsSelect.e("suffix"))},[n.iconComponent?Sn(($(),rt(l,{key:0,class:j([n.nsSelect.e("caret"),n.nsInput.e("icon"),n.iconReverse])},{default:Me(()=>[($(),rt(Rn(n.iconComponent)))]),_:1},8,["class"])),[[lr,!n.showClearBtn]]):Je("v-if",!0),n.showClearBtn&&n.clearIcon?($(),rt(l,{key:1,class:j([n.nsSelect.e("caret"),n.nsInput.e("icon"),n.nsSelect.e("clear")]),onClick:sn(n.handleClear,["prevent","stop"])},{default:Me(()=>[($(),rt(Rn(n.clearIcon)))]),_:1},8,["class","onClick"])):Je("v-if",!0),n.validateState&&n.validateIcon&&n.needStatusIcon?($(),rt(l,{key:2,class:j([n.nsInput.e("icon"),n.nsInput.e("validateIcon")])},{default:Me(()=>[($(),rt(Rn(n.validateIcon)))]),_:1},8,["class"])):Je("v-if",!0)],2)],10,["onClick"])]),content:Me(()=>[pe(c,{ref:"menuRef",data:n.filteredOptions,width:n.popperSize,"hovering-index":n.states.hoveringIndex,"scrollbar-always-on":n.scrollbarAlwaysOn},rl({default:Me(d=>[Qe(n.$slots,"default",Ll(Md(d)))]),_:2},[n.$slots.header?{name:"header",fn:Me(()=>[_e("div",{class:j(n.nsSelect.be("dropdown","header"))},[Qe(n.$slots,"header")],2)])}:void 0,n.$slots.loading&&n.loading?{name:"loading",fn:Me(()=>[_e("div",{class:j(n.nsSelect.be("dropdown","loading"))},[Qe(n.$slots,"loading")],2)])}:n.loading||n.filteredOptions.length===0?{name:"empty",fn:Me(()=>[_e("div",{class:j(n.nsSelect.be("dropdown","empty"))},[Qe(n.$slots,"empty",{},()=>[_e("span",null,_t(n.emptyText),1)])],2)])}:void 0,n.$slots.footer?{name:"footer",fn:Me(()=>[_e("div",{class:j(n.nsSelect.be("dropdown","footer"))},[Qe(n.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[u,n.handleClickOutside,n.popperRef]])}var v3e=It(p3e,[["render",m3e],["__file","select.vue"]]);const g3e=gn(v3e),y3e=Et({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Ke([Number,Object])}}),b3e=Et({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),_3e=Pe({name:"ElSkeletonItem"}),S3e=Pe({..._3e,props:b3e,setup(n){const e=yt("skeleton");return(t,r)=>($(),ge("div",{class:j([S(e).e("item"),S(e).e(t.variant)])},[t.variant==="image"?($(),rt(S(Gve),{key:0})):Je("v-if",!0)],2))}});var aM=It(S3e,[["__file","skeleton-item.vue"]]);const w3e=(n,e=0)=>{if(e===0)return n;const t=Pn(e)&&!!e.initVal,r=te(t);let i=null;const a=o=>{if(Tr(o)){r.value=n.value;return}i&&clearTimeout(i),i=setTimeout(()=>{r.value=n.value},o)},s=o=>{o==="leading"?en(e)?a(e):a(e.leading):Pn(e)?a(e.trailing):r.value=!1};return dn(()=>s("leading")),dt(()=>n.value,o=>{s(o?"leading":"trailing")}),r},x3e=Pe({name:"ElSkeleton"}),C3e=Pe({...x3e,props:y3e,setup(n,{expose:e}){const t=n,r=yt("skeleton"),i=w3e(br(t,"loading"),t.throttle);return e({uiLoading:i}),(a,s)=>S(i)?($(),ge("div",Bn({key:0,class:[S(r).b(),S(r).is("animated",a.animated)]},a.$attrs),[($(!0),ge(Bt,null,kn(a.count,o=>($(),ge(Bt,{key:o},[S(i)?Qe(a.$slots,"template",{key:o},()=>[pe(aM,{class:j(S(r).is("first")),variant:"p"},null,8,["class"]),($(!0),ge(Bt,null,kn(a.rows,l=>($(),rt(aM,{key:l,class:j([S(r).e("paragraph"),S(r).is("last",l===a.rows&&a.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Je("v-if",!0)],64))),128))],16)):Qe(a.$slots,"default",Ll(Bn({key:1},a.$attrs)))}});var M3e=It(C3e,[["__file","skeleton.vue"]]);const T3e=gn(M3e,{SkeletonItem:aM}),A3e=Ci(aM),yZ=Symbol("sliderContextKey"),E3e=Et({modelValue:{type:Ke([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:oa,inputSize:oa,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Ke(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Ke(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Gd,default:"top"},marks:{type:Ke(Object)},validateEvent:{type:Boolean,default:!0},...Xa(["ariaLabel"])}),e3=n=>en(n)||St(n)&&n.every(en),I3e={[Tn]:e3,[cs]:e3,[Pr]:e3},R3e=Et({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Gd,default:"top"}}),P3e={[Tn]:n=>en(n)},L3e=(n,e,t)=>{const r=te(),i=te(!1),a=U(()=>e.value instanceof Function),s=U(()=>a.value&&e.value(n.modelValue)||n.modelValue),o=Mo(()=>{t.value&&(i.value=!0)},50),l=Mo(()=>{t.value&&(i.value=!1)},50);return{tooltip:r,tooltipVisible:i,formatValue:s,displayTooltip:o,hideTooltip:l}},D3e=(n,e,t)=>{const{disabled:r,min:i,max:a,step:s,showTooltip:o,precision:l,sliderSize:c,formatTooltip:u,emitChange:d,resetSize:f,updateDragging:h}=Nt(yZ),{tooltip:p,tooltipVisible:m,formatValue:g,displayTooltip:v,hideTooltip:y}=L3e(n,u,o),b=te(),_=U(()=>`${(n.modelValue-i.value)/(a.value-i.value)*100}%`),w=U(()=>n.vertical?{bottom:_.value}:{left:_.value}),x=()=>{e.hovering=!0,v()},M=()=>{e.hovering=!1,e.dragging||y()},C=ee=>{r.value||(ee.preventDefault(),z(ee),window.addEventListener("mousemove",B),window.addEventListener("touchmove",B),window.addEventListener("mouseup",W),window.addEventListener("touchend",W),window.addEventListener("contextmenu",W),b.value.focus())},T=ee=>{r.value||(e.newPosition=Number.parseFloat(_.value)+ee/(a.value-i.value)*100,Z(e.newPosition),d())},A=()=>{T(-s.value)},I=()=>{T(s.value)},L=()=>{T(-s.value*4)},k=()=>{T(s.value*4)},N=()=>{r.value||(Z(0),d())},F=()=>{r.value||(Z(100),d())},D=ee=>{let J=!0;switch(ee.code){case Ot.left:case Ot.down:A();break;case Ot.right:case Ot.up:I();break;case Ot.home:N();break;case Ot.end:F();break;case Ot.pageDown:L();break;case Ot.pageUp:k();break;default:J=!1;break}J&&ee.preventDefault()},H=ee=>{let J,re;return ee.type.startsWith("touch")?(re=ee.touches[0].clientY,J=ee.touches[0].clientX):(re=ee.clientY,J=ee.clientX),{clientX:J,clientY:re}},z=ee=>{e.dragging=!0,e.isClick=!0;const{clientX:J,clientY:re}=H(ee);n.vertical?e.startY=re:e.startX=J,e.startPosition=Number.parseFloat(_.value),e.newPosition=e.startPosition},B=ee=>{if(e.dragging){e.isClick=!1,v(),f();let J;const{clientX:re,clientY:fe}=H(ee);n.vertical?(e.currentY=fe,J=(e.startY-e.currentY)/c.value*100):(e.currentX=re,J=(e.currentX-e.startX)/c.value*100),e.newPosition=e.startPosition+J,Z(e.newPosition)}},W=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||y(),e.isClick||Z(e.newPosition),d()},0),window.removeEventListener("mousemove",B),window.removeEventListener("touchmove",B),window.removeEventListener("mouseup",W),window.removeEventListener("touchend",W),window.removeEventListener("contextmenu",W))},Z=async ee=>{if(ee===null||Number.isNaN(+ee))return;ee<0?ee=0:ee>100&&(ee=100);const J=100/((a.value-i.value)/s.value);let fe=Math.round(ee/J)*J*(a.value-i.value)*.01+i.value;fe=Number.parseFloat(fe.toFixed(l.value)),fe!==n.modelValue&&t(Tn,fe),!e.dragging&&n.modelValue!==e.oldValue&&(e.oldValue=n.modelValue),await Yt(),e.dragging&&v(),p.value.updatePopper()};return dt(()=>e.dragging,ee=>{h(ee)}),Ar(b,"touchstart",C,{passive:!1}),{disabled:r,button:b,tooltip:p,tooltipVisible:m,showTooltip:o,wrapperStyle:w,formatValue:g,handleMouseEnter:x,handleMouseLeave:M,onButtonDown:C,onKeyDown:D,setPosition:Z}},k3e=Pe({name:"ElSliderButton"}),O3e=Pe({...k3e,props:R3e,emits:P3e,setup(n,{expose:e,emit:t}){const r=n,i=yt("slider"),a=pr({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:s,button:o,tooltip:l,showTooltip:c,tooltipVisible:u,wrapperStyle:d,formatValue:f,handleMouseEnter:h,handleMouseLeave:p,onButtonDown:m,onKeyDown:g,setPosition:v}=D3e(r,a,t),{hovering:y,dragging:b}=aa(a);return e({onButtonDown:m,onKeyDown:g,setPosition:v,hovering:y,dragging:b}),(_,w)=>($(),ge("div",{ref_key:"button",ref:o,class:j([S(i).e("button-wrapper"),{hover:S(y),dragging:S(b)}]),style:Ft(S(d)),tabindex:S(s)?-1:0,onMouseenter:S(h),onMouseleave:S(p),onMousedown:S(m),onFocus:S(h),onBlur:S(p),onKeydown:S(g)},[pe(S(ds),{ref_key:"tooltip",ref:l,visible:S(u),placement:_.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":_.tooltipClass,disabled:!S(c),persistent:S(c)},{content:Me(()=>[_e("span",null,_t(S(f)),1)]),default:Me(()=>[_e("div",{class:j([S(i).e("button"),{hover:S(y),dragging:S(b)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var J7=It(O3e,[["__file","button.vue"]]);const N3e=Et({mark:{type:Ke([String,Object]),default:void 0}});var B3e=Pe({name:"ElSliderMarker",props:N3e,setup(n){const e=yt("slider"),t=U(()=>qt(n.mark)?n.mark:n.mark.label),r=U(()=>qt(n.mark)?void 0:n.mark.style);return()=>$t("div",{class:e.e("marks-text"),style:r.value},t.value)}});const F3e=(n,e,t)=>{const{form:r,formItem:i}=hs(),a=Cr(),s=te(),o=te(),l={firstButton:s,secondButton:o},c=U(()=>n.disabled||(r==null?void 0:r.disabled)||!1),u=U(()=>Math.min(e.firstValue,e.secondValue)),d=U(()=>Math.max(e.firstValue,e.secondValue)),f=U(()=>n.range?`${100*(d.value-u.value)/(n.max-n.min)}%`:`${100*(e.firstValue-n.min)/(n.max-n.min)}%`),h=U(()=>n.range?`${100*(u.value-n.min)/(n.max-n.min)}%`:"0%"),p=U(()=>n.vertical?{height:n.height}:{}),m=U(()=>n.vertical?{height:f.value,bottom:h.value}:{width:f.value,left:h.value}),g=()=>{a.value&&(e.sliderSize=a.value[`client${n.vertical?"Height":"Width"}`])},v=L=>{const k=n.min+L*(n.max-n.min)/100;if(!n.range)return s;let N;return Math.abs(u.value-k)<Math.abs(d.value-k)?N=e.firstValue<e.secondValue?"firstButton":"secondButton":N=e.firstValue>e.secondValue?"firstButton":"secondButton",l[N]},y=L=>{const k=v(L);return k.value.setPosition(L),k},b=L=>{e.firstValue=L??n.min,w(n.range?[u.value,d.value]:L??n.min)},_=L=>{e.secondValue=L,n.range&&w([u.value,d.value])},w=L=>{t(Tn,L),t(cs,L)},x=async()=>{await Yt(),t(Pr,n.range?[u.value,d.value]:n.modelValue)},M=L=>{var k,N,F,D,H,z;if(c.value||e.dragging)return;g();let B=0;if(n.vertical){const W=(F=(N=(k=L.touches)==null?void 0:k.item(0))==null?void 0:N.clientY)!=null?F:L.clientY;B=(a.value.getBoundingClientRect().bottom-W)/e.sliderSize*100}else{const W=(z=(H=(D=L.touches)==null?void 0:D.item(0))==null?void 0:H.clientX)!=null?z:L.clientX,Z=a.value.getBoundingClientRect().left;B=(W-Z)/e.sliderSize*100}if(!(B<0||B>100))return y(B)};return{elFormItem:i,slider:a,firstButton:s,secondButton:o,sliderDisabled:c,minValue:u,maxValue:d,runwayStyle:p,barStyle:m,resetSize:g,setPosition:y,emitChange:x,onSliderWrapperPrevent:L=>{var k,N;((k=l.firstButton.value)!=null&&k.dragging||(N=l.secondButton.value)!=null&&N.dragging)&&L.preventDefault()},onSliderClick:L=>{M(L)&&x()},onSliderDown:async L=>{const k=M(L);k&&(await Yt(),k.value.onButtonDown(L))},onSliderMarkerDown:L=>{c.value||e.dragging||y(L)},setFirstValue:b,setSecondValue:_}},z3e=(n,e,t,r)=>({stops:U(()=>{if(!n.showStops||n.min>n.max)return[];if(n.step===0)return[];const s=(n.max-n.min)/n.step,o=100*n.step/(n.max-n.min),l=Array.from({length:s-1}).map((c,u)=>(u+1)*o);return n.range?l.filter(c=>c<100*(t.value-n.min)/(n.max-n.min)||c>100*(r.value-n.min)/(n.max-n.min)):l.filter(c=>c>100*(e.firstValue-n.min)/(n.max-n.min))}),getStopStyle:s=>n.vertical?{bottom:`${s}%`}:{left:`${s}%`}}),U3e=n=>U(()=>n.marks?Object.keys(n.marks).map(Number.parseFloat).sort((t,r)=>t-r).filter(t=>t<=n.max&&t>=n.min).map(t=>({point:t,position:(t-n.min)*100/(n.max-n.min),mark:n.marks[t]})):[]),H3e=(n,e,t,r,i,a)=>{const s=c=>{i(Tn,c),i(cs,c)},o=()=>n.range?![t.value,r.value].every((c,u)=>c===e.oldValue[u]):n.modelValue!==e.oldValue,l=()=>{var c,u;n.min>n.max&&va("Slider","min should not be greater than max.");const d=n.modelValue;n.range&&St(d)?d[1]<n.min?s([n.min,n.min]):d[0]>n.max?s([n.max,n.max]):d[0]<n.min?s([n.min,d[1]]):d[1]>n.max?s([d[0],n.max]):(e.firstValue=d[0],e.secondValue=d[1],o()&&(n.validateEvent&&((c=a==null?void 0:a.validate)==null||c.call(a,"change").catch(f=>void 0)),e.oldValue=d.slice())):!n.range&&en(d)&&!Number.isNaN(d)&&(d<n.min?s(n.min):d>n.max?s(n.max):(e.firstValue=d,o()&&(n.validateEvent&&((u=a==null?void 0:a.validate)==null||u.call(a,"change").catch(f=>void 0)),e.oldValue=d)))};l(),dt(()=>e.dragging,c=>{c||l()}),dt(()=>n.modelValue,(c,u)=>{e.dragging||St(c)&&St(u)&&c.every((d,f)=>d===u[f])&&e.firstValue===c[0]&&e.secondValue===c[1]||l()},{deep:!0}),dt(()=>[n.min,n.max],()=>{l()})},V3e=(n,e,t)=>{const r=te();return dn(async()=>{n.range?(St(n.modelValue)?(e.firstValue=Math.max(n.min,n.modelValue[0]),e.secondValue=Math.min(n.max,n.modelValue[1])):(e.firstValue=n.min,e.secondValue=n.max),e.oldValue=[e.firstValue,e.secondValue]):(!en(n.modelValue)||Number.isNaN(n.modelValue)?e.firstValue=n.min:e.firstValue=Math.min(n.max,Math.max(n.min,n.modelValue)),e.oldValue=e.firstValue),Ar(window,"resize",t),await Yt(),t()}),{sliderWrapper:r}},$3e=Pe({name:"ElSlider"}),G3e=Pe({...$3e,props:E3e,emits:I3e,setup(n,{expose:e,emit:t}){const r=n,i=yt("slider"),{t:a}=nr(),s=pr({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:o,slider:l,firstButton:c,secondButton:u,sliderDisabled:d,minValue:f,maxValue:h,runwayStyle:p,barStyle:m,resetSize:g,emitChange:v,onSliderWrapperPrevent:y,onSliderClick:b,onSliderDown:_,onSliderMarkerDown:w,setFirstValue:x,setSecondValue:M}=F3e(r,s,t),{stops:C,getStopStyle:T}=z3e(r,s,f,h),{inputId:A,isLabeledByFormItem:I}=Xl(r,{formItemContext:o}),L=ji(),k=U(()=>r.inputSize||L.value),N=U(()=>r.ariaLabel||a("el.slider.defaultLabel",{min:r.min,max:r.max})),F=U(()=>r.range?r.rangeStartLabel||a("el.slider.defaultRangeStartLabel"):N.value),D=U(()=>r.formatValueText?r.formatValueText(J.value):`${J.value}`),H=U(()=>r.rangeEndLabel||a("el.slider.defaultRangeEndLabel")),z=U(()=>r.formatValueText?r.formatValueText(re.value):`${re.value}`),B=U(()=>[i.b(),i.m(L.value),i.is("vertical",r.vertical),{[i.m("with-input")]:r.showInput}]),W=U3e(r);H3e(r,s,f,h,t,o);const Z=U(()=>{const me=[r.min,r.max,r.step].map(Re=>{const De=`${Re}`.split(".")[1];return De?De.length:0});return Math.max.apply(null,me)}),{sliderWrapper:ee}=V3e(r,s,g),{firstValue:J,secondValue:re,sliderSize:fe}=aa(s),de=me=>{s.dragging=me};return Ar(ee,"touchstart",y,{passive:!1}),Ar(ee,"touchmove",y,{passive:!1}),Vn(yZ,{...aa(r),sliderSize:fe,disabled:d,precision:Z,emitChange:v,resetSize:g,updateDragging:de}),e({onSliderClick:b}),(me,Re)=>{var De,Ge;return $(),ge("div",{id:me.range?S(A):void 0,ref_key:"sliderWrapper",ref:ee,class:j(S(B)),role:me.range?"group":void 0,"aria-label":me.range&&!S(I)?S(N):void 0,"aria-labelledby":me.range&&S(I)?(De=S(o))==null?void 0:De.labelId:void 0},[_e("div",{ref_key:"slider",ref:l,class:j([S(i).e("runway"),{"show-input":me.showInput&&!me.range},S(i).is("disabled",S(d))]),style:Ft(S(p)),onMousedown:S(_),onTouchstartPassive:S(_)},[_e("div",{class:j(S(i).e("bar")),style:Ft(S(m))},null,6),pe(J7,{id:me.range?void 0:S(A),ref_key:"firstButton",ref:c,"model-value":S(J),vertical:me.vertical,"tooltip-class":me.tooltipClass,placement:me.placement,role:"slider","aria-label":me.range||!S(I)?S(F):void 0,"aria-labelledby":!me.range&&S(I)?(Ge=S(o))==null?void 0:Ge.labelId:void 0,"aria-valuemin":me.min,"aria-valuemax":me.range?S(re):me.max,"aria-valuenow":S(J),"aria-valuetext":S(D),"aria-orientation":me.vertical?"vertical":"horizontal","aria-disabled":S(d),"onUpdate:modelValue":S(x)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),me.range?($(),rt(J7,{key:0,ref_key:"secondButton",ref:u,"model-value":S(re),vertical:me.vertical,"tooltip-class":me.tooltipClass,placement:me.placement,role:"slider","aria-label":S(H),"aria-valuemin":S(J),"aria-valuemax":me.max,"aria-valuenow":S(re),"aria-valuetext":S(z),"aria-orientation":me.vertical?"vertical":"horizontal","aria-disabled":S(d),"onUpdate:modelValue":S(M)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Je("v-if",!0),me.showStops?($(),ge("div",{key:1},[($(!0),ge(Bt,null,kn(S(C),(We,K)=>($(),ge("div",{key:K,class:j(S(i).e("stop")),style:Ft(S(T)(We))},null,6))),128))])):Je("v-if",!0),S(W).length>0?($(),ge(Bt,{key:2},[_e("div",null,[($(!0),ge(Bt,null,kn(S(W),(We,K)=>($(),ge("div",{key:K,style:Ft(S(T)(We.position)),class:j([S(i).e("stop"),S(i).e("marks-stop")])},null,6))),128))]),_e("div",{class:j(S(i).e("marks"))},[($(!0),ge(Bt,null,kn(S(W),(We,K)=>($(),rt(S(B3e),{key:K,mark:We.mark,style:Ft(S(T)(We.position)),onMousedown:sn(ue=>S(w)(We.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):Je("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),me.showInput&&!me.range?($(),rt(S(Zj),{key:0,ref:"input","model-value":S(J),class:j(S(i).e("input")),step:me.step,disabled:S(d),controls:me.showInputControls,min:me.min,max:me.max,precision:S(Z),debounce:me.debounce,size:S(k),"onUpdate:modelValue":S(x),onChange:S(v)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):Je("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var W3e=It(G3e,[["__file","slider.vue"]]);const q3e=gn(W3e),K3e=Et({prefixCls:{type:String}}),e9=Pe({name:"ElSpaceItem",props:K3e,setup(n,{slots:e}){const t=yt("space"),r=U(()=>`${n.prefixCls||t.b()}__item`);return()=>$t("div",{class:r.value},Qe(e,"default"))}}),t9={small:8,default:12,large:16};function Y3e(n){const e=yt("space"),t=U(()=>[e.b(),e.m(n.direction),n.class]),r=te(0),i=te(0),a=U(()=>{const o=n.wrap||n.fill?{flexWrap:"wrap"}:{},l={alignItems:n.alignment},c={rowGap:`${i.value}px`,columnGap:`${r.value}px`};return[o,l,c,n.style]}),s=U(()=>n.fill?{flexGrow:1,minWidth:`${n.fillRatio}%`}:{});return wa(()=>{const{size:o="small",wrap:l,direction:c,fill:u}=n;if(St(o)){const[d=0,f=0]=o;r.value=d,i.value=f}else{let d;en(o)?d=o:d=t9[o||"small"]||t9.small,(l||u)&&c==="horizontal"?r.value=i.value=d:c==="horizontal"?(r.value=d,i.value=0):(i.value=d,r.value=0)}}),{classes:t,containerStyle:a,itemStyle:s}}const X3e=Et({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:Ke([String,Object,Array]),default:""},style:{type:Ke([String,Array,Object]),default:""},alignment:{type:Ke(String),default:"center"},prefixCls:{type:String},spacer:{type:Ke([Object,String,Number,Array]),default:null,validator:n=>ti(n)||en(n)||qt(n)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Cu,validator:n=>en(n)||St(n)&&n.length===2&&n.every(en)}}),j3e=Pe({name:"ElSpace",props:X3e,setup(n,{slots:e}){const{classes:t,containerStyle:r,itemStyle:i}=Y3e(n);function a(s,o="",l=[]){const{prefixCls:c}=n;return s.forEach((u,d)=>{VR(u)?St(u.children)&&u.children.forEach((f,h)=>{VR(f)&&St(f.children)?a(f.children,`${o+h}-`,l):l.push(pe(e9,{style:i.value,prefixCls:c,key:`nested-${o+h}`},{default:()=>[f]},_l.PROPS|_l.STYLE,["style","prefixCls"]))}):V_e(u)&&l.push(pe(e9,{style:i.value,prefixCls:c,key:`LoopKey${o+d}`},{default:()=>[u]},_l.PROPS|_l.STYLE,["style","prefixCls"]))}),l}return()=>{var s;const{spacer:o,direction:l}=n,c=Qe(e,"default",{key:0},()=>[]);if(((s=c.children)!=null?s:[]).length===0)return null;if(St(c.children)){let u=a(c.children);if(o){const d=u.length-1;u=u.reduce((f,h,p)=>{const m=[...f,h];return p!==d&&m.push(pe("span",{style:[i.value,l==="vertical"?"width: 100%":null],key:p},[ti(o)?o:un(o,_l.TEXT)],_l.STYLE)),m},[])}return pe("div",{class:t.value,style:r.value},u,_l.STYLE|_l.CLASS)}return c.children}}}),Z3e=gn(j3e),Q3e=Et({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:Ke([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:Ke([String,Object,Array])}}),J3e=Pe({name:"ElStatistic"}),e4e=Pe({...J3e,props:Q3e,setup(n,{expose:e}){const t=n,r=yt("statistic"),i=U(()=>{const{value:a,formatter:s,precision:o,decimalSeparator:l,groupSeparator:c}=t;if(Kt(s))return s(a);if(!en(a)||Number.isNaN(a))return a;let[u,d=""]=String(a).split(".");return d=d.padEnd(o,"0").slice(0,o>0?o:0),u=u.replace(/\B(?=(\d{3})+(?!\d))/g,c),[u,d].join(d?l:"")});return e({displayValue:i}),(a,s)=>($(),ge("div",{class:j(S(r).b())},[a.$slots.title||a.title?($(),ge("div",{key:0,class:j(S(r).e("head"))},[Qe(a.$slots,"title",{},()=>[un(_t(a.title),1)])],2)):Je("v-if",!0),_e("div",{class:j(S(r).e("content"))},[a.$slots.prefix||a.prefix?($(),ge("div",{key:0,class:j(S(r).e("prefix"))},[Qe(a.$slots,"prefix",{},()=>[_e("span",null,_t(a.prefix),1)])],2)):Je("v-if",!0),_e("span",{class:j(S(r).e("number")),style:Ft(a.valueStyle)},_t(S(i)),7),a.$slots.suffix||a.suffix?($(),ge("div",{key:1,class:j(S(r).e("suffix"))},[Qe(a.$slots,"suffix",{},()=>[_e("span",null,_t(a.suffix),1)])],2)):Je("v-if",!0)],2)],2))}});var t4e=It(e4e,[["__file","statistic.vue"]]);const bZ=gn(t4e),n4e=Et({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:Ke([Number,Object]),default:0},valueStyle:{type:Ke([String,Object,Array])}}),r4e={finish:()=>!0,[Pr]:n=>en(n)},i4e=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],n9=n=>en(n)?new Date(n).getTime():n.valueOf(),r9=(n,e)=>{let t=n;const r=/\[([^\]]*)]/g;return i4e.reduce((a,[s,o])=>{const l=new RegExp(`${s}+(?![^\\[\\]]*\\])`,"g");if(l.test(a)){const c=Math.floor(t/o);return t-=c*o,a.replace(l,u=>String(c).padStart(u.length,"0"))}return a},e).replace(r,"$1")},a4e=Pe({name:"ElCountdown"}),s4e=Pe({...a4e,props:n4e,emits:r4e,setup(n,{expose:e,emit:t}){const r=n;let i;const a=te(0),s=U(()=>r9(a.value,r.format)),o=u=>r9(u,r.format),l=()=>{i&&(T0(i),i=void 0)},c=()=>{const u=n9(r.value),d=()=>{let f=u-Date.now();t("change",f),f<=0?(f=0,l(),t("finish")):i=ph(d),a.value=f};i=ph(d)};return dn(()=>{a.value=n9(r.value)-Date.now(),dt(()=>[r.value,r.format],()=>{l(),c()},{immediate:!0})}),vr(()=>{l()}),e({displayValue:s}),(u,d)=>($(),rt(S(bZ),{value:a.value,title:u.title,prefix:u.prefix,suffix:u.suffix,"value-style":u.valueStyle,formatter:o},rl({_:2},[kn(u.$slots,(f,h)=>({name:h,fn:Me(()=>[Qe(u.$slots,h)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var o4e=It(s4e,[["__file","countdown.vue"]]);const l4e=gn(o4e),c4e=Et({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),u4e={[Pr]:(n,e)=>[n,e].every(en)},d4e=Pe({name:"ElSteps"}),f4e=Pe({...d4e,props:c4e,emits:u4e,setup(n,{emit:e}){const t=n,r=yt("steps"),{children:i,addChild:a,removeChild:s}=O6(wn(),"ElStep");return dt(i,()=>{i.value.forEach((o,l)=>{o.setIndex(l)})}),Vn("ElSteps",{props:t,steps:i,addStep:a,removeStep:s}),dt(()=>t.active,(o,l)=>{e(Pr,o,l)}),(o,l)=>($(),ge("div",{class:j([S(r).b(),S(r).m(o.simple?"simple":o.direction)])},[Qe(o.$slots,"default")],2))}});var h4e=It(f4e,[["__file","steps.vue"]]);const p4e=Et({title:{type:String,default:""},icon:{type:Dr},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),m4e=Pe({name:"ElStep"}),v4e=Pe({...m4e,props:p4e,setup(n){const e=n,t=yt("step"),r=te(-1),i=te({}),a=te(""),s=Nt("ElSteps"),o=wn();dn(()=>{dt([()=>s.props.active,()=>s.props.processStatus,()=>s.props.finishStatus],([x])=>{_(x)},{immediate:!0})}),vr(()=>{s.removeStep(w.uid)});const l=U(()=>e.status||a.value),c=U(()=>{const x=s.steps.value[r.value-1];return x?x.currentStatus:"wait"}),u=U(()=>s.props.alignCenter),d=U(()=>s.props.direction==="vertical"),f=U(()=>s.props.simple),h=U(()=>s.steps.value.length),p=U(()=>{var x;return((x=s.steps.value[h.value-1])==null?void 0:x.uid)===(o==null?void 0:o.uid)}),m=U(()=>f.value?"":s.props.space),g=U(()=>[t.b(),t.is(f.value?"simple":s.props.direction),t.is("flex",p.value&&!m.value&&!u.value),t.is("center",u.value&&!d.value&&!f.value)]),v=U(()=>{const x={flexBasis:en(m.value)?`${m.value}px`:m.value?m.value:`${100/(h.value-(u.value?0:1))}%`};return d.value||p.value&&(x.maxWidth=`${100/h.value}%`),x}),y=x=>{r.value=x},b=x=>{const M=x==="wait",C={transitionDelay:`${M?"-":""}${150*r.value}ms`},T=x===s.props.processStatus||M?0:100;C.borderWidth=T&&!f.value?"1px":0,C[s.props.direction==="vertical"?"height":"width"]=`${T}%`,i.value=C},_=x=>{x>r.value?a.value=s.props.finishStatus:x===r.value&&c.value!=="error"?a.value=s.props.processStatus:a.value="wait";const M=s.steps.value[r.value-1];M&&M.calcProgress(a.value)},w=pr({uid:o.uid,currentStatus:l,setIndex:y,calcProgress:b});return s.addStep(w),(x,M)=>($(),ge("div",{style:Ft(S(v)),class:j(S(g))},[Je(" icon & line "),_e("div",{class:j([S(t).e("head"),S(t).is(S(l))])},[S(f)?Je("v-if",!0):($(),ge("div",{key:0,class:j(S(t).e("line"))},[_e("i",{class:j(S(t).e("line-inner")),style:Ft(i.value)},null,6)],2)),_e("div",{class:j([S(t).e("icon"),S(t).is(x.icon||x.$slots.icon?"icon":"text")])},[Qe(x.$slots,"icon",{},()=>[x.icon?($(),rt(S(Gt),{key:0,class:j(S(t).e("icon-inner"))},{default:Me(()=>[($(),rt(Rn(x.icon)))]),_:1},8,["class"])):S(l)==="success"?($(),rt(S(Gt),{key:1,class:j([S(t).e("icon-inner"),S(t).is("status")])},{default:Me(()=>[pe(S(CS))]),_:1},8,["class"])):S(l)==="error"?($(),rt(S(Gt),{key:2,class:j([S(t).e("icon-inner"),S(t).is("status")])},{default:Me(()=>[pe(S(Ac))]),_:1},8,["class"])):S(f)?Je("v-if",!0):($(),ge("div",{key:3,class:j(S(t).e("icon-inner"))},_t(r.value+1),3))])],2)],2),Je(" title & description "),_e("div",{class:j(S(t).e("main"))},[_e("div",{class:j([S(t).e("title"),S(t).is(S(l))])},[Qe(x.$slots,"title",{},()=>[un(_t(x.title),1)])],2),S(f)?($(),ge("div",{key:0,class:j(S(t).e("arrow"))},null,2)):($(),ge("div",{key:1,class:j([S(t).e("description"),S(t).is(S(l))])},[Qe(x.$slots,"description",{},()=>[un(_t(x.description),1)])],2))],2)],6))}});var _Z=It(v4e,[["__file","item.vue"]]);const g4e=gn(h4e,{Step:_Z}),y4e=Ci(_Z),SZ=n=>["",...Cu].includes(n),b4e=Et({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:SZ},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:Dr},activeActionIcon:{type:Dr},activeIcon:{type:Dr},inactiveIcon:{type:Dr},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Ke(Function)},id:String,tabindex:{type:[String,Number]},...Xa(["ariaLabel"])}),_4e={[Tn]:n=>Vr(n)||qt(n)||en(n),[Pr]:n=>Vr(n)||qt(n)||en(n),[cs]:n=>Vr(n)||qt(n)||en(n)},wZ="ElSwitch",S4e=Pe({name:wZ}),w4e=Pe({...S4e,props:b4e,emits:_4e,setup(n,{expose:e,emit:t}){const r=n,{formItem:i}=hs(),a=ji(),s=yt("switch"),{inputId:o}=Xl(r,{formItemContext:i}),l=ps(U(()=>r.loading)),c=te(r.modelValue!==!1),u=te(),d=te(),f=U(()=>[s.b(),s.m(a.value),s.is("disabled",l.value),s.is("checked",v.value)]),h=U(()=>[s.e("label"),s.em("label","left"),s.is("active",!v.value)]),p=U(()=>[s.e("label"),s.em("label","right"),s.is("active",v.value)]),m=U(()=>({width:Pi(r.width)}));dt(()=>r.modelValue,()=>{c.value=!0});const g=U(()=>c.value?r.modelValue:!1),v=U(()=>g.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(g.value)||(t(Tn,r.inactiveValue),t(Pr,r.inactiveValue),t(cs,r.inactiveValue)),dt(v,w=>{var x;u.value.checked=w,r.validateEvent&&((x=i==null?void 0:i.validate)==null||x.call(i,"change").catch(M=>void 0))});const y=()=>{const w=v.value?r.inactiveValue:r.activeValue;t(Tn,w),t(Pr,w),t(cs,w),Yt(()=>{u.value.checked=v.value})},b=()=>{if(l.value)return;const{beforeChange:w}=r;if(!w){y();return}const x=w();[vg(x),Vr(x)].includes(!0)||va(wZ,"beforeChange must return type `Promise<boolean>` or `boolean`"),vg(x)?x.then(C=>{C&&y()}).catch(C=>{}):x&&y()},_=()=>{var w,x;(x=(w=u.value)==null?void 0:w.focus)==null||x.call(w)};return dn(()=>{u.value.checked=v.value}),e({focus:_,checked:v}),(w,x)=>($(),ge("div",{class:j(S(f)),onClick:sn(b,["prevent"])},[_e("input",{id:S(o),ref_key:"input",ref:u,class:j(S(s).e("input")),type:"checkbox",role:"switch","aria-checked":S(v),"aria-disabled":S(l),"aria-label":w.ariaLabel,name:w.name,"true-value":w.activeValue,"false-value":w.inactiveValue,disabled:S(l),tabindex:w.tabindex,onChange:y,onKeydown:Rr(b,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!w.inlinePrompt&&(w.inactiveIcon||w.inactiveText)?($(),ge("span",{key:0,class:j(S(h))},[w.inactiveIcon?($(),rt(S(Gt),{key:0},{default:Me(()=>[($(),rt(Rn(w.inactiveIcon)))]),_:1})):Je("v-if",!0),!w.inactiveIcon&&w.inactiveText?($(),ge("span",{key:1,"aria-hidden":S(v)},_t(w.inactiveText),9,["aria-hidden"])):Je("v-if",!0)],2)):Je("v-if",!0),_e("span",{ref_key:"core",ref:d,class:j(S(s).e("core")),style:Ft(S(m))},[w.inlinePrompt?($(),ge("div",{key:0,class:j(S(s).e("inner"))},[w.activeIcon||w.inactiveIcon?($(),rt(S(Gt),{key:0,class:j(S(s).is("icon"))},{default:Me(()=>[($(),rt(Rn(S(v)?w.activeIcon:w.inactiveIcon)))]),_:1},8,["class"])):w.activeText||w.inactiveText?($(),ge("span",{key:1,class:j(S(s).is("text")),"aria-hidden":!S(v)},_t(S(v)?w.activeText:w.inactiveText),11,["aria-hidden"])):Je("v-if",!0)],2)):Je("v-if",!0),_e("div",{class:j(S(s).e("action"))},[w.loading?($(),rt(S(Gt),{key:0,class:j(S(s).is("loading"))},{default:Me(()=>[pe(S(mu))]),_:1},8,["class"])):S(v)?Qe(w.$slots,"active-action",{key:1},()=>[w.activeActionIcon?($(),rt(S(Gt),{key:0},{default:Me(()=>[($(),rt(Rn(w.activeActionIcon)))]),_:1})):Je("v-if",!0)]):S(v)?Je("v-if",!0):Qe(w.$slots,"inactive-action",{key:2},()=>[w.inactiveActionIcon?($(),rt(S(Gt),{key:0},{default:Me(()=>[($(),rt(Rn(w.inactiveActionIcon)))]),_:1})):Je("v-if",!0)])],2)],6),!w.inlinePrompt&&(w.activeIcon||w.activeText)?($(),ge("span",{key:1,class:j(S(p))},[w.activeIcon?($(),rt(S(Gt),{key:0},{default:Me(()=>[($(),rt(Rn(w.activeIcon)))]),_:1})):Je("v-if",!0),!w.activeIcon&&w.activeText?($(),ge("span",{key:1,"aria-hidden":!S(v)},_t(w.activeText),9,["aria-hidden"])):Je("v-if",!0)],2)):Je("v-if",!0)],10,["onClick"]))}});var x4e=It(w4e,[["__file","switch.vue"]]);const C4e=gn(x4e),t3=function(n){var e;return(e=n.target)==null?void 0:e.closest("td")},M4e=function(n,e,t,r,i){if(!e&&!r&&(!i||St(i)&&!i.length))return n;qt(t)?t=t==="descending"?-1:1:t=t&&t<0?-1:1;const a=r?null:function(o,l){return i?(St(i)||(i=[i]),i.map(c=>qt(c)?$i(o,c):c(o,l,n))):(e!=="$key"&&Pn(o)&&"$value"in o&&(o=o.$value),[Pn(o)?$i(o,e):o])},s=function(o,l){if(r)return r(o.value,l.value);for(let c=0,u=o.key.length;c<u;c++){if(o.key[c]<l.key[c])return-1;if(o.key[c]>l.key[c])return 1}return 0};return n.map((o,l)=>({value:o,index:l,key:a?a(o,l):null})).sort((o,l)=>{let c=s(o,l);return c||(c=o.index-l.index),c*+t}).map(o=>o.value)},xZ=function(n,e){let t=null;return n.columns.forEach(r=>{r.id===e&&(t=r)}),t},T4e=function(n,e){let t=null;for(let r=0;r<n.columns.length;r++){const i=n.columns[r];if(i.columnKey===e){t=i;break}}return t||va("ElTable",`No column matching with column-key: ${e}`),t},i9=function(n,e,t){const r=(e.className||"").match(new RegExp(`${t}-table_[^\\s]+`,"gm"));return r?xZ(n,r[0]):null},Rs=(n,e)=>{if(!n)throw new Error("Row is required when get row identity");if(qt(e)){if(!e.includes("."))return`${n[e]}`;const t=e.split(".");let r=n;for(const i of t)r=r[i];return`${r}`}else if(Kt(e))return e.call(null,n)},Gp=function(n,e){const t={};return(n||[]).forEach((r,i)=>{t[Rs(r,e)]={row:r,index:i}}),t};function A4e(n,e){const t={};let r;for(r in n)t[r]=n[r];for(r in e)if(ar(e,r)){const i=e[r];typeof i<"u"&&(t[r]=i)}return t}function sk(n){return n===""||n!==void 0&&(n=Number.parseInt(n,10),Number.isNaN(n)&&(n="")),n}function CZ(n){return n===""||n!==void 0&&(n=sk(n),Number.isNaN(n)&&(n=80)),n}function E4e(n){return en(n)?n:qt(n)?/^\d+(?:px)?$/.test(n)?Number.parseInt(n,10):n:null}function I4e(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function sM(n,e,t,r,i,a){let s=a??0,o=!1;const l=n.indexOf(e),c=l!==-1,u=i==null?void 0:i.call(null,e,a),d=h=>{h==="add"?n.push(e):n.splice(l,1),o=!0},f=h=>{let p=0;const m=(r==null?void 0:r.children)&&h[r.children];return m&&St(m)&&(p+=m.length,m.forEach(g=>{p+=f(g)})),p};return(!i||u)&&(Vr(t)?t&&!c?d("add"):!t&&c&&d("remove"):d(c?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&St(e[r.children])&&e[r.children].forEach(h=>{sM(n,h,t??!c,r,i,s+1),s+=f(h)+1}),o}function R4e(n,e,t="children",r="hasChildren"){const i=s=>!(St(s)&&s.length);function a(s,o,l){e(s,o,l),o.forEach(c=>{if(c[r]){e(c,null,l+1);return}const u=c[t];i(u)||a(c,u,l+1)})}n.forEach(s=>{if(s[r]){e(s,null,0);return}const o=s[t];i(o)||a(s,o,0)})}const a9=(n,e)=>({content:e,...n,popperOptions:{strategy:"fixed",...n.popperOptions}});let ml=null;function P4e(n,e,t,r){if((ml==null?void 0:ml.trigger)===t){RY(ml.vm.component.props,a9(n,e));return}ml==null||ml();const i=r==null?void 0:r.refs.tableWrapper,a=i==null?void 0:i.dataset.prefix,s=pe(ds,{virtualTriggering:!0,virtualRef:t,appendTo:i,placement:"top",transition:"none",offset:0,hideAfter:0,...a9(n,e)});s.appContext={...r.appContext,...r};const o=document.createElement("div");Tc(s,o),s.component.exposed.onOpen();const l=i==null?void 0:i.querySelector(`.${a}-scrollbar__wrap`);ml=()=>{Tc(null,o),l==null||l.removeEventListener("scroll",ml),ml=null},ml.trigger=t,ml.vm=s,l==null||l.addEventListener("scroll",ml)}function MZ(n){return n.children?A0e(n.children,MZ):[n]}function s9(n,e){return n+e.colSpan}const TZ=(n,e,t,r)=>{let i=0,a=n;const s=t.states.columns.value;if(r){const l=MZ(r[n]);i=s.slice(0,s.indexOf(l[0])).reduce(s9,0),a=i+l.reduce(s9,0)-1}else i=n;let o;switch(e){case"left":a<t.states.fixedLeafColumnsLength.value&&(o="left");break;case"right":i>=s.length-t.states.rightFixedLeafColumnsLength.value&&(o="right");break;default:a<t.states.fixedLeafColumnsLength.value?o="left":i>=s.length-t.states.rightFixedLeafColumnsLength.value&&(o="right")}return o?{direction:o,start:i,after:a}:{}},ok=(n,e,t,r,i,a=0)=>{const s=[],{direction:o,start:l,after:c}=TZ(e,t,r,i);if(o){const u=o==="left";s.push(`${n}-fixed-column--${o}`),u&&c+a===r.states.fixedLeafColumnsLength.value-1?s.push("is-last-column"):!u&&l-a===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&s.push("is-first-column")}return s};function o9(n,e){return n+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const lk=(n,e,t,r)=>{const{direction:i,start:a=0,after:s=0}=TZ(n,e,t,r);if(!i)return;const o={},l=i==="left",c=t.states.columns.value;return l?o.left=c.slice(0,a).reduce(o9,0):o.right=c.slice(s+1).reverse().reduce(o9,0),o},Lg=(n,e)=>{n&&(Number.isNaN(n[e])||(n[e]=`${n[e]}px`))};function L4e(n){const e=wn(),t=te(!1),r=te([]);return{updateExpandRows:()=>{const l=n.data.value||[],c=n.rowKey.value;if(t.value)r.value=l.slice();else if(c){const u=Gp(r.value,c);r.value=l.reduce((d,f)=>{const h=Rs(f,c);return u[h]&&d.push(f),d},[])}else r.value=[]},toggleRowExpansion:(l,c)=>{sM(r.value,l,c)&&e.emit("expand-change",l,r.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const c=n.data.value||[],u=n.rowKey.value,d=Gp(c,u);r.value=l.reduce((f,h)=>{const p=d[h];return p&&f.push(p.row),f},[])},isRowExpanded:l=>{const c=n.rowKey.value;return c?!!Gp(r.value,c)[Rs(l,c)]:r.value.includes(l)},states:{expandRows:r,defaultExpandAll:t}}}function D4e(n){const e=wn(),t=te(null),r=te(null),i=c=>{e.store.assertRowKey(),t.value=c,s(c)},a=()=>{t.value=null},s=c=>{const{data:u,rowKey:d}=n;let f=null;d.value&&(f=(S(u)||[]).find(h=>Rs(h,d.value)===c)),r.value=f,e.emit("current-change",r.value,null)};return{setCurrentRowKey:i,restoreCurrentRowKey:a,setCurrentRowByKey:s,updateCurrentRow:c=>{const u=r.value;if(c&&c!==u){r.value=c,e.emit("current-change",r.value,u);return}!c&&u&&(r.value=null,e.emit("current-change",null,u))},updateCurrentRowData:()=>{const c=n.rowKey.value,u=n.data.value||[],d=r.value;if(!u.includes(d)&&d){if(c){const f=Rs(d,c);s(f)}else r.value=null;r.value===null&&e.emit("current-change",null,d)}else t.value&&(s(t.value),a())},states:{_currentRowKey:t,currentRow:r}}}function k4e(n){const e=te([]),t=te({}),r=te(16),i=te(!1),a=te({}),s=te("hasChildren"),o=te("children"),l=te(!1),c=wn(),u=U(()=>{if(!n.rowKey.value)return{};const b=n.data.value||[];return f(b)}),d=U(()=>{const b=n.rowKey.value,_=Object.keys(a.value),w={};return _.length&&_.forEach(x=>{if(a.value[x].length){const M={children:[]};a.value[x].forEach(C=>{const T=Rs(C,b);M.children.push(T),C[s.value]&&!w[T]&&(w[T]={children:[]})}),w[x]=M}}),w}),f=b=>{const _=n.rowKey.value,w={};return R4e(b,(x,M,C)=>{const T=Rs(x,_);St(M)?w[T]={children:M.map(A=>Rs(A,_)),level:C}:i.value&&(w[T]={children:[],lazy:!0,level:C})},o.value,s.value),w},h=(b=!1,_=(w=>(w=c.store)==null?void 0:w.states.defaultExpandAll.value)())=>{var w;const x=u.value,M=d.value,C=Object.keys(x),T={};if(C.length){const A=S(t),I=[],L=(N,F)=>{if(b)return e.value?_||e.value.includes(F):!!(_||N!=null&&N.expanded);{const D=_||e.value&&e.value.includes(F);return!!(N!=null&&N.expanded||D)}};C.forEach(N=>{const F=A[N],D={...x[N]};if(D.expanded=L(F,N),D.lazy){const{loaded:H=!1,loading:z=!1}=F||{};D.loaded=!!H,D.loading=!!z,I.push(N)}T[N]=D});const k=Object.keys(M);i.value&&k.length&&I.length&&k.forEach(N=>{const F=A[N],D=M[N].children;if(I.includes(N)){if(T[N].children.length!==0)throw new Error("[ElTable]children must be an empty array.");T[N].children=D}else{const{loaded:H=!1,loading:z=!1}=F||{};T[N]={lazy:!0,loaded:!!H,loading:!!z,expanded:L(F,N),children:D,level:""}}})}t.value=T,(w=c.store)==null||w.updateTableScrollY()};dt(()=>e.value,()=>{h(!0)}),dt(()=>u.value,()=>{h()}),dt(()=>d.value,()=>{h()});const p=b=>{e.value=b,h()},m=(b,_)=>{c.store.assertRowKey();const w=n.rowKey.value,x=Rs(b,w),M=x&&t.value[x];if(x&&M&&"expanded"in M){const C=M.expanded;_=Tr(_)?!M.expanded:_,t.value[x].expanded=_,C!==_&&c.emit("expand-change",b,_),c.store.updateTableScrollY()}},g=b=>{c.store.assertRowKey();const _=n.rowKey.value,w=Rs(b,_),x=t.value[w];i.value&&x&&"loaded"in x&&!x.loaded?v(b,w,x):m(b,void 0)},v=(b,_,w)=>{const{load:x}=c.props;x&&!t.value[_].loaded&&(t.value[_].loading=!0,x(b,w,M=>{if(!St(M))throw new TypeError("[ElTable] data must be an array");t.value[_].loading=!1,t.value[_].loaded=!0,t.value[_].expanded=!0,M.length&&(a.value[_]=M),c.emit("expand-change",b,!0)}))};return{loadData:v,loadOrToggle:g,toggleTreeExpansion:m,updateTreeExpandKeys:p,updateTreeData:h,updateKeyChildren:(b,_)=>{const{lazy:w,rowKey:x}=c.props;if(w){if(!x)throw new Error("[Table] rowKey is required in updateKeyChild");a.value[b]&&(a.value[b]=_)}},normalize:f,states:{expandRowKeys:e,treeData:t,indent:r,lazy:i,lazyTreeNodeMap:a,lazyColumnIdentifier:s,childrenColumnName:o,checkStrictly:l}}}const O4e=(n,e)=>{const t=e.sortingColumn;return!t||qt(t.sortable)?n:M4e(n,e.sortProp,e.sortOrder,t.sortMethod,t.sortBy)},q2=n=>{const e=[];return n.forEach(t=>{t.children&&t.children.length>0?e.push.apply(e,q2(t.children)):e.push(t)}),e};function N4e(){var n;const e=wn(),{size:t}=aa((n=e.proxy)==null?void 0:n.$props),r=te(null),i=te([]),a=te([]),s=te(!1),o=te([]),l=te([]),c=te([]),u=te([]),d=te([]),f=te([]),h=te([]),p=te([]),m=[],g=te(0),v=te(0),y=te(0),b=te(!1),_=te([]),w=te(!1),x=te(!1),M=te(null),C=te({}),T=te(null),A=te(null),I=te(null),L=te(null),k=te(null);dt(i,()=>{var G;e.state&&(z(!1),e.props.tableLayout==="auto"&&((G=e.refs.tableHeaderRef)==null||G.updateFixedColumnStyle()))},{deep:!0});const N=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},F=G=>{var ye;(ye=G.children)==null||ye.forEach(ve=>{ve.fixed=G.fixed,F(ve)})};let D;const H=()=>{o.value.forEach(be=>{F(be)}),u.value=o.value.filter(be=>be.fixed===!0||be.fixed==="left"),d.value=o.value.filter(be=>be.fixed==="right"),Tr(D)&&o.value[0]&&o.value[0].type==="selection"&&(D=!!o.value[0].fixed),u.value.length>0&&o.value[0]&&o.value[0].type==="selection"&&(o.value[0].fixed?u.value.some(Te=>Te.type!=="selection")?D=void 0:(o.value[0].fixed=D,D||u.value.shift()):(o.value[0].fixed=!0,u.value.unshift(o.value[0])));const G=o.value.filter(be=>!be.fixed);l.value=[].concat(u.value).concat(G).concat(d.value);const ye=q2(G),ve=q2(u.value),Le=q2(d.value);g.value=ye.length,v.value=ve.length,y.value=Le.length,c.value=[].concat(ve).concat(ye).concat(Le),s.value=u.value.length>0||d.value.length>0},z=(G,ye=!1)=>{G&&H(),ye?e.state.doLayout():e.state.debouncedUpdateLayout()},B=G=>_.value.some(ye=>Ka(ye,G)),W=()=>{b.value=!1;const G=_.value;_.value=[],G.length&&e.emit("selection-change",[])},Z=()=>{let G;if(r.value){G=[];const ye=Gp(_.value,r.value),ve=Gp(i.value,r.value);for(const Le in ye)ar(ye,Le)&&!ve[Le]&&G.push(ye[Le].row)}else G=_.value.filter(ye=>!i.value.includes(ye));if(G.length){const ye=_.value.filter(ve=>!G.includes(ve));_.value=ye,e.emit("selection-change",ye.slice())}},ee=()=>(_.value||[]).slice(),J=(G,ye,ve=!0,Le=!1)=>{var be,Te,ht,Ie;const bt={children:(Te=(be=e==null?void 0:e.store)==null?void 0:be.states)==null?void 0:Te.childrenColumnName.value,checkStrictly:(Ie=(ht=e==null?void 0:e.store)==null?void 0:ht.states)==null?void 0:Ie.checkStrictly.value};if(sM(_.value,G,ye,bt,Le?void 0:M.value)){const vt=(_.value||[]).slice();ve&&e.emit("select",vt,G),e.emit("selection-change",vt)}},re=()=>{var G,ye;const ve=x.value?!b.value:!(b.value||_.value.length);b.value=ve;let Le=!1,be=0;const Te=(ye=(G=e==null?void 0:e.store)==null?void 0:G.states)==null?void 0:ye.rowKey.value,{childrenColumnName:ht}=e.store.states,Ie={children:ht.value,checkStrictly:!1};i.value.forEach((bt,nt)=>{const vt=nt+be;sM(_.value,bt,ve,Ie,M.value,vt)&&(Le=!0),be+=me(Rs(bt,Te))}),Le&&e.emit("selection-change",_.value?_.value.slice():[]),e.emit("select-all",(_.value||[]).slice())},fe=()=>{const G=Gp(_.value,r.value);i.value.forEach(ye=>{const ve=Rs(ye,r.value),Le=G[ve];Le&&(_.value[Le.index]=ye)})},de=()=>{var G;if(((G=i.value)==null?void 0:G.length)===0){b.value=!1;return}const{childrenColumnName:ye}=e.store.states,ve=r.value?Gp(_.value,r.value):void 0;let Le=0,be=0;const Te=bt=>ve?!!ve[Rs(bt,r.value)]:_.value.includes(bt),ht=bt=>{var nt;for(const vt of bt){const kt=M.value&&M.value.call(null,vt,Le);if(Te(vt))be++;else if(!M.value||kt)return!1;if(Le++,(nt=vt[ye.value])!=null&&nt.length&&!ht(vt[ye.value]))return!1}return!0},Ie=ht(i.value||[]);b.value=be===0?!1:Ie},me=G=>{var ye;if(!e||!e.store)return 0;const{treeData:ve}=e.store.states;let Le=0;const be=(ye=ve.value[G])==null?void 0:ye.children;return be&&(Le+=be.length,be.forEach(Te=>{Le+=me(Te)})),Le},Re=(G,ye)=>{St(G)||(G=[G]);const ve={};return G.forEach(Le=>{C.value[Le.id]=ye,ve[Le.columnKey||Le.id]=ye}),ve},De=(G,ye,ve)=>{A.value&&A.value!==G&&(A.value.order=null),A.value=G,I.value=ye,L.value=ve},Ge=()=>{let G=S(a);Object.keys(C.value).forEach(ye=>{const ve=C.value[ye];if(!ve||ve.length===0)return;const Le=xZ({columns:c.value},ye);Le&&Le.filterMethod&&(G=G.filter(be=>ve.some(Te=>Le.filterMethod.call(null,Te,be,Le))))}),T.value=G},We=()=>{i.value=O4e(T.value,{sortingColumn:A.value,sortProp:I.value,sortOrder:L.value})},K=(G=void 0)=>{G&&G.filter||Ge(),We()},ue=G=>{const{tableHeaderRef:ye}=e.refs;if(!ye)return;const ve=Object.assign({},ye.filterPanels),Le=Object.keys(ve);if(Le.length)if(qt(G)&&(G=[G]),St(G)){const be=G.map(Te=>T4e({columns:c.value},Te));Le.forEach(Te=>{const ht=be.find(Ie=>Ie.id===Te);ht&&(ht.filteredValue=[])}),e.store.commit("filterChange",{column:be,values:[],silent:!0,multi:!0})}else Le.forEach(be=>{const Te=c.value.find(ht=>ht.id===be);Te&&(Te.filteredValue=[])}),C.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},ie=()=>{A.value&&(De(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:$e,toggleRowExpansion:Ne,updateExpandRows:Ye,states:ce,isRowExpanded:he}=L4e({data:i,rowKey:r}),{updateTreeExpandKeys:ke,toggleTreeExpansion:oe,updateTreeData:V,updateKeyChildren:Y,loadOrToggle:Q,states:we}=k4e({data:i,rowKey:r}),{updateCurrentRowData:Ue,updateCurrentRow:ct,setCurrentRowKey:pt,states:Ee}=D4e({data:i,rowKey:r});return{assertRowKey:N,updateColumns:H,scheduleLayout:z,isSelected:B,clearSelection:W,cleanSelection:Z,getSelectionRows:ee,toggleRowSelection:J,_toggleAllSelection:re,toggleAllSelection:null,updateSelectionByRowKey:fe,updateAllSelected:de,updateFilters:Re,updateCurrentRow:ct,updateSort:De,execFilter:Ge,execSort:We,execQuery:K,clearFilter:ue,clearSort:ie,toggleRowExpansion:Ne,setExpandRowKeysAdapter:G=>{$e(G),ke(G)},setCurrentRowKey:pt,toggleRowExpansionAdapter:(G,ye)=>{c.value.some(({type:Le})=>Le==="expand")?Ne(G,ye):oe(G,ye)},isRowExpanded:he,updateExpandRows:Ye,updateCurrentRowData:Ue,loadOrToggle:Q,updateTreeData:V,updateKeyChildren:Y,states:{tableSize:t,rowKey:r,data:i,_data:a,isComplex:s,_columns:o,originColumns:l,columns:c,fixedColumns:u,rightFixedColumns:d,leafColumns:f,fixedLeafColumns:h,rightFixedLeafColumns:p,updateOrderFns:m,leafColumnsLength:g,fixedLeafColumnsLength:v,rightFixedLeafColumnsLength:y,isAllSelected:b,selection:_,reserveSelection:w,selectOnIndeterminate:x,selectable:M,filters:C,filteredData:T,sortingColumn:A,sortProp:I,sortOrder:L,hoverRow:k,...ce,...we,...Ee}}}function f5(n,e){return n.map(t=>{var r;return t.id===e.id?e:((r=t.children)!=null&&r.length&&(t.children=f5(t.children,e)),t)})}function h5(n){n.forEach(e=>{var t,r;e.no=(t=e.getColumnIndex)==null?void 0:t.call(e),(r=e.children)!=null&&r.length&&h5(e.children)}),n.sort((e,t)=>e.no-t.no)}function B4e(){const n=wn(),e=N4e();return{ns:yt("table"),...e,mutations:{setData(s,o){const l=S(s._data)!==o;s.data.value=o,s._data.value=o,n.store.execQuery(),n.store.updateCurrentRowData(),n.store.updateExpandRows(),n.store.updateTreeData(n.store.states.defaultExpandAll.value),S(s.reserveSelection)?(n.store.assertRowKey(),n.store.updateSelectionByRowKey()):l?n.store.clearSelection():n.store.cleanSelection(),n.store.updateAllSelected(),n.$ready&&n.store.scheduleLayout()},insertColumn(s,o,l,c){const u=S(s._columns);let d=[];l?(l&&!l.children&&(l.children=[]),l.children.push(o),d=f5(u,l)):(u.push(o),d=u),h5(d),s._columns.value=d,s.updateOrderFns.push(c),o.type==="selection"&&(s.selectable.value=o.selectable,s.reserveSelection.value=o.reserveSelection),n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},updateColumnOrder(s,o){var l;((l=o.getColumnIndex)==null?void 0:l.call(o))!==o.no&&(h5(s._columns.value),n.$ready&&n.store.updateColumns())},removeColumn(s,o,l,c){const u=S(s._columns)||[];if(l)l.children.splice(l.children.findIndex(f=>f.id===o.id),1),Yt(()=>{var f;((f=l.children)==null?void 0:f.length)===0&&delete l.children}),s._columns.value=f5(u,l);else{const f=u.indexOf(o);f>-1&&(u.splice(f,1),s._columns.value=u)}const d=s.updateOrderFns.indexOf(c);d>-1&&s.updateOrderFns.splice(d,1),n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},sort(s,o){const{prop:l,order:c,init:u}=o;if(l){const d=S(s.columns).find(f=>f.property===l);d&&(d.order=c,n.store.updateSort(d,l,c),n.store.commit("changeSortCondition",{init:u}))}},changeSortCondition(s,o){const{sortingColumn:l,sortProp:c,sortOrder:u}=s,d=S(l),f=S(c),h=S(u);h===null&&(s.sortingColumn.value=null,s.sortProp.value=null);const p={filter:!0};n.store.execQuery(p),(!o||!(o.silent||o.init))&&n.emit("sort-change",{column:d,prop:f,order:h}),n.store.updateTableScrollY()},filterChange(s,o){const{column:l,values:c,silent:u}=o,d=n.store.updateFilters(l,c);n.store.execQuery(),u||n.emit("filter-change",d),n.store.updateTableScrollY()},toggleAllSelection(){n.store.toggleAllSelection()},rowSelectedChanged(s,o){n.store.toggleRowSelection(o),n.store.updateAllSelected()},setHoverRow(s,o){s.hoverRow.value=o},setCurrentRow(s,o){n.store.updateCurrentRow(o)}},commit:function(s,...o){const l=n.store.mutations;if(l[s])l[s].apply(n,[n.store.states].concat(o));else throw new Error(`Action not found: ${s}`)},updateTableScrollY:function(){Yt(()=>n.layout.updateScrollY.apply(n.layout))}}}const mb={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function F4e(n,e){if(!n)throw new Error("Table is required.");const t=B4e();return t.toggleAllSelection=Mo(t._toggleAllSelection,10),Object.keys(mb).forEach(r=>{AZ(EZ(e,r),r,t)}),z4e(t,e),t}function z4e(n,e){Object.keys(mb).forEach(t=>{dt(()=>EZ(e,t),r=>{AZ(r,t,n)})})}function AZ(n,e,t){let r=n,i=mb[e];typeof mb[e]=="object"&&(i=i.key,r=r||mb[e].default),t.states[i].value=r}function EZ(n,e){if(e.includes(".")){const t=e.split(".");let r=n;return t.forEach(i=>{r=r[i]}),r}else return n[e]}class U4e{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=te(null),this.scrollX=te(!1),this.scrollY=te(!1),this.bodyWidth=te(null),this.fixedWidth=te(null),this.rightFixedWidth=te(null),this.gutterWidth=0;for(const t in e)ar(e,t)&&(Ur(this[t])?this[t].value=e[t]:this[t]=e[t]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const t=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(t!=null&&t.wrapRef)){let r=!0;const i=this.scrollY.value;return r=t.wrapRef.scrollHeight>t.wrapRef.clientHeight,this.scrollY.value=r,i!==r}return!1}setHeight(e,t="height"){if(!tr)return;const r=this.table.vnode.el;if(e=E4e(e),this.height.value=Number(e),!r&&(e||e===0))return Yt(()=>this.setHeight(e,t));en(e)?(r.style[t]=`${e}px`,this.updateElsHeight()):qt(e)&&(r.style[t]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?e.push.apply(e,r.columns):e.push(r)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let t=e;for(;t.tagName!=="DIV";){if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}updateColumnsWidth(){if(!tr)return;const e=this.fit,t=this.table.vnode.el.clientWidth;let r=0;const i=this.getFlattenColumns(),a=i.filter(l=>!en(l.width));if(i.forEach(l=>{en(l.width)&&l.realWidth&&(l.realWidth=null)}),a.length>0&&e){if(i.forEach(l=>{r+=Number(l.width||l.minWidth||80)}),r<=t){this.scrollX.value=!1;const l=t-r;if(a.length===1)a[0].realWidth=Number(a[0].minWidth||80)+l;else{const c=a.reduce((f,h)=>f+Number(h.minWidth||80),0),u=l/c;let d=0;a.forEach((f,h)=>{if(h===0)return;const p=Math.floor(Number(f.minWidth||80)*u);d+=p,f.realWidth=Number(f.minWidth||80)+p}),a[0].realWidth=Number(a[0].minWidth||80)+l-d}}else this.scrollX.value=!0,a.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(r,t),this.table.state.resizeState.value.width=this.bodyWidth.value}else i.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),r+=l.realWidth}),this.scrollX.value=r>t,this.bodyWidth.value=r;const s=this.store.states.fixedColumns.value;if(s.length>0){let l=0;s.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.fixedWidth.value=l}const o=this.store.states.rightFixedColumns.value;if(o.length>0){let l=0;o.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);t!==-1&&this.observers.splice(t,1)}notifyObservers(e){this.observers.forEach(r=>{var i,a;switch(e){case"columns":(i=r.state)==null||i.onColumnsChange(this);break;case"scrollable":(a=r.state)==null||a.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:H4e}=ql,V4e=Pe({name:"ElTableFilterPanel",components:{ElCheckbox:ql,ElCheckboxGroup:H4e,ElScrollbar:Mu,ElTooltip:ds,ElIcon:Gt,ArrowDown:Vd,ArrowUp:p6},directives:{ClickOutside:Ed},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(n){const e=wn(),{t}=nr(),r=yt("table-filter"),i=e==null?void 0:e.parent;i.filterPanels.value[n.column.id]||(i.filterPanels.value[n.column.id]=e);const a=te(!1),s=te(null),o=U(()=>n.column&&n.column.filters),l=U(()=>n.column.filterClassName?`${r.b()} ${n.column.filterClassName}`:r.b()),c=U({get:()=>{var w;return(((w=n.column)==null?void 0:w.filteredValue)||[])[0]},set:w=>{u.value&&(typeof w<"u"&&w!==null?u.value.splice(0,1,w):u.value.splice(0,1))}}),u=U({get(){return n.column?n.column.filteredValue||[]:[]},set(w){n.column&&n.upDataColumn("filteredValue",w)}}),d=U(()=>n.column?n.column.filterMultiple:!0),f=w=>w.value===c.value,h=()=>{a.value=!1},p=w=>{w.stopPropagation(),a.value=!a.value},m=()=>{a.value=!1},g=()=>{b(u.value),h()},v=()=>{u.value=[],b(u.value),h()},y=w=>{c.value=w,b(typeof w<"u"&&w!==null?u.value:[]),h()},b=w=>{n.store.commit("filterChange",{column:n.column,values:w}),n.store.updateAllSelected()};dt(a,w=>{n.column&&n.upDataColumn("filterOpened",w)},{immediate:!0});const _=U(()=>{var w,x;return(x=(w=s.value)==null?void 0:w.popperRef)==null?void 0:x.contentRef});return{tooltipVisible:a,multiple:d,filterClassName:l,filteredValue:u,filterValue:c,filters:o,handleConfirm:g,handleReset:v,handleSelect:y,isActive:f,t,ns:r,showFilterPanel:p,hideFilterPanel:m,popperPaneRef:_,tooltip:s}}});function $4e(n,e,t,r,i,a){const s=Lt("el-checkbox"),o=Lt("el-checkbox-group"),l=Lt("el-scrollbar"),c=Lt("arrow-up"),u=Lt("arrow-down"),d=Lt("el-icon"),f=Lt("el-tooltip"),h=gS("click-outside");return $(),rt(f,{ref:"tooltip",visible:n.tooltipVisible,offset:0,placement:n.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":n.filterClassName,persistent:"","append-to":n.appendTo},{content:Me(()=>[n.multiple?($(),ge("div",{key:0},[_e("div",{class:j(n.ns.e("content"))},[pe(l,{"wrap-class":n.ns.e("wrap")},{default:Me(()=>[pe(o,{modelValue:n.filteredValue,"onUpdate:modelValue":p=>n.filteredValue=p,class:j(n.ns.e("checkbox-group"))},{default:Me(()=>[($(!0),ge(Bt,null,kn(n.filters,p=>($(),rt(s,{key:p.value,value:p.value},{default:Me(()=>[un(_t(p.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),_e("div",{class:j(n.ns.e("bottom"))},[_e("button",{class:j({[n.ns.is("disabled")]:n.filteredValue.length===0}),disabled:n.filteredValue.length===0,type:"button",onClick:n.handleConfirm},_t(n.t("el.table.confirmFilter")),11,["disabled","onClick"]),_e("button",{type:"button",onClick:n.handleReset},_t(n.t("el.table.resetFilter")),9,["onClick"])],2)])):($(),ge("ul",{key:1,class:j(n.ns.e("list"))},[_e("li",{class:j([n.ns.e("list-item"),{[n.ns.is("active")]:n.filterValue===void 0||n.filterValue===null}]),onClick:p=>n.handleSelect(null)},_t(n.t("el.table.clearFilter")),11,["onClick"]),($(!0),ge(Bt,null,kn(n.filters,p=>($(),ge("li",{key:p.value,class:j([n.ns.e("list-item"),n.ns.is("active",n.isActive(p))]),label:p.value,onClick:m=>n.handleSelect(p.value)},_t(p.text),11,["label","onClick"]))),128))],2))]),default:Me(()=>[Sn(($(),ge("span",{class:j([`${n.ns.namespace.value}-table__column-filter-trigger`,`${n.ns.namespace.value}-none-outline`]),onClick:n.showFilterPanel},[pe(d,null,{default:Me(()=>[Qe(n.$slots,"filter-icon",{},()=>[n.column.filterOpened?($(),rt(c,{key:0})):($(),rt(u,{key:1}))])]),_:3})],10,["onClick"])),[[h,n.hideFilterPanel,n.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var G4e=It(V4e,[["render",$4e],["__file","filter-panel.vue"]]);function IZ(n){const e=wn();vS(()=>{t.value.addObserver(e)}),dn(()=>{r(t.value),i(t.value)}),Io(()=>{r(t.value),i(t.value)}),Ec(()=>{t.value.removeObserver(e)});const t=U(()=>{const a=n.layout;if(!a)throw new Error("Can not find table layout.");return a}),r=a=>{var s;const o=((s=n.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col"))||[];if(!o.length)return;const l=a.getFlattenColumns(),c={};l.forEach(u=>{c[u.id]=u});for(let u=0,d=o.length;u<d;u++){const f=o[u],h=f.getAttribute("name"),p=c[h];p&&f.setAttribute("width",p.realWidth||p.width)}},i=a=>{var s,o;const l=((s=n.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let u=0,d=l.length;u<d;u++)l[u].setAttribute("width",a.scrollY.value?a.gutterWidth:"0");const c=((o=n.vnode.el)==null?void 0:o.querySelectorAll("th.gutter"))||[];for(let u=0,d=c.length;u<d;u++){const f=c[u];f.style.width=a.scrollY.value?`${a.gutterWidth}px`:"0",f.style.display=a.scrollY.value?"":"none"}};return{tableLayout:t.value,onColumnsChange:r,onScrollableChange:i}}const Eu=Symbol("ElTable");function W4e(n,e){const t=wn(),r=Nt(Eu),i=m=>{m.stopPropagation()},a=(m,g)=>{!g.filters&&g.sortable?p(m,g,!1):g.filterable&&!g.sortable&&i(m),r==null||r.emit("header-click",g,m)},s=(m,g)=>{r==null||r.emit("header-contextmenu",g,m)},o=te(null),l=te(!1),c=te({}),u=(m,g)=>{if(tr&&!(g.children&&g.children.length>0)&&o.value&&n.border){l.value=!0;const v=r;e("set-drag-visible",!0);const b=(v==null?void 0:v.vnode.el).getBoundingClientRect().left,_=t.vnode.el.querySelector(`th.${g.id}`),w=_.getBoundingClientRect(),x=w.left-b+30;Dl(_,"noclick"),c.value={startMouseLeft:m.clientX,startLeft:w.right-b,startColumnLeft:w.left-b,tableLeft:b};const M=v==null?void 0:v.refs.resizeProxy;M.style.left=`${c.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const C=A=>{const I=A.clientX-c.value.startMouseLeft,L=c.value.startLeft+I;M.style.left=`${Math.max(x,L)}px`},T=()=>{if(l.value){const{startColumnLeft:A,startLeft:I}=c.value,k=Number.parseInt(M.style.left,10)-A;g.width=g.realWidth=k,v==null||v.emit("header-dragend",g.width,I-A,g,m),requestAnimationFrame(()=>{n.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,o.value=null,c.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",T),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{ks(_,"noclick")},0)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",T)}},d=(m,g)=>{var v;if(g.children&&g.children.length>0)return;const y=m.target;if(!Zo(y))return;const b=y==null?void 0:y.closest("th");if(!(!g||!g.resizable||!b)&&!l.value&&n.border){const _=b.getBoundingClientRect(),w=document.body.style,x=((v=b.parentNode)==null?void 0:v.lastElementChild)===b;_.width>12&&_.right-m.pageX<8&&!x?(w.cursor="col-resize",mo(b,"is-sortable")&&(b.style.cursor="col-resize"),o.value=g):l.value||(w.cursor="",mo(b,"is-sortable")&&(b.style.cursor="pointer"),o.value=null)}},f=()=>{tr&&(document.body.style.cursor="")},h=({order:m,sortOrders:g})=>{if(m==="")return g[0];const v=g.indexOf(m||null);return g[v>g.length-2?0:v+1]},p=(m,g,v)=>{var y;m.stopPropagation();const b=g.order===v?null:v||h(g),_=(y=m.target)==null?void 0:y.closest("th");if(_&&mo(_,"noclick")){ks(_,"noclick");return}if(!g.sortable)return;const w=m.currentTarget;if(["ascending","descending"].some(A=>mo(w,A)&&!g.sortOrders.includes(A)))return;const x=n.store.states;let M=x.sortProp.value,C;const T=x.sortingColumn.value;(T!==g||T===g&&T.order===null)&&(T&&(T.order=null),x.sortingColumn.value=g,M=g.property),b?C=g.order=b:C=g.order=null,x.sortProp.value=M,x.sortOrder.value=C,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:a,handleHeaderContextMenu:s,handleMouseDown:u,handleMouseMove:d,handleMouseOut:f,handleSortClick:p,handleFilterClick:i}}function q4e(n){const e=Nt(Eu),t=yt("table");return{getHeaderRowStyle:o=>{const l=e==null?void 0:e.props.headerRowStyle;return Kt(l)?l.call(null,{rowIndex:o}):l},getHeaderRowClass:o=>{const l=[],c=e==null?void 0:e.props.headerRowClassName;return qt(c)?l.push(c):Kt(c)&&l.push(c.call(null,{rowIndex:o})),l.join(" ")},getHeaderCellStyle:(o,l,c,u)=>{var d;let f=(d=e==null?void 0:e.props.headerCellStyle)!=null?d:{};Kt(f)&&(f=f.call(null,{rowIndex:o,columnIndex:l,row:c,column:u}));const h=lk(l,u.fixed,n.store,c);return Lg(h,"left"),Lg(h,"right"),Object.assign({},f,h)},getHeaderCellClass:(o,l,c,u)=>{const d=ok(t.b(),l,u.fixed,n.store,c),f=[u.id,u.order,u.headerAlign,u.className,u.labelClassName,...d];u.children||f.push("is-leaf"),u.sortable&&f.push("is-sortable");const h=e==null?void 0:e.props.headerCellClassName;return qt(h)?f.push(h):Kt(h)&&f.push(h.call(null,{rowIndex:o,columnIndex:l,row:c,column:u})),f.push(t.e("cell")),f.filter(p=>!!p).join(" ")}}}const RZ=n=>{const e=[];return n.forEach(t=>{t.children?(e.push(t),e.push.apply(e,RZ(t.children))):e.push(t)}),e},PZ=n=>{let e=1;const t=(a,s)=>{if(s&&(a.level=s.level+1,e<a.level&&(e=a.level)),a.children){let o=0;a.children.forEach(l=>{t(l,a),o+=l.colSpan}),a.colSpan=o}else a.colSpan=1};n.forEach(a=>{a.level=1,t(a,void 0)});const r=[];for(let a=0;a<e;a++)r.push([]);return RZ(n).forEach(a=>{a.children?(a.rowSpan=1,a.children.forEach(s=>s.isSubColumn=!0)):a.rowSpan=e-a.level+1,r[a.level-1].push(a)}),r};function K4e(n){const e=Nt(Eu),t=U(()=>PZ(n.store.states.originColumns.value));return{isGroup:U(()=>{const a=t.value.length>1;return a&&e&&(e.state.isGroup.value=!0),a}),toggleAllSelection:a=>{a.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:t}}var Y4e=Pe({name:"ElTableHeader",components:{ElCheckbox:ql},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String}},setup(n,{emit:e}){const t=wn(),r=Nt(Eu),i=yt("table"),a=te({}),{onColumnsChange:s,onScrollableChange:o}=IZ(r),l=(r==null?void 0:r.props.tableLayout)==="auto",c=pr(new Map),u=te(),d=()=>{setTimeout(()=>{c.size>0&&(c.forEach((A,I)=>{const L=u.value.querySelector(`.${I.replace(/\s/g,".")}`);if(L){const k=L.getBoundingClientRect().width;A.width=k}}),c.clear())})};dt(c,d),dn(async()=>{await Yt(),await Yt();const{prop:A,order:I}=n.defaultSort;r==null||r.store.commit("sort",{prop:A,order:I,init:!0}),d()});const{handleHeaderClick:f,handleHeaderContextMenu:h,handleMouseDown:p,handleMouseMove:m,handleMouseOut:g,handleSortClick:v,handleFilterClick:y}=W4e(n,e),{getHeaderRowStyle:b,getHeaderRowClass:_,getHeaderCellStyle:w,getHeaderCellClass:x}=q4e(n),{isGroup:M,toggleAllSelection:C,columnRows:T}=K4e(n);return t.state={onColumnsChange:s,onScrollableChange:o},t.filterPanels=a,{ns:i,filterPanels:a,onColumnsChange:s,onScrollableChange:o,columnRows:T,getHeaderRowClass:_,getHeaderRowStyle:b,getHeaderCellClass:x,getHeaderCellStyle:w,handleHeaderClick:f,handleHeaderContextMenu:h,handleMouseDown:p,handleMouseMove:m,handleMouseOut:g,handleSortClick:v,handleFilterClick:y,isGroup:M,toggleAllSelection:C,saveIndexSelection:c,isTableLayoutAuto:l,theadRef:u,updateFixedColumnStyle:d}},render(){const{ns:n,isGroup:e,columnRows:t,getHeaderCellStyle:r,getHeaderCellClass:i,getHeaderRowClass:a,getHeaderRowStyle:s,handleHeaderClick:o,handleHeaderContextMenu:l,handleMouseDown:c,handleMouseMove:u,handleSortClick:d,handleMouseOut:f,store:h,$parent:p,saveIndexSelection:m,isTableLayoutAuto:g}=this;let v=1;return $t("thead",{ref:"theadRef",class:{[n.is("group")]:e}},t.map((y,b)=>$t("tr",{class:a(b),key:b,style:s(b)},y.map((_,w)=>{_.rowSpan>v&&(v=_.rowSpan);const x=i(b,w,y,_);return g&&_.fixed&&m.set(x,_),$t("th",{class:x,colspan:_.colSpan,key:`${_.id}-thead`,rowspan:_.rowSpan,style:r(b,w,y,_),onClick:M=>{M.currentTarget.classList.contains("noclick")||o(M,_)},onContextmenu:M=>l(M,_),onMousedown:M=>c(M,_),onMousemove:M=>u(M,_),onMouseout:f},[$t("div",{class:["cell",_.filteredValue&&_.filteredValue.length>0?"highlight":""]},[_.renderHeader?_.renderHeader({column:_,$index:w,store:h,_self:p}):_.label,_.sortable&&$t("span",{onClick:M=>d(M,_),class:"caret-wrapper"},[$t("i",{onClick:M=>d(M,_,"ascending"),class:"sort-caret ascending"}),$t("i",{onClick:M=>d(M,_,"descending"),class:"sort-caret descending"})]),_.filterable&&$t(G4e,{store:h,placement:_.filterPlacement||"bottom-start",appendTo:p.appendFilterPanelTo,column:_,upDataColumn:(M,C)=>{_[M]=C}},{"filter-icon":()=>_.renderFilterIcon?_.renderFilterIcon({filterOpened:_.filterOpened}):null})])])}))))}});function n3(n,e,t=.03){return n-e>t}function X4e(n){const e=Nt(Eu),t=te(""),r=te($t("div")),i=(p,m,g)=>{var v;const y=e,b=t3(p);let _;const w=(v=y==null?void 0:y.vnode.el)==null?void 0:v.dataset.prefix;b&&(_=i9({columns:n.store.states.columns.value},b,w),_&&(y==null||y.emit(`cell-${g}`,m,_,b,p))),y==null||y.emit(`row-${g}`,m,_,p)},a=(p,m)=>{i(p,m,"dblclick")},s=(p,m)=>{n.store.commit("setCurrentRow",m),i(p,m,"click")},o=(p,m)=>{i(p,m,"contextmenu")},l=Mo(p=>{n.store.commit("setHoverRow",p)},30),c=Mo(()=>{n.store.commit("setHoverRow",null)},30),u=p=>{const m=window.getComputedStyle(p,null),g=Number.parseInt(m.paddingLeft,10)||0,v=Number.parseInt(m.paddingRight,10)||0,y=Number.parseInt(m.paddingTop,10)||0,b=Number.parseInt(m.paddingBottom,10)||0;return{left:g,right:v,top:y,bottom:b}},d=(p,m,g)=>{let v=m.target.parentNode;for(;p>1&&(v=v==null?void 0:v.nextSibling,!(!v||v.nodeName!=="TR"));)g(v,"hover-row hover-fixed-row"),p--};return{handleDoubleClick:a,handleClick:s,handleContextMenu:o,handleMouseEnter:l,handleMouseLeave:c,handleCellMouseEnter:(p,m,g)=>{var v;const y=e,b=t3(p),_=(v=y==null?void 0:y.vnode.el)==null?void 0:v.dataset.prefix;if(b){const H=i9({columns:n.store.states.columns.value},b,_);b.rowSpan>1&&d(b.rowSpan,p,Dl);const z=y.hoverState={cell:b,column:H,row:m};y==null||y.emit("cell-mouse-enter",z.row,z.column,z.cell,p)}if(!g)return;const w=p.target.querySelector(".cell");if(!(mo(w,`${_}-tooltip`)&&w.childNodes.length))return;const x=document.createRange();x.setStart(w,0),x.setEnd(w,w.childNodes.length);const{width:M,height:C}=x.getBoundingClientRect(),{width:T,height:A}=w.getBoundingClientRect(),{top:I,left:L,right:k,bottom:N}=u(w),F=L+k,D=I+N;(n3(M+F,T)||n3(C+D,A)||n3(w.scrollWidth,T))&&P4e(g,b.innerText||b.textContent,b,y)},handleCellMouseLeave:p=>{const m=t3(p);if(!m)return;m.rowSpan>1&&d(m.rowSpan,p,ks);const g=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",g==null?void 0:g.row,g==null?void 0:g.column,g==null?void 0:g.cell,p)},tooltipContent:t,tooltipTrigger:r}}function j4e(n){const e=Nt(Eu),t=yt("table");return{getRowStyle:(c,u)=>{const d=e==null?void 0:e.props.rowStyle;return Kt(d)?d.call(null,{row:c,rowIndex:u}):d||null},getRowClass:(c,u)=>{const d=[t.e("row")];e!=null&&e.props.highlightCurrentRow&&c===n.store.states.currentRow.value&&d.push("current-row"),n.stripe&&u%2===1&&d.push(t.em("row","striped"));const f=e==null?void 0:e.props.rowClassName;return qt(f)?d.push(f):Kt(f)&&d.push(f.call(null,{row:c,rowIndex:u})),d},getCellStyle:(c,u,d,f)=>{const h=e==null?void 0:e.props.cellStyle;let p=h??{};Kt(h)&&(p=h.call(null,{rowIndex:c,columnIndex:u,row:d,column:f}));const m=lk(u,n==null?void 0:n.fixed,n.store);return Lg(m,"left"),Lg(m,"right"),Object.assign({},p,m)},getCellClass:(c,u,d,f,h)=>{const p=ok(t.b(),u,n==null?void 0:n.fixed,n.store,void 0,h),m=[f.id,f.align,f.className,...p],g=e==null?void 0:e.props.cellClassName;return qt(g)?m.push(g):Kt(g)&&m.push(g.call(null,{rowIndex:c,columnIndex:u,row:d,column:f})),m.push(t.e("cell")),m.filter(v=>!!v).join(" ")},getSpan:(c,u,d,f)=>{let h=1,p=1;const m=e==null?void 0:e.props.spanMethod;if(Kt(m)){const g=m({row:c,column:u,rowIndex:d,columnIndex:f});St(g)?(h=g[0],p=g[1]):typeof g=="object"&&(h=g.rowspan,p=g.colspan)}return{rowspan:h,colspan:p}},getColspanRealWidth:(c,u,d)=>{if(u<1)return c[d].realWidth;const f=c.map(({realWidth:h,width:p})=>h||p).slice(d,d+u);return Number(f.reduce((h,p)=>Number(h)+Number(p),-1))}}}const Z4e=Pe({name:"TableTdWrapper"}),Q4e=Pe({...Z4e,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(n){return(e,t)=>($(),ge("td",{colspan:n.colspan,rowspan:n.rowspan},[Qe(e.$slots,"default")],8,["colspan","rowspan"]))}});var J4e=It(Q4e,[["__file","td-wrapper.vue"]]);function eIe(n){const e=Nt(Eu),t=yt("table"),{handleDoubleClick:r,handleClick:i,handleContextMenu:a,handleMouseEnter:s,handleMouseLeave:o,handleCellMouseEnter:l,handleCellMouseLeave:c,tooltipContent:u,tooltipTrigger:d}=X4e(n),{getRowStyle:f,getRowClass:h,getCellStyle:p,getCellClass:m,getSpan:g,getColspanRealWidth:v}=j4e(n),y=U(()=>n.store.states.columns.value.findIndex(({type:M})=>M==="default")),b=(M,C)=>{const T=e.props.rowKey;return T?Rs(M,T):C},_=(M,C,T,A=!1)=>{const{tooltipEffect:I,tooltipOptions:L,store:k}=n,{indent:N,columns:F}=k.states,D=h(M,C);let H=!0;return T&&(D.push(t.em("row",`level-${T.level}`)),H=T.display),$t("tr",{style:[H?null:{display:"none"},f(M,C)],class:D,key:b(M,C),onDblclick:B=>r(B,M),onClick:B=>i(B,M),onContextmenu:B=>a(B,M),onMouseenter:()=>s(C),onMouseleave:o},F.value.map((B,W)=>{const{rowspan:Z,colspan:ee}=g(M,B,C,W);if(!Z||!ee)return null;const J=Object.assign({},B);J.realWidth=v(F.value,ee,W);const re={store:n.store,_self:n.context||e,column:J,row:M,$index:C,cellIndex:W,expanded:A};W===y.value&&T&&(re.treeNode={indent:T.level*N.value,level:T.level},Vr(T.expanded)&&(re.treeNode.expanded=T.expanded,"loading"in T&&(re.treeNode.loading=T.loading),"noLazyChildren"in T&&(re.treeNode.noLazyChildren=T.noLazyChildren)));const fe=`${b(M,C)},${W}`,de=J.columnKey||J.rawColumnKey||"",me=B.showOverflowTooltip&&RY({effect:I},L,B.showOverflowTooltip);return $t(J4e,{style:p(C,W,M,B),class:m(C,W,M,B,ee-1),key:`${de}${fe}`,rowspan:Z,colspan:ee,onMouseenter:Re=>l(Re,M,me),onMouseleave:c},{default:()=>w(W,B,re)})}))},w=(M,C,T)=>C.renderCell(T);return{wrappedRowRender:(M,C)=>{const T=n.store,{isRowExpanded:A,assertRowKey:I}=T,{treeData:L,lazyTreeNodeMap:k,childrenColumnName:N,rowKey:F}=T.states,D=T.states.columns.value;if(D.some(({type:z})=>z==="expand")){const z=A(M),B=_(M,C,void 0,z),W=e.renderExpanded;return z?W?[[B,$t("tr",{key:`expanded-row__${B.key}`},[$t("td",{colspan:D.length,class:`${t.e("cell")} ${t.e("expanded-cell")}`},[W({row:M,$index:C,store:T,expanded:z})])])]]:(console.error("[Element Error]renderExpanded is required."),B):[[B]]}else if(Object.keys(L.value).length){I();const z=Rs(M,F.value);let B=L.value[z],W=null;B&&(W={expanded:B.expanded,level:B.level,display:!0},Vr(B.lazy)&&(Vr(B.loaded)&&B.loaded&&(W.noLazyChildren=!(B.children&&B.children.length)),W.loading=B.loading));const Z=[_(M,C,W)];if(B){let ee=0;const J=(fe,de)=>{fe&&fe.length&&de&&fe.forEach(me=>{const Re={display:de.display&&de.expanded,level:de.level+1,expanded:!1,noLazyChildren:!1,loading:!1},De=Rs(me,F.value);if(De==null)throw new Error("For nested data item, row-key is required.");if(B={...L.value[De]},B&&(Re.expanded=B.expanded,B.level=B.level||Re.level,B.display=!!(B.expanded&&Re.display),Vr(B.lazy)&&(Vr(B.loaded)&&B.loaded&&(Re.noLazyChildren=!(B.children&&B.children.length)),Re.loading=B.loading)),ee++,Z.push(_(me,C+ee,Re)),B){const Ge=k.value[De]||me[N.value];J(Ge,B)}})};B.display=!0;const re=k.value[z]||M[N.value];J(re,B)}return Z}else return _(M,C,void 0)},tooltipContent:u,tooltipTrigger:d}}const tIe={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var nIe=Pe({name:"ElTableBody",props:tIe,setup(n){const e=wn(),t=Nt(Eu),r=yt("table"),{wrappedRowRender:i,tooltipContent:a,tooltipTrigger:s}=eIe(n),{onColumnsChange:o,onScrollableChange:l}=IZ(t),c=[];return dt(n.store.states.hoverRow,(u,d)=>{var f;const h=e==null?void 0:e.vnode.el,p=Array.from((h==null?void 0:h.children)||[]).filter(v=>v==null?void 0:v.classList.contains(`${r.e("row")}`));let m=u;const g=(f=p[m])==null?void 0:f.childNodes;if(g!=null&&g.length){let v=0;Array.from(g).reduce((b,_,w)=>{var x,M;return((x=g[w])==null?void 0:x.colSpan)>1&&(v=(M=g[w])==null?void 0:M.colSpan),_.nodeName!=="TD"&&v===0&&b.push(w),v>0&&v--,b},[]).forEach(b=>{var _;for(m=u;m>0;){const w=(_=p[m-1])==null?void 0:_.childNodes;if(w[b]&&w[b].nodeName==="TD"&&w[b].rowSpan>1){Dl(w[b],"hover-cell"),c.push(w[b]);break}m--}})}else c.forEach(v=>ks(v,"hover-cell")),c.length=0;!n.store.states.isComplex.value||!tr||ph(()=>{const v=p[d],y=p[u];v&&!v.classList.contains("hover-fixed-row")&&ks(v,"hover-row"),y&&Dl(y,"hover-row")})}),Ec(()=>{var u;(u=ml)==null||u()}),{ns:r,onColumnsChange:o,onScrollableChange:l,wrappedRowRender:i,tooltipContent:a,tooltipTrigger:s}},render(){const{wrappedRowRender:n,store:e}=this,t=e.states.data.value||[];return $t("tbody",{tabIndex:-1},[t.reduce((r,i)=>r.concat(n(i,r.length)),[])])}});function rIe(){const n=Nt(Eu),e=n==null?void 0:n.store,t=U(()=>e.states.fixedLeafColumnsLength.value),r=U(()=>e.states.rightFixedColumns.value.length),i=U(()=>e.states.columns.value.length),a=U(()=>e.states.fixedColumns.value.length),s=U(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:t,rightFixedLeafCount:r,columnsCount:i,leftFixedCount:a,rightFixedCount:s,columns:e.states.columns}}function iIe(n){const{columns:e}=rIe(),t=yt("table");return{getCellClasses:(a,s)=>{const o=a[s],l=[t.e("cell"),o.id,o.align,o.labelClassName,...ok(t.b(),s,o.fixed,n.store)];return o.className&&l.push(o.className),o.children||l.push(t.is("leaf")),l},getCellStyles:(a,s)=>{const o=lk(s,a.fixed,n.store);return Lg(o,"left"),Lg(o,"right"),o},columns:e}}var aIe=Pe({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(n){const{getCellClasses:e,getCellStyles:t,columns:r}=iIe(n);return{ns:yt("table"),getCellClasses:e,getCellStyles:t,columns:r}},render(){const{columns:n,getCellStyles:e,getCellClasses:t,summaryMethod:r,sumText:i}=this,a=this.store.states.data.value;let s=[];return r?s=r({columns:n,data:a}):n.forEach((o,l)=>{if(l===0){s[l]=i;return}const c=a.map(h=>Number(h[o.property])),u=[];let d=!0;c.forEach(h=>{if(!Number.isNaN(+h)){d=!1;const p=`${h}`.split(".")[1];u.push(p?p.length:0)}});const f=Math.max.apply(null,u);d?s[l]="":s[l]=c.reduce((h,p)=>{const m=Number(p);return Number.isNaN(+m)?h:Number.parseFloat((h+p).toFixed(Math.min(f,20)))},0)}),$t($t("tfoot",[$t("tr",{},[...n.map((o,l)=>$t("td",{key:l,colspan:o.colSpan,rowspan:o.rowSpan,class:t(n,l),style:e(o,l)},[$t("div",{class:["cell",o.labelClassName]},[s[l]])]))])]))}});function sIe(n){return{setCurrentRow:d=>{n.commit("setCurrentRow",d)},getSelectionRows:()=>n.getSelectionRows(),toggleRowSelection:(d,f,h=!0)=>{n.toggleRowSelection(d,f,!1,h),n.updateAllSelected()},clearSelection:()=>{n.clearSelection()},clearFilter:d=>{n.clearFilter(d)},toggleAllSelection:()=>{n.commit("toggleAllSelection")},toggleRowExpansion:(d,f)=>{n.toggleRowExpansionAdapter(d,f)},clearSort:()=>{n.clearSort()},sort:(d,f)=>{n.commit("sort",{prop:d,order:f})},updateKeyChildren:(d,f)=>{n.updateKeyChildren(d,f)}}}function oIe(n,e,t,r){const i=te(!1),a=te(null),s=te(!1),o=z=>{s.value=z},l=te({width:null,height:null,headerHeight:null}),c=te(!1),u={display:"inline-block",verticalAlign:"middle"},d=te(),f=te(0),h=te(0),p=te(0),m=te(0),g=te(0);wa(()=>{e.setHeight(n.height)}),wa(()=>{e.setMaxHeight(n.maxHeight)}),dt(()=>[n.currentRowKey,t.states.rowKey],([z,B])=>{!S(B)||!S(z)||t.setCurrentRowKey(`${z}`)},{immediate:!0}),dt(()=>n.data,z=>{r.store.commit("setData",z)},{immediate:!0,deep:!0}),wa(()=>{n.expandRowKeys&&t.setExpandRowKeysAdapter(n.expandRowKeys)});const v=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},y=(z,B)=>{const{pixelX:W,pixelY:Z}=B;Math.abs(W)>=Math.abs(Z)&&(r.refs.bodyWrapper.scrollLeft+=B.pixelX/5)},b=U(()=>n.height||n.maxHeight||t.states.fixedColumns.value.length>0||t.states.rightFixedColumns.value.length>0),_=U(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),w=()=>{b.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(T)};dn(async()=>{await Yt(),t.updateColumns(),A(),requestAnimationFrame(w);const z=r.vnode.el,B=r.refs.headerWrapper;n.flexible&&z&&z.parentElement&&(z.parentElement.style.minWidth="0"),l.value={width:d.value=z.offsetWidth,height:z.offsetHeight,headerHeight:n.showHeader&&B?B.offsetHeight:null},t.states.columns.value.forEach(W=>{W.filteredValue&&W.filteredValue.length&&r.store.commit("filterChange",{column:W,values:W.filteredValue,silent:!0})}),r.$ready=!0});const x=(z,B)=>{if(!z)return;const W=Array.from(z.classList).filter(Z=>!Z.startsWith("is-scrolling-"));W.push(e.scrollX.value?B:"is-scrolling-none"),z.className=W.join(" ")},M=z=>{const{tableWrapper:B}=r.refs;x(B,z)},C=z=>{const{tableWrapper:B}=r.refs;return!!(B&&B.classList.contains(z))},T=function(){if(!r.refs.scrollBarRef)return;if(!e.scrollX.value){const fe="is-scrolling-none";C(fe)||M(fe);return}const z=r.refs.scrollBarRef.wrapRef;if(!z)return;const{scrollLeft:B,offsetWidth:W,scrollWidth:Z}=z,{headerWrapper:ee,footerWrapper:J}=r.refs;ee&&(ee.scrollLeft=B),J&&(J.scrollLeft=B);const re=Z-W-1;B>=re?M("is-scrolling-right"):M(B===0?"is-scrolling-left":"is-scrolling-middle")},A=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Ar(r.refs.scrollBarRef.wrapRef,"scroll",T,{passive:!0}),n.fit?hi(r.vnode.el,I):Ar(window,"resize",I),hi(r.refs.bodyWrapper,()=>{var z,B;I(),(B=(z=r.refs)==null?void 0:z.scrollBarRef)==null||B.update()}))},I=()=>{var z,B,W,Z;const ee=r.vnode.el;if(!r.$ready||!ee)return;let J=!1;const{width:re,height:fe,headerHeight:de}=l.value,me=d.value=ee.offsetWidth;re!==me&&(J=!0);const Re=ee.offsetHeight;(n.height||b.value)&&fe!==Re&&(J=!0);const De=n.tableLayout==="fixed"?r.refs.headerWrapper:(z=r.refs.tableHeaderRef)==null?void 0:z.$el;n.showHeader&&(De==null?void 0:De.offsetHeight)!==de&&(J=!0),f.value=((B=r.refs.tableWrapper)==null?void 0:B.scrollHeight)||0,p.value=(De==null?void 0:De.scrollHeight)||0,m.value=((W=r.refs.footerWrapper)==null?void 0:W.offsetHeight)||0,g.value=((Z=r.refs.appendWrapper)==null?void 0:Z.offsetHeight)||0,h.value=f.value-p.value-m.value-g.value,J&&(l.value={width:me,height:Re,headerHeight:n.showHeader&&(De==null?void 0:De.offsetHeight)||0},w())},L=ji(),k=U(()=>{const{bodyWidth:z,scrollY:B,gutterWidth:W}=e;return z.value?`${z.value-(B.value?W:0)}px`:""}),N=U(()=>n.maxHeight?"fixed":n.tableLayout),F=U(()=>{if(n.data&&n.data.length)return null;let z="100%";n.height&&h.value&&(z=`${h.value}px`);const B=d.value;return{width:B?`${B}px`:"",height:z}}),D=U(()=>n.height?{height:"100%"}:n.maxHeight?Number.isNaN(Number(n.maxHeight))?{maxHeight:`calc(${n.maxHeight} - ${p.value+m.value}px)`}:{maxHeight:`${n.maxHeight-p.value-m.value}px`}:{});return{isHidden:i,renderExpanded:a,setDragVisible:o,isGroup:c,handleMouseLeave:v,handleHeaderFooterMousewheel:y,tableSize:L,emptyBlockStyle:F,handleFixedMousewheel:(z,B)=>{const W=r.refs.bodyWrapper;if(Math.abs(B.spinY)>0){const Z=W.scrollTop;B.pixelY<0&&Z!==0&&z.preventDefault(),B.pixelY>0&&W.scrollHeight-W.clientHeight>Z&&z.preventDefault(),W.scrollTop+=Math.ceil(B.pixelY/5)}else W.scrollLeft+=Math.ceil(B.pixelX/5)},resizeProxyVisible:s,bodyWidth:k,resizeState:l,doLayout:w,tableBodyStyles:_,tableLayout:N,scrollbarViewStyle:u,scrollbarStyle:D}}function lIe(n){const e=te(),t=()=>{const i=n.vnode.el.querySelector(".hidden-columns"),a={childList:!0,subtree:!0},s=n.store.states.updateOrderFns;e.value=new MutationObserver(()=>{s.forEach(o=>o())}),e.value.observe(i,a)};dn(()=>{t()}),Ec(()=>{var r;(r=e.value)==null||r.disconnect()})}var cIe={data:{type:Array,default:()=>[]},size:oa,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}};function LZ(n){const e=n.tableLayout==="auto";let t=n.columns||[];e&&t.every(i=>i.width===void 0)&&(t=[]);const r=i=>{const a={key:`${n.tableLayout}_${i.id}`,style:{},name:void 0};return e?a.style={width:`${i.width}px`}:a.name=i.id,a};return $t("colgroup",{},t.map(i=>$t("col",r(i))))}LZ.props=["columns","tableLayout"];const uIe=()=>{const n=te(),e=(a,s)=>{const o=n.value;o&&o.scrollTo(a,s)},t=(a,s)=>{const o=n.value;o&&en(s)&&["Top","Left"].includes(a)&&o[`setScroll${a}`](s)};return{scrollBarRef:n,scrollTo:e,setScrollTop:a=>t("Top",a),setScrollLeft:a=>t("Left",a)}};var l9=!1,Pp,p5,m5,K2,Y2,DZ,X2,v5,g5,y5,kZ,b5,_5,OZ,NZ;function so(){if(!l9){l9=!0;var n=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(n),t=/(Mac OS X)|(Windows)|(Linux)/.exec(n);if(b5=/\b(iPhone|iP[ao]d)/.exec(n),_5=/\b(iP[ao]d)/.exec(n),y5=/Android/i.exec(n),OZ=/FBAN\/\w+;/i.exec(n),NZ=/Mobile/i.exec(n),kZ=!!/Win64/.exec(n),e){Pp=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Pp&&document&&document.documentMode&&(Pp=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(n);DZ=r?parseFloat(r[1])+4:Pp,p5=e[2]?parseFloat(e[2]):NaN,m5=e[3]?parseFloat(e[3]):NaN,K2=e[4]?parseFloat(e[4]):NaN,K2?(e=/(?:Chrome\/(\d+\.\d+))/.exec(n),Y2=e&&e[1]?parseFloat(e[1]):NaN):Y2=NaN}else Pp=p5=m5=Y2=K2=NaN;if(t){if(t[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(n);X2=i?parseFloat(i[1].replace("_",".")):!0}else X2=!1;v5=!!t[2],g5=!!t[3]}else X2=v5=g5=!1}}var S5={ie:function(){return so()||Pp},ieCompatibilityMode:function(){return so()||DZ>Pp},ie64:function(){return S5.ie()&&kZ},firefox:function(){return so()||p5},opera:function(){return so()||m5},webkit:function(){return so()||K2},safari:function(){return S5.webkit()},chrome:function(){return so()||Y2},windows:function(){return so()||v5},osx:function(){return so()||X2},linux:function(){return so()||g5},iphone:function(){return so()||b5},mobile:function(){return so()||b5||_5||y5||NZ},nativeApp:function(){return so()||OZ},android:function(){return so()||y5},ipad:function(){return so()||_5}},dIe=S5,Rw=!!(typeof window<"u"&&window.document&&window.document.createElement),fIe={canUseDOM:Rw,canUseWorkers:typeof Worker<"u",canUseEventListeners:Rw&&!!(window.addEventListener||window.attachEvent),canUseViewport:Rw&&!!window.screen,isInWorker:!Rw},BZ=fIe,FZ;BZ.canUseDOM&&(FZ=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function hIe(n,e){if(!BZ.canUseDOM||e&&!("addEventListener"in document))return!1;var t="on"+n,r=t in document;if(!r){var i=document.createElement("div");i.setAttribute(t,"return;"),r=typeof i[t]=="function"}return!r&&FZ&&n==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var pIe=hIe,c9=10,u9=40,d9=800;function zZ(n){var e=0,t=0,r=0,i=0;return"detail"in n&&(t=n.detail),"wheelDelta"in n&&(t=-n.wheelDelta/120),"wheelDeltaY"in n&&(t=-n.wheelDeltaY/120),"wheelDeltaX"in n&&(e=-n.wheelDeltaX/120),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(e=t,t=0),r=e*c9,i=t*c9,"deltaY"in n&&(i=n.deltaY),"deltaX"in n&&(r=n.deltaX),(r||i)&&n.deltaMode&&(n.deltaMode==1?(r*=u9,i*=u9):(r*=d9,i*=d9)),r&&!e&&(e=r<1?-1:1),i&&!t&&(t=i<1?-1:1),{spinX:e,spinY:t,pixelX:r,pixelY:i}}zZ.getEventType=function(){return dIe.firefox()?"DOMMouseScroll":pIe("wheel")?"wheel":"mousewheel"};var mIe=zZ;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const vIe=function(n,e){if(n&&n.addEventListener){const t=function(r){const i=mIe(r);e&&Reflect.apply(e,this,[r,i])};n.addEventListener("wheel",t,{passive:!0})}},gIe={beforeMount(n,e){vIe(n,e.value)}};let yIe=1;const bIe=Pe({name:"ElTable",directives:{Mousewheel:gIe},components:{TableHeader:Y4e,TableBody:nIe,TableFooter:aIe,ElScrollbar:Mu,hColgroup:LZ},props:cIe,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(n){const{t:e}=nr(),t=yt("table"),r=wn();Vn(Eu,r);const i=F4e(r,n);r.store=i;const a=new U4e({store:r.store,table:r,fit:n.fit,showHeader:n.showHeader});r.layout=a;const s=U(()=>(i.states.data.value||[]).length===0),{setCurrentRow:o,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:h,clearSort:p,sort:m,updateKeyChildren:g}=sIe(i),{isHidden:v,renderExpanded:y,setDragVisible:b,isGroup:_,handleMouseLeave:w,handleHeaderFooterMousewheel:x,tableSize:M,emptyBlockStyle:C,handleFixedMousewheel:T,resizeProxyVisible:A,bodyWidth:I,resizeState:L,doLayout:k,tableBodyStyles:N,tableLayout:F,scrollbarViewStyle:D,scrollbarStyle:H}=oIe(n,a,i,r),{scrollBarRef:z,scrollTo:B,setScrollLeft:W,setScrollTop:Z}=uIe(),ee=Mo(k,50),J=`${t.namespace.value}-table_${yIe++}`;r.tableId=J,r.state={isGroup:_,resizeState:L,doLayout:k,debouncedUpdateLayout:ee};const re=U(()=>{var me;return(me=n.sumText)!=null?me:e("el.table.sumText")}),fe=U(()=>{var me;return(me=n.emptyText)!=null?me:e("el.table.emptyText")}),de=U(()=>PZ(i.states.originColumns.value)[0]);return lIe(r),vr(()=>{ee.cancel()}),{ns:t,layout:a,store:i,columns:de,handleHeaderFooterMousewheel:x,handleMouseLeave:w,tableId:J,tableSize:M,isHidden:v,isEmpty:s,renderExpanded:y,resizeProxyVisible:A,resizeState:L,isGroup:_,bodyWidth:I,tableBodyStyles:N,emptyBlockStyle:C,debouncedUpdateLayout:ee,handleFixedMousewheel:T,setCurrentRow:o,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:h,clearSort:p,doLayout:k,sort:m,updateKeyChildren:g,t:e,setDragVisible:b,context:r,computedSumText:re,computedEmptyText:fe,tableLayout:F,scrollbarViewStyle:D,scrollbarStyle:H,scrollBarRef:z,scrollTo:B,setScrollLeft:W,setScrollTop:Z}}});function _Ie(n,e,t,r,i,a){const s=Lt("hColgroup"),o=Lt("table-header"),l=Lt("table-body"),c=Lt("table-footer"),u=Lt("el-scrollbar"),d=gS("mousewheel");return $(),ge("div",{ref:"tableWrapper",class:j([{[n.ns.m("fit")]:n.fit,[n.ns.m("striped")]:n.stripe,[n.ns.m("border")]:n.border||n.isGroup,[n.ns.m("hidden")]:n.isHidden,[n.ns.m("group")]:n.isGroup,[n.ns.m("fluid-height")]:n.maxHeight,[n.ns.m("scrollable-x")]:n.layout.scrollX.value,[n.ns.m("scrollable-y")]:n.layout.scrollY.value,[n.ns.m("enable-row-hover")]:!n.store.states.isComplex.value,[n.ns.m("enable-row-transition")]:(n.store.states.data.value||[]).length!==0&&(n.store.states.data.value||[]).length<100,"has-footer":n.showSummary},n.ns.m(n.tableSize),n.className,n.ns.b(),n.ns.m(`layout-${n.tableLayout}`)]),style:Ft(n.style),"data-prefix":n.ns.namespace.value,onMouseleave:n.handleMouseLeave},[_e("div",{class:j(n.ns.e("inner-wrapper"))},[_e("div",{ref:"hiddenColumns",class:"hidden-columns"},[Qe(n.$slots,"default")],512),n.showHeader&&n.tableLayout==="fixed"?Sn(($(),ge("div",{key:0,ref:"headerWrapper",class:j(n.ns.e("header-wrapper"))},[_e("table",{ref:"tableHeader",class:j(n.ns.e("header")),style:Ft(n.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[pe(s,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),pe(o,{ref:"tableHeaderRef",border:n.border,"default-sort":n.defaultSort,store:n.store,"append-filter-panel-to":n.appendFilterPanelTo,onSetDragVisible:n.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","onSetDragVisible"])],6)],2)),[[d,n.handleHeaderFooterMousewheel]]):Je("v-if",!0),_e("div",{ref:"bodyWrapper",class:j(n.ns.e("body-wrapper"))},[pe(u,{ref:"scrollBarRef","view-style":n.scrollbarViewStyle,"wrap-style":n.scrollbarStyle,always:n.scrollbarAlwaysOn,tabindex:n.scrollbarTabindex,onScroll:f=>n.$emit("scroll",f)},{default:Me(()=>[_e("table",{ref:"tableBody",class:j(n.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:Ft({width:n.bodyWidth,tableLayout:n.tableLayout})},[pe(s,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),n.showHeader&&n.tableLayout==="auto"?($(),rt(o,{key:0,ref:"tableHeaderRef",class:j(n.ns.e("body-header")),border:n.border,"default-sort":n.defaultSort,store:n.store,"append-filter-panel-to":n.appendFilterPanelTo,onSetDragVisible:n.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):Je("v-if",!0),pe(l,{context:n.context,highlight:n.highlightCurrentRow,"row-class-name":n.rowClassName,"tooltip-effect":n.tooltipEffect,"tooltip-options":n.tooltipOptions,"row-style":n.rowStyle,store:n.store,stripe:n.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),n.showSummary&&n.tableLayout==="auto"?($(),rt(c,{key:1,class:j(n.ns.e("body-footer")),border:n.border,"default-sort":n.defaultSort,store:n.store,"sum-text":n.computedSumText,"summary-method":n.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Je("v-if",!0)],6),n.isEmpty?($(),ge("div",{key:0,ref:"emptyBlock",style:Ft(n.emptyBlockStyle),class:j(n.ns.e("empty-block"))},[_e("span",{class:j(n.ns.e("empty-text"))},[Qe(n.$slots,"empty",{},()=>[un(_t(n.computedEmptyText),1)])],2)],6)):Je("v-if",!0),n.$slots.append?($(),ge("div",{key:1,ref:"appendWrapper",class:j(n.ns.e("append-wrapper"))},[Qe(n.$slots,"append")],2)):Je("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),n.showSummary&&n.tableLayout==="fixed"?Sn(($(),ge("div",{key:1,ref:"footerWrapper",class:j(n.ns.e("footer-wrapper"))},[_e("table",{class:j(n.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:Ft(n.tableBodyStyles)},[pe(s,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),pe(c,{border:n.border,"default-sort":n.defaultSort,store:n.store,"sum-text":n.computedSumText,"summary-method":n.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[lr,!n.isEmpty],[d,n.handleHeaderFooterMousewheel]]):Je("v-if",!0),n.border||n.isGroup?($(),ge("div",{key:2,class:j(n.ns.e("border-left-patch"))},null,2)):Je("v-if",!0)],2),Sn(_e("div",{ref:"resizeProxy",class:j(n.ns.e("column-resize-proxy"))},null,2),[[lr,n.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var SIe=It(bIe,[["render",_Ie],["__file","table.vue"]]);const wIe={selection:"table-column--selection",expand:"table__expand-column"},xIe={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},CIe=n=>wIe[n]||"",MIe={selection:{renderHeader({store:n,column:e}){function t(){return n.states.data.value&&n.states.data.value.length===0}return $t(ql,{disabled:t(),size:n.states.tableSize.value,indeterminate:n.states.selection.value.length>0&&!n.states.isAllSelected.value,"onUpdate:modelValue":n.toggleAllSelection,modelValue:n.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:n,column:e,store:t,$index:r}){return $t(ql,{disabled:e.selectable?!e.selectable.call(null,n,r):!1,size:t.states.tableSize.value,onChange:()=>{t.commit("rowSelectedChanged",n)},onClick:i=>i.stopPropagation(),modelValue:t.isSelected(n),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:n}){return n.label||"#"},renderCell({column:n,$index:e}){let t=e+1;const r=n.index;return en(r)?t=e+r:Kt(r)&&(t=r(e)),$t("div",{},[t])},sortable:!1},expand:{renderHeader({column:n}){return n.label||""},renderCell({row:n,store:e,expanded:t}){const{ns:r}=e,i=[r.e("expand-icon")];return t&&i.push(r.em("expand-icon","expanded")),$t("div",{class:i,onClick:function(s){s.stopPropagation(),e.toggleRowExpansion(n)}},{default:()=>[$t(Gt,null,{default:()=>[$t(Zs)]})]})},sortable:!1,resizable:!1}};function TIe({row:n,column:e,$index:t}){var r;const i=e.property,a=i&&z2(n,i).value;return e&&e.formatter?e.formatter(n,e,a,t):((r=a==null?void 0:a.toString)==null?void 0:r.call(a))||""}function AIe({row:n,treeNode:e,store:t},r=!1){const{ns:i}=t;if(!e)return r?[$t("span",{class:i.e("placeholder")})]:null;const a=[],s=function(o){o.stopPropagation(),!e.loading&&t.loadOrToggle(n)};if(e.indent&&a.push($t("span",{class:i.e("indent"),style:{"padding-left":`${e.indent}px`}})),Vr(e.expanded)&&!e.noLazyChildren){const o=[i.e("expand-icon"),e.expanded?i.em("expand-icon","expanded"):""];let l=Zs;e.loading&&(l=mu),a.push($t("div",{class:o,onClick:s},{default:()=>[$t(Gt,{class:{[i.is("loading")]:e.loading}},{default:()=>[$t(l)]})]}))}else a.push($t("span",{class:i.e("placeholder")}));return a}function f9(n,e){return n.reduce((t,r)=>(t[r]=r,t),e)}function EIe(n,e){const t=wn();return{registerComplexWatchers:()=>{const a=["fixed"],s={realWidth:"width",realMinWidth:"minWidth"},o=f9(a,s);Object.keys(o).forEach(l=>{const c=s[l];ar(e,c)&&dt(()=>e[c],u=>{let d=u;c==="width"&&l==="realWidth"&&(d=sk(u)),c==="minWidth"&&l==="realMinWidth"&&(d=CZ(u)),t.columnConfig.value[c]=d,t.columnConfig.value[l]=d;const f=c==="fixed";n.value.store.scheduleLayout(f)})})},registerNormalWatchers:()=>{const a=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],s={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},o=f9(a,s);Object.keys(o).forEach(l=>{const c=s[l];ar(e,c)&&dt(()=>e[c],u=>{t.columnConfig.value[l]=u})})}}}function IIe(n,e,t){const r=wn(),i=te(""),a=te(!1),s=te(),o=te(),l=yt("table");wa(()=>{s.value=n.align?`is-${n.align}`:null,s.value}),wa(()=>{o.value=n.headerAlign?`is-${n.headerAlign}`:s.value,o.value});const c=U(()=>{let _=r.vnode.vParent||r.parent;for(;_&&!_.tableId&&!_.columnId;)_=_.vnode.vParent||_.parent;return _}),u=U(()=>{const{store:_}=r.parent;if(!_)return!1;const{treeData:w}=_.states,x=w.value;return x&&Object.keys(x).length>0}),d=te(sk(n.width)),f=te(CZ(n.minWidth)),h=_=>(d.value&&(_.width=d.value),f.value&&(_.minWidth=f.value),!d.value&&f.value&&(_.width=void 0),_.minWidth||(_.minWidth=80),_.realWidth=Number(_.width===void 0?_.minWidth:_.width),_),p=_=>{const w=_.type,x=MIe[w]||{};Object.keys(x).forEach(C=>{const T=x[C];C!=="className"&&T!==void 0&&(_[C]=T)});const M=CIe(w);if(M){const C=`${S(l.namespace)}-${M}`;_.className=_.className?`${_.className} ${C}`:C}return _},m=_=>{St(_)?_.forEach(x=>w(x)):w(_);function w(x){var M;((M=x==null?void 0:x.type)==null?void 0:M.name)==="ElTableColumn"&&(x.vParent=r)}};return{columnId:i,realAlign:s,isSubColumn:a,realHeaderAlign:o,columnOrTableParent:c,setColumnWidth:h,setColumnForcedProps:p,setColumnRenders:_=>{n.renderHeader||_.type!=="selection"&&(_.renderHeader=x=>(r.columnConfig.value.label,Qe(e,"header",x,()=>[_.label]))),e["filter-icon"]&&(_.renderFilterIcon=x=>Qe(e,"filter-icon",x));let w=_.renderCell;return _.type==="expand"?(_.renderCell=x=>$t("div",{class:"cell"},[w(x)]),t.value.renderExpanded=x=>e.default?e.default(x):e.default):(w=w||TIe,_.renderCell=x=>{let M=null;if(e.default){const k=e.default(x);M=k.some(N=>N.type!==xa)?k:w(x)}else M=w(x);const{columns:C}=t.value.store.states,T=C.value.findIndex(k=>k.type==="default"),A=u.value&&x.cellIndex===T,I=AIe(x,A),L={class:"cell",style:{}};return _.showOverflowTooltip&&(L.class=`${L.class} ${S(l.namespace)}-tooltip`,L.style={width:`${(x.column.realWidth||Number(x.column.width))-1}px`}),m(M),$t("div",L,[I,M])}),_},getPropsData:(..._)=>_.reduce((w,x)=>(St(x)&&x.forEach(M=>{w[M]=n[M]}),w),{}),getColumnElIndex:(_,w)=>Array.prototype.indexOf.call(_,w),updateColumnOrder:()=>{t.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var RIe={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:n=>n.every(e=>["ascending","descending",null].includes(e))}};let PIe=1;var UZ=Pe({name:"ElTableColumn",components:{ElCheckbox:ql},props:RIe,setup(n,{slots:e}){const t=wn(),r=te({}),i=U(()=>{let b=t.parent;for(;b&&!b.tableId;)b=b.parent;return b}),{registerNormalWatchers:a,registerComplexWatchers:s}=EIe(i,n),{columnId:o,isSubColumn:l,realHeaderAlign:c,columnOrTableParent:u,setColumnWidth:d,setColumnForcedProps:f,setColumnRenders:h,getPropsData:p,getColumnElIndex:m,realAlign:g,updateColumnOrder:v}=IIe(n,e,i),y=u.value;o.value=`${y.tableId||y.columnId}_column_${PIe++}`,vS(()=>{l.value=i.value!==y;const b=n.type||"default",_=n.sortable===""?!0:n.sortable,w=Tr(n.showOverflowTooltip)?y.props.showOverflowTooltip:n.showOverflowTooltip,x={...xIe[b],id:o.value,type:b,property:n.prop||n.property,align:g,headerAlign:c,showOverflowTooltip:w,filterable:n.filters||n.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:_,index:n.index,rawColumnKey:t.vnode.key};let I=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);I=A4e(x,I),I=I4e(h,d,f)(I),r.value=I,a(),s()}),dn(()=>{var b;const _=u.value,w=l.value?_.vnode.el.children:(b=_.refs.hiddenColumns)==null?void 0:b.children,x=()=>m(w||[],t.vnode.el);r.value.getColumnIndex=x,x()>-1&&i.value.store.commit("insertColumn",r.value,l.value?_.columnConfig.value:null,v)}),vr(()=>{const b=r.value.getColumnIndex;(b?b():-1)>-1&&i.value.store.commit("removeColumn",r.value,l.value?y.columnConfig.value:null,v)}),t.columnId=o.value,t.columnConfig=r},render(){var n,e,t;try{const r=(e=(n=this.$slots).default)==null?void 0:e.call(n,{row:{},column:{},$index:-1}),i=[];if(St(r))for(const s of r)((t=s.type)==null?void 0:t.name)==="ElTableColumn"||s.shapeFlag&2?i.push(s):s.type===Bt&&St(s.children)&&s.children.forEach(o=>{(o==null?void 0:o.patchFlag)!==1024&&!qt(o==null?void 0:o.children)&&i.push(o)});return $t("div",i)}catch{return $t("div",[])}}});const LIe=gn(SIe,{TableColumn:UZ}),DIe=Ci(UZ);var y_=(n=>(n.ASC="asc",n.DESC="desc",n))(y_||{}),b_=(n=>(n.CENTER="center",n.RIGHT="right",n))(b_||{}),HZ=(n=>(n.LEFT="left",n.RIGHT="right",n))(HZ||{});const w5={asc:"desc",desc:"asc"},__=Symbol("placeholder"),kIe=(n,e,t)=>{var r;const i={flexGrow:0,flexShrink:0,...t?{}:{flexGrow:n.flexGrow||0,flexShrink:n.flexShrink||1}};t||(i.flexShrink=1);const a={...(r=n.style)!=null?r:{},...i,flexBasis:"auto",width:n.width};return e||(n.maxWidth&&(a.maxWidth=n.maxWidth),n.minWidth&&(a.minWidth=n.minWidth)),a};function OIe(n,e,t){const r=U(()=>S(e).map((g,v)=>{var y,b;return{...g,key:(b=(y=g.key)!=null?y:g.dataKey)!=null?b:v}})),i=U(()=>S(r).filter(g=>!g.hidden)),a=U(()=>S(i).filter(g=>g.fixed==="left"||g.fixed===!0)),s=U(()=>S(i).filter(g=>g.fixed==="right")),o=U(()=>S(i).filter(g=>!g.fixed)),l=U(()=>{const g=[];return S(a).forEach(v=>{g.push({...v,placeholderSign:__})}),S(o).forEach(v=>{g.push(v)}),S(s).forEach(v=>{g.push({...v,placeholderSign:__})}),g}),c=U(()=>S(a).length||S(s).length),u=U(()=>S(r).reduce((g,v)=>(g[v.key]=kIe(v,S(t),n.fixed),g),{})),d=U(()=>S(i).reduce((g,v)=>g+v.width,0)),f=g=>S(r).find(v=>v.key===g),h=g=>S(u)[g],p=(g,v)=>{g.width=v};function m(g){var v;const{key:y}=g.currentTarget.dataset;if(!y)return;const{sortState:b,sortBy:_}=n;let w=y_.ASC;Pn(b)?w=w5[b[y]]:w=w5[_.order],(v=n.onColumnSort)==null||v.call(n,{column:f(y),key:y,order:w})}return{columns:r,columnsStyles:u,columnsTotalWidth:d,fixedColumnsOnLeft:a,fixedColumnsOnRight:s,hasFixedColumns:c,mainColumns:l,normalColumns:o,visibleColumns:i,getColumn:f,getColumnStyle:h,updateColumnWidth:p,onColumnSorted:m}}const NIe=(n,{mainTableRef:e,leftTableRef:t,rightTableRef:r,onMaybeEndReached:i})=>{const a=te({scrollLeft:0,scrollTop:0});function s(h){var p,m,g;const{scrollTop:v}=h;(p=e.value)==null||p.scrollTo(h),(m=t.value)==null||m.scrollToTop(v),(g=r.value)==null||g.scrollToTop(v)}function o(h){a.value=h,s(h)}function l(h){a.value.scrollTop=h,s(S(a))}function c(h){var p,m;a.value.scrollLeft=h,(m=(p=e.value)==null?void 0:p.scrollTo)==null||m.call(p,S(a))}function u(h){var p;o(h),(p=n.onScroll)==null||p.call(n,h)}function d({scrollTop:h}){const{scrollTop:p}=S(a);h!==p&&l(h)}function f(h,p="auto"){var m;(m=e.value)==null||m.scrollToRow(h,p)}return dt(()=>S(a).scrollTop,(h,p)=>{h>p&&i()}),{scrollPos:a,scrollTo:o,scrollToLeft:c,scrollToTop:l,scrollToRow:f,onScroll:u,onVerticalScroll:d}},BIe=(n,{mainTableRef:e,leftTableRef:t,rightTableRef:r,tableInstance:i,ns:a,isScrolling:s})=>{const o=wn(),{emit:l}=o,c=Cr(!1),u=te(n.defaultExpandedRowKeys||[]),d=te(-1),f=Cr(null),h=te({}),p=te({}),m=Cr({}),g=Cr({}),v=Cr({}),y=U(()=>en(n.estimatedRowHeight));function b(A){var I;(I=n.onRowsRendered)==null||I.call(n,A),A.rowCacheEnd>S(d)&&(d.value=A.rowCacheEnd)}function _({hovered:A,rowKey:I}){if(s.value)return;i.vnode.el.querySelectorAll(`[rowkey="${String(I)}"]`).forEach(N=>{A?N.classList.add(a.is("hovered")):N.classList.remove(a.is("hovered"))})}function w({expanded:A,rowData:I,rowIndex:L,rowKey:k}){var N,F;const D=[...S(u)],H=D.indexOf(k);A?H===-1&&D.push(k):H>-1&&D.splice(H,1),u.value=D,l("update:expandedRowKeys",D),(N=n.onRowExpand)==null||N.call(n,{expanded:A,rowData:I,rowIndex:L,rowKey:k}),(F=n.onExpandedRowsChange)==null||F.call(n,D)}const x=Mo(()=>{var A,I,L,k;c.value=!0,h.value={...S(h),...S(p)},M(S(f),!1),p.value={},f.value=null,(A=e.value)==null||A.forceUpdate(),(I=t.value)==null||I.forceUpdate(),(L=r.value)==null||L.forceUpdate(),(k=o.proxy)==null||k.$forceUpdate(),c.value=!1},0);function M(A,I=!1){S(y)&&[e,t,r].forEach(L=>{const k=S(L);k&&k.resetAfterRowIndex(A,I)})}function C(A,I,L){const k=S(f);(k===null||k>L)&&(f.value=L),p.value[A]=I}function T({rowKey:A,height:I,rowIndex:L},k){k?k===HZ.RIGHT?v.value[A]=I:m.value[A]=I:g.value[A]=I;const N=Math.max(...[m,v,g].map(F=>F.value[A]||0));S(h)[A]!==N&&(C(A,N,L),x())}return{expandedRowKeys:u,lastRenderedRowIndex:d,isDynamic:y,isResetting:c,rowHeights:h,resetAfterIndex:M,onRowExpanded:w,onRowHovered:_,onRowsRendered:b,onRowHeightChange:T}},FIe=(n,{expandedRowKeys:e,lastRenderedRowIndex:t,resetAfterIndex:r})=>{const i=te({}),a=U(()=>{const o={},{data:l,rowKey:c}=n,u=S(e);if(!u||!u.length)return l;const d=[],f=new Set;u.forEach(p=>f.add(p));let h=l.slice();for(h.forEach(p=>o[p[c]]=0);h.length>0;){const p=h.shift();d.push(p),f.has(p[c])&&St(p.children)&&p.children.length>0&&(h=[...p.children,...h],p.children.forEach(m=>o[m[c]]=o[p[c]]+1))}return i.value=o,d}),s=U(()=>{const{data:o,expandColumnKey:l}=n;return l?S(a):o});return dt(s,(o,l)=>{o!==l&&(t.value=-1,r(0,!0))}),{data:s,depthMap:i}},zIe=(n,e)=>n+e,j2=n=>St(n)?n.reduce(zIe,0):n,E0=(n,e,t={})=>Kt(n)?n(e):n??t,Uf=n=>(["width","maxWidth","minWidth","height"].forEach(e=>{n[e]=Pi(n[e])}),n),VZ=n=>ti(n)?e=>$t(n,e):n,UIe=(n,{columnsTotalWidth:e,rowsHeight:t,fixedColumnsOnLeft:r,fixedColumnsOnRight:i})=>{const a=U(()=>{const{fixed:y,width:b,vScrollbarSize:_}=n,w=b-_;return y?Math.max(Math.round(S(e)),w):w}),s=U(()=>S(a)+n.vScrollbarSize),o=U(()=>{const{height:y=0,maxHeight:b=0,footerHeight:_,hScrollbarSize:w}=n;if(b>0){const x=S(h),M=S(t),T=S(f)+x+M+w;return Math.min(T,b-_)}return y-_}),l=U(()=>{const{maxHeight:y}=n,b=S(o);if(en(y)&&y>0)return b;const _=S(t)+S(f)+S(h);return Math.min(b,_)}),c=y=>y.width,u=U(()=>j2(S(r).map(c))),d=U(()=>j2(S(i).map(c))),f=U(()=>j2(n.headerHeight)),h=U(()=>{var y;return(((y=n.fixedData)==null?void 0:y.length)||0)*n.rowHeight}),p=U(()=>S(o)-S(f)-S(h)),m=U(()=>{const{style:y={},height:b,width:_}=n;return Uf({...y,height:b,width:_})}),g=U(()=>Uf({height:n.footerHeight})),v=U(()=>({top:Pi(S(f)),bottom:Pi(n.footerHeight),width:Pi(n.width)}));return{bodyWidth:a,fixedTableHeight:l,mainTableHeight:o,leftTableWidth:u,rightTableWidth:d,headerWidth:s,windowHeight:p,footerHeight:g,emptyStyle:v,rootStyle:m,headerHeight:f}};function HIe(n){const e=te(),t=te(),r=te(),{columns:i,columnsStyles:a,columnsTotalWidth:s,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,hasFixedColumns:c,mainColumns:u,onColumnSorted:d}=OIe(n,br(n,"columns"),br(n,"fixed")),{scrollTo:f,scrollToLeft:h,scrollToTop:p,scrollToRow:m,onScroll:g,onVerticalScroll:v,scrollPos:y}=NIe(n,{mainTableRef:e,leftTableRef:t,rightTableRef:r,onMaybeEndReached:ue}),b=yt("table-v2"),_=wn(),w=Cr(!1),{expandedRowKeys:x,lastRenderedRowIndex:M,isDynamic:C,isResetting:T,rowHeights:A,resetAfterIndex:I,onRowExpanded:L,onRowHeightChange:k,onRowHovered:N,onRowsRendered:F}=BIe(n,{mainTableRef:e,leftTableRef:t,rightTableRef:r,tableInstance:_,ns:b,isScrolling:w}),{data:D,depthMap:H}=FIe(n,{expandedRowKeys:x,lastRenderedRowIndex:M,resetAfterIndex:I}),z=U(()=>{const{estimatedRowHeight:ie,rowHeight:$e}=n,Ne=S(D);return en(ie)?Object.values(S(A)).reduce((Ye,ce)=>Ye+ce,0):Ne.length*$e}),{bodyWidth:B,fixedTableHeight:W,mainTableHeight:Z,leftTableWidth:ee,rightTableWidth:J,headerWidth:re,windowHeight:fe,footerHeight:de,emptyStyle:me,rootStyle:Re,headerHeight:De}=UIe(n,{columnsTotalWidth:s,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,rowsHeight:z}),Ge=te(),We=U(()=>{const ie=S(D).length===0;return St(n.fixedData)?n.fixedData.length===0&&ie:ie});function K(ie){const{estimatedRowHeight:$e,rowHeight:Ne,rowKey:Ye}=n;return $e?S(A)[S(D)[ie][Ye]]||$e:Ne}function ue(){const{onEndReached:ie}=n;if(!ie)return;const{scrollTop:$e}=S(y),Ne=S(z),Ye=S(fe),ce=Ne-($e+Ye)+n.hScrollbarSize;S(M)>=0&&Ne===$e+S(Z)-S(De)&&ie(ce)}return dt(()=>n.expandedRowKeys,ie=>x.value=ie,{deep:!0}),{columns:i,containerRef:Ge,mainTableRef:e,leftTableRef:t,rightTableRef:r,isDynamic:C,isResetting:T,isScrolling:w,hasFixedColumns:c,columnsStyles:a,columnsTotalWidth:s,data:D,expandedRowKeys:x,depthMap:H,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,mainColumns:u,bodyWidth:B,emptyStyle:me,rootStyle:Re,headerWidth:re,footerHeight:de,mainTableHeight:Z,fixedTableHeight:W,leftTableWidth:ee,rightTableWidth:J,showEmpty:We,getRowHeight:K,onColumnSorted:d,onRowHovered:N,onRowExpanded:L,onRowsRendered:F,onRowHeightChange:k,scrollTo:f,scrollToLeft:h,scrollToTop:p,scrollToRow:m,onScroll:g,onVerticalScroll:v}}const ck=Symbol("tableV2"),$Z=String,RS={type:Ke(Array),required:!0},uk={type:Ke(Array)},GZ={...uk,required:!0},VIe=String,h9={type:Ke(Array),default:()=>wi([])},Lp={type:Number,required:!0},WZ={type:Ke([String,Number,Symbol]),default:"id"},p9={type:Ke(Object)},Wp=Et({class:String,columns:RS,columnsStyles:{type:Ke(Object),required:!0},depth:Number,expandColumnKey:VIe,estimatedRowHeight:{...c0.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:Ke(Function)},onRowHover:{type:Ke(Function)},onRowHeightChange:{type:Ke(Function)},rowData:{type:Ke(Object),required:!0},rowEventHandlers:{type:Ke(Object)},rowIndex:{type:Number,required:!0},rowKey:WZ,style:{type:Ke(Object)}}),r3={type:Number,required:!0},dk=Et({class:String,columns:RS,fixedHeaderData:{type:Ke(Array)},headerData:{type:Ke(Array),required:!0},headerHeight:{type:Ke([Number,Array]),default:50},rowWidth:r3,rowHeight:{type:Number,default:50},height:r3,width:r3}),Z2=Et({columns:RS,data:GZ,fixedData:uk,estimatedRowHeight:Wp.estimatedRowHeight,width:Lp,height:Lp,headerWidth:Lp,headerHeight:dk.headerHeight,bodyWidth:Lp,rowHeight:Lp,cache:dZ.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:c0.scrollbarAlwaysOn,scrollbarStartGap:c0.scrollbarStartGap,scrollbarEndGap:c0.scrollbarEndGap,class:$Z,style:p9,containerStyle:p9,getRowHeight:{type:Ke(Function),required:!0},rowKey:Wp.rowKey,onRowsRendered:{type:Ke(Function)},onScroll:{type:Ke(Function)}}),$Ie=Et({cache:Z2.cache,estimatedRowHeight:Wp.estimatedRowHeight,rowKey:WZ,headerClass:{type:Ke([String,Function])},headerProps:{type:Ke([Object,Function])},headerCellProps:{type:Ke([Object,Function])},headerHeight:dk.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:Ke([String,Function])},rowProps:{type:Ke([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:Ke([Object,Function])},columns:RS,data:GZ,dataGetter:{type:Ke(Function)},fixedData:uk,expandColumnKey:Wp.expandColumnKey,expandedRowKeys:h9,defaultExpandedRowKeys:h9,class:$Z,fixed:Boolean,style:{type:Ke(Object)},width:Lp,height:Lp,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:c0.hScrollbarSize,vScrollbarSize:c0.vScrollbarSize,scrollbarAlwaysOn:pZ.alwaysOn,sortBy:{type:Ke(Object),default:()=>({})},sortState:{type:Ke(Object),default:void 0},onColumnSort:{type:Ke(Function)},onExpandedRowsChange:{type:Ke(Function)},onEndReached:{type:Ke(Function)},onRowExpand:Wp.onRowExpand,onScroll:Z2.onScroll,onRowsRendered:Z2.onRowsRendered,rowEventHandlers:Wp.rowEventHandlers}),GIe="ElTableV2Header",WIe=Pe({name:GIe,props:dk,setup(n,{slots:e,expose:t}){const r=yt("table-v2"),i=Nt("tableV2GridScrollLeft"),a=te(),s=U(()=>Uf({width:n.width,height:n.height})),o=U(()=>Uf({width:n.rowWidth,height:n.height})),l=U(()=>Is(S(n.headerHeight))),c=f=>{const h=S(a);Yt(()=>{h!=null&&h.scroll&&h.scroll({left:f})})},u=()=>{const f=r.e("fixed-header-row"),{columns:h,fixedHeaderData:p,rowHeight:m}=n;return p==null?void 0:p.map((g,v)=>{var y;const b=Uf({height:m,width:"100%"});return(y=e.fixed)==null?void 0:y.call(e,{class:f,columns:h,rowData:g,rowIndex:-(v+1),style:b})})},d=()=>{const f=r.e("dynamic-header-row"),{columns:h}=n;return S(l).map((p,m)=>{var g;const v=Uf({width:"100%",height:p});return(g=e.dynamic)==null?void 0:g.call(e,{class:f,columns:h,headerIndex:m,style:v})})};return Io(()=>{i!=null&&i.value&&c(i.value)}),t({scrollToLeft:c}),()=>{if(!(n.height<=0))return pe("div",{ref:a,class:n.class,style:S(s),role:"rowgroup"},[pe("div",{style:S(o),class:r.e("header")},[d(),u()])])}}});var qIe=WIe;const KIe=({atXEndEdge:n,atXStartEdge:e,atYEndEdge:t,atYStartEdge:r},i)=>{let a=null,s=0,o=0;const l=(u,d)=>{const f=u<=0&&e.value||u>=0&&n.value,h=d<=0&&r.value||d>=0&&t.value;return f&&h};return{hasReachedEdge:l,onWheel:u=>{T0(a);let d=u.deltaX,f=u.deltaY;Math.abs(d)>Math.abs(f)?f=0:d=0,u.shiftKey&&f!==0&&(d=f,f=0),!(l(s,o)&&l(s+d,o+f))&&(s+=d,o+=f,u.preventDefault(),a=ph(()=>{i(s,o),s=0,o=0}))}}},qZ=({name:n,clearCache:e,getColumnPosition:t,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:i,getEstimatedTotalHeight:a,getEstimatedTotalWidth:s,getColumnOffset:o,getRowOffset:l,getRowPosition:c,getRowStartIndexForOffset:u,getRowStopIndexForStartIndex:d,initCache:f,injectToInstance:h,validateProps:p})=>Pe({name:n??"ElVirtualList",props:c0,emits:[eM,tM],setup(m,{emit:g,expose:v,slots:y}){const b=yt("vl");p(m);const _=wn(),w=te(f(m,_));h==null||h(_,w);const x=te(),M=te(),C=te(),T=te(null),A=te({isScrolling:!1,scrollLeft:en(m.initScrollLeft)?m.initScrollLeft:0,scrollTop:en(m.initScrollTop)?m.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Lv,yAxisScrollDir:Lv}),I=lZ(),L=U(()=>Number.parseInt(`${m.height}`,10)),k=U(()=>Number.parseInt(`${m.width}`,10)),N=U(()=>{const{totalColumn:Ye,totalRow:ce,columnCache:he}=m,{isScrolling:ke,xAxisScrollDir:oe,scrollLeft:V}=S(A);if(Ye===0||ce===0)return[0,0,0,0];const Y=r(m,V,S(w)),Q=i(m,Y,V,S(w)),we=!ke||oe===nM?Math.max(1,he):1,Ue=!ke||oe===Lv?Math.max(1,he):1;return[Math.max(0,Y-we),Math.max(0,Math.min(Ye-1,Q+Ue)),Y,Q]}),F=U(()=>{const{totalColumn:Ye,totalRow:ce,rowCache:he}=m,{isScrolling:ke,yAxisScrollDir:oe,scrollTop:V}=S(A);if(Ye===0||ce===0)return[0,0,0,0];const Y=u(m,V,S(w)),Q=d(m,Y,V,S(w)),we=!ke||oe===nM?Math.max(1,he):1,Ue=!ke||oe===Lv?Math.max(1,he):1;return[Math.max(0,Y-we),Math.max(0,Math.min(ce-1,Q+Ue)),Y,Q]}),D=U(()=>a(m,S(w))),H=U(()=>s(m,S(w))),z=U(()=>{var Ye;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:m.direction,height:en(m.height)?`${m.height}px`:m.height,width:en(m.width)?`${m.width}px`:m.width},(Ye=m.style)!=null?Ye:{}]}),B=U(()=>{const Ye=`${S(H)}px`;return{height:`${S(D)}px`,pointerEvents:S(A).isScrolling?"none":void 0,width:Ye}}),W=()=>{const{totalColumn:Ye,totalRow:ce}=m;if(Ye>0&&ce>0){const[Q,we,Ue,ct]=S(N),[pt,Ee,ft,st]=S(F);g(eM,{columnCacheStart:Q,columnCacheEnd:we,rowCacheStart:pt,rowCacheEnd:Ee,columnVisibleStart:Ue,columnVisibleEnd:ct,rowVisibleStart:ft,rowVisibleEnd:st})}const{scrollLeft:he,scrollTop:ke,updateRequested:oe,xAxisScrollDir:V,yAxisScrollDir:Y}=S(A);g(tM,{xAxisScrollDir:V,scrollLeft:he,yAxisScrollDir:Y,scrollTop:ke,updateRequested:oe})},Z=Ye=>{const{clientHeight:ce,clientWidth:he,scrollHeight:ke,scrollLeft:oe,scrollTop:V,scrollWidth:Y}=Ye.currentTarget,Q=S(A);if(Q.scrollTop===V&&Q.scrollLeft===oe)return;let we=oe;if(Z7(m.direction))switch(iM()){case v_:we=-oe;break;case ak:we=Y-he-oe;break}A.value={...Q,isScrolling:!0,scrollLeft:we,scrollTop:Math.max(0,Math.min(V,ke-ce)),updateRequested:!0,xAxisScrollDir:$p(Q.scrollLeft,we),yAxisScrollDir:$p(Q.scrollTop,V)},Yt(()=>Re()),De(),W()},ee=(Ye,ce)=>{const he=S(L),ke=(D.value-he)/ce*Ye;fe({scrollTop:Math.min(D.value-he,ke)})},J=(Ye,ce)=>{const he=S(k),ke=(H.value-he)/ce*Ye;fe({scrollLeft:Math.min(H.value-he,ke)})},{onWheel:re}=KIe({atXStartEdge:U(()=>A.value.scrollLeft<=0),atXEndEdge:U(()=>A.value.scrollLeft>=H.value-S(k)),atYStartEdge:U(()=>A.value.scrollTop<=0),atYEndEdge:U(()=>A.value.scrollTop>=D.value-S(L))},(Ye,ce)=>{var he,ke,oe,V;(ke=(he=M.value)==null?void 0:he.onMouseUp)==null||ke.call(he),(V=(oe=C.value)==null?void 0:oe.onMouseUp)==null||V.call(oe);const Y=S(k),Q=S(L);fe({scrollLeft:Math.min(A.value.scrollLeft+Ye,H.value-Y),scrollTop:Math.min(A.value.scrollTop+ce,D.value-Q)})});Ar(x,"wheel",re,{passive:!1});const fe=({scrollLeft:Ye=A.value.scrollLeft,scrollTop:ce=A.value.scrollTop})=>{Ye=Math.max(Ye,0),ce=Math.max(ce,0);const he=S(A);ce===he.scrollTop&&Ye===he.scrollLeft||(A.value={...he,xAxisScrollDir:$p(he.scrollLeft,Ye),yAxisScrollDir:$p(he.scrollTop,ce),scrollLeft:Ye,scrollTop:ce,updateRequested:!0},Yt(()=>Re()),De(),W())},de=(Ye=0,ce=0,he=kl)=>{const ke=S(A);ce=Math.max(0,Math.min(ce,m.totalColumn-1)),Ye=Math.max(0,Math.min(Ye,m.totalRow-1));const oe=KY(b.namespace.value),V=S(w),Y=a(m,V),Q=s(m,V);fe({scrollLeft:o(m,ce,he,ke.scrollLeft,V,Q>m.width?oe:0),scrollTop:l(m,Ye,he,ke.scrollTop,V,Y>m.height?oe:0)})},me=(Ye,ce)=>{const{columnWidth:he,direction:ke,rowHeight:oe}=m,V=I.value(e&&he,e&&oe,e&&ke),Y=`${Ye},${ce}`;if(ar(V,Y))return V[Y];{const[,Q]=t(m,ce,S(w)),we=S(w),Ue=Z7(ke),[ct,pt]=c(m,Ye,we),[Ee]=t(m,ce,we);return V[Y]={position:"absolute",left:Ue?void 0:`${Q}px`,right:Ue?`${Q}px`:void 0,top:`${pt}px`,height:`${ct}px`,width:`${Ee}px`},V[Y]}},Re=()=>{A.value.isScrolling=!1,Yt(()=>{I.value(-1,null,null)})};dn(()=>{if(!tr)return;const{initScrollLeft:Ye,initScrollTop:ce}=m,he=S(x);he&&(en(Ye)&&(he.scrollLeft=Ye),en(ce)&&(he.scrollTop=ce)),W()});const De=()=>{const{direction:Ye}=m,{scrollLeft:ce,scrollTop:he,updateRequested:ke}=S(A),oe=S(x);if(ke&&oe){if(Ye===tg)switch(iM()){case v_:{oe.scrollLeft=-ce;break}case ik:{oe.scrollLeft=ce;break}default:{const{clientWidth:V,scrollWidth:Y}=oe;oe.scrollLeft=Y-V-ce;break}}else oe.scrollLeft=Math.max(0,ce);oe.scrollTop=Math.max(0,he)}},{resetAfterColumnIndex:Ge,resetAfterRowIndex:We,resetAfter:K}=_.proxy;v({windowRef:x,innerRef:T,getItemStyleCache:I,scrollTo:fe,scrollToItem:de,states:A,resetAfterColumnIndex:Ge,resetAfterRowIndex:We,resetAfter:K});const ue=()=>{const{scrollbarAlwaysOn:Ye,scrollbarStartGap:ce,scrollbarEndGap:he,totalColumn:ke,totalRow:oe}=m,V=S(k),Y=S(L),Q=S(H),we=S(D),{scrollLeft:Ue,scrollTop:ct}=S(A),pt=$t(d5,{ref:M,alwaysOn:Ye,startGap:ce,endGap:he,class:b.e("horizontal"),clientSize:V,layout:"horizontal",onScroll:J,ratio:V*100/Q,scrollFrom:Ue/(Q-V),total:oe,visible:!0}),Ee=$t(d5,{ref:C,alwaysOn:Ye,startGap:ce,endGap:he,class:b.e("vertical"),clientSize:Y,layout:"vertical",onScroll:ee,ratio:Y*100/we,scrollFrom:ct/(we-Y),total:ke,visible:!0});return{horizontalScrollbar:pt,verticalScrollbar:Ee}},ie=()=>{var Ye;const[ce,he]=S(N),[ke,oe]=S(F),{data:V,totalColumn:Y,totalRow:Q,useIsScrolling:we,itemKey:Ue}=m,ct=[];if(Q>0&&Y>0)for(let pt=ke;pt<=oe;pt++)for(let Ee=ce;Ee<=he;Ee++){const ft=Ue({columnIndex:Ee,data:V,rowIndex:pt});ct.push($t(Bt,{key:ft},(Ye=y.default)==null?void 0:Ye.call(y,{columnIndex:Ee,data:V,isScrolling:we?S(A).isScrolling:void 0,style:me(pt,Ee),rowIndex:pt})))}return ct},$e=()=>{const Ye=Rn(m.innerElement),ce=ie();return[$t(Ye,{style:S(B),ref:T},qt(Ye)?ce:{default:()=>ce})]};return()=>{const Ye=Rn(m.containerElement),{horizontalScrollbar:ce,verticalScrollbar:he}=ue(),ke=$e();return $t("div",{key:0,class:b.e("wrapper"),role:m.role},[$t(Ye,{class:m.className,style:S(z),onScroll:Z,ref:x},qt(Ye)?ke:{default:()=>ke}),ce,he])}}}),{max:oM,min:KZ,floor:YZ}=Math,YIe={column:"columnWidth",row:"rowHeight"},x5={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},sd=(n,e,t,r)=>{const[i,a,s]=[t[r],n[YIe[r]],t[x5[r]]];if(e>s){let o=0;if(s>=0){const l=i[s];o=l.offset+l.size}for(let l=s+1;l<=e;l++){const c=a(l);i[l]={offset:o,size:c},o+=c}t[x5[r]]=e}return i[e]},XZ=(n,e,t,r,i,a)=>{for(;t<=r;){const s=t+YZ((r-t)/2),o=sd(n,s,e,a).offset;if(o===i)return s;o<i?t=s+1:r=s-1}return oM(0,t-1)},XIe=(n,e,t,r,i)=>{const a=i==="column"?n.totalColumn:n.totalRow;let s=1;for(;t<a&&sd(n,t,e,i).offset<r;)t+=s,s*=2;return XZ(n,e,YZ(t/2),KZ(t,a-1),r,i)},m9=(n,e,t,r)=>{const[i,a]=[e[r],e[x5[r]]];return(a>0?i[a].offset:0)>=t?XZ(n,e,0,a,t,r):XIe(n,e,oM(0,a),t,r)},jZ=({totalRow:n},{estimatedRowHeight:e,lastVisitedRowIndex:t,row:r})=>{let i=0;if(t>=n&&(t=n-1),t>=0){const o=r[t];i=o.offset+o.size}const s=(n-t-1)*e;return i+s},ZZ=({totalColumn:n},{column:e,estimatedColumnWidth:t,lastVisitedColumnIndex:r})=>{let i=0;if(r>n&&(r=n-1),r>=0){const o=e[r];i=o.offset+o.size}const s=(n-r-1)*t;return i+s},jIe={column:ZZ,row:jZ},v9=(n,e,t,r,i,a,s)=>{const[o,l]=[a==="row"?n.height:n.width,jIe[a]],c=sd(n,e,i,a),u=l(n,i),d=oM(0,KZ(u-o,c.offset)),f=oM(0,c.offset-o+s+c.size);switch(t===sA&&(r>=f-o&&r<=d+o?t=kl:t=eu),t){case p_:return d;case m_:return f;case eu:return Math.round(f+(d-f)/2);case kl:default:return r>=f&&r<=d?r:f>d||r<f?f:d}},ZIe=qZ({name:"ElDynamicSizeGrid",getColumnPosition:(n,e,t)=>{const r=sd(n,e,t,"column");return[r.size,r.offset]},getRowPosition:(n,e,t)=>{const r=sd(n,e,t,"row");return[r.size,r.offset]},getColumnOffset:(n,e,t,r,i,a)=>v9(n,e,t,r,i,"column",a),getRowOffset:(n,e,t,r,i,a)=>v9(n,e,t,r,i,"row",a),getColumnStartIndexForOffset:(n,e,t)=>m9(n,t,e,"column"),getColumnStopIndexForStartIndex:(n,e,t,r)=>{const i=sd(n,e,r,"column"),a=t+n.width;let s=i.offset+i.size,o=e;for(;o<n.totalColumn-1&&s<a;)o++,s+=sd(n,e,r,"column").size;return o},getEstimatedTotalHeight:jZ,getEstimatedTotalWidth:ZZ,getRowStartIndexForOffset:(n,e,t)=>m9(n,t,e,"row"),getRowStopIndexForStartIndex:(n,e,t,r)=>{const{totalRow:i,height:a}=n,s=sd(n,e,r,"row"),o=t+a;let l=s.size+s.offset,c=e;for(;c<i-1&&l<o;)c++,l+=sd(n,c,r,"row").size;return c},injectToInstance:(n,e)=>{const t=({columnIndex:a,rowIndex:s},o)=>{var l,c;o=Tr(o)?!0:o,en(a)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,a-1)),en(s)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,s-1)),(l=n.exposed)==null||l.getItemStyleCache.value(-1,null,null),o&&((c=n.proxy)==null||c.$forceUpdate())},r=(a,s)=>{t({columnIndex:a},s)},i=(a,s)=>{t({rowIndex:a},s)};Object.assign(n.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:i,resetAfter:t})},initCache:({estimatedColumnWidth:n=a5,estimatedRowHeight:e=a5})=>({column:{},estimatedColumnWidth:n,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:n,rowHeight:e})=>{}}),QIe=qZ({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:n},e)=>[n,e*n],getRowPosition:({rowHeight:n},e)=>[n,e*n],getEstimatedTotalHeight:({totalRow:n,rowHeight:e})=>e*n,getEstimatedTotalWidth:({totalColumn:n,columnWidth:e})=>e*n,getColumnOffset:({totalColumn:n,columnWidth:e,width:t},r,i,a,s,o)=>{t=Number(t);const l=Math.max(0,n*e-t),c=Math.min(l,r*e),u=Math.max(0,r*e-t+o+e);switch(i==="smart"&&(a>=u-t&&a<=c+t?i=kl:i=eu),i){case p_:return c;case m_:return u;case eu:{const d=Math.round(u+(c-u)/2);return d<Math.ceil(t/2)?0:d>l+Math.floor(t/2)?l:d}case kl:default:return a>=u&&a<=c?a:u>c||a<u?u:c}},getRowOffset:({rowHeight:n,height:e,totalRow:t},r,i,a,s,o)=>{e=Number(e);const l=Math.max(0,t*n-e),c=Math.min(l,r*n),u=Math.max(0,r*n-e+o+n);switch(i===sA&&(a>=u-e&&a<=c+e?i=kl:i=eu),i){case p_:return c;case m_:return u;case eu:{const d=Math.round(u+(c-u)/2);return d<Math.ceil(e/2)?0:d>l+Math.floor(e/2)?l:d}case kl:default:return a>=u&&a<=c?a:u>c||a<u?u:c}},getColumnStartIndexForOffset:({columnWidth:n,totalColumn:e},t)=>Math.max(0,Math.min(e-1,Math.floor(t/n))),getColumnStopIndexForStartIndex:({columnWidth:n,totalColumn:e,width:t},r,i)=>{const a=r*n,s=Math.ceil((t+i-a)/n);return Math.max(0,Math.min(e-1,r+s-1))},getRowStartIndexForOffset:({rowHeight:n,totalRow:e},t)=>Math.max(0,Math.min(e-1,Math.floor(t/n))),getRowStopIndexForStartIndex:({rowHeight:n,totalRow:e,height:t},r,i)=>{const a=r*n,s=Math.ceil((t+i-a)/n);return Math.max(0,Math.min(e-1,r+s-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:n,rowHeight:e})=>{}}),JIe="ElTableV2Grid",eRe=n=>{const e=te(),t=te(),r=te(0),i=U(()=>{const{data:g,rowHeight:v,estimatedRowHeight:y}=n;if(!y)return g.length*v}),a=U(()=>{const{fixedData:g,rowHeight:v}=n;return((g==null?void 0:g.length)||0)*v}),s=U(()=>j2(n.headerHeight)),o=U(()=>{const{height:g}=n;return Math.max(0,g-S(s)-S(a))}),l=U(()=>S(s)+S(a)>0),c=({data:g,rowIndex:v})=>g[v][n.rowKey];function u({rowCacheStart:g,rowCacheEnd:v,rowVisibleStart:y,rowVisibleEnd:b}){var _;(_=n.onRowsRendered)==null||_.call(n,{rowCacheStart:g,rowCacheEnd:v,rowVisibleStart:y,rowVisibleEnd:b})}function d(g,v){var y;(y=t.value)==null||y.resetAfterRowIndex(g,v)}function f(g,v){const y=S(e),b=S(t);Pn(g)?(y==null||y.scrollToLeft(g.scrollLeft),r.value=g.scrollLeft,b==null||b.scrollTo(g)):(y==null||y.scrollToLeft(g),r.value=g,b==null||b.scrollTo({scrollLeft:g,scrollTop:v}))}function h(g){var v;(v=S(t))==null||v.scrollTo({scrollTop:g})}function p(g,v){var y;(y=S(t))==null||y.scrollToItem(g,1,v)}function m(){var g,v;(g=S(t))==null||g.$forceUpdate(),(v=S(e))==null||v.$forceUpdate()}return{bodyRef:t,forceUpdate:m,fixedRowHeight:a,gridHeight:o,hasHeader:l,headerHeight:s,headerRef:e,totalHeight:i,itemKey:c,onItemRendered:u,resetAfterRowIndex:d,scrollTo:f,scrollToTop:h,scrollToRow:p,scrollLeft:r}},tRe=Pe({name:JIe,props:Z2,setup(n,{slots:e,expose:t}){const{ns:r}=Nt(ck),{bodyRef:i,fixedRowHeight:a,gridHeight:s,hasHeader:o,headerRef:l,headerHeight:c,totalHeight:u,forceUpdate:d,itemKey:f,onItemRendered:h,resetAfterRowIndex:p,scrollTo:m,scrollToTop:g,scrollToRow:v,scrollLeft:y}=eRe(n);Vn("tableV2GridScrollLeft",y),t({forceUpdate:d,totalHeight:u,scrollTo:m,scrollToTop:g,scrollToRow:v,resetAfterRowIndex:p});const b=()=>n.bodyWidth;return()=>{const{cache:_,columns:w,data:x,fixedData:M,useIsScrolling:C,scrollbarAlwaysOn:T,scrollbarEndGap:A,scrollbarStartGap:I,style:L,rowHeight:k,bodyWidth:N,estimatedRowHeight:F,headerWidth:D,height:H,width:z,getRowHeight:B,onScroll:W}=n,Z=en(F),ee=Z?ZIe:QIe,J=S(c);return pe("div",{role:"table",class:[r.e("table"),n.class],style:L},[pe(ee,{ref:i,data:x,useIsScrolling:C,itemKey:f,columnCache:0,columnWidth:Z?b:N,totalColumn:1,totalRow:x.length,rowCache:_,rowHeight:Z?B:k,width:z,height:S(s),class:r.e("body"),role:"rowgroup",scrollbarStartGap:I,scrollbarEndGap:A,scrollbarAlwaysOn:T,onScroll:W,onItemRendered:h,perfMode:!1},{default:re=>{var fe;const de=x[re.rowIndex];return(fe=e.row)==null?void 0:fe.call(e,{...re,columns:w,rowData:de})}}),S(o)&&pe(qIe,{ref:l,class:r.e("header-wrapper"),columns:w,headerData:x,headerHeight:n.headerHeight,fixedHeaderData:M,rowWidth:D,rowHeight:k,width:z,height:Math.min(J+S(a),H)},{dynamic:e.header,fixed:e.row})])}}});var fk=tRe;function nRe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!ti(n)}const rRe=(n,{slots:e})=>{const{mainTableRef:t,...r}=n;return pe(fk,Bn({ref:t},r),nRe(e)?e:{default:()=>[e]})};var iRe=rRe;function aRe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!ti(n)}const sRe=(n,{slots:e})=>{if(!n.columns.length)return;const{leftTableRef:t,...r}=n;return pe(fk,Bn({ref:t},r),aRe(e)?e:{default:()=>[e]})};var oRe=sRe;function lRe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!ti(n)}const cRe=(n,{slots:e})=>{if(!n.columns.length)return;const{rightTableRef:t,...r}=n;return pe(fk,Bn({ref:t},r),lRe(e)?e:{default:()=>[e]})};var uRe=cRe;const dRe=n=>{const{isScrolling:e}=Nt(ck),t=te(!1),r=te(),i=U(()=>en(n.estimatedRowHeight)&&n.rowIndex>=0),a=(l=!1)=>{const c=S(r);if(!c)return;const{columns:u,onRowHeightChange:d,rowKey:f,rowIndex:h,style:p}=n,{height:m}=c.getBoundingClientRect();t.value=!0,Yt(()=>{if(l||m!==Number.parseInt(p.height)){const g=u[0],v=(g==null?void 0:g.placeholderSign)===__;d==null||d({rowKey:f,height:m,rowIndex:h},g&&!v&&g.fixed)}})},s=U(()=>{const{rowData:l,rowIndex:c,rowKey:u,onRowHover:d}=n,f=n.rowEventHandlers||{},h={};return Object.entries(f).forEach(([p,m])=>{Kt(m)&&(h[p]=g=>{m({event:g,rowData:l,rowIndex:c,rowKey:u})})}),d&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:p,hovered:m})=>{const g=h[p];h[p]=v=>{d({event:v,hovered:m,rowData:l,rowIndex:c,rowKey:u}),g==null||g(v)}}),h}),o=l=>{const{onRowExpand:c,rowData:u,rowIndex:d,rowKey:f}=n;c==null||c({expanded:l,rowData:u,rowIndex:d,rowKey:f})};return dn(()=>{S(i)&&a(!0)}),{isScrolling:e,measurable:i,measured:t,rowRef:r,eventHandlers:s,onExpand:o}},fRe="ElTableV2TableRow",hRe=Pe({name:fRe,props:Wp,setup(n,{expose:e,slots:t,attrs:r}){const{eventHandlers:i,isScrolling:a,measurable:s,measured:o,rowRef:l,onExpand:c}=dRe(n);return e({onExpand:c}),()=>{const{columns:u,columnsStyles:d,expandColumnKey:f,depth:h,rowData:p,rowIndex:m,style:g}=n;let v=u.map((y,b)=>{const _=St(p.children)&&p.children.length>0&&y.key===f;return t.cell({column:y,columns:u,columnIndex:b,depth:h,style:d[y.key],rowData:p,rowIndex:m,isScrolling:S(a),expandIconProps:_?{rowData:p,rowIndex:m,onExpand:c}:void 0})});if(t.row&&(v=t.row({cells:v.map(y=>St(y)&&y.length===1?y[0]:y),style:g,columns:u,depth:h,rowData:p,rowIndex:m,isScrolling:S(a)})),S(s)){const{height:y,...b}=g||{},_=S(o);return pe("div",Bn({ref:l,class:n.class,style:_?g:b,role:"row"},r,S(i)),[v])}return pe("div",Bn(r,{ref:l,class:n.class,style:g,role:"row"},S(i)),[v])}}});var pRe=hRe;function mRe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!ti(n)}const vRe=(n,{slots:e})=>{const{columns:t,columnsStyles:r,depthMap:i,expandColumnKey:a,expandedRowKeys:s,estimatedRowHeight:o,hasFixedColumns:l,rowData:c,rowIndex:u,style:d,isScrolling:f,rowProps:h,rowClass:p,rowKey:m,rowEventHandlers:g,ns:v,onRowHovered:y,onRowExpanded:b}=n,_=E0(p,{columns:t,rowData:c,rowIndex:u},""),w=E0(h,{columns:t,rowData:c,rowIndex:u}),x=c[m],M=i[x]||0,C=!!a,T=u<0,A=[v.e("row"),_,{[v.e(`row-depth-${M}`)]:C&&u>=0,[v.is("expanded")]:C&&s.includes(x),[v.is("fixed")]:!M&&T,[v.is("customized")]:!!e.row}],I=l?y:void 0,L={...w,columns:t,columnsStyles:r,class:A,depth:M,expandColumnKey:a,estimatedRowHeight:T?void 0:o,isScrolling:f,rowIndex:u,rowData:c,rowKey:x,rowEventHandlers:g,style:d};return pe(pRe,Bn(L,{onRowExpand:b,onMouseenter:F=>{I==null||I({hovered:!0,rowKey:x,event:F,rowData:c,rowIndex:u})},onMouseleave:F=>{I==null||I({hovered:!1,rowKey:x,event:F,rowData:c,rowIndex:u})},rowkey:x}),mRe(e)?e:{default:()=>[e]})};var gRe=vRe;const hk=(n,{slots:e})=>{var t;const{cellData:r,style:i}=n,a=((t=r==null?void 0:r.toString)==null?void 0:t.call(r))||"",s=Qe(e,"default",n,()=>[a]);return pe("div",{class:n.class,title:a,style:i},[s])};hk.displayName="ElTableV2Cell";hk.inheritAttrs=!1;var yRe=hk;const bRe=n=>{const{expanded:e,expandable:t,onExpand:r,style:i,size:a}=n,s={onClick:t?()=>r(!e):void 0,class:n.class};return pe(Gt,Bn(s,{size:a,style:i}),{default:()=>[pe(Zs,null,null)]})};var _Re=bRe;const QZ=({columns:n,column:e,columnIndex:t,depth:r,expandIconProps:i,isScrolling:a,rowData:s,rowIndex:o,style:l,expandedRowKeys:c,ns:u,cellProps:d,expandColumnKey:f,indentSize:h,iconSize:p,rowKey:m},{slots:g})=>{const v=Uf(l);if(e.placeholderSign===__)return pe("div",{class:u.em("row-cell","placeholder"),style:v},null);const{cellRenderer:y,dataKey:b,dataGetter:_}=e,w=Kt(_)?_({columns:n,column:e,columnIndex:t,rowData:s,rowIndex:o}):$i(s,b??""),x=E0(d,{cellData:w,columns:n,column:e,columnIndex:t,rowIndex:o,rowData:s}),M={class:u.e("cell-text"),columns:n,column:e,columnIndex:t,cellData:w,isScrolling:a,rowData:s,rowIndex:o},C=VZ(y),T=C?C(M):Qe(g,"default",M,()=>[pe(yRe,M,null)]),A=[u.e("row-cell"),e.class,e.align===b_.CENTER&&u.is("align-center"),e.align===b_.RIGHT&&u.is("align-right")],I=o>=0&&f&&e.key===f,L=o>=0&&c.includes(s[m]);let k;const N=`margin-inline-start: ${r*h}px;`;return I&&(Pn(i)?k=pe(_Re,Bn(i,{class:[u.e("expand-icon"),u.is("expanded",L)],size:p,expanded:L,style:N,expandable:!0}),null):k=pe("div",{style:[N,`width: ${p}px; height: ${p}px;`].join(" ")},null)),pe("div",Bn({class:A,style:v},x,{role:"cell"}),[k,T])};QZ.inheritAttrs=!1;var g9=QZ;const SRe=Et({class:String,columns:RS,columnsStyles:{type:Ke(Object),required:!0},headerIndex:Number,style:{type:Ke(Object)}}),wRe=Pe({name:"ElTableV2HeaderRow",props:SRe,setup(n,{slots:e}){return()=>{const{columns:t,columnsStyles:r,headerIndex:i,style:a}=n;let s=t.map((o,l)=>e.cell({columns:t,column:o,columnIndex:l,headerIndex:i,style:r[o.key]}));return e.header&&(s=e.header({cells:s.map(o=>St(o)&&o.length===1?o[0]:o),columns:t,headerIndex:i})),pe("div",{class:n.class,style:a,role:"row"},[s])}}});var xRe=wRe;function CRe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!ti(n)}const MRe=({columns:n,columnsStyles:e,headerIndex:t,style:r,headerClass:i,headerProps:a,ns:s},{slots:o})=>{const l={columns:n,headerIndex:t},c=[s.e("header-row"),E0(i,l,""),{[s.is("customized")]:!!o.header}],u={...E0(a,l),columnsStyles:e,class:c,columns:n,headerIndex:t,style:r};return pe(xRe,u,CRe(o)?o:{default:()=>[o]})};var TRe=MRe;const pk=(n,{slots:e})=>Qe(e,"default",n,()=>{var t,r;return[pe("div",{class:n.class,title:(t=n.column)==null?void 0:t.title},[(r=n.column)==null?void 0:r.title])]});pk.displayName="ElTableV2HeaderCell";pk.inheritAttrs=!1;var ARe=pk;const ERe=n=>{const{sortOrder:e}=n;return pe(Gt,{size:14,class:n.class},{default:()=>[e===y_.ASC?pe(oge,null,null):pe(age,null,null)]})};var IRe=ERe;const RRe=(n,{slots:e})=>{const{column:t,ns:r,style:i,onColumnSorted:a}=n,s=Uf(i);if(t.placeholderSign===__)return pe("div",{class:r.em("header-row-cell","placeholder"),style:s},null);const{headerCellRenderer:o,headerClass:l,sortable:c}=t,u={...n,class:r.e("header-cell-text")},d=VZ(o),f=d?d(u):Qe(e,"default",u,()=>[pe(ARe,u,null)]),{sortBy:h,sortState:p,headerCellProps:m}=n;let g,v;if(p){const _=p[t.key];g=!!w5[_],v=g?_:y_.ASC}else g=t.key===h.key,v=g?h.order:y_.ASC;const y=[r.e("header-cell"),E0(l,n,""),t.align===b_.CENTER&&r.is("align-center"),t.align===b_.RIGHT&&r.is("align-right"),c&&r.is("sortable")],b={...E0(m,n),onClick:t.sortable?a:void 0,class:y,style:s,"data-key":t.key};return pe("div",Bn(b,{role:"columnheader"}),[f,c&&pe(IRe,{class:[r.e("sort-icon"),g&&r.is("sorting")],sortOrder:v},null)])};var y9=RRe;const JZ=(n,{slots:e})=>{var t;return pe("div",{class:n.class,style:n.style},[(t=e.default)==null?void 0:t.call(e)])};JZ.displayName="ElTableV2Footer";var PRe=JZ;const eQ=(n,{slots:e})=>{const t=Qe(e,"default",{},()=>[pe(Kj,null,null)]);return pe("div",{class:n.class,style:n.style},[t])};eQ.displayName="ElTableV2Empty";var LRe=eQ;const tQ=(n,{slots:e})=>{var t;return pe("div",{class:n.class,style:n.style},[(t=e.default)==null?void 0:t.call(e)])};tQ.displayName="ElTableV2Overlay";var DRe=tQ;function i1(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!ti(n)}const kRe="ElTableV2",ORe=Pe({name:kRe,props:$Ie,setup(n,{slots:e,expose:t}){const r=yt("table-v2"),{columnsStyles:i,fixedColumnsOnLeft:a,fixedColumnsOnRight:s,mainColumns:o,mainTableHeight:l,fixedTableHeight:c,leftTableWidth:u,rightTableWidth:d,data:f,depthMap:h,expandedRowKeys:p,hasFixedColumns:m,mainTableRef:g,leftTableRef:v,rightTableRef:y,isDynamic:b,isResetting:_,isScrolling:w,bodyWidth:x,emptyStyle:M,rootStyle:C,headerWidth:T,footerHeight:A,showEmpty:I,scrollTo:L,scrollToLeft:k,scrollToTop:N,scrollToRow:F,getRowHeight:D,onColumnSorted:H,onRowHeightChange:z,onRowHovered:B,onRowExpanded:W,onRowsRendered:Z,onScroll:ee,onVerticalScroll:J}=HIe(n);return t({scrollTo:L,scrollToLeft:k,scrollToTop:N,scrollToRow:F}),Vn(ck,{ns:r,isResetting:_,isScrolling:w}),()=>{const{cache:re,cellProps:fe,estimatedRowHeight:de,expandColumnKey:me,fixedData:Re,headerHeight:De,headerClass:Ge,headerProps:We,headerCellProps:K,sortBy:ue,sortState:ie,rowHeight:$e,rowClass:Ne,rowEventHandlers:Ye,rowKey:ce,rowProps:he,scrollbarAlwaysOn:ke,indentSize:oe,iconSize:V,useIsScrolling:Y,vScrollbarSize:Q,width:we}=n,Ue=S(f),ct={cache:re,class:r.e("main"),columns:S(o),data:Ue,fixedData:Re,estimatedRowHeight:de,bodyWidth:S(x)+Q,headerHeight:De,headerWidth:S(T),height:S(l),mainTableRef:g,rowKey:ce,rowHeight:$e,scrollbarAlwaysOn:ke,scrollbarStartGap:2,scrollbarEndGap:Q,useIsScrolling:Y,width:we,getRowHeight:D,onRowsRendered:Z,onScroll:ee},pt=S(u),Ee=S(c),ft={cache:re,class:r.e("left"),columns:S(a),data:Ue,estimatedRowHeight:de,leftTableRef:v,rowHeight:$e,bodyWidth:pt,headerWidth:pt,headerHeight:De,height:Ee,rowKey:ce,scrollbarAlwaysOn:ke,scrollbarStartGap:2,scrollbarEndGap:Q,useIsScrolling:Y,width:pt,getRowHeight:D,onScroll:J},G=S(d)+Q,ye={cache:re,class:r.e("right"),columns:S(s),data:Ue,estimatedRowHeight:de,rightTableRef:y,rowHeight:$e,bodyWidth:G,headerWidth:G,headerHeight:De,height:Ee,rowKey:ce,scrollbarAlwaysOn:ke,scrollbarStartGap:2,scrollbarEndGap:Q,width:G,style:`--${S(r.namespace)}-table-scrollbar-size: ${Q}px`,useIsScrolling:Y,getRowHeight:D,onScroll:J},ve=S(i),Le={ns:r,depthMap:S(h),columnsStyles:ve,expandColumnKey:me,expandedRowKeys:S(p),estimatedRowHeight:de,hasFixedColumns:S(m),rowProps:he,rowClass:Ne,rowKey:ce,rowEventHandlers:Ye,onRowHovered:B,onRowExpanded:W,onRowHeightChange:z},be={cellProps:fe,expandColumnKey:me,indentSize:oe,iconSize:V,rowKey:ce,expandedRowKeys:S(p),ns:r},Te={ns:r,headerClass:Ge,headerProps:We,columnsStyles:ve},ht={ns:r,sortBy:ue,sortState:ie,headerCellProps:K,onColumnSorted:H},Ie={row:vt=>pe(gRe,Bn(vt,Le),{row:e.row,cell:kt=>{let Tt;return e.cell?pe(g9,Bn(kt,be,{style:ve[kt.column.key]}),i1(Tt=e.cell(kt))?Tt:{default:()=>[Tt]}):pe(g9,Bn(kt,be,{style:ve[kt.column.key]}),null)}}),header:vt=>pe(TRe,Bn(vt,Te),{header:e.header,cell:kt=>{let Tt;return e["header-cell"]?pe(y9,Bn(kt,ht,{style:ve[kt.column.key]}),i1(Tt=e["header-cell"](kt))?Tt:{default:()=>[Tt]}):pe(y9,Bn(kt,ht,{style:ve[kt.column.key]}),null)}})},bt=[n.class,r.b(),r.e("root"),{[r.is("dynamic")]:S(b)}],nt={class:r.e("footer"),style:S(A)};return pe("div",{class:bt,style:S(C)},[pe(iRe,ct,i1(Ie)?Ie:{default:()=>[Ie]}),pe(oRe,ft,i1(Ie)?Ie:{default:()=>[Ie]}),pe(uRe,ye,i1(Ie)?Ie:{default:()=>[Ie]}),e.footer&&pe(PRe,nt,{default:e.footer}),S(I)&&pe(LRe,{class:r.e("empty"),style:S(M)},{default:e.empty}),e.overlay&&pe(DRe,{class:r.e("overlay")},{default:e.overlay})])}}});var NRe=ORe;const BRe=Et({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:Ke(Function)}}),FRe=n=>{const e=te(),t=te(0),r=te(0);let i;return dn(()=>{i=hi(e,([a])=>{const{width:s,height:o}=a.contentRect,{paddingLeft:l,paddingRight:c,paddingTop:u,paddingBottom:d}=getComputedStyle(a.target),f=Number.parseInt(l)||0,h=Number.parseInt(c)||0,p=Number.parseInt(u)||0,m=Number.parseInt(d)||0;t.value=s-f-h,r.value=o-p-m}).stop}),vr(()=>{i==null||i()}),dt([t,r],([a,s])=>{var o;(o=n.onResize)==null||o.call(n,{width:a,height:s})}),{sizer:e,width:t,height:r}},zRe=Pe({name:"ElAutoResizer",props:BRe,setup(n,{slots:e}){const t=yt("auto-resizer"),{height:r,width:i,sizer:a}=FRe(n),s={width:"100%",height:"100%"};return()=>{var o;return pe("div",{ref:a,class:t.b(),style:s},[(o=e.default)==null?void 0:o.call(e,{height:r.value,width:i.value})])}}});var URe=zRe;const HRe=gn(NRe),VRe=gn(URe),oA=Symbol("tabsRootContextKey"),$Re=Et({tabs:{type:Ke(Array),default:()=>wi([])}}),nQ="ElTabBar",GRe=Pe({name:nQ}),WRe=Pe({...GRe,props:$Re,setup(n,{expose:e}){const t=n,r=wn(),i=Nt(oA);i||va(nQ,"<el-tabs><el-tab-bar /></el-tabs>");const a=yt("tabs"),s=te(),o=te(),l=()=>{let h=0,p=0;const m=["top","bottom"].includes(i.props.tabPosition)?"width":"height",g=m==="width"?"x":"y",v=g==="x"?"left":"top";return t.tabs.every(y=>{var b,_;const w=(_=(b=r.parent)==null?void 0:b.refs)==null?void 0:_[`tab-${y.uid}`];if(!w)return!1;if(!y.active)return!0;h=w[`offset${Zc(v)}`],p=w[`client${Zc(m)}`];const x=window.getComputedStyle(w);return m==="width"&&(p-=Number.parseFloat(x.paddingLeft)+Number.parseFloat(x.paddingRight),h+=Number.parseFloat(x.paddingLeft)),!1}),{[m]:`${p}px`,transform:`translate${Zc(g)}(${h}px)`}},c=()=>o.value=l(),u=[],d=()=>{var h;u.forEach(m=>m.stop()),u.length=0;const p=(h=r.parent)==null?void 0:h.refs;if(p){for(const m in p)if(m.startsWith("tab-")){const g=p[m];g&&u.push(hi(g,c))}}};dt(()=>t.tabs,async()=>{await Yt(),c(),d()},{immediate:!0});const f=hi(s,()=>c());return vr(()=>{u.forEach(h=>h.stop()),u.length=0,f.stop()}),e({ref:s,update:c}),(h,p)=>($(),ge("div",{ref_key:"barRef",ref:s,class:j([S(a).e("active-bar"),S(a).is(S(i).props.tabPosition)]),style:Ft(o.value)},null,6))}});var qRe=It(WRe,[["__file","tab-bar.vue"]]);const KRe=Et({panes:{type:Ke(Array),default:()=>wi([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),YRe={tabClick:(n,e,t)=>t instanceof Event,tabRemove:(n,e)=>e instanceof Event},b9="ElTabNav",XRe=Pe({name:b9,props:KRe,emits:YRe,setup(n,{expose:e,emit:t}){const r=Nt(oA);r||va(b9,"<el-tabs><tab-nav /></el-tabs>");const i=yt("tabs"),a=vme(),s=Eme(),o=te(),l=te(),c=te(),u=te(),d=te(!1),f=te(0),h=te(!1),p=te(!0),m=U(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),g=U(()=>({transform:`translate${m.value==="width"?"X":"Y"}(-${f.value}px)`})),v=()=>{if(!o.value)return;const C=o.value[`offset${Zc(m.value)}`],T=f.value;if(!T)return;const A=T>C?T-C:0;f.value=A},y=()=>{if(!o.value||!l.value)return;const C=l.value[`offset${Zc(m.value)}`],T=o.value[`offset${Zc(m.value)}`],A=f.value;if(C-A<=T)return;const I=C-A>T*2?A+T:C-T;f.value=I},b=async()=>{const C=l.value;if(!d.value||!c.value||!o.value||!C)return;await Yt();const T=c.value.querySelector(".is-active");if(!T)return;const A=o.value,I=["top","bottom"].includes(r.props.tabPosition),L=T.getBoundingClientRect(),k=A.getBoundingClientRect(),N=I?C.offsetWidth-k.width:C.offsetHeight-k.height,F=f.value;let D=F;I?(L.left<k.left&&(D=F-(k.left-L.left)),L.right>k.right&&(D=F+L.right-k.right)):(L.top<k.top&&(D=F-(k.top-L.top)),L.bottom>k.bottom&&(D=F+(L.bottom-k.bottom))),D=Math.max(D,0),f.value=Math.min(D,N)},_=()=>{var C;if(!l.value||!o.value)return;n.stretch&&((C=u.value)==null||C.update());const T=l.value[`offset${Zc(m.value)}`],A=o.value[`offset${Zc(m.value)}`],I=f.value;A<T?(d.value=d.value||{},d.value.prev=I,d.value.next=I+A<T,T-I<A&&(f.value=T-A)):(d.value=!1,I>0&&(f.value=0))},w=C=>{let T=0;switch(C.code){case Ot.left:case Ot.up:T=-1;break;case Ot.right:case Ot.down:T=1;break;default:return}const A=Array.from(C.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let L=A.indexOf(C.target)+T;L<0?L=A.length-1:L>=A.length&&(L=0),A[L].focus({preventScroll:!0}),A[L].click(),x()},x=()=>{p.value&&(h.value=!0)},M=()=>h.value=!1;return dt(a,C=>{C==="hidden"?p.value=!1:C==="visible"&&setTimeout(()=>p.value=!0,50)}),dt(s,C=>{C?setTimeout(()=>p.value=!0,50):p.value=!1}),hi(c,_),dn(()=>setTimeout(()=>b(),0)),Io(()=>_()),e({scrollToActiveTab:b,removeFocus:M}),()=>{const C=d.value?[pe("span",{class:[i.e("nav-prev"),i.is("disabled",!d.value.prev)],onClick:v},[pe(Gt,null,{default:()=>[pe(mh,null,null)]})]),pe("span",{class:[i.e("nav-next"),i.is("disabled",!d.value.next)],onClick:y},[pe(Gt,null,{default:()=>[pe(Zs,null,null)]})])]:null,T=n.panes.map((A,I)=>{var L,k,N,F;const D=A.uid,H=A.props.disabled,z=(k=(L=A.props.name)!=null?L:A.index)!=null?k:`${I}`,B=!H&&(A.isClosable||n.editable);A.index=`${I}`;const W=B?pe(Gt,{class:"is-icon-close",onClick:J=>t("tabRemove",A,J)},{default:()=>[pe(Ac,null,null)]}):null,Z=((F=(N=A.slots).label)==null?void 0:F.call(N))||A.props.label,ee=!H&&A.active?0:-1;return pe("div",{ref:`tab-${D}`,class:[i.e("item"),i.is(r.props.tabPosition),i.is("active",A.active),i.is("disabled",H),i.is("closable",B),i.is("focus",h.value)],id:`tab-${z}`,key:`tab-${D}`,"aria-controls":`pane-${z}`,role:"tab","aria-selected":A.active,tabindex:ee,onFocus:()=>x(),onBlur:()=>M(),onClick:J=>{M(),t("tabClick",A,z,J)},onKeydown:J=>{B&&(J.code===Ot.delete||J.code===Ot.backspace)&&t("tabRemove",A,J)}},[Z,W])});return pe("div",{ref:c,class:[i.e("nav-wrap"),i.is("scrollable",!!d.value),i.is(r.props.tabPosition)]},[C,pe("div",{class:i.e("nav-scroll"),ref:o},[pe("div",{class:[i.e("nav"),i.is(r.props.tabPosition),i.is("stretch",n.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:l,style:g.value,role:"tablist",onKeydown:w},[n.type?null:pe(qRe,{ref:u,tabs:[...n.panes]},null),T])])])}}}),jRe=Et({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Ke(Function),default:()=>!0},stretch:Boolean}),i3=n=>qt(n)||en(n),ZRe={[Tn]:n=>i3(n),tabClick:(n,e)=>e instanceof Event,tabChange:n=>i3(n),edit:(n,e)=>["remove","add"].includes(e),tabRemove:n=>i3(n),tabAdd:()=>!0},QRe=Pe({name:"ElTabs",props:jRe,emits:ZRe,setup(n,{emit:e,slots:t,expose:r}){var i;const a=yt("tabs"),s=U(()=>["left","right"].includes(n.tabPosition)),{children:o,addChild:l,removeChild:c}=O6(wn(),"ElTabPane"),u=te(),d=te((i=n.modelValue)!=null?i:"0"),f=async(v,y=!1)=>{var b,_,w;if(!(d.value===v||Tr(v)))try{await((b=n.beforeLeave)==null?void 0:b.call(n,v,d.value))!==!1&&(d.value=v,y&&(e(Tn,v),e("tabChange",v)),(w=(_=u.value)==null?void 0:_.removeFocus)==null||w.call(_))}catch{}},h=(v,y,b)=>{v.props.disabled||(f(y,!0),e("tabClick",v,b))},p=(v,y)=>{v.props.disabled||Tr(v.props.name)||(y.stopPropagation(),e("edit",v.props.name,"remove"),e("tabRemove",v.props.name))},m=()=>{e("edit",void 0,"add"),e("tabAdd")};dt(()=>n.modelValue,v=>f(v)),dt(d,async()=>{var v;await Yt(),(v=u.value)==null||v.scrollToActiveTab()}),Vn(oA,{props:n,currentName:d,registerPane:v=>{o.value.push(v)},sortPane:l,unregisterPane:c}),r({currentName:d});const g=({render:v})=>v();return()=>{const v=t["add-icon"],y=n.editable||n.addable?pe("div",{class:[a.e("new-tab"),s.value&&a.e("new-tab-vertical")],tabindex:"0",onClick:m,onKeydown:w=>{[Ot.enter,Ot.numpadEnter].includes(w.code)&&m()}},[v?Qe(t,"add-icon"):pe(Gt,{class:a.is("icon-plus")},{default:()=>[pe(QY,null,null)]})]):null,b=pe("div",{class:[a.e("header"),s.value&&a.e("header-vertical"),a.is(n.tabPosition)]},[pe(g,{render:()=>{const w=o.value.some(x=>x.slots.label);return pe(XRe,{ref:u,currentName:d.value,editable:n.editable,type:n.type,panes:o.value,stretch:n.stretch,onTabClick:h,onTabRemove:p},{$stable:!w})}},null),y]),_=pe("div",{class:a.e("content")},[Qe(t,"default")]);return pe("div",{class:[a.b(),a.m(n.tabPosition),{[a.m("card")]:n.type==="card",[a.m("border-card")]:n.type==="border-card"}]},[_,b])}}});var JRe=QRe;const e5e=Et({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),rQ="ElTabPane",t5e=Pe({name:rQ}),n5e=Pe({...t5e,props:e5e,setup(n){const e=n,t=wn(),r=Qi(),i=Nt(oA);i||va(rQ,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=yt("tab-pane"),s=te(),o=U(()=>e.closable||i.props.closable),l=LR(()=>{var h;return i.currentName.value===((h=e.name)!=null?h:s.value)}),c=te(l.value),u=U(()=>{var h;return(h=e.name)!=null?h:s.value}),d=LR(()=>!e.lazy||c.value||l.value);dt(l,h=>{h&&(c.value=!0)});const f=pr({uid:t.uid,slots:r,props:e,paneName:u,active:l,index:s,isClosable:o});return i.registerPane(f),dn(()=>{i.sortPane(f)}),Ec(()=>{i.unregisterPane(f.uid)}),(h,p)=>S(d)?Sn(($(),ge("div",{key:0,id:`pane-${S(u)}`,class:j(S(a).b()),role:"tabpanel","aria-hidden":!S(l),"aria-labelledby":`tab-${S(u)}`},[Qe(h.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[lr,S(l)]]):Je("v-if",!0)}});var iQ=It(n5e,[["__file","tab-pane.vue"]]);const r5e=gn(JRe,{TabPane:iQ}),i5e=Ci(iQ),a5e=Et({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Cu,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),s5e=Pe({name:"ElText"}),o5e=Pe({...s5e,props:a5e,setup(n){const e=n,t=ji(),r=yt("text"),i=U(()=>[r.b(),r.m(e.type),r.m(t.value),r.is("truncated",e.truncated),r.is("line-clamp",!Tr(e.lineClamp))]);return(a,s)=>($(),rt(Rn(a.tag),{class:j(S(i)),style:Ft({"-webkit-line-clamp":a.lineClamp})},{default:Me(()=>[Qe(a.$slots,"default")]),_:3},8,["class","style"]))}});var l5e=It(o5e,[["__file","text.vue"]]);const c5e=gn(l5e),u5e=Et({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:Ke(String),default:"light"},clearable:{type:Boolean,default:!0},size:oa,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:Ke([String,Object]),default:()=>ZY},clearIcon:{type:Ke([String,Object]),default:()=>$d},...vy}),dd=n=>{const e=(n||"").split(":");if(e.length>=2){let t=Number.parseInt(e[0],10);const r=Number.parseInt(e[1],10),i=n.toUpperCase();return i.includes("AM")&&t===12?t=0:i.includes("PM")&&t!==12&&(t+=12),{hours:t,minutes:r}}return null},a3=(n,e)=>{const t=dd(n);if(!t)return-1;const r=dd(e);if(!r)return-1;const i=t.minutes+t.hours*60,a=r.minutes+r.hours*60;return i===a?0:i>a?1:-1},_9=n=>`${n}`.padStart(2,"0"),bv=n=>`${_9(n.hours)}:${_9(n.minutes)}`,d5e=(n,e)=>{const t=dd(n);if(!t)return"";const r=dd(e);if(!r)return"";const i={hours:t.hours,minutes:t.minutes};return i.minutes+=r.minutes,i.hours+=r.hours,i.hours+=Math.floor(i.minutes/60),i.minutes=i.minutes%60,bv(i)},f5e=Pe({name:"ElTimeSelect"}),h5e=Pe({...f5e,props:u5e,emits:["change","blur","focus","clear","update:modelValue"],setup(n,{expose:e}){const t=n;hn.extend(z6);const{Option:r}=A0,i=yt("input"),a=te(),s=ps(),{lang:o}=nr(),l=U(()=>t.modelValue),c=U(()=>{const v=dd(t.start);return v?bv(v):null}),u=U(()=>{const v=dd(t.end);return v?bv(v):null}),d=U(()=>{const v=dd(t.step);return v?bv(v):null}),f=U(()=>{const v=dd(t.minTime||"");return v?bv(v):null}),h=U(()=>{const v=dd(t.maxTime||"");return v?bv(v):null}),p=U(()=>{const v=[];if(t.start&&t.end&&t.step){let y=c.value,b;for(;y&&u.value&&a3(y,u.value)<=0;)b=hn(y,"HH:mm").locale(o.value).format(t.format),v.push({value:b,disabled:a3(y,f.value||"-1:-1")<=0||a3(y,h.value||"100:100")>=0}),y=d5e(y,d.value)}return v});return e({blur:()=>{var v,y;(y=(v=a.value)==null?void 0:v.blur)==null||y.call(v)},focus:()=>{var v,y;(y=(v=a.value)==null?void 0:v.focus)==null||y.call(v)}}),(v,y)=>($(),rt(S(A0),{ref_key:"select",ref:a,"model-value":S(l),disabled:S(s),clearable:v.clearable,"clear-icon":v.clearIcon,size:v.size,effect:v.effect,placeholder:v.placeholder,"default-first-option":"",filterable:v.editable,"empty-values":v.emptyValues,"value-on-clear":v.valueOnClear,"onUpdate:modelValue":b=>v.$emit("update:modelValue",b),onChange:b=>v.$emit("change",b),onBlur:b=>v.$emit("blur",b),onFocus:b=>v.$emit("focus",b),onClear:()=>v.$emit("clear")},{prefix:Me(()=>[v.prefixIcon?($(),rt(S(Gt),{key:0,class:j(S(i).e("prefix-icon"))},{default:Me(()=>[($(),rt(Rn(v.prefixIcon)))]),_:1},8,["class"])):Je("v-if",!0)]),default:Me(()=>[($(!0),ge(Bt,null,kn(S(p),b=>($(),rt(S(r),{key:b.value,label:b.value,value:b.value,disabled:b.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var p5e=It(h5e,[["__file","time-select.vue"]]);const m5e=gn(p5e),v5e=Pe({name:"ElTimeline",setup(n,{slots:e}){const t=yt("timeline");return Vn("timeline",e),()=>$t("ul",{class:[t.b()]},[Qe(e,"default")])}}),g5e=Et({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Dr},hollow:Boolean}),y5e=Pe({name:"ElTimelineItem"}),b5e=Pe({...y5e,props:g5e,setup(n){const e=n,t=yt("timeline-item"),r=U(()=>[t.e("node"),t.em("node",e.size||""),t.em("node",e.type||""),t.is("hollow",e.hollow)]);return(i,a)=>($(),ge("li",{class:j([S(t).b(),{[S(t).e("center")]:i.center}])},[_e("div",{class:j(S(t).e("tail"))},null,2),i.$slots.dot?Je("v-if",!0):($(),ge("div",{key:0,class:j(S(r)),style:Ft({backgroundColor:i.color})},[i.icon?($(),rt(S(Gt),{key:0,class:j(S(t).e("icon"))},{default:Me(()=>[($(),rt(Rn(i.icon)))]),_:1},8,["class"])):Je("v-if",!0)],6)),i.$slots.dot?($(),ge("div",{key:1,class:j(S(t).e("dot"))},[Qe(i.$slots,"dot")],2)):Je("v-if",!0),_e("div",{class:j(S(t).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?($(),ge("div",{key:0,class:j([S(t).e("timestamp"),S(t).is("top")])},_t(i.timestamp),3)):Je("v-if",!0),_e("div",{class:j(S(t).e("content"))},[Qe(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?($(),ge("div",{key:1,class:j([S(t).e("timestamp"),S(t).is("bottom")])},_t(i.timestamp),3)):Je("v-if",!0)],2)],2))}});var aQ=It(b5e,[["__file","timeline-item.vue"]]);const _5e=gn(v5e,{TimelineItem:aQ}),S5e=Ci(aQ),sQ=Et({nowrap:Boolean});var oQ=(n=>(n.top="top",n.bottom="bottom",n.left="left",n.right="right",n))(oQ||{});const w5e=Object.values(oQ),mk=Et({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:Ke(Object),default:null}}),x5e=Et({side:{type:Ke(String),values:w5e,required:!0}}),C5e=["absolute","fixed"],M5e=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],vk=Et({arrowPadding:{type:Ke(Number),default:5},effect:{type:Ke(String),default:"light"},contentClass:String,placement:{type:Ke(String),values:M5e,default:"bottom"},reference:{type:Ke(Object),default:null},offset:{type:Number,default:8},strategy:{type:Ke(String),values:C5e,default:"absolute"},showArrow:Boolean,...Xa(["ariaLabel"])}),gk=Et({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:Ke(Function)},"onUpdate:open":{type:Ke(Function)}}),pm={type:Ke(Function)},yk=Et({onBlur:pm,onClick:pm,onFocus:pm,onMouseDown:pm,onMouseEnter:pm,onMouseLeave:pm}),T5e=Et({...gk,...mk,...yk,...vk,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:Ke(Object),default:null},teleported:Boolean,to:{type:Ke(String),default:"body"}}),lA=Symbol("tooltipV2"),lQ=Symbol("tooltipV2Content"),s3="tooltip_v2.open",A5e=Pe({name:"ElTooltipV2Root"}),E5e=Pe({...A5e,props:gk,setup(n,{expose:e}){const t=n,r=te(t.defaultOpen),i=te(null),a=U({get:()=>C0(t.open)?r.value:t.open,set:g=>{var v;r.value=g,(v=t["onUpdate:open"])==null||v.call(t,g)}}),s=U(()=>en(t.delayDuration)&&t.delayDuration>0),{start:o,stop:l}=M0(()=>{a.value=!0},U(()=>t.delayDuration),{immediate:!1}),c=yt("tooltip-v2"),u=Ya(),d=()=>{l(),a.value=!0},f=()=>{S(s)?o():d()},h=d,p=()=>{l(),a.value=!1};return dt(a,g=>{var v;g&&(document.dispatchEvent(new CustomEvent(s3)),h()),(v=t.onOpenChange)==null||v.call(t,g)}),dn(()=>{document.addEventListener(s3,p)}),vr(()=>{l(),document.removeEventListener(s3,p)}),Vn(lA,{contentId:u,triggerRef:i,ns:c,onClose:p,onDelayOpen:f,onOpen:h}),e({onOpen:h,onClose:p}),(g,v)=>Qe(g.$slots,"default",{open:S(a)})}});var I5e=It(E5e,[["__file","root.vue"]]);const R5e=Pe({name:"ElTooltipV2Arrow"}),P5e=Pe({...R5e,props:{...mk,...x5e},setup(n){const e=n,{ns:t}=Nt(lA),{arrowRef:r}=Nt(lQ),i=U(()=>{const{style:a,width:s,height:o}=e,l=t.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${s}px`,[`--${l}-tooltip-v2-arrow-height`]:`${o}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${s/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:s/2-1,...a||{}}});return(a,s)=>($(),ge("span",{ref_key:"arrowRef",ref:r,style:Ft(S(i)),class:j(S(t).e("arrow"))},null,6))}});var S9=It(P5e,[["__file","arrow.vue"]]);const Dg=Math.min,u0=Math.max,lM=Math.round,Pw=Math.floor,bh=n=>({x:n,y:n}),L5e={left:"right",right:"left",bottom:"top",top:"bottom"},D5e={start:"end",end:"start"};function C5(n,e,t){return u0(n,Dg(e,t))}function PS(n,e){return typeof n=="function"?n(e):n}function I0(n){return n.split("-")[0]}function LS(n){return n.split("-")[1]}function cQ(n){return n==="x"?"y":"x"}function bk(n){return n==="y"?"height":"width"}function cA(n){return["top","bottom"].includes(I0(n))?"y":"x"}function _k(n){return cQ(cA(n))}function k5e(n,e,t){t===void 0&&(t=!1);const r=LS(n),i=_k(n),a=bk(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=cM(s)),[s,cM(s)]}function O5e(n){const e=cM(n);return[M5(n),e,M5(e)]}function M5(n){return n.replace(/start|end/g,e=>D5e[e])}function N5e(n,e,t){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?a:s;default:return[]}}function B5e(n,e,t,r){const i=LS(n);let a=N5e(I0(n),t==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(M5)))),a}function cM(n){return n.replace(/left|right|bottom|top/g,e=>L5e[e])}function F5e(n){return{top:0,right:0,bottom:0,left:0,...n}}function uQ(n){return typeof n!="number"?F5e(n):{top:n,right:n,bottom:n,left:n}}function uM(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function w9(n,e,t){let{reference:r,floating:i}=n;const a=cA(e),s=_k(e),o=bk(s),l=I0(e),c=a==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[o]/2-i[o]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(LS(e)){case"start":h[s]-=f*(t&&c?-1:1);break;case"end":h[s]+=f*(t&&c?-1:1);break}return h}const z5e=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:d}=w9(c,r,l),f=r,h={},p=0;for(let m=0;m<o.length;m++){const{name:g,fn:v}=o[m],{x:y,y:b,data:_,reset:w}=await v({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:n,floating:e}});if(u=y??u,d=b??d,h={...h,[g]:{...h[g],..._}},w&&p<=50){p++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(c=w.rects===!0?await s.getElementRects({reference:n,floating:e,strategy:i}):w.rects),{x:u,y:d}=w9(c,f,l)),m=-1;continue}}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function Sk(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=PS(e,n),p=uQ(h),g=o[f?d==="floating"?"reference":"floating":d],v=uM(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(g)))==null||t?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{...s.floating,x:r,y:i}:s.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),_=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},w=uM(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:b,strategy:l}):y);return{top:(v.top-w.top+p.top)/_.y,bottom:(w.bottom-v.bottom+p.bottom)/_.y,left:(v.left-w.left+p.left)/_.x,right:(w.right-v.right+p.right)/_.x}}const dQ=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:s,elements:o}=e,{element:l,padding:c=0}=PS(n,e)||{};if(l==null)return{};const u=uQ(c),d={x:t,y:r},f=_k(i),h=bk(f),p=await s.getDimensions(l),m=f==="y",g=m?"top":"left",v=m?"bottom":"right",y=m?"clientHeight":"clientWidth",b=a.reference[h]+a.reference[f]-d[f]-a.floating[h],_=d[f]-a.reference[f],w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let x=w?w[y]:0;(!x||!await(s.isElement==null?void 0:s.isElement(w)))&&(x=o.floating[y]||a.floating[h]);const M=b/2-_/2,C=x/2-p[h]/2-1,T=Dg(u[g],C),A=Dg(u[v],C),I=T,L=x-p[h]-A,k=x/2-p[h]/2+M,N=C5(I,k,L),D=LS(i)!=null&&k!=N&&a.reference[h]/2-(k<I?T:A)-p[h]/2<0?k<I?I-k:L-k:0;return{[f]:d[f]-D,data:{[f]:N,centerOffset:k-N+D}}}}),U5e=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t;const{placement:r,middlewareData:i,rects:a,initialPlacement:s,platform:o,elements:l}=e,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:p=!0,...m}=PS(n,e),g=I0(r),v=I0(s)===s,y=await(o.isRTL==null?void 0:o.isRTL(l.floating)),b=d||(v||!p?[cM(s)]:O5e(s));!d&&h!=="none"&&b.push(...B5e(s,p,h,y));const _=[s,...b],w=await Sk(e,m),x=[];let M=((t=i.flip)==null?void 0:t.overflows)||[];if(c&&x.push(w[g]),u){const I=k5e(r,a,y);x.push(w[I[0]],w[I[1]])}if(M=[...M,{placement:r,overflows:x}],!x.every(I=>I<=0)){var C,T;const I=(((C=i.flip)==null?void 0:C.index)||0)+1,L=_[I];if(L)return{data:{index:I,overflows:M},reset:{placement:L}};let k=(T=M.filter(N=>N.overflows[0]<=0).sort((N,F)=>N.overflows[1]-F.overflows[1])[0])==null?void 0:T.placement;if(!k)switch(f){case"bestFit":{var A;const N=(A=M.map(F=>[F.placement,F.overflows.filter(D=>D>0).reduce((D,H)=>D+H,0)]).sort((F,D)=>F[1]-D[1])[0])==null?void 0:A[0];N&&(k=N);break}case"initialPlacement":k=s;break}if(r!==k)return{reset:{placement:k}}}return{}}}};async function H5e(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=I0(t),o=LS(t),l=cA(t)==="y",c=["left","top"].includes(s)?-1:1,u=a&&l?-1:1,d=PS(e,n);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return o&&typeof p=="number"&&(h=o==="end"?p*-1:p),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const fQ=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:t,y:r}=e,i=await H5e(e,n);return{x:t+i.x,y:r+i.y,data:i}}}},V5e=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:g=>{let{x:v,y}=g;return{x:v,y}}},...l}=PS(n,e),c={x:t,y:r},u=await Sk(e,l),d=cA(I0(i)),f=cQ(d);let h=c[f],p=c[d];if(a){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=h+u[g],b=h-u[v];h=C5(y,h,b)}if(s){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=p+u[g],b=p-u[v];p=C5(y,p,b)}const m=o.fn({...e,[f]:h,[d]:p});return{...m,data:{x:m.x-t,y:m.y-r}}}}};function _h(n){return hQ(n)?(n.nodeName||"").toLowerCase():"#document"}function Qo(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Wd(n){var e;return(e=(hQ(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function hQ(n){return n instanceof Node||n instanceof Qo(n).Node}function Id(n){return n instanceof Element||n instanceof Qo(n).Element}function yu(n){return n instanceof HTMLElement||n instanceof Qo(n).HTMLElement}function x9(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Qo(n).ShadowRoot}function DS(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Kl(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function $5e(n){return["table","td","th"].includes(_h(n))}function wk(n){const e=xk(),t=Kl(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function xk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function uA(n){return["html","body","#document"].includes(_h(n))}function Kl(n){return Qo(n).getComputedStyle(n)}function dA(n){return Id(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function kg(n){if(_h(n)==="html")return n;const e=n.assignedSlot||n.parentNode||x9(n)&&n.host||Wd(n);return x9(e)?e.host:e}function pQ(n){const e=kg(n);return uA(e)?n.ownerDocument?n.ownerDocument.body:n.body:yu(e)&&DS(e)?e:pQ(e)}function dM(n,e){var t;e===void 0&&(e=[]);const r=pQ(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=Qo(r);return i?e.concat(a,a.visualViewport||[],DS(r)?r:[]):e.concat(r,dM(r))}function mQ(n){const e=Kl(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=yu(n),a=i?n.offsetWidth:t,s=i?n.offsetHeight:r,o=lM(t)!==a||lM(r)!==s;return o&&(t=a,r=s),{width:t,height:r,$:o}}function Ck(n){return Id(n)?n:n.contextElement}function ng(n){const e=Ck(n);if(!yu(e))return bh(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=mQ(e);let s=(a?lM(t.width):t.width)/r,o=(a?lM(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const G5e=bh(0);function vQ(n){const e=Qo(n);return!xk()||!e.visualViewport?G5e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function W5e(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Qo(n)?!1:e}function R0(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=Ck(n);let s=bh(1);e&&(r?Id(r)&&(s=ng(r)):s=ng(n));const o=W5e(a,t,r)?vQ(a):bh(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(a){const f=Qo(a),h=r&&Id(r)?Qo(r):r;let p=f.frameElement;for(;p&&r&&h!==f;){const m=ng(p),g=p.getBoundingClientRect(),v=Kl(p),y=g.left+(p.clientLeft+parseFloat(v.paddingLeft))*m.x,b=g.top+(p.clientTop+parseFloat(v.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=y,c+=b,p=Qo(p).frameElement}}return uM({width:u,height:d,x:l,y:c})}function q5e(n){let{rect:e,offsetParent:t,strategy:r}=n;const i=yu(t),a=Wd(t);if(t===a)return e;let s={scrollLeft:0,scrollTop:0},o=bh(1);const l=bh(0);if((i||!i&&r!=="fixed")&&((_h(t)!=="body"||DS(a))&&(s=dA(t)),yu(t))){const c=R0(t);o=ng(t),l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}return{width:e.width*o.x,height:e.height*o.y,x:e.x*o.x-s.scrollLeft*o.x+l.x,y:e.y*o.y-s.scrollTop*o.y+l.y}}function K5e(n){return Array.from(n.getClientRects())}function gQ(n){return R0(Wd(n)).left+dA(n).scrollLeft}function Y5e(n){const e=Wd(n),t=dA(n),r=n.ownerDocument.body,i=u0(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=u0(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+gQ(n);const o=-t.scrollTop;return Kl(r).direction==="rtl"&&(s+=u0(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}function X5e(n,e){const t=Qo(n),r=Wd(n),i=t.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const c=xk();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function j5e(n,e){const t=R0(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=yu(n)?ng(n):bh(1),s=n.clientWidth*a.x,o=n.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:s,height:o,x:l,y:c}}function C9(n,e,t){let r;if(e==="viewport")r=X5e(n,t);else if(e==="document")r=Y5e(Wd(n));else if(Id(e))r=j5e(e,t);else{const i=vQ(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return uM(r)}function yQ(n,e){const t=kg(n);return t===e||!Id(t)||uA(t)?!1:Kl(t).position==="fixed"||yQ(t,e)}function Z5e(n,e){const t=e.get(n);if(t)return t;let r=dM(n).filter(o=>Id(o)&&_h(o)!=="body"),i=null;const a=Kl(n).position==="fixed";let s=a?kg(n):n;for(;Id(s)&&!uA(s);){const o=Kl(s),l=wk(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||DS(s)&&!l&&yQ(n,s))?r=r.filter(u=>u!==s):i=o,s=kg(s)}return e.set(n,r),r}function Q5e(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const s=[...t==="clippingAncestors"?Z5e(e,this._c):[].concat(t),r],o=s[0],l=s.reduce((c,u)=>{const d=C9(e,u,i);return c.top=u0(d.top,c.top),c.right=Dg(d.right,c.right),c.bottom=Dg(d.bottom,c.bottom),c.left=u0(d.left,c.left),c},C9(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function J5e(n){return mQ(n)}function ePe(n,e,t){const r=yu(e),i=Wd(e),a=t==="fixed",s=R0(n,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=bh(0);if(r||!r&&!a)if((_h(e)!=="body"||DS(i))&&(o=dA(e)),r){const c=R0(e,!0,a,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else i&&(l.x=gQ(i));return{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function M9(n,e){return!yu(n)||Kl(n).position==="fixed"?null:e?e(n):n.offsetParent}function tPe(n){let e=kg(n);for(;yu(e)&&!uA(e);){if(wk(e))return e;e=kg(e)}return null}function bQ(n,e){const t=Qo(n);if(!yu(n))return t;let r=M9(n,e);for(;r&&$5e(r)&&Kl(r).position==="static";)r=M9(r,e);return r&&(_h(r)==="html"||_h(r)==="body"&&Kl(r).position==="static"&&!wk(r))?t:r||tPe(n)||t}const nPe=async function(n){let{reference:e,floating:t,strategy:r}=n;const i=this.getOffsetParent||bQ,a=this.getDimensions;return{reference:ePe(e,await i(t),r),floating:{x:0,y:0,...await a(t)}}};function rPe(n){return Kl(n).direction==="rtl"}const iPe={convertOffsetParentRelativeRectToViewportRelativeRect:q5e,getDocumentElement:Wd,getClippingRect:Q5e,getOffsetParent:bQ,getElementRects:nPe,getClientRects:K5e,getDimensions:J5e,getScale:ng,isElement:Id,isRTL:rPe};function aPe(n,e){let t=null,r;const i=Wd(n);function a(){clearTimeout(r),t&&t.disconnect(),t=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const{left:c,top:u,width:d,height:f}=n.getBoundingClientRect();if(o||e(),!d||!f)return;const h=Pw(u),p=Pw(i.clientWidth-(c+d)),m=Pw(i.clientHeight-(u+f)),g=Pw(c),y={rootMargin:-h+"px "+-p+"px "+-m+"px "+-g+"px",threshold:u0(0,Dg(1,l))||1};let b=!0;function _(w){const x=w[0].intersectionRatio;if(x!==l){if(!b)return s();x?s(!1,x):r=setTimeout(()=>{s(!1,1e-7)},100)}b=!1}try{t=new IntersectionObserver(_,{...y,root:i.ownerDocument})}catch{t=new IntersectionObserver(_,y)}t.observe(n)}return s(!0),a}function sPe(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ck(n),u=i||a?[...c?dM(c):[],...dM(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",t,{passive:!0}),a&&v.addEventListener("resize",t)});const d=c&&o?aPe(c,t):null;let f=-1,h=null;s&&(h=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{h&&h.observe(e)})),t()}),c&&!l&&h.observe(c),h.observe(e));let p,m=l?R0(n):null;l&&g();function g(){const v=R0(n);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&t(),m=v,p=requestAnimationFrame(g)}return t(),()=>{u.forEach(v=>{i&&v.removeEventListener("scroll",t),a&&v.removeEventListener("resize",t)}),d&&d(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const _Q=(n,e,t)=>{const r=new Map,i={platform:iPe,...t},a={...i.platform,_c:r};return z5e(n,e,{...i,platform:a})},oPe=Et({style:{type:Ke([String,Object,Array]),default:()=>({})}}),lPe=Pe({name:"ElVisuallyHidden"}),cPe=Pe({...lPe,props:oPe,setup(n){const e=n,t=U(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,i)=>($(),ge("span",Bn(r.$attrs,{style:S(t)}),[Qe(r.$slots,"default")],16))}});var uPe=It(cPe,[["__file","visual-hidden.vue"]]);Et({});const dPe=n=>{if(!tr)return;if(!n)return n;const e=Xs(n);return e||(Ur(n)?e:n)},fPe=({middleware:n,placement:e,strategy:t})=>{const r=te(),i=te(),a=te(),s=te(),o=te({}),l={x:a,y:s,placement:e,strategy:t,middlewareData:o},c=async()=>{if(!tr)return;const u=dPe(r),d=Xs(i);if(!u||!d)return;const f=await _Q(u,d,{placement:S(e),strategy:S(t),middleware:S(n)});xg(l).forEach(h=>{l[h].value=f[h]})};return dn(()=>{wa(()=>{c()})}),{...l,update:c,referenceRef:r,contentRef:i}},hPe=({arrowRef:n,padding:e})=>({name:"arrow",options:{element:n,padding:e},fn(t){const r=S(n);return r?dQ({element:r,padding:e}).fn(t):{}}}),pPe=Pe({name:"ElTooltipV2Content"}),mPe=Pe({...pPe,props:{...vk,...sQ},setup(n){const e=n,{triggerRef:t,contentId:r}=Nt(lA),i=te(e.placement),a=te(e.strategy),s=te(null),{referenceRef:o,contentRef:l,middlewareData:c,x:u,y:d,update:f}=fPe({placement:i,strategy:a,middleware:U(()=>{const b=[fQ(e.offset)];return e.showArrow&&b.push(hPe({arrowRef:s})),b})}),h=my().nextZIndex(),p=yt("tooltip-v2"),m=U(()=>i.value.split("-")[0]),g=U(()=>({position:S(a),top:`${S(d)||0}px`,left:`${S(u)||0}px`,zIndex:h})),v=U(()=>{if(!e.showArrow)return{};const{arrow:b}=S(c);return{[`--${p.namespace.value}-tooltip-v2-arrow-x`]:`${b==null?void 0:b.x}px`||"",[`--${p.namespace.value}-tooltip-v2-arrow-y`]:`${b==null?void 0:b.y}px`||""}}),y=U(()=>[p.e("content"),p.is("dark",e.effect==="dark"),p.is(S(a)),e.contentClass]);return dt(s,()=>f()),dt(()=>e.placement,b=>i.value=b),dn(()=>{dt(()=>e.reference||t.value,b=>{o.value=b||void 0},{immediate:!0})}),Vn(lQ,{arrowRef:s}),(b,_)=>($(),ge("div",{ref_key:"contentRef",ref:l,style:Ft(S(g)),"data-tooltip-v2-root":""},[b.nowrap?Je("v-if",!0):($(),ge("div",{key:0,"data-side":S(m),class:j(S(y))},[Qe(b.$slots,"default",{contentStyle:S(g),contentClass:S(y)}),pe(S(uPe),{id:S(r),role:"tooltip"},{default:Me(()=>[b.ariaLabel?($(),ge(Bt,{key:0},[un(_t(b.ariaLabel),1)],64)):Qe(b.$slots,"default",{key:1})]),_:3},8,["id"]),Qe(b.$slots,"arrow",{style:Ft(S(v)),side:S(m)})],10,["data-side"]))],4))}});var T9=It(mPe,[["__file","content.vue"]]);const vPe=Et({setRef:{type:Ke(Function),required:!0},onlyChild:Boolean});var gPe=Pe({props:vPe,setup(n,{slots:e}){const t=te(),r=rA(t,i=>{i?n.setRef(i.nextElementSibling):n.setRef(null)});return()=>{var i;const[a]=((i=e.default)==null?void 0:i.call(e))||[],s=n.onlyChild?G_e(a.children):a.children;return pe(Bt,{ref:r},[s])}}});const yPe=Pe({name:"ElTooltipV2Trigger"}),bPe=Pe({...yPe,props:{...sQ,...yk},setup(n){const e=n,{onClose:t,onOpen:r,onDelayOpen:i,triggerRef:a,contentId:s}=Nt(lA);let o=!1;const l=y=>{a.value=y},c=()=>{o=!1},u=Ri(e.onMouseEnter,i),d=Ri(e.onMouseLeave,t),f=Ri(e.onMouseDown,()=>{t(),o=!0,document.addEventListener("mouseup",c,{once:!0})}),h=Ri(e.onFocus,()=>{o||r()}),p=Ri(e.onBlur,t),m=Ri(e.onClick,y=>{y.detail===0&&t()}),g={blur:p,click:m,focus:h,mousedown:f,mouseenter:u,mouseleave:d},v=(y,b,_)=>{y&&Object.entries(b).forEach(([w,x])=>{y[_](w,x)})};return dt(a,(y,b)=>{v(y,g,"addEventListener"),v(b,g,"removeEventListener"),y&&y.setAttribute("aria-describedby",s.value)}),vr(()=>{v(a.value,g,"removeEventListener"),document.removeEventListener("mouseup",c)}),(y,b)=>y.nowrap?($(),rt(S(gPe),{key:0,"set-ref":l,"only-child":""},{default:Me(()=>[Qe(y.$slots,"default")]),_:3})):($(),ge("button",Bn({key:1,ref_key:"triggerRef",ref:a},y.$attrs),[Qe(y.$slots,"default")],16))}});var _Pe=It(bPe,[["__file","trigger.vue"]]);const SPe=Pe({name:"ElTooltipV2"}),wPe=Pe({...SPe,props:T5e,setup(n){const t=aa(n),r=pr(vc(t,Object.keys(mk))),i=pr(vc(t,Object.keys(vk))),a=pr(vc(t,Object.keys(gk))),s=pr(vc(t,Object.keys(yk)));return(o,l)=>($(),rt(I5e,Ll(Md(a)),{default:Me(({open:c})=>[pe(_Pe,Bn(s,{nowrap:""}),{default:Me(()=>[Qe(o.$slots,"trigger")]),_:3},16),pe(S(yy),{to:o.to,disabled:!o.teleported},{default:Me(()=>[o.fullTransition?($(),rt(sa,Ll(Bn({key:0},o.transitionProps)),{default:Me(()=>[o.alwaysOn||c?($(),rt(T9,Ll(Bn({key:0},i)),{arrow:Me(({style:u,side:d})=>[o.showArrow?($(),rt(S9,Bn({key:0},r,{style:u,side:d}),null,16,["style","side"])):Je("v-if",!0)]),default:Me(()=>[Qe(o.$slots,"default")]),_:3},16)):Je("v-if",!0)]),_:2},1040)):($(),ge(Bt,{key:1},[o.alwaysOn||c?($(),rt(T9,Ll(Bn({key:0},i)),{arrow:Me(({style:u,side:d})=>[o.showArrow?($(),rt(S9,Bn({key:0},r,{style:u,side:d}),null,16,["style","side"])):Je("v-if",!0)]),default:Me(()=>[Qe(o.$slots,"default")]),_:3},16)):Je("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var xPe=It(wPe,[["__file","tooltip.vue"]]);const CPe=gn(xPe),SQ="left-check-change",wQ="right-check-change",_v=Et({data:{type:Ke(Array),default:()=>[]},titles:{type:Ke(Array),default:()=>[]},buttonTexts:{type:Ke(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:Ke(Function)},leftDefaultChecked:{type:Ke(Array),default:()=>[]},rightDefaultChecked:{type:Ke(Array),default:()=>[]},renderContent:{type:Ke(Function)},modelValue:{type:Ke(Array),default:()=>[]},format:{type:Ke(Object),default:()=>({})},filterable:Boolean,props:{type:Ke(Object),default:()=>wi({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),T5=(n,e)=>[n,e].every(St)||St(n)&&Ca(e),MPe={[Pr]:(n,e,t)=>[n,t].every(St)&&["left","right"].includes(e),[Tn]:n=>St(n),[SQ]:T5,[wQ]:T5},A5="checked-change",TPe=Et({data:_v.data,optionRender:{type:Ke(Function)},placeholder:String,title:String,filterable:Boolean,format:_v.format,filterMethod:_v.filterMethod,defaultChecked:_v.leftDefaultChecked,props:_v.props}),APe={[A5]:T5},kS=n=>{const e={label:"label",key:"key",disabled:"disabled"};return U(()=>({...e,...n.props}))},EPe=(n,e,t)=>{const r=kS(n),i=U(()=>n.data.filter(u=>Kt(n.filterMethod)?n.filterMethod(e.query,u):String(u[r.value.label]||u[r.value.key]).toLowerCase().includes(e.query.toLowerCase()))),a=U(()=>i.value.filter(u=>!u[r.value.disabled])),s=U(()=>{const u=e.checked.length,d=n.data.length,{noChecked:f,hasChecked:h}=n.format;return f&&h?u>0?h.replace(/\${checked}/g,u.toString()).replace(/\${total}/g,d.toString()):f.replace(/\${total}/g,d.toString()):`${u}/${d}`}),o=U(()=>{const u=e.checked.length;return u>0&&u<a.value.length}),l=()=>{const u=a.value.map(d=>d[r.value.key]);e.allChecked=u.length>0&&u.every(d=>e.checked.includes(d))},c=u=>{e.checked=u?a.value.map(d=>d[r.value.key]):[]};return dt(()=>e.checked,(u,d)=>{if(l(),e.checkChangeByUser){const f=u.concat(d).filter(h=>!u.includes(h)||!d.includes(h));t(A5,u,f)}else t(A5,u),e.checkChangeByUser=!0}),dt(a,()=>{l()}),dt(()=>n.data,()=>{const u=[],d=i.value.map(f=>f[r.value.key]);e.checked.forEach(f=>{d.includes(f)&&u.push(f)}),e.checkChangeByUser=!1,e.checked=u}),dt(()=>n.defaultChecked,(u,d)=>{if(d&&u.length===d.length&&u.every(p=>d.includes(p)))return;const f=[],h=a.value.map(p=>p[r.value.key]);u.forEach(p=>{h.includes(p)&&f.push(p)}),e.checkChangeByUser=!1,e.checked=f},{immediate:!0}),{filteredData:i,checkableData:a,checkedSummary:s,isIndeterminate:o,updateAllChecked:l,handleAllCheckedChange:c}},IPe=Pe({name:"ElTransferPanel"}),RPe=Pe({...IPe,props:TPe,emits:APe,setup(n,{expose:e,emit:t}){const r=n,i=Qi(),a=({option:b})=>b,{t:s}=nr(),o=yt("transfer"),l=pr({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),c=kS(r),{filteredData:u,checkedSummary:d,isIndeterminate:f,handleAllCheckedChange:h}=EPe(r,l,t),p=U(()=>!Wo(l.query)&&Wo(u.value)),m=U(()=>!Wo(i.default()[0].children)),{checked:g,allChecked:v,query:y}=aa(l);return e({query:y}),(b,_)=>($(),ge("div",{class:j(S(o).b("panel"))},[_e("p",{class:j(S(o).be("panel","header"))},[pe(S(ql),{modelValue:S(v),"onUpdate:modelValue":w=>Ur(v)?v.value=w:null,indeterminate:S(f),"validate-event":!1,onChange:S(h)},{default:Me(()=>[un(_t(b.title)+" ",1),_e("span",null,_t(S(d)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),_e("div",{class:j([S(o).be("panel","body"),S(o).is("with-footer",S(m))])},[b.filterable?($(),rt(S(Ls),{key:0,modelValue:S(y),"onUpdate:modelValue":w=>Ur(y)?y.value=w:null,class:j(S(o).be("panel","filter")),size:"default",placeholder:b.placeholder,"prefix-icon":S(rge),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):Je("v-if",!0),Sn(pe(S(jX),{modelValue:S(g),"onUpdate:modelValue":w=>Ur(g)?g.value=w:null,"validate-event":!1,class:j([S(o).is("filterable",b.filterable),S(o).be("panel","list")])},{default:Me(()=>[($(!0),ge(Bt,null,kn(S(u),w=>($(),rt(S(ql),{key:w[S(c).key],class:j(S(o).be("panel","item")),value:w[S(c).key],disabled:w[S(c).disabled],"validate-event":!1},{default:Me(()=>{var x;return[pe(a,{option:(x=b.optionRender)==null?void 0:x.call(b,w)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[lr,!S(p)&&!S(Wo)(b.data)]]),Sn(_e("div",{class:j(S(o).be("panel","empty"))},[Qe(b.$slots,"empty",{},()=>[un(_t(S(p)?S(s)("el.transfer.noMatch"):S(s)("el.transfer.noData")),1)])],2),[[lr,S(p)||S(Wo)(b.data)]])],2),S(m)?($(),ge("p",{key:0,class:j(S(o).be("panel","footer"))},[Qe(b.$slots,"default")],2)):Je("v-if",!0)],2))}});var A9=It(RPe,[["__file","transfer-panel.vue"]]);const PPe=n=>{const e=kS(n),t=U(()=>n.data.reduce((a,s)=>(a[s[e.value.key]]=s)&&a,{})),r=U(()=>n.data.filter(a=>!n.modelValue.includes(a[e.value.key]))),i=U(()=>n.targetOrder==="original"?n.data.filter(a=>n.modelValue.includes(a[e.value.key])):n.modelValue.reduce((a,s)=>{const o=t.value[s];return o&&a.push(o),a},[]));return{sourceData:r,targetData:i}},LPe=(n,e,t)=>{const r=kS(n),i=(o,l,c)=>{t(Tn,o),t(Pr,o,l,c)};return{addToLeft:()=>{const o=n.modelValue.slice();e.rightChecked.forEach(l=>{const c=o.indexOf(l);c>-1&&o.splice(c,1)}),i(o,"left",e.rightChecked)},addToRight:()=>{let o=n.modelValue.slice();const l=n.data.filter(c=>{const u=c[r.value.key];return e.leftChecked.includes(u)&&!n.modelValue.includes(u)}).map(c=>c[r.value.key]);o=n.targetOrder==="unshift"?l.concat(o):o.concat(l),n.targetOrder==="original"&&(o=n.data.filter(c=>o.includes(c[r.value.key])).map(c=>c[r.value.key])),i(o,"right",e.leftChecked)}}},DPe=(n,e)=>({onSourceCheckedChange:(i,a)=>{n.leftChecked=i,a&&e(SQ,i,a)},onTargetCheckedChange:(i,a)=>{n.rightChecked=i,a&&e(wQ,i,a)}}),kPe=Pe({name:"ElTransfer"}),OPe=Pe({...kPe,props:_v,emits:MPe,setup(n,{expose:e,emit:t}){const r=n,i=Qi(),{t:a}=nr(),s=yt("transfer"),{formItem:o}=hs(),l=pr({leftChecked:[],rightChecked:[]}),c=kS(r),{sourceData:u,targetData:d}=PPe(r),{onSourceCheckedChange:f,onTargetCheckedChange:h}=DPe(l,t),{addToLeft:p,addToRight:m}=LPe(r,l,t),g=te(),v=te(),y=C=>{switch(C){case"left":g.value.query="";break;case"right":v.value.query="";break}},b=U(()=>r.buttonTexts.length===2),_=U(()=>r.titles[0]||a("el.transfer.titles.0")),w=U(()=>r.titles[1]||a("el.transfer.titles.1")),x=U(()=>r.filterPlaceholder||a("el.transfer.filterPlaceholder"));dt(()=>r.modelValue,()=>{var C;r.validateEvent&&((C=o==null?void 0:o.validate)==null||C.call(o,"change").catch(T=>void 0))});const M=U(()=>C=>{var T;if(r.renderContent)return r.renderContent($t,C);const A=(((T=i.default)==null?void 0:T.call(i,{option:C}))||[]).filter(I=>I.type!==xa);return A.length?A:$t("span",C[c.value.label]||C[c.value.key])});return e({clearQuery:y,leftPanel:g,rightPanel:v}),(C,T)=>($(),ge("div",{class:j(S(s).b())},[pe(A9,{ref_key:"leftPanel",ref:g,data:S(u),"option-render":S(M),placeholder:S(x),title:S(_),filterable:C.filterable,format:C.format,"filter-method":C.filterMethod,"default-checked":C.leftDefaultChecked,props:r.props,onCheckedChange:S(f)},{empty:Me(()=>[Qe(C.$slots,"left-empty")]),default:Me(()=>[Qe(C.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),_e("div",{class:j(S(s).e("buttons"))},[pe(S(Ba),{type:"primary",class:j([S(s).e("button"),S(s).is("with-texts",S(b))]),disabled:S(Wo)(l.rightChecked),onClick:S(p)},{default:Me(()=>[pe(S(Gt),null,{default:Me(()=>[pe(S(mh))]),_:1}),S(Tr)(C.buttonTexts[0])?Je("v-if",!0):($(),ge("span",{key:0},_t(C.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),pe(S(Ba),{type:"primary",class:j([S(s).e("button"),S(s).is("with-texts",S(b))]),disabled:S(Wo)(l.leftChecked),onClick:S(m)},{default:Me(()=>[S(Tr)(C.buttonTexts[1])?Je("v-if",!0):($(),ge("span",{key:0},_t(C.buttonTexts[1]),1)),pe(S(Gt),null,{default:Me(()=>[pe(S(Zs))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),pe(A9,{ref_key:"rightPanel",ref:v,data:S(d),"option-render":S(M),placeholder:S(x),filterable:C.filterable,format:C.format,"filter-method":C.filterMethod,title:S(w),"default-checked":C.rightDefaultChecked,props:r.props,onCheckedChange:S(h)},{empty:Me(()=>[Qe(C.$slots,"right-empty")]),default:Me(()=>[Qe(C.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var NPe=It(OPe,[["__file","transfer.vue"]]);const BPe=gn(NPe),rg="$treeNodeId",E9=function(n,e){!e||e[rg]||Object.defineProperty(e,rg,{value:n.id,enumerable:!1,configurable:!1,writable:!1})},Mk=function(n,e){return n?e[n]:e[rg]},E5=(n,e,t)=>{const r=n.value.currentNode;t();const i=n.value.currentNode;r!==i&&e("current-change",i?i.data:null,i)},I5=n=>{let e=!0,t=!0,r=!0;for(let i=0,a=n.length;i<a;i++){const s=n[i];(s.checked!==!0||s.indeterminate)&&(e=!1,s.disabled||(r=!1)),(s.checked!==!1||s.indeterminate)&&(t=!1)}return{all:e,none:t,allWithoutDisable:r,half:!e&&!t}},K1=function(n){if(n.childNodes.length===0||n.loading)return;const{all:e,none:t,half:r}=I5(n.childNodes);e?(n.checked=!0,n.indeterminate=!1):r?(n.checked=!1,n.indeterminate=!0):t&&(n.checked=!1,n.indeterminate=!1);const i=n.parent;!i||i.level===0||n.store.checkStrictly||K1(i)},Lw=function(n,e){const t=n.store.props,r=n.data||{},i=t[e];if(Kt(i))return i(r,n);if(qt(i))return r[i];if(Tr(i)){const a=r[e];return a===void 0?"":a}};let FPe=0,R5=class Q2{constructor(e){this.id=FPe++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)ar(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const t=e.props;if(t&&typeof t.isLeaf<"u"){const a=Lw(this,"isLeaf");Vr(a)&&(this.isLeafByUser=a)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&!this.isLeafByUser&&this.expand(),St(this.data)||E9(this,this.data),!this.data)return;const r=e.defaultExpandedKeys,i=e.key;i&&r&&r.includes(this.key)&&this.expand(null,e.autoExpandParent),i&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){St(e)||E9(this,e),this.data=e,this.childNodes=[];let t;this.level===0&&St(this.data)?t=this.data:t=Lw(this,"children")||[];for(let r=0,i=t.length;r<i;r++)this.insertChild({data:t[r]})}get label(){return Lw(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return Lw(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some(r=>r===e||t&&r.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,t,r){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof Q2)){if(!r){const i=this.getChildren(!0);i.includes(e.data)||(Tr(t)||t<0?i.push(e.data):i.splice(t,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=pr(new Q2(e)),e instanceof Q2&&e.initialize()}e.level=this.level+1,Tr(t)||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()}insertBefore(e,t){let r;t&&(r=this.childNodes.indexOf(t)),this.insertChild(e,r)}insertAfter(e,t){let r;t&&(r=this.childNodes.indexOf(t),r!==-1&&(r+=1)),this.insertChild(e,r)}removeChild(e){const t=this.getChildren()||[],r=t.indexOf(e.data);r>-1&&t.splice(r,1);const i=this.childNodes.indexOf(e);i>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(i,1)),this.updateLeafState()}removeChildByData(e){let t=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===e){t=this.childNodes[r];break}t&&this.removeChild(t)}expand(e,t){const r=()=>{if(t){let i=this.parent;for(;i.level>0;)i.expanded=!0,i=i.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(i=>{i.canFocus=!0})};this.shouldLoadData()?this.loadData(i=>{St(i)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||K1(this),r())}):r()}doCreateChildren(e,t={}){e.forEach(r=>{this.insertChild(Object.assign({data:r},t),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,t,r,i){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:s,allWithoutDisable:o}=I5(this.childNodes);!this.isLeaf&&!s&&o&&(this.checked=!1,e=!1);const l=()=>{if(t){const c=this.childNodes;for(let f=0,h=c.length;f<h;f++){const p=c[f];i=i||e!==!1;const m=p.disabled?p.checked:i;p.setChecked(m,t,!0,i)}const{half:u,all:d}=I5(c);d||(this.checked=d,this.indeterminate=u)}};if(this.shouldLoadData()){this.loadData(()=>{l(),K1(this)},{checked:e!==!1});return}else l()}const a=this.parent;!a||a.level===0||r||K1(a)}getChildren(e=!1){if(this.level===0)return this.data;const t=this.data;if(!t)return null;const r=this.store.props;let i="children";return r&&(i=r.children||"children"),t[i]===void 0&&(t[i]=null),e&&!t[i]&&(t[i]=[]),t[i]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map(a=>a.data),r={},i=[];e.forEach((a,s)=>{const o=a[rg];!!o&&t.findIndex(c=>c[rg]===o)>=0?r[o]={index:s,data:a}:i.push({index:s,data:a})}),this.store.lazy||t.forEach(a=>{r[a[rg]]||this.removeChildByData(a)}),i.forEach(({index:a,data:s})=>{this.insertChild({data:s},a)}),this.updateLeafState()}loadData(e,t={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(t).length)){this.loading=!0;const r=a=>{this.childNodes=[],this.doCreateChildren(a,t),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,a)},i=()=>{this.loading=!1};this.store.load(this,r,i)}else e&&e.call(this)}eachNode(e){const t=[this];for(;t.length;){const r=t.shift();t.unshift(...r.childNodes),e(r)}}reInitChecked(){this.store.checkStrictly||K1(this)}};class zPe{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const t in e)ar(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new R5({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,t=>{this.root.doCreateChildren(t),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,r=this.lazy,i=function(a){const s=a.root?a.root.childNodes:a.childNodes;if(s.forEach(o=>{o.visible=t.call(o,e,o.data,o),i(o)}),!a.visible&&s.length){let o=!0;o=!s.some(l=>l.visible),a.root?a.root.visible=o===!1:a.visible=o===!1}e&&a.visible&&!a.isLeaf&&(!r||a.loaded)&&a.expand()};i(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof R5)return e;const t=Pn(e)?Mk(this.key,e):e;return this.nodesMap[t]||null}insertBefore(e,t){const r=this.getNode(t);r.parent.insertBefore({data:e},r)}insertAfter(e,t){const r=this.getNode(t);r.parent.insertAfter({data:e},r)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const r=C0(t)?this.root:this.getNode(t);r&&r.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach(r=>{const i=t[r];i&&i.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;!e||!e.data||(t?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const r=[],i=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(o=>{(o.checked||t&&o.indeterminate)&&(!e||e&&o.isLeaf)&&r.push(o.data),i(o)})};return i(this),r}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(t=>(t||{})[this.key])}getHalfCheckedNodes(){const e=[],t=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(a=>{a.indeterminate&&e.push(a.data),t(a)})};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],t=this.nodesMap;for(const r in t)ar(t,r)&&e.push(t[r]);return e}updateChildren(e,t){const r=this.nodesMap[e];if(!r)return;const i=r.childNodes;for(let a=i.length-1;a>=0;a--){const s=i[a];this.remove(s.data)}for(let a=0,s=t.length;a<s;a++){const o=t[a];this.append(o,r.data)}}_setCheckedKeys(e,t=!1,r){const i=this._getAllNodes().sort((l,c)=>l.level-c.level),a=Object.create(null),s=Object.keys(r);i.forEach(l=>l.setChecked(!1,!1));const o=l=>{l.childNodes.forEach(c=>{var u;a[c.data[e]]=!0,(u=c.childNodes)!=null&&u.length&&o(c)})};for(let l=0,c=i.length;l<c;l++){const u=i[l],d=u.data[e].toString();if(!s.includes(d)){u.checked&&!a[d]&&u.setChecked(!1,!1);continue}if(u.childNodes.length&&o(u),u.isLeaf||this.checkStrictly){u.setChecked(!0,!1);continue}if(u.setChecked(!0,!0),t){u.setChecked(!1,!1);const h=function(p){p.childNodes.forEach(g=>{g.isLeaf||g.setChecked(!1,!1),h(g)})};h(u)}}}setCheckedNodes(e,t=!1){const r=this.key,i={};e.forEach(a=>{i[(a||{})[r]]=!0}),this._setCheckedKeys(r,t,i)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const r=this.key,i={};e.forEach(a=>{i[a]=!0}),this._setCheckedKeys(r,t,i)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(t=>{const r=this.getNode(t);r&&r.expand(null,this.autoExpandParent)})}setChecked(e,t,r){const i=this.getNode(e);i&&i.setChecked(!!t,r)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){const r=e[this.key],i=this.nodesMap[r];this.setCurrentNode(i),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,t=!0){if(this.currentNodeKey=e,e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(e);r&&(this.setCurrentNode(r),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const UPe=Pe({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(n){const e=yt("tree"),t=Nt("NodeInstance"),r=Nt("RootTree");return()=>{const i=n.node,{data:a,store:s}=i;return n.renderContent?n.renderContent($t,{_self:t,node:i,data:a,store:s}):Qe(r.ctx.slots,"default",{node:i,data:a},()=>[$t("span",{class:e.be("node","label")},[i.label])])}}});var HPe=It(UPe,[["__file","tree-node-content.vue"]]);function xQ(n){const e=Nt("TreeNodeMap",null),t={treeNodeExpand:r=>{n.node!==r&&n.node.collapse()},children:[]};return e&&e.children.push(t),Vn("TreeNodeMap",t),{broadcastExpanded:r=>{if(n.accordion)for(const i of t.children)i.treeNodeExpand(r)}}}const CQ=Symbol("dragEvents");function VPe({props:n,ctx:e,el$:t,dropIndicator$:r,store:i}){const a=yt("tree"),s=te({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Vn(CQ,{treeNodeDragStart:({event:u,treeNode:d})=>{if(Kt(n.allowDrag)&&!n.allowDrag(d.node))return u.preventDefault(),!1;u.dataTransfer.effectAllowed="move";try{u.dataTransfer.setData("text/plain","")}catch{}s.value.draggingNode=d,e.emit("node-drag-start",d.node,u)},treeNodeDragOver:({event:u,treeNode:d})=>{const f=d,h=s.value.dropNode;h&&h.node.id!==f.node.id&&ks(h.$el,a.is("drop-inner"));const p=s.value.draggingNode;if(!p||!f)return;let m=!0,g=!0,v=!0,y=!0;Kt(n.allowDrop)&&(m=n.allowDrop(p.node,f.node,"prev"),y=g=n.allowDrop(p.node,f.node,"inner"),v=n.allowDrop(p.node,f.node,"next")),u.dataTransfer.dropEffect=g||m||v?"move":"none",(m||g||v)&&(h==null?void 0:h.node.id)!==f.node.id&&(h&&e.emit("node-drag-leave",p.node,h.node,u),e.emit("node-drag-enter",p.node,f.node,u)),m||g||v?s.value.dropNode=f:s.value.dropNode=null,f.node.nextSibling===p.node&&(v=!1),f.node.previousSibling===p.node&&(m=!1),f.node.contains(p.node,!1)&&(g=!1),(p.node===f.node||p.node.contains(f.node))&&(m=!1,g=!1,v=!1);const b=f.$el.querySelector(`.${a.be("node","content")}`).getBoundingClientRect(),_=t.value.getBoundingClientRect();let w;const x=m?g?.25:v?.45:1:-1,M=v?g?.75:m?.55:0:1;let C=-9999;const T=u.clientY-b.top;T<b.height*x?w="before":T>b.height*M?w="after":g?w="inner":w="none";const A=f.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),I=r.value;w==="before"?C=A.top-_.top:w==="after"&&(C=A.bottom-_.top),I.style.top=`${C}px`,I.style.left=`${A.right-_.left}px`,w==="inner"?Dl(f.$el,a.is("drop-inner")):ks(f.$el,a.is("drop-inner")),s.value.showDropIndicator=w==="before"||w==="after",s.value.allowDrop=s.value.showDropIndicator||y,s.value.dropType=w,e.emit("node-drag-over",p.node,f.node,u)},treeNodeDragEnd:u=>{const{draggingNode:d,dropType:f,dropNode:h}=s.value;if(u.preventDefault(),u.dataTransfer&&(u.dataTransfer.dropEffect="move"),d&&h){const p={data:d.node.data};f!=="none"&&d.node.remove(),f==="before"?h.node.parent.insertBefore(p,h.node):f==="after"?h.node.parent.insertAfter(p,h.node):f==="inner"&&h.node.insertChild(p),f!=="none"&&(i.value.registerNode(p),i.value.key&&d.node.eachNode(m=>{var g;(g=i.value.nodesMap[m.data[i.value.key]])==null||g.setChecked(m.checked,!i.value.checkStrictly)})),ks(h.$el,a.is("drop-inner")),e.emit("node-drag-end",d.node,h.node,f,u),f!=="none"&&e.emit("node-drop",d.node,h.node,f,u)}d&&!h&&e.emit("node-drag-end",d.node,null,f,u),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}}),{dragState:s}}const $Pe=Pe({name:"ElTreeNode",components:{ElCollapseTransition:tA,ElCheckbox:ql,NodeContent:HPe,ElIcon:Gt,Loading:mu},props:{node:{type:R5,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(n,e){const t=yt("tree"),{broadcastExpanded:r}=xQ(n),i=Nt("RootTree"),a=te(!1),s=te(!1),o=te(null),l=te(null),c=te(null),u=Nt(CQ),d=wn();Vn("NodeInstance",d),n.node.expanded&&(a.value=!0,s.value=!0);const f=i.props.props.children||"children";dt(()=>{const T=n.node.data[f];return T&&[...T]},()=>{n.node.updateChildren()}),dt(()=>n.node.indeterminate,T=>{m(n.node.checked,T)}),dt(()=>n.node.checked,T=>{m(T,n.node.indeterminate)}),dt(()=>n.node.childNodes.length,()=>n.node.reInitChecked()),dt(()=>n.node.expanded,T=>{Yt(()=>a.value=T),T&&(s.value=!0)});const h=T=>Mk(i.props.nodeKey,T.data),p=T=>{const A=n.props.class;if(!A)return{};let I;if(Kt(A)){const{data:L}=T;I=A(L,T)}else I=A;return qt(I)?{[I]:!0}:I},m=(T,A)=>{(o.value!==T||l.value!==A)&&i.ctx.emit("check-change",n.node.data,T,A),o.value=T,l.value=A},g=T=>{E5(i.store,i.ctx.emit,()=>{var A;if((A=i==null?void 0:i.props)==null?void 0:A.nodeKey){const L=h(n.node);i.store.value.setCurrentNodeKey(L)}else i.store.value.setCurrentNode(n.node)}),i.currentNode.value=n.node,i.props.expandOnClickNode&&y(),i.props.checkOnClickNode&&!n.node.disabled&&b(null,{target:{checked:!n.node.checked}}),i.ctx.emit("node-click",n.node.data,n.node,d,T)},v=T=>{i.instance.vnode.props.onNodeContextmenu&&(T.stopPropagation(),T.preventDefault()),i.ctx.emit("node-contextmenu",T,n.node.data,n.node,d)},y=()=>{n.node.isLeaf||(a.value?(i.ctx.emit("node-collapse",n.node.data,n.node,d),n.node.collapse()):n.node.expand(()=>{e.emit("node-expand",n.node.data,n.node,d)}))},b=(T,A)=>{n.node.setChecked(A.target.checked,!i.props.checkStrictly),Yt(()=>{const I=i.store.value;i.ctx.emit("check",n.node.data,{checkedNodes:I.getCheckedNodes(),checkedKeys:I.getCheckedKeys(),halfCheckedNodes:I.getHalfCheckedNodes(),halfCheckedKeys:I.getHalfCheckedKeys()})})};return{ns:t,node$:c,tree:i,expanded:a,childNodeRendered:s,oldChecked:o,oldIndeterminate:l,getNodeKey:h,getNodeClass:p,handleSelectChange:m,handleClick:g,handleContextMenu:v,handleExpandIconClick:y,handleCheckChange:b,handleChildNodeExpand:(T,A,I)=>{r(A),i.ctx.emit("node-expand",T,A,I)},handleDragStart:T=>{i.props.draggable&&u.treeNodeDragStart({event:T,treeNode:n})},handleDragOver:T=>{T.preventDefault(),i.props.draggable&&u.treeNodeDragOver({event:T,treeNode:{$el:c.value,node:n.node}})},handleDrop:T=>{T.preventDefault()},handleDragEnd:T=>{i.props.draggable&&u.treeNodeDragEnd(T)},CaretRight:jY}}});function GPe(n,e,t,r,i,a){const s=Lt("el-icon"),o=Lt("el-checkbox"),l=Lt("loading"),c=Lt("node-content"),u=Lt("el-tree-node"),d=Lt("el-collapse-transition");return Sn(($(),ge("div",{ref:"node$",class:j([n.ns.b("node"),n.ns.is("expanded",n.expanded),n.ns.is("current",n.node.isCurrent),n.ns.is("hidden",!n.node.visible),n.ns.is("focusable",!n.node.disabled),n.ns.is("checked",!n.node.disabled&&n.node.checked),n.getNodeClass(n.node)]),role:"treeitem",tabindex:"-1","aria-expanded":n.expanded,"aria-disabled":n.node.disabled,"aria-checked":n.node.checked,draggable:n.tree.props.draggable,"data-key":n.getNodeKey(n.node),onClick:sn(n.handleClick,["stop"]),onContextmenu:n.handleContextMenu,onDragstart:sn(n.handleDragStart,["stop"]),onDragover:sn(n.handleDragOver,["stop"]),onDragend:sn(n.handleDragEnd,["stop"]),onDrop:sn(n.handleDrop,["stop"])},[_e("div",{class:j(n.ns.be("node","content")),style:Ft({paddingLeft:(n.node.level-1)*n.tree.props.indent+"px"})},[n.tree.props.icon||n.CaretRight?($(),rt(s,{key:0,class:j([n.ns.be("node","expand-icon"),n.ns.is("leaf",n.node.isLeaf),{expanded:!n.node.isLeaf&&n.expanded}]),onClick:sn(n.handleExpandIconClick,["stop"])},{default:Me(()=>[($(),rt(Rn(n.tree.props.icon||n.CaretRight)))]),_:1},8,["class","onClick"])):Je("v-if",!0),n.showCheckbox?($(),rt(o,{key:1,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:!!n.node.disabled,onClick:sn(()=>{},["stop"]),onChange:n.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):Je("v-if",!0),n.node.loading?($(),rt(s,{key:2,class:j([n.ns.be("node","loading-icon"),n.ns.is("loading")])},{default:Me(()=>[pe(l)]),_:1},8,["class"])):Je("v-if",!0),pe(c,{node:n.node,"render-content":n.renderContent},null,8,["node","render-content"])],6),pe(d,null,{default:Me(()=>[!n.renderAfterExpand||n.childNodeRendered?Sn(($(),ge("div",{key:0,class:j(n.ns.be("node","children")),role:"group","aria-expanded":n.expanded},[($(!0),ge(Bt,null,kn(n.node.childNodes,f=>($(),rt(u,{key:n.getNodeKey(f),"render-content":n.renderContent,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,node:f,accordion:n.accordion,props:n.props,onNodeExpand:n.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[lr,n.expanded]]):Je("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[lr,n.node.visible]])}var WPe=It($Pe,[["render",GPe],["__file","tree-node.vue"]]);function qPe({el$:n},e){const t=yt("tree"),r=Cr([]),i=Cr([]);dn(()=>{s()}),Io(()=>{r.value=Array.from(n.value.querySelectorAll("[role=treeitem]")),i.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"))}),dt(i,o=>{o.forEach(l=>{l.setAttribute("tabindex","-1")})}),Ar(n,"keydown",o=>{const l=o.target;if(!l.className.includes(t.b("node")))return;const c=o.code;r.value=Array.from(n.value.querySelectorAll(`.${t.is("focusable")}[role=treeitem]`));const u=r.value.indexOf(l);let d;if([Ot.up,Ot.down].includes(c)){if(o.preventDefault(),c===Ot.up){d=u===-1?0:u!==0?u-1:r.value.length-1;const h=d;for(;!e.value.getNode(r.value[d].dataset.key).canFocus;){if(d--,d===h){d=-1;break}d<0&&(d=r.value.length-1)}}else{d=u===-1?0:u<r.value.length-1?u+1:0;const h=d;for(;!e.value.getNode(r.value[d].dataset.key).canFocus;){if(d++,d===h){d=-1;break}d>=r.value.length&&(d=0)}}d!==-1&&r.value[d].focus()}[Ot.left,Ot.right].includes(c)&&(o.preventDefault(),l.click());const f=l.querySelector('[type="checkbox"]');[Ot.enter,Ot.numpadEnter,Ot.space].includes(c)&&f&&(o.preventDefault(),f.click())});const s=()=>{var o;r.value=Array.from(n.value.querySelectorAll(`.${t.is("focusable")}[role=treeitem]`)),i.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"));const l=n.value.querySelectorAll(`.${t.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(o=r.value[0])==null||o.setAttribute("tabindex","0")}}const KPe=Pe({name:"ElTree",components:{ElTreeNode:WPe},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Dr}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(n,e){const{t}=nr(),r=yt("tree"),i=Nt(_y,null),a=te(new zPe({key:n.nodeKey,data:n.data,lazy:n.lazy,props:n.props,load:n.load,currentNodeKey:n.currentNodeKey,checkStrictly:n.checkStrictly,checkDescendants:n.checkDescendants,defaultCheckedKeys:n.defaultCheckedKeys,defaultExpandedKeys:n.defaultExpandedKeys,autoExpandParent:n.autoExpandParent,defaultExpandAll:n.defaultExpandAll,filterNodeMethod:n.filterNodeMethod}));a.value.initialize();const s=te(a.value.root),o=te(null),l=te(null),c=te(null),{broadcastExpanded:u}=xQ(n),{dragState:d}=VPe({props:n,ctx:e,el$:l,dropIndicator$:c,store:a});qPe({el$:l},a);const f=U(()=>{const{childNodes:z}=s.value,B=i?i.hasFilteredOptions!==0:!1;return(!z||z.length===0||z.every(({visible:W})=>!W))&&!B});dt(()=>n.currentNodeKey,z=>{a.value.setCurrentNodeKey(z)}),dt(()=>n.defaultCheckedKeys,z=>{a.value.setDefaultCheckedKey(z)}),dt(()=>n.defaultExpandedKeys,z=>{a.value.setDefaultExpandedKeys(z)}),dt(()=>n.data,z=>{a.value.setData(z)},{deep:!0}),dt(()=>n.checkStrictly,z=>{a.value.checkStrictly=z});const h=z=>{if(!n.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(z)},p=z=>Mk(n.nodeKey,z.data),m=z=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const B=a.value.getNode(z);if(!B)return[];const W=[B.data];let Z=B.parent;for(;Z&&Z!==s.value;)W.push(Z.data),Z=Z.parent;return W.reverse()},g=(z,B)=>a.value.getCheckedNodes(z,B),v=z=>a.value.getCheckedKeys(z),y=()=>{const z=a.value.getCurrentNode();return z?z.data:null},b=()=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const z=y();return z?z[n.nodeKey]:null},_=(z,B)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(z,B)},w=(z,B)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(z,B)},x=(z,B,W)=>{a.value.setChecked(z,B,W)},M=()=>a.value.getHalfCheckedNodes(),C=()=>a.value.getHalfCheckedKeys(),T=(z,B=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");E5(a,e.emit,()=>{u(z),a.value.setUserCurrentNode(z,B)})},A=(z,B=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");E5(a,e.emit,()=>{u(),a.value.setCurrentNodeKey(z,B)})},I=z=>a.value.getNode(z),L=z=>{a.value.remove(z)},k=(z,B)=>{a.value.append(z,B)},N=(z,B)=>{a.value.insertBefore(z,B)},F=(z,B)=>{a.value.insertAfter(z,B)},D=(z,B,W)=>{u(B),e.emit("node-expand",z,B,W)},H=(z,B)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(z,B)};return Vn("RootTree",{ctx:e,props:n,store:a,root:s,currentNode:o,instance:wn()}),Vn(vu,void 0),{ns:r,store:a,root:s,currentNode:o,dragState:d,el$:l,dropIndicator$:c,isEmpty:f,filter:h,getNodeKey:p,getNodePath:m,getCheckedNodes:g,getCheckedKeys:v,getCurrentNode:y,getCurrentKey:b,setCheckedNodes:_,setCheckedKeys:w,setChecked:x,getHalfCheckedNodes:M,getHalfCheckedKeys:C,setCurrentNode:T,setCurrentKey:A,t,getNode:I,remove:L,append:k,insertBefore:N,insertAfter:F,handleNodeExpand:D,updateKeyChildren:H}}});function YPe(n,e,t,r,i,a){const s=Lt("el-tree-node");return $(),ge("div",{ref:"el$",class:j([n.ns.b(),n.ns.is("dragging",!!n.dragState.draggingNode),n.ns.is("drop-not-allow",!n.dragState.allowDrop),n.ns.is("drop-inner",n.dragState.dropType==="inner"),{[n.ns.m("highlight-current")]:n.highlightCurrent}]),role:"tree"},[($(!0),ge(Bt,null,kn(n.root.childNodes,o=>($(),rt(s,{key:n.getNodeKey(o),node:o,props:n.props,accordion:n.accordion,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,"render-content":n.renderContent,onNodeExpand:n.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),n.isEmpty?($(),ge("div",{key:0,class:j(n.ns.e("empty-block"))},[Qe(n.$slots,"empty",{},()=>{var o;return[_e("span",{class:j(n.ns.e("empty-text"))},_t((o=n.emptyText)!=null?o:n.t("el.tree.emptyText")),3)]})],2)):Je("v-if",!0),Sn(_e("div",{ref:"dropIndicator$",class:j(n.ns.e("drop-indicator"))},null,2),[[lr,n.dragState.showDropIndicator]])],2)}var XPe=It(KPe,[["render",YPe],["__file","tree.vue"]]);const fM=gn(XPe),jPe=(n,{attrs:e,emit:t},{select:r,tree:i,key:a})=>{const s=yt("tree-select");return dt(()=>n.data,()=>{n.filterable&&Yt(()=>{var l,c;(c=i.value)==null||c.filter((l=r.value)==null?void 0:l.states.inputValue)})},{flush:"post"}),{...vc(aa(n),Object.keys(A0.props)),...e,"onUpdate:modelValue":l=>t(Tn,l),valueKey:a,popperClass:U(()=>{const l=[s.e("popper")];return n.popperClass&&l.push(n.popperClass),l.join(" ")}),filterMethod:(l="")=>{var c;n.filterMethod?n.filterMethod(l):n.remoteMethod?n.remoteMethod(l):(c=i.value)==null||c.filter(l)}}},ZPe=Pe({extends:JC,setup(n,e){const t=JC.setup(n,e);delete t.selectOptionClick;const r=wn().proxy;return Yt(()=>{t.select.states.cachedOptions.get(r.value)||t.select.onOptionCreate(r)}),dt(()=>e.attrs.visible,i=>{t.states.visible=i},{immediate:!0}),t},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function P5(n){return n||n===0}function Tk(n){return St(n)&&n.length}function mm(n){return St(n)?n:P5(n)?[n]:[]}function J2(n,e,t,r,i){for(let a=0;a<n.length;a++){const s=n[a];if(e(s,a,n,i))return r?r(s,a,n,i):s;{const o=t(s);if(Tk(o)){const l=J2(o,e,t,r,s);if(l)return l}}}}function eC(n,e,t,r){for(let i=0;i<n.length;i++){const a=n[i];e(a,i,n,r);const s=t(a);Tk(s)&&eC(s,e,t,a)}}const QPe=(n,{attrs:e,slots:t,emit:r},{select:i,tree:a,key:s})=>{dt(()=>n.modelValue,()=>{n.showCheckbox&&Yt(()=>{const f=a.value;f&&!Ka(f.getCheckedKeys(),mm(n.modelValue))&&f.setCheckedKeys(mm(n.modelValue))})},{immediate:!0,deep:!0});const o=U(()=>({value:s.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...n.props})),l=(f,h)=>{var p;const m=o.value[f];return Kt(m)?m(h,(p=a.value)==null?void 0:p.getNode(l("value",h))):h[m]},c=mm(n.modelValue).map(f=>J2(n.data||[],h=>l("value",h)===f,h=>l("children",h),(h,p,m,g)=>g&&l("value",g))).filter(f=>P5(f)),u=U(()=>{if(!n.renderAfterExpand&&!n.lazy)return[];const f=[];return eC(n.data.concat(n.cacheData),h=>{const p=l("value",h);f.push({value:p,currentLabel:l("label",h),isDisabled:l("disabled",h)})},h=>l("children",h)),f}),d=()=>{var f;return(f=a.value)==null?void 0:f.getCheckedKeys().filter(h=>{var p;const m=(p=a.value)==null?void 0:p.getNode(h);return!Ca(m)&&Wo(m.childNodes)})};return{...vc(aa(n),Object.keys(fM.props)),...e,nodeKey:s,expandOnClickNode:U(()=>!n.checkStrictly&&n.expandOnClickNode),defaultExpandedKeys:U(()=>n.defaultExpandedKeys?n.defaultExpandedKeys.concat(c):c),renderContent:(f,{node:h,data:p,store:m})=>f(ZPe,{value:l("value",p),label:l("label",p),disabled:l("disabled",p),visible:h.visible},n.renderContent?()=>n.renderContent(f,{node:h,data:p,store:m}):t.default?()=>t.default({node:h,data:p,store:m}):void 0),filterNodeMethod:(f,h,p)=>n.filterNodeMethod?n.filterNodeMethod(f,h,p):f?new RegExp(B6(f),"i").test(l("label",h)||""):!0,onNodeClick:(f,h,p)=>{var m,g,v,y;if((m=e.onNodeClick)==null||m.call(e,f,h,p),!(n.showCheckbox&&n.checkOnClickNode)){if(!n.showCheckbox&&(n.checkStrictly||h.isLeaf)){if(!l("disabled",f)){const b=(g=i.value)==null?void 0:g.states.options.get(l("value",f));(v=i.value)==null||v.handleOptionSelect(b)}}else n.expandOnClickNode&&p.proxy.handleExpandIconClick();(y=i.value)==null||y.focus()}},onCheck:(f,h)=>{var p;if(!n.showCheckbox)return;const m=l("value",f),g={};eC([a.value.store.root],_=>g[_.key]=_,_=>_.childNodes);const v=h.checkedKeys,y=n.multiple?mm(n.modelValue).filter(_=>!(_ in g)&&!v.includes(_)):[],b=y.concat(v);if(n.checkStrictly)r(Tn,n.multiple?b:b.includes(m)?m:void 0);else if(n.multiple){const _=d();r(Tn,y.concat(_))}else{const _=J2([f],M=>!Tk(l("children",M))&&!l("disabled",M),M=>l("children",M)),w=_?l("value",_):void 0,x=P5(n.modelValue)&&!!J2([f],M=>l("value",M)===n.modelValue,M=>l("children",M));r(Tn,w===n.modelValue||x?void 0:w)}Yt(()=>{var _;const w=mm(n.modelValue);a.value.setCheckedKeys(w),(_=e.onCheck)==null||_.call(e,f,{checkedKeys:a.value.getCheckedKeys(),checkedNodes:a.value.getCheckedNodes(),halfCheckedKeys:a.value.getHalfCheckedKeys(),halfCheckedNodes:a.value.getHalfCheckedNodes()})}),(p=i.value)==null||p.focus()},onNodeExpand:(f,h,p)=>{var m;(m=e.onNodeExpand)==null||m.call(e,f,h,p),Yt(()=>{if(!n.checkStrictly&&n.lazy&&n.multiple&&h.checked){const g={},v=a.value.getCheckedKeys();eC([a.value.store.root],_=>g[_.key]=_,_=>_.childNodes);const y=mm(n.modelValue).filter(_=>!(_ in g)&&!v.includes(_)),b=d();r(Tn,y.concat(b))}})},cacheOptions:u}};var JPe=Pe({props:{data:{type:Array,default:()=>[]}},setup(n){const e=Nt(_y);return dt(()=>n.data,()=>{var t;n.data.forEach(i=>{e.states.cachedOptions.has(i.value)||e.states.cachedOptions.set(i.value,i)});const r=((t=e.selectRef)==null?void 0:t.querySelectorAll("input"))||[];tr&&!Array.from(r).includes(document.activeElement)&&e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const eLe=Pe({name:"ElTreeSelect",inheritAttrs:!1,props:{...A0.props,...fM.props,cacheData:{type:Array,default:()=>[]}},setup(n,e){const{slots:t,expose:r}=e,i=te(),a=te(),s=U(()=>n.nodeKey||n.valueKey||"value"),o=jPe(n,e,{select:i,tree:a,key:s}),{cacheOptions:l,...c}=QPe(n,e,{select:i,tree:a,key:s}),u=pr({});return r(u),dn(()=>{Object.assign(u,{...vc(a.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...vc(i.value,["focus","blur","selectedLabel"])})}),()=>$t(A0,pr({...o,ref:d=>i.value=d}),{...t,default:()=>[$t(JPe,{data:l.value}),$t(fM,pr({...c,ref:d=>a.value=d}))]})}});var tLe=It(eLe,[["__file","tree-select.vue"]]);const nLe=gn(tLe),Ak=Symbol(),rLe={key:-1,level:-1,data:{}};var Y1=(n=>(n.KEY="id",n.LABEL="label",n.CHILDREN="children",n.DISABLED="disabled",n.CLASS="",n))(Y1||{}),L5=(n=>(n.ADD="add",n.DELETE="delete",n))(L5||{});const MQ={type:Number,default:26},iLe=Et({data:{type:Ke(Array),default:()=>wi([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:Ke(Object),default:()=>wi({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:Ke(Array),default:()=>wi([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:Ke(Array),default:()=>wi([])},indent:{type:Number,default:16},itemSize:MQ,icon:{type:Dr},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:Ke([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:Ke(Function)},perfMode:{type:Boolean,default:!0}}),aLe=Et({node:{type:Ke(Object),default:()=>wi(rLe)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:MQ}),sLe=Et({node:{type:Ke(Object),required:!0}}),TQ="node-click",AQ="node-drop",EQ="node-expand",IQ="node-collapse",RQ="current-change",PQ="check",LQ="check-change",DQ="node-contextmenu",oLe={[TQ]:(n,e,t)=>n&&e&&t,[AQ]:(n,e,t)=>n&&e&&t,[EQ]:(n,e)=>n&&e,[IQ]:(n,e)=>n&&e,[RQ]:(n,e)=>n&&e,[PQ]:(n,e)=>n&&e,[LQ]:(n,e)=>n&&Vr(e),[DQ]:(n,e,t)=>n&&e&&t},lLe={click:(n,e)=>!!(n&&e),drop:(n,e)=>!!(n&&e),toggle:n=>!!n,check:(n,e)=>n&&Vr(e)};function cLe(n,e){const t=te(new Set),r=te(new Set),{emit:i}=wn();dt([()=>e.value,()=>n.defaultCheckedKeys],()=>Yt(()=>{y(n.defaultCheckedKeys)}),{immediate:!0});const a=()=>{if(!e.value||!n.showCheckbox||n.checkStrictly)return;const{levelTreeNodeMap:b,maxLevel:_}=e.value,w=t.value,x=new Set;for(let M=_-1;M>=1;--M){const C=b.get(M);C&&C.forEach(T=>{const A=T.children;if(A){let I=!0,L=!1;for(const k of A){const N=k.key;if(w.has(N))L=!0;else if(x.has(N)){I=!1,L=!0;break}else I=!1}I?w.add(T.key):L?(x.add(T.key),w.delete(T.key)):(w.delete(T.key),x.delete(T.key))}})}r.value=x},s=b=>t.value.has(b.key),o=b=>r.value.has(b.key),l=(b,_,w=!0,x=!0)=>{const M=t.value,C=(T,A)=>{M[A?L5.ADD:L5.DELETE](T.key);const I=T.children;!n.checkStrictly&&I&&I.forEach(L=>{L.disabled||C(L,A)})};C(b,_),x&&a(),w&&c(b,_)},c=(b,_)=>{const{checkedNodes:w,checkedKeys:x}=p(),{halfCheckedNodes:M,halfCheckedKeys:C}=m();i(PQ,b.data,{checkedKeys:x,checkedNodes:w,halfCheckedKeys:C,halfCheckedNodes:M}),i(LQ,b.data,_)};function u(b=!1){return p(b).checkedKeys}function d(b=!1){return p(b).checkedNodes}function f(){return m().halfCheckedKeys}function h(){return m().halfCheckedNodes}function p(b=!1){const _=[],w=[];if(e!=null&&e.value&&n.showCheckbox){const{treeNodeMap:x}=e.value;t.value.forEach(M=>{const C=x.get(M);C&&(!b||b&&C.isLeaf)&&(w.push(M),_.push(C.data))})}return{checkedKeys:w,checkedNodes:_}}function m(){const b=[],_=[];if(e!=null&&e.value&&n.showCheckbox){const{treeNodeMap:w}=e.value;r.value.forEach(x=>{const M=w.get(x);M&&(_.push(x),b.push(M.data))})}return{halfCheckedNodes:b,halfCheckedKeys:_}}function g(b){t.value.clear(),r.value.clear(),Yt(()=>{y(b)})}function v(b,_){if(e!=null&&e.value&&n.showCheckbox){const w=e.value.treeNodeMap.get(b);w&&l(w,_,!1)}}function y(b){if(e!=null&&e.value){const{treeNodeMap:_}=e.value;if(n.showCheckbox&&_&&(b==null?void 0:b.length)>0){for(const w of b){const x=_.get(w);x&&!s(x)&&l(x,!0,!1,!1)}a()}}}return{updateCheckedKeys:a,toggleCheckbox:l,isChecked:s,isIndeterminate:o,getCheckedKeys:u,getCheckedNodes:d,getHalfCheckedKeys:f,getHalfCheckedNodes:h,setChecked:v,setCheckedKeys:g}}function uLe(n,e){const t=te(new Set([])),r=te(new Set([])),i=U(()=>Kt(n.filterMethod));function a(o){var l;if(!i.value)return;const c=new Set,u=r.value,d=t.value,f=[],h=((l=e.value)==null?void 0:l.treeNodes)||[],p=n.filterMethod;d.clear();function m(g){g.forEach(v=>{f.push(v),p!=null&&p(o,v.data,v)?f.forEach(b=>{c.add(b.key)}):v.isLeaf&&d.add(v.key);const y=v.children;if(y&&m(y),!v.isLeaf){if(!c.has(v.key))d.add(v.key);else if(y){let b=!0;for(const _ of y)if(!d.has(_.key)){b=!1;break}b?u.add(v.key):u.delete(v.key)}}f.pop()})}return m(h),c}function s(o){return r.value.has(o.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:t,doFilter:a,isForceHiddenExpandIcon:s}}function dLe(n,e){const t=te(new Set(n.defaultExpandedKeys)),r=te(),i=Cr(),a=te();dt(()=>n.currentNodeKey,K=>{r.value=K},{immediate:!0}),dt(()=>n.data,K=>{Re(K)},{immediate:!0});const{isIndeterminate:s,isChecked:o,toggleCheckbox:l,getCheckedKeys:c,getCheckedNodes:u,getHalfCheckedKeys:d,getHalfCheckedNodes:f,setChecked:h,setCheckedKeys:p}=cLe(n,i),{doFilter:m,hiddenNodeKeySet:g,isForceHiddenExpandIcon:v}=uLe(n,i),y=U(()=>{var K;return((K=n.props)==null?void 0:K.value)||Y1.KEY}),b=U(()=>{var K;return((K=n.props)==null?void 0:K.children)||Y1.CHILDREN}),_=U(()=>{var K;return((K=n.props)==null?void 0:K.disabled)||Y1.DISABLED}),w=U(()=>{var K;return((K=n.props)==null?void 0:K.label)||Y1.LABEL}),x=U(()=>{var K;const ue=t.value,ie=g.value,$e=[],Ne=((K=i.value)==null?void 0:K.treeNodes)||[],Ye=[];for(let ce=Ne.length-1;ce>=0;--ce)Ye.push(Ne[ce]);for(;Ye.length;){const ce=Ye.pop();if(!ie.has(ce.key)&&($e.push(ce),ce.children&&ue.has(ce.key)))for(let he=ce.children.length-1;he>=0;--he)Ye.push(ce.children[he])}return $e}),M=U(()=>x.value.length>0);function C(K){const ue=new Map,ie=new Map;let $e=1;function Ne(ce,he=1,ke=void 0){var oe;const V=[];for(const Y of ce){const Q=I(Y),we={level:he,key:Q,data:Y};we.label=k(Y),we.parent=ke;const Ue=A(Y);we.disabled=L(Y),we.isLeaf=!Ue||Ue.length===0,Ue&&Ue.length&&(we.children=Ne(Ue,he+1,we)),V.push(we),ue.set(Q,we),ie.has(he)||ie.set(he,[]),(oe=ie.get(he))==null||oe.push(we)}return he>$e&&($e=he),V}const Ye=Ne(K);return{treeNodeMap:ue,levelTreeNodeMap:ie,maxLevel:$e,treeNodes:Ye}}function T(K){const ue=m(K);ue&&(t.value=ue)}function A(K){return K[b.value]}function I(K){return K?K[y.value]:""}function L(K){return K[_.value]}function k(K){return K[w.value]}function N(K){t.value.has(K.key)?Z(K):W(K)}function F(K){const ue=new Set,ie=i.value.treeNodeMap;K.forEach($e=>{let Ne=ie.get($e);for(;Ne&&!ue.has(Ne.key);)ue.add(Ne.key),Ne=Ne.parent}),t.value=ue}function D(K,ue){e(TQ,K.data,K,ue),z(K),n.expandOnClickNode&&N(K),n.showCheckbox&&n.checkOnClickNode&&!K.disabled&&l(K,!o(K),!0)}function H(K,ue){e(AQ,K.data,K,ue)}function z(K){re(K)||(r.value=K.key,e(RQ,K.data,K))}function B(K,ue){l(K,ue)}function W(K){const ue=t.value;if(i.value&&n.accordion){const{treeNodeMap:ie}=i.value;ue.forEach($e=>{const Ne=ie.get($e);K&&K.level===(Ne==null?void 0:Ne.level)&&ue.delete($e)})}ue.add(K.key),e(EQ,K.data,K)}function Z(K){t.value.delete(K.key),e(IQ,K.data,K)}function ee(K){return t.value.has(K.key)}function J(K){return!!K.disabled}function re(K){const ue=r.value;return ue!==void 0&&ue===K.key}function fe(){var K,ue;if(r.value)return(ue=(K=i.value)==null?void 0:K.treeNodeMap.get(r.value))==null?void 0:ue.data}function de(){return r.value}function me(K){r.value=K}function Re(K){Yt(()=>i.value=C(K))}function De(K){var ue;const ie=Pn(K)?I(K):K;return(ue=i.value)==null?void 0:ue.treeNodeMap.get(ie)}function Ge(K,ue="auto"){const ie=De(K);ie&&a.value&&a.value.scrollToItem(x.value.indexOf(ie),ue)}function We(K){var ue;(ue=a.value)==null||ue.scrollTo(K)}return{tree:i,flattenTree:x,isNotEmpty:M,listRef:a,getKey:I,getChildren:A,toggleExpand:N,toggleCheckbox:l,isExpanded:ee,isChecked:o,isIndeterminate:s,isDisabled:J,isCurrent:re,isForceHiddenExpandIcon:v,handleNodeClick:D,handleNodeDrop:H,handleNodeCheck:B,getCurrentNode:fe,getCurrentKey:de,setCurrentKey:me,getCheckedKeys:c,getCheckedNodes:u,getHalfCheckedKeys:d,getHalfCheckedNodes:f,setChecked:h,setCheckedKeys:p,filter:T,setData:Re,getNode:De,expandNode:W,collapseNode:Z,setExpandedKeys:F,scrollToNode:Ge,scrollTo:We}}var fLe=Pe({name:"ElTreeNodeContent",props:sLe,setup(n){const e=Nt(Ak),t=yt("tree");return()=>{const r=n.node,{data:i}=r;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:r,data:i}):$t("span",{class:t.be("node","label")},[r==null?void 0:r.label])}}});const hLe=Pe({name:"ElTreeNode"}),pLe=Pe({...hLe,props:aLe,emits:lLe,setup(n,{emit:e}){const t=n,r=Nt(Ak),i=yt("tree"),a=U(()=>{var h;return(h=r==null?void 0:r.props.indent)!=null?h:16}),s=U(()=>{var h;return(h=r==null?void 0:r.props.icon)!=null?h:jY}),o=h=>{const p=r==null?void 0:r.props.props.class;if(!p)return{};let m;if(Kt(p)){const{data:g}=h;m=p(g,h)}else m=p;return qt(m)?{[m]:!0}:m},l=h=>{e("click",t.node,h)},c=h=>{e("drop",t.node,h)},u=()=>{e("toggle",t.node)},d=h=>{e("check",t.node,h)},f=h=>{var p,m,g,v;(g=(m=(p=r==null?void 0:r.instance)==null?void 0:p.vnode)==null?void 0:m.props)!=null&&g.onNodeContextmenu&&(h.stopPropagation(),h.preventDefault()),r==null||r.ctx.emit(DQ,h,(v=t.node)==null?void 0:v.data,t.node)};return(h,p)=>{var m,g,v;return $(),ge("div",{ref:"node$",class:j([S(i).b("node"),S(i).is("expanded",h.expanded),S(i).is("current",h.current),S(i).is("focusable",!h.disabled),S(i).is("checked",!h.disabled&&h.checked),o(h.node)]),role:"treeitem",tabindex:"-1","aria-expanded":h.expanded,"aria-disabled":h.disabled,"aria-checked":h.checked,"data-key":(m=h.node)==null?void 0:m.key,onClick:sn(l,["stop"]),onContextmenu:f,onDragover:sn(()=>{},["prevent"]),onDragenter:sn(()=>{},["prevent"]),onDrop:sn(c,["stop"])},[_e("div",{class:j(S(i).be("node","content")),style:Ft({paddingLeft:`${(h.node.level-1)*S(a)}px`,height:h.itemSize+"px"})},[S(s)?($(),rt(S(Gt),{key:0,class:j([S(i).is("leaf",!!((g=h.node)!=null&&g.isLeaf)),S(i).is("hidden",h.hiddenExpandIcon),{expanded:!((v=h.node)!=null&&v.isLeaf)&&h.expanded},S(i).be("node","expand-icon")]),onClick:sn(u,["stop"])},{default:Me(()=>[($(),rt(Rn(S(s))))]),_:1},8,["class","onClick"])):Je("v-if",!0),h.showCheckbox?($(),rt(S(ql),{key:1,"model-value":h.checked,indeterminate:h.indeterminate,disabled:h.disabled,onChange:d,onClick:sn(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):Je("v-if",!0),pe(S(fLe),{node:h.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var mLe=It(pLe,[["__file","tree-node.vue"]]);const vLe=Pe({name:"ElTreeV2"}),gLe=Pe({...vLe,props:iLe,emits:oLe,setup(n,{expose:e,emit:t}){const r=n,i=Qi(),a=U(()=>r.itemSize);Vn(Ak,{ctx:{emit:t,slots:i},props:r,instance:wn()}),Vn(vu,void 0);const{t:s}=nr(),o=yt("tree"),{flattenTree:l,isNotEmpty:c,listRef:u,toggleExpand:d,isExpanded:f,isIndeterminate:h,isChecked:p,isDisabled:m,isCurrent:g,isForceHiddenExpandIcon:v,handleNodeClick:y,handleNodeDrop:b,handleNodeCheck:_,toggleCheckbox:w,getCurrentNode:x,getCurrentKey:M,setCurrentKey:C,getCheckedKeys:T,getCheckedNodes:A,getHalfCheckedKeys:I,getHalfCheckedNodes:L,setChecked:k,setCheckedKeys:N,filter:F,setData:D,getNode:H,expandNode:z,collapseNode:B,setExpandedKeys:W,scrollToNode:Z,scrollTo:ee}=dLe(r,t);return e({toggleCheckbox:w,getCurrentNode:x,getCurrentKey:M,setCurrentKey:C,getCheckedKeys:T,getCheckedNodes:A,getHalfCheckedKeys:I,getHalfCheckedNodes:L,setChecked:k,setCheckedKeys:N,filter:F,setData:D,getNode:H,expandNode:z,collapseNode:B,setExpandedKeys:W,scrollToNode:Z,scrollTo:ee}),(J,re)=>($(),ge("div",{class:j([S(o).b(),{[S(o).m("highlight-current")]:J.highlightCurrent}]),role:"tree"},[S(c)?($(),rt(S(vZ),{key:0,ref_key:"listRef",ref:u,"class-name":S(o).b("virtual-list"),data:S(l),total:S(l).length,height:J.height,"item-size":S(a),"perf-mode":J.perfMode},{default:Me(({data:fe,index:de,style:me})=>[($(),rt(mLe,{key:fe[de].key,style:Ft(me),node:fe[de],expanded:S(f)(fe[de]),"show-checkbox":J.showCheckbox,checked:S(p)(fe[de]),indeterminate:S(h)(fe[de]),"item-size":S(a),disabled:S(m)(fe[de]),current:S(g)(fe[de]),"hidden-expand-icon":S(v)(fe[de]),onClick:S(y),onToggle:S(d),onCheck:S(_),onDrop:S(b)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):($(),ge("div",{key:1,class:j(S(o).e("empty-block"))},[Qe(J.$slots,"empty",{},()=>{var fe;return[_e("span",{class:j(S(o).e("empty-text"))},_t((fe=J.emptyText)!=null?fe:S(s)("el.tree.emptyText")),3)]})],2))],2))}});var yLe=It(gLe,[["__file","tree.vue"]]);const bLe=gn(yLe),kQ=Symbol("uploadContextKey"),_Le="ElUpload";class SLe extends Error{constructor(e,t,r,i){super(e),this.name="UploadAjaxError",this.status=t,this.method=r,this.url=i}}function I9(n,e,t){let r;return t.response?r=`${t.response.error||t.response}`:t.responseText?r=`${t.responseText}`:r=`fail to ${e.method} ${n} ${t.status}`,new SLe(r,t.status,e.method,n)}function wLe(n){const e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const xLe=n=>{typeof XMLHttpRequest>"u"&&va(_Le,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,t=n.action;e.upload&&e.upload.addEventListener("progress",a=>{const s=a;s.percent=a.total>0?a.loaded/a.total*100:0,n.onProgress(s)});const r=new FormData;if(n.data)for(const[a,s]of Object.entries(n.data))St(s)&&s.length?r.append(a,...s):r.append(a,s);r.append(n.filename,n.file,n.file.name),e.addEventListener("error",()=>{n.onError(I9(t,n,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return n.onError(I9(t,n,e));n.onSuccess(wLe(e))}),e.open(n.method,t,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const i=n.headers||{};if(i instanceof Headers)i.forEach((a,s)=>e.setRequestHeader(s,a));else for(const[a,s]of Object.entries(i))Ca(s)||e.setRequestHeader(a,String(s));return e.send(r),e},OQ=["text","picture","picture-card"];let CLe=1;const D5=()=>Date.now()+CLe++,NQ=Et({action:{type:String,default:"#"},headers:{type:Ke(Object)},method:{type:String,default:"post"},data:{type:Ke([Object,Function,Promise]),default:()=>wi({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:Ke(Array),default:()=>wi([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:OQ,default:"text"},httpRequest:{type:Ke(Function),default:xLe},disabled:Boolean,limit:Number}),MLe=Et({...NQ,beforeUpload:{type:Ke(Function),default:xr},beforeRemove:{type:Ke(Function)},onRemove:{type:Ke(Function),default:xr},onChange:{type:Ke(Function),default:xr},onPreview:{type:Ke(Function),default:xr},onSuccess:{type:Ke(Function),default:xr},onProgress:{type:Ke(Function),default:xr},onError:{type:Ke(Function),default:xr},onExceed:{type:Ke(Function),default:xr},crossorigin:{type:Ke(String)}}),TLe=Et({files:{type:Ke(Array),default:()=>wi([])},disabled:{type:Boolean,default:!1},handlePreview:{type:Ke(Function),default:xr},listType:{type:String,values:OQ,default:"text"},crossorigin:{type:Ke(String)}}),ALe={remove:n=>!!n},ELe=Pe({name:"ElUploadList"}),ILe=Pe({...ELe,props:TLe,emits:ALe,setup(n,{emit:e}){const t=n,{t:r}=nr(),i=yt("upload"),a=yt("icon"),s=yt("list"),o=ps(),l=te(!1),c=U(()=>[i.b("list"),i.bm("list",t.listType),i.is("disabled",t.disabled)]),u=d=>{e("remove",d)};return(d,f)=>($(),rt(WD,{tag:"ul",class:j(S(c)),name:S(s).b()},{default:Me(()=>[($(!0),ge(Bt,null,kn(d.files,(h,p)=>($(),ge("li",{key:h.uid||h.name,class:j([S(i).be("list","item"),S(i).is(h.status),{focusing:l.value}]),tabindex:"0",onKeydown:Rr(m=>!S(o)&&u(h),["delete"]),onFocus:m=>l.value=!0,onBlur:m=>l.value=!1,onClick:m=>l.value=!1},[Qe(d.$slots,"default",{file:h,index:p},()=>[d.listType==="picture"||h.status!=="uploading"&&d.listType==="picture-card"?($(),ge("img",{key:0,class:j(S(i).be("list","item-thumbnail")),src:h.url,crossorigin:d.crossorigin,alt:""},null,10,["src","crossorigin"])):Je("v-if",!0),h.status==="uploading"||d.listType!=="picture-card"?($(),ge("div",{key:1,class:j(S(i).be("list","item-info"))},[_e("a",{class:j(S(i).be("list","item-name")),onClick:sn(m=>d.handlePreview(h),["prevent"])},[pe(S(Gt),{class:j(S(a).m("document"))},{default:Me(()=>[pe(S(OR))]),_:1},8,["class"]),_e("span",{class:j(S(i).be("list","item-file-name")),title:h.name},_t(h.name),11,["title"])],10,["onClick"]),h.status==="uploading"?($(),rt(S(sZ),{key:0,type:d.listType==="picture-card"?"circle":"line","stroke-width":d.listType==="picture-card"?6:2,percentage:Number(h.percentage),style:Ft(d.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Je("v-if",!0)],2)):Je("v-if",!0),_e("label",{class:j(S(i).be("list","item-status-label"))},[d.listType==="text"?($(),rt(S(Gt),{key:0,class:j([S(a).m("upload-success"),S(a).m("circle-check")])},{default:Me(()=>[pe(S(m6))]),_:1},8,["class"])):["picture-card","picture"].includes(d.listType)?($(),rt(S(Gt),{key:1,class:j([S(a).m("upload-success"),S(a).m("check")])},{default:Me(()=>[pe(S(CS))]),_:1},8,["class"])):Je("v-if",!0)],2),S(o)?Je("v-if",!0):($(),rt(S(Gt),{key:2,class:j(S(a).m("close")),onClick:m=>u(h)},{default:Me(()=>[pe(S(Ac))]),_:2},1032,["class","onClick"])),Je(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Je(" This is a bug which needs to be fixed "),Je(" TODO: Fix the incorrect navigation interaction "),S(o)?Je("v-if",!0):($(),ge("i",{key:3,class:j(S(a).m("close-tip"))},_t(S(r)("el.upload.deleteTip")),3)),d.listType==="picture-card"?($(),ge("span",{key:4,class:j(S(i).be("list","item-actions"))},[_e("span",{class:j(S(i).be("list","item-preview")),onClick:m=>d.handlePreview(h)},[pe(S(Gt),{class:j(S(a).m("zoom-in"))},{default:Me(()=>[pe(S(eX))]),_:1},8,["class"])],10,["onClick"]),S(o)?Je("v-if",!0):($(),ge("span",{key:0,class:j(S(i).be("list","item-delete")),onClick:m=>u(h)},[pe(S(Gt),{class:j(S(a).m("delete"))},{default:Me(()=>[pe(S(Cve))]),_:1},8,["class"])],10,["onClick"]))],2)):Je("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),Qe(d.$slots,"append")]),_:3},8,["class","name"]))}});var R9=It(ILe,[["__file","upload-list.vue"]]);const RLe=Et({disabled:{type:Boolean,default:!1}}),PLe={file:n=>St(n)},BQ="ElUploadDrag",LLe=Pe({name:BQ}),DLe=Pe({...LLe,props:RLe,emits:PLe,setup(n,{emit:e}){Nt(kQ)||va(BQ,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=yt("upload"),i=te(!1),a=ps(),s=l=>{if(a.value)return;i.value=!1,l.stopPropagation();const c=Array.from(l.dataTransfer.files);e("file",c)},o=()=>{a.value||(i.value=!0)};return(l,c)=>($(),ge("div",{class:j([S(r).b("dragger"),S(r).is("dragover",i.value)]),onDrop:sn(s,["prevent"]),onDragover:sn(o,["prevent"]),onDragleave:sn(u=>i.value=!1,["prevent"])},[Qe(l.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var kLe=It(DLe,[["__file","upload-dragger.vue"]]);const OLe=Et({...NQ,beforeUpload:{type:Ke(Function),default:xr},onRemove:{type:Ke(Function),default:xr},onStart:{type:Ke(Function),default:xr},onSuccess:{type:Ke(Function),default:xr},onProgress:{type:Ke(Function),default:xr},onError:{type:Ke(Function),default:xr},onExceed:{type:Ke(Function),default:xr}}),NLe=Pe({name:"ElUploadContent",inheritAttrs:!1}),BLe=Pe({...NLe,props:OLe,setup(n,{expose:e}){const t=n,r=yt("upload"),i=ps(),a=Cr({}),s=Cr(),o=m=>{if(m.length===0)return;const{autoUpload:g,limit:v,fileList:y,multiple:b,onStart:_,onExceed:w}=t;if(v&&y.length+m.length>v){w(m,y);return}b||(m=m.slice(0,1));for(const x of m){const M=x;M.uid=D5(),_(M),g&&l(M)}},l=async m=>{if(s.value.value="",!t.beforeUpload)return u(m);let g,v={};try{const b=t.data,_=t.beforeUpload(m);v=qb(t.data)?KC(t.data):t.data,g=await _,qb(t.data)&&Ka(b,v)&&(v=KC(t.data))}catch{g=!1}if(g===!1){t.onRemove(m);return}let y=m;g instanceof Blob&&(g instanceof File?y=g:y=new File([g],m.name,{type:m.type})),u(Object.assign(y,{uid:m.uid}),v)},c=async(m,g)=>Kt(m)?m(g):m,u=async(m,g)=>{const{headers:v,data:y,method:b,withCredentials:_,name:w,action:x,onProgress:M,onSuccess:C,onError:T,httpRequest:A}=t;try{g=await c(g??y,m)}catch{t.onRemove(m);return}const{uid:I}=m,L={headers:v||{},withCredentials:_,file:m,data:g,method:b,filename:w,action:x,onProgress:N=>{M(N,m)},onSuccess:N=>{C(N,m),delete a.value[I]},onError:N=>{T(N,m),delete a.value[I]}},k=A(L);a.value[I]=k,k instanceof Promise&&k.then(L.onSuccess,L.onError)},d=m=>{const g=m.target.files;g&&o(Array.from(g))},f=()=>{i.value||(s.value.value="",s.value.click())},h=()=>{f()};return e({abort:m=>{GY(a.value).filter(m?([v])=>String(m.uid)===v:()=>!0).forEach(([v,y])=>{y instanceof XMLHttpRequest&&y.abort(),delete a.value[v]})},upload:l}),(m,g)=>($(),ge("div",{class:j([S(r).b(),S(r).m(m.listType),S(r).is("drag",m.drag),S(r).is("disabled",S(i))]),tabindex:S(i)?"-1":"0",onClick:f,onKeydown:Rr(sn(h,["self"]),["enter","space"])},[m.drag?($(),rt(kLe,{key:0,disabled:S(i),onFile:o},{default:Me(()=>[Qe(m.$slots,"default")]),_:3},8,["disabled"])):Qe(m.$slots,"default",{key:1}),_e("input",{ref_key:"inputRef",ref:s,class:j(S(r).e("input")),name:m.name,disabled:S(i),multiple:m.multiple,accept:m.accept,type:"file",onChange:d,onClick:sn(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var P9=It(BLe,[["__file","upload-content.vue"]]);const L9="ElUpload",D9=n=>{var e;(e=n.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(n.url)},FLe=(n,e)=>{const t=NY(n,"fileList",void 0,{passive:!0}),r=h=>t.value.find(p=>p.uid===h.uid);function i(h){var p;(p=e.value)==null||p.abort(h)}function a(h=["ready","uploading","success","fail"]){t.value=t.value.filter(p=>!h.includes(p.status))}function s(h){t.value=t.value.filter(p=>p!==h)}const o=(h,p)=>{const m=r(p);m&&(console.error(h),m.status="fail",s(m),n.onError(h,m,t.value),n.onChange(m,t.value))},l=(h,p)=>{const m=r(p);m&&(n.onProgress(h,m,t.value),m.status="uploading",m.percentage=Math.round(h.percent))},c=(h,p)=>{const m=r(p);m&&(m.status="success",m.response=h,n.onSuccess(h,m,t.value),n.onChange(m,t.value))},u=h=>{Ca(h.uid)&&(h.uid=D5());const p={name:h.name,percentage:0,status:"ready",size:h.size,raw:h,uid:h.uid};if(n.listType==="picture-card"||n.listType==="picture")try{p.url=URL.createObjectURL(h)}catch(m){m.message,n.onError(m,p,t.value)}t.value=[...t.value,p],n.onChange(p,t.value)},d=async h=>{const p=h instanceof File?r(h):h;p||va(L9,"file to be removed not found");const m=g=>{i(g),s(g),n.onRemove(g,t.value),D9(g)};n.beforeRemove?await n.beforeRemove(p,t.value)!==!1&&m(p):m(p)};function f(){t.value.filter(({status:h})=>h==="ready").forEach(({raw:h})=>{var p;return h&&((p=e.value)==null?void 0:p.upload(h))})}return dt(()=>n.listType,h=>{h!=="picture-card"&&h!=="picture"||(t.value=t.value.map(p=>{const{raw:m,url:g}=p;if(!g&&m)try{p.url=URL.createObjectURL(m)}catch(v){n.onError(v,p,t.value)}return p}))}),dt(t,h=>{for(const p of h)p.uid||(p.uid=D5()),p.status||(p.status="success")},{immediate:!0,deep:!0}),{uploadFiles:t,abort:i,clearFiles:a,handleError:o,handleProgress:l,handleStart:u,handleSuccess:c,handleRemove:d,submit:f,revokeFileObjectURL:D9}},zLe=Pe({name:"ElUpload"}),ULe=Pe({...zLe,props:MLe,setup(n,{expose:e}){const t=n,r=ps(),i=Cr(),{abort:a,submit:s,clearFiles:o,uploadFiles:l,handleStart:c,handleError:u,handleRemove:d,handleSuccess:f,handleProgress:h,revokeFileObjectURL:p}=FLe(t,i),m=U(()=>t.listType==="picture-card"),g=U(()=>({...t,fileList:l.value,onStart:c,onProgress:h,onSuccess:f,onError:u,onRemove:d}));return vr(()=>{l.value.forEach(p)}),Vn(kQ,{accept:br(t,"accept")}),e({abort:a,submit:s,clearFiles:o,handleStart:c,handleRemove:d}),(v,y)=>($(),ge("div",null,[S(m)&&v.showFileList?($(),rt(R9,{key:0,disabled:S(r),"list-type":v.listType,files:S(l),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:S(d)},rl({append:Me(()=>[pe(P9,Bn({ref_key:"uploadRef",ref:i},S(g)),{default:Me(()=>[v.$slots.trigger?Qe(v.$slots,"trigger",{key:0}):Je("v-if",!0),!v.$slots.trigger&&v.$slots.default?Qe(v.$slots,"default",{key:1}):Je("v-if",!0)]),_:3},16)]),_:2},[v.$slots.file?{name:"default",fn:Me(({file:b,index:_})=>[Qe(v.$slots,"file",{file:b,index:_})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Je("v-if",!0),!S(m)||S(m)&&!v.showFileList?($(),rt(P9,Bn({key:1,ref_key:"uploadRef",ref:i},S(g)),{default:Me(()=>[v.$slots.trigger?Qe(v.$slots,"trigger",{key:0}):Je("v-if",!0),!v.$slots.trigger&&v.$slots.default?Qe(v.$slots,"default",{key:1}):Je("v-if",!0)]),_:3},16)):Je("v-if",!0),v.$slots.trigger?Qe(v.$slots,"default",{key:2}):Je("v-if",!0),Qe(v.$slots,"tip"),!S(m)&&v.showFileList?($(),rt(R9,{key:3,disabled:S(r),"list-type":v.listType,files:S(l),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:S(d)},rl({_:2},[v.$slots.file?{name:"default",fn:Me(({file:b,index:_})=>[Qe(v.$slots,"file",{file:b,index:_})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Je("v-if",!0)]))}});var HLe=It(ULe,[["__file","upload.vue"]]);const VLe=gn(HLe),$Le=Et({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:Ke([String,Array]),default:"Element Plus"},font:{type:Ke(Object)},gap:{type:Ke(Array),default:()=>[100,100]},offset:{type:Ke(Array)}});function GLe(n){return n.replace(/([A-Z])/g,"-$1").toLowerCase()}function WLe(n){return Object.keys(n).map(e=>`${GLe(e)}: ${n[e]};`).join(" ")}function qLe(){return window.devicePixelRatio||1}const KLe=(n,e)=>{let t=!1;return n.removedNodes.length&&e&&(t=Array.from(n.removedNodes).includes(e)),n.type==="attributes"&&n.target===e&&(t=!0),t},FQ=3;function o3(n,e,t=1){const r=document.createElement("canvas"),i=r.getContext("2d"),a=n*t,s=e*t;return r.setAttribute("width",`${a}px`),r.setAttribute("height",`${s}px`),i.save(),[i,r,a,s]}function YLe(){function n(e,t,r,i,a,s,o,l){const[c,u,d,f]=o3(i,a,r);if(e instanceof HTMLImageElement)c.drawImage(e,0,0,d,f);else{const{color:Z,fontSize:ee,fontStyle:J,fontWeight:re,fontFamily:fe,textAlign:de,textBaseline:me}=s,Re=Number(ee)*r;c.font=`${J} normal ${re} ${Re}px/${a}px ${fe}`,c.fillStyle=Z,c.textAlign=de,c.textBaseline=me;const De=St(e)?e:[e];De==null||De.forEach((Ge,We)=>{c.fillText(Ge??"",d/2,We*(Re+FQ*r))})}const h=Math.PI/180*Number(t),p=Math.max(i,a),[m,g,v]=o3(p,p,r);m.translate(v/2,v/2),m.rotate(h),d>0&&f>0&&m.drawImage(u,-d/2,-f/2);function y(Z,ee){const J=Z*Math.cos(h)-ee*Math.sin(h),re=Z*Math.sin(h)+ee*Math.cos(h);return[J,re]}let b=0,_=0,w=0,x=0;const M=d/2,C=f/2;[[0-M,0-C],[0+M,0-C],[0+M,0+C],[0-M,0+C]].forEach(([Z,ee])=>{const[J,re]=y(Z,ee);b=Math.min(b,J),_=Math.max(_,J),w=Math.min(w,re),x=Math.max(x,re)});const A=b+v/2,I=w+v/2,L=_-b,k=x-w,N=o*r,F=l*r,D=(L+N)*2,H=k+F,[z,B]=o3(D,H);function W(Z=0,ee=0){z.drawImage(g,A,I,L,k,Z,ee,L,k)}return W(),W(L+N,-k/2-F/2),W(L+N,+k/2+F/2),[B.toDataURL(),D/r,H/r]}return n}const XLe=Pe({name:"ElWatermark"}),jLe=Pe({...XLe,props:$Le,setup(n){const e=n,t={position:"relative"},r=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.color)!=null?I:"rgba(0,0,0,.15)"}),i=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.fontSize)!=null?I:16}),a=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.fontWeight)!=null?I:"normal"}),s=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.fontStyle)!=null?I:"normal"}),o=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.fontFamily)!=null?I:"sans-serif"}),l=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.textAlign)!=null?I:"center"}),c=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.textBaseline)!=null?I:"hanging"}),u=U(()=>e.gap[0]),d=U(()=>e.gap[1]),f=U(()=>u.value/2),h=U(()=>d.value/2),p=U(()=>{var A,I;return(I=(A=e.offset)==null?void 0:A[0])!=null?I:f.value}),m=U(()=>{var A,I;return(I=(A=e.offset)==null?void 0:A[1])!=null?I:h.value}),g=()=>{const A={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let I=p.value-f.value,L=m.value-h.value;return I>0&&(A.left=`${I}px`,A.width=`calc(100% - ${I}px)`,I=0),L>0&&(A.top=`${L}px`,A.height=`calc(100% - ${L}px)`,L=0),A.backgroundPosition=`${I}px ${L}px`,A},v=Cr(null),y=Cr(),b=te(!1),_=()=>{y.value&&(y.value.remove(),y.value=void 0)},w=(A,I)=>{var L;v.value&&y.value&&(b.value=!0,y.value.setAttribute("style",WLe({...g(),backgroundImage:`url('${A}')`,backgroundSize:`${Math.floor(I)}px`})),(L=v.value)==null||L.append(y.value),setTimeout(()=>{b.value=!1}))},x=A=>{let I=120,L=64;const k=e.image,N=e.content,F=e.width,D=e.height;if(!k&&A.measureText){A.font=`${Number(i.value)}px ${o.value}`;const H=St(N)?N:[N],z=H.map(B=>{const W=A.measureText(B);return[W.width,W.fontBoundingBoxAscent!==void 0?W.fontBoundingBoxAscent+W.fontBoundingBoxDescent:W.actualBoundingBoxAscent+W.actualBoundingBoxDescent]});I=Math.ceil(Math.max(...z.map(B=>B[0]))),L=Math.ceil(Math.max(...z.map(B=>B[1])))*H.length+(H.length-1)*FQ}return[F??I,D??L]},M=YLe(),C=()=>{const I=document.createElement("canvas").getContext("2d"),L=e.image,k=e.content,N=e.rotate;if(I){y.value||(y.value=document.createElement("div"));const F=qLe(),[D,H]=x(I),z=B=>{const[W,Z]=M(B||"",N,F,D,H,{color:r.value,fontSize:i.value,fontStyle:s.value,fontWeight:a.value,fontFamily:o.value,textAlign:l.value,textBaseline:c.value},u.value,d.value);w(W,Z)};if(L){const B=new Image;B.onload=()=>{z(B)},B.onerror=()=>{z(k)},B.crossOrigin="anonymous",B.referrerPolicy="no-referrer",B.src=L}else z(k)}};return dn(()=>{C()}),dt(()=>e,()=>{C()},{deep:!0,flush:"post"}),vr(()=>{_()}),OY(v,A=>{b.value||A.forEach(I=>{KLe(I,y.value)&&(_(),C())})},{attributes:!0,subtree:!0,childList:!0}),(A,I)=>($(),ge("div",{ref_key:"containerRef",ref:v,style:Ft([t])},[Qe(A.$slots,"default")],4))}});var ZLe=It(jLe,[["__file","watermark.vue"]]);const QLe=gn(ZLe),JLe=Et({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:Ke(Object)},targetAreaClickable:{type:Boolean,default:!0}}),eDe=(n,e,t,r,i)=>{const a=te(null),s=()=>{let d;return qt(n.value)?d=document.querySelector(n.value):Kt(n.value)?d=n.value():d=n.value,d},o=()=>{const d=s();if(!d||!e.value){a.value=null;return}tDe(d)||d.scrollIntoView(i.value);const{left:f,top:h,width:p,height:m}=d.getBoundingClientRect();a.value={left:f,top:h,width:p,height:m,radius:0}};dn(()=>{dt([e,n],()=>{o()},{immediate:!0}),window.addEventListener("resize",o)}),vr(()=>{window.removeEventListener("resize",o)});const l=d=>{var f;return(f=St(t.value.offset)?t.value.offset[d]:t.value.offset)!=null?f:6},c=U(()=>{var d;if(!a.value)return a.value;const f=l(0),h=l(1),p=((d=t.value)==null?void 0:d.radius)||2;return{left:a.value.left-f,top:a.value.top-h,width:a.value.width+f*2,height:a.value.height+h*2,radius:p}}),u=U(()=>{const d=s();return!r.value||!d||!window.DOMRect?d||void 0:{getBoundingClientRect(){var f,h,p,m;return window.DOMRect.fromRect({width:((f=c.value)==null?void 0:f.width)||0,height:((h=c.value)==null?void 0:h.height)||0,x:((p=c.value)==null?void 0:p.left)||0,y:((m=c.value)==null?void 0:m.top)||0})}}});return{mergedPosInfo:c,triggerTarget:u}},fA=Symbol("ElTour");function tDe(n){const e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight,{top:r,right:i,bottom:a,left:s}=n.getBoundingClientRect();return r>=0&&s>=0&&i<=e&&a<=t}const nDe=(n,e,t,r,i,a,s,o)=>{const l=te(),c=te(),u=te({}),d={x:l,y:c,placement:r,strategy:i,middlewareData:u},f=U(()=>{const v=[fQ(S(a)),U5e(),V5e(),rDe()];return S(o)&&S(t)&&v.push(dQ({element:S(t)})),v}),h=async()=>{if(!tr)return;const v=S(n),y=S(e);if(!v||!y)return;const b=await _Q(v,y,{placement:S(r),strategy:S(i),middleware:S(f)});xg(d).forEach(_=>{d[_].value=b[_]})},p=U(()=>{if(!S(n))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:S(s)};const{overflow:v}=S(u);return{position:S(i),zIndex:S(s),top:S(c)!=null?`${S(c)}px`:"",left:S(l)!=null?`${S(l)}px`:"",maxWidth:v!=null&&v.maxWidth?`${v==null?void 0:v.maxWidth}px`:""}}),m=U(()=>{if(!S(o))return{};const{arrow:v}=S(u);return{left:(v==null?void 0:v.x)!=null?`${v==null?void 0:v.x}px`:"",top:(v==null?void 0:v.y)!=null?`${v==null?void 0:v.y}px`:""}});let g;return dn(()=>{const v=S(n),y=S(e);v&&y&&(g=sPe(v,y,h)),wa(()=>{h()})}),vr(()=>{g&&g()}),{update:h,contentStyle:p,arrowStyle:m}},rDe=()=>({name:"overflow",async fn(n){const e=await Sk(n);let t=0;return e.left>0&&(t=e.left),e.right>0&&(t=e.right),{data:{maxWidth:n.rects.floating.width-t}}}}),iDe=Pe({name:"ElTourMask",inheritAttrs:!1}),aDe=Pe({...iDe,props:JLe,setup(n){const e=n,{ns:t}=Nt(fA),r=U(()=>{var o,l;return(l=(o=e.pos)==null?void 0:o.radius)!=null?l:2}),i=U(()=>{const o=r.value,l=`a${o},${o} 0 0 1`;return{topRight:`${l} ${o},${o}`,bottomRight:`${l} ${-o},${o}`,bottomLeft:`${l} ${-o},${-o}`,topLeft:`${l} ${o},${-o}`}}),a=U(()=>{const o=window.innerWidth,l=window.innerHeight,c=i.value,u=`M${o},0 L0,0 L0,${l} L${o},${l} L${o},0 Z`,d=r.value;return e.pos?`${u} M${e.pos.left+d},${e.pos.top} h${e.pos.width-d*2} ${c.topRight} v${e.pos.height-d*2} ${c.bottomRight} h${-e.pos.width+d*2} ${c.bottomLeft} v${-e.pos.height+d*2} ${c.topLeft} z`:u}),s=U(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return X6(br(e,"visible"),{ns:t}),(o,l)=>o.visible?($(),ge("div",Bn({key:0,class:S(t).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:o.zIndex,pointerEvents:o.pos&&o.targetAreaClickable?"none":"auto"}},o.$attrs),[($(),ge("svg",{style:{width:"100%",height:"100%"}},[_e("path",{class:j(S(t).e("hollow")),style:Ft(S(s)),d:S(a)},null,14,["d"])]))],16)):Je("v-if",!0)}});var sDe=It(aDe,[["__file","mask.vue"]]);const oDe=["absolute","fixed"],lDe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],Ek=Et({placement:{type:Ke(String),values:lDe,default:"bottom"},reference:{type:Ke(Object),default:null},strategy:{type:Ke(String),values:oDe,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),cDe={close:()=>!0},uDe=Pe({name:"ElTourContent"}),dDe=Pe({...uDe,props:Ek,emits:cDe,setup(n,{emit:e}){const t=n,r=te(t.placement),i=te(t.strategy),a=te(null),s=te(null);dt(()=>t.placement,()=>{r.value=t.placement});const{contentStyle:o,arrowStyle:l}=nDe(br(t,"reference"),a,s,r,i,br(t,"offset"),br(t,"zIndex"),br(t,"showArrow")),c=U(()=>r.value.split("-")[0]),{ns:u}=Nt(fA),d=()=>{e("close")},f=h=>{h.detail.focusReason==="pointer"&&h.preventDefault()};return(h,p)=>($(),ge("div",{ref_key:"contentRef",ref:a,style:Ft(S(o)),class:j(S(u).e("content")),"data-side":S(c),tabindex:"-1"},[pe(S(gy),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":a.value||void 0,onReleaseRequested:d,onFocusoutPrevented:f},{default:Me(()=>[Qe(h.$slots,"default")]),_:3},8,["focus-trap-el"]),h.showArrow?($(),ge("span",{key:0,ref_key:"arrowRef",ref:s,style:Ft(S(l)),class:j(S(u).e("arrow"))},null,6)):Je("v-if",!0)],14,["data-side"]))}});var fDe=It(dDe,[["__file","content.vue"]]),hDe=Pe({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(n,{slots:e,emit:t}){let r=0;return()=>{var i,a;const s=(i=e.default)==null?void 0:i.call(e),o=[];let l=0;function c(u){St(u)&&u.forEach(d=>{var f;((f=(d==null?void 0:d.type)||{})==null?void 0:f.name)==="ElTourStep"&&(o.push(d),l+=1)})}return s.length&&c(Zf((a=s[0])==null?void 0:a.children)),r!==l&&(r=l,t("update-total",l)),o.length?o[n.current]:null}}});const pDe=Et({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:Dr},placement:Ek.placement,contentStyle:{type:Ke([Object])},mask:{type:Ke([Boolean,Object]),default:!0},gap:{type:Ke(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:Ke([Boolean,Object]),default:()=>({block:"center"})},type:{type:Ke(String)},appendTo:{type:Ke([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),mDe={[Tn]:n=>Vr(n),"update:current":n=>en(n),close:n=>en(n),finish:()=>!0,change:n=>en(n)},vDe=Pe({name:"ElTour"}),gDe=Pe({...vDe,props:pDe,emits:mDe,setup(n,{emit:e}){const t=n,r=yt("tour"),i=te(0),a=te(),s=NY(t,"current",e,{passive:!0}),o=U(()=>{var T;return(T=a.value)==null?void 0:T.target}),l=U(()=>[r.b(),g.value==="primary"?r.m("primary"):""]),c=U(()=>{var T;return((T=a.value)==null?void 0:T.placement)||t.placement}),u=U(()=>{var T,A;return(A=(T=a.value)==null?void 0:T.contentStyle)!=null?A:t.contentStyle}),d=U(()=>{var T,A;return(A=(T=a.value)==null?void 0:T.mask)!=null?A:t.mask}),f=U(()=>!!d.value&&t.modelValue),h=U(()=>Vr(d.value)?void 0:d.value),p=U(()=>{var T,A;return!!o.value&&((A=(T=a.value)==null?void 0:T.showArrow)!=null?A:t.showArrow)}),m=U(()=>{var T,A;return(A=(T=a.value)==null?void 0:T.scrollIntoViewOptions)!=null?A:t.scrollIntoViewOptions}),g=U(()=>{var T,A;return(A=(T=a.value)==null?void 0:T.type)!=null?A:t.type}),{nextZIndex:v}=my(),y=v(),b=U(()=>{var T;return(T=t.zIndex)!=null?T:y}),{mergedPosInfo:_,triggerTarget:w}=eDe(o,br(t,"modelValue"),br(t,"gap"),d,m);dt(()=>t.modelValue,T=>{T||(s.value=0)});const x=()=>{t.closeOnPressEscape&&(e("update:modelValue",!1),e("close",s.value))},M=T=>{i.value=T},C=Qi();return Vn(fA,{currentStep:a,current:s,total:i,showClose:br(t,"showClose"),closeIcon:br(t,"closeIcon"),mergedType:g,ns:r,slots:C,updateModelValue(T){e("update:modelValue",T)},onClose(){e("close",s.value)},onFinish(){e("finish")},onChange(){e("change",s.value)}}),(T,A)=>($(),ge(Bt,null,[pe(S(yy),{to:T.appendTo},{default:Me(()=>{var I,L;return[_e("div",Bn({class:S(l)},T.$attrs),[pe(sDe,{visible:S(f),fill:(I=S(h))==null?void 0:I.color,style:Ft((L=S(h))==null?void 0:L.style),pos:S(_),"z-index":S(b),"target-area-clickable":T.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),T.modelValue?($(),rt(fDe,{key:S(s),reference:S(w),placement:S(c),"show-arrow":S(p),"z-index":S(b),style:Ft(S(u)),onClose:x},{default:Me(()=>[pe(S(hDe),{current:S(s),onUpdateTotal:M},{default:Me(()=>[Qe(T.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):Je("v-if",!0)],16)]}),_:3},8,["to"]),Je(" just for IDE "),Je("v-if",!0)],64))}});var yDe=It(gDe,[["__file","tour.vue"]]);const bDe=Et({target:{type:Ke([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:Dr},showArrow:{type:Boolean,default:void 0},placement:Ek.placement,mask:{type:Ke([Boolean,Object]),default:void 0},contentStyle:{type:Ke([Object])},prevButtonProps:{type:Ke(Object)},nextButtonProps:{type:Ke(Object)},scrollIntoViewOptions:{type:Ke([Boolean,Object]),default:void 0},type:{type:Ke(String)}}),_De={close:()=>!0},SDe=Pe({name:"ElTourStep"}),wDe=Pe({...SDe,props:bDe,emits:_De,setup(n,{emit:e}){const t=n,{Close:r}=y6,{t:i}=nr(),{currentStep:a,current:s,total:o,showClose:l,closeIcon:c,mergedType:u,ns:d,slots:f,updateModelValue:h,onClose:p,onFinish:m,onChange:g}=Nt(fA);dt(t,C=>{a.value=C},{immediate:!0});const v=U(()=>{var C;return(C=t.showClose)!=null?C:l.value}),y=U(()=>{var C,T;return(T=(C=t.closeIcon)!=null?C:c.value)!=null?T:r}),b=C=>{if(C)return F0e(C,["children","onClick"])},_=()=>{var C,T;s.value-=1,(C=t.prevButtonProps)!=null&&C.onClick&&((T=t.prevButtonProps)==null||T.onClick()),g()},w=()=>{var C;s.value>=o.value-1?x():s.value+=1,(C=t.nextButtonProps)!=null&&C.onClick&&t.nextButtonProps.onClick(),g()},x=()=>{M(),m()},M=()=>{h(!1),p(),e("close")};return(C,T)=>($(),ge(Bt,null,[S(v)?($(),ge("button",{key:0,"aria-label":"Close",class:j(S(d).e("closebtn")),type:"button",onClick:M},[pe(S(Gt),{class:j(S(d).e("close"))},{default:Me(()=>[($(),rt(Rn(S(y))))]),_:1},8,["class"])],2)):Je("v-if",!0),_e("header",{class:j([S(d).e("header"),{"show-close":S(l)}])},[Qe(C.$slots,"header",{},()=>[_e("span",{role:"heading",class:j(S(d).e("title"))},_t(C.title),3)])],2),_e("div",{class:j(S(d).e("body"))},[Qe(C.$slots,"default",{},()=>[_e("span",null,_t(C.description),1)])],2),_e("footer",{class:j(S(d).e("footer"))},[_e("div",{class:j(S(d).b("indicators"))},[S(f).indicators?($(),rt(Rn(S(f).indicators),{key:0,current:S(s),total:S(o)},null,8,["current","total"])):($(!0),ge(Bt,{key:1},kn(S(o),(A,I)=>($(),ge("span",{key:A,class:j([S(d).b("indicator"),I===S(s)?"is-active":""])},null,2))),128))],2),_e("div",{class:j(S(d).b("buttons"))},[S(s)>0?($(),rt(S(Ba),Bn({key:0,size:"small",type:S(u)},b(C.prevButtonProps),{onClick:_}),{default:Me(()=>{var A,I;return[un(_t((I=(A=C.prevButtonProps)==null?void 0:A.children)!=null?I:S(i)("el.tour.previous")),1)]}),_:1},16,["type"])):Je("v-if",!0),S(s)<=S(o)-1?($(),rt(S(Ba),Bn({key:1,size:"small",type:S(u)==="primary"?"default":"primary"},b(C.nextButtonProps),{onClick:w}),{default:Me(()=>{var A,I;return[un(_t((I=(A=C.nextButtonProps)==null?void 0:A.children)!=null?I:S(s)===S(o)-1?S(i)("el.tour.finish"):S(i)("el.tour.next")),1)]}),_:1},16,["type"])):Je("v-if",!0)],2)],2)],64))}});var zQ=It(wDe,[["__file","step.vue"]]);const xDe=gn(yDe,{TourStep:zQ}),CDe=Ci(zQ),MDe=Et({container:{type:Ke([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:Ke(String),default:"default"},direction:{type:Ke(String),default:"vertical"}}),TDe={change:n=>qt(n),click:(n,e)=>n instanceof MouseEvent&&(qt(e)||Tr(e))},UQ=Symbol("anchor"),Dw=n=>{if(!tr||n==="")return null;if(qt(n))try{return document.querySelector(n)}catch{return null}return n};function ADe(n){let e=0;const t=(...r)=>{e&&T0(e),e=ph(()=>{n(...r),e=0})};return t.cancel=()=>{T0(e),e=0},t}const EDe=Pe({name:"ElAnchor"}),IDe=Pe({...EDe,props:MDe,emits:TDe,setup(n,{expose:e,emit:t}){const r=n,i=te(""),a=te(null),s=te(null),o=te(),l={};let c=!1,u=0;const d=yt("anchor"),f=U(()=>[d.b(),r.type==="underline"?d.m("underline"):"",d.m(r.direction)]),h=C=>{l[C.href]=C.el},p=C=>{delete l[C]},m=C=>{i.value!==C&&(i.value=C,t("change",C))};let g=null;const v=C=>{if(!o.value)return;const T=Dw(C);if(!T)return;g&&g(),c=!0;const A=$F(T,o.value),I=qR(T,A),L=A.scrollHeight-A.clientHeight,k=Math.min(I-r.offset,L);g=Gme(o.value,u,k,r.duration,()=>{setTimeout(()=>{c=!1},20)})},y=C=>{C&&(m(C),v(C))},b=(C,T)=>{t("click",C,T),y(T)},_=ADe(()=>{o.value&&(u=GF(o.value));const C=w();c||Tr(C)||m(C)}),w=()=>{if(!o.value)return;const C=GF(o.value),T=[];for(const A of Object.keys(l)){const I=Dw(A);if(!I)continue;const L=$F(I,o.value),k=qR(I,L);T.push({top:k-r.offset-r.bound,href:A})}T.sort((A,I)=>A.top-I.top);for(let A=0;A<T.length;A++){const I=T[A],L=T[A+1];if(A===0&&C===0)return"";if(I.top<=C&&(!L||L.top>C))return I.href}},x=()=>{const C=Dw(r.container);!C||WT(C)?o.value=window:o.value=C};Ar(o,"scroll",_);const M=U(()=>{if(!a.value||!s.value||!i.value)return{};const C=l[i.value];if(!C)return{};const T=a.value.getBoundingClientRect(),A=s.value.getBoundingClientRect(),I=C.getBoundingClientRect();return r.direction==="horizontal"?{left:`${I.left-T.left}px`,width:`${I.width}px`,opacity:1}:{top:`${I.top-T.top+(I.height-A.height)/2}px`,opacity:1}});return dn(()=>{x();const C=decodeURIComponent(window.location.hash);Dw(C)?y(C):_()}),dt(()=>r.container,()=>{x()}),Vn(UQ,{ns:d,direction:r.direction,currentAnchor:i,addLink:h,removeLink:p,handleClick:b}),e({scrollTo:y}),(C,T)=>($(),ge("div",{ref_key:"anchorRef",ref:a,class:j(S(f))},[C.marker?($(),ge("div",{key:0,ref_key:"markerRef",ref:s,class:j(S(d).e("marker")),style:Ft(S(M))},null,6)):Je("v-if",!0),_e("div",{class:j(S(d).e("list"))},[Qe(C.$slots,"default")],2)],2))}});var RDe=It(IDe,[["__file","anchor.vue"]]);const PDe=Et({title:String,href:String}),LDe=Pe({name:"ElAnchorLink"}),DDe=Pe({...LDe,props:PDe,setup(n){const e=n,t=te(null),{ns:r,direction:i,currentAnchor:a,addLink:s,removeLink:o,handleClick:l}=Nt(UQ),c=U(()=>[r.e("link"),r.is("active",a.value===e.href)]),u=d=>{l(d,e.href)};return dt(()=>e.href,(d,f)=>{Yt(()=>{f&&o(f),d&&s({href:d,el:t.value})})}),dn(()=>{const{href:d}=e;d&&s({href:d,el:t.value})}),vr(()=>{const{href:d}=e;d&&o(d)}),(d,f)=>($(),ge("div",{class:j(S(r).e("item"))},[_e("a",{ref_key:"linkRef",ref:t,class:j(S(c)),href:d.href,onClick:u},[Qe(d.$slots,"default",{},()=>[un(_t(d.title),1)])],10,["href"]),d.$slots["sub-link"]&&S(i)==="vertical"?($(),ge("div",{key:0,class:j(S(r).e("list"))},[Qe(d.$slots,"sub-link")],2)):Je("v-if",!0)],2))}});var HQ=It(DDe,[["__file","anchor-link.vue"]]);const kDe=gn(RDe,{AnchorLink:HQ}),ODe=Ci(HQ),NDe=Et({direction:{type:Ke(String),default:"horizontal"},options:{type:Ke(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:oa,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...Xa(["ariaLabel"])}),BDe={[Tn]:n=>qt(n)||en(n)||Vr(n),[Pr]:n=>qt(n)||en(n)||Vr(n)},FDe=Pe({name:"ElSegmented"}),zDe=Pe({...FDe,props:NDe,emits:BDe,setup(n,{emit:e}){const t=n,r=yt("segmented"),i=Ya(),a=ji(),s=ps(),{formItem:o}=hs(),{inputId:l,isLabeledByFormItem:c}=Xl(t,{formItemContext:o}),u=te(null),d=hme(),f=pr({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),h=T=>{const A=p(T);e(Tn,A),e(Pr,A)},p=T=>Pn(T)?T.value:T,m=T=>Pn(T)?T.label:T,g=T=>!!(s.value||Pn(T)&&T.disabled),v=T=>t.modelValue===p(T),y=T=>t.options.find(A=>p(A)===T),b=T=>[r.e("item"),r.is("selected",v(T)),r.is("disabled",g(T))],_=()=>{if(!u.value)return;const T=u.value.querySelector(".is-selected"),A=u.value.querySelector(".is-selected input");if(!T||!A){f.width=0,f.height=0,f.translateX=0,f.translateY=0,f.focusVisible=!1;return}const I=T.getBoundingClientRect();f.isInit=!0,t.direction==="vertical"?(f.height=I.height,f.translateY=T.offsetTop):(f.width=I.width,f.translateX=T.offsetLeft);try{f.focusVisible=A.matches(":focus-visible")}catch{}},w=U(()=>[r.b(),r.m(a.value),r.is("block",t.block)]),x=U(()=>({width:t.direction==="vertical"?"100%":`${f.width}px`,height:t.direction==="vertical"?`${f.height}px`:"100%",transform:t.direction==="vertical"?`translateY(${f.translateY}px)`:`translateX(${f.translateX}px)`,display:f.isInit?"block":"none"})),M=U(()=>[r.e("item-selected"),r.is("disabled",g(y(t.modelValue))),r.is("focus-visible",f.focusVisible)]),C=U(()=>t.name||i.value);return hi(u,_),dt(d,_),dt(()=>t.modelValue,()=>{var T;_(),t.validateEvent&&((T=o==null?void 0:o.validate)==null||T.call(o,"change").catch(A=>void 0))},{flush:"post"}),(T,A)=>T.options.length?($(),ge("div",{key:0,id:S(l),ref_key:"segmentedRef",ref:u,class:j(S(w)),role:"radiogroup","aria-label":S(c)?void 0:T.ariaLabel||"segmented","aria-labelledby":S(c)?S(o).labelId:void 0},[_e("div",{class:j([S(r).e("group"),S(r).m(t.direction)])},[_e("div",{style:Ft(S(x)),class:j(S(M))},null,6),($(!0),ge(Bt,null,kn(T.options,(I,L)=>($(),ge("label",{key:L,class:j(b(I))},[_e("input",{class:j(S(r).e("item-input")),type:"radio",name:S(C),disabled:g(I),checked:v(I),onChange:k=>h(I)},null,42,["name","disabled","checked","onChange"]),_e("div",{class:j(S(r).e("item-label"))},[Qe(T.$slots,"default",{item:I},()=>[un(_t(m(I)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):Je("v-if",!0)}});var UDe=It(zDe,[["__file","segmented.vue"]]);const HDe=gn(UDe),VDe=(n,e)=>{const t=n.toLowerCase();return(e.label||e.value).toLowerCase().includes(t)},$De=(n,e,t)=>{const{selectionEnd:r}=n;if(r===null)return;const i=n.value,a=Is(e);let s=-1,o;for(let l=r-1;l>=0;--l){const c=i[l];if(c===t||c===`
`||c==="\r"){s=l;continue}if(a.includes(c)){const u=s===-1?r:s;o={pattern:i.slice(l+1,u),start:l+1,end:u,prefix:c,prefixIndex:l,splitIndex:s,selectionEnd:r};break}}return o},GDe=(n,e={debug:!1,useSelectionEnd:!1})=>{const t=n.selectionStart!==null?n.selectionStart:0,r=n.selectionEnd!==null?n.selectionEnd:0,i=e.useSelectionEnd?r:t,a=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(e.debug){const f=document.querySelector("#input-textarea-caret-position-mirror-div");f!=null&&f.parentNode&&f.parentNode.removeChild(f)}const s=document.createElement("div");s.id="input-textarea-caret-position-mirror-div",document.body.appendChild(s);const o=s.style,l=window.getComputedStyle(n),c=n.nodeName==="INPUT";o.whiteSpace=c?"nowrap":"pre-wrap",c||(o.wordWrap="break-word"),o.position="absolute",e.debug||(o.visibility="hidden"),a.forEach(f=>{if(c&&f==="lineHeight")if(l.boxSizing==="border-box"){const h=Number.parseInt(l.height),p=Number.parseInt(l.paddingTop)+Number.parseInt(l.paddingBottom)+Number.parseInt(l.borderTopWidth)+Number.parseInt(l.borderBottomWidth),m=p+Number.parseInt(l.lineHeight);h>m?o.lineHeight=`${h-p}px`:h===m?o.lineHeight=l.lineHeight:o.lineHeight="0"}else o.lineHeight=l.height;else o[f]=l[f]}),ZT()?n.scrollHeight>Number.parseInt(l.height)&&(o.overflowY="scroll"):o.overflow="hidden",s.textContent=n.value.slice(0,Math.max(0,i)),c&&s.textContent&&(s.textContent=s.textContent.replace(/\s/g,""));const u=document.createElement("span");u.textContent=n.value.slice(Math.max(0,i))||".",u.style.position="relative",u.style.left=`${-n.scrollLeft}px`,u.style.top=`${-n.scrollTop}px`,s.appendChild(u);const d={top:u.offsetTop+Number.parseInt(l.borderTopWidth),left:u.offsetLeft+Number.parseInt(l.borderLeftWidth),height:Number.parseInt(l.fontSize)*1.5};return e.debug?u.style.backgroundColor="#aaa":document.body.removeChild(s),d.left>=n.clientWidth&&(d.left=n.clientWidth),d},WDe=Et({..._6,options:{type:Ke(Array),default:()=>[]},prefix:{type:Ke([String,Array]),default:"@",validator:n=>qt(n)?n.length===1:n.every(e=>qt(e)&&e.length===1)},split:{type:String,default:" ",validator:n=>n.length===1},filterOption:{type:Ke([Boolean,Function]),default:()=>VDe,validator:n=>n===!1?!0:Kt(n)},placement:{type:Ke(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:Ke(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Ke(Object),default:()=>({})}}),qDe={[Tn]:n=>qt(n),search:(n,e)=>qt(n)&&qt(e),select:(n,e)=>qt(n.value)&&qt(e),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent},KDe=Et({options:{type:Ke(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),YDe={select:n=>qt(n.value)},XDe=Pe({name:"ElMentionDropdown"}),jDe=Pe({...XDe,props:KDe,emits:YDe,setup(n,{expose:e,emit:t}){const r=n,i=yt("mention"),{t:a}=nr(),s=te(-1),o=te(),l=te(),c=te(),u=(b,_)=>[i.be("dropdown","item"),i.is("hovering",s.value===_),i.is("disabled",b.disabled||r.disabled)],d=b=>{b.disabled||r.disabled||t("select",b)},f=b=>{s.value=b},h=U(()=>r.disabled||r.options.every(b=>b.disabled)),p=U(()=>r.options[s.value]),m=()=>{p.value&&t("select",p.value)},g=b=>{const{options:_}=r;if(_.length===0||h.value)return;b==="next"?(s.value++,s.value===_.length&&(s.value=0)):b==="prev"&&(s.value--,s.value<0&&(s.value=_.length-1));const w=_[s.value];if(w.disabled){g(b);return}Yt(()=>v(w))},v=b=>{var _,w,x,M;const{options:C}=r,T=C.findIndex(I=>I.value===b.value),A=(_=l.value)==null?void 0:_[T];if(A){const I=(x=(w=c.value)==null?void 0:w.querySelector)==null?void 0:x.call(w,`.${i.be("dropdown","wrap")}`);I&&h6(I,A)}(M=o.value)==null||M.handleScroll()};return dt(()=>r.options,()=>{h.value||r.options.length===0?s.value=-1:s.value=0},{immediate:!0}),e({hoveringIndex:s,navigateOptions:g,selectHoverOption:m,hoverOption:p}),(b,_)=>($(),ge("div",{ref_key:"dropdownRef",ref:c,class:j(S(i).b("dropdown"))},[b.$slots.header?($(),ge("div",{key:0,class:j(S(i).be("dropdown","header"))},[Qe(b.$slots,"header")],2)):Je("v-if",!0),Sn(pe(S(Mu),{id:b.contentId,ref_key:"scrollbarRef",ref:o,tag:"ul","wrap-class":S(i).be("dropdown","wrap"),"view-class":S(i).be("dropdown","list"),role:"listbox","aria-label":b.ariaLabel,"aria-orientation":"vertical"},{default:Me(()=>[($(!0),ge(Bt,null,kn(b.options,(w,x)=>($(),ge("li",{id:`${b.contentId}-${x}`,ref_for:!0,ref_key:"optionRefs",ref:l,key:x,class:j(u(w,x)),role:"option","aria-disabled":w.disabled||b.disabled||void 0,"aria-selected":s.value===x,onMousemove:M=>f(x),onClick:sn(M=>d(w),["stop"])},[Qe(b.$slots,"label",{item:w,index:x},()=>{var M;return[_e("span",null,_t((M=w.label)!=null?M:w.value),1)]})],42,["id","aria-disabled","aria-selected","onMousemove","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[lr,b.options.length>0&&!b.loading]]),b.loading?($(),ge("div",{key:1,class:j(S(i).be("dropdown","loading"))},[Qe(b.$slots,"loading",{},()=>[un(_t(S(a)("el.mention.loading")),1)])],2)):Je("v-if",!0),b.$slots.footer?($(),ge("div",{key:2,class:j(S(i).be("dropdown","footer"))},[Qe(b.$slots,"footer")],2)):Je("v-if",!0)],2))}});var ZDe=It(jDe,[["__file","mention-dropdown.vue"]]);const QDe=Pe({name:"ElMention",inheritAttrs:!1}),JDe=Pe({...QDe,props:WDe,emits:qDe,setup(n,{expose:e,emit:t}){const r=n,i=U(()=>vc(r,Object.keys(_6))),a=yt("mention"),s=ps(),o=Ya(),l=te(),c=te(),u=te(),d=te(!1),f=te(),h=te(),p=U(()=>r.showArrow?r.placement:`${r.placement}-start`),m=U(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),g=U(()=>{const{filterOption:L,options:k}=r;return!h.value||!L?k:k.filter(N=>L(h.value.pattern,N))}),v=U(()=>d.value&&(!!g.value.length||r.loading)),y=U(()=>{var L;return`${o.value}-${(L=u.value)==null?void 0:L.hoveringIndex}`}),b=L=>{t("update:modelValue",L),T()},_=L=>{var k,N,F,D;if(!(!("code"in L)||(k=l.value)!=null&&k.isComposing))switch(L.code){case Ot.left:case Ot.right:T();break;case Ot.up:case Ot.down:if(!d.value)return;L.preventDefault(),(N=u.value)==null||N.navigateOptions(L.code===Ot.up?"prev":"next");break;case Ot.enter:case Ot.numpadEnter:if(!d.value)return;L.preventDefault(),(F=u.value)!=null&&F.hoverOption?(D=u.value)==null||D.selectHoverOption():d.value=!1;break;case Ot.esc:if(!d.value)return;L.preventDefault(),d.value=!1;break;case Ot.backspace:if(r.whole&&h.value){const{splitIndex:H,selectionEnd:z,pattern:B,prefixIndex:W,prefix:Z}=h.value,ee=C();if(!ee)return;const J=ee.value,re=r.options.find(de=>de.value===B);if((Kt(r.checkIsWhole)?r.checkIsWhole(B,Z):re)&&H!==-1&&H+1===z){L.preventDefault();const de=J.slice(0,W)+J.slice(H+1);t(Tn,de);const me=W;Yt(()=>{ee.selectionStart=me,ee.selectionEnd=me,I()})}}}},{wrapperRef:w}=Dh(l,{beforeFocus(){return s.value},afterFocus(){T()},beforeBlur(L){var k;return(k=c.value)==null?void 0:k.isFocusInsideContent(L)},afterBlur(){d.value=!1}}),x=()=>{T()},M=L=>{if(!h.value)return;const k=C();if(!k)return;const N=k.value,{split:F}=r,D=N.slice(h.value.end),H=D.startsWith(F),z=`${L.value}${H?"":F}`,B=N.slice(0,h.value.start)+z+D;t(Tn,B),t("select",L,h.value.prefix);const W=h.value.start+z.length+(H?1:0);Yt(()=>{k.selectionStart=W,k.selectionEnd=W,k.focus(),I()})},C=()=>{var L,k;return r.type==="textarea"?(L=l.value)==null?void 0:L.textarea:(k=l.value)==null?void 0:k.input},T=()=>{setTimeout(()=>{A(),I(),Yt(()=>{var L;return(L=c.value)==null?void 0:L.updatePopper()})},0)},A=()=>{const L=C();if(!L)return;const k=GDe(L),N=L.getBoundingClientRect(),F=l.value.$el.getBoundingClientRect();f.value={position:"absolute",width:0,height:`${k.height}px`,left:`${k.left+N.left-F.left}px`,top:`${k.top+N.top-F.top}px`}},I=()=>{const L=C();if(document.activeElement!==L){d.value=!1;return}const{prefix:k,split:N}=r;if(h.value=$De(L,k,N),h.value&&h.value.splitIndex===-1){d.value=!0,t("search",h.value.pattern,h.value.prefix);return}d.value=!1};return e({input:l,tooltip:c,dropdownVisible:v}),(L,k)=>($(),ge("div",{ref_key:"wrapperRef",ref:w,class:j(S(a).b())},[pe(S(Ls),Bn(Bn(S(i),L.$attrs),{ref_key:"elInputRef",ref:l,"model-value":L.modelValue,disabled:S(s),role:S(v)?"combobox":void 0,"aria-activedescendant":S(v)?S(y)||"":void 0,"aria-controls":S(v)?S(o):void 0,"aria-expanded":S(v)||void 0,"aria-label":L.ariaLabel,"aria-autocomplete":S(v)?"none":void 0,"aria-haspopup":S(v)?"listbox":void 0,onInput:b,onKeydown:_,onMousedown:x}),rl({_:2},[kn(L.$slots,(N,F)=>({name:F,fn:Me(D=>[Qe(L.$slots,F,Ll(Md(D)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),pe(S(ds),{ref_key:"tooltipRef",ref:c,visible:S(v),"popper-class":[S(a).e("popper"),L.popperClass],"popper-options":L.popperOptions,placement:S(p),"fallback-placements":S(m),effect:"light",pure:"",offset:L.offset,"show-arrow":L.showArrow},{default:Me(()=>[_e("div",{style:Ft(f.value)},null,4)]),content:Me(()=>{var N;return[pe(ZDe,{ref_key:"dropdownRef",ref:u,options:S(g),disabled:S(s),loading:L.loading,"content-id":S(o),"aria-label":L.ariaLabel,onSelect:M,onClick:sn((N=l.value)==null?void 0:N.focus,["stop"])},rl({_:2},[kn(L.$slots,(F,D)=>({name:D,fn:Me(H=>[Qe(L.$slots,D,Ll(Md(H)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var e6e=It(JDe,[["__file","mention.vue"]]);const t6e=gn(e6e);var n6e=[Xme,Cge,gbe,VRe,xbe,Rbe,RX,Vbe,$be,Ba,BX,D_e,F_e,tSe,nSe,nwe,aj,lwe,ql,vSe,jX,hwe,Iwe,Rwe,tA,nxe,axe,gxe,yxe,bxe,_xe,Sxe,L2e,V2e,$2e,tCe,Fj,dCe,eMe,tMe,nMe,Kj,tTe,nTe,Gt,hTe,jj,Ls,Zj,ITe,OTe,tAe,nAe,rAe,iAe,uAe,tEe,oEe,vEe,MX,sZ,rj,ISe,ESe,TEe,PEe,FEe,Mu,A0,JC,OAe,g3e,T3e,A3e,q3e,Z3e,bZ,l4e,g4e,y4e,C4e,LIe,DIe,HRe,r5e,i5e,Ig,c5e,Qxe,m5e,_5e,S5e,ds,CPe,BPe,fM,nLe,bLe,VLe,QLe,xDe,CDe,kDe,ODe,HDe,t6e];const wl="ElInfiniteScroll",r6e=50,i6e=200,a6e=0,s6e={delay:{type:Number,default:i6e},distance:{type:Number,default:a6e},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},Ik=(n,e)=>Object.entries(s6e).reduce((t,[r,i])=>{var a,s;const{type:o,default:l}=i,c=n.getAttribute(`infinite-scroll-${r}`);let u=(s=(a=e[c])!=null?a:c)!=null?s:l;return u=u==="false"?!1:u,u=o(u),t[r]=Number.isNaN(u)?l:u,t},{}),VQ=n=>{const{observer:e}=n[wl];e&&(e.disconnect(),delete n[wl].observer)},o6e=(n,e)=>{const{container:t,containerEl:r,instance:i,observer:a,lastScrollTop:s}=n[wl],{disabled:o,distance:l}=Ik(n,i),{clientHeight:c,scrollHeight:u,scrollTop:d}=r,f=d-s;if(n[wl].lastScrollTop=d,a||o||f<0)return;let h=!1;if(t===n)h=u-(c+d)<=l;else{const{clientTop:p,scrollHeight:m}=n,g=qR(n,r);h=d+c>=g+p+m-l}h&&e.call(i)};function l3(n,e){const{containerEl:t,instance:r}=n[wl],{disabled:i}=Ik(n,r);i||t.clientHeight===0||(t.scrollHeight<=t.clientHeight?e.call(r):VQ(n))}const l6e={async mounted(n,e){const{instance:t,value:r}=e;Kt(r)||va(wl,"'v-infinite-scroll' binding value must be a function"),await Yt();const{delay:i,immediate:a}=Ik(n,t),s=f6(n,!0),o=s===window?document.documentElement:s,l=o0(o6e.bind(null,n,r),i);if(s){if(n[wl]={instance:t,container:s,containerEl:o,delay:i,cb:r,onScroll:l,lastScrollTop:o.scrollTop},a){const c=new MutationObserver(o0(l3.bind(null,n,r),r6e));n[wl].observer=c,c.observe(n,{childList:!0,subtree:!0}),l3(n,r)}s.addEventListener("scroll",l)}},unmounted(n){if(!n[wl])return;const{container:e,onScroll:t}=n[wl];e==null||e.removeEventListener("scroll",t),VQ(n)},async updated(n){if(!n[wl])await Yt();else{const{containerEl:e,cb:t,observer:r}=n[wl];e.clientHeight&&r&&l3(n,t)}}},k5=l6e;k5.install=n=>{n.directive("InfiniteScroll",k5)};const c6e=k5;function u6e(n){let e;const t=te(!1),r=pr({...n,originalPosition:"",originalOverflow:"",visible:!1});function i(f){r.text=f}function a(){const f=r.parent,h=d.ns;if(!f.vLoadingAddClassList){let p=f.getAttribute("loading-number");p=Number.parseInt(p)-1,p?f.setAttribute("loading-number",p.toString()):(ks(f,h.bm("parent","relative")),f.removeAttribute("loading-number")),ks(f,h.bm("parent","hidden"))}s(),u.unmount()}function s(){var f,h;(h=(f=d.$el)==null?void 0:f.parentNode)==null||h.removeChild(d.$el)}function o(){var f;n.beforeClose&&!n.beforeClose()||(t.value=!0,clearTimeout(e),e=setTimeout(l,400),r.visible=!1,(f=n.closed)==null||f.call(n))}function l(){if(!t.value)return;const f=r.parent;t.value=!1,f.vLoadingAddClassList=void 0,a()}const c=Pe({name:"ElLoading",setup(f,{expose:h}){const{ns:p,zIndex:m}=YT("loading");return h({ns:p,zIndex:m}),()=>{const g=r.spinner||r.svg,v=$t("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...g?{innerHTML:g}:{}},[$t("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),y=r.text?$t("p",{class:p.b("text")},[r.text]):void 0;return $t(sa,{name:p.b("fade"),onAfterLeave:l},{default:Me(()=>[Sn(pe("div",{style:{backgroundColor:r.background||""},class:[p.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[$t("div",{class:p.b("spinner")},[v,y])]),[[lr,r.visible]])])})}}}),u=qD(c),d=u.mount(document.createElement("div"));return{...aa(r),setText:i,removeElLoadingChild:s,close:o,handleAfterLeave:l,vm:d,get $el(){return d.$el}}}let kw;const O5=function(n={}){if(!tr)return;const e=d6e(n);if(e.fullscreen&&kw)return kw;const t=u6e({...e,closed:()=>{var i;(i=e.closed)==null||i.call(e),e.fullscreen&&(kw=void 0)}});f6e(e,e.parent,t),k9(e,e.parent,t),e.parent.vLoadingAddClassList=()=>k9(e,e.parent,t);let r=e.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",e.parent.setAttribute("loading-number",r),e.parent.appendChild(t.$el),Yt(()=>t.visible.value=e.visible),e.fullscreen&&(kw=t),t},d6e=n=>{var e,t,r,i;let a;return qt(n.target)?a=(e=document.querySelector(n.target))!=null?e:document.body:a=n.target||document.body,{parent:a===document.body||n.body?document.body:a,background:n.background||"",svg:n.svg||"",svgViewBox:n.svgViewBox||"",spinner:n.spinner||!1,text:n.text||"",fullscreen:a===document.body&&((t=n.fullscreen)!=null?t:!0),lock:(r=n.lock)!=null?r:!1,customClass:n.customClass||"",visible:(i=n.visible)!=null?i:!0,beforeClose:n.beforeClose,closed:n.closed,target:a}},f6e=async(n,e,t)=>{const{nextZIndex:r}=t.vm.zIndex||t.vm._.exposed.zIndex,i={};if(n.fullscreen)t.originalPosition.value=ud(document.body,"position"),t.originalOverflow.value=ud(document.body,"overflow"),i.zIndex=r();else if(n.parent===document.body){t.originalPosition.value=ud(document.body,"position"),await Yt();for(const a of["top","left"]){const s=a==="top"?"scrollTop":"scrollLeft";i[a]=`${n.target.getBoundingClientRect()[a]+document.body[s]+document.documentElement[s]-Number.parseInt(ud(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])i[a]=`${n.target.getBoundingClientRect()[a]}px`}else t.originalPosition.value=ud(e,"position");for(const[a,s]of Object.entries(i))t.$el.style[a]=s},k9=(n,e,t)=>{const r=t.vm.ns||t.vm._.exposed.ns;["absolute","fixed","sticky"].includes(t.originalPosition.value)?ks(e,r.bm("parent","relative")):Dl(e,r.bm("parent","relative")),n.fullscreen&&n.lock?Dl(e,r.bm("parent","hidden")):ks(e,r.bm("parent","hidden"))},tC=Symbol("ElLoading"),O9=(n,e)=>{var t,r,i,a;const s=e.instance,o=f=>Pn(e.value)?e.value[f]:void 0,l=f=>{const h=qt(f)&&(s==null?void 0:s[f])||f;return h&&te(h)},c=f=>l(o(f)||n.getAttribute(`element-loading-${Go(f)}`)),u=(t=o("fullscreen"))!=null?t:e.modifiers.fullscreen,d={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:u,target:(r=o("target"))!=null?r:u?void 0:n,body:(i=o("body"))!=null?i:e.modifiers.body,lock:(a=o("lock"))!=null?a:e.modifiers.lock};n[tC]={options:d,instance:O5(d)}},h6e=(n,e)=>{for(const t of Object.keys(e))Ur(e[t])&&(e[t].value=n[t])},N9={mounted(n,e){e.value&&O9(n,e)},updated(n,e){const t=n[tC];e.oldValue!==e.value&&(e.value&&!e.oldValue?O9(n,e):e.value&&e.oldValue?Pn(e.value)&&h6e(e.value,t.options):t==null||t.instance.close())},unmounted(n){var e;(e=n[tC])==null||e.instance.close(),n[tC]=null}},p6e={install(n){n.directive("loading",N9),n.config.globalProperties.$loading=O5},directive:N9,service:O5},$Q=["success","info","warning","error"],ws=wi({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:tr?document.body:void 0}),m6e=Et({customClass:{type:String,default:ws.customClass},center:{type:Boolean,default:ws.center},dangerouslyUseHTMLString:{type:Boolean,default:ws.dangerouslyUseHTMLString},duration:{type:Number,default:ws.duration},icon:{type:Dr,default:ws.icon},id:{type:String,default:ws.id},message:{type:Ke([String,Object,Function]),default:ws.message},onClose:{type:Ke(Function),default:ws.onClose},showClose:{type:Boolean,default:ws.showClose},type:{type:String,values:$Q,default:ws.type},plain:{type:Boolean,default:ws.plain},offset:{type:Number,default:ws.offset},zIndex:{type:Number,default:ws.zIndex},grouping:{type:Boolean,default:ws.grouping},repeatNum:{type:Number,default:ws.repeatNum}}),v6e={destroy:()=>!0},gc=TD([]),g6e=n=>{const e=gc.findIndex(i=>i.id===n),t=gc[e];let r;return e>0&&(r=gc[e-1]),{current:t,prev:r}},y6e=n=>{const{prev:e}=g6e(n);return e?e.vm.exposed.bottom.value:0},b6e=(n,e)=>gc.findIndex(r=>r.id===n)>0?16:e,_6e=Pe({name:"ElMessage"}),S6e=Pe({..._6e,props:m6e,emits:v6e,setup(n,{expose:e}){const t=n,{Close:r}=b6,{ns:i,zIndex:a}=YT("message"),{currentZIndex:s,nextZIndex:o}=a,l=te(),c=te(!1),u=te(0);let d;const f=U(()=>t.type?t.type==="error"?"danger":t.type:"info"),h=U(()=>{const M=t.type;return{[i.bm("icon",M)]:M&&yh[M]}}),p=U(()=>t.icon||yh[t.type]||""),m=U(()=>y6e(t.id)),g=U(()=>b6e(t.id,t.offset)+m.value),v=U(()=>u.value+g.value),y=U(()=>({top:`${g.value}px`,zIndex:s.value}));function b(){t.duration!==0&&({stop:d}=M0(()=>{w()},t.duration))}function _(){d==null||d()}function w(){c.value=!1}function x({code:M}){M===Ot.esc&&w()}return dn(()=>{b(),o(),c.value=!0}),dt(()=>t.repeatNum,()=>{_(),b()}),Ar(document,"keydown",x),hi(l,()=>{u.value=l.value.getBoundingClientRect().height}),e({visible:c,bottom:v,close:w}),(M,C)=>($(),rt(sa,{name:S(i).b("fade"),onBeforeLeave:M.onClose,onAfterLeave:T=>M.$emit("destroy"),persisted:""},{default:Me(()=>[Sn(_e("div",{id:M.id,ref_key:"messageRef",ref:l,class:j([S(i).b(),{[S(i).m(M.type)]:M.type},S(i).is("center",M.center),S(i).is("closable",M.showClose),S(i).is("plain",M.plain),M.customClass]),style:Ft(S(y)),role:"alert",onMouseenter:_,onMouseleave:b},[M.repeatNum>1?($(),rt(S(RX),{key:0,value:M.repeatNum,type:S(f),class:j(S(i).e("badge"))},null,8,["value","type","class"])):Je("v-if",!0),S(p)?($(),rt(S(Gt),{key:1,class:j([S(i).e("icon"),S(h)])},{default:Me(()=>[($(),rt(Rn(S(p))))]),_:1},8,["class"])):Je("v-if",!0),Qe(M.$slots,"default",{},()=>[M.dangerouslyUseHTMLString?($(),ge(Bt,{key:1},[Je(" Caution here, message could've been compromised, never use user's input as message "),_e("p",{class:j(S(i).e("content")),innerHTML:M.message},null,10,["innerHTML"])],2112)):($(),ge("p",{key:0,class:j(S(i).e("content"))},_t(M.message),3))]),M.showClose?($(),rt(S(Gt),{key:2,class:j(S(i).e("closeBtn")),onClick:sn(w,["stop"])},{default:Me(()=>[pe(S(r))]),_:1},8,["class","onClick"])):Je("v-if",!0)],46,["id"]),[[lr,c.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var w6e=It(S6e,[["__file","message.vue"]]);let x6e=1;const GQ=n=>{const e=!n||qt(n)||ti(n)||Kt(n)?{message:n}:n,t={...ws,...e};if(!t.appendTo)t.appendTo=document.body;else if(qt(t.appendTo)){let r=document.querySelector(t.appendTo);Zo(r)||(r=document.body),t.appendTo=r}return Vr(fc.grouping)&&!t.grouping&&(t.grouping=fc.grouping),en(fc.duration)&&t.duration===3e3&&(t.duration=fc.duration),en(fc.offset)&&t.offset===16&&(t.offset=fc.offset),Vr(fc.showClose)&&!t.showClose&&(t.showClose=fc.showClose),t},C6e=n=>{const e=gc.indexOf(n);if(e===-1)return;gc.splice(e,1);const{handler:t}=n;t.close()},M6e=({appendTo:n,...e},t)=>{const r=`message_${x6e++}`,i=e.onClose,a=document.createElement("div"),s={...e,id:r,onClose:()=>{i==null||i(),C6e(u)},onDestroy:()=>{Tc(null,a)}},o=pe(w6e,s,Kt(s.message)||ti(s.message)?{default:Kt(s.message)?s.message:()=>s.message}:null);o.appContext=t||Og._context,Tc(o,a),n.appendChild(a.firstElementChild);const l=o.component,u={id:r,vnode:o,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:o.component.props};return u},Og=(n={},e)=>{if(!tr)return{close:()=>{}};const t=GQ(n);if(t.grouping&&gc.length){const i=gc.find(({vnode:a})=>{var s;return((s=a.props)==null?void 0:s.message)===t.message});if(i)return i.props.repeatNum+=1,i.props.type=t.type,i.handler}if(en(fc.max)&&gc.length>=fc.max)return{close:()=>{}};const r=M6e(t,e);return gc.push(r),r.handler};$Q.forEach(n=>{Og[n]=(e={},t)=>{const r=GQ(e);return Og({...r,type:n},t)}});function T6e(n){for(const e of gc)(!n||n===e.props.type)&&e.handler.close()}Og.closeAll=T6e;Og._context=null;const A6e=XY(Og,"$message"),N5="_trap-focus-children",qp=[],B9=n=>{if(qp.length===0)return;const e=qp[qp.length-1][N5];if(e.length>0&&n.code===Ot.tab){if(e.length===1){n.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const t=n.shiftKey,r=n.target===e[0],i=n.target===e[e.length-1];r&&t&&(n.preventDefault(),e[e.length-1].focus()),i&&!t&&(n.preventDefault(),e[0].focus())}},E6e={beforeMount(n){n[N5]=XF(n),qp.push(n),qp.length<=1&&document.addEventListener("keydown",B9)},updated(n){Yt(()=>{n[N5]=XF(n)})},unmounted(){qp.shift(),qp.length===0&&document.removeEventListener("keydown",B9)}},I6e=Pe({name:"ElMessageBox",directives:{TrapFocus:E6e},components:{ElButton:Ba,ElFocusTrap:gy,ElInput:Ls,ElOverlay:Y6,ElIcon:Gt,...b6},inheritAttrs:!1,props:{buttonSize:{type:String,validator:SZ},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(n,{emit:e}){const{locale:t,zIndex:r,ns:i,size:a}=YT("message-box",U(()=>n.buttonSize)),{t:s}=t,{nextZIndex:o}=r,l=te(!1),c=pr({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:ou(mu),cancelButtonLoadingIcon:ou(mu),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:o()}),u=U(()=>{const D=c.type;return{[i.bm("icon",D)]:D&&yh[D]}}),d=Ya(),f=Ya(),h=U(()=>c.icon||yh[c.type]||""),p=U(()=>!!c.message),m=te(),g=te(),v=te(),y=te(),b=te(),_=U(()=>c.confirmButtonClass);dt(()=>c.inputValue,async D=>{await Yt(),n.boxType==="prompt"&&D!==null&&L()},{immediate:!0}),dt(()=>l.value,D=>{var H,z;D&&(n.boxType!=="prompt"&&(c.autofocus?v.value=(z=(H=b.value)==null?void 0:H.$el)!=null?z:m.value:v.value=m.value),c.zIndex=o()),n.boxType==="prompt"&&(D?Yt().then(()=>{var B;y.value&&y.value.$el&&(c.autofocus?v.value=(B=k())!=null?B:m.value:v.value=m.value)}):(c.editorErrorMessage="",c.validateError=!1))});const w=U(()=>n.draggable),x=U(()=>n.overflow);kj(m,g,w,x),dn(async()=>{await Yt(),n.closeOnHashChange&&window.addEventListener("hashchange",M)}),vr(()=>{n.closeOnHashChange&&window.removeEventListener("hashchange",M)});function M(){l.value&&(l.value=!1,Yt(()=>{c.action&&e("action",c.action)}))}const C=()=>{n.closeOnClickModal&&I(c.distinguishCancelAndClose?"close":"cancel")},T=K6(C),A=D=>{if(c.inputType!=="textarea")return D.preventDefault(),I("confirm")},I=D=>{var H;n.boxType==="prompt"&&D==="confirm"&&!L()||(c.action=D,c.beforeClose?(H=c.beforeClose)==null||H.call(c,D,c,M):M())},L=()=>{if(n.boxType==="prompt"){const D=c.inputPattern;if(D&&!D.test(c.inputValue||""))return c.editorErrorMessage=c.inputErrorMessage||s("el.messagebox.error"),c.validateError=!0,!1;const H=c.inputValidator;if(Kt(H)){const z=H(c.inputValue);if(z===!1)return c.editorErrorMessage=c.inputErrorMessage||s("el.messagebox.error"),c.validateError=!0,!1;if(qt(z))return c.editorErrorMessage=z,c.validateError=!0,!1}}return c.editorErrorMessage="",c.validateError=!1,!0},k=()=>{const D=y.value.$refs;return D.input||D.textarea},N=()=>{I("close")},F=()=>{n.closeOnPressEscape&&N()};return n.lockScroll&&X6(l),{...aa(c),ns:i,overlayEvent:T,visible:l,hasMessage:p,typeClass:u,contentId:d,inputId:f,btnSize:a,iconComponent:h,confirmButtonClasses:_,rootRef:m,focusStartRef:v,headerRef:g,inputRef:y,confirmRef:b,doClose:M,handleClose:N,onCloseRequested:F,handleWrapperClick:C,handleInputEnter:A,handleAction:I,t:s}}});function R6e(n,e,t,r,i,a){const s=Lt("el-icon"),o=Lt("close"),l=Lt("el-input"),c=Lt("el-button"),u=Lt("el-focus-trap"),d=Lt("el-overlay");return $(),rt(sa,{name:"fade-in-linear",onAfterLeave:f=>n.$emit("vanish"),persisted:""},{default:Me(()=>[Sn(pe(d,{"z-index":n.zIndex,"overlay-class":[n.ns.is("message-box"),n.modalClass],mask:n.modal},{default:Me(()=>[_e("div",{role:"dialog","aria-label":n.title,"aria-modal":"true","aria-describedby":n.showInput?void 0:n.contentId,class:j(`${n.ns.namespace.value}-overlay-message-box`),onClick:n.overlayEvent.onClick,onMousedown:n.overlayEvent.onMousedown,onMouseup:n.overlayEvent.onMouseup},[pe(u,{loop:"",trapped:n.visible,"focus-trap-el":n.rootRef,"focus-start-el":n.focusStartRef,onReleaseRequested:n.onCloseRequested},{default:Me(()=>[_e("div",{ref:"rootRef",class:j([n.ns.b(),n.customClass,n.ns.is("draggable",n.draggable),{[n.ns.m("center")]:n.center}]),style:Ft(n.customStyle),tabindex:"-1",onClick:sn(()=>{},["stop"])},[n.title!==null&&n.title!==void 0?($(),ge("div",{key:0,ref:"headerRef",class:j([n.ns.e("header"),{"show-close":n.showClose}])},[_e("div",{class:j(n.ns.e("title"))},[n.iconComponent&&n.center?($(),rt(s,{key:0,class:j([n.ns.e("status"),n.typeClass])},{default:Me(()=>[($(),rt(Rn(n.iconComponent)))]),_:1},8,["class"])):Je("v-if",!0),_e("span",null,_t(n.title),1)],2),n.showClose?($(),ge("button",{key:0,type:"button",class:j(n.ns.e("headerbtn")),"aria-label":n.t("el.messagebox.close"),onClick:f=>n.handleAction(n.distinguishCancelAndClose?"close":"cancel"),onKeydown:Rr(sn(f=>n.handleAction(n.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[pe(s,{class:j(n.ns.e("close"))},{default:Me(()=>[pe(o)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):Je("v-if",!0)],2)):Je("v-if",!0),_e("div",{id:n.contentId,class:j(n.ns.e("content"))},[_e("div",{class:j(n.ns.e("container"))},[n.iconComponent&&!n.center&&n.hasMessage?($(),rt(s,{key:0,class:j([n.ns.e("status"),n.typeClass])},{default:Me(()=>[($(),rt(Rn(n.iconComponent)))]),_:1},8,["class"])):Je("v-if",!0),n.hasMessage?($(),ge("div",{key:1,class:j(n.ns.e("message"))},[Qe(n.$slots,"default",{},()=>[n.dangerouslyUseHTMLString?($(),rt(Rn(n.showInput?"label":"p"),{key:1,for:n.showInput?n.inputId:void 0,innerHTML:n.message},null,8,["for","innerHTML"])):($(),rt(Rn(n.showInput?"label":"p"),{key:0,for:n.showInput?n.inputId:void 0},{default:Me(()=>[un(_t(n.dangerouslyUseHTMLString?"":n.message),1)]),_:1},8,["for"]))])],2)):Je("v-if",!0)],2),Sn(_e("div",{class:j(n.ns.e("input"))},[pe(l,{id:n.inputId,ref:"inputRef",modelValue:n.inputValue,"onUpdate:modelValue":f=>n.inputValue=f,type:n.inputType,placeholder:n.inputPlaceholder,"aria-invalid":n.validateError,class:j({invalid:n.validateError}),onKeydown:Rr(n.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),_e("div",{class:j(n.ns.e("errormsg")),style:Ft({visibility:n.editorErrorMessage?"visible":"hidden"})},_t(n.editorErrorMessage),7)],2),[[lr,n.showInput]])],10,["id"]),_e("div",{class:j(n.ns.e("btns"))},[n.showCancelButton?($(),rt(c,{key:0,loading:n.cancelButtonLoading,"loading-icon":n.cancelButtonLoadingIcon,class:j([n.cancelButtonClass]),round:n.roundButton,size:n.btnSize,onClick:f=>n.handleAction("cancel"),onKeydown:Rr(sn(f=>n.handleAction("cancel"),["prevent"]),["enter"])},{default:Me(()=>[un(_t(n.cancelButtonText||n.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):Je("v-if",!0),Sn(pe(c,{ref:"confirmRef",type:"primary",loading:n.confirmButtonLoading,"loading-icon":n.confirmButtonLoadingIcon,class:j([n.confirmButtonClasses]),round:n.roundButton,disabled:n.confirmButtonDisabled,size:n.btnSize,onClick:f=>n.handleAction("confirm"),onKeydown:Rr(sn(f=>n.handleAction("confirm"),["prevent"]),["enter"])},{default:Me(()=>[un(_t(n.confirmButtonText||n.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[lr,n.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[lr,n.visible]])]),_:3},8,["onAfterLeave"])}var P6e=It(I6e,[["render",R6e],["__file","index.vue"]]);const S_=new Map,L6e=n=>{let e=document.body;return n.appendTo&&(qt(n.appendTo)&&(e=document.querySelector(n.appendTo)),Zo(n.appendTo)&&(e=n.appendTo),Zo(e)||(e=document.body)),e},D6e=(n,e,t=null)=>{const r=pe(P6e,n,Kt(n.message)||ti(n.message)?{default:Kt(n.message)?n.message:()=>n.message}:null);return r.appContext=t,Tc(r,e),L6e(n).appendChild(e.firstElementChild),r.component},k6e=()=>document.createElement("div"),O6e=(n,e)=>{const t=k6e();n.onVanish=()=>{Tc(null,t),S_.delete(i)},n.onAction=a=>{const s=S_.get(i);let o;n.showInput?o={value:i.inputValue,action:a}:o=a,n.callback?n.callback(o,r.proxy):a==="cancel"||a==="close"?n.distinguishCancelAndClose&&a!=="cancel"?s.reject("close"):s.reject("cancel"):s.resolve(o)};const r=D6e(n,t,e),i=r.proxy;for(const a in n)ar(n,a)&&!ar(i.$props,a)&&(i[a]=n[a]);return i.visible=!0,i};function Sy(n,e=null){if(!tr)return Promise.reject();let t;return qt(n)||ti(n)?n={message:n}:t=n.callback,new Promise((r,i)=>{const a=O6e(n,e??Sy._context);S_.set(a,{options:n,callback:t,resolve:r,reject:i})})}const N6e=["alert","confirm","prompt"],B6e={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};N6e.forEach(n=>{Sy[n]=F6e(n)});function F6e(n){return(e,t,r,i)=>{let a="";return Pn(t)?(r=t,a=""):Tr(t)?a="":a=t,Sy(Object.assign({title:a,message:e,type:"",...B6e[n]},r,{boxType:n}),i)}}Sy.close=()=>{S_.forEach((n,e)=>{e.doClose()}),S_.clear()};Sy._context=null;const Lf=Sy;Lf.install=n=>{Lf._context=n._context,n.config.globalProperties.$msgbox=Lf,n.config.globalProperties.$messageBox=Lf,n.config.globalProperties.$alert=Lf.alert,n.config.globalProperties.$confirm=Lf.confirm,n.config.globalProperties.$prompt=Lf.prompt};const z6e=Lf,WQ=["success","info","warning","error"],U6e=Et({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:Dr},id:{type:String,default:""},message:{type:Ke([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:Ke(Function),default:()=>{}},onClose:{type:Ke(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...WQ,""],default:""},zIndex:Number}),H6e={destroy:()=>!0},V6e=Pe({name:"ElNotification"}),$6e=Pe({...V6e,props:U6e,emits:H6e,setup(n,{expose:e}){const t=n,{ns:r,zIndex:i}=YT("notification"),{nextZIndex:a,currentZIndex:s}=i,{Close:o}=y6,l=te(!1);let c;const u=U(()=>{const b=t.type;return b&&yh[t.type]?r.m(b):""}),d=U(()=>t.type&&yh[t.type]||t.icon),f=U(()=>t.position.endsWith("right")?"right":"left"),h=U(()=>t.position.startsWith("top")?"top":"bottom"),p=U(()=>{var b;return{[h.value]:`${t.offset}px`,zIndex:(b=t.zIndex)!=null?b:s.value}});function m(){t.duration>0&&({stop:c}=M0(()=>{l.value&&v()},t.duration))}function g(){c==null||c()}function v(){l.value=!1}function y({code:b}){b===Ot.delete||b===Ot.backspace?g():b===Ot.esc?l.value&&v():m()}return dn(()=>{m(),a(),l.value=!0}),Ar(document,"keydown",y),e({visible:l,close:v}),(b,_)=>($(),rt(sa,{name:S(r).b("fade"),onBeforeLeave:b.onClose,onAfterLeave:w=>b.$emit("destroy"),persisted:""},{default:Me(()=>[Sn(_e("div",{id:b.id,class:j([S(r).b(),b.customClass,S(f)]),style:Ft(S(p)),role:"alert",onMouseenter:g,onMouseleave:m,onClick:b.onClick},[S(d)?($(),rt(S(Gt),{key:0,class:j([S(r).e("icon"),S(u)])},{default:Me(()=>[($(),rt(Rn(S(d))))]),_:1},8,["class"])):Je("v-if",!0),_e("div",{class:j(S(r).e("group"))},[_e("h2",{class:j(S(r).e("title")),textContent:_t(b.title)},null,10,["textContent"]),Sn(_e("div",{class:j(S(r).e("content")),style:Ft(b.title?void 0:{margin:0})},[Qe(b.$slots,"default",{},()=>[b.dangerouslyUseHTMLString?($(),ge(Bt,{key:1},[Je(" Caution here, message could've been compromised, never use user's input as message "),_e("p",{innerHTML:b.message},null,8,["innerHTML"])],2112)):($(),ge("p",{key:0},_t(b.message),1))])],6),[[lr,b.message]]),b.showClose?($(),rt(S(Gt),{key:0,class:j(S(r).e("closeBtn")),onClick:sn(v,["stop"])},{default:Me(()=>[pe(S(o))]),_:1},8,["class","onClick"])):Je("v-if",!0)],2)],46,["id","onClick"]),[[lr,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var G6e=It($6e,[["__file","notification.vue"]]);const hM={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},B5=16;let W6e=1;const Ng=function(n={},e){if(!tr)return{close:()=>{}};(qt(n)||ti(n))&&(n={message:n});const t=n.position||"top-right";let r=n.offset||0;hM[t].forEach(({vm:u})=>{var d;r+=(((d=u.el)==null?void 0:d.offsetHeight)||0)+B5}),r+=B5;const i=`notification_${W6e++}`,a=n.onClose,s={...n,offset:r,id:i,onClose:()=>{q6e(i,t,a)}};let o=document.body;Zo(n.appendTo)?o=n.appendTo:qt(n.appendTo)&&(o=document.querySelector(n.appendTo)),Zo(o)||(o=document.body);const l=document.createElement("div"),c=pe(G6e,s,Kt(s.message)?s.message:ti(s.message)?()=>s.message:null);return c.appContext=Tr(e)?Ng._context:e,c.props.onDestroy=()=>{Tc(null,l)},Tc(c,l),hM[t].push({vm:c}),o.appendChild(l.firstElementChild),{close:()=>{c.component.exposed.visible.value=!1}}};WQ.forEach(n=>{Ng[n]=(e={},t)=>((qt(e)||ti(e))&&(e={message:e}),Ng({...e,type:n},t))});function q6e(n,e,t){const r=hM[e],i=r.findIndex(({vm:c})=>{var u;return((u=c.component)==null?void 0:u.props.id)===n});if(i===-1)return;const{vm:a}=r[i];if(!a)return;t==null||t(a);const s=a.el.offsetHeight,o=e.split("-")[0];r.splice(i,1);const l=r.length;if(!(l<1))for(let c=i;c<l;c++){const{el:u,component:d}=r[c].vm,f=Number.parseInt(u.style[o],10)-s-B5;d.props.offset=f}}function K6e(){for(const n of Object.values(hM))n.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}Ng.closeAll=K6e;Ng._context=null;const Y6e=XY(Ng,"$notify");var X6e=[c6e,p6e,A6e,z6e,Y6e,aZ],j6e=zme([...n6e,...X6e]);/*!
  * shared v11.2.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Z6e(n,e){typeof console<"u"&&(console.warn("[intlify] "+n),e&&console.warn(e.stack))}const pM=typeof window<"u",Oh=(n,e=!1)=>e?Symbol.for(n):Symbol(n),Q6e=(n,e,t)=>J6e({l:n,k:e,s:t}),J6e=n=>JSON.stringify(n).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Sa=n=>typeof n=="number"&&isFinite(n),eke=n=>Rk(n)==="[object Date]",Bg=n=>Rk(n)==="[object RegExp]",hA=n=>zr(n)&&Object.keys(n).length===0,Fa=Object.assign,tke=Object.create,xi=(n=null)=>tke(n);let F9;const Kp=()=>F9||(F9=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:xi());function z9(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function U9(n){return n.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nke(n){return n=n.replace(/(\w+)\s*=\s*"([^"]*)"/g,(r,i,a)=>`${i}="${U9(a)}"`),n=n.replace(/(\w+)\s*=\s*'([^']*)'/g,(r,i,a)=>`${i}='${U9(a)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(n)&&(n=n.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(r=>{n=n.replace(r,"$1javascript&#58;")}),n}const rke=Object.prototype.hasOwnProperty;function yc(n,e){return rke.call(n,e)}const na=Array.isArray,ki=n=>typeof n=="function",Dn=n=>typeof n=="string",ri=n=>typeof n=="boolean",si=n=>n!==null&&typeof n=="object",ike=n=>si(n)&&ki(n.then)&&ki(n.catch),qQ=Object.prototype.toString,Rk=n=>qQ.call(n),zr=n=>Rk(n)==="[object Object]",ake=n=>n==null?"":na(n)||zr(n)&&n.toString===qQ?JSON.stringify(n,null,2):String(n);function Pk(n,e=""){return n.reduce((t,r,i)=>i===0?t+r:t+e+r,"")}const Ow=n=>!si(n)||na(n);function nC(n,e){if(Ow(n)||Ow(e))throw new Error("Invalid value");const t=[{src:n,des:e}];for(;t.length;){const{src:r,des:i}=t.pop();Object.keys(r).forEach(a=>{a!=="__proto__"&&(si(r[a])&&!si(i[a])&&(i[a]=Array.isArray(r[a])?[]:xi()),Ow(i[a])||Ow(r[a])?i[a]=r[a]:t.push({src:r[a],des:i[a]}))})}}/*!
  * message-compiler v11.2.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function ske(n,e,t){return{line:n,column:e,offset:t}}function F5(n,e,t){const r={start:n,end:e};return t!=null&&(r.source=t),r}const di={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16},oke=17;function pA(n,e,t={}){const{domain:r,messages:i,args:a}=t,s=n,o=new SyntaxError(String(s));return o.code=n,e&&(o.location=e),o.domain=r,o}function lke(n){throw n}const zc=" ",cke="\r",Ms=`
`,uke=String.fromCharCode(8232),dke=String.fromCharCode(8233);function fke(n){const e=n;let t=0,r=1,i=1,a=0;const s=M=>e[M]===cke&&e[M+1]===Ms,o=M=>e[M]===Ms,l=M=>e[M]===dke,c=M=>e[M]===uke,u=M=>s(M)||o(M)||l(M)||c(M),d=()=>t,f=()=>r,h=()=>i,p=()=>a,m=M=>s(M)||l(M)||c(M)?Ms:e[M],g=()=>m(t),v=()=>m(t+a);function y(){return a=0,u(t)&&(r++,i=0),s(t)&&t++,t++,i++,e[t]}function b(){return s(t+a)&&a++,a++,e[t+a]}function _(){t=0,r=1,i=1,a=0}function w(M=0){a=M}function x(){const M=t+a;for(;M!==t;)y();a=0}return{index:d,line:f,column:h,peekOffset:p,charAt:m,currentChar:g,currentPeek:v,next:y,peek:b,reset:_,resetPeek:w,skipToPeek:x}}const Fu=void 0,hke=".",H9="'",pke="tokenizer";function mke(n,e={}){const t=e.location!==!1,r=fke(n),i=()=>r.index(),a=()=>ske(r.line(),r.column(),r.index()),s=a(),o=i(),l={currentType:13,offset:o,startLoc:s,endLoc:s,lastType:13,lastOffset:o,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=e;function d(ce,he,ke,...oe){const V=c();if(he.column+=ke,he.offset+=ke,u){const Y=t?F5(V.startLoc,he):null,Q=pA(ce,Y,{domain:pke,args:oe});u(Q)}}function f(ce,he,ke){ce.endLoc=a(),ce.currentType=he;const oe={type:he};return t&&(oe.loc=F5(ce.startLoc,ce.endLoc)),ke!=null&&(oe.value=ke),oe}const h=ce=>f(ce,13);function p(ce,he){return ce.currentChar()===he?(ce.next(),he):(d(di.EXPECTED_TOKEN,a(),0,he),"")}function m(ce){let he="";for(;ce.currentPeek()===zc||ce.currentPeek()===Ms;)he+=ce.currentPeek(),ce.peek();return he}function g(ce){const he=m(ce);return ce.skipToPeek(),he}function v(ce){if(ce===Fu)return!1;const he=ce.charCodeAt(0);return he>=97&&he<=122||he>=65&&he<=90||he===95}function y(ce){if(ce===Fu)return!1;const he=ce.charCodeAt(0);return he>=48&&he<=57}function b(ce,he){const{currentType:ke}=he;if(ke!==2)return!1;m(ce);const oe=v(ce.currentPeek());return ce.resetPeek(),oe}function _(ce,he){const{currentType:ke}=he;if(ke!==2)return!1;m(ce);const oe=ce.currentPeek()==="-"?ce.peek():ce.currentPeek(),V=y(oe);return ce.resetPeek(),V}function w(ce,he){const{currentType:ke}=he;if(ke!==2)return!1;m(ce);const oe=ce.currentPeek()===H9;return ce.resetPeek(),oe}function x(ce,he){const{currentType:ke}=he;if(ke!==7)return!1;m(ce);const oe=ce.currentPeek()===".";return ce.resetPeek(),oe}function M(ce,he){const{currentType:ke}=he;if(ke!==8)return!1;m(ce);const oe=v(ce.currentPeek());return ce.resetPeek(),oe}function C(ce,he){const{currentType:ke}=he;if(!(ke===7||ke===11))return!1;m(ce);const oe=ce.currentPeek()===":";return ce.resetPeek(),oe}function T(ce,he){const{currentType:ke}=he;if(ke!==9)return!1;const oe=()=>{const Y=ce.currentPeek();return Y==="{"?v(ce.peek()):Y==="@"||Y==="|"||Y===":"||Y==="."||Y===zc||!Y?!1:Y===Ms?(ce.peek(),oe()):I(ce,!1)},V=oe();return ce.resetPeek(),V}function A(ce){m(ce);const he=ce.currentPeek()==="|";return ce.resetPeek(),he}function I(ce,he=!0){const ke=(V=!1,Y="")=>{const Q=ce.currentPeek();return Q==="{"||Q==="@"||!Q?V:Q==="|"?!(Y===zc||Y===Ms):Q===zc?(ce.peek(),ke(!0,zc)):Q===Ms?(ce.peek(),ke(!0,Ms)):!0},oe=ke();return he&&ce.resetPeek(),oe}function L(ce,he){const ke=ce.currentChar();return ke===Fu?Fu:he(ke)?(ce.next(),ke):null}function k(ce){const he=ce.charCodeAt(0);return he>=97&&he<=122||he>=65&&he<=90||he>=48&&he<=57||he===95||he===36}function N(ce){return L(ce,k)}function F(ce){const he=ce.charCodeAt(0);return he>=97&&he<=122||he>=65&&he<=90||he>=48&&he<=57||he===95||he===36||he===45}function D(ce){return L(ce,F)}function H(ce){const he=ce.charCodeAt(0);return he>=48&&he<=57}function z(ce){return L(ce,H)}function B(ce){const he=ce.charCodeAt(0);return he>=48&&he<=57||he>=65&&he<=70||he>=97&&he<=102}function W(ce){return L(ce,B)}function Z(ce){let he="",ke="";for(;he=z(ce);)ke+=he;return ke}function ee(ce){let he="";for(;;){const ke=ce.currentChar();if(ke==="{"||ke==="}"||ke==="@"||ke==="|"||!ke)break;if(ke===zc||ke===Ms)if(I(ce))he+=ke,ce.next();else{if(A(ce))break;he+=ke,ce.next()}else he+=ke,ce.next()}return he}function J(ce){g(ce);let he="",ke="";for(;he=D(ce);)ke+=he;const oe=ce.currentChar();if(oe&&oe!=="}"&&oe!==Fu&&oe!==zc&&oe!==Ms&&oe!==""){const V=Ge(ce);return d(di.INVALID_TOKEN_IN_PLACEHOLDER,a(),0,ke+V),ke+V}return ce.currentChar()===Fu&&d(di.UNTERMINATED_CLOSING_BRACE,a(),0),ke}function re(ce){g(ce);let he="";return ce.currentChar()==="-"?(ce.next(),he+=`-${Z(ce)}`):he+=Z(ce),ce.currentChar()===Fu&&d(di.UNTERMINATED_CLOSING_BRACE,a(),0),he}function fe(ce){return ce!==H9&&ce!==Ms}function de(ce){g(ce),p(ce,"'");let he="",ke="";for(;he=L(ce,fe);)he==="\\"?ke+=me(ce):ke+=he;const oe=ce.currentChar();return oe===Ms||oe===Fu?(d(di.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,a(),0),oe===Ms&&(ce.next(),p(ce,"'")),ke):(p(ce,"'"),ke)}function me(ce){const he=ce.currentChar();switch(he){case"\\":case"'":return ce.next(),`\\${he}`;case"u":return Re(ce,he,4);case"U":return Re(ce,he,6);default:return d(di.UNKNOWN_ESCAPE_SEQUENCE,a(),0,he),""}}function Re(ce,he,ke){p(ce,he);let oe="";for(let V=0;V<ke;V++){const Y=W(ce);if(!Y){d(di.INVALID_UNICODE_ESCAPE_SEQUENCE,a(),0,`\\${he}${oe}${ce.currentChar()}`);break}oe+=Y}return`\\${he}${oe}`}function De(ce){return ce!=="{"&&ce!=="}"&&ce!==zc&&ce!==Ms}function Ge(ce){g(ce);let he="",ke="";for(;he=L(ce,De);)ke+=he;return ke}function We(ce){let he="",ke="";for(;he=N(ce);)ke+=he;return ke}function K(ce){const he=ke=>{const oe=ce.currentChar();return oe==="{"||oe==="@"||oe==="|"||oe==="("||oe===")"||!oe||oe===zc?ke:(ke+=oe,ce.next(),he(ke))};return he("")}function ue(ce){g(ce);const he=p(ce,"|");return g(ce),he}function ie(ce,he){let ke=null;switch(ce.currentChar()){case"{":return he.braceNest>=1&&d(di.NOT_ALLOW_NEST_PLACEHOLDER,a(),0),ce.next(),ke=f(he,2,"{"),g(ce),he.braceNest++,ke;case"}":return he.braceNest>0&&he.currentType===2&&d(di.EMPTY_PLACEHOLDER,a(),0),ce.next(),ke=f(he,3,"}"),he.braceNest--,he.braceNest>0&&g(ce),he.inLinked&&he.braceNest===0&&(he.inLinked=!1),ke;case"@":return he.braceNest>0&&d(di.UNTERMINATED_CLOSING_BRACE,a(),0),ke=$e(ce,he)||h(he),he.braceNest=0,ke;default:{let V=!0,Y=!0,Q=!0;if(A(ce))return he.braceNest>0&&d(di.UNTERMINATED_CLOSING_BRACE,a(),0),ke=f(he,1,ue(ce)),he.braceNest=0,he.inLinked=!1,ke;if(he.braceNest>0&&(he.currentType===4||he.currentType===5||he.currentType===6))return d(di.UNTERMINATED_CLOSING_BRACE,a(),0),he.braceNest=0,Ne(ce,he);if(V=b(ce,he))return ke=f(he,4,J(ce)),g(ce),ke;if(Y=_(ce,he))return ke=f(he,5,re(ce)),g(ce),ke;if(Q=w(ce,he))return ke=f(he,6,de(ce)),g(ce),ke;if(!V&&!Y&&!Q)return ke=f(he,12,Ge(ce)),d(di.INVALID_TOKEN_IN_PLACEHOLDER,a(),0,ke.value),g(ce),ke;break}}return ke}function $e(ce,he){const{currentType:ke}=he;let oe=null;const V=ce.currentChar();switch((ke===7||ke===8||ke===11||ke===9)&&(V===Ms||V===zc)&&d(di.INVALID_LINKED_FORMAT,a(),0),V){case"@":return ce.next(),oe=f(he,7,"@"),he.inLinked=!0,oe;case".":return g(ce),ce.next(),f(he,8,".");case":":return g(ce),ce.next(),f(he,9,":");default:return A(ce)?(oe=f(he,1,ue(ce)),he.braceNest=0,he.inLinked=!1,oe):x(ce,he)||C(ce,he)?(g(ce),$e(ce,he)):M(ce,he)?(g(ce),f(he,11,We(ce))):T(ce,he)?(g(ce),V==="{"?ie(ce,he)||oe:f(he,10,K(ce))):(ke===7&&d(di.INVALID_LINKED_FORMAT,a(),0),he.braceNest=0,he.inLinked=!1,Ne(ce,he))}}function Ne(ce,he){let ke={type:13};if(he.braceNest>0)return ie(ce,he)||h(he);if(he.inLinked)return $e(ce,he)||h(he);switch(ce.currentChar()){case"{":return ie(ce,he)||h(he);case"}":return d(di.UNBALANCED_CLOSING_BRACE,a(),0),ce.next(),f(he,3,"}");case"@":return $e(ce,he)||h(he);default:{if(A(ce))return ke=f(he,1,ue(ce)),he.braceNest=0,he.inLinked=!1,ke;if(I(ce))return f(he,0,ee(ce));break}}return ke}function Ye(){const{currentType:ce,offset:he,startLoc:ke,endLoc:oe}=l;return l.lastType=ce,l.lastOffset=he,l.lastStartLoc=ke,l.lastEndLoc=oe,l.offset=i(),l.startLoc=a(),r.currentChar()===Fu?f(l,13):Ne(r,l)}return{nextToken:Ye,currentOffset:i,currentPosition:a,context:c}}const vke="parser",gke=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function yke(n,e,t){switch(n){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||t,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function bke(n={}){const e=n.location!==!1,{onError:t}=n;function r(v,y,b,_,...w){const x=v.currentPosition();if(x.offset+=_,x.column+=_,t){const M=e?F5(b,x):null,C=pA(y,M,{domain:vke,args:w});t(C)}}function i(v,y,b){const _={type:v};return e&&(_.start=y,_.end=y,_.loc={start:b,end:b}),_}function a(v,y,b,_){e&&(v.end=y,v.loc&&(v.loc.end=b))}function s(v,y){const b=v.context(),_=i(3,b.offset,b.startLoc);return _.value=y,a(_,v.currentOffset(),v.currentPosition()),_}function o(v,y){const b=v.context(),{lastOffset:_,lastStartLoc:w}=b,x=i(5,_,w);return x.index=parseInt(y,10),v.nextToken(),a(x,v.currentOffset(),v.currentPosition()),x}function l(v,y){const b=v.context(),{lastOffset:_,lastStartLoc:w}=b,x=i(4,_,w);return x.key=y,v.nextToken(),a(x,v.currentOffset(),v.currentPosition()),x}function c(v,y){const b=v.context(),{lastOffset:_,lastStartLoc:w}=b,x=i(9,_,w);return x.value=y.replace(gke,yke),v.nextToken(),a(x,v.currentOffset(),v.currentPosition()),x}function u(v){const y=v.nextToken(),b=v.context(),{lastOffset:_,lastStartLoc:w}=b,x=i(8,_,w);return y.type!==11?(r(v,di.UNEXPECTED_EMPTY_LINKED_MODIFIER,b.lastStartLoc,0),x.value="",a(x,_,w),{nextConsumeToken:y,node:x}):(y.value==null&&r(v,di.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Uc(y)),x.value=y.value||"",a(x,v.currentOffset(),v.currentPosition()),{node:x})}function d(v,y){const b=v.context(),_=i(7,b.offset,b.startLoc);return _.value=y,a(_,v.currentOffset(),v.currentPosition()),_}function f(v){const y=v.context(),b=i(6,y.offset,y.startLoc);let _=v.nextToken();if(_.type===8){const w=u(v);b.modifier=w.node,_=w.nextConsumeToken||v.nextToken()}switch(_.type!==9&&r(v,di.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Uc(_)),_=v.nextToken(),_.type===2&&(_=v.nextToken()),_.type){case 10:_.value==null&&r(v,di.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Uc(_)),b.key=d(v,_.value||"");break;case 4:_.value==null&&r(v,di.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Uc(_)),b.key=l(v,_.value||"");break;case 5:_.value==null&&r(v,di.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Uc(_)),b.key=o(v,_.value||"");break;case 6:_.value==null&&r(v,di.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Uc(_)),b.key=c(v,_.value||"");break;default:{r(v,di.UNEXPECTED_EMPTY_LINKED_KEY,y.lastStartLoc,0);const w=v.context(),x=i(7,w.offset,w.startLoc);return x.value="",a(x,w.offset,w.startLoc),b.key=x,a(b,w.offset,w.startLoc),{nextConsumeToken:_,node:b}}}return a(b,v.currentOffset(),v.currentPosition()),{node:b}}function h(v){const y=v.context(),b=y.currentType===1?v.currentOffset():y.offset,_=y.currentType===1?y.endLoc:y.startLoc,w=i(2,b,_);w.items=[];let x=null;do{const T=x||v.nextToken();switch(x=null,T.type){case 0:T.value==null&&r(v,di.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Uc(T)),w.items.push(s(v,T.value||""));break;case 5:T.value==null&&r(v,di.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Uc(T)),w.items.push(o(v,T.value||""));break;case 4:T.value==null&&r(v,di.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Uc(T)),w.items.push(l(v,T.value||""));break;case 6:T.value==null&&r(v,di.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Uc(T)),w.items.push(c(v,T.value||""));break;case 7:{const A=f(v);w.items.push(A.node),x=A.nextConsumeToken||null;break}}}while(y.currentType!==13&&y.currentType!==1);const M=y.currentType===1?y.lastOffset:v.currentOffset(),C=y.currentType===1?y.lastEndLoc:v.currentPosition();return a(w,M,C),w}function p(v,y,b,_){const w=v.context();let x=_.items.length===0;const M=i(1,y,b);M.cases=[],M.cases.push(_);do{const C=h(v);x||(x=C.items.length===0),M.cases.push(C)}while(w.currentType!==13);return x&&r(v,di.MUST_HAVE_MESSAGES_IN_PLURAL,b,0),a(M,v.currentOffset(),v.currentPosition()),M}function m(v){const y=v.context(),{offset:b,startLoc:_}=y,w=h(v);return y.currentType===13?w:p(v,b,_,w)}function g(v){const y=mke(v,Fa({},n)),b=y.context(),_=i(0,b.offset,b.startLoc);return e&&_.loc&&(_.loc.source=v),_.body=m(y),n.onCacheKey&&(_.cacheKey=n.onCacheKey(v)),b.currentType!==13&&r(y,di.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,v[b.offset]||""),a(_,y.currentOffset(),y.currentPosition()),_}return{parse:g}}function Uc(n){if(n.type===13)return"EOF";const e=(n.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function _ke(n,e={}){const t={ast:n,helpers:new Set};return{context:()=>t,helper:a=>(t.helpers.add(a),a)}}function V9(n,e){for(let t=0;t<n.length;t++)Lk(n[t],e)}function Lk(n,e){switch(n.type){case 1:V9(n.cases,e),e.helper("plural");break;case 2:V9(n.items,e);break;case 6:{Lk(n.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function Ske(n,e={}){const t=_ke(n);t.helper("normalize"),n.body&&Lk(n.body,t);const r=t.context();n.helpers=Array.from(r.helpers)}function wke(n){const e=n.body;return e.type===2?$9(e):e.cases.forEach(t=>$9(t)),n}function $9(n){if(n.items.length===1){const e=n.items[0];(e.type===3||e.type===9)&&(n.static=e.value,delete e.value)}else{const e=[];for(let t=0;t<n.items.length;t++){const r=n.items[t];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===n.items.length){n.static=Pk(e);for(let t=0;t<n.items.length;t++){const r=n.items[t];(r.type===3||r.type===9)&&delete r.value}}}}function Sv(n){switch(n.t=n.type,n.type){case 0:{const e=n;Sv(e.body),e.b=e.body,delete e.body;break}case 1:{const e=n,t=e.cases;for(let r=0;r<t.length;r++)Sv(t[r]);e.c=t,delete e.cases;break}case 2:{const e=n,t=e.items;for(let r=0;r<t.length;r++)Sv(t[r]);e.i=t,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=n;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=n;Sv(e.key),e.k=e.key,delete e.key,e.modifier&&(Sv(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=n;e.i=e.index,delete e.index;break}case 4:{const e=n;e.k=e.key,delete e.key;break}}delete n.type}function xke(n,e){const{sourceMap:t,filename:r,breakLineCode:i,needIndent:a}=e,s=e.location!==!1,o={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:a,indentLevel:0};s&&n.loc&&(o.source=n.loc.source);const l=()=>o;function c(g,v){o.code+=g}function u(g,v=!0){const y=v?i:"";c(a?y+"  ".repeat(g):y)}function d(g=!0){const v=++o.indentLevel;g&&u(v)}function f(g=!0){const v=--o.indentLevel;g&&u(v)}function h(){u(o.indentLevel)}return{context:l,push:c,indent:d,deindent:f,newline:h,helper:g=>`_${g}`,needIndent:()=>o.needIndent}}function Cke(n,e){const{helper:t}=n;n.push(`${t("linked")}(`),Fg(n,e.key),e.modifier?(n.push(", "),Fg(n,e.modifier),n.push(", _type")):n.push(", undefined, _type"),n.push(")")}function Mke(n,e){const{helper:t,needIndent:r}=n;n.push(`${t("normalize")}([`),n.indent(r());const i=e.items.length;for(let a=0;a<i&&(Fg(n,e.items[a]),a!==i-1);a++)n.push(", ");n.deindent(r()),n.push("])")}function Tke(n,e){const{helper:t,needIndent:r}=n;if(e.cases.length>1){n.push(`${t("plural")}([`),n.indent(r());const i=e.cases.length;for(let a=0;a<i&&(Fg(n,e.cases[a]),a!==i-1);a++)n.push(", ");n.deindent(r()),n.push("])")}}function Ake(n,e){e.body?Fg(n,e.body):n.push("null")}function Fg(n,e){const{helper:t}=n;switch(e.type){case 0:Ake(n,e);break;case 1:Tke(n,e);break;case 2:Mke(n,e);break;case 6:Cke(n,e);break;case 8:n.push(JSON.stringify(e.value),e);break;case 7:n.push(JSON.stringify(e.value),e);break;case 5:n.push(`${t("interpolate")}(${t("list")}(${e.index}))`,e);break;case 4:n.push(`${t("interpolate")}(${t("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:n.push(JSON.stringify(e.value),e);break;case 3:n.push(JSON.stringify(e.value),e);break}}const Eke=(n,e={})=>{const t=Dn(e.mode)?e.mode:"normal",r=Dn(e.filename)?e.filename:"message.intl",i=!!e.sourceMap,a=e.breakLineCode!=null?e.breakLineCode:t==="arrow"?";":`
`,s=e.needIndent?e.needIndent:t!=="arrow",o=n.helpers||[],l=xke(n,{mode:t,filename:r,sourceMap:i,breakLineCode:a,needIndent:s});l.push(t==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(s),o.length>0&&(l.push(`const { ${Pk(o.map(d=>`${d}: _${d}`),", ")} } = ctx`),l.newline()),l.push("return "),Fg(l,n),l.deindent(s),l.push("}"),delete n.helpers;const{code:c,map:u}=l.context();return{ast:n,code:c,map:u?u.toJSON():void 0}};function Ike(n,e={}){const t=Fa({},e),r=!!t.jit,i=!!t.minify,a=t.optimize==null?!0:t.optimize,o=bke(t).parse(n);return r?(a&&wke(o),i&&Sv(o),{ast:o,code:""}):(Ske(o,t),Eke(o,t))}/*!
  * core-base v11.2.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Rke(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Kp().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Kp().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function cu(n){return si(n)&&Dk(n)===0&&(yc(n,"b")||yc(n,"body"))}const KQ=["b","body"];function Pke(n){return Nh(n,KQ)}const YQ=["c","cases"];function Lke(n){return Nh(n,YQ,[])}const XQ=["s","static"];function Dke(n){return Nh(n,XQ)}const jQ=["i","items"];function kke(n){return Nh(n,jQ,[])}const ZQ=["t","type"];function Dk(n){return Nh(n,ZQ)}const QQ=["v","value"];function Nw(n,e){const t=Nh(n,QQ);if(t!=null)return t;throw w_(e)}const JQ=["m","modifier"];function Oke(n){return Nh(n,JQ)}const eJ=["k","key"];function Nke(n){const e=Nh(n,eJ);if(e)return e;throw w_(6)}function Nh(n,e,t){for(let r=0;r<e.length;r++){const i=e[r];if(yc(n,i)&&n[i]!=null)return n[i]}return t}const tJ=[...KQ,...YQ,...XQ,...jQ,...eJ,...JQ,...QQ,...ZQ];function w_(n){return new Error(`unhandled node type: ${n}`)}function c3(n){return t=>Bke(t,n)}function Bke(n,e){const t=Pke(e);if(t==null)throw w_(0);if(Dk(t)===1){const a=Lke(t);return n.plural(a.reduce((s,o)=>[...s,G9(n,o)],[]))}else return G9(n,t)}function G9(n,e){const t=Dke(e);if(t!=null)return n.type==="text"?t:n.normalize([t]);{const r=kke(e).reduce((i,a)=>[...i,z5(n,a)],[]);return n.normalize(r)}}function z5(n,e){const t=Dk(e);switch(t){case 3:return Nw(e,t);case 9:return Nw(e,t);case 4:{const r=e;if(yc(r,"k")&&r.k)return n.interpolate(n.named(r.k));if(yc(r,"key")&&r.key)return n.interpolate(n.named(r.key));throw w_(t)}case 5:{const r=e;if(yc(r,"i")&&Sa(r.i))return n.interpolate(n.list(r.i));if(yc(r,"index")&&Sa(r.index))return n.interpolate(n.list(r.index));throw w_(t)}case 6:{const r=e,i=Oke(r),a=Nke(r);return n.linked(z5(n,a),i?z5(n,i):void 0,n.type)}case 7:return Nw(e,t);case 8:return Nw(e,t);default:throw new Error(`unhandled node on format message part: ${t}`)}}const Fke=n=>n;let Bw=xi();function zke(n,e={}){let t=!1;const r=e.onError||lke;return e.onError=i=>{t=!0,r(i)},{...Ike(n,e),detectError:t}}function Uke(n,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&Dn(n)){ri(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||Fke)(n),i=Bw[r];if(i)return i;const{ast:a,detectError:s}=zke(n,{...e,location:!1,jit:!0}),o=c3(a);return s?o:Bw[r]=o}else{const t=n.cacheKey;if(t){const r=Bw[t];return r||(Bw[t]=c3(n))}else return c3(n)}}let x_=null;function Hke(n){x_=n}function Vke(n,e,t){x_&&x_.emit("i18n:init",{timestamp:Date.now(),i18n:n,version:e,meta:t})}const $ke=Gke("function:translate");function Gke(n){return e=>x_&&x_.emit(n,e)}const hd={INVALID_ARGUMENT:oke,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_NON_STRING_MESSAGE:20,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},Wke=24;function pd(n){return pA(n,null,void 0)}function kk(n,e){return e.locale!=null?W9(e.locale):W9(n.locale)}let u3;function W9(n){if(Dn(n))return n;if(ki(n)){if(n.resolvedOnce&&u3!=null)return u3;if(n.constructor.name==="Function"){const e=n();if(ike(e))throw pd(hd.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return u3=e}else throw pd(hd.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw pd(hd.NOT_SUPPORT_LOCALE_TYPE)}function qke(n,e,t){return[...new Set([t,...na(e)?e:si(e)?Object.keys(e):Dn(e)?[e]:[t]])]}function nJ(n,e,t){const r=Dn(t)?t:C_,i=n;i.__localeChainCache||(i.__localeChainCache=new Map);let a=i.__localeChainCache.get(r);if(!a){a=[];let s=[t];for(;na(s);)s=q9(a,s,e);const o=na(e)||!zr(e)?e:e.default?e.default:null;s=Dn(o)?[o]:o,na(s)&&q9(a,s,!1),i.__localeChainCache.set(r,a)}return a}function q9(n,e,t){let r=!0;for(let i=0;i<e.length&&ri(r);i++){const a=e[i];Dn(a)&&(r=Kke(n,e[i],t))}return r}function Kke(n,e,t){let r;const i=e.split("-");do{const a=i.join("-");r=Yke(n,a,t),i.splice(-1,1)}while(i.length&&r===!0);return r}function Yke(n,e,t){let r=!1;if(!n.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const i=e.replace(/!/g,"");n.push(i),(na(t)||zr(t))&&t[i]&&(r=t[i])}return r}const Bh=[];Bh[0]={w:[0],i:[3,0],"[":[4],o:[7]};Bh[1]={w:[1],".":[2],"[":[4],o:[7]};Bh[2]={w:[2],i:[3,0],0:[3,0]};Bh[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Bh[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Bh[5]={"'":[4,0],o:8,l:[5,0]};Bh[6]={'"':[4,0],o:8,l:[6,0]};const Xke=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function jke(n){return Xke.test(n)}function Zke(n){const e=n.charCodeAt(0),t=n.charCodeAt(n.length-1);return e===t&&(e===34||e===39)?n.slice(1,-1):n}function Qke(n){if(n==null)return"o";switch(n.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return n;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Jke(n){const e=n.trim();return n.charAt(0)==="0"&&isNaN(parseInt(n))?!1:jke(e)?Zke(e):"*"+e}function e8e(n){const e=[];let t=-1,r=0,i=0,a,s,o,l,c,u,d;const f=[];f[0]=()=>{s===void 0?s=o:s+=o},f[1]=()=>{s!==void 0&&(e.push(s),s=void 0)},f[2]=()=>{f[0](),i++},f[3]=()=>{if(i>0)i--,r=4,f[0]();else{if(i=0,s===void 0||(s=Jke(s),s===!1))return!1;f[1]()}};function h(){const p=n[t+1];if(r===5&&p==="'"||r===6&&p==='"')return t++,o="\\"+p,f[0](),!0}for(;r!==null;)if(t++,a=n[t],!(a==="\\"&&h())){if(l=Qke(a),d=Bh[r],c=d[l]||d.l||8,c===8||(r=c[0],c[1]!==void 0&&(u=f[c[1]],u&&(o=a,u()===!1))))return;if(r===7)return e}}const K9=new Map;function t8e(n,e){return si(n)?n[e]:null}function n8e(n,e){if(!si(n))return null;let t=K9.get(e);if(t||(t=e8e(e),t&&K9.set(e,t)),!t)return null;const r=t.length;let i=n,a=0;for(;a<r;){const s=t[a];if(tJ.includes(s)&&cu(i))return null;const o=i[s];if(o===void 0||ki(i))return null;i=o,a++}return i}const r8e="11.2.8",mA=-1,C_="en-US",Y9="",X9=n=>`${n.charAt(0).toLocaleUpperCase()}${n.substr(1)}`;function i8e(){return{upper:(n,e)=>e==="text"&&Dn(n)?n.toUpperCase():e==="vnode"&&si(n)&&"__v_isVNode"in n?n.children.toUpperCase():n,lower:(n,e)=>e==="text"&&Dn(n)?n.toLowerCase():e==="vnode"&&si(n)&&"__v_isVNode"in n?n.children.toLowerCase():n,capitalize:(n,e)=>e==="text"&&Dn(n)?X9(n):e==="vnode"&&si(n)&&"__v_isVNode"in n?X9(n.children):n}}let rJ;function a8e(n){rJ=n}let iJ;function s8e(n){iJ=n}let aJ;function o8e(n){aJ=n}let sJ=null;const l8e=n=>{sJ=n},c8e=()=>sJ;let oJ=null;const j9=n=>{oJ=n},u8e=()=>oJ;let Z9=0;function d8e(n={}){const e=ki(n.onWarn)?n.onWarn:Z6e,t=Dn(n.version)?n.version:r8e,r=Dn(n.locale)||ki(n.locale)?n.locale:C_,i=ki(r)?C_:r,a=na(n.fallbackLocale)||zr(n.fallbackLocale)||Dn(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:i,s=zr(n.messages)?n.messages:d3(i),o=zr(n.datetimeFormats)?n.datetimeFormats:d3(i),l=zr(n.numberFormats)?n.numberFormats:d3(i),c=Fa(xi(),n.modifiers,i8e()),u=n.pluralRules||xi(),d=ki(n.missing)?n.missing:null,f=ri(n.missingWarn)||Bg(n.missingWarn)?n.missingWarn:!0,h=ri(n.fallbackWarn)||Bg(n.fallbackWarn)?n.fallbackWarn:!0,p=!!n.fallbackFormat,m=!!n.unresolving,g=ki(n.postTranslation)?n.postTranslation:null,v=zr(n.processor)?n.processor:null,y=ri(n.warnHtmlMessage)?n.warnHtmlMessage:!0,b=!!n.escapeParameter,_=ki(n.messageCompiler)?n.messageCompiler:rJ,w=ki(n.messageResolver)?n.messageResolver:iJ||t8e,x=ki(n.localeFallbacker)?n.localeFallbacker:aJ||qke,M=si(n.fallbackContext)?n.fallbackContext:void 0,C=n,T=si(C.__datetimeFormatters)?C.__datetimeFormatters:new Map,A=si(C.__numberFormatters)?C.__numberFormatters:new Map,I=si(C.__meta)?C.__meta:{};Z9++;const L={version:t,cid:Z9,locale:r,fallbackLocale:a,messages:s,modifiers:c,pluralRules:u,missing:d,missingWarn:f,fallbackWarn:h,fallbackFormat:p,unresolving:m,postTranslation:g,processor:v,warnHtmlMessage:y,escapeParameter:b,messageCompiler:_,messageResolver:w,localeFallbacker:x,fallbackContext:M,onWarn:e,__meta:I};return L.datetimeFormats=o,L.numberFormats=l,L.__datetimeFormatters=T,L.__numberFormatters=A,__INTLIFY_PROD_DEVTOOLS__&&Vke(L,t,I),L}const d3=n=>({[n]:xi()});function Ok(n,e,t,r,i){const{missing:a,onWarn:s}=n;if(a!==null){const o=a(n,t,e,i);return Dn(o)?o:e}else return e}function a1(n,e,t){const r=n;r.__localeChainCache=new Map,n.localeFallbacker(n,t,e)}function f8e(n,e){return n===e?!1:n.split("-")[0]===e.split("-")[0]}function h8e(n,e){const t=e.indexOf(n);if(t===-1)return!1;for(let r=t+1;r<e.length;r++)if(f8e(n,e[r]))return!0;return!1}function Q9(n,...e){const{datetimeFormats:t,unresolving:r,fallbackLocale:i,onWarn:a,localeFallbacker:s}=n,{__datetimeFormatters:o}=n,[l,c,u,d]=U5(...e),f=ri(u.missingWarn)?u.missingWarn:n.missingWarn;ri(u.fallbackWarn)?u.fallbackWarn:n.fallbackWarn;const h=!!u.part,p=kk(n,u),m=s(n,i,p);if(!Dn(l)||l==="")return new Intl.DateTimeFormat(p,d).format(c);let g={},v,y=null;const b="datetime format";for(let x=0;x<m.length&&(v=m[x],g=t[v]||{},y=g[l],!zr(y));x++)Ok(n,l,v,f,b);if(!zr(y)||!Dn(v))return r?mA:l;let _=`${v}__${l}`;hA(d)||(_=`${_}__${JSON.stringify(d)}`);let w=o.get(_);return w||(w=new Intl.DateTimeFormat(v,Fa({},y,d)),o.set(_,w)),h?w.formatToParts(c):w.format(c)}const lJ=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function U5(...n){const[e,t,r,i]=n,a=xi();let s=xi(),o;if(Dn(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw pd(hd.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();o=new Date(c);try{o.toISOString()}catch{throw pd(hd.INVALID_ISO_DATE_ARGUMENT)}}else if(eke(e)){if(isNaN(e.getTime()))throw pd(hd.INVALID_DATE_ARGUMENT);o=e}else if(Sa(e))o=e;else throw pd(hd.INVALID_ARGUMENT);return Dn(t)?a.key=t:zr(t)&&Object.keys(t).forEach(l=>{lJ.includes(l)?s[l]=t[l]:a[l]=t[l]}),Dn(r)?a.locale=r:zr(r)&&(s=r),zr(i)&&(s=i),[a.key||"",o,a,s]}function J9(n,e,t){const r=n;for(const i in t){const a=`${e}__${i}`;r.__datetimeFormatters.has(a)&&r.__datetimeFormatters.delete(a)}}function ez(n,...e){const{numberFormats:t,unresolving:r,fallbackLocale:i,onWarn:a,localeFallbacker:s}=n,{__numberFormatters:o}=n,[l,c,u,d]=H5(...e),f=ri(u.missingWarn)?u.missingWarn:n.missingWarn;ri(u.fallbackWarn)?u.fallbackWarn:n.fallbackWarn;const h=!!u.part,p=kk(n,u),m=s(n,i,p);if(!Dn(l)||l==="")return new Intl.NumberFormat(p,d).format(c);let g={},v,y=null;const b="number format";for(let x=0;x<m.length&&(v=m[x],g=t[v]||{},y=g[l],!zr(y));x++)Ok(n,l,v,f,b);if(!zr(y)||!Dn(v))return r?mA:l;let _=`${v}__${l}`;hA(d)||(_=`${_}__${JSON.stringify(d)}`);let w=o.get(_);return w||(w=new Intl.NumberFormat(v,Fa({},y,d)),o.set(_,w)),h?w.formatToParts(c):w.format(c)}const cJ=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function H5(...n){const[e,t,r,i]=n,a=xi();let s=xi();if(!Sa(e))throw pd(hd.INVALID_ARGUMENT);const o=e;return Dn(t)?a.key=t:zr(t)&&Object.keys(t).forEach(l=>{cJ.includes(l)?s[l]=t[l]:a[l]=t[l]}),Dn(r)?a.locale=r:zr(r)&&(s=r),zr(i)&&(s=i),[a.key||"",o,a,s]}function tz(n,e,t){const r=n;for(const i in t){const a=`${e}__${i}`;r.__numberFormatters.has(a)&&r.__numberFormatters.delete(a)}}const p8e=n=>n,m8e=n=>"",v8e="text",g8e=n=>n.length===0?"":Pk(n),y8e=ake;function nz(n,e){return n=Math.abs(n),e===2?n?n>1?1:0:1:n?Math.min(n,2):0}function b8e(n){const e=Sa(n.pluralIndex)?n.pluralIndex:-1;return n.named&&(Sa(n.named.count)||Sa(n.named.n))?Sa(n.named.count)?n.named.count:Sa(n.named.n)?n.named.n:e:e}function _8e(n,e){e.count||(e.count=n),e.n||(e.n=n)}function S8e(n={}){const e=n.locale,t=b8e(n),r=si(n.pluralRules)&&Dn(e)&&ki(n.pluralRules[e])?n.pluralRules[e]:nz,i=si(n.pluralRules)&&Dn(e)&&ki(n.pluralRules[e])?nz:void 0,a=v=>v[r(t,v.length,i)],s=n.list||[],o=v=>s[v],l=n.named||xi();Sa(n.pluralIndex)&&_8e(t,l);const c=v=>l[v];function u(v,y){const b=ki(n.messages)?n.messages(v,!!y):si(n.messages)?n.messages[v]:!1;return b||(n.parent?n.parent.message(v):m8e)}const d=v=>n.modifiers?n.modifiers[v]:p8e,f=zr(n.processor)&&ki(n.processor.normalize)?n.processor.normalize:g8e,h=zr(n.processor)&&ki(n.processor.interpolate)?n.processor.interpolate:y8e,p=zr(n.processor)&&Dn(n.processor.type)?n.processor.type:v8e,g={list:o,named:c,plural:a,linked:(v,...y)=>{const[b,_]=y;let w="text",x="";y.length===1?si(b)?(x=b.modifier||x,w=b.type||w):Dn(b)&&(x=b||x):y.length===2&&(Dn(b)&&(x=b||x),Dn(_)&&(w=_||w));const M=u(v,!0)(g),C=w==="vnode"&&na(M)&&x?M[0]:M;return x?d(x)(C,w):C},message:u,type:p,interpolate:h,normalize:f,values:Fa(xi(),s,l)};return g}const rz=()=>"",Cl=n=>ki(n);function iz(n,...e){const{fallbackFormat:t,postTranslation:r,unresolving:i,messageCompiler:a,fallbackLocale:s,messages:o}=n,[l,c]=V5(...e),u=ri(c.missingWarn)?c.missingWarn:n.missingWarn,d=ri(c.fallbackWarn)?c.fallbackWarn:n.fallbackWarn,f=ri(c.escapeParameter)?c.escapeParameter:n.escapeParameter,h=!!c.resolvedMessage,p=Dn(c.default)||ri(c.default)?ri(c.default)?a?l:()=>l:c.default:t?a?l:()=>l:null,m=t||p!=null&&(Dn(p)||ki(p)),g=kk(n,c);f&&w8e(c);let[v,y,b]=h?[l,g,o[g]||xi()]:uJ(n,l,g,s,d,u),_=v,w=l;if(!h&&!(Dn(_)||cu(_)||Cl(_))&&m&&(_=p,w=_),!h&&(!(Dn(_)||cu(_)||Cl(_))||!Dn(y)))return i?mA:l;let x=!1;const M=()=>{x=!0},C=Cl(_)?_:dJ(n,l,y,_,w,M);if(x)return _;const T=M8e(n,y,b,c),A=S8e(T),I=x8e(n,C,A);let L=r?r(I,l):I;if(f&&Dn(L)&&(L=nke(L)),__INTLIFY_PROD_DEVTOOLS__){const k={timestamp:Date.now(),key:Dn(l)?l:Cl(_)?_.key:"",locale:y||(Cl(_)?_.locale:""),format:Dn(_)?_:Cl(_)?_.source:"",message:L};k.meta=Fa({},n.__meta,c8e()||{}),$ke(k)}return L}function w8e(n){na(n.list)?n.list=n.list.map(e=>Dn(e)?z9(e):e):si(n.named)&&Object.keys(n.named).forEach(e=>{Dn(n.named[e])&&(n.named[e]=z9(n.named[e]))})}function uJ(n,e,t,r,i,a){const{messages:s,onWarn:o,messageResolver:l,localeFallbacker:c}=n,u=c(n,r,t);let d=xi(),f,h=null;const p="translate";for(let m=0;m<u.length&&(f=u[m],d=s[f]||xi(),(h=l(d,e))===null&&(h=d[e]),!(Dn(h)||cu(h)||Cl(h)));m++)if(!h8e(f,u)){const g=Ok(n,e,f,a,p);g!==e&&(h=g)}return[h,f,d]}function dJ(n,e,t,r,i,a){const{messageCompiler:s,warnHtmlMessage:o}=n;if(Cl(r)){const c=r;return c.locale=c.locale||t,c.key=c.key||e,c}if(s==null){const c=()=>r;return c.locale=t,c.key=e,c}const l=s(r,C8e(n,t,i,r,o,a));return l.locale=t,l.key=e,l.source=r,l}function x8e(n,e,t){return e(t)}function V5(...n){const[e,t,r]=n,i=xi();if(!Dn(e)&&!Sa(e)&&!Cl(e)&&!cu(e))throw pd(hd.INVALID_ARGUMENT);const a=Sa(e)?String(e):(Cl(e),e);return Sa(t)?i.plural=t:Dn(t)?i.default=t:zr(t)&&!hA(t)?i.named=t:na(t)&&(i.list=t),Sa(r)?i.plural=r:Dn(r)?i.default=r:zr(r)&&Fa(i,r),[a,i]}function C8e(n,e,t,r,i,a){return{locale:e,key:t,warnHtmlMessage:i,onError:s=>{throw a&&a(s),s},onCacheKey:s=>Q6e(e,t,s)}}function M8e(n,e,t,r){const{modifiers:i,pluralRules:a,messageResolver:s,fallbackLocale:o,fallbackWarn:l,missingWarn:c,fallbackContext:u}=n,f={locale:e,modifiers:i,pluralRules:a,messages:(h,p)=>{let m=s(t,h);if(m==null&&(u||p)){const[,,g]=uJ(u||n,h,e,o,l,c);m=s(g,h)}if(Dn(m)||cu(m)){let g=!1;const y=dJ(n,h,e,m,h,()=>{g=!0});return g?rz:y}else return Cl(m)?m:rz}};return n.processor&&(f.processor=n.processor),r.list&&(f.list=r.list),r.named&&(f.named=r.named),Sa(r.plural)&&(f.pluralIndex=r.plural),f}Rke();/*!
  * vue-i18n v11.2.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const T8e="11.2.8";function A8e(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Kp().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Kp().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Kp().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Kp().__INTLIFY_PROD_DEVTOOLS__=!1)}const To={UNEXPECTED_RETURN_TYPE:Wke,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:30,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32,NOT_COMPATIBLE_LEGACY_VUE_I18N:33,NOT_AVAILABLE_COMPOSITION_IN_LEGACY:34};function il(n,...e){return pA(n,null,void 0)}const $5=Oh("__translateVNode"),G5=Oh("__datetimeParts"),W5=Oh("__numberParts"),fJ=Oh("__setPluralRules"),hJ=Oh("__injectWithOption"),q5=Oh("__dispose");function M_(n){if(!si(n)||cu(n))return n;for(const e in n)if(yc(n,e))if(!e.includes("."))si(n[e])&&M_(n[e]);else{const t=e.split("."),r=t.length-1;let i=n,a=!1;for(let s=0;s<r;s++){if(t[s]==="__proto__")throw new Error(`unsafe key: ${t[s]}`);if(t[s]in i||(i[t[s]]=xi()),!si(i[t[s]])){a=!0;break}i=i[t[s]]}if(a||(cu(i)?tJ.includes(t[r])||delete n[e]:(i[t[r]]=n[e],delete n[e])),!cu(i)){const s=i[t[r]];si(s)&&M_(s)}}return n}function Nk(n,e){const{messages:t,__i18n:r,messageResolver:i,flatJson:a}=e,s=zr(t)?t:na(r)?xi():{[n]:xi()};if(na(r)&&r.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:l,resource:c}=o;l?(s[l]=s[l]||xi(),nC(c,s[l])):nC(c,s)}else Dn(o)&&nC(JSON.parse(o),s)}),i==null&&a)for(const o in s)yc(s,o)&&M_(s[o]);return s}function pJ(n){return n.type}function mJ(n,e,t){let r=si(e.messages)?e.messages:xi();"__i18nGlobal"in t&&(r=Nk(n.locale.value,{messages:r,__i18n:t.__i18nGlobal}));const i=Object.keys(r);i.length&&i.forEach(a=>{n.mergeLocaleMessage(a,r[a])});{if(si(e.datetimeFormats)){const a=Object.keys(e.datetimeFormats);a.length&&a.forEach(s=>{n.mergeDateTimeFormat(s,e.datetimeFormats[s])})}if(si(e.numberFormats)){const a=Object.keys(e.numberFormats);a.length&&a.forEach(s=>{n.mergeNumberFormat(s,e.numberFormats[s])})}}}function az(n){return pe(hu,null,n,0)}function T_(){const n="currentInstance";return n in XB?XB[n]:wn()}const sz="__INTLIFY_META__",oz=()=>[],E8e=()=>!1;let lz=0;function cz(n){return(e,t,r,i)=>n(t,r,T_()||void 0,i)}const I8e=()=>{const n=T_();let e=null;return n&&(e=pJ(n)[sz])?{[sz]:e}:null};function Bk(n={}){const{__root:e,__injectWithOption:t}=n,r=e===void 0,i=n.flatJson,a=pM?te:Cr;let s=ri(n.inheritLocale)?n.inheritLocale:!0;const o=a(e&&s?e.locale.value:Dn(n.locale)?n.locale:C_),l=a(e&&s?e.fallbackLocale.value:Dn(n.fallbackLocale)||na(n.fallbackLocale)||zr(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:o.value),c=a(Nk(o.value,n)),u=a(zr(n.datetimeFormats)?n.datetimeFormats:{[o.value]:{}}),d=a(zr(n.numberFormats)?n.numberFormats:{[o.value]:{}});let f=e?e.missingWarn:ri(n.missingWarn)||Bg(n.missingWarn)?n.missingWarn:!0,h=e?e.fallbackWarn:ri(n.fallbackWarn)||Bg(n.fallbackWarn)?n.fallbackWarn:!0,p=e?e.fallbackRoot:ri(n.fallbackRoot)?n.fallbackRoot:!0,m=!!n.fallbackFormat,g=ki(n.missing)?n.missing:null,v=ki(n.missing)?cz(n.missing):null,y=ki(n.postTranslation)?n.postTranslation:null,b=e?e.warnHtmlMessage:ri(n.warnHtmlMessage)?n.warnHtmlMessage:!0,_=!!n.escapeParameter;const w=e?e.modifiers:zr(n.modifiers)?n.modifiers:{};let x=n.pluralRules||e&&e.pluralRules,M;M=(()=>{r&&j9(null);const Q={version:T8e,locale:o.value,fallbackLocale:l.value,messages:c.value,modifiers:w,pluralRules:x,missing:v===null?void 0:v,missingWarn:f,fallbackWarn:h,fallbackFormat:m,unresolving:!0,postTranslation:y===null?void 0:y,warnHtmlMessage:b,escapeParameter:_,messageResolver:n.messageResolver,messageCompiler:n.messageCompiler,__meta:{framework:"vue"}};Q.datetimeFormats=u.value,Q.numberFormats=d.value,Q.__datetimeFormatters=zr(M)?M.__datetimeFormatters:void 0,Q.__numberFormatters=zr(M)?M.__numberFormatters:void 0;const we=d8e(Q);return r&&j9(we),we})(),a1(M,o.value,l.value);function T(){return[o.value,l.value,c.value,u.value,d.value]}const A=U({get:()=>o.value,set:Q=>{M.locale=Q,o.value=Q}}),I=U({get:()=>l.value,set:Q=>{M.fallbackLocale=Q,l.value=Q,a1(M,o.value,Q)}}),L=U(()=>c.value),k=U(()=>u.value),N=U(()=>d.value);function F(){return ki(y)?y:null}function D(Q){y=Q,M.postTranslation=Q}function H(){return g}function z(Q){Q!==null&&(v=cz(Q)),g=Q,M.missing=v}const B=(Q,we,Ue,ct,pt,Ee)=>{T();let ft;try{__INTLIFY_PROD_DEVTOOLS__,r||(M.fallbackContext=e?u8e():void 0),ft=Q(M)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(M.fallbackContext=void 0)}if(Ue!=="translate exists"&&Sa(ft)&&ft===mA||Ue==="translate exists"&&!ft){const[st,G]=we();return e&&p?ct(e):pt(st)}else{if(Ee(ft))return ft;throw il(To.UNEXPECTED_RETURN_TYPE)}};function W(...Q){return B(we=>Reflect.apply(iz,null,[we,...Q]),()=>V5(...Q),"translate",we=>Reflect.apply(we.t,we,[...Q]),we=>we,we=>Dn(we))}function Z(...Q){const[we,Ue,ct]=Q;if(ct&&!si(ct))throw il(To.INVALID_ARGUMENT);return W(we,Ue,Fa({resolvedMessage:!0},ct||{}))}function ee(...Q){return B(we=>Reflect.apply(Q9,null,[we,...Q]),()=>U5(...Q),"datetime format",we=>Reflect.apply(we.d,we,[...Q]),()=>Y9,we=>Dn(we)||na(we))}function J(...Q){return B(we=>Reflect.apply(ez,null,[we,...Q]),()=>H5(...Q),"number format",we=>Reflect.apply(we.n,we,[...Q]),()=>Y9,we=>Dn(we)||na(we))}function re(Q){return Q.map(we=>Dn(we)||Sa(we)||ri(we)?az(String(we)):we)}const de={normalize:re,interpolate:Q=>Q,type:"vnode"};function me(...Q){return B(we=>{let Ue;const ct=we;try{ct.processor=de,Ue=Reflect.apply(iz,null,[ct,...Q])}finally{ct.processor=null}return Ue},()=>V5(...Q),"translate",we=>we[$5](...Q),we=>[az(we)],we=>na(we))}function Re(...Q){return B(we=>Reflect.apply(ez,null,[we,...Q]),()=>H5(...Q),"number format",we=>we[W5](...Q),oz,we=>Dn(we)||na(we))}function De(...Q){return B(we=>Reflect.apply(Q9,null,[we,...Q]),()=>U5(...Q),"datetime format",we=>we[G5](...Q),oz,we=>Dn(we)||na(we))}function Ge(Q){x=Q,M.pluralRules=x}function We(Q,we){return B(()=>{if(!Q)return!1;const Ue=Dn(we)?we:o.value,ct=ie(Ue),pt=M.messageResolver(ct,Q);return cu(pt)||Cl(pt)||Dn(pt)},()=>[Q],"translate exists",Ue=>Reflect.apply(Ue.te,Ue,[Q,we]),E8e,Ue=>ri(Ue))}function K(Q){let we=null;const Ue=nJ(M,l.value,o.value);for(let ct=0;ct<Ue.length;ct++){const pt=c.value[Ue[ct]]||{},Ee=M.messageResolver(pt,Q);if(Ee!=null){we=Ee;break}}return we}function ue(Q){const we=K(Q);return we??(e?e.tm(Q)||{}:{})}function ie(Q){return c.value[Q]||{}}function $e(Q,we){if(i){const Ue={[Q]:we};for(const ct in Ue)yc(Ue,ct)&&M_(Ue[ct]);we=Ue[Q]}c.value[Q]=we,M.messages=c.value}function Ne(Q,we){c.value[Q]=c.value[Q]||{};const Ue={[Q]:we};if(i)for(const ct in Ue)yc(Ue,ct)&&M_(Ue[ct]);we=Ue[Q],nC(we,c.value[Q]),M.messages=c.value}function Ye(Q){return u.value[Q]||{}}function ce(Q,we){u.value[Q]=we,M.datetimeFormats=u.value,J9(M,Q,we)}function he(Q,we){u.value[Q]=Fa(u.value[Q]||{},we),M.datetimeFormats=u.value,J9(M,Q,we)}function ke(Q){return d.value[Q]||{}}function oe(Q,we){d.value[Q]=we,M.numberFormats=d.value,tz(M,Q,we)}function V(Q,we){d.value[Q]=Fa(d.value[Q]||{},we),M.numberFormats=d.value,tz(M,Q,we)}lz++,e&&pM&&(dt(e.locale,Q=>{s&&(o.value=Q,M.locale=Q,a1(M,o.value,l.value))}),dt(e.fallbackLocale,Q=>{s&&(l.value=Q,M.fallbackLocale=Q,a1(M,o.value,l.value))}));const Y={id:lz,locale:A,fallbackLocale:I,get inheritLocale(){return s},set inheritLocale(Q){s=Q,Q&&e&&(o.value=e.locale.value,l.value=e.fallbackLocale.value,a1(M,o.value,l.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:L,get modifiers(){return w},get pluralRules(){return x||{}},get isGlobal(){return r},get missingWarn(){return f},set missingWarn(Q){f=Q,M.missingWarn=f},get fallbackWarn(){return h},set fallbackWarn(Q){h=Q,M.fallbackWarn=h},get fallbackRoot(){return p},set fallbackRoot(Q){p=Q},get fallbackFormat(){return m},set fallbackFormat(Q){m=Q,M.fallbackFormat=m},get warnHtmlMessage(){return b},set warnHtmlMessage(Q){b=Q,M.warnHtmlMessage=Q},get escapeParameter(){return _},set escapeParameter(Q){_=Q,M.escapeParameter=Q},t:W,getLocaleMessage:ie,setLocaleMessage:$e,mergeLocaleMessage:Ne,getPostTranslationHandler:F,setPostTranslationHandler:D,getMissingHandler:H,setMissingHandler:z,[fJ]:Ge};return Y.datetimeFormats=k,Y.numberFormats=N,Y.rt=Z,Y.te=We,Y.tm=ue,Y.d=ee,Y.n=J,Y.getDateTimeFormat=Ye,Y.setDateTimeFormat=ce,Y.mergeDateTimeFormat=he,Y.getNumberFormat=ke,Y.setNumberFormat=oe,Y.mergeNumberFormat=V,Y[hJ]=t,Y[$5]=me,Y[G5]=De,Y[W5]=Re,Y}function R8e(n){const e=Dn(n.locale)?n.locale:C_,t=Dn(n.fallbackLocale)||na(n.fallbackLocale)||zr(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:e,r=ki(n.missing)?n.missing:void 0,i=ri(n.silentTranslationWarn)||Bg(n.silentTranslationWarn)?!n.silentTranslationWarn:!0,a=ri(n.silentFallbackWarn)||Bg(n.silentFallbackWarn)?!n.silentFallbackWarn:!0,s=ri(n.fallbackRoot)?n.fallbackRoot:!0,o=!!n.formatFallbackMessages,l=zr(n.modifiers)?n.modifiers:{},c=n.pluralizationRules,u=ki(n.postTranslation)?n.postTranslation:void 0,d=Dn(n.warnHtmlInMessage)?n.warnHtmlInMessage!=="off":!0,f=!!n.escapeParameterHtml,h=ri(n.sync)?n.sync:!0;let p=n.messages;if(zr(n.sharedMessages)){const w=n.sharedMessages;p=Object.keys(w).reduce((M,C)=>{const T=M[C]||(M[C]={});return Fa(T,w[C]),M},p||{})}const{__i18n:m,__root:g,__injectWithOption:v}=n,y=n.datetimeFormats,b=n.numberFormats,_=n.flatJson;return{locale:e,fallbackLocale:t,messages:p,flatJson:_,datetimeFormats:y,numberFormats:b,missing:r,missingWarn:i,fallbackWarn:a,fallbackRoot:s,fallbackFormat:o,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:d,escapeParameter:f,messageResolver:n.messageResolver,inheritLocale:h,__i18n:m,__root:g,__injectWithOption:v}}function K5(n={}){const e=Bk(R8e(n)),{__extender:t}=n,r={id:e.id,get locale(){return e.locale.value},set locale(i){e.locale.value=i},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(i){e.fallbackLocale.value=i},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(i){e.setMissingHandler(i)},get silentTranslationWarn(){return ri(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(i){e.missingWarn=ri(i)?!i:i},get silentFallbackWarn(){return ri(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(i){e.fallbackWarn=ri(i)?!i:i},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(i){e.fallbackFormat=i},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(i){e.setPostTranslationHandler(i)},get sync(){return e.inheritLocale},set sync(i){e.inheritLocale=i},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){e.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(i){e.escapeParameter=i},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...i){return Reflect.apply(e.t,e,[...i])},rt(...i){return Reflect.apply(e.rt,e,[...i])},te(i,a){return e.te(i,a)},tm(i){return e.tm(i)},getLocaleMessage(i){return e.getLocaleMessage(i)},setLocaleMessage(i,a){e.setLocaleMessage(i,a)},mergeLocaleMessage(i,a){e.mergeLocaleMessage(i,a)},d(...i){return Reflect.apply(e.d,e,[...i])},getDateTimeFormat(i){return e.getDateTimeFormat(i)},setDateTimeFormat(i,a){e.setDateTimeFormat(i,a)},mergeDateTimeFormat(i,a){e.mergeDateTimeFormat(i,a)},n(...i){return Reflect.apply(e.n,e,[...i])},getNumberFormat(i){return e.getNumberFormat(i)},setNumberFormat(i,a){e.setNumberFormat(i,a)},mergeNumberFormat(i,a){e.mergeNumberFormat(i,a)}};return r.__extender=t,r}function P8e(n,e,t){return{beforeCreate(){const r=T_();if(!r)throw il(To.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const a=i.i18n;if(i.__i18n&&(a.__i18n=i.__i18n),a.__root=e,this===this.$root)this.$i18n=uz(n,a);else{a.__injectWithOption=!0,a.__extender=t.__vueI18nExtend,this.$i18n=K5(a);const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=uz(n,i);else{this.$i18n=K5({__i18n:i.__i18n,__injectWithOption:!0,__extender:t.__vueI18nExtend,__root:e});const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}else this.$i18n=n;i.__i18nGlobal&&mJ(e,i,i),this.$t=(...a)=>this.$i18n.t(...a),this.$rt=(...a)=>this.$i18n.rt(...a),this.$te=(a,s)=>this.$i18n.te(a,s),this.$d=(...a)=>this.$i18n.d(...a),this.$n=(...a)=>this.$i18n.n(...a),this.$tm=a=>this.$i18n.tm(a),t.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=T_();if(!r)throw il(To.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),t.__deleteInstance(r),delete this.$i18n}}}function uz(n,e){n.locale=e.locale||n.locale,n.fallbackLocale=e.fallbackLocale||n.fallbackLocale,n.missing=e.missing||n.missing,n.silentTranslationWarn=e.silentTranslationWarn||n.silentFallbackWarn,n.silentFallbackWarn=e.silentFallbackWarn||n.silentFallbackWarn,n.formatFallbackMessages=e.formatFallbackMessages||n.formatFallbackMessages,n.postTranslation=e.postTranslation||n.postTranslation,n.warnHtmlInMessage=e.warnHtmlInMessage||n.warnHtmlInMessage,n.escapeParameterHtml=e.escapeParameterHtml||n.escapeParameterHtml,n.sync=e.sync||n.sync,n.__composer[fJ](e.pluralizationRules||n.pluralizationRules);const t=Nk(n.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(t).forEach(r=>n.mergeLocaleMessage(r,t[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>n.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>n.mergeNumberFormat(r,e.numberFormats[r])),n}const Fk={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:n=>n==="parent"||n==="global",default:"parent"},i18n:{type:Object}};function L8e({slots:n},e){return e.length===1&&e[0]==="default"?(n.default?n.default():[]).reduce((r,i)=>[...r,...i.type===Bt?i.children:[i]],[]):e.reduce((t,r)=>{const i=n[r];return i&&(t[r]=i()),t},xi())}function vJ(){return Bt}const D8e=Pe({name:"i18n-t",props:Fa({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:n=>Sa(n)||!isNaN(n)}},Fk),setup(n,e){const{slots:t,attrs:r}=e,i=n.i18n||Iu({useScope:n.scope,__useComponent:!0});return()=>{const a=Object.keys(t).filter(d=>d[0]!=="_"),s=xi();n.locale&&(s.locale=n.locale),n.plural!==void 0&&(s.plural=Dn(n.plural)?+n.plural:n.plural);const o=L8e(e,a),l=i[$5](n.keypath,o,s),c=Fa(xi(),r),u=Dn(n.tag)||si(n.tag)?n.tag:vJ();return $t(u,c,l)}}}),dz=D8e;function k8e(n){return na(n)&&!Dn(n[0])}function gJ(n,e,t,r){const{slots:i,attrs:a}=e;return()=>{const s={part:!0};let o=xi();n.locale&&(s.locale=n.locale),Dn(n.format)?s.key=n.format:si(n.format)&&(Dn(n.format.key)&&(s.key=n.format.key),o=Object.keys(n.format).reduce((f,h)=>t.includes(h)?Fa(xi(),f,{[h]:n.format[h]}):f,xi()));const l=r(n.value,s,o);let c=[s.key];na(l)?c=l.map((f,h)=>{const p=i[f.type],m=p?p({[f.type]:f.value,index:h,parts:l}):[f.value];return k8e(m)&&(m[0].key=`${f.type}-${h}`),m}):Dn(l)&&(c=[l]);const u=Fa(xi(),a),d=Dn(n.tag)||si(n.tag)?n.tag:vJ();return $t(d,u,c)}}const O8e=Pe({name:"i18n-n",props:Fa({value:{type:Number,required:!0},format:{type:[String,Object]}},Fk),setup(n,e){const t=n.i18n||Iu({useScope:n.scope,__useComponent:!0});return gJ(n,e,cJ,(...r)=>t[W5](...r))}}),fz=O8e;function N8e(n,e){const t=n;if(n.mode==="composition")return t.__getInstance(e)||n.global;{const r=t.__getInstance(e);return r!=null?r.__composer:n.global.__composer}}function B8e(n){const e=s=>{const{instance:o,value:l}=s;if(!o||!o.$)throw il(To.UNEXPECTED_ERROR);const c=N8e(n,o.$),u=hz(l);return[Reflect.apply(c.t,c,[...pz(u)]),c]};return{created:(s,o)=>{const[l,c]=e(o);pM&&n.global===c&&(s.__i18nWatcher=dt(c.locale,()=>{o.instance&&o.instance.$forceUpdate()})),s.__composer=c,s.textContent=l},unmounted:s=>{pM&&s.__i18nWatcher&&(s.__i18nWatcher(),s.__i18nWatcher=void 0,delete s.__i18nWatcher),s.__composer&&(s.__composer=void 0,delete s.__composer)},beforeUpdate:(s,{value:o})=>{if(s.__composer){const l=s.__composer,c=hz(o);s.textContent=Reflect.apply(l.t,l,[...pz(c)])}},getSSRProps:s=>{const[o]=e(s);return{textContent:o}}}}function hz(n){if(Dn(n))return{path:n};if(zr(n)){if(!("path"in n))throw il(To.REQUIRED_VALUE,"path");return n}else throw il(To.INVALID_VALUE)}function pz(n){const{path:e,locale:t,args:r,choice:i,plural:a}=n,s={},o=r||{};return Dn(t)&&(s.locale=t),Sa(i)&&(s.plural=i),Sa(a)&&(s.plural=a),[e,o,s]}function F8e(n,e,...t){const r=zr(t[0])?t[0]:{};(ri(r.globalInstall)?r.globalInstall:!0)&&([dz.name,"I18nT"].forEach(a=>n.component(a,dz)),[fz.name,"I18nN"].forEach(a=>n.component(a,fz)),[vz.name,"I18nD"].forEach(a=>n.component(a,vz))),n.directive("t",B8e(e))}const z8e=Oh("global-vue-i18n");function U8e(n={}){const e=__VUE_I18N_LEGACY_API__&&ri(n.legacy)?n.legacy:__VUE_I18N_LEGACY_API__,t=ri(n.globalInjection)?n.globalInjection:!0,r=new Map,[i,a]=H8e(n,e),s=Oh("");function o(d){return r.get(d)||null}function l(d,f){r.set(d,f)}function c(d){r.delete(d)}const u={get mode(){return __VUE_I18N_LEGACY_API__&&e?"legacy":"composition"},async install(d,...f){if(d.__VUE_I18N_SYMBOL__=s,d.provide(d.__VUE_I18N_SYMBOL__,u),zr(f[0])){const m=f[0];u.__composerExtend=m.__composerExtend,u.__vueI18nExtend=m.__vueI18nExtend}let h=null;!e&&t&&(h=X8e(d,u.global)),__VUE_I18N_FULL_INSTALL__&&F8e(d,u,...f),__VUE_I18N_LEGACY_API__&&e&&d.mixin(P8e(a,a.__composer,u));const p=d.unmount;d.unmount=()=>{h&&h(),u.dispose(),p()}},get global(){return a},dispose(){i.stop()},__instances:r,__getInstance:o,__setInstance:l,__deleteInstance:c};return u}function Iu(n={}){const e=T_();if(e==null)throw il(To.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw il(To.NOT_INSTALLED);const t=V8e(e),r=G8e(t),i=pJ(e),a=$8e(n,i);if(a==="global")return mJ(r,n,i),r;if(a==="parent"){let l=W8e(t,e,n.__useComponent);return l==null&&(l=r),l}const s=t;let o=s.__getInstance(e);if(o==null){const l=Fa({},n);"__i18n"in i&&(l.__i18n=i.__i18n),r&&(l.__root=r),o=Bk(l),s.__composerExtend&&(o[q5]=s.__composerExtend(o)),K8e(s,e,o),s.__setInstance(e,o)}return o}function H8e(n,e){const t=SD(),r=__VUE_I18N_LEGACY_API__&&e?t.run(()=>K5(n)):t.run(()=>Bk(n));if(r==null)throw il(To.UNEXPECTED_ERROR);return[t,r]}function V8e(n){const e=Nt(n.isCE?z8e:n.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw il(n.isCE?To.NOT_INSTALLED_WITH_PROVIDE:To.UNEXPECTED_ERROR);return e}function $8e(n,e){return hA(n)?"__i18n"in e?"local":"global":n.useScope?n.useScope:"local"}function G8e(n){return n.mode==="composition"?n.global:n.global.__composer}function W8e(n,e,t=!1){let r=null;const i=e.root;let a=q8e(e,t);for(;a!=null;){const s=n;if(n.mode==="composition")r=s.__getInstance(a);else if(__VUE_I18N_LEGACY_API__){const o=s.__getInstance(a);o!=null&&(r=o.__composer,t&&r&&!r[hJ]&&(r=null))}if(r!=null||i===a)break;a=a.parent}return r}function q8e(n,e=!1){return n==null?null:e&&n.vnode.ctx||n.parent}function K8e(n,e,t){dn(()=>{},e),Ec(()=>{const r=t;n.__deleteInstance(e);const i=r[q5];i&&(i(),delete r[q5])},e)}const Y8e=["locale","fallbackLocale","availableLocales"],mz=["t","rt","d","n","tm","te"];function X8e(n,e){const t=Object.create(null);return Y8e.forEach(i=>{const a=Object.getOwnPropertyDescriptor(e,i);if(!a)throw il(To.UNEXPECTED_ERROR);const s=Ur(a.value)?{get(){return a.value.value},set(o){a.value.value=o}}:{get(){return a.get&&a.get()}};Object.defineProperty(t,i,s)}),n.config.globalProperties.$i18n=t,mz.forEach(i=>{const a=Object.getOwnPropertyDescriptor(e,i);if(!a||!a.value)throw il(To.UNEXPECTED_ERROR);Object.defineProperty(n.config.globalProperties,`$${i}`,a)}),()=>{delete n.config.globalProperties.$i18n,mz.forEach(i=>{delete n.config.globalProperties[`$${i}`]})}}const j8e=Pe({name:"i18n-d",props:Fa({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Fk),setup(n,e){const t=n.i18n||Iu({useScope:n.scope,__useComponent:!0});return gJ(n,e,lJ,(...r)=>t[G5](...r))}}),vz=j8e;A8e();a8e(Uke);s8e(n8e);o8e(nJ);if(__INTLIFY_PROD_DEVTOOLS__){const n=Kp();n.__INTLIFY__=!0,Hke(n.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Z8e={en:{more:"More",correspondingAuthor:": Corresponding Author.",paper:"Paper",chineseVersion:"",code:"Code",demo:"Demo",poster:"Poster",dataset:"Dataset (GeoSeek)",video:"Video",explainerVideo:"Explainer Video",comingSoon:"Coming soon...",bibtex:"BibTeX",address1:"VCIP, School of Computer Science, Nankai University",address2:"School of Automation, Northwestern Polytechnical University",footerDesc:"GeoAgent: Learning to Geolocate Everywhere with Reinforced Geographic Characteristic.",projectPage:"Project page of",by:"by",poweredBy:"Powered by",templateThanks:"Special thanks to the",templateThanksLink:"template contributor"},zh:{more:"",correspondingAuthor:"",paper:"",chineseVersion:"",code:"",demo:"",poster:"",dataset:" (GeoSeek)",video:"",explainerVideo:"",comingSoon:"...",bibtex:"BibTeX",address1:" VCIP",address2:"",footerDesc:"GeoAgent",projectPage:"",by:"",poweredBy:"",templateThanks:"",templateThanksLink:""}},Q8e=U8e({legacy:!1,locale:"en",fallbackLocale:"en",messages:Z8e}),J8e=n=>(Nd("data-v-898a6e29"),n=n(),Bd(),n),eOe=["href"],tOe=J8e(()=>_e("span",{class:"lang-sep"},"|",-1)),nOe=Pe({__name:"Header",setup(n){const{t:e,locale:t}=Iu(),r={GeoAgent:{name:"DepthAnything-AC Arxiv 2025",link:"https://ghost233lism.github.io/depthanything-AC-page/"}};function i(a){t.value=a}return(a,s)=>{const o=Lt("el-menu-item"),l=Lt("el-sub-menu"),c=Lt("el-menu"),u=Lt("el-affix");return $(),rt(u,{offset:0,style:{width:"100%"}},{default:Me(()=>[pe(c,{"default-active":"2",class:"el-menu-demo",mode:"horizontal",ellipsis:!1},{default:Me(()=>[pe(l,{index:"2"},{title:Me(()=>[un(_t(S(e)("more")),1)]),default:Me(()=>[($(),ge(Bt,null,kn(r,(d,f,h)=>pe(o,{key:f,index:`2-${h+1}`},{default:Me(()=>[_e("a",{href:d.link},_t(d.name),9,eOe)]),_:2},1032,["index"])),64))]),_:1}),pe(o,{index:"lang",class:"lang-menu-item"},{default:Me(()=>[_e("div",{class:"lang-switcher",onClick:s[2]||(s[2]=sn(()=>{},["stop"]))},[_e("button",{class:j({active:S(t)==="en"}),onClick:s[0]||(s[0]=d=>i("en"))},"EN",2),tOe,_e("button",{class:j({active:S(t)==="zh"}),onClick:s[1]||(s[1]=d=>i("zh"))},"",2)])]),_:1})]),_:1})]),_:1})}}}),Bs=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t},rOe=Bs(nOe,[["__scopeId","data-v-898a6e29"]]),iOe={class:"paper-title"},aOe=["href"],sOe={class:"author"},oOe={key:0,class:"name_sup"},lOe={class:"address-item"},cOe={class:"address"},uOe={key:0,class:"address_sup"},dOe=["href"],fOe={class:"btn-text"},hOe="./icon.png",gz=`GeoAgent: Learning to Geolocate Everywhere
with Reinforced Geographic Characteristic`,pOe="#000000",yz="",mOe="#42B883",vOe="#444444",gOe=Pe({__name:"Title",setup(n){const{t:e}=Iu(),t=[{name:"Modi Jin",homepage:"https://ghost233lism.github.io",address_flag:"1"},{name:"Yiming Zhang",homepage:"https://zhang-yi-ming.github.io/",address_flag:"1"},{name:"Boyuan Sun",homepage:"https://bbbbchan.github.io/",address_flag:"1"},{name:"Dingwen Zhang",homepage:"https://zdw-nwpu.github.io/dingwenz.github.com/",address_flag:"2"},{name:"MingMing Cheng",homepage:"https://mmcheng.net/",address_flag:"1"},{name:"Qibin Hou",homepage:"https://houqb.github.io/",address_flag:"1,"}],r=[{address_flag:"1",nameKey:"address1"},{address_flag:"2",nameKey:"address2"}],i=[{disabled:!0,nameKey:"paper",component:OR},{disabled:!0,nameKey:"chineseVersion",component:OR},{disabled:!1,nameKey:"code",link:"https://github.com/HVision-NKU/GeoAgent",component:Ave},{disabled:!0,nameKey:"demo",component:Bve},{disabled:!0,nameKey:"poster",component:qve},{disabled:!0,nameKey:"dataset",component:wve},{disabled:!1,nameKey:"video",component:Ive}];return(a,s)=>{const o=Lt("el-image"),l=Lt("el-row"),c=Lt("el-col"),u=Lt("el-avatar"),d=Lt("el-button");return $(),ge("div",null,[($(),rt(l,{key:0,justify:"center"},{default:Me(()=>[pe(o,{src:hOe,class:"logo",fit:"cover"})]),_:1})),pe(l,{justify:"center"},{default:Me(()=>[pe(c,{span:20},{default:Me(()=>[_e("h1",iOe,[gz?($(),ge("span",{key:0,style:Ft({color:pOe})},_t(gz),4)):Je("",!0),yz?($(),ge("span",{key:1,style:Ft({color:mOe})},_t(yz),4)):Je("",!0)])]),_:1})]),_:1}),pe(l,{justify:"center"},{default:Me(()=>[($(),ge(Bt,null,kn(t,f=>_e("a",{href:f.homepage},[pe(d,{class:"title-button",type:"primary",text:""},{default:Me(()=>[f.icon?($(),rt(u,{key:0,size:40,src:f.icon},null,8,["src"])):Je("",!0),_e("span",sOe,[un(_t(f.name),1),f.address_flag?($(),ge("sup",oOe,_t(f.address_flag),1)):Je("",!0)])]),_:2},1024)],8,aOe)),64))]),_:1}),pe(l,{justify:"center"},{default:Me(()=>[($(),ge(Bt,null,kn(r,f=>_e("div",lOe,[f.icon?($(),rt(u,{key:0,size:40,src:f.icon},null,8,["src"])):Je("",!0),_e("span",cOe,[f.address_flag?($(),ge("sup",uOe,_t(f.address_flag),1)):Je("",!0),un(_t(S(e)(f.nameKey)),1)])])),64))]),_:1}),pe(l,{justify:"center",class:"con-cor"},{default:Me(()=>[un(_t(S(e)("correspondingAuthor")),1)]),_:1}),pe(l,{justify:"center",style:{"margin-bottom":"20px"}},{default:Me(()=>[pe(c,{span:20},{default:Me(()=>[pe(l,{justify:"center"},{default:Me(()=>[($(),ge(Bt,null,kn(i,f=>_e("a",{href:f.link},[pe(d,{class:"guidance-button",size:"default",color:vOe,disabled:f.disabled,round:""},{default:Me(()=>[pe(S(Gt),{size:18},{default:Me(()=>[($(),rt(Rn(f.component)))]),_:2},1024),_e("span",fOe,_t(S(e)(f.nameKey)),1)]),_:2},1032,["disabled"])],8,dOe)),64))]),_:1})]),_:1})]),_:1})])}}}),yOe=Bs(gOe,[["__scopeId","data-v-56e81540"]]);function Pt(n,e,t){const{children:r}=e;return delete e.children,arguments.length>2&&(e.key=t),$t(n,e,r)}function bz(n){const e={h1:"h1",p:"p",...n.components};return Pt(Bt,{children:[Pt(e.h1,{children:"Abstract"}),`
`,Pt(e.p,{children:`This paper presents GeoAgent, a model capable of reasoning closely with humans and deriving fine-grained address conclusions.
Previous RL-based methods have achieved breakthroughs in performance and interpretability but still remain concerns because of their reliance on AI-generated chain-of-thought (CoT) data and training strategies, which conflict with geographic characteristics.
To address these issues, we first introduce GeoSeek, a new geolocation dataset comprising CoT data annotated by geographic experts and professional players.
We further thoroughly explore the inherent characteristics of geographic tasks and propose a geo-similarity reward and a consistency reward assessed by  a consistency agent to assist training.
This encourages the model to converge towards correct answers from a geographic perspective while ensuring the integrity and consistency of its reasoning process.
Experimental results show that GeoAgent outperforms existing methods and a series of general VLLMs across multiple grains, while generating reasoning that closely aligns with humans.`})]})}function bOe(n={}){const{wrapper:e}=n.components||{};return e?Pt(e,{...n,children:Pt(bz,{...n})}):bz(n)}function _z(n){const e={h1:"h1",p:"p",...n.components};return Pt(Bt,{children:[Pt(e.h1,{children:""}),`
`,Pt(e.p,{children:" GeoAgent AI  GeoSeekGeoAgent  VLLM"})]})}function _Oe(n={}){const{wrapper:e}=n.components||{};return e?Pt(e,{...n,children:Pt(_z,{...n})}):_z(n)}const SOe={__name:"Abstract",setup(n){const{locale:e}=Iu(),t=U(()=>e.value==="zh"?_Oe:bOe);return(r,i)=>{const a=Lt("el-divider"),s=Lt("el-col"),o=Lt("el-row");return $(),ge("div",null,[pe(a),pe(o,{justify:"center"},{default:Me(()=>[pe(s,{xs:24,sm:20,md:16,lg:12,xl:12},{default:Me(()=>[($(),rt(Rn(t.value)))]),_:1})]),_:1})])}}};function Sz(n){const e={a:"a",h1:"h1",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...n.components};return Pt(Bt,{children:[Pt(e.h1,{children:"Framework"}),`
`,Pt(e.p,{children:Pt(e.img,{src:"./pipeline3.png",alt:""})}),`
`,Pt(e.p,{children:[Pt(e.strong,{children:"Data construction and training pipeline of GeoAgent."}),` GeoSeek-CoT contains 10k high-quality reasoning processes labeled by geography experts and geolocation game players.
GeoSeek-Loc includes 20k images for the cold start `,Pt(e.strong,{children:"of GeoAgent-SFT."})," During the GRPO-based training, based on ",Pt(e.strong,{children:"GeoAgent-SFT"}),`, we design the geo-similarity reward to encourage the model to converge towards correct answers both physically and semantically.
Also, the consistency reward is introduced to keep the integrity and consistency of CoT.`]}),`
`,Pt(e.h1,{children:"GeoSeek Dataset"}),`
`,Pt(e.p,{children:Pt(e.img,{src:"./teaser.png",alt:""})}),`
`,Pt(e.p,{children:[Pt(e.strong,{children:"GeoSeek Dataset."})," We train GeoAgent with GeoSeek, a geolocation dataset with bias-reducing sampling and a val-bench annotated with locatability and geographic elements. Remarkably, a single image may contain multiple geographic elements."]}),`
`,Pt("img",{src:"./data.png",style:{display:"block",width:"80%",maxWidth:"80%",margin:"0 auto"}}),`
`,Pt(e.p,{children:"GeoSeek consists of three parts: GeoSeek-CoT, GeoSeek-Loc, and GeoSeek-Val. GeoSeek-CoT contains 10K high-quality reasoning processes labeled by humans, used for SFT. GeoSeek-Loc contains 20K samples with fine-grained address annotations, used for GRPO. GeoSeek-Val serves as a benchmark for evaluating geolocation models, with each image labeled for locatability and the geographic clues available for localization."}),`
`,Pt(e.h1,{children:"Comparison"}),`
`,Pt(e.p,{children:Pt(e.img,{src:"./ccase.png",alt:""})}),`
`,Pt(e.p,{children:Pt(e.strong,{children:"Reasoning comparison of six different models (GPT-5, Gemma3, Kimi, Qwen2.5-VL-32B, GeoAgent, and GeoAgent with only SFT)."})}),`
`,Pt(e.ul,{children:[`
`,Pt(e.li,{children:[Pt(e.strong,{children:"Green"}),": correct reasoning"]}),`
`,Pt(e.li,{children:[Pt(e.strong,{children:"Yellow"}),": reasoning with certain issues"]}),`
`,Pt(e.li,{children:[Pt(e.strong,{children:"Red"}),": reasoning that deviates significantly"]}),`
`,Pt(e.li,{children:[Pt(e.strong,{children:"Brown"}),": highlights instances where the reasoning process is ",Pt(e.strong,{children:"incomplete"})," or ",Pt(e.strong,{children:"inconsistent"})," with the result."]}),`
`]}),`
`,Pt(e.h1,{children:"Acknowledgments"}),`
`,Pt(e.p,{children:[`We sincerely thank
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Yue Zhang"}),`,
`,Pt(e.a,{href:"https://space.bilibili.com/1655209518?spm_id_from=333.337.0.0",children:"Mu He"}),`,
`,Pt(e.a,{href:"https://space.bilibili.com/111714204?spm_id_from=333.337.0.0",children:"Haowen He"}),`,
`,Pt(e.a,{href:"https://space.bilibili.com/93569847?spm_id_from=333.337.0.0",children:"Jie Lin"}),`,
and other experts in geography, as well as outstanding geolocation game players,
for their valuable guidance, prompt design suggestions, and data support throughout the construction of the GeoSeek dataset.`]}),`
`,Pt(e.p,{children:[`We also thank
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Zhixiang Wang"}),`,
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Chilin Chen"}),`,
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Jincheng Shi"}),`,
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Liupeng Zhang"}),`,
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Yuan Gu"}),`,
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Yanghang Shao"}),`,
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Jinhua Zhang"}),`,
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Jiachen Zhu"}),`,
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Gucheng Qiuyue"}),`,
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Qingyang Guo"}),`,
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Jingchen Yang"}),`,
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Weilong Kong"}),`,
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Xinyuan Li"}),`,
and `,Pt(e.a,{href:"https://tuxun.fun/",children:"Mr. Xu"}),` (an anonymous volunteer)
for their outstanding contributions in providing high-quality reasoning process data.`]}),`
`,Pt(e.h1,{children:"License"}),`
`,Pt("div",{class:"license-content",children:Pt("div",{class:"license-container",children:[Pt("div",{class:"license-icon",children:[Pt("i",{class:"fab fa-creative-commons"}),Pt("i",{class:"fab fa-creative-commons-by"}),Pt("i",{class:"fab fa-creative-commons-nc"})]}),Pt("div",{class:"license-text",children:[Pt("h3",{"data-en":"Creative Commons Attribution-NonCommercial 4.0 International","data-zh":"- 4.0 ",children:"Creative Commons Attribution-NonCommercial 4.0 International"}),Pt("p",{"data-en":"This code is licensed under the Creative Commons Attribution-NonCommercial 4.0 International for non-commercial use only. Please note that any commercial use of this code requires formal permission prior to use.","data-zh":"- 4.0 ",children:"This code is licensed under the Creative Commons Attribution-NonCommercial 4.0 International for non-commercial use only. Please note that any commercial use of this code requires formal permission prior to use."}),Pt("div",{class:"license-actions",children:Pt("a",{href:"https://creativecommons.org/licenses/by-nc/4.0/",target:"_blank",rel:"noopener noreferrer",class:"license-btn",children:[Pt("i",{class:"fas fa-external-link-alt"}),Pt("span",{"data-en":"View License","data-zh":"",children:"View License"})]})})]})]})}),`
`,Pt(e.h1,{children:"Contact"}),`
`,Pt(e.h3,{children:"Feel free to contact us at: jin_modi[AT]mail.nankai.edu.cn"}),`
`,Pt(e.h3,{children:"For commercial licensing, please contact: andrewhoux[AT]gmail.com"}),`
`]})}function wOe(n={}){const{wrapper:e}=n.components||{};return e?Pt(e,{...n,children:Pt(Sz,{...n})}):Sz(n)}function wz(n){const e={a:"a",h1:"h1",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...n.components};return Pt(Bt,{children:[Pt(e.h1,{children:""}),`
`,Pt(e.p,{children:Pt(e.img,{src:"./pipeline3.png",alt:""})}),`
`,Pt(e.p,{children:[Pt(e.strong,{children:"GeoAgent "})," GeoSeek-CoT  1 GeoSeek-Loc  2  ",Pt(e.strong,{children:"GeoAgent-SFT"}),"  GRPO  ",Pt(e.strong,{children:"GeoAgent-SFT"})," "]}),`
`,Pt(e.h1,{children:"GeoSeek "}),`
`,Pt(e.p,{children:Pt(e.img,{src:"./teaser.png",alt:""})}),`
`,Pt(e.p,{children:[Pt(e.strong,{children:"GeoSeek "}),"  GeoSeek  GeoAgent"]}),`
`,Pt("img",{src:"./data.png",style:{display:"block",width:"80%",maxWidth:"80%",margin:"0 auto"}}),`
`,Pt(e.p,{children:"GeoSeek GeoSeek-CoTGeoSeek-Loc  GeoSeek-ValGeoSeek-CoT  1  SFTGeoSeek-Loc  2  GRPOGeoSeek-Val "}),`
`,Pt(e.h1,{children:""}),`
`,Pt(e.p,{children:Pt(e.img,{src:"./ccase.png",alt:""})}),`
`,Pt(e.p,{children:Pt(e.strong,{children:"GPT-5Gemma3KimiQwen2.5-VL-32BGeoAgent SFT  GeoAgent"})}),`
`,Pt(e.ul,{children:[`
`,Pt(e.li,{children:[Pt(e.strong,{children:""}),""]}),`
`,Pt(e.li,{children:[Pt(e.strong,{children:""}),""]}),`
`,Pt(e.li,{children:[Pt(e.strong,{children:""}),""]}),`
`,Pt(e.li,{children:[Pt(e.strong,{children:""}),"",Pt(e.strong,{children:""}),"",Pt(e.strong,{children:""}),""]}),`
`]}),`
`,Pt(e.h1,{children:""}),`
`,Pt(e.p,{children:[`
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Yue Zhang"}),`
`,Pt(e.a,{href:"https://space.bilibili.com/1655209518?spm_id_from=333.337.0.0",children:"Mu He"}),`
`,Pt(e.a,{href:"https://space.bilibili.com/111714204?spm_id_from=333.337.0.0",children:"Haowen He"}),`
`,Pt(e.a,{href:"https://space.bilibili.com/93569847?spm_id_from=333.337.0.0",children:"Jie Lin"}),`

 GeoSeek `]}),`
`,Pt(e.p,{children:[`
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Zhixiang Wang"}),`
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Chilin Chen"}),`
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Jincheng Shi"}),`
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Liupeng Zhang"}),`
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Yuan Gu"}),`
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Yanghang Shao"}),`
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Jinhua Zhang"}),`
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Jiachen Zhu"}),`
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Gucheng Qiuyue"}),`
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Qingyang Guo"}),`
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Jingchen Yang"}),`
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Weilong Kong"}),`
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Xinyuan Li"}),`
`,Pt(e.a,{href:"https://tuxun.fun/",children:"Mr. Xu"}),`
`]}),`
`,Pt(e.h1,{children:""}),`
`,Pt("div",{class:"license-content",children:Pt("div",{class:"license-container",children:[Pt("div",{class:"license-icon",children:[Pt("i",{class:"fab fa-creative-commons"}),Pt("i",{class:"fab fa-creative-commons-by"}),Pt("i",{class:"fab fa-creative-commons-nc"})]}),Pt("div",{class:"license-text",children:[Pt("h3",{children:"- 4.0 "}),Pt("p",{children:"- 4.0 "}),Pt("div",{class:"license-actions",children:Pt("a",{href:"https://creativecommons.org/licenses/by-nc/4.0/",target:"_blank",rel:"noopener noreferrer",class:"license-btn",children:[Pt("i",{class:"fas fa-external-link-alt"}),Pt("span",{children:""})]})})]})]})}),`
`,Pt(e.h1,{children:""}),`
`,Pt(e.h3,{children:"jin_modi[AT]mail.nankai.edu.cn"}),`
`,Pt(e.h3,{children:"andrewhoux[AT]gmail.com"})]})}function xOe(n={}){const{wrapper:e}=n.components||{};return e?Pt(e,{...n,children:Pt(wz,{...n})}):wz(n)}const COe={__name:"Markdown",setup(n){const{locale:e}=Iu(),t=U(()=>e.value==="zh"?xOe:wOe);return(r,i)=>{const a=Lt("el-divider"),s=Lt("el-col"),o=Lt("el-row");return $(),ge("div",null,[pe(a),pe(o,{justify:"center"},{default:Me(()=>[pe(s,{xs:24,sm:20,md:16,lg:12,xl:12},{default:Me(()=>[($(),rt(Rn(t.value)))]),_:1})]),_:1})])}}},MOe=Bs(COe,[["__scopeId","data-v-981427d4"]]),TOe={class:"section-title"},AOe={__name:"BibTeX",setup(n){const{t:e}=Iu();return(t,r)=>{const i=Lt("el-divider"),a=Lt("el-row");return $(),ge("div",null,[pe(i),pe(a,{justify:"center"},{default:Me(()=>[_e("h1",TOe,_t(S(e)("bibtex")),1)]),_:1}),pe(a,{justify:"center",style:{"margin-top":"20px"}},{default:Me(()=>[_e("h2",null,_t(S(e)("comingSoon")),1)]),_:1})])}}},EOe=Bs(AOe,[["__scopeId","data-v-620a2de8"]]);function xz(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function zk(n,e){n===void 0&&(n={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:xz(e[t])&&xz(n[t])&&Object.keys(e[t]).length>0&&zk(n[t],e[t])})}const yJ={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function uu(){const n=typeof document<"u"?document:{};return zk(n,yJ),n}const IOe={document:yJ,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function sl(){const n=typeof window<"u"?window:{};return zk(n,IOe),n}function ROe(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Y5(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function mM(){return Date.now()}function POe(n){const e=sl();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function LOe(n,e){e===void 0&&(e="x");const t=sl();let r,i,a;const s=POe(n);return t.WebKitCSSMatrix?(i=s.transform||s.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(o=>o.replace(",",".")).join(", ")),a=new t.WebKitCSSMatrix(i==="none"?"":i)):(a=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?i=a.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?i=a.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function Fw(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function DOe(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Vo(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!DOe(r)){const i=Object.keys(Object(r)).filter(a=>e.indexOf(a)<0);for(let a=0,s=i.length;a<s;a+=1){const o=i[a],l=Object.getOwnPropertyDescriptor(r,o);l!==void 0&&l.enumerable&&(Fw(n[o])&&Fw(r[o])?r[o].__swiper__?n[o]=r[o]:Vo(n[o],r[o]):!Fw(n[o])&&Fw(r[o])?(n[o]={},r[o].__swiper__?n[o]=r[o]:Vo(n[o],r[o])):n[o]=r[o])}}}return n}function zw(n,e,t){n.style.setProperty(e,t)}function bJ(n){let{swiper:e,targetPosition:t,side:r}=n;const i=sl(),a=-e.translate;let s=null,o;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=t>a?"next":"prev",u=(f,h)=>c==="next"&&f>=h||c==="prev"&&f<=h,d=()=>{o=new Date().getTime(),s===null&&(s=o);const f=Math.max(Math.min((o-s)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=a+h*(t-a);if(u(p,t)&&(p=t),e.wrapperEl.scrollTo({[r]:p}),u(p,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:p})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(d)};d()}function tu(n,e){return e===void 0&&(e=""),[...n.children].filter(t=>t.matches(e))}function _J(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:[e]),t}function kOe(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function OOe(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Hf(n,e){return sl().getComputedStyle(n,null).getPropertyValue(e)}function vM(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function SJ(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function X5(n,e,t){const r=sl();return t?n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):n.offsetWidth}let f3;function NOe(){const n=sl(),e=uu();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function wJ(){return f3||(f3=NOe()),f3}let h3;function BOe(n){let{userAgent:e}=n===void 0?{}:n;const t=wJ(),r=sl(),i=r.navigator.platform,a=e||r.navigator.userAgent,s={ios:!1,android:!1},o=r.screen.width,l=r.screen.height,c=a.match(/(Android);?[\s\/]+([\d.]+)?/);let u=a.match(/(iPad).*OS\s([\d_]+)/);const d=a.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i==="Win32";let p=i==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&t.touch&&m.indexOf(`${o}x${l}`)>=0&&(u=a.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(s.os="android",s.android=!0),(u||f||d)&&(s.os="ios",s.ios=!0),s}function FOe(n){return n===void 0&&(n={}),h3||(h3=BOe(n)),h3}let p3;function zOe(){const n=sl();let e=!1;function t(){const r=n.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}if(t()){const r=String(n.navigator.userAgent);if(r.includes("Version/")){const[i,a]=r.split("Version/")[1].split(" ")[0].split(".").map(s=>Number(s));e=i<16||i===16&&a<2}}return{isSafari:e||t(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent)}}function UOe(){return p3||(p3=zOe()),p3}function HOe(n){let{swiper:e,on:t,emit:r}=n;const i=sl();let a=null,s=null;const o=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(d=>{s=i.requestAnimationFrame(()=>{const{width:f,height:h}=e;let p=f,m=h;d.forEach(g=>{let{contentBoxSize:v,contentRect:y,target:b}=g;b&&b!==e.el||(p=y?y.width:(v[0]||v).inlineSize,m=y?y.height:(v[0]||v).blockSize)}),(p!==f||m!==h)&&o()})}),a.observe(e.el))},c=()=>{s&&i.cancelAnimationFrame(s),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",o),i.addEventListener("orientationchange",u)}),t("destroy",()=>{c(),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",u)})}function VOe(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;const a=[],s=sl(),o=function(u,d){d===void 0&&(d={});const f=s.MutationObserver||s.WebkitMutationObserver,h=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){i("observerUpdate",p[0]);return}const m=function(){i("observerUpdate",p[0])};s.requestAnimationFrame?s.requestAnimationFrame(m):s.setTimeout(m,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),a.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=SJ(e.hostEl);for(let d=0;d<u.length;d+=1)o(u[d])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},c=()=>{a.forEach(u=>{u.disconnect()}),a.splice(0,a.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",c)}var $Oe={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=t?"unshift":"push";return n.split(" ").forEach(a=>{r.eventsListeners[a]||(r.eventsListeners[a]=[]),r.eventsListeners[a][i](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(n,i),i.__emitterProxy&&delete i.__emitterProxy;for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];e.apply(r,s)}return i.__emitterProxy=e,r.on(n,i,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((i,a)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&t.eventsListeners[r].splice(a,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return typeof a[0]=="string"||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),r=n):(e=a[0].events,t=a[0].data,r=a[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(r,[l,...t])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(r,t)})}),n}};function GOe(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Hf(r,"padding-left")||0,10)-parseInt(Hf(r,"padding-right")||0,10),t=t-parseInt(Hf(r,"padding-top")||0,10)-parseInt(Hf(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function WOe(){const n=this;function e(I){return n.isHorizontal()?I:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[I]}function t(I,L){return parseFloat(I.getPropertyValue(e(L))||0)}const r=n.params,{wrapperEl:i,slidesEl:a,size:s,rtlTranslate:o,wrongRTL:l}=n,c=n.virtual&&r.virtual.enabled,u=c?n.virtual.slides.length:n.slides.length,d=tu(a,`.${n.params.slideClass}, swiper-slide`),f=c?n.virtual.slides.length:d.length;let h=[];const p=[],m=[];let g=r.slidesOffsetBefore;typeof g=="function"&&(g=r.slidesOffsetBefore.call(n));let v=r.slidesOffsetAfter;typeof v=="function"&&(v=r.slidesOffsetAfter.call(n));const y=n.snapGrid.length,b=n.slidesGrid.length;let _=r.spaceBetween,w=-g,x=0,M=0;if(typeof s>"u")return;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*s:typeof _=="string"&&(_=parseFloat(_)),n.virtualSize=-_,d.forEach(I=>{o?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(zw(i,"--swiper-centered-offset-before",""),zw(i,"--swiper-centered-offset-after",""));const C=r.grid&&r.grid.rows>1&&n.grid;C&&n.grid.initSlides(f);let T;const A=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(I=>typeof r.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<f;I+=1){T=0;let L;if(d[I]&&(L=d[I]),C&&n.grid.updateSlide(I,L,f,e),!(d[I]&&Hf(L,"display")==="none")){if(r.slidesPerView==="auto"){A&&(d[I].style[e("width")]="");const k=getComputedStyle(L),N=L.style.transform,F=L.style.webkitTransform;if(N&&(L.style.transform="none"),F&&(L.style.webkitTransform="none"),r.roundLengths)T=n.isHorizontal()?X5(L,"width",!0):X5(L,"height",!0);else{const D=t(k,"width"),H=t(k,"padding-left"),z=t(k,"padding-right"),B=t(k,"margin-left"),W=t(k,"margin-right"),Z=k.getPropertyValue("box-sizing");if(Z&&Z==="border-box")T=D+B+W;else{const{clientWidth:ee,offsetWidth:J}=L;T=D+H+z+B+W+(J-ee)}}N&&(L.style.transform=N),F&&(L.style.webkitTransform=F),r.roundLengths&&(T=Math.floor(T))}else T=(s-(r.slidesPerView-1)*_)/r.slidesPerView,r.roundLengths&&(T=Math.floor(T)),d[I]&&(d[I].style[e("width")]=`${T}px`);d[I]&&(d[I].swiperSlideSize=T),m.push(T),r.centeredSlides?(w=w+T/2+x/2+_,x===0&&I!==0&&(w=w-s/2-_),I===0&&(w=w-s/2-_),Math.abs(w)<1/1e3&&(w=0),r.roundLengths&&(w=Math.floor(w)),M%r.slidesPerGroup===0&&h.push(w),p.push(w)):(r.roundLengths&&(w=Math.floor(w)),(M-Math.min(n.params.slidesPerGroupSkip,M))%n.params.slidesPerGroup===0&&h.push(w),p.push(w),w=w+T+_),n.virtualSize+=T+_,x=T,M+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+v,o&&l&&(r.effect==="slide"||r.effect==="coverflow")&&(i.style.width=`${n.virtualSize+_}px`),r.setWrapperSize&&(i.style[e("width")]=`${n.virtualSize+_}px`),C&&n.grid.updateWrapperSize(T,h,e),!r.centeredSlides){const I=[];for(let L=0;L<h.length;L+=1){let k=h[L];r.roundLengths&&(k=Math.floor(k)),h[L]<=n.virtualSize-s&&I.push(k)}h=I,Math.floor(n.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(n.virtualSize-s)}if(c&&r.loop){const I=m[0]+_;if(r.slidesPerGroup>1){const L=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/r.slidesPerGroup),k=I*r.slidesPerGroup;for(let N=0;N<L;N+=1)h.push(h[h.length-1]+k)}for(let L=0;L<n.virtual.slidesBefore+n.virtual.slidesAfter;L+=1)r.slidesPerGroup===1&&h.push(h[h.length-1]+I),p.push(p[p.length-1]+I),n.virtualSize+=I}if(h.length===0&&(h=[0]),_!==0){const I=n.isHorizontal()&&o?"marginLeft":e("marginRight");d.filter((L,k)=>!r.cssMode||r.loop?!0:k!==d.length-1).forEach(L=>{L.style[I]=`${_}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let I=0;m.forEach(k=>{I+=k+(_||0)}),I-=_;const L=I-s;h=h.map(k=>k<=0?-g:k>L?L+v:k)}if(r.centerInsufficientSlides){let I=0;if(m.forEach(L=>{I+=L+(_||0)}),I-=_,I<s){const L=(s-I)/2;h.forEach((k,N)=>{h[N]=k-L}),p.forEach((k,N)=>{p[N]=k+L})}}if(Object.assign(n,{slides:d,snapGrid:h,slidesGrid:p,slidesSizesGrid:m}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){zw(i,"--swiper-centered-offset-before",`${-h[0]}px`),zw(i,"--swiper-centered-offset-after",`${n.size/2-m[m.length-1]/2}px`);const I=-n.snapGrid[0],L=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(k=>k+I),n.slidesGrid=n.slidesGrid.map(k=>k+L)}if(f!==u&&n.emit("slidesLengthChange"),h.length!==y&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),p.length!==b&&n.emit("slidesGridLengthChange"),r.watchSlidesProgress&&n.updateSlidesOffset(),!c&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const I=`${r.containerModifierClass}backface-hidden`,L=n.el.classList.contains(I);f<=r.maxBackfaceHiddenSlides?L||n.el.classList.add(I):L&&n.el.classList.remove(I)}}function qOe(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let i=0,a;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const s=o=>r?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{t.push(o)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const o=e.activeIndex+a;if(o>e.slides.length&&!r)break;t.push(s(o))}else t.push(s(e.activeIndex));for(a=0;a<t.length;a+=1)if(typeof t[a]<"u"){const o=t[a].offsetHeight;i=o>i?o:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function KOe(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}function YOe(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:i,snapGrid:a}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let s=-n;i&&(s=n),r.forEach(l=>{l.classList.remove(t.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=t.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<r.length;l+=1){const c=r[l];let u=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(u-=r[0].swiperSlideOffset);const d=(s+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+o),f=(s-a[0]+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+o),h=-(s-u),p=h+e.slidesSizesGrid[l];(h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size)&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l),r[l].classList.add(t.slideVisibleClass)),c.progress=i?-d:d,c.originalProgress=i?-f:f}}function XOe(n){const e=this;if(typeof n>"u"){const u=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*u||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:a,isEnd:s,progressLoop:o}=e;const l=a,c=s;if(r===0)i=0,a=!0,s=!0;else{i=(n-e.minTranslate())/r;const u=Math.abs(n-e.minTranslate())<1,d=Math.abs(n-e.maxTranslate())<1;a=u||i<=0,s=d||i>=1,u&&(i=0),d&&(i=1)}if(t.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(n);m>=f?o=(m-f)/p:o=(m+p-h)/p,o>1&&(o-=1)}Object.assign(e,{progress:i,progressLoop:o,isBeginning:a,isEnd:s}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),a&&!l&&e.emit("reachBeginning toEdge"),s&&!c&&e.emit("reachEnd toEdge"),(l&&!a||c&&!s)&&e.emit("fromEdge"),e.emit("progress",i)}function jOe(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:i}=n,a=n.virtual&&t.virtual.enabled,s=l=>tu(r,`.${t.slideClass}${l}, swiper-slide${l}`)[0];e.forEach(l=>{l.classList.remove(t.slideActiveClass,t.slideNextClass,t.slidePrevClass)});let o;if(a)if(t.loop){let l=i-n.virtual.slidesBefore;l<0&&(l=n.virtual.slides.length+l),l>=n.virtual.slides.length&&(l-=n.virtual.slides.length),o=s(`[data-swiper-slide-index="${l}"]`)}else o=s(`[data-swiper-slide-index="${i}"]`);else o=e[i];if(o){o.classList.add(t.slideActiveClass);let l=OOe(o,`.${t.slideClass}, swiper-slide`)[0];t.loop&&!l&&(l=e[0]),l&&l.classList.add(t.slideNextClass);let c=kOe(o,`.${t.slideClass}, swiper-slide`)[0];t.loop&&!c===0&&(c=e[e.length-1]),c&&c.classList.add(t.slidePrevClass)}n.emitSlidesClasses()}const rC=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let i=r.querySelector(`.${n.params.lazyPreloaderClass}`);!i&&n.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},m3=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},j5=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),i=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const s=i,o=[s-e];o.push(...Array.from({length:e}).map((l,c)=>s+r+c)),n.slides.forEach((l,c)=>{o.includes(l.column)&&m3(n,c)});return}const a=i+r-1;if(n.params.rewind||n.params.loop)for(let s=i-e;s<=a+e;s+=1){const o=(s%t+t)%t;(o<i||o>a)&&m3(n,o)}else for(let s=Math.max(i-e,0);s<=Math.min(a+e,t-1);s+=1)s!==i&&(s>a||s<i)&&m3(n,s)};function ZOe(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let i;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?r>=e[a]&&r<e[a+1]-(e[a+1]-e[a])/2?i=a:r>=e[a]&&r<e[a+1]&&(i=a+1):r>=e[a]&&(i=a);return t.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function QOe(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:a,realIndex:s,snapIndex:o}=e;let l=n,c;const u=f=>{let h=f-e.virtual.slidesBefore;return h<0&&(h=e.virtual.slides.length+h),h>=e.virtual.slides.length&&(h-=e.virtual.slides.length),h};if(typeof l>"u"&&(l=ZOe(e)),r.indexOf(t)>=0)c=r.indexOf(t);else{const f=Math.min(i.slidesPerGroupSkip,l);c=f+Math.floor((l-f)/i.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),l===a){c!==o&&(e.snapIndex=c,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=u(l));return}let d;e.virtual&&i.virtual.enabled&&i.loop?d=u(l):e.slides[l]?d=parseInt(e.slides[l].getAttribute("data-swiper-slide-index")||l,10):d=l,Object.assign(e,{previousSnapIndex:o,snapIndex:c,previousRealIndex:s,realIndex:d,previousIndex:a,activeIndex:l}),e.initialized&&j5(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(s!==d&&e.emit("realIndexChange"),e.emit("slideChange"))}function JOe(n,e){const t=this,r=t.params;let i=n.closest(`.${r.slideClass}, swiper-slide`);!i&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(o=>{!i&&o.matches&&o.matches(`.${r.slideClass}, swiper-slide`)&&(i=o)});let a=!1,s;if(i){for(let o=0;o<t.slides.length;o+=1)if(t.slides[o]===i){a=!0,s=o;break}}if(i&&a)t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=s;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var eNe={updateSize:GOe,updateSlides:WOe,updateAutoHeight:qOe,updateSlidesOffset:KOe,updateSlidesProgress:YOe,updateProgress:XOe,updateSlidesClasses:jOe,updateActiveIndex:QOe,updateClickedSlide:JOe};function tNe(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:i,wrapperEl:a}=e;if(t.virtualTranslate)return r?-i:i;if(t.cssMode)return i;let s=LOe(a,n);return s+=e.cssOverflowAdjustment(),r&&(s=-s),s||0}function nNe(n,e){const t=this,{rtlTranslate:r,params:i,wrapperEl:a,progress:s}=t;let o=0,l=0;const c=0;t.isHorizontal()?o=r?-n:n:l=n,i.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?o:l,i.cssMode?a[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-o:-l:i.virtualTranslate||(t.isHorizontal()?o-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),a.style.transform=`translate3d(${o}px, ${l}px, ${c}px)`);let u;const d=t.maxTranslate()-t.minTranslate();d===0?u=0:u=(n-t.minTranslate())/d,u!==s&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function rNe(){return-this.snapGrid[0]}function iNe(){return-this.snapGrid[this.snapGrid.length-1]}function aNe(n,e,t,r,i){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const a=this,{params:s,wrapperEl:o}=a;if(a.animating&&s.preventInteractionOnTransition)return!1;const l=a.minTranslate(),c=a.maxTranslate();let u;if(r&&n>l?u=l:r&&n<c?u=c:u=n,a.updateProgress(u),s.cssMode){const d=a.isHorizontal();if(e===0)o[d?"scrollLeft":"scrollTop"]=-u;else{if(!a.support.smoothScroll)return bJ({swiper:a,targetPosition:-u,side:d?"left":"top"}),!0;o.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(u),t&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(u),t&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(f){!a||a.destroyed||f.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,t&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var sNe={getTranslate:tNe,setTranslate:nNe,minTranslate:rNe,maxTranslate:iNe,translateTo:aNe};function oNe(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function xJ(n){let{swiper:e,runCallbacks:t,direction:r,step:i}=n;const{activeIndex:a,previousIndex:s}=e;let o=r;if(o||(a>s?o="next":a<s?o="prev":o="reset"),e.emit(`transition${i}`),t&&a!==s){if(o==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),o==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function lNe(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),xJ({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function cNe(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),xJ({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var uNe={setTransition:oNe,transitionStart:lNe,transitionEnd:cNe};function dNe(n,e,t,r,i){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;let s=n;s<0&&(s=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=a;if(a.animating&&o.preventInteractionOnTransition||!p&&!r&&!i)return!1;const m=Math.min(a.params.slidesPerGroupSkip,s);let g=m+Math.floor((s-m)/a.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const v=-l[g];if(o.normalizeSlideIndex)for(let b=0;b<c.length;b+=1){const _=-Math.floor(v*100),w=Math.floor(c[b]*100),x=Math.floor(c[b+1]*100);typeof c[b+1]<"u"?_>=w&&_<x-(x-w)/2?s=b:_>=w&&_<x&&(s=b+1):_>=w&&(s=b)}if(a.initialized&&s!==d&&(!a.allowSlideNext&&(f?v>a.translate&&v>a.minTranslate():v<a.translate&&v<a.minTranslate())||!a.allowSlidePrev&&v>a.translate&&v>a.maxTranslate()&&(d||0)!==s))return!1;s!==(u||0)&&t&&a.emit("beforeSlideChangeStart"),a.updateProgress(v);let y;if(s>d?y="next":s<d?y="prev":y="reset",f&&-v===a.translate||!f&&v===a.translate)return a.updateActiveIndex(s),o.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),o.effect!=="slide"&&a.setTranslate(v),y!=="reset"&&(a.transitionStart(t,y),a.transitionEnd(t,y)),!1;if(o.cssMode){const b=a.isHorizontal(),_=f?v:-v;if(e===0){const w=a.virtual&&a.params.virtual.enabled;w&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),w&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[b?"scrollLeft":"scrollTop"]=_})):h[b?"scrollLeft":"scrollTop"]=_,w&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1})}else{if(!a.support.smoothScroll)return bJ({swiper:a,targetPosition:_,side:b?"left":"top"}),!0;h.scrollTo({[b?"left":"top"]:_,behavior:"smooth"})}return!0}return a.setTransition(e),a.setTranslate(v),a.updateActiveIndex(s),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(t,y),e===0?a.transitionEnd(t,y):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(_){!a||a.destroyed||_.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(t,y))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function fNe(n,e,t,r){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const i=this;let a=n;return i.params.loop&&(i.virtual&&i.params.virtual.enabled?a=a+i.virtual.slidesBefore:a=i.getSlideIndexByData(a)),i.slideTo(a,e,t,r)}function hNe(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:i,params:a,animating:s}=r;if(!i)return r;let o=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(o=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<a.slidesPerGroupSkip?1:o,c=r.virtual&&a.virtual.enabled;if(a.loop){if(s&&!c&&a.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,n,e,t)}),!0}return a.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+l,n,e,t)}function pNe(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const r=this,{params:i,snapGrid:a,slidesGrid:s,rtlTranslate:o,enabled:l,animating:c}=r;if(!l)return r;const u=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const d=o?r.translate:-r.translate;function f(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const h=f(d),p=a.map(v=>f(v));let m=a[p.indexOf(h)-1];if(typeof m>"u"&&i.cssMode){let v;a.forEach((y,b)=>{h>=y&&(v=b)}),typeof v<"u"&&(m=a[v>0?v-1:v])}let g=0;if(typeof m<"u"&&(g=s.indexOf(m),g<0&&(g=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),i.rewind&&r.isBeginning){const v=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(v,n,e,t)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(g,n,e,t)}),!0;return r.slideTo(g,n,e,t)}function mNe(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const r=this;return r.slideTo(r.activeIndex,n,e,t)}function vNe(n,e,t,r){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;let a=i.activeIndex;const s=Math.min(i.params.slidesPerGroupSkip,a),o=s+Math.floor((a-s)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[o]){const c=i.snapGrid[o],u=i.snapGrid[o+1];l-c>(u-c)*r&&(a+=i.params.slidesPerGroup)}else{const c=i.snapGrid[o-1],u=i.snapGrid[o];l-c<=(u-c)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,n,e,t)}function gNe(){const n=this,{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let i=n.clickedIndex,a;const s=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;a=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<n.loopedSlides-r/2||i>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),i=n.getSlideIndex(tu(t,`${s}[data-swiper-slide-index="${a}"]`)[0]),Y5(()=>{n.slideTo(i)})):n.slideTo(i):i>n.slides.length-r?(n.loopFix(),i=n.getSlideIndex(tu(t,`${s}[data-swiper-slide-index="${a}"]`)[0]),Y5(()=>{n.slideTo(i)})):n.slideTo(i)}else n.slideTo(i)}var yNe={slideTo:dNe,slideToLoop:fNe,slideNext:hNe,slidePrev:pNe,slideReset:mNe,slideToClosest:vNe,slideToClickedSlide:gNe};function bNe(n){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;tu(r,`.${t.slideClass}, swiper-slide`).forEach((a,s)=>{a.setAttribute("data-swiper-slide-index",s)}),e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function _Ne(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:i,activeSlideIndex:a,byController:s,byMousewheel:o}=n===void 0?{}:n;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:h}=l;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){t&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}const p=h.slidesPerView==="auto"?l.slidesPerViewDynamic():Math.ceil(parseFloat(h.slidesPerView,10));let m=h.loopedSlides||p;m%h.slidesPerGroup!==0&&(m+=h.slidesPerGroup-m%h.slidesPerGroup),l.loopedSlides=m;const g=[],v=[];let y=l.activeIndex;typeof a>"u"?a=l.getSlideIndex(l.slides.filter(M=>M.classList.contains(h.slideActiveClass))[0]):y=a;const b=r==="next"||!r,_=r==="prev"||!r;let w=0,x=0;if(a<m){w=Math.max(m-a,h.slidesPerGroup);for(let M=0;M<m-a;M+=1){const C=M-Math.floor(M/c.length)*c.length;g.push(c.length-C-1)}}else if(a>l.slides.length-m*2){x=Math.max(a-(l.slides.length-m*2),h.slidesPerGroup);for(let M=0;M<x;M+=1){const C=M-Math.floor(M/c.length)*c.length;v.push(C)}}if(_&&g.forEach(M=>{l.slides[M].swiperLoopMoveDOM=!0,f.prepend(l.slides[M]),l.slides[M].swiperLoopMoveDOM=!1}),b&&v.forEach(M=>{l.slides[M].swiperLoopMoveDOM=!0,f.append(l.slides[M]),l.slides[M].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"&&l.updateSlides(),h.watchSlidesProgress&&l.updateSlidesOffset(),t){if(g.length>0&&_)if(typeof e>"u"){const M=l.slidesGrid[y],T=l.slidesGrid[y+w]-M;o?l.setTranslate(l.translate-T):(l.slideTo(y+w,0,!1,!0),i&&(l.touches[l.isHorizontal()?"startX":"startY"]+=T,l.touchEventsData.currentTranslate=l.translate))}else i&&(l.slideToLoop(e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate);else if(v.length>0&&b)if(typeof e>"u"){const M=l.slidesGrid[y],T=l.slidesGrid[y-x]-M;o?l.setTranslate(l.translate-T):(l.slideTo(y-x,0,!1,!0),i&&(l.touches[l.isHorizontal()?"startX":"startY"]+=T,l.touchEventsData.currentTranslate=l.translate))}else l.slideToLoop(e,0,!1,!0)}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!s){const M={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:a,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(C=>{!C.destroyed&&C.params.loop&&C.loopFix({...M,slideTo:C.params.slidesPerView===h.slidesPerView?t:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...M,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?t:!1})}l.emit("loopFix")}function SNe(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(i=>{const a=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[a]=i}),n.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{t.append(i)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var wNe={loopCreate:bNe,loopFix:_Ne,loopDestroy:SNe};function xNe(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function CNe(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var MNe={setGrabCursor:xNe,unsetGrabCursor:CNe};function TNe(n,e){e===void 0&&(e=this);function t(r){if(!r||r===uu()||r===sl())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(n);return!i&&!r.getRootNode?null:i||t(r.getRootNode().host)}return t(e)}function ANe(n){const e=this,t=uu(),r=sl(),i=e.touchEventsData;i.evCache.push(n);const{params:a,touches:s,enabled:o}=e;if(!o||!a.simulateTouch&&n.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let l=n;l.originalEvent&&(l=l.originalEvent);let c=l.target;if(a.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in l&&l.which===3||"button"in l&&l.button>0||i.isTouched&&i.isMoved)return;const u=!!a.noSwipingClass&&a.noSwipingClass!=="",d=n.composedPath?n.composedPath():n.path;u&&l.target&&l.target.shadowRoot&&d&&(c=d[0]);const f=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,h=!!(l.target&&l.target.shadowRoot);if(a.noSwiping&&(h?TNe(f,c):c.closest(f))){e.allowClick=!0;return}if(a.swipeHandler&&!c.closest(a.swipeHandler))return;s.currentX=l.pageX,s.currentY=l.pageY;const p=s.currentX,m=s.currentY,g=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,v=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(g&&(p<=v||p>=r.innerWidth-v))if(g==="prevent")n.preventDefault();else return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=p,s.startY=m,i.touchStartTime=mM(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1);let y=!0;c.matches(i.focusableElements)&&(y=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==c&&t.activeElement.blur();const b=y&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||b)&&!c.isContentEditable&&l.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function ENe(n){const e=uu(),t=this,r=t.touchEventsData,{params:i,touches:a,rtlTranslate:s,enabled:o}=t;if(!o||!i.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",l);return}const c=r.evCache.findIndex(M=>M.pointerId===l.pointerId);c>=0&&(r.evCache[c]=l);const u=r.evCache.length>1?r.evCache[0]:l,d=u.pageX,f=u.pageY;if(l.preventedByNestedSwiper){a.startX=d,a.startY=f;return}if(!t.allowTouchMove){l.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(a,{startX:d,startY:f,prevX:t.touches.currentX,prevY:t.touches.currentY,currentX:d,currentY:f}),r.touchStartTime=mM());return}if(i.touchReleaseOnEdges&&!i.loop){if(t.isVertical()){if(f<a.startY&&t.translate<=t.maxTranslate()||f>a.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(d<a.startX&&t.translate<=t.maxTranslate()||d>a.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}if(r.allowTouchCallbacks&&t.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;a.currentX=d,a.currentY=f;const h=a.currentX-a.startX,p=a.currentY-a.startY;if(t.params.threshold&&Math.sqrt(h**2+p**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let M;t.isHorizontal()&&a.currentY===a.startY||t.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:h*h+p*p>=25&&(M=Math.atan2(Math.abs(p),Math.abs(h))*180/Math.PI,r.isScrolling=t.isHorizontal()?M>i.touchAngle:90-M>i.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(r.startMoving=!0),r.isScrolling||t.zoom&&t.params.zoom&&t.params.zoom.enabled&&r.evCache.length>1){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let m=t.isHorizontal()?h:p,g=t.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;i.oneWayMovement&&(m=Math.abs(m)*(s?1:-1),g=Math.abs(g)*(s?1:-1)),a.diff=m,m*=i.touchRatio,s&&(m=-m,g=-g);const v=t.touchesDirection;t.swipeDirection=m>0?"prev":"next",t.touchesDirection=g>0?"prev":"next";const y=t.params.loop&&!i.cssMode,b=t.swipeDirection==="next"&&t.allowSlideNext||t.swipeDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(y&&b&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const M=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(M)}r.allowMomentumBounce=!1,i.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}let _;r.isMoved&&v!==t.touchesDirection&&y&&b&&Math.abs(m)>=1&&(t.loopFix({direction:t.swipeDirection,setTranslate:!0}),_=!0),t.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=m+r.startTranslate;let w=!0,x=i.resistanceRatio;if(i.touchReleaseOnEdges&&(x=0),m>0?(y&&b&&!_&&r.currentTranslate>(i.centeredSlides?t.minTranslate()-t.size/2:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(w=!1,i.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+m)**x))):m<0&&(y&&b&&!_&&r.currentTranslate<(i.centeredSlides?t.maxTranslate()+t.size/2:t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(i.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(w=!1,i.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-m)**x))),w&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(m)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,a.diff=t.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&t.freeMode||i.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function INe(n){const e=this,t=e.touchEventsData,r=t.evCache.findIndex(b=>b.pointerId===n.pointerId);if(r>=0&&t.evCache.splice(r,1),["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:i,touches:a,rtlTranslate:s,slidesGrid:o,enabled:l}=e;if(!l||!i.simulateTouch&&n.pointerType==="mouse")return;let c=n;if(c.originalEvent&&(c=c.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",c),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&i.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}i.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const u=mM(),d=u-t.touchStartTime;if(e.allowClick){const b=c.path||c.composedPath&&c.composedPath();e.updateClickedSlide(b&&b[0]||c.target,b),e.emit("tap click",c),d<300&&u-t.lastClickTime<300&&e.emit("doubleTap doubleClick",c)}if(t.lastClickTime=mM(),Y5(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||a.diff===0||t.currentTranslate===t.startTranslate){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let f;if(i.followFinger?f=s?e.translate:-e.translate:f=-t.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:f});return}let h=0,p=e.slidesSizesGrid[0];for(let b=0;b<o.length;b+=b<i.slidesPerGroupSkip?1:i.slidesPerGroup){const _=b<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof o[b+_]<"u"?f>=o[b]&&f<o[b+_]&&(h=b,p=o[b+_]-o[b]):f>=o[b]&&(h=b,p=o[o.length-1]-o[o.length-2])}let m=null,g=null;i.rewind&&(e.isBeginning?g=i.virtual&&i.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const v=(f-o[h])/p,y=h<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(d>i.longSwipesMs){if(!i.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=i.longSwipesRatio?e.slideTo(i.rewind&&e.isEnd?m:h+y):e.slideTo(h)),e.swipeDirection==="prev"&&(v>1-i.longSwipesRatio?e.slideTo(h+y):g!==null&&v<0&&Math.abs(v)>i.longSwipesRatio?e.slideTo(g):e.slideTo(h))}else{if(!i.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(c.target===e.navigation.nextEl||c.target===e.navigation.prevEl)?c.target===e.navigation.nextEl?e.slideTo(h+y):e.slideTo(h):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:h+y),e.swipeDirection==="prev"&&e.slideTo(g!==null?g:h))}}function Cz(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:a}=n,s=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const o=s&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!o?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!s?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=i,n.allowSlideNext=r,n.params.watchOverflow&&a!==n.snapGrid&&n.checkOverflow()}function RNe(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function PNe(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let i;const a=n.maxTranslate()-n.minTranslate();a===0?i=0:i=(n.translate-n.minTranslate())/a,i!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function LNe(n){const e=this;rC(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let Mz=!1;function DNe(){}const CJ=(n,e)=>{const t=uu(),{params:r,el:i,wrapperEl:a,device:s}=n,o=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;i[l]("pointerdown",n.onTouchStart,{passive:!1}),t[l]("pointermove",n.onTouchMove,{passive:!1,capture:o}),t[l]("pointerup",n.onTouchEnd,{passive:!0}),t[l]("pointercancel",n.onTouchEnd,{passive:!0}),t[l]("pointerout",n.onTouchEnd,{passive:!0}),t[l]("pointerleave",n.onTouchEnd,{passive:!0}),t[l]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",n.onClick,!0),r.cssMode&&a[l]("scroll",n.onScroll),r.updateOnWindowResize?n[c](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",Cz,!0):n[c]("observerUpdate",Cz,!0),i[l]("load",n.onLoad,{capture:!0})};function kNe(){const n=this,e=uu(),{params:t}=n;n.onTouchStart=ANe.bind(n),n.onTouchMove=ENe.bind(n),n.onTouchEnd=INe.bind(n),t.cssMode&&(n.onScroll=PNe.bind(n)),n.onClick=RNe.bind(n),n.onLoad=LNe.bind(n),Mz||(e.addEventListener("touchstart",DNe),Mz=!0),CJ(n,"on")}function ONe(){CJ(this,"off")}var NNe={attachEvents:kNe,detachEvents:ONe};const Tz=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function BNe(){const n=this,{realIndex:e,initialized:t,params:r,el:i}=n,a=r.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const s=n.getBreakpoint(a,n.params.breakpointsBase,n.el);if(!s||n.currentBreakpoint===s)return;const l=(s in a?a[s]:void 0)||n.originalParams,c=Tz(n,r),u=Tz(n,l),d=r.enabled;c&&!u?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!c&&u&&(i.classList.add(`${r.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(v=>{if(typeof l[v]>"u")return;const y=r[v]&&r[v].enabled,b=l[v]&&l[v].enabled;y&&!b&&n[v].disable(),!y&&b&&n[v].enable()});const f=l.direction&&l.direction!==r.direction,h=r.loop&&(l.slidesPerView!==r.slidesPerView||f),p=r.loop;f&&t&&n.changeDirection(),Vo(n.params,l);const m=n.params.enabled,g=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),d&&!m?n.disable():!d&&m&&n.enable(),n.currentBreakpoint=s,n.emit("_beforeBreakpoint",l),t&&(h?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!p&&g?(n.loopCreate(e),n.updateSlides()):p&&!g&&n.loopDestroy()),n.emit("breakpoint",l)}function FNe(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const i=sl(),a=e==="window"?i.innerHeight:t.clientHeight,s=Object.keys(n).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:a*l,point:o}}return{value:o,point:o}});s.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<s.length;o+=1){const{point:l,value:c}=s[o];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=t.clientWidth&&(r=l)}return r||"max"}var zNe={setBreakpoint:BNe,getBreakpoint:FNe};function UNe(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&t.push(e+i)}):typeof r=="string"&&t.push(e+r)}),t}function HNe(){const n=this,{classNames:e,params:t,rtl:r,el:i,device:a}=n,s=UNe(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...s),i.classList.add(...e),n.emitContainerClasses()}function VNe(){const n=this,{el:e,classNames:t}=n;e.classList.remove(...t),n.emitContainerClasses()}var $Ne={addClasses:HNe,removeClasses:VNe};function GNe(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const i=n.slides.length-1,a=n.slidesGrid[i]+n.slidesSizesGrid[i]+r*2;n.isLocked=n.size>a}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var WNe={checkOverflow:GNe},Z5={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function qNe(n,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],a=r[i];if(typeof a!="object"||a===null){Vo(e,r);return}if(n[i]===!0&&(n[i]={enabled:!0}),i==="navigation"&&n[i]&&n[i].enabled&&!n[i].prevEl&&!n[i].nextEl&&(n[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&n[i]&&n[i].enabled&&!n[i].el&&(n[i].auto=!0),!(i in n&&"enabled"in a)){Vo(e,r);return}typeof n[i]=="object"&&!("enabled"in n[i])&&(n[i].enabled=!0),n[i]||(n[i]={enabled:!1}),Vo(e,r)}}const v3={eventsEmitter:$Oe,update:eNe,translate:sNe,transition:uNe,slide:yNe,loop:wNe,grabCursor:MNe,events:NNe,breakpoints:zNe,checkOverflow:WNe,classes:$Ne},g3={};let Uk=class ed{constructor(){let e,t;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?t=i[0]:[e,t]=i,t||(t={}),t=Vo({},t),e&&!t.el&&(t.el=e);const s=uu();if(t.el&&typeof t.el=="string"&&s.querySelectorAll(t.el).length>1){const u=[];return s.querySelectorAll(t.el).forEach(d=>{const f=Vo({},t,{el:d});u.push(new ed(f))}),u}const o=this;o.__swiper__=!0,o.support=wJ(),o.device=FOe({userAgent:t.userAgent}),o.browser=UOe(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],t.modules&&Array.isArray(t.modules)&&o.modules.push(...t.modules);const l={};o.modules.forEach(u=>{u({params:t,swiper:o,extendParams:qNe(t,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const c=Vo({},Z5,l);return o.params=Vo({},c,g3,t),o.originalParams=Vo({},o.params),o.passedParams=Vo({},t),o.params&&o.params.on&&Object.keys(o.params.on).forEach(u=>{o.on(u,o.params.on[u])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getSlideIndex(e){const{slidesEl:t,params:r}=this,i=tu(t,`.${r.slideClass}, swiper-slide`),a=vM(i[0]);return vM(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=tu(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),s=(r.maxTranslate()-i)*e+i;r.translateTo(s,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);t.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:i,slides:a,slidesGrid:s,slidesSizesGrid:o,size:l,activeIndex:c}=r;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let d=a[c]?a[c].swiperSlideSize:0,f;for(let h=c+1;h<a.length;h+=1)a[h]&&!f&&(d+=a[h].swiperSlideSize,u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)a[h]&&!f&&(d+=a[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<a.length;d+=1)(t?s[d]+o[d]-s[c]<l:s[d]-s[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)s[c]-s[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete&&rC(e,s)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const s=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(s,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const s=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(s.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||i()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(t.isElement=!0);const i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):tu(r,i())[0])();return!s&&t.params.createElements&&(s=_J("div",t.params.wrapperClass),r.append(s),tu(r,`.${t.params.slideClass}`).forEach(o=>{s.append(o)})),Object.assign(t,{el:r,wrapperEl:s,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:s,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Hf(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Hf(r,"direction")==="rtl"),wrongRTL:Hf(s,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(a=>{a.complete?rC(t,a):a.addEventListener("load",s=>{rC(t,s.target)})}),j5(t),t.initialized=!0,j5(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:i,el:a,wrapperEl:s,slides:o}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),t&&(r.removeClasses(),a.removeAttribute("style"),s.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el.swiper=null,ROe(r)),r.destroyed=!0),null}static extendDefaults(e){Vo(g3,e)}static get extendedDefaults(){return g3}static get defaults(){return Z5}static installModule(e){ed.prototype.__modules__||(ed.prototype.__modules__=[]);const t=ed.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>ed.installModule(t)),ed):(ed.installModule(e),ed)}};Object.keys(v3).forEach(n=>{Object.keys(v3[n]).forEach(e=>{Uk.prototype[e]=v3[n][e]})});Uk.use([HOe,VOe]);const MJ=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function P0(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function d0(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:P0(e[r])&&P0(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:d0(n[r],e[r]):n[r]=e[r]})}function TJ(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function AJ(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function EJ(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function IJ(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function KNe(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function YNe(n){let{swiper:e,slides:t,passedParams:r,changedParams:i,nextEl:a,prevEl:s,scrollbarEl:o,paginationEl:l}=n;const c=i.filter(T=>T!=="children"&&T!=="direction"&&T!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:m}=e;let g,v,y,b,_,w,x,M;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(g=!0),i.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(v=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(y=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||o)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(b=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||s)&&(r.navigation.nextEl||a)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(_=!0);const C=T=>{e[T]&&(e[T].destroy(),T==="navigation"?(e.isElement&&(e[T].prevEl.remove(),e[T].nextEl.remove()),u[T].prevEl=void 0,u[T].nextEl=void 0,e[T].prevEl=void 0,e[T].nextEl=void 0):(e.isElement&&e[T].el.remove(),u[T].el=void 0,e[T].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!r.loop?w=!0:!u.loop&&r.loop?x=!0:M=!0),c.forEach(T=>{if(P0(u[T])&&P0(r[T]))d0(u[T],r[T]),(T==="navigation"||T==="pagination"||T==="scrollbar")&&"enabled"in r[T]&&!r[T].enabled&&C(T);else{const A=r[T];(A===!0||A===!1)&&(T==="navigation"||T==="pagination"||T==="scrollbar")?A===!1&&C(T):u[T]=r[T]}}),c.includes("controller")&&!v&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&t&&p&&u.virtual.enabled&&(p.slides=t,p.update(!0)),i.includes("children")&&t&&u.loop&&(M=!0),g&&m.init()&&m.update(!0),v&&(e.controller.control=u.controller.control),y&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),b&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(u.scrollbar.el=o),h.init(),h.updateSize(),h.setTranslate()),_&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),a.innerHTML=e.hostEl.constructor.nextButtonSvg,a.part.add("button-next"),e.el.appendChild(a)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),s.innerHTML=e.hostEl.constructor.prevButtonSvg,s.part.add("button-prev"),e.el.appendChild(s))),a&&(u.navigation.nextEl=a),s&&(u.navigation.prevEl=s),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(w||M)&&e.loopDestroy(),(x||M)&&e.loopCreate(),e.update()}function Az(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},i={};d0(t,Z5),t._emitClasses=!0,t.init=!1;const a={},s=MJ.map(l=>l.replace(/_/,"")),o=Object.assign({},n);return Object.keys(o).forEach(l=>{typeof n[l]>"u"||(s.indexOf(l)>=0?P0(n[l])?(t[l]={},i[l]={},d0(t[l],n[l]),d0(i[l],n[l])):(t[l]=n[l],i[l]=n[l]):l.search(/on[A-Z]/)===0&&typeof n[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=n[l]:t.on[`${l[2].toLowerCase()}${l.substr(3)}`]=n[l]:a[l]=n[l])}),["navigation","pagination","scrollbar"].forEach(l=>{t[l]===!0&&(t[l]={}),t[l]===!1&&delete t[l]}),{params:t,passedParams:i,rest:a,events:r}}function XNe(n,e){let{el:t,nextEl:r,prevEl:i,paginationEl:a,scrollbarEl:s,swiper:o}=n;TJ(e)&&r&&i&&(o.params.navigation.nextEl=r,o.originalParams.navigation.nextEl=r,o.params.navigation.prevEl=i,o.originalParams.navigation.prevEl=i),AJ(e)&&a&&(o.params.pagination.el=a,o.originalParams.pagination.el=a),EJ(e)&&s&&(o.params.scrollbar.el=s,o.originalParams.scrollbar.el=s),o.init(t)}function jNe(n,e,t,r,i){const a=[];if(!e)return a;const s=l=>{a.indexOf(l)<0&&a.push(l)};if(t&&r){const l=r.map(i),c=t.map(i);l.join("")!==c.join("")&&s("children"),r.length!==t.length&&s("children")}return MJ.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in n&&l in e)if(P0(n[l])&&P0(e[l])){const c=Object.keys(n[l]),u=Object.keys(e[l]);c.length!==u.length?s(l):(c.forEach(d=>{n[l][d]!==e[l][d]&&s(l)}),u.forEach(d=>{n[l][d]!==e[l][d]&&s(l)}))}else n[l]!==e[l]&&s(l)}),a}const ZNe=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function y3(n,e,t){n===void 0&&(n={});const r=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},a=(s,o)=>{Array.isArray(s)&&s.forEach(l=>{const c=typeof l.type=="symbol";o==="default"&&(o="container-end"),c&&l.children?a(l.children,o):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")?r.push(l):i[o]&&i[o].push(l)})};return Object.keys(n).forEach(s=>{if(typeof n[s]!="function")return;const o=n[s]();a(o,s)}),t.value=e.value,e.value=r,{slides:r,slots:i}}function QNe(n,e,t){if(!t)return null;const r=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},i=n.value.isHorizontal()?{[n.value.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:a,to:s}=t,o=n.value.params.loop?-e.length:0,l=n.value.params.loop?e.length*2:e.length,c=[];for(let u=o;u<l;u+=1)u>=a&&u<=s&&c.push(e[r(u)]);return c.map(u=>(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=n,u.props.style=i,$t(u.type,{...u.props},u.children)))}const JNe={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","breakpointsBase","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(n,e){let{slots:t,emit:r}=e;const{tag:i,wrapperTag:a}=n,s=te("swiper"),o=te(null),l=te(!1),c=te(!1),u=te(null),d=te(null),f=te(null),h={value:[]},p={value:[]},m=te(null),g=te(null),v=te(null),y=te(null),{params:b,passedParams:_}=Az(n,!1);y3(t,h,p),f.value=_,p.value=h.value;const w=()=>{y3(t,h,p),l.value=!0};b.onAny=function(C){for(var T=arguments.length,A=new Array(T>1?T-1:0),I=1;I<T;I++)A[I-1]=arguments[I];r(C,...A)},Object.assign(b.on,{_beforeBreakpoint:w,_containerClasses(C,T){s.value=T}});const x={...b};if(delete x.wrapperClass,d.value=new Uk(x),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=h.value;const C={cache:!1,slides:h.value,renderExternal:T=>{o.value=T},renderExternalUpdate:!1};d0(d.value.params.virtual,C),d0(d.value.originalParams.virtual,C)}Io(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:C}=Az(n,!1),T=jNe(C,f.value,h.value,p.value,A=>A.props&&A.props.key);f.value=C,(T.length||l.value)&&d.value&&!d.value.destroyed&&YNe({swiper:d.value,slides:h.value,passedParams:C,changedParams:T,nextEl:m.value,prevEl:g.value,scrollbarEl:y.value,paginationEl:v.value}),l.value=!1}),Vn("swiper",d),dt(o,()=>{Yt(()=>{ZNe(d.value)})}),dn(()=>{u.value&&(XNe({el:u.value,nextEl:m.value,prevEl:g.value,paginationEl:v.value,scrollbarEl:y.value,swiper:d.value},b),r("swiper",d.value))}),vr(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function M(C){return b.virtual?QNe(d,C,o.value):(C.forEach((T,A)=>{T.props||(T.props={}),T.props.swiperRef=d,T.props.swiperSlideIndex=A}),C)}return()=>{const{slides:C,slots:T}=y3(t,h,p);return $t(i,{ref:u,class:IJ(s.value)},[T["container-start"],$t(a,{class:KNe(b.wrapperClass)},[T["wrapper-start"],M(C),T["wrapper-end"]]),TJ(n)&&[$t("div",{ref:g,class:"swiper-button-prev"}),$t("div",{ref:m,class:"swiper-button-next"})],EJ(n)&&$t("div",{ref:y,class:"swiper-scrollbar"}),AJ(n)&&$t("div",{ref:v,class:"swiper-pagination"}),T["container-end"]])}}},eBe={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(n,e){let{slots:t}=e,r=!1;const{swiperRef:i}=n,a=te(null),s=te("swiper-slide"),o=te(!1);function l(d,f,h){f===a.value&&(s.value=h)}dn(()=>{!i||!i.value||(i.value.on("_slideClass",l),r=!0)}),kT(()=>{r||!i||!i.value||(i.value.on("_slideClass",l),r=!0)}),Io(()=>{!a.value||!i||!i.value||(typeof n.swiperSlideIndex<"u"&&(a.value.swiperSlideIndex=n.swiperSlideIndex),i.value.destroyed&&s.value!=="swiper-slide"&&(s.value="swiper-slide"))}),vr(()=>{!i||!i.value||i.value.off("_slideClass",l)});const c=U(()=>({isActive:s.value.indexOf("swiper-slide-active")>=0,isVisible:s.value.indexOf("swiper-slide-visible")>=0,isPrev:s.value.indexOf("swiper-slide-prev")>=0,isNext:s.value.indexOf("swiper-slide-next")>=0}));Vn("swiperSlide",c);const u=()=>{o.value=!0};return()=>$t(n.tag,{class:IJ(`${s.value}`),ref:a,"data-swiper-slide-index":typeof n.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?n.swiperSlideIndex:n.virtualIndex,onLoadCapture:u},n.zoom?$t("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof n.zoom=="number"?n.zoom:void 0},[t.default&&t.default(c.value),n.lazy&&!o.value&&$t("div",{class:"swiper-lazy-preloader"})]):[t.default&&t.default(c.value),n.lazy&&!o.value&&$t("div",{class:"swiper-lazy-preloader"})])}};function RJ(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(i=>{if(!t[i]&&t.auto===!0){let a=tu(n.el,`.${r[i]}`)[0];a||(a=_J("div",r[i]),a.className=r[i],n.el.append(a)),t[i]=a,e[i]=a}}),t}function Ez(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const a=m=>(Array.isArray(m)?m:[m]).filter(g=>!!g);function s(m){let g;return m&&typeof m=="string"&&e.isElement&&(g=e.el.querySelector(m),g)?g:(m&&(typeof m=="string"&&(g=[...document.querySelectorAll(m)]),e.params.uniqueNavElements&&typeof m=="string"&&g.length>1&&e.el.querySelectorAll(m).length===1&&(g=e.el.querySelector(m))),m&&!g?m:g)}function o(m,g){const v=e.params.navigation;m=a(m),m.forEach(y=>{y&&(y.classList[g?"add":"remove"](...v.disabledClass.split(" ")),y.tagName==="BUTTON"&&(y.disabled=g),e.params.watchOverflow&&e.enabled&&y.classList[e.isLocked?"add":"remove"](v.lockClass))})}function l(){const{nextEl:m,prevEl:g}=e.navigation;if(e.params.loop){o(g,!1),o(m,!1);return}o(g,e.isBeginning&&!e.params.rewind),o(m,e.isEnd&&!e.params.rewind)}function c(m){m.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function u(m){m.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function d(){const m=e.params.navigation;if(e.params.navigation=RJ(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(m.nextEl||m.prevEl))return;let g=s(m.nextEl),v=s(m.prevEl);Object.assign(e.navigation,{nextEl:g,prevEl:v}),g=a(g),v=a(v);const y=(b,_)=>{b&&b.addEventListener("click",_==="next"?u:c),!e.enabled&&b&&b.classList.add(...m.lockClass.split(" "))};g.forEach(b=>y(b,"next")),v.forEach(b=>y(b,"prev"))}function f(){let{nextEl:m,prevEl:g}=e.navigation;m=a(m),g=a(g);const v=(y,b)=>{y.removeEventListener("click",b==="next"?u:c),y.classList.remove(...e.params.navigation.disabledClass.split(" "))};m.forEach(y=>v(y,"next")),g.forEach(y=>v(y,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(d(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:m,prevEl:g}=e.navigation;if(m=a(m),g=a(g),e.enabled){l();return}[...m,...g].filter(v=>!!v).forEach(v=>v.classList.add(e.params.navigation.lockClass))}),r("click",(m,g)=>{let{nextEl:v,prevEl:y}=e.navigation;v=a(v),y=a(y);const b=g.target;if(e.params.navigation.hideOnClick&&!y.includes(b)&&!v.includes(b)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===b||e.pagination.el.contains(b)))return;let _;v.length?_=v[0].classList.contains(e.params.navigation.hiddenClass):y.length&&(_=y[0].classList.contains(e.params.navigation.hiddenClass)),i(_===!0?"navigationShow":"navigationHide"),[...v,...y].filter(w=>!!w).forEach(w=>w.classList.toggle(e.params.navigation.hiddenClass))}});const h=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:h,disable:p,update:l,init:d,destroy:f})}function s1(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Iz(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;const a="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:y=>y,formatFractionTotal:y=>y,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let s,o=0;const l=y=>(Array.isArray(y)?y:[y]).filter(b=>!!b);function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(y,b){const{bulletActiveClass:_}=e.params.pagination;y&&(y=y[`${b==="prev"?"previous":"next"}ElementSibling`],y&&(y.classList.add(`${_}-${b}`),y=y[`${b==="prev"?"previous":"next"}ElementSibling`],y&&y.classList.add(`${_}-${b}-${b}`)))}function d(y){const b=y.target.closest(s1(e.params.pagination.bulletClass));if(!b)return;y.preventDefault();const _=vM(b)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===_)return;const w=e.realIndex,x=e.getSlideIndexByData(_),M=e.getSlideIndexByData(e.realIndex),C=T=>{const A=e.activeIndex;e.loopFix({direction:T,activeSlideIndex:x,slideTo:!1});const I=e.activeIndex;A===I&&e.slideToLoop(w,0,!1,!0)};if(x>e.slides.length-e.loopedSlides)C(x>M?"next":"prev");else if(e.params.centeredSlides){const T=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(e.params.slidesPerView,10));x<Math.floor(T/2)&&C("prev")}e.slideToLoop(_)}else e.slideTo(_)}function f(){const y=e.rtl,b=e.params.pagination;if(c())return;let _=e.pagination.el;_=l(_);let w,x;const M=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,C=e.params.loop?Math.ceil(M/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(x=e.previousRealIndex||0,w=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(w=e.snapIndex,x=e.previousSnapIndex):(x=e.previousIndex||0,w=e.activeIndex||0),b.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const T=e.pagination.bullets;let A,I,L;if(b.dynamicBullets&&(s=X5(T[0],e.isHorizontal()?"width":"height",!0),_.forEach(k=>{k.style[e.isHorizontal()?"width":"height"]=`${s*(b.dynamicMainBullets+4)}px`}),b.dynamicMainBullets>1&&x!==void 0&&(o+=w-(x||0),o>b.dynamicMainBullets-1?o=b.dynamicMainBullets-1:o<0&&(o=0)),A=Math.max(w-o,0),I=A+(Math.min(T.length,b.dynamicMainBullets)-1),L=(I+A)/2),T.forEach(k=>{const N=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(F=>`${b.bulletActiveClass}${F}`)].map(F=>typeof F=="string"&&F.includes(" ")?F.split(" "):F).flat();k.classList.remove(...N)}),_.length>1)T.forEach(k=>{const N=vM(k);N===w?k.classList.add(...b.bulletActiveClass.split(" ")):e.isElement&&k.setAttribute("part","bullet"),b.dynamicBullets&&(N>=A&&N<=I&&k.classList.add(...`${b.bulletActiveClass}-main`.split(" ")),N===A&&u(k,"prev"),N===I&&u(k,"next"))});else{const k=T[w];if(k&&k.classList.add(...b.bulletActiveClass.split(" ")),e.isElement&&T.forEach((N,F)=>{N.setAttribute("part",F===w?"bullet-active":"bullet")}),b.dynamicBullets){const N=T[A],F=T[I];for(let D=A;D<=I;D+=1)T[D]&&T[D].classList.add(...`${b.bulletActiveClass}-main`.split(" "));u(N,"prev"),u(F,"next")}}if(b.dynamicBullets){const k=Math.min(T.length,b.dynamicMainBullets+4),N=(s*k-s)/2-L*s,F=y?"right":"left";T.forEach(D=>{D.style[e.isHorizontal()?F:"top"]=`${N}px`})}}_.forEach((T,A)=>{if(b.type==="fraction"&&(T.querySelectorAll(s1(b.currentClass)).forEach(I=>{I.textContent=b.formatFractionCurrent(w+1)}),T.querySelectorAll(s1(b.totalClass)).forEach(I=>{I.textContent=b.formatFractionTotal(C)})),b.type==="progressbar"){let I;b.progressbarOpposite?I=e.isHorizontal()?"vertical":"horizontal":I=e.isHorizontal()?"horizontal":"vertical";const L=(w+1)/C;let k=1,N=1;I==="horizontal"?k=L:N=L,T.querySelectorAll(s1(b.progressbarFillClass)).forEach(F=>{F.style.transform=`translate3d(0,0,0) scaleX(${k}) scaleY(${N})`,F.style.transitionDuration=`${e.params.speed}ms`})}b.type==="custom"&&b.renderCustom?(T.innerHTML=b.renderCustom(e,w+1,C),A===0&&i("paginationRender",T)):(A===0&&i("paginationRender",T),i("paginationUpdate",T)),e.params.watchOverflow&&e.enabled&&T.classList[e.isLocked?"add":"remove"](b.lockClass)})}function h(){const y=e.params.pagination;if(c())return;const b=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let _=e.pagination.el;_=l(_);let w="";if(y.type==="bullets"){let x=e.params.loop?Math.ceil(b/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&x>b&&(x=b);for(let M=0;M<x;M+=1)y.renderBullet?w+=y.renderBullet.call(e,M,y.bulletClass):w+=`<${y.bulletElement} ${e.isElement?'part="bullet"':""} class="${y.bulletClass}"></${y.bulletElement}>`}y.type==="fraction"&&(y.renderFraction?w=y.renderFraction.call(e,y.currentClass,y.totalClass):w=`<span class="${y.currentClass}"></span> / <span class="${y.totalClass}"></span>`),y.type==="progressbar"&&(y.renderProgressbar?w=y.renderProgressbar.call(e,y.progressbarFillClass):w=`<span class="${y.progressbarFillClass}"></span>`),e.pagination.bullets=[],_.forEach(x=>{y.type!=="custom"&&(x.innerHTML=w||""),y.type==="bullets"&&e.pagination.bullets.push(...x.querySelectorAll(s1(y.bulletClass)))}),y.type!=="custom"&&i("paginationRender",_[0])}function p(){e.params.pagination=RJ(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const y=e.params.pagination;if(!y.el)return;let b;typeof y.el=="string"&&e.isElement&&(b=e.el.querySelector(y.el)),!b&&typeof y.el=="string"&&(b=[...document.querySelectorAll(y.el)]),b||(b=y.el),!(!b||b.length===0)&&(e.params.uniqueNavElements&&typeof y.el=="string"&&Array.isArray(b)&&b.length>1&&(b=[...e.el.querySelectorAll(y.el)],b.length>1&&(b=b.filter(_=>SJ(_,".swiper")[0]===e.el)[0])),Array.isArray(b)&&b.length===1&&(b=b[0]),Object.assign(e.pagination,{el:b}),b=l(b),b.forEach(_=>{y.type==="bullets"&&y.clickable&&_.classList.add(...(y.clickableClass||"").split(" ")),_.classList.add(y.modifierClass+y.type),_.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.type==="bullets"&&y.dynamicBullets&&(_.classList.add(`${y.modifierClass}${y.type}-dynamic`),o=0,y.dynamicMainBullets<1&&(y.dynamicMainBullets=1)),y.type==="progressbar"&&y.progressbarOpposite&&_.classList.add(y.progressbarOppositeClass),y.clickable&&_.addEventListener("click",d),e.enabled||_.classList.add(y.lockClass)}))}function m(){const y=e.params.pagination;if(c())return;let b=e.pagination.el;b&&(b=l(b),b.forEach(_=>{_.classList.remove(y.hiddenClass),_.classList.remove(y.modifierClass+y.type),_.classList.remove(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.clickable&&(_.classList.remove(...(y.clickableClass||"").split(" ")),_.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(_=>_.classList.remove(...y.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const y=e.params.pagination;let{el:b}=e.pagination;b=l(b),b.forEach(_=>{_.classList.remove(y.horizontalClass,y.verticalClass),_.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?v():(p(),h(),f())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),r("snapIndexChange",()=>{f()}),r("snapGridLengthChange",()=>{h(),f()}),r("destroy",()=>{m()}),r("enable disable",()=>{let{el:y}=e.pagination;y&&(y=l(y),y.forEach(b=>b.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{f()}),r("click",(y,b)=>{const _=b.target,w=l(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&w&&w.length>0&&!_.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&_===e.navigation.nextEl||e.navigation.prevEl&&_===e.navigation.prevEl))return;const x=w[0].classList.contains(e.params.pagination.hiddenClass);i(x===!0?"paginationShow":"paginationHide"),w.forEach(M=>M.classList.toggle(e.params.pagination.hiddenClass))}});const g=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=l(y),y.forEach(b=>b.classList.remove(e.params.pagination.paginationDisabledClass))),p(),h(),f()},v=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=l(y),y.forEach(b=>b.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:g,disable:v,render:h,update:f,init:p,destroy:m})}function Rz(n){let{swiper:e,extendParams:t,on:r,emit:i,params:a}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let s,o,l=a&&a.autoplay?a.autoplay.delay:3e3,c=a&&a.autoplay?a.autoplay.delay:3e3,u,d=new Date().getTime,f,h,p,m,g,v;function y(H){!e||e.destroyed||!e.wrapperEl||H.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",y),T())}const b=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(c=u,f=!1);const H=e.autoplay.paused?u:d+c-new Date().getTime();e.autoplay.timeLeft=H,i("autoplayTimeLeft",H,H/l),o=requestAnimationFrame(()=>{b()})},_=()=>{let H;return e.virtual&&e.params.virtual.enabled?H=e.slides.filter(B=>B.classList.contains("swiper-slide-active"))[0]:H=e.slides[e.activeIndex],H?parseInt(H.getAttribute("data-swiper-autoplay"),10):void 0},w=H=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),b();let z=typeof H>"u"?e.params.autoplay.delay:H;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const B=_();!Number.isNaN(B)&&B>0&&typeof H>"u"&&(z=B,l=B,c=B),u=z;const W=e.params.speed,Z=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(W,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,W,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(W,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,W,!0,!0),i("autoplay")),e.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{w()})))};return z>0?(clearTimeout(s),s=setTimeout(()=>{Z()},z)):requestAnimationFrame(()=>{Z()}),z},x=()=>{e.autoplay.running=!0,w(),i("autoplayStart")},M=()=>{e.autoplay.running=!1,clearTimeout(s),cancelAnimationFrame(o),i("autoplayStop")},C=(H,z)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(s),H||(v=!0);const B=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",y):T()};if(e.autoplay.paused=!0,z){g&&(u=e.params.autoplay.delay),g=!1,B();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-d),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),B())},T=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=new Date().getTime(),v?(v=!1,w(u)):w(),e.autoplay.paused=!1,i("autoplayResume"))},A=()=>{if(e.destroyed||!e.autoplay.running)return;const H=uu();H.visibilityState==="hidden"&&(v=!0,C(!0)),H.visibilityState==="visible"&&T()},I=H=>{H.pointerType==="mouse"&&(v=!0,!(e.animating||e.autoplay.paused)&&C(!0))},L=H=>{H.pointerType==="mouse"&&e.autoplay.paused&&T()},k=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",I),e.el.addEventListener("pointerleave",L))},N=()=>{e.el.removeEventListener("pointerenter",I),e.el.removeEventListener("pointerleave",L)},F=()=>{uu().addEventListener("visibilitychange",A)},D=()=>{uu().removeEventListener("visibilitychange",A)};r("init",()=>{e.params.autoplay.enabled&&(k(),F(),d=new Date().getTime(),x())}),r("destroy",()=>{N(),D(),e.autoplay.running&&M()}),r("beforeTransitionStart",(H,z,B)=>{e.destroyed||!e.autoplay.running||(B||!e.params.autoplay.disableOnInteraction?C(!0,!0):M())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){M();return}h=!0,p=!1,v=!1,m=setTimeout(()=>{v=!0,p=!0,C(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!h)){if(clearTimeout(m),clearTimeout(s),e.params.autoplay.disableOnInteraction){p=!1,h=!1;return}p&&e.params.cssMode&&T(),p=!1,h=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(g=!0)}),Object.assign(e.autoplay,{start:x,stop:M,pause:C,resume:T})}const tBe={components:{Swiper:JNe,SwiperSlide:eBe,Navigation:Ez,Pagination:Iz,Autoplay:Rz},data(){return{modules:[Ez,Iz,Rz],image_paths:["./carousel/1.png","./carousel/2.png","./carousel/3.png","./carousel/4.png","./carousel/5.png"]}}};function nBe(n,e,t,r,i,a){const s=Lt("el-image"),o=Lt("swiper-slide"),l=Lt("swiper"),c=Lt("el-col"),u=Lt("el-row");return $(),rt(u,{justify:"center"},{default:Me(()=>[pe(c,{span:24},{default:Me(()=>[pe(l,{loop:!0,slidesPerView:1,breakpoints:{600:{slidesPerView:2},800:{slidesPerView:3}},modules:i.modules,navigation:{hideOnClick:!0},pagination:{hideOnClick:!0,clickable:!0,type:"bullets"},autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0}},{default:Me(()=>[($(!0),ge(Bt,null,kn(i.image_paths,d=>($(),rt(o,null,{default:Me(()=>[pe(s,{src:d},null,8,["src"])]),_:2},1024))),256))]),_:1},8,["modules"])]),_:1})]),_:1})}const rBe=Bs(tBe,[["render",nBe]]),iBe={class:"section-title"},aBe={__name:"Video",setup(n){const{t:e}=Iu();return(t,r)=>{const i=Lt("el-divider"),a=Lt("el-row");return $(),ge("div",null,[pe(i),pe(a,{justify:"center"},{default:Me(()=>[_e("h1",iBe,_t(S(e)("explainerVideo")),1)]),_:1}),pe(a,{justify:"center",style:{"margin-top":"20px"}},{default:Me(()=>[_e("h2",null,_t(S(e)("comingSoon")),1)]),_:1})])}}},sBe=Bs(aBe,[["__scopeId","data-v-adad599e"]]),oBe=n=>(Nd("data-v-2d273af8"),n=n(),Bd(),n),lBe=oBe(()=>_e("h1",{class:"section-title"},"Qualitative Results",-1)),cBe={class:"demo-image"},uBe={class:"block"},dBe=["src"],fBe={class:"demonstration"},hBe={class:"demo-image"},pBe={class:"block"},mBe=["src"],vBe={class:"demonstration"},gBe=10,yBe="./image_slider/huaqiang/input/",bBe="./image_slider/huaqiang/output/",_Be=0,SBe=9,wBe={__name:"ImageSlider",setup(n){const e=[],t=[];let r=te(""),i=te(""),a=te(0),s=te(!0);const o=()=>{const c=[];for(var u=0;u<gBe;u++){var d=yBe+String(u)+".png";const h=new Image;e[u]=h;const p=new Promise(v=>{h.onload=v});h.src=d,c.push(p);var f=bBe+String(u)+".png";const m=new Image;t[u]=m;const g=new Promise(v=>{m.onload=v});m.src=f,c.push(g)}return Promise.all(c).then(()=>{s.value=!1,console.log("preloadInterpolationImages finished")})};dn(()=>{o(),l(0)});const l=c=>{r.value=e[c].src,i.value=t[c].src};return(c,u)=>{const d=Lt("el-divider"),f=Lt("el-row"),h=Lt("el-skeleton-item"),p=Lt("el-skeleton"),m=Lt("el-col"),g=Lt("el-slider");return $(),ge("div",null,[pe(d),pe(f,{justify:"center"},{default:Me(()=>[lBe]),_:1}),pe(f,{justify:"center"},{default:Me(()=>[pe(m,null,{default:Me(()=>[pe(f,{justify:"center",gutter:20},{default:Me(()=>[pe(m,{xs:12,sm:10,md:8,lg:6,xl:6},{default:Me(()=>[_e("div",cBe,[_e("div",uBe,[pe(p,{style:{width:"100%"},loading:S(s),animated:"",throttle:1e3},{template:Me(()=>[pe(h,{variant:"image",style:{width:"100%",height:"100%"}})]),default:Me(()=>[_e("img",{src:S(r),style:{width:"100%","object-fit":"contain"}},null,8,dBe)]),_:1},8,["loading"]),_e("span",fBe,"input: "+_t(S(r)),1)])])]),_:1}),pe(m,{xs:12,sm:10,md:8,lg:6,xl:6},{default:Me(()=>[_e("div",hBe,[_e("div",pBe,[pe(p,{style:{width:"100%"},loading:S(s),animated:"",throttle:1e3},{template:Me(()=>[pe(h,{variant:"image",style:{width:"100%",height:"100%"}})]),default:Me(()=>[_e("img",{src:S(i),style:{width:"100%","object-fit":"contain"}},null,8,mBe)]),_:1},8,["loading"]),_e("span",vBe,"output: "+_t(S(i)),1)])])]),_:1})]),_:1})]),_:1})]),_:1}),pe(f,{justify:"center"},{default:Me(()=>[pe(m,{span:12},{default:Me(()=>[pe(g,{modelValue:S(a),"onUpdate:modelValue":u[0]||(u[0]=v=>Ur(a)?a.value=v:a=v),min:_Be,max:SBe,onInput:l},null,8,["modelValue"])]),_:1})]),_:1})])}}},xBe=Bs(wBe,[["__scopeId","data-v-2d273af8"]]),CBe=["innerHTML"],MBe=["id"],TBe=["alt","src"],ABe=["alt","src"],EBe=["innerHTML"],IBe=Pe({__name:"VueCompareImage",props:{aspectRatio:{default:"wider"},handle:{type:[String,Number,Boolean]},handleSize:{default:40},hover:{type:Boolean,default:!1},slideOnClick:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!1},keyboardStep:{default:.01},leftImage:{},leftImageAlt:{},leftImageCss:{},leftImageLabel:{},onSliderPositionChange:{type:Function,default:()=>{}},rightImage:{},rightImageAlt:{},rightImageCss:{},rightImageLabel:{},skeleton:{type:[String,Number,Boolean]},sliderLineColor:{default:"#ffffff"},sliderLineWidth:{default:2},sliderPositionPercentage:{default:.5},vertical:{type:Boolean,default:!1}},emits:["slideStart","slideEnd","isSliding"],setup(n,{emit:e}){const t=n,{aspectRatio:r,leftImage:i,leftImageAlt:a,leftImageLabel:s,leftImageCss:o,rightImage:l,rightImageAlt:c,rightImageLabel:u,rightImageCss:d,hover:f,handle:h,handleSize:p,sliderLineWidth:m,sliderPositionPercentage:g,skeleton:v,sliderLineColor:y,vertical:b,onSliderPositionChange:_,slideOnClick:w,keyboard:x,keyboardStep:M}=aa(t),C=Math.random().toString(36).substr(2,9),T=!b.value,A=te(),I=te(null),L=te(null),k=te(g.value),N=te(0),F=te(0),D=te(!1),H=te(!1),z=te(!1),B=U(()=>D.value&&H.value),W=U(()=>k.value),Z=U(()=>1-k.value),ee=U(()=>({display:B.value?"flex":"none",height:`${F.value}px`})),J=U(()=>({clipPath:T?`inset(0px 0px 0px ${N.value*W.value}px)`:`inset(${F.value*W.value}px 0px 0px 0px)`,...d})),re=U(()=>({clipPath:T?`inset(0px ${N.value*Z.value}px 0px 0px)`:`inset(0px 0px ${F.value*Z.value}px 0px)`,...o})),fe=U(()=>({cursor:!f.value&&T?"ew-resize !important":!f.value&&!T?"ns-resize !important":void 0,flexDirection:T?"column":"row",height:T?"100%":`${p.value}px`,left:T?`${N.value*k.value-p.value/2}px`:"0",top:T?"0":`${F.value*k.value-p.value/2}px`,width:T?`${p.value}px`:"100%"})),de=U(()=>({background:y.value,height:T?"100%":`${m.value}px`,width:T?`${m.value}px`:"100%"})),me=U(()=>({border:`${m.value}px solid ${y.value}`,height:`${p.value}px`,width:`${p.value}px`,transform:T?"none":"rotate(90deg)"})),Re=U(()=>({border:`inset ${p.value*.15}px rgba(0,0,0,0)`,borderRight:`${p.value*.15}px solid ${y.value}`,marginLeft:`-${p.value*.25}px`,marginRight:`${p.value*.25}px`})),De=U(()=>({border:`inset ${p.value*.15}px rgba(0,0,0,0)`,borderLeft:`${p.value*.15}px solid ${y.value}`,marginRight:`-${p.value*.25}px`})),Ge=U(()=>({left:T?"5%":"50%",opacity:z.value?0:1,top:T?"50%":"3%",transform:T?"translate(0,-50%)":"translate(-50%, 0)"})),We=U(()=>({opacity:z.value?0:1,left:T?"unset":"50%",right:T?"5%":"unset",top:T?"50%":"unset",bottom:T?"unset":"3%",transform:T?"translate(0,-50%)":"translate(-50%, 0)"})),K=U(()=>({clip:T?`rect(auto, ${N.value*k.value}px, auto, auto)`:`rect(auto, auto, ${F.value*k.value}px, auto)`})),ue=U(()=>({clipPath:T?`inset(0px 0px 0px ${N.value*W.value}px)`:`inset(${F.value*W.value}px 0px 0px 0px)`}));function ie(Y){const Q=Y,we=Q.touches?Q.touches[0].pageX:Q.pageX,Ue=Q.touches?Q.touches[0].pageY:Q.pageY,ct=we-window.pageXOffset,pt=Ue-window.pageYOffset,Ee=I.value.getBoundingClientRect();let ft=T?ct-Ee.left:pt-Ee.top;const st=0+m.value/2,G=T?N.value-m.value/2:F.value-m.value/2;ft<st&&(ft=st),ft>G&&(ft=G),k.value=T?ft/N.value:ft/F.value,_.value&&_.value(T?ft/N.value:ft/F.value)}function $e(Y){z.value=!0,e("slideStart",k.value),e("isSliding",z.value),T&&"touches"in Y||Y.preventDefault(),w.value&&ie(Y),window.addEventListener("mousemove",ie),window.addEventListener("touchmove",ie),window.addEventListener("mouseup",Ne),window.addEventListener("touchend",Ne)}function Ne(){z.value=!1,e("slideEnd",k.value),e("isSliding",z.value),window.removeEventListener("mousemove",ie),window.removeEventListener("touchmove",ie),window.removeEventListener("mouseup",Ne),window.removeEventListener("touchend",Ne)}function Ye(){x.value&&window.addEventListener("keydown",oe)}function ce(){x.value&&window.removeEventListener("keydown",oe)}function he(){x.value&&window.addEventListener("keydown",oe)}function ke(Y){A.value&&!A.value.contains(Y.target)&&(A.value.blur(),window.removeEventListener("keydown",oe))}function oe(Y){Y.key==="ArrowDown"&&!T?(Y.preventDefault(),k.value+M.value>1?k.value=1:k.value+=M.value):Y.key==="ArrowUp"&&!T||Y.key==="ArrowLeft"&&T?(Y.preventDefault(),k.value-M.value<0?k.value=0:k.value-=M.value):Y.key==="ArrowRight"&&T&&(Y.preventDefault(),k.value+M.value>1?k.value=1:k.value+=M.value)}function V(){var we;const Y=wn();(we=Y==null?void 0:Y.proxy)==null||we.$forceUpdate();const Q=A.value;t.hover?(Q==null||Q.addEventListener("mousemove",$e),Q==null||Q.addEventListener("mouseleave",Ne)):(Q==null||Q.removeEventListener("mousemove",$e),Q==null||Q.removeEventListener("mouseleave",Ne),Q==null||Q.addEventListener("mouseup",Ne),Q==null||Q.addEventListener("touchend",Ne))}return dn(()=>{const Y=A.value,Q=new ResizeObserver(([we])=>{const Ue=we.target.getBoundingClientRect().width;N.value=Ue});return Q.observe(Y),()=>Q.disconnect()}),dn(()=>{const Y=A.value;t.hover&&(Y==null||Y.addEventListener("mousemove",$e),Y==null||Y.addEventListener("mouseleave",Ne)),window.addEventListener("click",ke)}),vr(()=>{const Y=A.value;Y==null||Y.removeEventListener("mousemove",$e),Y==null||Y.removeEventListener("mouseleave",Ne),window.removeEventListener("keydown",oe),window.removeEventListener("click",ke),window.removeEventListener("mousemove",ie),window.removeEventListener("touchmove",ie),window.removeEventListener("mouseup",Ne),window.removeEventListener("touchend",Ne)}),dt(L,()=>{var Y;D.value=!1,(Y=L.value)!=null&&Y.complete&&(D.value=!0)}),dt(I,()=>{var Y;H.value=!1,(Y=I.value)!=null&&Y.complete&&(H.value=!0)}),dt(f,()=>{V()}),dt([()=>N.value,()=>D.value,()=>H.value],()=>{const Y=L.value.naturalHeight/L.value.naturalWidth,Q=I.value.naturalHeight/I.value.naturalWidth,we=r.value==="taller"?Math.max(Y,Q):Math.min(Y,Q),Ue=N.value*we;F.value=Ue}),(Y,Q)=>S(v)&&!B.value?($(),ge("div",{key:0,"data-testid":"skeleton",style:Ft(ee.value),innerHTML:S(v)},null,12,CBe)):($(),ge("div",{key:1,id:S(C),ref_key:"containerRef",ref:A,class:"vci--container",tabindex:"0","data-testid":"vci-container",style:Ft(ee.value),onClick:he,onTouchstart:$e,onTouchend:Ne,onFocusin:Ye,onFocusout:ce,onMousedown:$e,onMouseup:Ne},[_e("img",{ref_key:"rightImageRef",ref:I,class:"vci--right-image",alt:S(c),"data-testid":"right-image",src:S(l),style:Ft(J.value),onLoad:Q[0]||(Q[0]=we=>H.value=!0)},null,44,TBe),_e("img",{ref_key:"leftImageRef",ref:L,class:"vci--left-image",alt:S(a),"data-testid":"left-image",src:S(i),style:Ft(re.value),onLoad:Q[1]||(Q[1]=we=>D.value=!0)},null,44,ABe),_e("div",{class:"vci--slider",style:Ft(fe.value)},[_e("div",{class:"vci--slider-line",style:Ft(de.value)},null,4),S(h)?($(),ge("div",{key:0,class:"vci--custom-handle",innerHTML:S(h)},null,8,EBe)):($(),ge("div",{key:1,class:"vci--default-handle",style:Ft(me.value)},[_e("div",{class:"vci--left-arrow",style:Ft(Re.value)},null,4),_e("div",{class:"vci--right-arrow",style:Ft(De.value)},null,4)],4)),_e("div",{class:"vci--slider-line",style:Ft(de.value)},null,4)],4),S(s)?($(),ge("div",{key:0,class:"vci--left-label-container",style:Ft(K.value)},[_e("div",{class:"vci--left-label","data-testid":"left-image-label",style:Ft(Ge.value)},_t(S(s)),5)],4)):Je("",!0),S(u)?($(),ge("div",{key:1,class:"vci--right-label-container",style:Ft(ue.value)},[_e("div",{class:"vci--right-label","data-testid":"right-image-label",style:Ft(We.value)},_t(S(u)),5)],4)):Je("",!0)],44,MBe))}}),RBe=_e("h1",{class:"section-title"},"Image Inner Comparison",-1),PBe="./image_inner/line.jpg",LBe="./image_inner/real.jpg",DBe=Pe({__name:"ImageSliderInner",setup(n){return(e,t)=>{const r=Lt("el-divider"),i=Lt("el-row"),a=Lt("el-col");return $(),ge("div",null,[pe(r),pe(i,{justify:"center"},{default:Me(()=>[RBe]),_:1}),pe(i,{justify:"center"},{default:Me(()=>[pe(a,{xs:24,sm:20,md:16,lg:12,xl:12},{default:Me(()=>[pe(i,{style:{"margin-top":"20px"}},{default:Me(()=>[pe(S(IBe),{"left-image":PBe,"right-image":LBe,hover:!0})]),_:1})]),_:1})]),_:1})])}}}),kBe=n=>(Nd("data-v-cdcec0ce"),n=n(),Bd(),n),OBe=kBe(()=>_e("h1",{class:"section-title"},"Image Selector",-1)),NBe=["src"],BBe={__name:"ImageSelector",setup(n){const e=["./image_selector/input/486.png","./image_selector/input/mmk.png","./image_selector/input/nina.png","./image_selector/input/rupa.png","./image_selector/input/tomo.png"],t=["./image_selector/output/486_model.jpg","./image_selector/output/mmk_model.jpg","./image_selector/output/nina_model.jpg","./image_selector/output/rupa_model.jpg","./image_selector/output/tomo_model.jpg"],r=[];let i=te(""),a=te(0),s=te(!0);const o=()=>{const c=[];for(let u=0;u<t.length;u++){const d=new Image;r[u]=d;const f=new Promise(h=>{d.onload=h});d.src=t[u],c.push(f)}return Promise.all(c).then(()=>{s.value=!1,console.log("preloadImageSelector finished")})};dn(()=>{o(),l(0)});const l=c=>{a.value=c,i.value=r[c].src};return(c,u)=>{const d=Lt("el-divider"),f=Lt("el-row"),h=Lt("el-image"),p=Lt("el-col"),m=Lt("el-skeleton-item"),g=Lt("el-skeleton");return $(),ge("div",null,[pe(d),pe(f,{justify:"center"},{default:Me(()=>[OBe]),_:1}),pe(f,{justify:"center"},{default:Me(()=>[pe(p,{xs:24,sm:20,md:16,lg:12,xl:12},{default:Me(()=>[pe(f,{justify:"space-evenly",style:{"margin-top":"20px"}},{default:Me(()=>[($(),ge(Bt,null,kn(e,(v,y)=>pe(p,{span:4,key:y},{default:Me(()=>[pe(h,{class:j(["image",{"selected-image":S(a)===y,"unselected-image":S(a)!==y}]),src:v,style:{"aspect-ratio":"1"},fit:"scale-down",onClick:b=>l(y)},null,8,["src","onClick","class"])]),_:2},1024)),64)),pe(f,{justify:"center",style:{"margin-top":"10px"}},{default:Me(()=>[pe(p,{span:12},{default:Me(()=>[pe(g,{style:{width:"100%"},loading:S(s),animated:"",throttle:1e3},{template:Me(()=>[pe(m,{variant:"image",style:{width:"100%",height:"100%"}})]),default:Me(()=>[_e("img",{src:S(i),style:{width:"100%","object-fit":"contain"}},null,8,NBe)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},FBe=Bs(BBe,[["__scopeId","data-v-cdcec0ce"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Q5=function(n,e){return Q5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Q5(n,e)};function sr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Q5(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var zBe=function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n}(),UBe=function(){function n(){this.browser=new zBe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return n}(),Cp=new UBe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Cp.wxa=!0,Cp.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Cp.worker=!0:typeof navigator>"u"?(Cp.node=!0,Cp.svgSupported=!0):HBe(navigator.userAgent,Cp);function HBe(n,e){var t=e.browser,r=n.match(/Firefox\/([\d.]+)/),i=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),a=n.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(n);r&&(t.firefox=!0,t.version=r[1]),i&&(t.ie=!0,t.version=i[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),s&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var o=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in o||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}const Lr=Cp;var Hk=12,VBe="sans-serif",L0=Hk+"px "+VBe,$Be=20,GBe=100,WBe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function qBe(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var r=String.fromCharCode(t+32),i=(n.charCodeAt(t)-$Be)/GBe;e[r]=i}return e}var KBe=qBe(WBe),wy={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var n,e;return function(t,r){if(!n){var i=wy.createCanvas();n=i&&i.getContext("2d")}if(n)return e!==r&&(e=n.font=r||L0),n.measureText(t);t=t||"",r=r||L0;var a=/(\d+)px/.exec(r),s=a&&+a[1]||Hk,o=0;if(r.indexOf("mono")>=0)o=s*t.length;else for(var l=0;l<t.length;l++){var c=KBe[t[l]];o+=c==null?s:c*s}return{width:o}}}(),loadImage:function(n,e,t){var r=new Image;return r.onload=e,r.onerror=t,r.src=n,r}},PJ=Sh(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),LJ=Sh(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),OS=Object.prototype.toString,vA=Array.prototype,YBe=vA.forEach,XBe=vA.filter,Vk=vA.slice,jBe=vA.map,Pz=(function(){}).constructor,Uw=Pz?Pz.prototype:null,$k="__proto__",ZBe=2311;function DJ(){return ZBe++}function Gk(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function ei(n){if(n==null||typeof n!="object")return n;var e=n,t=OS.call(n);if(t==="[object Array]"){if(!gb(n)){e=[];for(var r=0,i=n.length;r<i;r++)e[r]=ei(n[r])}}else if(LJ[t]){if(!gb(n)){var a=n.constructor;if(a.from)e=a.from(n);else{e=new a(n.length);for(var r=0,i=n.length;r<i;r++)e[r]=n[r]}}}else if(!PJ[t]&&!gb(n)&&!gM(n)){e={};for(var s in n)n.hasOwnProperty(s)&&s!==$k&&(e[s]=ei(n[s]))}return e}function Xi(n,e,t){if(!fr(e)||!fr(n))return t?ei(e):n;for(var r in e)if(e.hasOwnProperty(r)&&r!==$k){var i=n[r],a=e[r];fr(a)&&fr(i)&&!Zn(a)&&!Zn(i)&&!gM(a)&&!gM(i)&&!Lz(a)&&!Lz(i)&&!gb(a)&&!gb(i)?Xi(i,a,t):(t||!(r in n))&&(n[r]=ei(e[r]))}return n}function pn(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==$k&&(n[t]=e[t]);return n}function Zi(n,e,t){for(var r=pa(e),i=0;i<r.length;i++){var a=r[i];(t?e[a]!=null:n[a]==null)&&(n[a]=e[a])}return n}function Oi(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t}return-1}function QBe(n,e){var t=n.prototype;function r(){}r.prototype=e.prototype,n.prototype=new r;for(var i in t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);n.prototype.constructor=n,n.superClass=e}function qd(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var a=r[i];a!=="constructor"&&(t?e[a]!=null:n[a]==null)&&(n[a]=e[a])}else Zi(n,e,t)}function Ao(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function Mt(n,e,t){if(n&&e)if(n.forEach&&n.forEach===YBe)n.forEach(e,t);else if(n.length===+n.length)for(var r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n);else for(var a in n)n.hasOwnProperty(a)&&e.call(t,n[a],a,n)}function Zr(n,e,t){if(!n)return[];if(!e)return Wk(n);if(n.map&&n.map===jBe)return n.map(e,t);for(var r=[],i=0,a=n.length;i<a;i++)r.push(e.call(t,n[i],i,n));return r}function Sh(n,e,t,r){if(n&&e){for(var i=0,a=n.length;i<a;i++)t=e.call(r,t,n[i],i,n);return t}}function Ml(n,e,t){if(!n)return[];if(!e)return Wk(n);if(n.filter&&n.filter===XBe)return n.filter(e,t);for(var r=[],i=0,a=n.length;i<a;i++)e.call(t,n[i],i,n)&&r.push(n[i]);return r}function pa(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}function JBe(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return function(){return n.apply(e,t.concat(Vk.call(arguments)))}}var Ni=Uw&&gi(Uw.bind)?Uw.call.bind(Uw.bind):JBe;function Da(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(Vk.call(arguments)))}}function Zn(n){return Array.isArray?Array.isArray(n):OS.call(n)==="[object Array]"}function gi(n){return typeof n=="function"}function dr(n){return typeof n=="string"}function J5(n){return OS.call(n)==="[object String]"}function ma(n){return typeof n=="number"}function fr(n){var e=typeof n;return e==="function"||!!n&&e==="object"}function Lz(n){return!!PJ[OS.call(n)]}function al(n){return!!LJ[OS.call(n)]}function gM(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function gA(n){return n.colorStops!=null}function eFe(n){return n.image!=null}function tFe(n){return n!==n}function A_(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,r=n.length;t<r;t++)if(n[t]!=null)return n[t]}function Xr(n,e){return n??e}function vb(n,e,t){return n??e??t}function Wk(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return Vk.apply(n,e)}function kJ(n){if(typeof n=="number")return[n,n,n,n];var e=n.length;return e===2?[n[0],n[1],n[0],n[1]]:e===3?[n[0],n[1],n[2],n[1]]:n}function Rd(n,e){if(!n)throw new Error(e)}function nu(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var OJ="__ec_primitive__";function eP(n){n[OJ]=!0}function gb(n){return n[OJ]}var nFe=function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return pa(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)},n}(),NJ=typeof Map=="function";function rFe(){return NJ?new Map:new nFe}var iFe=function(){function n(e){var t=Zn(e);this.data=rFe();var r=this;e instanceof n?e.each(i):e&&Mt(e,i);function i(a,s){t?r.set(a,s):r.set(s,a)}}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(r,i){e.call(t,r,i)})},n.prototype.keys=function(){var e=this.data.keys();return NJ?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n}();function jr(n){return new iFe(n)}function aFe(n,e){for(var t=new n.constructor(n.length+e.length),r=0;r<n.length;r++)t[r]=n[r];for(var i=n.length,r=0;r<e.length;r++)t[r+i]=e[r];return t}function yA(n,e){var t;if(Object.create)t=Object.create(n);else{var r=function(){};r.prototype=n,t=new r}return e&&pn(t,e),t}function BJ(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function zg(n,e){return n.hasOwnProperty(e)}function _o(){}var sFe=180/Math.PI;function xy(n,e){return n==null&&(n=0),e==null&&(e=0),[n,e]}function oFe(n){return[n[0],n[1]]}function Dz(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function lFe(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function cFe(n){return Math.sqrt(uFe(n))}function uFe(n){return n[0]*n[0]+n[1]*n[1]}function b3(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function dFe(n,e){var t=cFe(e);return t===0?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function tP(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var nP=tP;function fFe(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}var ig=fFe;function _3(n,e,t,r){return n[0]=e[0]+r*(t[0]-e[0]),n[1]=e[1]+r*(t[1]-e[1]),n}function du(n,e,t){var r=e[0],i=e[1];return n[0]=t[0]*r+t[2]*i+t[4],n[1]=t[1]*r+t[3]*i+t[5],n}function kv(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function Ov(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}var vm=function(){function n(e,t){this.target=e,this.topTarget=t&&t.topTarget}return n}(),hFe=function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new vm(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,i=e.offsetY,a=r-this._x,s=i-this._y;this._x=r,this._y=i,t.drift(a,s,e),this.handler.dispatchToElement(new vm(t,e),"drag",e.event);var o=this.handler.findHover(r,i,t).target,l=this._dropTarget;this._dropTarget=o,t!==o&&(l&&o!==l&&this.handler.dispatchToElement(new vm(l,e),"dragleave",e.event),o&&o!==l&&this.handler.dispatchToElement(new vm(o,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new vm(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new vm(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n}();const pFe=hFe;var mFe=function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,r,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof t=="function"&&(i=r,r=t,t=null),!r||!e)return this;var s=this._$eventProcessor;t!=null&&s&&s.normalizeQuery&&(t=s.normalizeQuery(t)),a[e]||(a[e]=[]);for(var o=0;o<a[e].length;o++)if(a[e][o].h===r)return this;var l={h:r,query:t,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},c=a[e].length-1,u=a[e][c];return u&&u.callAtLast?a[e].splice(c,0,l):a[e].push(l),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var r=this._$handlers;if(!r)return this;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var i=[],a=0,s=r[e].length;a<s;a++)r[e][a].h!==t&&i.push(r[e][a]);r[e]=i}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},n.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=i.length,l=0;l<o;l++){var c=i[l];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(s){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,t[0]);break;case 2:c.h.call(c.ctx,t[0],t[1]);break;default:c.h.apply(c.ctx,t);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=t[s-1],l=i.length,c=0;c<l;c++){var u=i[c];if(!(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)))switch(s){case 0:u.h.call(o);break;case 1:u.h.call(o,t[0]);break;case 2:u.h.call(o,t[0],t[1]);break;default:u.h.apply(o,t.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n}();const Ru=mFe;var vFe=Math.log(2);function rP(n,e,t,r,i,a){var s=r+"-"+i,o=n.length;if(a.hasOwnProperty(s))return a[s];if(e===1){var l=Math.round(Math.log((1<<o)-1&~i)/vFe);return n[t][l]}for(var c=r|1<<t,u=t+1;r&1<<u;)u++;for(var d=0,f=0,h=0;f<o;f++){var p=1<<f;p&i||(d+=(h%2?-1:1)*n[t][f]*rP(n,e-1,u,c,i|p,a),h++)}return a[s]=d,d}function kz(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],r={},i=rP(t,8,0,0,0,r);if(i!==0){for(var a=[],s=0;s<8;s++)for(var o=0;o<8;o++)a[o]==null&&(a[o]=0),a[o]+=((s+o)%2?-1:1)*rP(t,7,s===0?1:0,1<<s,1<<o,r)/i*e[s];return function(l,c,u){var d=c*a[6]+u*a[7]+1;l[0]=(c*a[0]+u*a[1]+a[2])/d,l[1]=(c*a[3]+u*a[4]+a[5])/d}}}var Oz="___zrEVENTSAVED",S3=[];function gFe(n,e,t,r,i){return iP(S3,e,r,i,!0)&&iP(n,t,S3[0],S3[1])}function iP(n,e,t,r,i){if(e.getBoundingClientRect&&Lr.domSupported&&!FJ(e)){var a=e[Oz]||(e[Oz]={}),s=yFe(e,a),o=bFe(s,a,i);if(o)return o(n,t,r),!0}return!1}function yFe(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var r=["left","right"],i=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),o=s.style,l=a%2,c=(a>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",i[c]+":0",r[1-l]+":auto",i[1-c]+":auto",""].join("!important;"),n.appendChild(s),t.push(s)}return t}function bFe(n,e,t){for(var r=t?"invTrans":"trans",i=e[r],a=e.srcCoords,s=[],o=[],l=!0,c=0;c<4;c++){var u=n[c].getBoundingClientRect(),d=2*c,f=u.left,h=u.top;s.push(f,h),l=l&&a&&f===a[d]&&h===a[d+1],o.push(n[c].offsetLeft,n[c].offsetTop)}return l&&i?i:(e.srcCoords=s,e[r]=t?kz(o,s):kz(s,o))}function FJ(n){return n.nodeName.toUpperCase()==="CANVAS"}var _Fe=/([&<>"'])/g,SFe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Tl(n){return n==null?"":(n+"").replace(_Fe,function(e,t){return SFe[t]})}var wFe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,w3=[],xFe=Lr.browser.firefox&&+Lr.browser.version.split(".")[0]<39;function aP(n,e,t,r){return t=t||{},r?Nz(n,e,t):xFe&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):Nz(n,e,t),t}function Nz(n,e,t){if(Lr.domSupported&&n.getBoundingClientRect){var r=e.clientX,i=e.clientY;if(FJ(n)){var a=n.getBoundingClientRect();t.zrX=r-a.left,t.zrY=i-a.top;return}else if(iP(w3,n,r,i)){t.zrX=w3[0],t.zrY=w3[1];return}}t.zrX=t.zrY=0}function qk(n){return n||window.event}function yl(n,e,t){if(e=qk(e),e.zrX!=null)return e;var r=e.type,i=r&&r.indexOf("touch")>=0;if(i){var s=r!=="touchend"?e.targetTouches[0]:e.changedTouches[0];s&&aP(n,s,e,t)}else{aP(n,e,e,t);var a=CFe(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var o=e.button;return e.which==null&&o!==void 0&&wFe.test(e.type)&&(e.which=o&1?1:o&2?3:o&4?2:0),e}function CFe(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,r=n.deltaY;if(t==null||r==null)return e;var i=Math.abs(r!==0?r:t),a=r>0?-1:r<0?1:t>0?-1:1;return 3*i*a}function MFe(n,e,t,r){n.addEventListener(e,t,r)}function TFe(n,e,t,r){n.removeEventListener(e,t,r)}var zJ=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0},AFe=function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,r){var i=e.touches;if(i){for(var a={points:[],touches:[],target:t,event:e},s=0,o=i.length;s<o;s++){var l=i[s],c=aP(r,l,{});a.points.push([c.zrX,c.zrY]),a.touches.push(l)}this._track.push(a)}},n.prototype._recognize=function(e){for(var t in x3)if(x3.hasOwnProperty(t)){var r=x3[t](this._track,e);if(r)return r}},n}();function Bz(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}function EFe(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var x3={pinch:function(n,e){var t=n.length;if(t){var r=(n[t-1]||{}).points,i=(n[t-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var a=Bz(r)/Bz(i);!isFinite(a)&&(a=1),e.pinchScale=a;var s=EFe(r);return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:n[0].target,event:e}}}}};function E_(){return[1,0,0,1,0,0]}function Kk(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function IFe(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function ag(n,e,t){var r=e[0]*t[0]+e[2]*t[1],i=e[1]*t[0]+e[3]*t[1],a=e[0]*t[2]+e[2]*t[3],s=e[1]*t[2]+e[3]*t[3],o=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=r,n[1]=i,n[2]=a,n[3]=s,n[4]=o,n[5]=l,n}function sP(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function Yk(n,e,t){var r=e[0],i=e[2],a=e[4],s=e[1],o=e[3],l=e[5],c=Math.sin(t),u=Math.cos(t);return n[0]=r*u+s*c,n[1]=-r*c+s*u,n[2]=i*u+o*c,n[3]=-i*c+u*o,n[4]=u*a+c*l,n[5]=u*l-c*a,n}function RFe(n,e,t){var r=t[0],i=t[1];return n[0]=e[0]*r,n[1]=e[1]*i,n[2]=e[2]*r,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*i,n}function UJ(n,e){var t=e[0],r=e[2],i=e[4],a=e[1],s=e[3],o=e[5],l=t*s-a*r;return l?(l=1/l,n[0]=s*l,n[1]=-a*l,n[2]=-r*l,n[3]=t*l,n[4]=(r*o-s*i)*l,n[5]=(a*i-t*o)*l,n):null}var PFe=function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,r=this.y;return this.x=e[0]*t+e[2]*r+e[4],this.y=e[1]*t+e[3]*r+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,r){e.x=t,e.y=r},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,r){e.x=t.x+r.x,e.y=t.y+r.y},n.sub=function(e,t,r){e.x=t.x-r.x,e.y=t.y-r.y},n.scale=function(e,t,r){e.x=t.x*r,e.y=t.y*r},n.scaleAndAdd=function(e,t,r,i){e.x=t.x+r.x*i,e.y=t.y+r.y*i},n.lerp=function(e,t,r,i){var a=1-i;e.x=a*t.x+i*r.x,e.y=a*t.y+i*r.y},n}();const mr=PFe;var Hw=Math.min,Vw=Math.max,Kh=new mr,Yh=new mr,Xh=new mr,jh=new mr,o1=new mr,l1=new mr,LFe=function(){function n(e,t,r,i){r<0&&(e=e+r,r=-r),i<0&&(t=t+i,i=-i),this.x=e,this.y=t,this.width=r,this.height=i}return n.prototype.union=function(e){var t=Hw(e.x,this.x),r=Hw(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Vw(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=Vw(e.y+e.height,this.y+this.height)-r:this.height=e.height,this.x=t,this.y=r},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,r=e.width/t.width,i=e.height/t.height,a=E_();return sP(a,a,[-t.x,-t.y]),RFe(a,a,[r,i]),sP(a,a,[e.x,e.y]),a},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var r=this,i=r.x,a=r.x+r.width,s=r.y,o=r.y+r.height,l=e.x,c=e.x+e.width,u=e.y,d=e.y+e.height,f=!(a<l||c<i||o<u||d<s);if(t){var h=1/0,p=0,m=Math.abs(a-l),g=Math.abs(c-i),v=Math.abs(o-u),y=Math.abs(d-s),b=Math.min(m,g),_=Math.min(v,y);a<l||c<i?b>p&&(p=b,m<g?mr.set(l1,-m,0):mr.set(l1,g,0)):b<h&&(h=b,m<g?mr.set(o1,m,0):mr.set(o1,-g,0)),o<u||d<s?_>p&&(p=_,v<y?mr.set(l1,0,-v):mr.set(l1,0,y)):b<h&&(h=b,v<y?mr.set(o1,0,v):mr.set(o1,0,-y))}return t&&mr.copy(t,f?o1:l1),f},n.prototype.contain=function(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,r){if(!r){e!==t&&n.copy(e,t);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],a=r[3],s=r[4],o=r[5];e.x=t.x*i+s,e.y=t.y*a+o,e.width=t.width*i,e.height=t.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}Kh.x=Xh.x=t.x,Kh.y=jh.y=t.y,Yh.x=jh.x=t.x+t.width,Yh.y=Xh.y=t.y+t.height,Kh.transform(r),jh.transform(r),Yh.transform(r),Xh.transform(r),e.x=Hw(Kh.x,Yh.x,Xh.x,jh.x),e.y=Hw(Kh.y,Yh.y,Xh.y,jh.y);var l=Vw(Kh.x,Yh.x,Xh.x,jh.x),c=Vw(Kh.y,Yh.y,Xh.y,jh.y);e.width=l-e.x,e.height=c-e.y},n}();const Ai=LFe;var HJ="silent";function DFe(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:kFe}}function kFe(){zJ(this.event)}var OFe=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Ru),c1=function(){function n(e,t){this.x=e,this.y=t}return n}(),NFe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],C3=new Ai(0,0,0,0),VJ=function(n){sr(e,n);function e(t,r,i,a,s){var o=n.call(this)||this;return o._hovered=new c1(0,0),o.storage=t,o.painter=r,o.painterRoot=a,o._pointerSize=s,i=i||new OFe,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new pFe(o),o}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(Mt(NFe,function(r){t.on&&t.on(r,this[r],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var r=t.zrX,i=t.zrY,a=$J(this,r,i),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=a?new c1(r,i):this.findHover(r,i),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),o&&c!==o&&this.dispatchToElement(s,"mouseout",t),this.dispatchToElement(l,"mousemove",t),c&&c!==o&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var r=t.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new c1(0,0)},e.prototype.dispatch=function(t,r){var i=this[t];i&&i.call(this,r)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var r=this.proxy;r.setCursor&&r.setCursor(t)},e.prototype.dispatchToElement=function(t,r,i){t=t||{};var a=t.target;if(!(a&&a.silent)){for(var s="on"+r,o=DFe(r,t,i);a&&(a[s]&&(o.cancelBubble=!!a[s].call(a,o)),a.trigger(r,o),a=a.__hostTarget?a.__hostTarget:a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(r,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(r,o)}))}},e.prototype.findHover=function(t,r,i){var a=this.storage.getDisplayList(),s=new c1(t,r);if(Fz(a,s,t,r,i),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,c=l/2,u=new Ai(t-c,r-c,l,l),d=a.length-1;d>=0;d--){var f=a[d];f!==i&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(C3.copy(f.getBoundingRect()),f.transform&&C3.applyTransform(f.transform),C3.intersect(u)&&o.push(f))}if(o.length)for(var h=4,p=Math.PI/12,m=Math.PI*2,g=0;g<c;g+=h)for(var v=0;v<m;v+=p){var y=t+g*Math.cos(v),b=r+g*Math.sin(v);if(Fz(o,s,y,b,i),s.target)return s}}return s},e.prototype.processGesture=function(t,r){this._gestureMgr||(this._gestureMgr=new AFe);var i=this._gestureMgr;r==="start"&&i.clear();var a=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),a){var s=a.type;t.gestureEvent=s;var o=new c1;o.target=a.target,this.dispatchToElement(o,s,a.event)}},e}(Ru);Mt(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){VJ.prototype[n]=function(e){var t=e.zrX,r=e.zrY,i=$J(this,t,r),a,s;if((n!=="mouseup"||!i)&&(a=this.findHover(t,r),s=a.target),n==="mousedown")this._downEl=s,this._downPoint=[e.zrX,e.zrY],this._upEl=s;else if(n==="mouseup")this._upEl=s;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||nP(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,n,e)}});function BFe(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var r=n,i=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var s=r.getClipPath();if(s&&!s.contain(e,t))return!1;r.silent&&(i=!0)}var o=r.__hostTarget;r=o||r.parent}return i?HJ:!0}return!1}function Fz(n,e,t,r,i){for(var a=n.length-1;a>=0;a--){var s=n[a],o=void 0;if(s!==i&&!s.ignore&&(o=BFe(s,t,r))&&(!e.topTarget&&(e.topTarget=s),o!==HJ)){e.target=s;break}}}function $J(n,e,t){var r=n.painter;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}const FFe=VJ;var GJ=32,u1=7;function zFe(n){for(var e=0;n>=GJ;)e|=n&1,n>>=1;return n+e}function zz(n,e,t,r){var i=e+1;if(i===t)return 1;if(r(n[i++],n[e])<0){for(;i<t&&r(n[i],n[i-1])<0;)i++;UFe(n,e,i)}else for(;i<t&&r(n[i],n[i-1])>=0;)i++;return i-e}function UFe(n,e,t){for(t--;e<t;){var r=n[e];n[e++]=n[t],n[t--]=r}}function Uz(n,e,t,r,i){for(r===e&&r++;r<t;r++){for(var a=n[r],s=e,o=r,l;s<o;)l=s+o>>>1,i(a,n[l])<0?o=l:s=l+1;var c=r-s;switch(c){case 3:n[s+3]=n[s+2];case 2:n[s+2]=n[s+1];case 1:n[s+1]=n[s];break;default:for(;c>0;)n[s+c]=n[s+c-1],c--}n[s]=a}}function M3(n,e,t,r,i,a){var s=0,o=0,l=1;if(a(n,e[t+i])>0){for(o=r-i;l<o&&a(n,e[t+i+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}else{for(o=i+1;l<o&&a(n,e[t+i-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=s;s=i-l,l=i-c}for(s++;s<l;){var u=s+(l-s>>>1);a(n,e[t+u])>0?s=u+1:l=u}return l}function T3(n,e,t,r,i,a){var s=0,o=0,l=1;if(a(n,e[t+i])<0){for(o=i+1;l<o&&a(n,e[t+i-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=s;s=i-l,l=i-c}else{for(o=r-i;l<o&&a(n,e[t+i+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}for(s++;s<l;){var u=s+(l-s>>>1);a(n,e[t+u])<0?l=u:s=u+1}return l}function HFe(n,e){var t=u1,r,i,a=0;n.length;var s=[];r=[],i=[];function o(h,p){r[a]=h,i[a]=p,a+=1}function l(){for(;a>1;){var h=a-2;if(h>=1&&i[h-1]<=i[h]+i[h+1]||h>=2&&i[h-2]<=i[h]+i[h-1])i[h-1]<i[h+1]&&h--;else if(i[h]>i[h+1])break;u(h)}}function c(){for(;a>1;){var h=a-2;h>0&&i[h-1]<i[h+1]&&h--,u(h)}}function u(h){var p=r[h],m=i[h],g=r[h+1],v=i[h+1];i[h]=m+v,h===a-3&&(r[h+1]=r[h+2],i[h+1]=i[h+2]),a--;var y=T3(n[g],n,p,m,0,e);p+=y,m-=y,m!==0&&(v=M3(n[p+m-1],n,g,v,v-1,e),v!==0&&(m<=v?d(p,m,g,v):f(p,m,g,v)))}function d(h,p,m,g){var v=0;for(v=0;v<p;v++)s[v]=n[h+v];var y=0,b=m,_=h;if(n[_++]=n[b++],--g===0){for(v=0;v<p;v++)n[_+v]=s[y+v];return}if(p===1){for(v=0;v<g;v++)n[_+v]=n[b+v];n[_+g]=s[y];return}for(var w=t,x,M,C;;){x=0,M=0,C=!1;do if(e(n[b],s[y])<0){if(n[_++]=n[b++],M++,x=0,--g===0){C=!0;break}}else if(n[_++]=s[y++],x++,M=0,--p===1){C=!0;break}while((x|M)<w);if(C)break;do{if(x=T3(n[b],s,y,p,0,e),x!==0){for(v=0;v<x;v++)n[_+v]=s[y+v];if(_+=x,y+=x,p-=x,p<=1){C=!0;break}}if(n[_++]=n[b++],--g===0){C=!0;break}if(M=M3(s[y],n,b,g,0,e),M!==0){for(v=0;v<M;v++)n[_+v]=n[b+v];if(_+=M,b+=M,g-=M,g===0){C=!0;break}}if(n[_++]=s[y++],--p===1){C=!0;break}w--}while(x>=u1||M>=u1);if(C)break;w<0&&(w=0),w+=2}if(t=w,t<1&&(t=1),p===1){for(v=0;v<g;v++)n[_+v]=n[b+v];n[_+g]=s[y]}else{if(p===0)throw new Error;for(v=0;v<p;v++)n[_+v]=s[y+v]}}function f(h,p,m,g){var v=0;for(v=0;v<g;v++)s[v]=n[m+v];var y=h+p-1,b=g-1,_=m+g-1,w=0,x=0;if(n[_--]=n[y--],--p===0){for(w=_-(g-1),v=0;v<g;v++)n[w+v]=s[v];return}if(g===1){for(_-=p,y-=p,x=_+1,w=y+1,v=p-1;v>=0;v--)n[x+v]=n[w+v];n[_]=s[b];return}for(var M=t;;){var C=0,T=0,A=!1;do if(e(s[b],n[y])<0){if(n[_--]=n[y--],C++,T=0,--p===0){A=!0;break}}else if(n[_--]=s[b--],T++,C=0,--g===1){A=!0;break}while((C|T)<M);if(A)break;do{if(C=p-T3(s[b],n,h,p,p-1,e),C!==0){for(_-=C,y-=C,p-=C,x=_+1,w=y+1,v=C-1;v>=0;v--)n[x+v]=n[w+v];if(p===0){A=!0;break}}if(n[_--]=s[b--],--g===1){A=!0;break}if(T=g-M3(n[y],s,0,g,g-1,e),T!==0){for(_-=T,b-=T,g-=T,x=_+1,w=b+1,v=0;v<T;v++)n[x+v]=s[w+v];if(g<=1){A=!0;break}}if(n[_--]=n[y--],--p===0){A=!0;break}M--}while(C>=u1||T>=u1);if(A)break;M<0&&(M=0),M+=2}if(t=M,t<1&&(t=1),g===1){for(_-=p,y-=p,x=_+1,w=y+1,v=p-1;v>=0;v--)n[x+v]=n[w+v];n[_]=s[b]}else{if(g===0)throw new Error;for(w=_-(g-1),v=0;v<g;v++)n[w+v]=s[v]}}return{mergeRuns:l,forceMergeRuns:c,pushRun:o}}function iC(n,e,t,r){t||(t=0),r||(r=n.length);var i=r-t;if(!(i<2)){var a=0;if(i<GJ){a=zz(n,t,r,e),Uz(n,t,r,t+a,e);return}var s=HFe(n,e),o=zFe(i);do{if(a=zz(n,t,r,e),a<o){var l=i;l>o&&(l=o),Uz(n,t,t+l,t+a,e),a=l}s.pushRun(t,a),s.mergeRuns(),i-=a,t+=a}while(i!==0);s.forceMergeRuns()}}var qo=1,X1=2,wv=4,Hz=!1;function A3(){Hz||(Hz=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Vz(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var VFe=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Vz}return n.prototype.traverse=function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var r=this._displayList;return(e||!r.length)&&this.updateDisplayList(t),r},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,i=0,a=t.length;i<a;i++)this._updateAndAddDisplayable(t[i],null,e);r.length=this._displayListLen,iC(r,Vz)},n.prototype._updateAndAddDisplayable=function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)t=null;else if(i){t?t=t.slice():t=[];for(var a=i,s=e;a;)a.parent=s,a.updateTransform(),t.push(a),s=a,a=a.getClipPath()}if(e.childrenRef){for(var o=e.childrenRef(),l=0;l<o.length;l++){var c=o[l];e.__dirty&&(c.__dirty|=qo),this._updateAndAddDisplayable(c,t,r)}e.__dirty=0}else{var u=e;t&&t.length?u.__clipPaths=t:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(A3(),u.z=0),isNaN(u.z2)&&(A3(),u.z2=0),isNaN(u.zlevel)&&(A3(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var d=e.getDecalElement&&e.getDecalElement();d&&this._updateAndAddDisplayable(d,t,r);var f=e.getTextGuideLine();f&&this._updateAndAddDisplayable(f,t,r);var h=e.getTextContent();h&&this._updateAndAddDisplayable(h,t,r)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,r=e.length;t<r;t++)this.delRoot(e[t]);return}var i=Oi(this._roots,e);i>=0&&this._roots.splice(i,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}();const $Fe=VFe;var WJ;WJ=Lr.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};const oP=WJ;var aC={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)))},elasticOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/r)+1)},elasticInOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?-.5*(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)):t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-aC.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?aC.bounceIn(n*2)*.5:aC.bounceOut(n*2-1)*.5+.5}};const qJ=aC;var $w=Math.pow,Qf=Math.sqrt,yM=1e-8,KJ=1e-4,$z=Qf(3),Gw=1/3,Qc=xy(),Al=xy(),sg=xy();function Vf(n){return n>-yM&&n<yM}function YJ(n){return n>yM||n<-yM}function is(n,e,t,r,i){var a=1-i;return a*a*(a*n+3*i*e)+i*i*(i*r+3*a*t)}function Gz(n,e,t,r,i){var a=1-i;return 3*(((e-n)*a+2*(t-e)*i)*a+(r-t)*i*i)}function XJ(n,e,t,r,i,a){var s=r+3*(e-t)-n,o=3*(t-e*2+n),l=3*(e-n),c=n-i,u=o*o-3*s*l,d=o*l-9*s*c,f=l*l-3*o*c,h=0;if(Vf(u)&&Vf(d))if(Vf(o))a[0]=0;else{var p=-l/o;p>=0&&p<=1&&(a[h++]=p)}else{var m=d*d-4*u*f;if(Vf(m)){var g=d/u,p=-o/s+g,v=-g/2;p>=0&&p<=1&&(a[h++]=p),v>=0&&v<=1&&(a[h++]=v)}else if(m>0){var y=Qf(m),b=u*o+1.5*s*(-d+y),_=u*o+1.5*s*(-d-y);b<0?b=-$w(-b,Gw):b=$w(b,Gw),_<0?_=-$w(-_,Gw):_=$w(_,Gw);var p=(-o-(b+_))/(3*s);p>=0&&p<=1&&(a[h++]=p)}else{var w=(2*u*o-3*s*d)/(2*Qf(u*u*u)),x=Math.acos(w)/3,M=Qf(u),C=Math.cos(x),p=(-o-2*M*C)/(3*s),v=(-o+M*(C+$z*Math.sin(x)))/(3*s),T=(-o+M*(C-$z*Math.sin(x)))/(3*s);p>=0&&p<=1&&(a[h++]=p),v>=0&&v<=1&&(a[h++]=v),T>=0&&T<=1&&(a[h++]=T)}}return h}function jJ(n,e,t,r,i){var a=6*t-12*e+6*n,s=9*e+3*r-3*n-9*t,o=3*e-3*n,l=0;if(Vf(s)){if(YJ(a)){var c=-o/a;c>=0&&c<=1&&(i[l++]=c)}}else{var u=a*a-4*s*o;if(Vf(u))i[0]=-a/(2*s);else if(u>0){var d=Qf(u),c=(-a+d)/(2*s),f=(-a-d)/(2*s);c>=0&&c<=1&&(i[l++]=c),f>=0&&f<=1&&(i[l++]=f)}}return l}function bM(n,e,t,r,i,a){var s=(e-n)*i+n,o=(t-e)*i+e,l=(r-t)*i+t,c=(o-s)*i+s,u=(l-o)*i+o,d=(u-c)*i+c;a[0]=n,a[1]=s,a[2]=c,a[3]=d,a[4]=d,a[5]=u,a[6]=l,a[7]=r}function GFe(n,e,t,r,i,a,s,o,l,c,u){var d,f=.005,h=1/0,p,m,g,v;Qc[0]=l,Qc[1]=c;for(var y=0;y<1;y+=.05)Al[0]=is(n,t,i,s,y),Al[1]=is(e,r,a,o,y),g=ig(Qc,Al),g<h&&(d=y,h=g);h=1/0;for(var b=0;b<32&&!(f<KJ);b++)p=d-f,m=d+f,Al[0]=is(n,t,i,s,p),Al[1]=is(e,r,a,o,p),g=ig(Al,Qc),p>=0&&g<h?(d=p,h=g):(sg[0]=is(n,t,i,s,m),sg[1]=is(e,r,a,o,m),v=ig(sg,Qc),m<=1&&v<h?(d=m,h=v):f*=.5);return u&&(u[0]=is(n,t,i,s,d),u[1]=is(e,r,a,o,d)),Qf(h)}function WFe(n,e,t,r,i,a,s,o,l){for(var c=n,u=e,d=0,f=1/l,h=1;h<=l;h++){var p=h*f,m=is(n,t,i,s,p),g=is(e,r,a,o,p),v=m-c,y=g-u;d+=Math.sqrt(v*v+y*y),c=m,u=g}return d}function Ts(n,e,t,r){var i=1-r;return i*(i*n+2*r*e)+r*r*t}function Wz(n,e,t,r){return 2*((1-r)*(e-n)+r*(t-e))}function qFe(n,e,t,r,i){var a=n-2*e+t,s=2*(e-n),o=n-r,l=0;if(Vf(a)){if(YJ(s)){var c=-o/s;c>=0&&c<=1&&(i[l++]=c)}}else{var u=s*s-4*a*o;if(Vf(u)){var c=-s/(2*a);c>=0&&c<=1&&(i[l++]=c)}else if(u>0){var d=Qf(u),c=(-s+d)/(2*a),f=(-s-d)/(2*a);c>=0&&c<=1&&(i[l++]=c),f>=0&&f<=1&&(i[l++]=f)}}return l}function ZJ(n,e,t){var r=n+t-2*e;return r===0?.5:(n-e)/r}function _M(n,e,t,r,i){var a=(e-n)*r+n,s=(t-e)*r+e,o=(s-a)*r+a;i[0]=n,i[1]=a,i[2]=o,i[3]=o,i[4]=s,i[5]=t}function KFe(n,e,t,r,i,a,s,o,l){var c,u=.005,d=1/0;Qc[0]=s,Qc[1]=o;for(var f=0;f<1;f+=.05){Al[0]=Ts(n,t,i,f),Al[1]=Ts(e,r,a,f);var h=ig(Qc,Al);h<d&&(c=f,d=h)}d=1/0;for(var p=0;p<32&&!(u<KJ);p++){var m=c-u,g=c+u;Al[0]=Ts(n,t,i,m),Al[1]=Ts(e,r,a,m);var h=ig(Al,Qc);if(m>=0&&h<d)c=m,d=h;else{sg[0]=Ts(n,t,i,g),sg[1]=Ts(e,r,a,g);var v=ig(sg,Qc);g<=1&&v<d?(c=g,d=v):u*=.5}}return l&&(l[0]=Ts(n,t,i,c),l[1]=Ts(e,r,a,c)),Qf(d)}function YFe(n,e,t,r,i,a,s){for(var o=n,l=e,c=0,u=1/s,d=1;d<=s;d++){var f=d*u,h=Ts(n,t,i,f),p=Ts(e,r,a,f),m=h-o,g=p-l;c+=Math.sqrt(m*m+g*g),o=h,l=p}return c}var XFe=/cubic-bezier\(([0-9,\.e ]+)\)/;function QJ(n){var e=n&&XFe.exec(n);if(e){var t=e[1].split(","),r=+nu(t[0]),i=+nu(t[1]),a=+nu(t[2]),s=+nu(t[3]);if(isNaN(r+i+a+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:XJ(0,r,a,1,l,o)&&is(0,i,s,1,o[0])}}}var jFe=function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||_o,this.ondestroy=e.ondestroy||_o,this.onrestart=e.onrestart||_o,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var r=this._life,i=e-this._startTime-this._pausedTime,a=i/r;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,o=s?s(a):a;if(this.onframe(o),a===1)if(this.loop){var l=i%r;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=gi(e)?e:qJ[e]||QJ(e)},n}();const ZFe=jFe;var JJ=function(){function n(e){this.value=e}return n}(),QFe=function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new JJ(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),JFe=function(){function n(e){this._list=new QFe,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var r=this._list,i=this._map,a=null;if(i[e]==null){var s=r.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=r.head;r.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}o?o.value=t:o=new JJ(t),o.key=e,r.insertEntry(o),i[e]=o}return a},n.prototype.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}();const NS=JFe;var qz={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function yb(n){return n=Math.round(n),n<0?0:n>255?255:n}function Kz(n){return n<0?0:n>1?1:n}function E3(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?yb(parseFloat(e)/100*255):yb(parseInt(e,10))}function bb(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?Kz(parseFloat(e)/100):Kz(parseFloat(e))}function I3(n,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?n+(e-n)*t*6:t*2<1?e:t*3<2?n+(e-n)*(2/3-t)*6:n}function vl(n,e,t,r,i){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function lP(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var eee=new NS(20),Ww=null;function gm(n,e){Ww&&lP(Ww,e),Ww=eee.put(n,Ww||e.slice())}function f0(n,e){if(n){e=e||[];var t=eee.get(n);if(t)return lP(e,t);n=n+"";var r=n.replace(/ /g,"").toLowerCase();if(r in qz)return lP(e,qz[r]),gm(n,e),e;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(r.slice(1,4),16);if(!(a>=0&&a<=4095)){vl(e,0,0,0,1);return}return vl(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),gm(n,e),e}else if(i===7||i===9){var a=parseInt(r.slice(1,7),16);if(!(a>=0&&a<=16777215)){vl(e,0,0,0,1);return}return vl(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(r.slice(7),16)/255:1),gm(n,e),e}return}var s=r.indexOf("("),o=r.indexOf(")");if(s!==-1&&o+1===i){var l=r.substr(0,s),c=r.substr(s+1,o-(s+1)).split(","),u=1;switch(l){case"rgba":if(c.length!==4)return c.length===3?vl(e,+c[0],+c[1],+c[2],1):vl(e,0,0,0,1);u=bb(c.pop());case"rgb":if(c.length>=3)return vl(e,E3(c[0]),E3(c[1]),E3(c[2]),c.length===3?u:bb(c[3])),gm(n,e),e;vl(e,0,0,0,1);return;case"hsla":if(c.length!==4){vl(e,0,0,0,1);return}return c[3]=bb(c[3]),Yz(c,e),gm(n,e),e;case"hsl":if(c.length!==3){vl(e,0,0,0,1);return}return Yz(c,e),gm(n,e),e;default:return}}vl(e,0,0,0,1)}}function Yz(n,e){var t=(parseFloat(n[0])%360+360)%360/360,r=bb(n[1]),i=bb(n[2]),a=i<=.5?i*(r+1):i+r-i*r,s=i*2-a;return e=e||[],vl(e,yb(I3(s,a,t+1/3)*255),yb(I3(s,a,t)*255),yb(I3(s,a,t-1/3)*255),1),n.length===4&&(e[3]=n[3]),e}function Xz(n,e){var t=f0(n);if(t){for(var r=0;r<3;r++)e<0?t[r]=t[r]*(1-e)|0:t[r]=(255-t[r])*e+t[r]|0,t[r]>255?t[r]=255:t[r]<0&&(t[r]=0);return Xk(t,t.length===4?"rgba":"rgb")}}function Xk(n,e){if(!(!n||!n.length)){var t=n[0]+","+n[1]+","+n[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+n[3]),e+"("+t+")"}}function SM(n,e){var t=f0(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function e7e(n){return n.type==="linear"}function t7e(n){return n.type==="radial"}(function(){return Lr.hasGlobalWindow&&gi(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null}})();var cP=Array.prototype.slice;function rd(n,e,t){return(e-n)*t+n}function R3(n,e,t,r){for(var i=e.length,a=0;a<i;a++)n[a]=rd(e[a],t[a],r);return n}function n7e(n,e,t,r){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){n[s]||(n[s]=[]);for(var o=0;o<a;o++)n[s][o]=rd(e[s][o],t[s][o],r)}return n}function qw(n,e,t,r){for(var i=e.length,a=0;a<i;a++)n[a]=e[a]+t[a]*r;return n}function jz(n,e,t,r){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){n[s]||(n[s]=[]);for(var o=0;o<a;o++)n[s][o]=e[s][o]+t[s][o]*r}return n}function r7e(n,e){for(var t=n.length,r=e.length,i=t>r?e:n,a=Math.min(t,r),s=i[a-1]||{color:[0,0,0,0],offset:0},o=a;o<Math.max(t,r);o++)i.push({offset:s.offset,color:s.color.slice()})}function i7e(n,e,t){var r=n,i=e;if(!(!r.push||!i.push)){var a=r.length,s=i.length;if(a!==s){var o=a>s;if(o)r.length=s;else for(var l=a;l<s;l++)r.push(t===1?i[l]:cP.call(i[l]))}for(var c=r[0]&&r[0].length,l=0;l<r.length;l++)if(t===1)isNaN(r[l])&&(r[l]=i[l]);else for(var u=0;u<c;u++)isNaN(r[l][u])&&(r[l][u]=i[l][u])}}function sC(n){if(Ao(n)){var e=n.length;if(Ao(n[0])){for(var t=[],r=0;r<e;r++)t.push(cP.call(n[r]));return t}return cP.call(n)}return n}function oC(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function a7e(n){return Ao(n&&n[0])?2:1}var Kw=0,lC=1,tee=2,j1=3,uP=4,dP=5,Zz=6;function Qz(n){return n===uP||n===dP}function Yw(n){return n===lC||n===tee}var d1=[0,0,0,0],s7e=function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,r){this._needsSort=!0;var i=this.keyframes,a=i.length,s=!1,o=Zz,l=t;if(Ao(t)){var c=a7e(t);o=c,(c===1&&!ma(t[0])||c===2&&!ma(t[0][0]))&&(s=!0)}else if(ma(t)&&!tFe(t))o=Kw;else if(dr(t))if(!isNaN(+t))o=Kw;else{var u=f0(t);u&&(l=u,o=j1)}else if(gA(t)){var d=pn({},l);d.colorStops=Zr(t.colorStops,function(h){return{offset:h.offset,color:f0(h.color)}}),e7e(t)?o=uP:t7e(t)&&(o=dP),l=d}a===0?this.valType=o:(o!==this.valType||o===Zz)&&(s=!0),this.discrete=this.discrete||s;var f={time:e,value:l,rawValue:t,percent:0};return r&&(f.easing=r,f.easingFunc=gi(r)?r:qJ[r]||QJ(r)),i.push(f),f},n.prototype.prepare=function(e,t){var r=this.keyframes;this._needsSort&&r.sort(function(m,g){return m.time-g.time});for(var i=this.valType,a=r.length,s=r[a-1],o=this.discrete,l=Yw(i),c=Qz(i),u=0;u<a;u++){var d=r[u],f=d.value,h=s.value;d.percent=d.time/e,o||(l&&u!==a-1?i7e(f,h,i):c&&r7e(f.colorStops,h.colorStops))}if(!o&&i!==dP&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;for(var p=r[0].value,u=0;u<a;u++)i===Kw?r[u].additiveValue=r[u].value-p:i===j1?r[u].additiveValue=qw([],r[u].value,p,-1):Yw(i)&&(r[u].additiveValue=i===lC?qw([],r[u].value,p,-1):jz([],r[u].value,p,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",a=this.valType,s=this.keyframes,o=s.length,l=this.propName,c=a===j1,u,d=this._lastFr,f=Math.min,h,p;if(o===1)h=p=s[0];else{if(t<0)u=0;else if(t<this._lastFrP){var m=f(d+1,o-1);for(u=m;u>=0&&!(s[u].percent<=t);u--);u=f(u,o-2)}else{for(u=d;u<o&&!(s[u].percent>t);u++);u=f(u-1,o-2)}p=s[u+1],h=s[u]}if(h&&p){this._lastFr=u,this._lastFrP=t;var g=p.percent-h.percent,v=g===0?1:f((t-h.percent)/g,1);p.easingFunc&&(v=p.easingFunc(v));var y=r?this._additiveValue:c?d1:e[l];if((Yw(a)||c)&&!y&&(y=this._additiveValue=[]),this.discrete)e[l]=v<1?h.rawValue:p.rawValue;else if(Yw(a))a===lC?R3(y,h[i],p[i],v):n7e(y,h[i],p[i],v);else if(Qz(a)){var b=h[i],_=p[i],w=a===uP;e[l]={type:w?"linear":"radial",x:rd(b.x,_.x,v),y:rd(b.y,_.y,v),colorStops:Zr(b.colorStops,function(M,C){var T=_.colorStops[C];return{offset:rd(M.offset,T.offset,v),color:oC(R3([],M.color,T.color,v))}}),global:_.global},w?(e[l].x2=rd(b.x2,_.x2,v),e[l].y2=rd(b.y2,_.y2,v)):e[l].r=rd(b.r,_.r,v)}else if(c)R3(y,h[i],p[i],v),r||(e[l]=oC(y));else{var x=rd(h[i],p[i],v);r?this._additiveValue=x:e[l]=x}r&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,r=this.propName,i=this._additiveValue;t===Kw?e[r]=e[r]+i:t===j1?(f0(e[r],d1),qw(d1,d1,i,1),e[r]=oC(d1)):t===lC?qw(e[r],e[r],i,1):t===tee&&jz(e[r],e[r],i,1)},n}(),o7e=function(){function n(e,t,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i){Gk("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,r){return this.whenWithKeys(e,t,pa(t),r)},n.prototype.whenWithKeys=function(e,t,r,i){for(var a=this._tracks,s=0;s<r.length;s++){var o=r[s],l=a[o];if(!l){l=a[o]=new s7e(o);var c=void 0,u=this._getAdditiveTrack(o);if(u){var d=u.keyframes,f=d[d.length-1];c=f&&f.value,u.valType===j1&&c&&(c=oC(c))}else c=this._target[o];if(c==null)continue;e>0&&l.addKeyframe(0,sC(c),i),this._trackKeys.push(o)}l.addKeyframe(e,sC(t[o]),i)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,r=0;r<t;r++)e[r].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var r=0;r<t.length;r++)t[r].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,r=0;r<t.length;r++)e[t[r]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var a=r[i].getTrack(e);a&&(t=a)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,r=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],o=this._tracks[s],l=this._getAdditiveTrack(s),c=o.keyframes,u=c.length;if(o.prepare(i,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var d=c[u-1];d&&(t._target[o.propName]=d.rawValue),o.setFinished()}else r.push(o)}if(r.length||this._force){var f=new ZFe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(h){t._started=2;var p=t._additiveAnimators;if(p){for(var m=!1,g=0;g<p.length;g++)if(p[g]._clip){m=!0;break}m||(t._additiveAnimators=null)}for(var g=0;g<r.length;g++)r[g].step(t._target,h);var v=t._onframeCbs;if(v)for(var g=0;g<v.length;g++)v[g](t._target,h)},ondestroy:function(){t._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),e&&f.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return Zr(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var s=r[e[a]];s&&!s.isFinished()&&(t?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,a=0;a<i.length;a++)if(!r[i[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},n.prototype.saveTo=function(e,t,r){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var a=t[i],s=this._tracks[a];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[r?0:o.length-1];l&&(e[a]=sC(l.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||pa(e);for(var r=0;r<t.length;r++){var i=t[r],a=this._tracks[i];if(a){var s=a.keyframes;if(s.length>1){var o=s.pop();a.addKeyframe(o.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},n}();const jk=o7e;function Nv(){return new Date().getTime()}var l7e=function(n){sr(e,n);function e(t){var r=n.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,t=t||{},r.stage=t.stage||{},r}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var r=t.getClip();r&&this.addClip(r)},e.prototype.removeClip=function(t){if(t.animation){var r=t.prev,i=t.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var r=t.getClip();r&&this.removeClip(r),t.animation=null},e.prototype.update=function(t){for(var r=Nv()-this._pausedTime,i=r-this._time,a=this._head;a;){var s=a.next,o=a.step(r,i);o&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=r,t||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function r(){t._running&&(oP(r),!t._paused&&t.update())}oP(r)},e.prototype.start=function(){this._running||(this._time=Nv(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Nv(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Nv()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var r=t.next;t.prev=t.next=t.animation=null,t=r}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,r){r=r||{},this.start();var i=new jk(t,r.loop);return this.addAnimator(i),i},e}(Ru);const c7e=l7e;var u7e=300,P3=Lr.domSupported,L3=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=Zr(n,function(i){var a=i.replace("mouse","pointer");return t.hasOwnProperty(a)?a:i});return{mouse:n,touch:e,pointer:r}}(),Jz={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},eU=!1;function fP(n){var e=n.pointerType;return e==="pen"||e==="touch"}function d7e(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function D3(n){n&&(n.zrByTouch=!0)}function f7e(n,e){return yl(n.dom,new h7e(n,e),!0)}function nee(n,e){for(var t=e,r=!1;t&&t.nodeType!==9&&!(r=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return r}var h7e=function(){function n(e,t){this.stopPropagation=_o,this.stopImmediatePropagation=_o,this.preventDefault=_o,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return n}(),uc={mousedown:function(n){n=yl(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=yl(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=yl(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=yl(this.dom,n);var e=n.toElement||n.relatedTarget;nee(this,e)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){eU=!0,n=yl(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){eU||(n=yl(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=yl(this.dom,n),D3(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),uc.mousemove.call(this,n),uc.mousedown.call(this,n)},touchmove:function(n){n=yl(this.dom,n),D3(n),this.handler.processGesture(n,"change"),uc.mousemove.call(this,n)},touchend:function(n){n=yl(this.dom,n),D3(n),this.handler.processGesture(n,"end"),uc.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<u7e&&uc.click.call(this,n)},pointerdown:function(n){uc.mousedown.call(this,n)},pointermove:function(n){fP(n)||uc.mousemove.call(this,n)},pointerup:function(n){uc.mouseup.call(this,n)},pointerout:function(n){fP(n)||uc.mouseout.call(this,n)}};Mt(["click","dblclick","contextmenu"],function(n){uc[n]=function(e){e=yl(this.dom,e),this.trigger(n,e)}});var hP={pointermove:function(n){fP(n)||hP.mousemove.call(this,n)},pointerup:function(n){hP.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function p7e(n,e){var t=e.domHandlers;Lr.pointerEventsSupported?Mt(L3.pointer,function(r){cC(e,r,function(i){t[r].call(n,i)})}):(Lr.touchEventsSupported&&Mt(L3.touch,function(r){cC(e,r,function(i){t[r].call(n,i),d7e(e)})}),Mt(L3.mouse,function(r){cC(e,r,function(i){i=qk(i),e.touching||t[r].call(n,i)})}))}function m7e(n,e){Lr.pointerEventsSupported?Mt(Jz.pointer,t):Lr.touchEventsSupported||Mt(Jz.mouse,t);function t(r){function i(a){a=qk(a),nee(n,a.target)||(a=f7e(n,a),e.domHandlers[r].call(n,a))}cC(e,r,i,{capture:!0})}}function cC(n,e,t,r){n.mounted[e]=t,n.listenerOpts[e]=r,MFe(n.domTarget,e,t,r)}function k3(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&TFe(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var tU=function(){function n(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return n}(),v7e=function(n){sr(e,n);function e(t,r){var i=n.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=r,i._localHandlerScope=new tU(t,uc),P3&&(i._globalHandlerScope=new tU(document,hP)),p7e(i,i._localHandlerScope),i}return e.prototype.dispose=function(){k3(this._localHandlerScope),P3&&k3(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,P3&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var r=this._globalHandlerScope;t?m7e(this,r):k3(r)}},e}(Ru);const g7e=v7e;var ree=1;Lr.hasGlobalWindow&&(ree=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var wM=ree,pP=.4,mP="#333",vP="#ccc",y7e="#eee",nU=Kk,rU=5e-5;function Zh(n){return n>rU||n<-rU}var Qh=[],ym=[],O3=E_(),N3=Math.abs,b7e=function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return Zh(this.rotation)||Zh(this.x)||Zh(this.y)||Zh(this.scaleX-1)||Zh(this.scaleY-1)||Zh(this.skewX)||Zh(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),r=this.transform;if(!(t||e)){r&&(nU(r),this.invTransform=null);return}r=r||E_(),t?this.getLocalTransform(r):nU(r),e&&(t?ag(r,e,r):IFe(r,e)),this.transform=r,this._resolveGlobalScaleRatio(r)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(Qh);var r=Qh[0]<0?-1:1,i=Qh[1]<0?-1:1,a=((Qh[0]-r)*t+r)/Qh[0]||0,s=((Qh[1]-i)*t+i)/Qh[1]||0;e[0]*=a,e[1]*=a,e[2]*=s,e[3]*=s}this.invTransform=this.invTransform||E_(),UJ(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);r=Math.sqrt(r)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=r,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(ag(ym,e.invTransform,t),t=ym);var r=this.originX,i=this.originY;(r||i)&&(O3[4]=r,O3[5]=i,ag(ym,t,O3),ym[4]-=r,ym[5]-=i,t=ym),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var r=[e,t],i=this.invTransform;return i&&du(r,r,i),r},n.prototype.transformCoordToGlobal=function(e,t){var r=[e,t],i=this.transform;return i&&du(r,r,i),r},n.prototype.getLineScale=function(){var e=this.transform;return e&&N3(e[0]-1)>1e-10&&N3(e[3]-1)>1e-10?Math.sqrt(N3(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){_7e(this,e)},n.getLocalTransform=function(e,t){t=t||[];var r=e.originX||0,i=e.originY||0,a=e.scaleX,s=e.scaleY,o=e.anchorX,l=e.anchorY,c=e.rotation||0,u=e.x,d=e.y,f=e.skewX?Math.tan(e.skewX):0,h=e.skewY?Math.tan(-e.skewY):0;if(r||i||o||l){var p=r+o,m=i+l;t[4]=-p*a-f*m*s,t[5]=-m*s-h*p*a}else t[4]=t[5]=0;return t[0]=a,t[3]=s,t[1]=h*a,t[2]=f*s,c&&Yk(t,t,c),t[4]+=r+u,t[5]+=i+d,t},n.initDefaultProps=function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),n}(),I_=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function _7e(n,e){for(var t=0;t<I_.length;t++){var r=I_[t];n[r]=e[r]}}const Zk=b7e;var iU={};function Jo(n,e){e=e||L0;var t=iU[e];t||(t=iU[e]=new NS(500));var r=t.get(n);return r==null&&(r=wy.measureText(n,e).width,t.put(n,r)),r}function aU(n,e,t,r){var i=Jo(n,e),a=Qk(e),s=Z1(0,i,t),o=xv(0,a,r),l=new Ai(s,o,i,a);return l}function iee(n,e,t,r){var i=((n||"")+"").split(`
`),a=i.length;if(a===1)return aU(i[0],e,t,r);for(var s=new Ai(0,0,0,0),o=0;o<i.length;o++){var l=aU(i[o],e,t,r);o===0?s.copy(l):s.union(l)}return s}function Z1(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function xv(n,e,t){return t==="middle"?n-=e/2:t==="bottom"&&(n-=e),n}function Qk(n){return Jo("",n)}function Ug(n,e){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function aee(n,e,t){var r=e.position||"inside",i=e.distance!=null?e.distance:5,a=t.height,s=t.width,o=a/2,l=t.x,c=t.y,u="left",d="top";if(r instanceof Array)l+=Ug(r[0],t.width),c+=Ug(r[1],t.height),u=null,d=null;else switch(r){case"left":l-=i,c+=o,u="right",d="middle";break;case"right":l+=i+s,c+=o,d="middle";break;case"top":l+=s/2,c-=i,u="center",d="bottom";break;case"bottom":l+=s/2,c+=a+i,u="center";break;case"inside":l+=s/2,c+=o,u="center",d="middle";break;case"insideLeft":l+=i,c+=o,d="middle";break;case"insideRight":l+=s-i,c+=o,u="right",d="middle";break;case"insideTop":l+=s/2,c+=i,u="center";break;case"insideBottom":l+=s/2,c+=a-i,u="center",d="bottom";break;case"insideTopLeft":l+=i,c+=i;break;case"insideTopRight":l+=s-i,c+=i,u="right";break;case"insideBottomLeft":l+=i,c+=a-i,d="bottom";break;case"insideBottomRight":l+=s-i,c+=a-i,u="right",d="bottom";break}return n=n||{},n.x=l,n.y=c,n.align=u,n.verticalAlign=d,n}var B3="__zr_normal__",F3=I_.concat(["ignore"]),S7e=Sh(I_,function(n,e){return n[e]=!0,n},{ignore:!1}),bm={},w7e=new Ai(0,0,0,0),Jk=function(){function n(e){this.id=DJ(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,r){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,a=t.innerTransformable,s=void 0,o=void 0,l=!1;a.parent=i?this:null;var c=!1;if(a.copyTransform(t),r.position!=null){var u=w7e;r.layoutRect?u.copy(r.layoutRect):u.copy(this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(bm,r,u):aee(bm,r,u),a.x=bm.x,a.y=bm.y,s=bm.align,o=bm.verticalAlign;var d=r.origin;if(d&&r.rotation!=null){var f=void 0,h=void 0;d==="center"?(f=u.width*.5,h=u.height*.5):(f=Ug(d[0],u.width),h=Ug(d[1],u.height)),c=!0,a.originX=-a.x+f+(i?0:u.x),a.originY=-a.y+h+(i?0:u.y)}}r.rotation!=null&&(a.rotation=r.rotation);var p=r.offset;p&&(a.x+=p[0],a.y+=p[1],c||(a.originX=-p[0],a.originY=-p[1]));var m=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),v=void 0,y=void 0,b=void 0;m&&this.canBeInsideText()?(v=r.insideFill,y=r.insideStroke,(v==null||v==="auto")&&(v=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(v),b=!0)):(v=r.outsideFill,y=r.outsideStroke,(v==null||v==="auto")&&(v=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(v),b=!0)),v=v||"#000",(v!==g.fill||y!==g.stroke||b!==g.autoStroke||s!==g.align||o!==g.verticalAlign)&&(l=!0,g.fill=v,g.stroke=y,g.autoStroke=b,g.align=s,g.verticalAlign=o,t.setDefaultTextStyle(g)),t.__dirty|=qo,l&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?vP:mP},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),r=typeof t=="string"&&f0(t);r||(r=[255,255,255,1]);for(var i=r[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)r[s]=r[s]*i+(a?0:255)*(1-i);return r[3]=1,Xk(r,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},pn(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(fr(e))for(var r=e,i=pa(r),a=0;a<i.length;a++){var s=i[a];this.attrKV(s,e[s])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==B3)){var s=i.targetName,o=s?t[s]:t;i.saveTo(o)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,F3)},n.prototype._savePrimaryToNormal=function(e,t,r){for(var i=0;i<r.length;i++){var a=r[i];e[a]!=null&&!(a in t)&&(t[a]=this[a])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(B3,!1,e)},n.prototype.useState=function(e,t,r,i){var a=e===B3,s=this.hasState();if(!(!s&&a)){var o=this.currentStates,l=this.stateTransition;if(!(Oi(o,e)>=0&&(t||o.length===1))){var c;if(this.stateProxy&&!a&&(c=this.stateProxy(e)),c||(c=this.states&&this.states[e]),!c&&!a){Gk("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||i);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,c,this._normalState,t,!r&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,f=this._textGuide;return d&&d.useState(e,t,r,u),f&&f.useState(e,t,r,u),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~qo),c}}},n.prototype.useStates=function(e,t,r){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,s=e.length,o=s===a.length;if(o){for(var l=0;l<s;l++)if(e[l]!==a[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var c=e[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,e)),u||(u=this.states[c]),u&&i.push(u)}var d=i[s-1],f=!!(d&&d.hoverLayer||r);f&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(e.join(","),h,this._normalState,!1,!t&&!this.__inHover&&p&&p.duration>0,p);var m=this._textContent,g=this._textGuide;m&&m.useStates(e,t,f),g&&g.useStates(e,t,f),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~qo)}},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=Oi(this.currentStates,e);if(t>=0){var r=this.currentStates.slice();r.splice(t,1),this.useStates(r)}},n.prototype.replaceState=function(e,t,r){var i=this.currentStates.slice(),a=Oi(i,e),s=Oi(i,t)>=0;a>=0?s?i.splice(a,1):i[a]=t:r&&!s&&i.push(t),this.useStates(i)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var t={},r,i=0;i<e.length;i++){var a=e[i];pn(t,a),a.textConfig&&(r=r||{},pn(r,a.textConfig))}return r&&(t.textConfig=r),t},n.prototype._applyStateObj=function(e,t,r,i,a,s){var o=!(t&&i);t&&t.textConfig?(this.textConfig=pn({},i?this.textConfig:r.textConfig),pn(this.textConfig,t.textConfig)):o&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},c=!1,u=0;u<F3.length;u++){var d=F3[u],f=a&&S7e[d];t&&t[d]!=null?f?(c=!0,l[d]=t[d]):this[d]=t[d]:o&&r[d]!=null&&(f?(c=!0,l[d]=r[d]):this[d]=r[d])}if(!a)for(var u=0;u<this.animators.length;u++){var h=this.animators[u],p=h.targetName;h.getLoop()||h.__changeFinalValue(p?(t||r)[p]:t||r)}c&&this._transitionState(e,l,s)},n.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new Zk,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),pn(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=qo;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,r=this._textGuide;t&&(t.__inHover=e),r&&(r.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,r){var i=e?this[e]:this,a=new jk(i,t,r);return e&&(a.targetName=e),this.addAnimator(a,e),a},n.prototype.addAnimator=function(e,t){var r=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(t)}).done(function(){var a=i.animators,s=Oi(a,e);s>=0&&a.splice(s,1)}),this.animators.push(e),r&&r.animation.addAnimator(e),r&&r.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var r=this.animators,i=r.length,a=[],s=0;s<i;s++){var o=r[s];!e||e===o.scope?o.stop(t):a.push(o)}return this.animators=a,this},n.prototype.animateTo=function(e,t,r){z3(this,e,t,r)},n.prototype.animateFrom=function(e,t,r){z3(this,e,t,r,!0)},n.prototype._transitionState=function(e,t,r,i){for(var a=z3(this,t,r,i),s=0;s<a.length;s++)a[s].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var e=n.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=qo;function t(r,i,a,s){Object.defineProperty(e,r,{get:function(){if(!this[i]){var l=this[i]=[];o(this,l)}return this[i]},set:function(l){this[a]=l[0],this[s]=l[1],this[i]=l,o(this,l)}});function o(l,c){Object.defineProperty(c,0,{get:function(){return l[a]},set:function(u){l[a]=u}}),Object.defineProperty(c,1,{get:function(){return l[s]},set:function(u){l[s]=u}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))}(),n}();qd(Jk,Ru);qd(Jk,Zk);function z3(n,e,t,r,i){t=t||{};var a=[];see(n,"",n,e,t,r,a,i);var s=a.length,o=!1,l=t.done,c=t.aborted,u=function(){o=!0,s--,s<=0&&(o?l&&l():c&&c())},d=function(){s--,s<=0&&(o?l&&l():c&&c())};s||l&&l(),a.length>0&&t.during&&a[0].during(function(p,m){t.during(m)});for(var f=0;f<a.length;f++){var h=a[f];u&&h.done(u),d&&h.aborted(d),t.force&&h.duration(t.duration),h.start(t.easing)}return a}function U3(n,e,t){for(var r=0;r<t;r++)n[r]=e[r]}function x7e(n){return Ao(n[0])}function C7e(n,e,t){if(Ao(e[t]))if(Ao(n[t])||(n[t]=[]),al(e[t])){var r=e[t].length;n[t].length!==r&&(n[t]=new e[t].constructor(r),U3(n[t],e[t],r))}else{var i=e[t],a=n[t],s=i.length;if(x7e(i))for(var o=i[0].length,l=0;l<s;l++)a[l]?U3(a[l],i[l],o):a[l]=Array.prototype.slice.call(i[l]);else U3(a,i,s);a.length=i.length}else n[t]=e[t]}function M7e(n,e){return n===e||Ao(n)&&Ao(e)&&T7e(n,e)}function T7e(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function see(n,e,t,r,i,a,s,o){for(var l=pa(r),c=i.duration,u=i.delay,d=i.additive,f=i.setToFinal,h=!fr(a),p=n.animators,m=[],g=0;g<l.length;g++){var v=l[g],y=r[v];if(y!=null&&t[v]!=null&&(h||a[v]))if(fr(y)&&!Ao(y)&&!gA(y)){if(e){o||(t[v]=y,n.updateDuringAnimation(e));continue}see(n,v,t[v],y,i,a&&a[v],s,o)}else m.push(v);else o||(t[v]=y,n.updateDuringAnimation(e),m.push(v))}var b=m.length;if(!d&&b)for(var _=0;_<p.length;_++){var w=p[_];if(w.targetName===e){var x=w.stopTracks(m);if(x){var M=Oi(p,w);p.splice(M,1)}}}if(i.force||(m=Ml(m,function(I){return!M7e(r[I],t[I])}),b=m.length),b>0||i.force&&!s.length){var C=void 0,T=void 0,A=void 0;if(o){T={},f&&(C={});for(var _=0;_<b;_++){var v=m[_];T[v]=t[v],f?C[v]=r[v]:t[v]=r[v]}}else if(f){A={};for(var _=0;_<b;_++){var v=m[_];A[v]=sC(t[v]),C7e(t,r,v)}}var w=new jk(t,!1,!1,d?Ml(p,function(L){return L.targetName===e}):null);w.targetName=e,i.scope&&(w.scope=i.scope),f&&C&&w.whenWithKeys(0,C,m),A&&w.whenWithKeys(0,A,m),w.whenWithKeys(c??500,o?T:r,m).delay(u||0),n.addAnimator(w,e),s.push(w)}}const oee=Jk;var lee=function(n){sr(e,n);function e(t){var r=n.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===t)return r[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,r){if(t&&t!==this&&t.parent!==this&&r&&r.parent===this){var i=this._children,a=i.indexOf(r);a>=0&&(i.splice(a,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,r){var i=Oi(this._children,t);return i>=0&&this.replaceAt(r,i),this},e.prototype.replaceAt=function(t,r){var i=this._children,a=i[r];if(t&&t!==this&&t.parent!==this&&t!==a){i[r]=t,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var r=this.__zr;r&&r!==t.__zr&&t.addSelfToZr(r),r&&r.refresh()},e.prototype.remove=function(t){var r=this.__zr,i=this._children,a=Oi(i,t);return a<0?this:(i.splice(a,1),t.parent=null,r&&t.removeSelfFromZr(r),r&&r.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,r=this.__zr,i=0;i<t.length;i++){var a=t[i];r&&a.removeSelfFromZr(r),a.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,r){for(var i=this._children,a=0;a<i.length;a++){var s=i[a];t.call(r,s,a)}return this},e.prototype.traverse=function(t,r){for(var i=0;i<this._children.length;i++){var a=this._children[i],s=t.call(r,a);a.isGroup&&!s&&a.traverse(t,r)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var r=new Ai(0,0,0,0),i=t||this._children,a=[],s=null,o=0;o<i.length;o++){var l=i[o];if(!(l.ignore||l.invisible)){var c=l.getBoundingRect(),u=l.getLocalTransform(a);u?(Ai.applyTransform(r,c,u),s=s||r.clone(),s.union(r)):(s=s||c.clone(),s.union(c))}}return s||r},e}(oee);lee.prototype.type="group";const bu=lee;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var uC={},cee={};function A7e(n){delete cee[n]}function E7e(n){if(!n)return!1;if(typeof n=="string")return SM(n,1)<pP;if(n.colorStops){for(var e=n.colorStops,t=0,r=e.length,i=0;i<r;i++)t+=SM(e[i].color,1);return t/=r,t<pP}return!1}var I7e=function(){function n(e,t,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=t,this.id=e;var a=new $Fe,s=r.renderer||"canvas";uC[s]||(s=pa(uC)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var o=new uC[s](t,a,r,e),l=r.ssr||o.ssrOnly;this.storage=a,this.painter=o;var c=!Lr.node&&!Lr.worker&&!l?new g7e(o.getViewportRoot(),o.root):null,u=r.useCoarsePointer,d=u==null||u==="auto"?Lr.touchEventsSupported:!!u,f=44,h;d&&(h=Xr(r.pointerSize,f)),this.handler=new FFe(a,o,c,o.root,h),this.animation=new c7e({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},n.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=E7e(e)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(e){var t,r=Nv();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=Nv();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},n.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},n.prototype.on=function(e,t,r){return this.handler.on(e,t,r),this},n.prototype.off=function(e,t){this.handler.off(e,t)},n.prototype.trigger=function(e,t){this.handler.trigger(e,t)},n.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof bu&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,A7e(this.id)},n}();function sU(n,e){var t=new I7e(DJ(),n,e);return cee[t.id]=t,t}function R7e(n,e){uC[n]=e}var oU=1e-4,uee=20;function P7e(n){return n.replace(/^\s+|\s+$/g,"")}function L7e(n,e,t,r){var i=e[0],a=e[1],s=t[0],o=t[1],l=a-i,c=o-s;if(l===0)return c===0?s:(s+o)/2;if(r)if(l>0){if(n<=i)return s;if(n>=a)return o}else{if(n>=i)return s;if(n<=a)return o}else{if(n===i)return s;if(n===a)return o}return(n-i)/l*c+s}function Ra(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return dr(n)?P7e(n).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):n==null?NaN:+n}function D7e(n,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),uee),n=(+n).toFixed(e),t?n:+n}function lU(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t}return k7e(n)}function k7e(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),r=t>0?+e.slice(t+1):0,i=t>0?t:e.length,a=e.indexOf("."),s=a<0?0:i-1-a;return Math.max(0,s-r)}function O7e(n,e){var t=Sh(n,function(h,p){return h+(isNaN(p)?0:p)},0);if(t===0)return[];for(var r=Math.pow(10,e),i=Zr(n,function(h){return(isNaN(h)?0:h)/t*r*100}),a=r*100,s=Zr(i,function(h){return Math.floor(h)}),o=Sh(s,function(h,p){return h+p},0),l=Zr(i,function(h,p){return h-s[p]});o<a;){for(var c=Number.NEGATIVE_INFINITY,u=null,d=0,f=l.length;d<f;++d)l[d]>c&&(c=l[d],u=d);++s[u],l[u]=0,++o}return Zr(s,function(h){return h/r})}function N7e(n,e){var t=Math.max(lU(n),lU(e)),r=n+e;return t>uee?r:D7e(r,t)}function dee(n){var e=Math.PI*2;return(n%e+e)%e}function xM(n){return n>-oU&&n<oU}var B7e=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function bA(n){if(n instanceof Date)return n;if(dr(n)){var e=B7e.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function CM(n){var e=parseFloat(n);return e==n&&(e!==0||!dr(n)||n.indexOf("x")<=0)?e:NaN}function F7e(n){return!isNaN(CM(n))}function fee(){return Math.round(Math.random()*9)}function hee(n,e){return e===0?n:hee(e,n%e)}function cU(n,e){return n==null?e:e==null?n:n*e/hee(n,e)}function fo(n){throw new Error(n)}var pee="series\0",z7e="\0_ec_\0";function Qs(n){return n instanceof Array?n:n==null?[]:[n]}function gP(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var r=0,i=t.length;r<i;r++){var a=t[r];!n.emphasis[e].hasOwnProperty(a)&&n[e].hasOwnProperty(a)&&(n.emphasis[e][a]=n[e][a])}}}var uU=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function _A(n){return fr(n)&&!Zn(n)&&!(n instanceof Date)?n.value:n}function U7e(n){return fr(n)&&!(n instanceof Array)}function H7e(n,e,t){var r=t==="normalMerge",i=t==="replaceMerge",a=t==="replaceAll";n=n||[],e=(e||[]).slice();var s=jr();Mt(e,function(l,c){if(!fr(l)){e[c]=null;return}});var o=V7e(n,s,t);return(r||i)&&$7e(o,n,s,e),r&&G7e(o,e),r||i?W7e(o,e,i):a&&q7e(o,e),K7e(o),o}function V7e(n,e,t){var r=[];if(t==="replaceAll")return r;for(var i=0;i<n.length;i++){var a=n[i];a&&a.id!=null&&e.set(a.id,i),r.push({existing:t==="replaceMerge"||R_(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}function $7e(n,e,t,r){Mt(r,function(i,a){if(!(!i||i.id==null)){var s=_b(i.id),o=t.get(s);if(o!=null){var l=n[o];Rd(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=i,l.existing=e[o],r[a]=null}}})}function G7e(n,e){Mt(e,function(t,r){if(!(!t||t.name==null))for(var i=0;i<n.length;i++){var a=n[i].existing;if(!n[i].newOption&&a&&(a.id==null||t.id==null)&&!R_(t)&&!R_(a)&&mee("name",a,t)){n[i].newOption=t,e[r]=null;return}}})}function W7e(n,e,t){Mt(e,function(r){if(r){for(var i,a=0;(i=n[a])&&(i.newOption||R_(i.existing)||i.existing&&r.id!=null&&!mee("id",r,i.existing));)a++;i?(i.newOption=r,i.brandNew=t):n.push({newOption:r,brandNew:t,existing:null,keyInfo:null}),a++}})}function q7e(n,e){Mt(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function K7e(n){var e=jr();Mt(n,function(t){var r=t.existing;r&&e.set(r.id,t)}),Mt(n,function(t){var r=t.newOption;Rd(!r||r.id==null||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),Mt(n,function(t,r){var i=t.existing,a=t.newOption,s=t.keyInfo;if(fr(a)){if(s.name=a.name!=null?_b(a.name):i?i.name:pee+r,i)s.id=_b(i.id);else if(a.id!=null)s.id=_b(a.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(e.get(s.id))}e.set(s.id,t)}})}function mee(n,e,t){var r=fu(e[n],null),i=fu(t[n],null);return r!=null&&i!=null&&r===i}function _b(n){return fu(n,"")}function fu(n,e){return n==null?e:dr(n)?n:ma(n)||J5(n)?n+"":e}function e8(n){var e=n.name;return!!(e&&e.indexOf(pee))}function R_(n){return n&&n.id!=null&&_b(n.id).indexOf(z7e)===0}function Y7e(n,e,t){Mt(n,function(r){var i=r.newOption;fr(i)&&(r.keyInfo.mainType=e,r.keyInfo.subType=X7e(e,i,r.existing,t))})}function X7e(n,e,t,r){var i=e.type?e.type:t?t.subType:r.determineSubType(n,e);return i}function BS(n,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return Zn(e.dataIndex)?Zr(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex);if(e.name!=null)return Zn(e.name)?Zr(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name)}function ja(){var n="__ec_inner_"+j7e++;return function(e){return e[n]||(e[n]={})}}var j7e=fee();function H3(n,e,t){var r=t8(e,t),i=r.mainTypeSpecified,a=r.queryOptionMap,s=r.others,o=s,l=t?t.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(c,u){var d=FS(n,u,c,{useDefault:l===u,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});o[u+"Models"]=d.models,o[u+"Model"]=d.models[0]}),o}function t8(n,e){var t;if(dr(n)){var r={};r[n+"Index"]=0,t=r}else t=n;var i=jr(),a={},s=!1;return Mt(t,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=o;return}var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],d=(c[2]||"").toLowerCase();if(!(!u||!d||e&&e.includeMainTypes&&Oi(e.includeMainTypes,u)<0)){s=s||!!u;var f=i.get(u)||i.set(u,{});f[d]=o}}),{mainTypeSpecified:s,queryOptionMap:i,others:a}}var n8={useDefault:!0,enableAll:!1,enableNone:!1};function FS(n,e,t,r){r=r||n8;var i=t.index,a=t.id,s=t.name,o={models:null,specified:i!=null||a!=null||s!=null};if(!o.specified){var l=void 0;return o.models=r.useDefault&&(l=n.getComponent(e))?[l]:[],o}return i==="none"||i===!1?(Rd(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),o.models=[],o):(i==="all"&&(Rd(r.enableAll,'`"all"` is not a valid value on index option.'),i=a=s=null),o.models=n.queryComponents({mainType:e,index:i,id:a,name:s}),o)}function vee(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function Z7e(n,e){return n.getAttribute?n.getAttribute(e):n[e]}function Q7e(n){return n==="auto"?Lr.domSupported?"html":"richText":n||"html"}var J7e=".",Jh="___EC__COMPONENT__CONTAINER___",gee="___EC__EXTENDED_CLASS___";function ru(n){var e={main:"",sub:""};if(n){var t=n.split(J7e);e.main=t[0]||"",e.sub=t[1]||""}return e}function e9e(n){Rd(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function t9e(n){return!!(n&&n[gee])}function r8(n,e){n.$constructor=n,n.extend=function(t){var r=this,i;return n9e(r)?i=function(a){sr(s,a);function s(){return a.apply(this,arguments)||this}return s}(r):(i=function(){(t.$constructor||r).apply(this,arguments)},QBe(i,this)),pn(i.prototype,t),i[gee]=!0,i.extend=this.extend,i.superCall=a9e,i.superApply=s9e,i.superClass=r,i}}function n9e(n){return gi(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function yee(n,e){n.extend=e.extend}var r9e=Math.round(Math.random()*10);function i9e(n){var e=["__\0is_clz",r9e++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!!(t&&t[e])}}function a9e(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return this.superClass.prototype[e].apply(n,t)}function s9e(n,e,t){return this.superClass.prototype[e].apply(n,t)}function i8(n){var e={};n.registerClass=function(r){var i=r.type||r.prototype.type;if(i){e9e(i),r.prototype.type=i;var a=ru(i);if(!a.sub)e[a.main]=r;else if(a.sub!==Jh){var s=t(a);s[a.sub]=r}}return r},n.getClass=function(r,i,a){var s=e[r];if(s&&s[Jh]&&(s=i?s[i]:null),a&&!s)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return s},n.getClassesByMainType=function(r){var i=ru(r),a=[],s=e[i.main];return s&&s[Jh]?Mt(s,function(o,l){l!==Jh&&a.push(o)}):a.push(s),a},n.hasClass=function(r){var i=ru(r);return!!e[i.main]},n.getAllClassMainTypes=function(){var r=[];return Mt(e,function(i,a){r.push(a)}),r},n.hasSubTypes=function(r){var i=ru(r),a=e[i.main];return a&&a[Jh]};function t(r){var i=e[r.main];return(!i||!i[Jh])&&(i=e[r.main]={},i[Jh]=!0),i}}function P_(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(r,i,a){for(var s={},o=0;o<n.length;o++){var l=n[o][1];if(!(i&&Oi(i,l)>=0||a&&Oi(a,l)<0)){var c=r.getShallow(l,e);c!=null&&(s[n[o][0]]=c)}}return s}}var o9e=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],l9e=P_(o9e),c9e=function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return l9e(this,e,t)},n}(),yP=new NS(50);function u9e(n){if(typeof n=="string"){var e=yP.get(n);return e&&e.image}else return n}function bee(n,e,t,r,i){if(n)if(typeof n=="string"){if(e&&e.__zrImageSrc===n||!t)return e;var a=yP.get(n),s={hostEl:t,cb:r,cbPayload:i};return a?(e=a.image,!SA(e)&&a.pending.push(s)):(e=wy.loadImage(n,dU,dU),e.__zrImageSrc=n,yP.put(n,e.__cachedImgObj={image:e,pending:[s]})),e}else return n;else return e}function dU(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],r=t.cb;r&&r(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function SA(n){return n&&n.width&&n.height}var V3=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function d9e(n,e,t,r,i){if(!e)return"";var a=(n+"").split(`
`);i=_ee(e,t,r,i);for(var s=0,o=a.length;s<o;s++)a[s]=See(a[s],i);return a.join(`
`)}function _ee(n,e,t,r){r=r||{};var i=pn({},r);i.font=e,t=Xr(t,"..."),i.maxIterations=Xr(r.maxIterations,2);var a=i.minChar=Xr(r.minChar,0);i.cnCharWidth=Jo("",e);var s=i.ascCharWidth=Jo("a",e);i.placeholder=Xr(r.placeholder,"");for(var o=n=Math.max(0,n-1),l=0;l<a&&o>=s;l++)o-=s;var c=Jo(t,e);return c>o&&(t="",c=0),o=n-c,i.ellipsis=t,i.ellipsisWidth=c,i.contentWidth=o,i.containerWidth=n,i}function See(n,e){var t=e.containerWidth,r=e.font,i=e.contentWidth;if(!t)return"";var a=Jo(n,r);if(a<=t)return n;for(var s=0;;s++){if(a<=i||s>=e.maxIterations){n+=e.ellipsis;break}var o=s===0?f9e(n,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(n.length*i/a):0;n=n.substr(0,o),a=Jo(n,r)}return n===""&&(n=e.placeholder),n}function f9e(n,e,t,r){for(var i=0,a=0,s=n.length;a<s&&i<e;a++){var o=n.charCodeAt(a);i+=0<=o&&o<=127?t:r}return a}function h9e(n,e){n!=null&&(n+="");var t=e.overflow,r=e.padding,i=e.font,a=t==="truncate",s=Qk(i),o=Xr(e.lineHeight,s),l=!!e.backgroundColor,c=e.lineOverflow==="truncate",u=e.width,d;u!=null&&(t==="break"||t==="breakAll")?d=n?wee(n,e.font,u,t==="breakAll",0).lines:[]:d=n?n.split(`
`):[];var f=d.length*o,h=Xr(e.height,f);if(f>h&&c){var p=Math.floor(h/o);d=d.slice(0,p)}if(n&&a&&u!=null)for(var m=_ee(u,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),g=0;g<d.length;g++)d[g]=See(d[g],m);for(var v=h,y=0,g=0;g<d.length;g++)y=Math.max(Jo(d[g],i),y);u==null&&(u=y);var b=y;return r&&(v+=r[0]+r[2],b+=r[1]+r[3],u+=r[1]+r[3]),l&&(b=u),{lines:d,height:h,outerWidth:b,outerHeight:v,lineHeight:o,calculatedLineHeight:s,contentWidth:y,contentHeight:f,width:u}}var p9e=function(){function n(){}return n}(),fU=function(){function n(e){this.tokens=[],e&&(this.tokens=e)}return n}(),m9e=function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return n}();function v9e(n,e){var t=new m9e;if(n!=null&&(n+=""),!n)return t;for(var r=e.width,i=e.height,a=e.overflow,s=(a==="break"||a==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:a==="breakAll"}:null,o=V3.lastIndex=0,l;(l=V3.exec(n))!=null;){var c=l.index;c>o&&$3(t,n.substring(o,c),e,s),$3(t,l[2],e,s,l[1]),o=V3.lastIndex}o<n.length&&$3(t,n.substring(o,n.length),e,s);var u=[],d=0,f=0,h=e.padding,p=a==="truncate",m=e.lineOverflow==="truncate";function g(z,B,W){z.width=B,z.lineHeight=W,d+=W,f=Math.max(f,B)}e:for(var v=0;v<t.lines.length;v++){for(var y=t.lines[v],b=0,_=0,w=0;w<y.tokens.length;w++){var x=y.tokens[w],M=x.styleName&&e.rich[x.styleName]||{},C=x.textPadding=M.padding,T=C?C[1]+C[3]:0,A=x.font=M.font||e.font;x.contentHeight=Qk(A);var I=Xr(M.height,x.contentHeight);if(x.innerHeight=I,C&&(I+=C[0]+C[2]),x.height=I,x.lineHeight=vb(M.lineHeight,e.lineHeight,I),x.align=M&&M.align||e.align,x.verticalAlign=M&&M.verticalAlign||"middle",m&&i!=null&&d+x.lineHeight>i){w>0?(y.tokens=y.tokens.slice(0,w),g(y,_,b),t.lines=t.lines.slice(0,v+1)):t.lines=t.lines.slice(0,v);break e}var L=M.width,k=L==null||L==="auto";if(typeof L=="string"&&L.charAt(L.length-1)==="%")x.percentWidth=L,u.push(x),x.contentWidth=Jo(x.text,A);else{if(k){var N=M.backgroundColor,F=N&&N.image;F&&(F=u9e(F),SA(F)&&(x.width=Math.max(x.width,F.width*I/F.height)))}var D=p&&r!=null?r-_:null;D!=null&&D<x.width?!k||D<T?(x.text="",x.width=x.contentWidth=0):(x.text=d9e(x.text,D-T,A,e.ellipsis,{minChar:e.truncateMinChar}),x.width=x.contentWidth=Jo(x.text,A)):x.contentWidth=Jo(x.text,A)}x.width+=T,_+=x.width,M&&(b=Math.max(b,x.lineHeight))}g(y,_,b)}t.outerWidth=t.width=Xr(r,f),t.outerHeight=t.height=Xr(i,d),t.contentHeight=d,t.contentWidth=f,h&&(t.outerWidth+=h[1]+h[3],t.outerHeight+=h[0]+h[2]);for(var v=0;v<u.length;v++){var x=u[v],H=x.percentWidth;x.width=parseInt(H,10)/100*t.width}return t}function $3(n,e,t,r,i){var a=e==="",s=i&&t.rich[i]||{},o=n.lines,l=s.font||t.font,c=!1,u,d;if(r){var f=s.padding,h=f?f[1]+f[3]:0;if(s.width!=null&&s.width!=="auto"){var p=Ug(s.width,r.width)+h;o.length>0&&p+r.accumWidth>r.width&&(u=e.split(`
`),c=!0),r.accumWidth=p}else{var m=wee(e,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=m.accumWidth+h,d=m.linesWidths,u=m.lines}}else u=e.split(`
`);for(var g=0;g<u.length;g++){var v=u[g],y=new p9e;if(y.styleName=i,y.text=v,y.isLineHolder=!v&&!a,typeof s.width=="number"?y.width=s.width:y.width=d?d[g]:Jo(v,l),!g&&!c){var b=(o[o.length-1]||(o[0]=new fU)).tokens,_=b.length;_===1&&b[0].isLineHolder?b[0]=y:(v||!_||a)&&b.push(y)}else o.push(new fU([y]))}}function g9e(n){var e=n.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var y9e=Sh(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function b9e(n){return g9e(n)?!!y9e[n]:!0}function wee(n,e,t,r,i){for(var a=[],s=[],o="",l="",c=0,u=0,d=0;d<n.length;d++){var f=n.charAt(d);if(f===`
`){l&&(o+=l,u+=c),a.push(o),s.push(u),o="",l="",c=0,u=0;continue}var h=Jo(f,e),p=r?!1:!b9e(f);if(a.length?u+h>t:i+u+h>t){u?(o||l)&&(p?(o||(o=l,l="",c=0,u=c),a.push(o),s.push(u-c),l+=f,c+=h,o="",u=c):(l&&(o+=l,l="",c=0),a.push(o),s.push(u),o=f,u=h)):p?(a.push(l),s.push(c),l=f,c=h):(a.push(f),s.push(h));continue}u+=h,p?(l+=f,c+=h):(l&&(o+=l,l="",c=0),o+=f)}return!a.length&&!o&&(o=n,l="",c=0),l&&(o+=l),o&&(a.push(o),s.push(u)),a.length===1&&(u+=i),{accumWidth:u,lines:a,linesWidths:s}}var bP="__zr_style_"+Math.round(Math.random()*10),h0={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},wA={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};h0[bP]=!0;var hU=["z","z2","invisible"],_9e=["invisible"],S9e=function(n){sr(e,n);function e(t){return n.call(this,t)||this}return e.prototype._init=function(t){for(var r=pa(t),i=0;i<r.length;i++){var a=r[i];a==="style"?this.useStyle(t[a]):n.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,r,i,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&w9e(this,t,r)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,r){return this.rectContain(t,r)},e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.rectContain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,o=a.shadowOffsetX||0,l=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Ai(0,0,0,0)),r?Ai.applyTransform(t,i,r):t.copy(i),(s||o||l)&&(t.width+=s*2+Math.abs(o),t.height+=s*2+Math.abs(l),t.x=Math.min(t.x,t.x+o-s),t.y=Math.min(t.y,t.y+l-s));var c=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-c),t.y=Math.floor(t.y-c),t.width=Math.ceil(t.width+1+c*2),t.height=Math.ceil(t.height+1+c*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new Ai(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,r){t!=="style"?n.prototype.attrKV.call(this,t,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(t,r){return typeof t=="string"?this.style[t]=r:pn(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=X1,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&X1)},e.prototype.styleUpdated=function(){this.__dirty&=~X1},e.prototype.createStyle=function(t){return yA(h0,t)},e.prototype.useStyle=function(t){t[bP]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[bP]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,r,hU)},e.prototype._applyStateObj=function(t,r,i,a,s,o){n.prototype._applyStateObj.call(this,t,r,i,a,s,o);var l=!(r&&a),c;if(r&&r.style?s?a?c=r.style:(c=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(c,r.style)):(c=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(c,r.style)):l&&(c=i.style),c)if(s){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var d=pa(u),f=0;f<d.length;f++){var h=d[f];h in c&&(c[h]=c[h],this.style[h]=u[h])}for(var p=pa(c),f=0;f<p.length;f++){var h=p[f];this.style[h]=this.style[h]}this._transitionState(t,{style:c},o,this.getAnimationStyleProps())}else this.useStyle(c);for(var m=this.__inHover?_9e:hU,f=0;f<m.length;f++){var h=m[f];r&&r[h]!=null?this[h]=r[h]:l&&i[h]!=null&&(this[h]=i[h])}},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(r.style=i),r},e.prototype._mergeStyle=function(t,r){return pn(t,r),t},e.prototype.getAnimationStyleProps=function(){return wA},e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=qo|X1}(),e}(oee),G3=new Ai(0,0,0,0),W3=new Ai(0,0,0,0);function w9e(n,e,t){return G3.copy(n.getBoundingRect()),n.transform&&G3.applyTransform(n.transform),W3.width=e,W3.height=t,!G3.intersect(W3)}const zS=S9e;var El=Math.min,Il=Math.max,q3=Math.sin,K3=Math.cos,ep=Math.PI*2,Xw=xy(),jw=xy(),Zw=xy();function pU(n,e,t,r,i,a){i[0]=El(n,t),i[1]=El(e,r),a[0]=Il(n,t),a[1]=Il(e,r)}var mU=[],vU=[];function x9e(n,e,t,r,i,a,s,o,l,c){var u=jJ,d=is,f=u(n,t,i,s,mU);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var h=0;h<f;h++){var p=d(n,t,i,s,mU[h]);l[0]=El(p,l[0]),c[0]=Il(p,c[0])}f=u(e,r,a,o,vU);for(var h=0;h<f;h++){var m=d(e,r,a,o,vU[h]);l[1]=El(m,l[1]),c[1]=Il(m,c[1])}l[0]=El(n,l[0]),c[0]=Il(n,c[0]),l[0]=El(s,l[0]),c[0]=Il(s,c[0]),l[1]=El(e,l[1]),c[1]=Il(e,c[1]),l[1]=El(o,l[1]),c[1]=Il(o,c[1])}function C9e(n,e,t,r,i,a,s,o){var l=ZJ,c=Ts,u=Il(El(l(n,t,i),1),0),d=Il(El(l(e,r,a),1),0),f=c(n,t,i,u),h=c(e,r,a,d);s[0]=El(n,i,f),s[1]=El(e,a,h),o[0]=Il(n,i,f),o[1]=Il(e,a,h)}function M9e(n,e,t,r,i,a,s,o,l){var c=kv,u=Ov,d=Math.abs(i-a);if(d%ep<1e-4&&d>1e-4){o[0]=n-t,o[1]=e-r,l[0]=n+t,l[1]=e+r;return}if(Xw[0]=K3(i)*t+n,Xw[1]=q3(i)*r+e,jw[0]=K3(a)*t+n,jw[1]=q3(a)*r+e,c(o,Xw,jw),u(l,Xw,jw),i=i%ep,i<0&&(i=i+ep),a=a%ep,a<0&&(a=a+ep),i>a&&!s?a+=ep:i<a&&s&&(i+=ep),s){var f=a;a=i,i=f}for(var h=0;h<a;h+=Math.PI/2)h>i&&(Zw[0]=K3(h)*t+n,Zw[1]=q3(h)*r+e,c(o,Zw,o),u(l,Zw,l))}var ci={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tp=[],np=[],Hc=[],af=[],Vc=[],$c=[],Y3=Math.min,X3=Math.max,rp=Math.cos,ip=Math.sin,zu=Math.abs,_P=Math.PI,Df=_P*2,j3=typeof Float32Array<"u",f1=[];function Z3(n){var e=Math.round(n/_P*1e8)/1e8;return e%2*_P}function T9e(n,e){var t=Z3(n[0]);t<0&&(t+=Df);var r=t-n[0],i=n[1];i+=r,!e&&i-t>=Df?i=t+Df:e&&t-i>=Df?i=t-Df:!e&&t>i?i=t+(Df-Z3(t-i)):e&&t<i&&(i=t-(Df-Z3(i-t))),n[0]=t,n[1]=i}var A9e=function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,r){r=r||0,r>0&&(this._ux=zu(r/wM/e)||0,this._uy=zu(r/wM/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(ci.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var r=zu(e-this._xi),i=zu(t-this._yi),a=r>this._ux||i>this._uy;if(this.addData(ci.L,e,t),this._ctx&&a&&this._ctx.lineTo(e,t),a)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var s=r*r+i*i;s>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=s)}return this},n.prototype.bezierCurveTo=function(e,t,r,i,a,s){return this._drawPendingPt(),this.addData(ci.C,e,t,r,i,a,s),this._ctx&&this._ctx.bezierCurveTo(e,t,r,i,a,s),this._xi=a,this._yi=s,this},n.prototype.quadraticCurveTo=function(e,t,r,i){return this._drawPendingPt(),this.addData(ci.Q,e,t,r,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,r,i),this._xi=r,this._yi=i,this},n.prototype.arc=function(e,t,r,i,a,s){this._drawPendingPt(),f1[0]=i,f1[1]=a,T9e(f1,s),i=f1[0],a=f1[1];var o=a-i;return this.addData(ci.A,e,t,r,r,i,o,0,s?0:1),this._ctx&&this._ctx.arc(e,t,r,i,a,s),this._xi=rp(a)*r+e,this._yi=ip(a)*r+t,this},n.prototype.arcTo=function(e,t,r,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,r,i,a),this},n.prototype.rect=function(e,t,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,r,i),this.addData(ci.R,e,t,r,i),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(ci.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&e.closePath(),this._xi=t,this._yi=r,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;!(this.data&&this.data.length===t)&&j3&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,r=0,i=this._len,a=0;a<t;a++)r+=e[a].len();j3&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r));for(var a=0;a<t;a++)for(var s=e[a].data,o=0;o<s.length;o++)this.data[i++]=s[o];this._len=i},n.prototype.addData=function(e,t,r,i,a,s,o,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var d=0;d<arguments.length;d++)u[this._len++]=arguments[d]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,j3&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){Hc[0]=Hc[1]=Vc[0]=Vc[1]=Number.MAX_VALUE,af[0]=af[1]=$c[0]=$c[1]=-Number.MAX_VALUE;var e=this.data,t=0,r=0,i=0,a=0,s;for(s=0;s<this._len;){var o=e[s++],l=s===1;switch(l&&(t=e[s],r=e[s+1],i=t,a=r),o){case ci.M:t=i=e[s++],r=a=e[s++],Vc[0]=i,Vc[1]=a,$c[0]=i,$c[1]=a;break;case ci.L:pU(t,r,e[s],e[s+1],Vc,$c),t=e[s++],r=e[s++];break;case ci.C:x9e(t,r,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],Vc,$c),t=e[s++],r=e[s++];break;case ci.Q:C9e(t,r,e[s++],e[s++],e[s],e[s+1],Vc,$c),t=e[s++],r=e[s++];break;case ci.A:var c=e[s++],u=e[s++],d=e[s++],f=e[s++],h=e[s++],p=e[s++]+h;s+=1;var m=!e[s++];l&&(i=rp(h)*d+c,a=ip(h)*f+u),M9e(c,u,d,f,h,p,m,Vc,$c),t=rp(p)*d+c,r=ip(p)*f+u;break;case ci.R:i=t=e[s++],a=r=e[s++];var g=e[s++],v=e[s++];pU(i,a,i+g,a+v,Vc,$c);break;case ci.Z:t=i,r=a;break}kv(Hc,Hc,Vc),Ov(af,af,$c)}return s===0&&(Hc[0]=Hc[1]=af[0]=af[1]=0),new Ai(Hc[0],Hc[1],af[0]-Hc[0],af[1]-Hc[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,r=this._ux,i=this._uy,a=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,d=0,f=0;f<t;){var h=e[f++],p=f===1;p&&(a=e[f],s=e[f+1],o=a,l=s);var m=-1;switch(h){case ci.M:a=o=e[f++],s=l=e[f++];break;case ci.L:{var g=e[f++],v=e[f++],y=g-a,b=v-s;(zu(y)>r||zu(b)>i||f===t-1)&&(m=Math.sqrt(y*y+b*b),a=g,s=v);break}case ci.C:{var _=e[f++],w=e[f++],g=e[f++],v=e[f++],x=e[f++],M=e[f++];m=WFe(a,s,_,w,g,v,x,M,10),a=x,s=M;break}case ci.Q:{var _=e[f++],w=e[f++],g=e[f++],v=e[f++];m=YFe(a,s,_,w,g,v,10),a=g,s=v;break}case ci.A:var C=e[f++],T=e[f++],A=e[f++],I=e[f++],L=e[f++],k=e[f++],N=k+L;f+=1,e[f++],p&&(o=rp(L)*A+C,l=ip(L)*I+T),m=X3(A,I)*Y3(Df,Math.abs(k)),a=rp(N)*A+C,s=ip(N)*I+T;break;case ci.R:{o=a=e[f++],l=s=e[f++];var F=e[f++],D=e[f++];m=F*2+D*2;break}case ci.Z:{var y=o-a,b=l-s;m=Math.sqrt(y*y+b*b),a=o,s=l;break}}m>=0&&(c[d++]=m,u+=m)}return this._pathLen=u,u},n.prototype.rebuildPath=function(e,t){var r=this.data,i=this._ux,a=this._uy,s=this._len,o,l,c,u,d,f,h=t<1,p,m,g=0,v=0,y,b=0,_,w;if(!(h&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,m=this._pathLen,y=t*m,!y)))e:for(var x=0;x<s;){var M=r[x++],C=x===1;switch(C&&(c=r[x],u=r[x+1],o=c,l=u),M!==ci.L&&b>0&&(e.lineTo(_,w),b=0),M){case ci.M:o=c=r[x++],l=u=r[x++],e.moveTo(c,u);break;case ci.L:{d=r[x++],f=r[x++];var T=zu(d-c),A=zu(f-u);if(T>i||A>a){if(h){var I=p[v++];if(g+I>y){var L=(y-g)/I;e.lineTo(c*(1-L)+d*L,u*(1-L)+f*L);break e}g+=I}e.lineTo(d,f),c=d,u=f,b=0}else{var k=T*T+A*A;k>b&&(_=d,w=f,b=k)}break}case ci.C:{var N=r[x++],F=r[x++],D=r[x++],H=r[x++],z=r[x++],B=r[x++];if(h){var I=p[v++];if(g+I>y){var L=(y-g)/I;bM(c,N,D,z,L,tp),bM(u,F,H,B,L,np),e.bezierCurveTo(tp[1],np[1],tp[2],np[2],tp[3],np[3]);break e}g+=I}e.bezierCurveTo(N,F,D,H,z,B),c=z,u=B;break}case ci.Q:{var N=r[x++],F=r[x++],D=r[x++],H=r[x++];if(h){var I=p[v++];if(g+I>y){var L=(y-g)/I;_M(c,N,D,L,tp),_M(u,F,H,L,np),e.quadraticCurveTo(tp[1],np[1],tp[2],np[2]);break e}g+=I}e.quadraticCurveTo(N,F,D,H),c=D,u=H;break}case ci.A:var W=r[x++],Z=r[x++],ee=r[x++],J=r[x++],re=r[x++],fe=r[x++],de=r[x++],me=!r[x++],Re=ee>J?ee:J,De=zu(ee-J)>.001,Ge=re+fe,We=!1;if(h){var I=p[v++];g+I>y&&(Ge=re+fe*(y-g)/I,We=!0),g+=I}if(De&&e.ellipse?e.ellipse(W,Z,ee,J,de,re,Ge,me):e.arc(W,Z,Re,re,Ge,me),We)break e;C&&(o=rp(re)*ee+W,l=ip(re)*J+Z),c=rp(Ge)*ee+W,u=ip(Ge)*J+Z;break;case ci.R:o=c=r[x],l=u=r[x+1],d=r[x++],f=r[x++];var K=r[x++],ue=r[x++];if(h){var I=p[v++];if(g+I>y){var ie=y-g;e.moveTo(d,f),e.lineTo(d+Y3(ie,K),f),ie-=K,ie>0&&e.lineTo(d+K,f+Y3(ie,ue)),ie-=ue,ie>0&&e.lineTo(d+X3(K-ie,0),f+ue),ie-=K,ie>0&&e.lineTo(d,f+X3(ue-ie,0));break e}g+=I}e.rect(d,f,K,ue);break;case ci.Z:if(h){var I=p[v++];if(g+I>y){var L=(y-g)/I;e.lineTo(c*(1-L)+o*L,u*(1-L)+l*L);break e}g+=I}e.closePath(),c=o,u=l}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=ci,n.initDefaultProps=function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),n}();const D0=A9e;function _m(n,e,t,r,i,a,s){if(i===0)return!1;var o=i,l=0,c=n;if(s>e+o&&s>r+o||s<e-o&&s<r-o||a>n+o&&a>t+o||a<n-o&&a<t-o)return!1;if(n!==t)l=(e-r)/(n-t),c=(n*r-t*e)/(n-t);else return Math.abs(a-n)<=o/2;var u=l*a-s+c,d=u*u/(l*l+1);return d<=o/2*o/2}function E9e(n,e,t,r,i,a,s,o,l,c,u){if(l===0)return!1;var d=l;if(u>e+d&&u>r+d&&u>a+d&&u>o+d||u<e-d&&u<r-d&&u<a-d&&u<o-d||c>n+d&&c>t+d&&c>i+d&&c>s+d||c<n-d&&c<t-d&&c<i-d&&c<s-d)return!1;var f=GFe(n,e,t,r,i,a,s,o,c,u,null);return f<=d/2}function I9e(n,e,t,r,i,a,s,o,l){if(s===0)return!1;var c=s;if(l>e+c&&l>r+c&&l>a+c||l<e-c&&l<r-c&&l<a-c||o>n+c&&o>t+c&&o>i+c||o<n-c&&o<t-c&&o<i-c)return!1;var u=KFe(n,e,t,r,i,a,o,l,null);return u<=c/2}var gU=Math.PI*2;function Qw(n){return n%=gU,n<0&&(n+=gU),n}var h1=Math.PI*2;function R9e(n,e,t,r,i,a,s,o,l){if(s===0)return!1;var c=s;o-=n,l-=e;var u=Math.sqrt(o*o+l*l);if(u-c>t||u+c<t)return!1;if(Math.abs(r-i)%h1<1e-4)return!0;if(a){var d=r;r=Qw(i),i=Qw(d)}else r=Qw(r),i=Qw(i);r>i&&(i+=h1);var f=Math.atan2(l,o);return f<0&&(f+=h1),f>=r&&f<=i||f+h1>=r&&f+h1<=i}function ap(n,e,t,r,i,a){if(a>e&&a>r||a<e&&a<r||r===e)return 0;var s=(a-e)/(r-e),o=r<e?1:-1;(s===1||s===0)&&(o=r<e?.5:-.5);var l=s*(t-n)+n;return l===i?1/0:l>i?o:0}var sf=D0.CMD,sp=Math.PI*2,P9e=1e-4;function L9e(n,e){return Math.abs(n-e)<P9e}var Ws=[-1,-1,-1],Sl=[-1,-1];function D9e(){var n=Sl[0];Sl[0]=Sl[1],Sl[1]=n}function k9e(n,e,t,r,i,a,s,o,l,c){if(c>e&&c>r&&c>a&&c>o||c<e&&c<r&&c<a&&c<o)return 0;var u=XJ(e,r,a,o,c,Ws);if(u===0)return 0;for(var d=0,f=-1,h=void 0,p=void 0,m=0;m<u;m++){var g=Ws[m],v=g===0||g===1?.5:1,y=is(n,t,i,s,g);y<l||(f<0&&(f=jJ(e,r,a,o,Sl),Sl[1]<Sl[0]&&f>1&&D9e(),h=is(e,r,a,o,Sl[0]),f>1&&(p=is(e,r,a,o,Sl[1]))),f===2?g<Sl[0]?d+=h<e?v:-v:g<Sl[1]?d+=p<h?v:-v:d+=o<p?v:-v:g<Sl[0]?d+=h<e?v:-v:d+=o<h?v:-v)}return d}function O9e(n,e,t,r,i,a,s,o){if(o>e&&o>r&&o>a||o<e&&o<r&&o<a)return 0;var l=qFe(e,r,a,o,Ws);if(l===0)return 0;var c=ZJ(e,r,a);if(c>=0&&c<=1){for(var u=0,d=Ts(e,r,a,c),f=0;f<l;f++){var h=Ws[f]===0||Ws[f]===1?.5:1,p=Ts(n,t,i,Ws[f]);p<s||(Ws[f]<c?u+=d<e?h:-h:u+=a<d?h:-h)}return u}else{var h=Ws[0]===0||Ws[0]===1?.5:1,p=Ts(n,t,i,Ws[0]);return p<s?0:a<e?h:-h}}function N9e(n,e,t,r,i,a,s,o){if(o-=e,o>t||o<-t)return 0;var l=Math.sqrt(t*t-o*o);Ws[0]=-l,Ws[1]=l;var c=Math.abs(r-i);if(c<1e-4)return 0;if(c>=sp-1e-4){r=0,i=sp;var u=a?1:-1;return s>=Ws[0]+n&&s<=Ws[1]+n?u:0}if(r>i){var d=r;r=i,i=d}r<0&&(r+=sp,i+=sp);for(var f=0,h=0;h<2;h++){var p=Ws[h];if(p+n>s){var m=Math.atan2(o,p),u=a?1:-1;m<0&&(m=sp+m),(m>=r&&m<=i||m+sp>=r&&m+sp<=i)&&(m>Math.PI/2&&m<Math.PI*1.5&&(u=-u),f+=u)}}return f}function xee(n,e,t,r,i){for(var a=n.data,s=n.len(),o=0,l=0,c=0,u=0,d=0,f,h,p=0;p<s;){var m=a[p++],g=p===1;switch(m===sf.M&&p>1&&(t||(o+=ap(l,c,u,d,r,i))),g&&(l=a[p],c=a[p+1],u=l,d=c),m){case sf.M:u=a[p++],d=a[p++],l=u,c=d;break;case sf.L:if(t){if(_m(l,c,a[p],a[p+1],e,r,i))return!0}else o+=ap(l,c,a[p],a[p+1],r,i)||0;l=a[p++],c=a[p++];break;case sf.C:if(t){if(E9e(l,c,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],e,r,i))return!0}else o+=k9e(l,c,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],c=a[p++];break;case sf.Q:if(t){if(I9e(l,c,a[p++],a[p++],a[p],a[p+1],e,r,i))return!0}else o+=O9e(l,c,a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],c=a[p++];break;case sf.A:var v=a[p++],y=a[p++],b=a[p++],_=a[p++],w=a[p++],x=a[p++];p+=1;var M=!!(1-a[p++]);f=Math.cos(w)*b+v,h=Math.sin(w)*_+y,g?(u=f,d=h):o+=ap(l,c,f,h,r,i);var C=(r-v)*_/b+v;if(t){if(R9e(v,y,_,w,w+x,M,e,C,i))return!0}else o+=N9e(v,y,_,w,w+x,M,C,i);l=Math.cos(w+x)*b+v,c=Math.sin(w+x)*_+y;break;case sf.R:u=l=a[p++],d=c=a[p++];var T=a[p++],A=a[p++];if(f=u+T,h=d+A,t){if(_m(u,d,f,d,e,r,i)||_m(f,d,f,h,e,r,i)||_m(f,h,u,h,e,r,i)||_m(u,h,u,d,e,r,i))return!0}else o+=ap(f,d,f,h,r,i),o+=ap(u,h,u,d,r,i);break;case sf.Z:if(t){if(_m(l,c,u,d,e,r,i))return!0}else o+=ap(l,c,u,d,r,i);l=u,c=d;break}}return!t&&!L9e(c,d)&&(o+=ap(l,c,u,d,r,i)||0),o!==0}function B9e(n,e,t){return xee(n,0,!1,e,t)}function F9e(n,e,t,r){return xee(n,e,!0,t,r)}var Cee=Zi({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},h0),z9e={style:Zi({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},wA.style)},Q3=I_.concat(["invisible","culling","z","z2","zlevel","parent"]),U9e=function(n){sr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.update=function(){var t=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){t.buildPath(l,t.shape)}),i.silent=!0;var a=i.style;for(var s in r)a[s]!==r[s]&&(a[s]=r[s]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var o=0;o<Q3.length;++o)i[Q3[o]]=this[Q3[o]];i.__dirty|=qo}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var r=pa(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<r.length;a++){var s=r[a],o=t[s];s==="style"?this.style?pn(this.style,o):this.useStyle(o):s==="shape"?pn(this.shape,o):n.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(dr(t)){var r=SM(t,0);return r>.5?mP:r>.2?y7e:vP}else if(t)return vP}return mP},e.prototype.getInsideTextStroke=function(t){var r=this.style.fill;if(dr(r)){var i=this.__zr,a=!!(i&&i.isDarkMode()),s=SM(t,0)<pP;if(a===s)return r}},e.prototype.buildPath=function(t,r,i){},e.prototype.pathUpdated=function(){this.__dirty&=~wv},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new D0(!1)},e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return!(r==null||r==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,r=this.style,i=!t;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&wv)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),t=s.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||i){o.copy(t);var l=r.strokeNoScale?this.getLineScale():1,c=r.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;c=Math.max(c,u??4)}l>1e-10&&(o.width+=c/l,o.height+=c/l,o.x-=c/l/2,o.y-=c/l/2)}return o}return t},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect(),s=this.style;if(t=i[0],r=i[1],a.contain(t,r)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,c=s.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),F9e(o,l/c,t,r)))return!0}if(this.hasFill())return B9e(o,t,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=wv,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,r){t==="shape"?this.setShape(r):n.prototype.attrKV.call(this,t,r)},e.prototype.setShape=function(t,r){var i=this.shape;return i||(i=this.shape={}),typeof t=="string"?i[t]=r:pn(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&wv)},e.prototype.createStyle=function(t){return yA(Cee,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.shape&&!r.shape&&(r.shape=pn({},this.shape))},e.prototype._applyStateObj=function(t,r,i,a,s,o){n.prototype._applyStateObj.call(this,t,r,i,a,s,o);var l=!(r&&a),c;if(r&&r.shape?s?a?c=r.shape:(c=pn({},i.shape),pn(c,r.shape)):(c=pn({},a?this.shape:i.shape),pn(c,r.shape)):l&&(c=i.shape),c)if(s){this.shape=pn({},this.shape);for(var u={},d=pa(c),f=0;f<d.length;f++){var h=d[f];typeof c[h]=="object"?this.shape[h]=c[h]:u[h]=c[h]}this._transitionState(t,{shape:u},o)}else this.shape=c,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(r.shape=i),r},e.prototype.getAnimationStyleProps=function(){return z9e},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var r=function(a){sr(s,a);function s(o){var l=a.call(this,o)||this;return t.init&&t.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return ei(t.style)},s.prototype.getDefaultShape=function(){return ei(t.shape)},s}(e);for(var i in t)typeof t[i]=="function"&&(r.prototype[i]=t[i]);return r},e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=qo|X1|wv}(),e}(zS);const Fi=U9e;var H9e=Zi({strokeFirst:!0,font:L0,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Cee),Mee=function(n){sr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return r!=null&&r!=="none"&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.createStyle=function(t){return yA(H9e,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var r=t.text;r!=null?r+="":r="";var i=iee(r,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var a=t.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}(),e}(zS);Mee.prototype.type="tspan";const SP=Mee;var V9e=Zi({x:0,y:0},h0),$9e={style:Zi({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},wA.style)};function G9e(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var Tee=function(n){sr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return yA(V9e,t)},e.prototype._getSize=function(t){var r=this.style,i=r[t];if(i!=null)return i;var a=G9e(r.image)?r.image:this.__image;if(!a)return 0;var s=t==="width"?"height":"width",o=r[s];return o==null?a[t]:a[t]/a[s]*o},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return $9e},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Ai(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(zS);Tee.prototype.type="image";const Cy=Tee;function W9e(n,e){var t=e.x,r=e.y,i=e.width,a=e.height,s=e.r,o,l,c,u;i<0&&(t=t+i,i=-i),a<0&&(r=r+a,a=-a),typeof s=="number"?o=l=c=u=s:s instanceof Array?s.length===1?o=l=c=u=s[0]:s.length===2?(o=c=s[0],l=u=s[1]):s.length===3?(o=s[0],l=u=s[1],c=s[2]):(o=s[0],l=s[1],c=s[2],u=s[3]):o=l=c=u=0;var d;o+l>i&&(d=o+l,o*=i/d,l*=i/d),c+u>i&&(d=c+u,c*=i/d,u*=i/d),l+c>a&&(d=l+c,l*=a/d,c*=a/d),o+u>a&&(d=o+u,o*=a/d,u*=a/d),n.moveTo(t+o,r),n.lineTo(t+i-l,r),l!==0&&n.arc(t+i-l,r+l,l,-Math.PI/2,0),n.lineTo(t+i,r+a-c),c!==0&&n.arc(t+i-c,r+a-c,c,0,Math.PI/2),n.lineTo(t+u,r+a),u!==0&&n.arc(t+u,r+a-u,u,Math.PI/2,Math.PI),n.lineTo(t,r+o),o!==0&&n.arc(t+o,r+o,o,Math.PI,Math.PI*1.5)}var Bv=Math.round;function Aee(n,e,t){if(e){var r=e.x1,i=e.x2,a=e.y1,s=e.y2;n.x1=r,n.x2=i,n.y1=a,n.y2=s;var o=t&&t.lineWidth;return o&&(Bv(r*2)===Bv(i*2)&&(n.x1=n.x2=Yp(r,o,!0)),Bv(a*2)===Bv(s*2)&&(n.y1=n.y2=Yp(a,o,!0))),n}}function Eee(n,e,t){if(e){var r=e.x,i=e.y,a=e.width,s=e.height;n.x=r,n.y=i,n.width=a,n.height=s;var o=t&&t.lineWidth;return o&&(n.x=Yp(r,o,!0),n.y=Yp(i,o,!0),n.width=Math.max(Yp(r+a,o,!1)-n.x,a===0?0:1),n.height=Math.max(Yp(i+s,o,!1)-n.y,s===0?0:1)),n}}function Yp(n,e,t){if(!e)return n;var r=Bv(n*2);return(r+Bv(e))%2===0?r/2:(r+(t?1:-1))/2}var q9e=function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n}(),K9e={},Iee=function(n){sr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new q9e},e.prototype.buildPath=function(t,r){var i,a,s,o;if(this.subPixelOptimize){var l=Eee(K9e,r,this.style);i=l.x,a=l.y,s=l.width,o=l.height,l.r=r.r,r=l}else i=r.x,a=r.y,s=r.width,o=r.height;r.r?W9e(t,r):t.rect(i,a,s,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Fi);Iee.prototype.type="rect";const So=Iee;var yU={fill:"#000"},bU=2,Y9e={style:Zi({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},wA.style)},Ree=function(n){sr(e,n);function e(t){var r=n.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=yU,r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var r=this._children[t];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var r=this.innerTransformable;return r?r.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,J9e(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Ai(0,0,0,0),r=this._children,i=[],a=null,s=0;s<r.length;s++){var o=r[s],l=o.getBoundingRect(),c=o.getLocalTransform(i);c?(t.copy(l),t.applyTransform(c),a=a||t.clone(),a.union(t)):(a=a||l.clone(),a.union(l))}this._rect=a||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||yU},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,r){if(!r)return t;var i=r.rich,a=t.rich||i&&{};return pn(t,r),i&&a?(this._mergeRich(a,i),t.rich=a):a&&(t.rich=a),t},e.prototype._mergeRich=function(t,r){for(var i=pa(r),a=0;a<i.length;a++){var s=i[a];t[s]=t[s]||{},pn(t[s],r[s])}},e.prototype.getAnimationStyleProps=function(){return Y9e},e.prototype._getOrCreateChild=function(t){var r=this._children[this._childCursor];return(!r||!(r instanceof t))&&(r=new t),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},e.prototype._updatePlainTexts=function(){var t=this.style,r=t.font||L0,i=t.padding,a=TU(t),s=h9e(a,t),o=J3(t),l=!!t.backgroundColor,c=s.outerHeight,u=s.outerWidth,d=s.contentWidth,f=s.lines,h=s.lineHeight,p=this._defaultStyle,m=t.x||0,g=t.y||0,v=t.align||p.align||"left",y=t.verticalAlign||p.verticalAlign||"top",b=m,_=xv(g,s.contentHeight,y);if(o||i){var w=Z1(m,u,v),x=xv(g,c,y);o&&this._renderBackground(t,t,w,x,u,c)}_+=h/2,i&&(b=MU(m,v,i),y==="top"?_+=i[0]:y==="bottom"&&(_-=i[2]));for(var M=0,C=!1,T=CU("fill"in t?t.fill:(C=!0,p.fill)),A=xU("stroke"in t?t.stroke:!l&&(!p.autoStroke||C)?(M=bU,p.stroke):null),I=t.textShadowBlur>0,L=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll"),k=s.calculatedLineHeight,N=0;N<f.length;N++){var F=this._getOrCreateChild(SP),D=F.createStyle();F.useStyle(D),D.text=f[N],D.x=b,D.y=_,v&&(D.textAlign=v),D.textBaseline="middle",D.opacity=t.opacity,D.strokeFirst=!0,I&&(D.shadowBlur=t.textShadowBlur||0,D.shadowColor=t.textShadowColor||"transparent",D.shadowOffsetX=t.textShadowOffsetX||0,D.shadowOffsetY=t.textShadowOffsetY||0),D.stroke=A,D.fill=T,A&&(D.lineWidth=t.lineWidth||M,D.lineDash=t.lineDash,D.lineDashOffset=t.lineDashOffset||0),D.font=r,SU(D,t),_+=h,L&&F.setBoundingRect(new Ai(Z1(D.x,t.width,D.textAlign),xv(D.y,k,D.textBaseline),d,k))}},e.prototype._updateRichTexts=function(){var t=this.style,r=TU(t),i=v9e(r,t),a=i.width,s=i.outerWidth,o=i.outerHeight,l=t.padding,c=t.x||0,u=t.y||0,d=this._defaultStyle,f=t.align||d.align,h=t.verticalAlign||d.verticalAlign,p=Z1(c,s,f),m=xv(u,o,h),g=p,v=m;l&&(g+=l[3],v+=l[0]);var y=g+a;J3(t)&&this._renderBackground(t,t,p,m,s,o);for(var b=!!t.backgroundColor,_=0;_<i.lines.length;_++){for(var w=i.lines[_],x=w.tokens,M=x.length,C=w.lineHeight,T=w.width,A=0,I=g,L=y,k=M-1,N=void 0;A<M&&(N=x[A],!N.align||N.align==="left");)this._placeToken(N,t,C,v,I,"left",b),T-=N.width,I+=N.width,A++;for(;k>=0&&(N=x[k],N.align==="right");)this._placeToken(N,t,C,v,L,"right",b),T-=N.width,L-=N.width,k--;for(I+=(a-(I-g)-(y-L)-T)/2;A<=k;)N=x[A],this._placeToken(N,t,C,v,I+N.width/2,"center",b),I+=N.width,A++;v+=C}},e.prototype._placeToken=function(t,r,i,a,s,o,l){var c=r.rich[t.styleName]||{};c.text=t.text;var u=t.verticalAlign,d=a+i/2;u==="top"?d=a+t.height/2:u==="bottom"&&(d=a+i-t.height/2);var f=!t.isLineHolder&&J3(c);f&&this._renderBackground(c,r,o==="right"?s-t.width:o==="center"?s-t.width/2:s,d-t.height/2,t.width,t.height);var h=!!c.backgroundColor,p=t.textPadding;p&&(s=MU(s,o,p),d-=t.height/2-p[0]-t.innerHeight/2);var m=this._getOrCreateChild(SP),g=m.createStyle();m.useStyle(g);var v=this._defaultStyle,y=!1,b=0,_=CU("fill"in c?c.fill:"fill"in r?r.fill:(y=!0,v.fill)),w=xU("stroke"in c?c.stroke:"stroke"in r?r.stroke:!h&&!l&&(!v.autoStroke||y)?(b=bU,v.stroke):null),x=c.textShadowBlur>0||r.textShadowBlur>0;g.text=t.text,g.x=s,g.y=d,x&&(g.shadowBlur=c.textShadowBlur||r.textShadowBlur||0,g.shadowColor=c.textShadowColor||r.textShadowColor||"transparent",g.shadowOffsetX=c.textShadowOffsetX||r.textShadowOffsetX||0,g.shadowOffsetY=c.textShadowOffsetY||r.textShadowOffsetY||0),g.textAlign=o,g.textBaseline="middle",g.font=t.font||L0,g.opacity=vb(c.opacity,r.opacity,1),SU(g,c),w&&(g.lineWidth=vb(c.lineWidth,r.lineWidth,b),g.lineDash=Xr(c.lineDash,r.lineDash),g.lineDashOffset=r.lineDashOffset||0,g.stroke=w),_&&(g.fill=_);var M=t.contentWidth,C=t.contentHeight;m.setBoundingRect(new Ai(Z1(g.x,M,g.textAlign),xv(g.y,C,g.textBaseline),M,C))},e.prototype._renderBackground=function(t,r,i,a,s,o){var l=t.backgroundColor,c=t.borderWidth,u=t.borderColor,d=l&&l.image,f=l&&!d,h=t.borderRadius,p=this,m,g;if(f||t.lineHeight||c&&u){m=this._getOrCreateChild(So),m.useStyle(m.createStyle()),m.style.fill=null;var v=m.shape;v.x=i,v.y=a,v.width=s,v.height=o,v.r=h,m.dirtyShape()}if(f){var y=m.style;y.fill=l||null,y.fillOpacity=Xr(t.fillOpacity,1)}else if(d){g=this._getOrCreateChild(Cy),g.onload=function(){p.dirtyStyle()};var b=g.style;b.image=l.image,b.x=i,b.y=a,b.width=s,b.height=o}if(c&&u){var y=m.style;y.lineWidth=c,y.stroke=u,y.strokeOpacity=Xr(t.strokeOpacity,1),y.lineDash=t.borderDash,y.lineDashOffset=t.borderDashOffset||0,m.strokeContainThreshold=0,m.hasFill()&&m.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var _=(m||g).style;_.shadowBlur=t.shadowBlur||0,_.shadowColor=t.shadowColor||"transparent",_.shadowOffsetX=t.shadowOffsetX||0,_.shadowOffsetY=t.shadowOffsetY||0,_.opacity=vb(t.opacity,r.opacity,1)},e.makeFont=function(t){var r="";return Q9e(t)&&(r=[t.fontStyle,t.fontWeight,Z9e(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),r&&nu(r)||t.textFont||t.font},e}(zS),X9e={left:!0,right:1,center:1},j9e={top:1,bottom:1,middle:1},_U=["fontStyle","fontWeight","fontSize","fontFamily"];function Z9e(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?Hk+"px":n+"px"}function SU(n,e){for(var t=0;t<_U.length;t++){var r=_U[t],i=e[r];i!=null&&(n[r]=i)}}function Q9e(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function J9e(n){return wU(n),Mt(n.rich,wU),n}function wU(n){if(n){n.font=Ree.makeFont(n);var e=n.align;e==="middle"&&(e="center"),n.align=e==null||X9e[e]?e:"left";var t=n.verticalAlign;t==="center"&&(t="middle"),n.verticalAlign=t==null||j9e[t]?t:"top";var r=n.padding;r&&(n.padding=kJ(n.padding))}}function xU(n,e){return n==null||e<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function CU(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function MU(n,e,t){return e==="right"?n-t[1]:e==="center"?n+t[3]/2-t[1]/2:n+t[3]}function TU(n){var e=n.text;return e!=null&&(e+=""),e}function J3(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}const no=Ree;var ra=ja(),eze=function(n,e,t,r){if(r){var i=ra(r);i.dataIndex=t,i.dataType=e,i.seriesIndex=n,r.type==="group"&&r.traverse(function(a){var s=ra(a);s.seriesIndex=n,s.dataIndex=t,s.dataType=e})}},AU=1,EU={},Pee=ja(),a8=ja(),Lee=0,s8=1,o8=2,_u=["emphasis","blur","select"],MM=["normal","emphasis","blur","select"],tze=10,nze=9,p0="highlight",dC="downplay",Sb="select",fC="unselect",wb="toggleSelect";function Sm(n){return n!=null&&n!=="none"}var IU=new NS(100);function RU(n){if(dr(n)){var e=IU.get(n);return e||(e=Xz(n,-.1),IU.put(n,e)),e}else if(gA(n)){var t=pn({},n);return t.colorStops=Zr(n.colorStops,function(r){return{offset:r.offset,color:Xz(r.color,-.1)}}),t}return n}function xA(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function Dee(n){xA(n,"emphasis",o8)}function kee(n){n.hoverState===o8&&xA(n,"normal",Lee)}function l8(n){xA(n,"blur",s8)}function Oee(n){n.hoverState===s8&&xA(n,"normal",Lee)}function rze(n){n.selected=!0}function ize(n){n.selected=!1}function PU(n,e,t){e(n,t)}function Kd(n,e,t){PU(n,e,t),n.isGroup&&n.traverse(function(r){PU(r,e,t)})}function aze(n,e,t,r){for(var i=n.style,a={},s=0;s<e.length;s++){var o=e[s],l=i[o];a[o]=l??(r&&r[o])}for(var s=0;s<n.animators.length;s++){var c=n.animators[s];c.__fromStateTransition&&c.__fromStateTransition.indexOf(t)<0&&c.targetName==="style"&&c.saveTo(a,e)}return a}function sze(n,e,t,r){var i=t&&Oi(t,"select")>=0,a=!1;if(n instanceof Fi){var s=Pee(n),o=i&&s.selectFill||s.normalFill,l=i&&s.selectStroke||s.normalStroke;if(Sm(o)||Sm(l)){r=r||{};var c=r.style||{};c.fill==="inherit"?(a=!0,r=pn({},r),c=pn({},c),c.fill=o):!Sm(c.fill)&&Sm(o)?(a=!0,r=pn({},r),c=pn({},c),c.fill=RU(o)):!Sm(c.stroke)&&Sm(l)&&(a||(r=pn({},r),c=pn({},c)),c.stroke=RU(l)),r.style=c}}if(r&&r.z2==null){a||(r=pn({},r));var u=n.z2EmphasisLift;r.z2=n.z2+(u??tze)}return r}function oze(n,e,t){if(t&&t.z2==null){t=pn({},t);var r=n.z2SelectLift;t.z2=n.z2+(r??nze)}return t}function lze(n,e,t){var r=Oi(n.currentStates,e)>=0,i=n.style.opacity,a=r?null:aze(n,["opacity"],e,{opacity:1});t=t||{};var s=t.style||{};return s.opacity==null&&(t=pn({},t),s=pn({opacity:r?i:a.opacity*.1},s),t.style=s),t}function e4(n,e){var t=this.states[n];if(this.style){if(n==="emphasis")return sze(this,n,e,t);if(n==="blur")return lze(this,n,t);if(n==="select")return oze(this,n,t)}return t}function cze(n){n.stateProxy=e4;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=e4),t&&(t.stateProxy=e4)}function LU(n,e){!zee(n,e)&&!n.__highByOuter&&Kd(n,Dee)}function DU(n,e){!zee(n,e)&&!n.__highByOuter&&Kd(n,kee)}function wP(n,e){n.__highByOuter|=1<<(e||0),Kd(n,Dee)}function xP(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&Kd(n,kee)}function uze(n){Kd(n,l8)}function Nee(n){Kd(n,Oee)}function Bee(n){Kd(n,rze)}function Fee(n){Kd(n,ize)}function zee(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function Uee(n){var e=n.getModel(),t=[],r=[];e.eachComponent(function(i,a){var s=a8(a),o=i==="series",l=o?n.getViewOfSeriesModel(a):n.getViewOfComponentModel(a);!o&&r.push(l),s.isBlured&&(l.group.traverse(function(c){Oee(c)}),o&&t.push(a)),s.isBlured=!1}),Mt(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(t,!1,e)})}function CP(n,e,t,r){var i=r.getModel();t=t||"coordinateSystem";function a(c,u){for(var d=0;d<u.length;d++){var f=c.getItemGraphicEl(u[d]);f&&Nee(f)}}if(n!=null&&!(!e||e==="none")){var s=i.getSeriesByIndex(n),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];i.eachSeries(function(c){var u=s===c,d=c.coordinateSystem;d&&d.master&&(d=d.master);var f=d&&o?d===o:u;if(!(t==="series"&&!u||t==="coordinateSystem"&&!f||e==="series"&&u)){var h=r.getViewOfSeriesModel(c);if(h.group.traverse(function(g){g.__highByOuter&&u&&e==="self"||l8(g)}),Ao(e))a(c.getData(),e);else if(fr(e))for(var p=pa(e),m=0;m<p.length;m++)a(c.getData(p[m]),e[p[m]]);l.push(c),a8(c).isBlured=!0}}),i.eachComponent(function(c,u){if(c!=="series"){var d=r.getViewOfComponentModel(u);d&&d.toggleBlurSeries&&d.toggleBlurSeries(l,!0,i)}})}}function MP(n,e,t){if(!(n==null||e==null)){var r=t.getModel().getComponent(n,e);if(r){a8(r).isBlured=!0;var i=t.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(a){l8(a)})}}}function dze(n,e,t){var r=n.seriesIndex,i=n.getData(e.dataType);if(i){var a=BS(i,e);a=(Zn(a)?a[0]:a)||0;var s=i.getItemGraphicEl(a);if(!s)for(var o=i.count(),l=0;!s&&l<o;)s=i.getItemGraphicEl(l++);if(s){var c=ra(s);CP(r,c.focus,c.blurScope,t)}else{var u=n.get(["emphasis","focus"]),d=n.get(["emphasis","blurScope"]);u!=null&&CP(r,u,d,t)}}}function c8(n,e,t,r){var i={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||e==null||t==null)return i;var a=r.getModel().getComponent(n,e);if(!a)return i;var s=r.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return i;for(var o=s.findHighDownDispatchers(t),l,c=0;c<o.length;c++)if(ra(o[c]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function fze(n,e,t){var r=ra(n),i=c8(r.componentMainType,r.componentIndex,r.componentHighDownName,t),a=i.dispatchers,s=i.focusSelf;a?(s&&MP(r.componentMainType,r.componentIndex,t),Mt(a,function(o){return LU(o,e)})):(CP(r.seriesIndex,r.focus,r.blurScope,t),r.focus==="self"&&MP(r.componentMainType,r.componentIndex,t),LU(n,e))}function hze(n,e,t){Uee(t);var r=ra(n),i=c8(r.componentMainType,r.componentIndex,r.componentHighDownName,t).dispatchers;i?Mt(i,function(a){return DU(a,e)}):DU(n,e)}function pze(n,e,t){if(EP(e)){var r=e.dataType,i=n.getData(r),a=BS(i,e);Zn(a)||(a=[a]),n[e.type===wb?"toggleSelect":e.type===Sb?"select":"unselect"](a,r)}}function kU(n){var e=n.getAllData();Mt(e,function(t){var r=t.data,i=t.type;r.eachItemGraphicEl(function(a,s){n.isSelected(s,i)?Bee(a):Fee(a)})})}function mze(n){var e=[];return n.eachSeries(function(t){var r=t.getAllData();Mt(r,function(i){i.data;var a=i.type,s=t.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:t.seriesIndex};a!=null&&(o.dataType=a),e.push(o)}})}),e}function TP(n,e,t){Hee(n,!0),Kd(n,cze),yze(n,e,t)}function vze(n){Hee(n,!1)}function gze(n,e,t,r){r?vze(n):TP(n,e,t)}function yze(n,e,t){var r=ra(n);e!=null?(r.focus=e,r.blurScope=t):r.focus&&(r.focus=null)}var OU=["emphasis","blur","select"],bze={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function _ze(n,e,t,r){t=t||"itemStyle";for(var i=0;i<OU.length;i++){var a=OU[i],s=e.getModel([a,t]),o=n.ensureState(a);o.style=r?r(s):s[bze[t]]()}}function Hee(n,e){var t=e===!1,r=n;n.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!t)}function AP(n){return!!(n&&n.__highDownDispatcher)}function Sze(n){var e=EU[n];return e==null&&AU<=32&&(e=EU[n]=AU++),e}function EP(n){var e=n.type;return e===Sb||e===fC||e===wb}function NU(n){var e=n.type;return e===p0||e===dC}function wze(n){var e=Pee(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var wm=D0.CMD,xze=[[],[],[]],BU=Math.sqrt,Cze=Math.atan2;function Mze(n,e){if(e){var t=n.data,r=n.len(),i,a,s,o,l,c,u=wm.M,d=wm.C,f=wm.L,h=wm.R,p=wm.A,m=wm.Q;for(s=0,o=0;s<r;){switch(i=t[s++],o=s,a=0,i){case u:a=1;break;case f:a=1;break;case d:a=3;break;case m:a=2;break;case p:var g=e[4],v=e[5],y=BU(e[0]*e[0]+e[1]*e[1]),b=BU(e[2]*e[2]+e[3]*e[3]),_=Cze(-e[1]/b,e[0]/y);t[s]*=y,t[s++]+=g,t[s]*=b,t[s++]+=v,t[s++]*=y,t[s++]*=b,t[s++]+=_,t[s++]+=_,s+=2,o=s;break;case h:c[0]=t[s++],c[1]=t[s++],du(c,c,e),t[o++]=c[0],t[o++]=c[1],c[0]+=t[s++],c[1]+=t[s++],du(c,c,e),t[o++]=c[0],t[o++]=c[1]}for(l=0;l<a;l++){var w=xze[l];w[0]=t[s++],w[1]=t[s++],du(w,w,e),t[o++]=w[0],t[o++]=w[1]}}n.increaseVersion()}}var t4=Math.sqrt,Jw=Math.sin,ex=Math.cos,p1=Math.PI;function FU(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function IP(n,e){return(n[0]*e[0]+n[1]*e[1])/(FU(n)*FU(e))}function zU(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(IP(n,e))}function UU(n,e,t,r,i,a,s,o,l,c,u){var d=l*(p1/180),f=ex(d)*(n-t)/2+Jw(d)*(e-r)/2,h=-1*Jw(d)*(n-t)/2+ex(d)*(e-r)/2,p=f*f/(s*s)+h*h/(o*o);p>1&&(s*=t4(p),o*=t4(p));var m=(i===a?-1:1)*t4((s*s*(o*o)-s*s*(h*h)-o*o*(f*f))/(s*s*(h*h)+o*o*(f*f)))||0,g=m*s*h/o,v=m*-o*f/s,y=(n+t)/2+ex(d)*g-Jw(d)*v,b=(e+r)/2+Jw(d)*g+ex(d)*v,_=zU([1,0],[(f-g)/s,(h-v)/o]),w=[(f-g)/s,(h-v)/o],x=[(-1*f-g)/s,(-1*h-v)/o],M=zU(w,x);if(IP(w,x)<=-1&&(M=p1),IP(w,x)>=1&&(M=0),M<0){var C=Math.round(M/p1*1e6)/1e6;M=p1*2+C%2*p1}u.addData(c,y,b,s,o,_,M,d,a)}var Tze=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,Aze=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Eze(n){var e=new D0;if(!n)return e;var t=0,r=0,i=t,a=r,s,o=D0.CMD,l=n.match(Tze);if(!l)return e;for(var c=0;c<l.length;c++){for(var u=l[c],d=u.charAt(0),f=void 0,h=u.match(Aze)||[],p=h.length,m=0;m<p;m++)h[m]=parseFloat(h[m]);for(var g=0;g<p;){var v=void 0,y=void 0,b=void 0,_=void 0,w=void 0,x=void 0,M=void 0,C=t,T=r,A=void 0,I=void 0;switch(d){case"l":t+=h[g++],r+=h[g++],f=o.L,e.addData(f,t,r);break;case"L":t=h[g++],r=h[g++],f=o.L,e.addData(f,t,r);break;case"m":t+=h[g++],r+=h[g++],f=o.M,e.addData(f,t,r),i=t,a=r,d="l";break;case"M":t=h[g++],r=h[g++],f=o.M,e.addData(f,t,r),i=t,a=r,d="L";break;case"h":t+=h[g++],f=o.L,e.addData(f,t,r);break;case"H":t=h[g++],f=o.L,e.addData(f,t,r);break;case"v":r+=h[g++],f=o.L,e.addData(f,t,r);break;case"V":r=h[g++],f=o.L,e.addData(f,t,r);break;case"C":f=o.C,e.addData(f,h[g++],h[g++],h[g++],h[g++],h[g++],h[g++]),t=h[g-2],r=h[g-1];break;case"c":f=o.C,e.addData(f,h[g++]+t,h[g++]+r,h[g++]+t,h[g++]+r,h[g++]+t,h[g++]+r),t+=h[g-2],r+=h[g-1];break;case"S":v=t,y=r,A=e.len(),I=e.data,s===o.C&&(v+=t-I[A-4],y+=r-I[A-3]),f=o.C,C=h[g++],T=h[g++],t=h[g++],r=h[g++],e.addData(f,v,y,C,T,t,r);break;case"s":v=t,y=r,A=e.len(),I=e.data,s===o.C&&(v+=t-I[A-4],y+=r-I[A-3]),f=o.C,C=t+h[g++],T=r+h[g++],t+=h[g++],r+=h[g++],e.addData(f,v,y,C,T,t,r);break;case"Q":C=h[g++],T=h[g++],t=h[g++],r=h[g++],f=o.Q,e.addData(f,C,T,t,r);break;case"q":C=h[g++]+t,T=h[g++]+r,t+=h[g++],r+=h[g++],f=o.Q,e.addData(f,C,T,t,r);break;case"T":v=t,y=r,A=e.len(),I=e.data,s===o.Q&&(v+=t-I[A-4],y+=r-I[A-3]),t=h[g++],r=h[g++],f=o.Q,e.addData(f,v,y,t,r);break;case"t":v=t,y=r,A=e.len(),I=e.data,s===o.Q&&(v+=t-I[A-4],y+=r-I[A-3]),t+=h[g++],r+=h[g++],f=o.Q,e.addData(f,v,y,t,r);break;case"A":b=h[g++],_=h[g++],w=h[g++],x=h[g++],M=h[g++],C=t,T=r,t=h[g++],r=h[g++],f=o.A,UU(C,T,t,r,x,M,b,_,w,f,e);break;case"a":b=h[g++],_=h[g++],w=h[g++],x=h[g++],M=h[g++],C=t,T=r,t+=h[g++],r+=h[g++],f=o.A,UU(C,T,t,r,x,M,b,_,w,f,e);break}}(d==="z"||d==="Z")&&(f=o.Z,e.addData(f),t=i,r=a),s=f}return e.toStatic(),e}var Vee=function(n){sr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e}(Fi);function $ee(n){return n.setData!=null}function Gee(n,e){var t=Eze(n),r=pn({},e);return r.buildPath=function(i){if($ee(i)){i.setData(t.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;t.rebuildPath(a,1)}},r.applyTransform=function(i){Mze(t,i),this.dirtyShape()},r}function Ize(n,e){return new Vee(Gee(n,e))}function Rze(n,e){var t=Gee(n,e),r=function(i){sr(a,i);function a(s){var o=i.call(this,s)||this;return o.applyTransform=t.applyTransform,o.buildPath=t.buildPath,o}return a}(Vee);return r}function Pze(n,e){for(var t=[],r=n.length,i=0;i<r;i++){var a=n[i];t.push(a.getUpdatedPathProxy(!0))}var s=new Fi(e);return s.createPathProxy(),s.buildPath=function(o){if($ee(o)){o.appendPath(t);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}var Lze=function(){function n(){this.cx=0,this.cy=0,this.r=0}return n}(),Wee=function(n){sr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Lze},e.prototype.buildPath=function(t,r){t.moveTo(r.cx+r.r,r.cy),t.arc(r.cx,r.cy,r.r,0,Math.PI*2)},e}(Fi);Wee.prototype.type="circle";const u8=Wee;var Dze=function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n}(),qee=function(n){sr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Dze},e.prototype.buildPath=function(t,r){var i=.5522848,a=r.cx,s=r.cy,o=r.rx,l=r.ry,c=o*i,u=l*i;t.moveTo(a-o,s),t.bezierCurveTo(a-o,s-u,a-c,s-l,a,s-l),t.bezierCurveTo(a+c,s-l,a+o,s-u,a+o,s),t.bezierCurveTo(a+o,s+u,a+c,s+l,a,s+l),t.bezierCurveTo(a-c,s+l,a-o,s+u,a-o,s),t.closePath()},e}(Fi);qee.prototype.type="ellipse";const Kee=qee;var Yee=Math.PI,n4=Yee*2,op=Math.sin,xm=Math.cos,kze=Math.acos,vs=Math.atan2,HU=Math.abs,xb=Math.sqrt,Q1=Math.max,Gc=Math.min,cc=1e-4;function Oze(n,e,t,r,i,a,s,o){var l=t-n,c=r-e,u=s-i,d=o-a,f=d*l-u*c;if(!(f*f<cc))return f=(u*(e-a)-d*(n-i))/f,[n+f*l,e+f*c]}function tx(n,e,t,r,i,a,s){var o=n-t,l=e-r,c=(s?a:-a)/xb(o*o+l*l),u=c*l,d=-c*o,f=n+u,h=e+d,p=t+u,m=r+d,g=(f+p)/2,v=(h+m)/2,y=p-f,b=m-h,_=y*y+b*b,w=i-a,x=f*m-p*h,M=(b<0?-1:1)*xb(Q1(0,w*w*_-x*x)),C=(x*b-y*M)/_,T=(-x*y-b*M)/_,A=(x*b+y*M)/_,I=(-x*y+b*M)/_,L=C-g,k=T-v,N=A-g,F=I-v;return L*L+k*k>N*N+F*F&&(C=A,T=I),{cx:C,cy:T,x0:-u,y0:-d,x1:C*(i/w-1),y1:T*(i/w-1)}}function Nze(n){var e;if(Zn(n)){var t=n.length;if(!t)return n;t===1?e=[n[0],n[0],0,0]:t===2?e=[n[0],n[0],n[1],n[1]]:t===3?e=n.concat(n[2]):e=n}else e=[n,n,n,n];return e}function Bze(n,e){var t,r=Q1(e.r,0),i=Q1(e.r0||0,0),a=r>0,s=i>0;if(!(!a&&!s)){if(a||(r=i,i=0),i>r){var o=r;r=i,i=o}var l=e.startAngle,c=e.endAngle;if(!(isNaN(l)||isNaN(c))){var u=e.cx,d=e.cy,f=!!e.clockwise,h=HU(c-l),p=h>n4&&h%n4;if(p>cc&&(h=p),!(r>cc))n.moveTo(u,d);else if(h>n4-cc)n.moveTo(u+r*xm(l),d+r*op(l)),n.arc(u,d,r,l,c,!f),i>cc&&(n.moveTo(u+i*xm(c),d+i*op(c)),n.arc(u,d,i,c,l,f));else{var m=void 0,g=void 0,v=void 0,y=void 0,b=void 0,_=void 0,w=void 0,x=void 0,M=void 0,C=void 0,T=void 0,A=void 0,I=void 0,L=void 0,k=void 0,N=void 0,F=r*xm(l),D=r*op(l),H=i*xm(c),z=i*op(c),B=h>cc;if(B){var W=e.cornerRadius;W&&(t=Nze(W),m=t[0],g=t[1],v=t[2],y=t[3]);var Z=HU(r-i)/2;if(b=Gc(Z,v),_=Gc(Z,y),w=Gc(Z,m),x=Gc(Z,g),T=M=Q1(b,_),A=C=Q1(w,x),(M>cc||C>cc)&&(I=r*xm(c),L=r*op(c),k=i*xm(l),N=i*op(l),h<Yee)){var ee=Oze(F,D,k,N,I,L,H,z);if(ee){var J=F-ee[0],re=D-ee[1],fe=I-ee[0],de=L-ee[1],me=1/op(kze((J*fe+re*de)/(xb(J*J+re*re)*xb(fe*fe+de*de)))/2),Re=xb(ee[0]*ee[0]+ee[1]*ee[1]);T=Gc(M,(r-Re)/(me+1)),A=Gc(C,(i-Re)/(me-1))}}}if(!B)n.moveTo(u+F,d+D);else if(T>cc){var De=Gc(v,T),Ge=Gc(y,T),We=tx(k,N,F,D,r,De,f),K=tx(I,L,H,z,r,Ge,f);n.moveTo(u+We.cx+We.x0,d+We.cy+We.y0),T<M&&De===Ge?n.arc(u+We.cx,d+We.cy,T,vs(We.y0,We.x0),vs(K.y0,K.x0),!f):(De>0&&n.arc(u+We.cx,d+We.cy,De,vs(We.y0,We.x0),vs(We.y1,We.x1),!f),n.arc(u,d,r,vs(We.cy+We.y1,We.cx+We.x1),vs(K.cy+K.y1,K.cx+K.x1),!f),Ge>0&&n.arc(u+K.cx,d+K.cy,Ge,vs(K.y1,K.x1),vs(K.y0,K.x0),!f))}else n.moveTo(u+F,d+D),n.arc(u,d,r,l,c,!f);if(!(i>cc)||!B)n.lineTo(u+H,d+z);else if(A>cc){var De=Gc(m,A),Ge=Gc(g,A),We=tx(H,z,I,L,i,-Ge,f),K=tx(F,D,k,N,i,-De,f);n.lineTo(u+We.cx+We.x0,d+We.cy+We.y0),A<C&&De===Ge?n.arc(u+We.cx,d+We.cy,A,vs(We.y0,We.x0),vs(K.y0,K.x0),!f):(Ge>0&&n.arc(u+We.cx,d+We.cy,Ge,vs(We.y0,We.x0),vs(We.y1,We.x1),!f),n.arc(u,d,i,vs(We.cy+We.y1,We.cx+We.x1),vs(K.cy+K.y1,K.cx+K.x1),f),De>0&&n.arc(u+K.cx,d+K.cy,De,vs(K.y1,K.x1),vs(K.y0,K.x0),!f))}else n.lineTo(u+H,d+z),n.arc(u,d,i,c,l,f)}n.closePath()}}}var Fze=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n}(),Xee=function(n){sr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Fze},e.prototype.buildPath=function(t,r){Bze(t,r)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Fi);Xee.prototype.type="sector";const CA=Xee;var zze=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n}(),jee=function(n){sr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new zze},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,s=Math.PI*2;t.moveTo(i+r.r,a),t.arc(i,a,r.r,0,s,!1),t.moveTo(i+r.r0,a),t.arc(i,a,r.r0,0,s,!0)},e}(Fi);jee.prototype.type="ring";const Zee=jee;function Uze(n,e,t,r){var i=[],a=[],s=[],o=[],l,c,u,d;if(r){u=[1/0,1/0],d=[-1/0,-1/0];for(var f=0,h=n.length;f<h;f++)kv(u,u,n[f]),Ov(d,d,n[f]);kv(u,u,r[0]),Ov(d,d,r[1])}for(var f=0,h=n.length;f<h;f++){var p=n[f];if(t)l=n[f?f-1:h-1],c=n[(f+1)%h];else if(f===0||f===h-1){i.push(oFe(n[f]));continue}else l=n[f-1],c=n[f+1];lFe(a,c,l),b3(a,a,e);var m=tP(p,l),g=tP(p,c),v=m+g;v!==0&&(m/=v,g/=v),b3(s,a,-m),b3(o,a,g);var y=Dz([],p,s),b=Dz([],p,o);r&&(Ov(y,y,u),kv(y,y,d),Ov(b,b,u),kv(b,b,d)),i.push(y),i.push(b)}return t&&i.push(i.shift()),i}function Qee(n,e,t){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var a=Uze(i,r,t,e.smoothConstraint);n.moveTo(i[0][0],i[0][1]);for(var s=i.length,o=0;o<(t?s:s-1);o++){var l=a[o*2],c=a[o*2+1],u=i[(o+1)%s];n.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{n.moveTo(i[0][0],i[0][1]);for(var o=1,d=i.length;o<d;o++)n.lineTo(i[o][0],i[o][1])}t&&n.closePath()}}var Hze=function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n}(),Jee=function(n){sr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Hze},e.prototype.buildPath=function(t,r){Qee(t,r,!0)},e}(Fi);Jee.prototype.type="polygon";const ete=Jee;var Vze=function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n}(),tte=function(n){sr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Vze},e.prototype.buildPath=function(t,r){Qee(t,r,!1)},e}(Fi);tte.prototype.type="polyline";const MA=tte;var $ze={},Gze=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),nte=function(n){sr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Gze},e.prototype.buildPath=function(t,r){var i,a,s,o;if(this.subPixelOptimize){var l=Aee($ze,r,this.style);i=l.x1,a=l.y1,s=l.x2,o=l.y2}else i=r.x1,a=r.y1,s=r.x2,o=r.y2;var c=r.percent;c!==0&&(t.moveTo(i,a),c<1&&(s=i*(1-c)+s*c,o=a*(1-c)+o*c),t.lineTo(s,o))},e.prototype.pointAt=function(t){var r=this.shape;return[r.x1*(1-t)+r.x2*t,r.y1*(1-t)+r.y2*t]},e}(Fi);nte.prototype.type="line";const US=nte;var oo=[],Wze=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n}();function VU(n,e,t){var r=n.cpx2,i=n.cpy2;return r!=null||i!=null?[(t?Gz:is)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?Gz:is)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?Wz:Ts)(n.x1,n.cpx1,n.x2,e),(t?Wz:Ts)(n.y1,n.cpy1,n.y2,e)]}var rte=function(n){sr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Wze},e.prototype.buildPath=function(t,r){var i=r.x1,a=r.y1,s=r.x2,o=r.y2,l=r.cpx1,c=r.cpy1,u=r.cpx2,d=r.cpy2,f=r.percent;f!==0&&(t.moveTo(i,a),u==null||d==null?(f<1&&(_M(i,l,s,f,oo),l=oo[1],s=oo[2],_M(a,c,o,f,oo),c=oo[1],o=oo[2]),t.quadraticCurveTo(l,c,s,o)):(f<1&&(bM(i,l,u,s,f,oo),l=oo[1],u=oo[2],s=oo[3],bM(a,c,d,o,f,oo),c=oo[1],d=oo[2],o=oo[3]),t.bezierCurveTo(l,c,u,d,s,o)))},e.prototype.pointAt=function(t){return VU(this.shape,t,!1)},e.prototype.tangentAt=function(t){var r=VU(this.shape,t,!0);return dFe(r,r)},e}(Fi);rte.prototype.type="bezier-curve";const ite=rte;var qze=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),ate=function(n){sr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new qze},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,s=Math.max(r.r,0),o=r.startAngle,l=r.endAngle,c=r.clockwise,u=Math.cos(o),d=Math.sin(o);t.moveTo(u*s+i,d*s+a),t.arc(i,a,s,o,l,!c)},e}(Fi);ate.prototype.type="arc";const d8=ate;var Kze=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,r=this.shapeChanged(),i=0;i<t.length;i++)r=r||t[i].shapeChanged();r&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(r[0],r[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,r){for(var i=r.paths||[],a=0;a<i.length;a++)i[a].buildPath(t,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],r=0;r<t.length;r++)t[r].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Fi.prototype.getBoundingRect.call(this)},e}(Fi);const Yze=Kze;var Xze=function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n}();const ste=Xze;var jze=function(n){sr(e,n);function e(t,r,i,a,s,o){var l=n.call(this,s)||this;return l.x=t??0,l.y=r??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=o||!1,l}return e}(ste);const Zze=jze;var Qze=function(n){sr(e,n);function e(t,r,i,a,s){var o=n.call(this,a)||this;return o.x=t??.5,o.y=r??.5,o.r=i??.5,o.type="radial",o.global=s||!1,o}return e}(ste);const Jze=Qze;var lp=[0,0],cp=[0,0],nx=new mr,rx=new mr,eUe=function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new mr;for(var r=0;r<2;r++)this._axes[r]=new mr;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var r=this._corners,i=this._axes,a=e.x,s=e.y,o=a+e.width,l=s+e.height;if(r[0].set(a,s),r[1].set(o,s),r[2].set(o,l),r[3].set(a,l),t)for(var c=0;c<4;c++)r[c].transform(t);mr.sub(i[0],r[1],r[0]),mr.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var c=0;c<2;c++)this._origin[c]=i[c].dot(r[0])},n.prototype.intersect=function(e,t){var r=!0,i=!t;return nx.set(1/0,1/0),rx.set(0,0),!this._intersectCheckOneSide(this,e,nx,rx,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(e,this,nx,rx,i,-1)&&(r=!1,i)||i||mr.copy(t,r?nx:rx),r},n.prototype._intersectCheckOneSide=function(e,t,r,i,a,s){for(var o=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,lp),this._getProjMinMaxOnAxis(l,t._corners,cp),lp[1]<cp[0]||lp[0]>cp[1]){if(o=!1,a)return o;var u=Math.abs(cp[0]-lp[1]),d=Math.abs(lp[0]-cp[1]);Math.min(u,d)>i.len()&&(u<d?mr.scale(i,c,-u*s):mr.scale(i,c,d*s))}else if(r){var u=Math.abs(cp[0]-lp[1]),d=Math.abs(lp[0]-cp[1]);Math.min(u,d)<r.len()&&(u<d?mr.scale(r,c,u*s):mr.scale(r,c,-d*s))}}return o},n.prototype._getProjMinMaxOnAxis=function(e,t,r){for(var i=this._axes[e],a=this._origin,s=t[0].dot(i)+a[e],o=s,l=s,c=1;c<t.length;c++){var u=t[c].dot(i)+a[e];o=Math.min(u,o),l=Math.max(u,l)}r[0]=o,r[1]=l},n}();const TM=eUe;var tUe=[],nUe=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,r){r?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,r){r=r||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],r)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var r=this._cursor;r<this._displayables.length;r++)t&&t(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)t&&t(this._temporaryDisplayables[r])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var r=this._displayables[t];r.parent=this,r.update(),r.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var r=this._temporaryDisplayables[t];r.parent=this,r.update(),r.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Ai(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(tUe)),t.union(a)}this._rect=t}return this._rect},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(t,r))return!0}return!1},e}(zS);const rUe=nUe;var iUe=ja();function aUe(n,e,t,r,i){var a;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();a=s&&s.animation}var o=e&&e.isAnimationEnabled(),l=n==="update";if(o){var c=void 0,u=void 0,d=void 0;r?(c=Xr(r.duration,200),u=Xr(r.easing,"cubicOut"),d=0):(c=e.getShallow(l?"animationDurationUpdate":"animationDuration"),u=e.getShallow(l?"animationEasingUpdate":"animationEasing"),d=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(c=a.duration),a.easing!=null&&(u=a.easing),a.delay!=null&&(d=a.delay)),gi(d)&&(d=d(t,i)),gi(c)&&(c=c(t));var f={duration:c||0,delay:d,easing:u};return f}else return null}function f8(n,e,t,r,i,a,s){var o=!1,l;gi(i)?(s=a,a=i,i=null):fr(i)&&(a=i.cb,s=i.during,o=i.isFrom,l=i.removeOpt,i=i.dataIndex);var c=n==="leave";c||e.stopAnimation("leave");var u=aUe(n,r,i,c?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(u&&u.duration>0){var d=u.duration,f=u.delay,h=u.easing,p={duration:d,delay:f||0,easing:h,done:a,force:!!a||!!s,setToFinal:!c,scope:n,during:s};o?e.animateFrom(t,p):e.animateTo(t,p)}else e.stopAnimation(),!o&&e.attr(t),s&&s(1),a&&a()}function Hg(n,e,t,r,i,a){f8("update",n,e,t,r,i,a)}function hC(n,e,t,r,i,a){f8("enter",n,e,t,r,i,a)}function Cb(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++){var t=n.animators[e];if(t.scope==="leave")return!0}return!1}function ote(n,e,t,r,i,a){Cb(n)||f8("leave",n,e,t,r,i,a)}function $U(n,e,t,r){n.removeTextContent(),n.removeTextGuideLine(),ote(n,{style:{opacity:0}},e,t,r)}function lte(n,e,t){function r(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(i){i.isGroup||$U(i,e,t,r)}):$U(n,e,t,r)}function sUe(n){iUe(n).oldStyle=n.style}var AM=Math.max,EM=Math.min,RP={};function oUe(n){return Fi.extend(n)}var lUe=Rze;function cUe(n,e){return lUe(n,e)}function Lc(n,e){RP[n]=e}function uUe(n){if(RP.hasOwnProperty(n))return RP[n]}function h8(n,e,t,r){var i=Ize(n,e);return t&&(r==="center"&&(t=ute(t,i.getBoundingRect())),dte(i,t)),i}function cte(n,e,t){var r=new Cy({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(t==="center"){var a={width:i.width,height:i.height};r.setStyle(ute(e,a))}}});return r}function ute(n,e){var t=e.width/e.height,r=n.height*t,i;r<=n.width?i=n.height:(r=n.width,i=r/t);var a=n.x+n.width/2,s=n.y+n.height/2;return{x:a-r/2,y:s-i/2,width:r,height:i}}var dUe=Pze;function dte(n,e){if(n.applyTransform){var t=n.getBoundingRect(),r=t.calculateTransform(e);n.applyTransform(r)}}function p8(n,e){return Aee(n,n,{lineWidth:e}),n}function fUe(n){return Eee(n.shape,n.shape,n.style),n}var hUe=Yp;function pUe(n,e){for(var t=Kk([]);n&&n!==e;)ag(t,n.getLocalTransform(),t),n=n.parent;return t}function m8(n,e,t){return e&&!Ao(e)&&(e=Zk.getLocalTransform(e)),t&&(e=UJ([],e)),du([],n,e)}function mUe(n,e,t){var r=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[n==="left"?-r:n==="right"?r:0,n==="top"?-i:n==="bottom"?i:0];return a=m8(a,e,t),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function GU(n){return!n.isGroup}function vUe(n){return n.shape!=null}function gUe(n,e,t){if(!n||!e)return;function r(s){var o={};return s.traverse(function(l){GU(l)&&l.anid&&(o[l.anid]=l)}),o}function i(s){var o={x:s.x,y:s.y,rotation:s.rotation};return vUe(s)&&(o.shape=pn({},s.shape)),o}var a=r(n);e.traverse(function(s){if(GU(s)&&s.anid){var o=a[s.anid];if(o){var l=i(s);s.attr(i(o)),Hg(s,l,t,ra(s).dataIndex)}}})}function yUe(n,e){return Zr(n,function(t){var r=t[0];r=AM(r,e.x),r=EM(r,e.x+e.width);var i=t[1];return i=AM(i,e.y),i=EM(i,e.y+e.height),[r,i]})}function bUe(n,e){var t=AM(n.x,e.x),r=EM(n.x+n.width,e.x+e.width),i=AM(n.y,e.y),a=EM(n.y+n.height,e.y+e.height);if(r>=t&&a>=i)return{x:t,y:i,width:r-t,height:a-i}}function v8(n,e,t){var r=pn({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(i.image=n.slice(8),Zi(i,t),new Cy(r)):h8(n.replace("path://",""),r,t,"center")}function _Ue(n,e,t,r,i){for(var a=0,s=i[i.length-1];a<i.length;a++){var o=i[a];if(fte(n,e,t,r,o[0],o[1],s[0],s[1]))return!0;s=o}}function fte(n,e,t,r,i,a,s,o){var l=t-n,c=r-e,u=s-i,d=o-a,f=r4(u,d,l,c);if(SUe(f))return!1;var h=n-i,p=e-a,m=r4(h,p,l,c)/f;if(m<0||m>1)return!1;var g=r4(h,p,u,d)/f;return!(g<0||g>1)}function r4(n,e,t,r){return n*r-t*e}function SUe(n){return n<=1e-6&&n>=-1e-6}function g8(n){var e=n.itemTooltipOption,t=n.componentModel,r=n.itemName,i=dr(e)?{formatter:e}:e,a=t.mainType,s=t.componentIndex,o={componentType:a,name:r,$vars:["name"]};o[a+"Index"]=s;var l=n.formatterParamsExtra;l&&Mt(pa(l),function(u){zg(o,u)||(o[u]=l[u],o.$vars.push(u))});var c=ra(n.el);c.componentMainType=a,c.componentIndex=s,c.tooltipConfig={name:r,option:Zi({content:r,formatterParams:o},i)}}function WU(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function hte(n,e){if(n)if(Zn(n))for(var t=0;t<n.length;t++)WU(n[t],e);else WU(n,e)}Lc("circle",u8);Lc("ellipse",Kee);Lc("sector",CA);Lc("ring",Zee);Lc("polygon",ete);Lc("polyline",MA);Lc("rect",So);Lc("line",US);Lc("bezierCurve",ite);Lc("arc",d8);const wUe=Object.freeze(Object.defineProperty({__proto__:null,Arc:d8,BezierCurve:ite,BoundingRect:Ai,Circle:u8,CompoundPath:Yze,Ellipse:Kee,Group:bu,Image:Cy,IncrementalDisplayable:rUe,Line:US,LinearGradient:Zze,OrientedBoundingRect:TM,Path:Fi,Point:mr,Polygon:ete,Polyline:MA,RadialGradient:Jze,Rect:So,Ring:Zee,Sector:CA,Text:no,applyTransform:m8,clipPointsByRect:yUe,clipRectByRect:bUe,createIcon:v8,extendPath:cUe,extendShape:oUe,getShapeClass:uUe,getTransform:pUe,groupTransition:gUe,initProps:hC,isElementRemoved:Cb,lineLineIntersect:fte,linePolygonIntersect:_Ue,makeImage:cte,makePath:h8,mergePath:dUe,registerShape:Lc,removeElement:ote,removeElementWithFadeOut:lte,resizePath:dte,setTooltipConfig:g8,subPixelOptimize:hUe,subPixelOptimizeLine:p8,subPixelOptimizeRect:fUe,transformDirection:mUe,traverseElements:hte,updateProps:Hg},Symbol.toStringTag,{value:"Module"}));var TA={};function xUe(n,e){for(var t=0;t<_u.length;t++){var r=_u[t],i=e[r],a=n.ensureState(r);a.style=a.style||{},a.style.text=i}var s=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(s,!0)}function qU(n,e,t){var r=n.labelFetcher,i=n.labelDataIndex,a=n.labelDimIndex,s=e.normal,o;r&&(o=r.getFormattedLabel(i,"normal",null,a,s&&s.get("formatter"),t!=null?{interpolatedValue:t}:null)),o==null&&(o=gi(n.defaultText)?n.defaultText(i,n,t):n.defaultText);for(var l={normal:o},c=0;c<_u.length;c++){var u=_u[c],d=e[u];l[u]=Xr(r?r.getFormattedLabel(i,u,null,a,d&&d.get("formatter")):null,o)}return l}function pte(n,e,t,r){t=t||TA;for(var i=n instanceof no,a=!1,s=0;s<MM.length;s++){var o=e[MM[s]];if(o&&o.getShallow("show")){a=!0;break}}var l=i?n:n.getTextContent();if(a){i||(l||(l=new no,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var c=qU(t,e),u=e.normal,d=!!u.getShallow("show"),f=wh(u,r&&r.normal,t,!1,!i);f.text=c.normal,i||n.setTextConfig(KU(u,t,!1));for(var s=0;s<_u.length;s++){var h=_u[s],o=e[h];if(o){var p=l.ensureState(h),m=!!Xr(o.getShallow("show"),d);if(m!==d&&(p.ignore=!m),p.style=wh(o,r&&r[h],t,!0,!i),p.style.text=c[h],!i){var g=n.ensureState(h);g.textConfig=KU(o,t,!0)}}}l.silent=!!u.getShallow("silent"),l.style.x!=null&&(f.x=l.style.x),l.style.y!=null&&(f.y=l.style.y),l.ignore=!d,l.useStyle(f),l.dirty(),t.enableTextSetter&&(EUe(l).setLabelText=function(v){var y=qU(t,e,v);xUe(l,y)})}else l&&(l.ignore=!0);n.dirty()}function CUe(n,e){e=e||"label";for(var t={normal:n.getModel(e)},r=0;r<_u.length;r++){var i=_u[r];t[i]=n.getModel([i,e])}return t}function wh(n,e,t,r,i){var a={};return MUe(a,n,t,r,i),e&&pn(a,e),a}function KU(n,e,t){e=e||{};var r={},i,a=n.getShallow("rotate"),s=Xr(n.getShallow("distance"),t?null:5),o=n.getShallow("offset");return i=n.getShallow("position")||(t?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(r.position=i),o!=null&&(r.offset=o),a!=null&&(a*=Math.PI/180,r.rotation=a),s!=null&&(r.distance=s),r.outsideFill=n.get("color")==="inherit"?e.inheritColor||null:"auto",r}function MUe(n,e,t,r,i){t=t||TA;var a=e.ecModel,s=a&&a.option.textStyle,o=TUe(e),l;if(o){l={};for(var c in o)if(o.hasOwnProperty(c)){var u=e.getModel(["rich",c]);ZU(l[c]={},u,s,t,r,i,!1,!0)}}l&&(n.rich=l);var d=e.get("overflow");d&&(n.overflow=d);var f=e.get("minMargin");f!=null&&(n.margin=f),ZU(n,e,s,t,r,i,!0,!1)}function TUe(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||TA).rich;if(t){e=e||{};for(var r=pa(t),i=0;i<r.length;i++){var a=r[i];e[a]=1}}n=n.parentModel}return e}var YU=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],XU=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],jU=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function ZU(n,e,t,r,i,a,s,o){t=!i&&t||TA;var l=r&&r.inheritColor,c=e.getShallow("color"),u=e.getShallow("textBorderColor"),d=Xr(e.getShallow("opacity"),t.opacity);(c==="inherit"||c==="auto")&&(l?c=l:c=null),(u==="inherit"||u==="auto")&&(l?u=l:u=null),a||(c=c||t.color,u=u||t.textBorderColor),c!=null&&(n.fill=c),u!=null&&(n.stroke=u);var f=Xr(e.getShallow("textBorderWidth"),t.textBorderWidth);f!=null&&(n.lineWidth=f);var h=Xr(e.getShallow("textBorderType"),t.textBorderType);h!=null&&(n.lineDash=h);var p=Xr(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);p!=null&&(n.lineDashOffset=p),!i&&d==null&&!o&&(d=r&&r.defaultOpacity),d!=null&&(n.opacity=d),!i&&!a&&n.fill==null&&r.inheritColor&&(n.fill=r.inheritColor);for(var m=0;m<YU.length;m++){var g=YU[m],v=Xr(e.getShallow(g),t[g]);v!=null&&(n[g]=v)}for(var m=0;m<XU.length;m++){var g=XU[m],v=e.getShallow(g);v!=null&&(n[g]=v)}if(n.verticalAlign==null){var y=e.getShallow("baseline");y!=null&&(n.verticalAlign=y)}if(!s||!r.disableBox){for(var m=0;m<jU.length;m++){var g=jU[m],v=e.getShallow(g);v!=null&&(n[g]=v)}var b=e.getShallow("borderType");b!=null&&(n.borderDash=b),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&l&&(n.backgroundColor=l),(n.borderColor==="auto"||n.borderColor==="inherit")&&l&&(n.borderColor=l)}}function AUe(n,e){var t=e&&e.getModel("textStyle");return nu([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var EUe=ja(),IUe=["textStyle","color"],i4=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],a4=new no,RUe=function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(IUe):null)},n.prototype.getFont=function(){return AUe({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<i4.length;r++)t[i4[r]]=this.getShallow(i4[r]);return a4.useStyle(t),a4.update(),a4.getBoundingRect()},n}();const PUe=RUe;var mte=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],LUe=P_(mte),DUe=function(){function n(){}return n.prototype.getLineStyle=function(e){return LUe(this,e)},n}(),vte=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],kUe=P_(vte),OUe=function(){function n(){}return n.prototype.getItemStyle=function(e,t){return kUe(this,e,t)},n}(),j0=function(){function n(e,t,r){this.parentModel=t,this.ecModel=r,this.option=e}return n.prototype.init=function(e,t,r){},n.prototype.mergeOption=function(e,t){Xi(this.option,e,!0)},n.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var r=this.option,i=r==null?r:r[e];if(i==null&&!t){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},n.prototype.getModel=function(e,t){var r=e!=null,i=r?this.parsePath(e):null,a=r?this._doGet(i):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new n(a,t,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var e=this.constructor;return new e(ei(this.option))},n.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!Lr.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var r=this.option;if(!e)return r;for(var i=0;i<e.length&&!(e[i]&&(r=r&&typeof r=="object"?r[e[i]]:null,r==null));i++);return r==null&&t&&(r=t._doGet(this.resolveParentPath(e),t.parentModel)),r},n}();r8(j0);i9e(j0);qd(j0,DUe);qd(j0,OUe);qd(j0,c9e);qd(j0,PUe);const Ds=j0;var NUe=Math.round(Math.random()*10);function AA(n){return[n||"",NUe++].join("_")}function BUe(n){var e={};n.registerSubTypeDefaulter=function(t,r){var i=ru(t);e[i.main]=r},n.determineSubType=function(t,r){var i=r.type;if(!i){var a=ru(t).main;n.hasSubTypes(t)&&e[a]&&(i=e[a](r))}return i}}function FUe(n,e){n.topologicalTravel=function(a,s,o,l){if(!a.length)return;var c=t(s),u=c.graph,d=c.noEntryList,f={};for(Mt(a,function(y){f[y]=!0});d.length;){var h=d.pop(),p=u[h],m=!!f[h];m&&(o.call(l,h,p.originalDeps.slice()),delete f[h]),Mt(p.successor,m?v:g)}Mt(f,function(){var y="";throw new Error(y)});function g(y){u[y].entryCount--,u[y].entryCount===0&&d.push(y)}function v(y){f[y]=!0,g(y)}};function t(a){var s={},o=[];return Mt(a,function(l){var c=r(s,l),u=c.originalDeps=e(l),d=i(u,a);c.entryCount=d.length,c.entryCount===0&&o.push(l),Mt(d,function(f){Oi(c.predecessor,f)<0&&c.predecessor.push(f);var h=r(s,f);Oi(h.successor,f)<0&&h.successor.push(l)})}),{graph:s,noEntryList:o}}function r(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function i(a,s){var o=[];return Mt(a,function(l){Oi(s,l)>=0&&o.push(l)}),o}}function zUe(n,e){return Xi(Xi({},n,!0),e,!0)}const UUe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},HUe={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var IM="ZH",y8="EN",L_=y8,pC={},b8={},gte=Lr.domSupported?function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return n.indexOf(IM)>-1?IM:L_}():L_;function yte(n,e){n=n.toUpperCase(),b8[n]=new Ds(e),pC[n]=e}function VUe(n){if(dr(n)){var e=pC[n.toUpperCase()]||{};return n===IM||n===y8?ei(e):Xi(ei(e),ei(pC[L_]),!1)}else return Xi(ei(n),ei(pC[L_]),!1)}function $Ue(n){return b8[n]}function GUe(){return b8[L_]}yte(y8,UUe);yte(IM,HUe);function of(n,e){return n+="","0000".substr(0,e-n.length)+n}function bte(n,e,t,r){var i=bA(n),a=i[WUe(t)](),s=i[qUe(t)]()+1,o=Math.floor((s-1)/3)+1,l=i[KUe(t)](),c=i["get"+(t?"UTC":"")+"Day"](),u=i[YUe(t)](),d=(u-1)%12+1,f=i[XUe(t)](),h=i[jUe(t)](),p=i[ZUe(t)](),m=r instanceof Ds?r:$Ue(r||gte)||GUe(),g=m.getModel("time"),v=g.get("month"),y=g.get("monthAbbr"),b=g.get("dayOfWeek"),_=g.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,of(a%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,v[s-1]).replace(/{MMM}/g,y[s-1]).replace(/{MM}/g,of(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,of(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,b[c]).replace(/{ee}/g,_[c]).replace(/{e}/g,c+"").replace(/{HH}/g,of(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,of(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,of(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,of(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,of(p,3)).replace(/{S}/g,p+"")}function WUe(n){return n?"getUTCFullYear":"getFullYear"}function qUe(n){return n?"getUTCMonth":"getMonth"}function KUe(n){return n?"getUTCDate":"getDate"}function YUe(n){return n?"getUTCHours":"getHours"}function XUe(n){return n?"getUTCMinutes":"getMinutes"}function jUe(n){return n?"getUTCSeconds":"getSeconds"}function ZUe(n){return n?"getUTCMilliseconds":"getMilliseconds"}function QUe(n){if(!F7e(n))return dr(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function _te(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,r){return r.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var EA=kJ;function PP(n,e,t){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(u){return u&&nu(u)?u:"-"}function a(u){return!!(u!=null&&!isNaN(u)&&isFinite(u))}var s=e==="time",o=n instanceof Date;if(s||o){var l=s?bA(n):n;if(isNaN(+l)){if(o)return"-"}else return bte(l,r,t)}if(e==="ordinal")return J5(n)?i(n):ma(n)&&a(n)?n+"":"-";var c=CM(n);return a(c)?QUe(c):J5(n)?i(n):typeof n=="boolean"?n+"":"-"}var QU=["a","b","c","d","e","f","g"],s4=function(n,e){return"{"+n+(e??"")+"}"};function Ste(n,e,t){Zn(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var s=QU[a];n=n.replace(s4(s),s4(s,0))}for(var o=0;o<r;o++)for(var l=0;l<i.length;l++){var c=e[o][i[l]];n=n.replace(s4(QU[l],o),t?Tl(c):c)}return n}function JUe(n,e){var t=dr(n)?{color:n,extraCssText:e}:n||{},r=t.color,i=t.type;e=t.extraCssText;var a=t.renderMode||"html";if(!r)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Tl(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Tl(r)+";"+(e||"")+'"></span>';var s=t.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function D_(n,e){return e=e||"transparent",dr(n)?n:fr(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function JU(n,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var mC=Mt,eHe=["left","right","top","bottom","width","height"],ix=[["width","left","right"],["height","top","bottom"]];function _8(n,e,t,r,i){var a=0,s=0;r==null&&(r=1/0),i==null&&(i=1/0);var o=0;e.eachChild(function(l,c){var u=l.getBoundingRect(),d=e.childAt(c+1),f=d&&d.getBoundingRect(),h,p;if(n==="horizontal"){var m=u.width+(f?-f.x+u.x:0);h=a+m,h>r||l.newline?(a=0,h=m,s+=o+t,o=u.height):o=Math.max(o,u.height)}else{var g=u.height+(f?-f.y+u.y:0);p=s+g,p>i||l.newline?(a+=o+t,s=0,p=g,o=u.width):o=Math.max(o,u.width)}l.newline||(l.x=a,l.y=s,l.markRedraw(),n==="horizontal"?a=h+t:s=p+t)})}var Mb=_8;Da(_8,"vertical");Da(_8,"horizontal");function k_(n,e,t){t=EA(t||0);var r=e.width,i=e.height,a=Ra(n.left,r),s=Ra(n.top,i),o=Ra(n.right,r),l=Ra(n.bottom,i),c=Ra(n.width,r),u=Ra(n.height,i),d=t[2]+t[0],f=t[1]+t[3],h=n.aspect;switch(isNaN(c)&&(c=r-o-f-a),isNaN(u)&&(u=i-l-d-s),h!=null&&(isNaN(c)&&isNaN(u)&&(h>r/i?c=r*.8:u=i*.8),isNaN(c)&&(c=h*u),isNaN(u)&&(u=c/h)),isNaN(a)&&(a=r-o-c-f),isNaN(s)&&(s=i-l-u-d),n.left||n.right){case"center":a=r/2-c/2-t[3];break;case"right":a=r-c-f;break}switch(n.top||n.bottom){case"middle":case"center":s=i/2-u/2-t[0];break;case"bottom":s=i-u-d;break}a=a||0,s=s||0,isNaN(c)&&(c=r-f-a-(o||0)),isNaN(u)&&(u=i-d-s-(l||0));var p=new Ai(a+t[3],s+t[0],c,u);return p.margin=t,p}function RM(n){var e=n.layoutMode||n.constructor.layoutMode;return fr(e)?e:e?{type:e}:null}function O_(n,e,t){var r=t&&t.ignoreSize;!Zn(r)&&(r=[r,r]);var i=s(ix[0],0),a=s(ix[1],1);c(ix[0],n,i),c(ix[1],n,a);function s(u,d){var f={},h=0,p={},m=0,g=2;if(mC(u,function(b){p[b]=n[b]}),mC(u,function(b){o(e,b)&&(f[b]=p[b]=e[b]),l(f,b)&&h++,l(p,b)&&m++}),r[d])return l(e,u[1])?p[u[2]]=null:l(e,u[2])&&(p[u[1]]=null),p;if(m===g||!h)return p;if(h>=g)return f;for(var v=0;v<u.length;v++){var y=u[v];if(!o(f,y)&&o(n,y)){f[y]=n[y];break}}return f}function o(u,d){return u.hasOwnProperty(d)}function l(u,d){return u[d]!=null&&u[d]!=="auto"}function c(u,d,f){mC(u,function(h){d[h]=f[h]})}}function S8(n){return tHe({},n)}function tHe(n,e){return e&&n&&mC(eHe,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}var nHe=ja(),My=function(n){sr(e,n);function e(t,r,i){var a=n.call(this,t,r,i)||this;return a.uid=AA("ec_cpt_model"),a}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=RM(this),a=i?S8(t):{},s=r.getTheme();Xi(t,s.get(this.mainType)),Xi(t,this.getDefaultOption()),i&&O_(t,a,i)},e.prototype.mergeOption=function(t,r){Xi(this.option,t,!0);var i=RM(this);i&&O_(this.option,t,i)},e.prototype.optionUpdated=function(t,r){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!t9e(t))return t.defaultOption;var r=nHe(this);if(!r.defaultOption){for(var i=[],a=t;a;){var s=a.prototype.defaultOption;s&&i.push(s),a=a.superClass}for(var o={},l=i.length-1;l>=0;l--)o=Xi(o,i[l],!0);r.defaultOption=o}return r.defaultOption},e.prototype.getReferringComponents=function(t,r){var i=t+"Index",a=t+"Id";return FS(this.ecModel,t,{index:this.get(i,!0),id:this.get(a,!0)},r)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(Ds);yee(My,Ds);i8(My);BUe(My);FUe(My,rHe);function rHe(n){var e=[];return Mt(My.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=Zr(e,function(t){return ru(t).main}),n!=="dataset"&&Oi(e,"dataset")<=0&&e.unshift("dataset"),e}const ta=My;var wte="";typeof navigator<"u"&&(wte=navigator.platform||"");var Cm="rgba(0, 0, 0, 0.2)";const iHe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Cm,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Cm,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Cm,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Cm,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Cm,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Cm,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:wte.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var xte=jr(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Pu="original",Eo="arrayRows",Dc="objectRows",Lu="keyedColumns",Jf="typedArray",Cte="unknown",_d="column",Ty="row",ns={Must:1,Might:2,Not:3},aHe=ja();function sHe(n){aHe(n).datasetMap=jr()}function oHe(n,e,t){var r={},i=Mte(n);if(!i)return r;var a=e.sourceFormat,s=e.dimensionsDefine,o;(a===Dc||a===Lu)&&Mt(s,function(u,d){(fr(u)?u.name:u)==="name"&&(o=d)});var l=function(){for(var u={},d={},f=[],h=0,p=Math.min(5,t);h<p;h++){var m=Ate(e.data,a,e.seriesLayoutBy,s,e.startIndex,h);f.push(m);var g=m===ns.Not;if(g&&u.v==null&&h!==o&&(u.v=h),(u.n==null||u.n===u.v||!g&&f[u.n]===ns.Not)&&(u.n=h),v(u)&&f[u.n]!==ns.Not)return u;g||(m===ns.Might&&d.v==null&&h!==o&&(d.v=h),(d.n==null||d.n===d.v)&&(d.n=h))}function v(y){return y.v!=null&&y.n!=null}return v(u)?u:v(d)?d:null}();if(l){r.value=[l.v];var c=o??l.n;r.itemName=[c],r.seriesName=[c]}return r}function Mte(n){var e=n.get("data",!0);if(!e)return FS(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},n8).models[0]}function lHe(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:FS(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},n8).models}function Tte(n,e){return Ate(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function Ate(n,e,t,r,i,a){var s,o=5;if(al(n))return ns.Not;var l,c;if(r){var u=r[a];fr(u)?(l=u.name,c=u.type):dr(u)&&(l=u)}if(c!=null)return c==="ordinal"?ns.Must:ns.Not;if(e===Eo){var d=n;if(t===Ty){for(var f=d[a],h=0;h<(f||[]).length&&h<o;h++)if((s=_(f[i+h]))!=null)return s}else for(var h=0;h<d.length&&h<o;h++){var p=d[i+h];if(p&&(s=_(p[a]))!=null)return s}}else if(e===Dc){var m=n;if(!l)return ns.Not;for(var h=0;h<m.length&&h<o;h++){var g=m[h];if(g&&(s=_(g[l]))!=null)return s}}else if(e===Lu){var v=n;if(!l)return ns.Not;var f=v[l];if(!f||al(f))return ns.Not;for(var h=0;h<f.length&&h<o;h++)if((s=_(f[h]))!=null)return s}else if(e===Pu)for(var y=n,h=0;h<y.length&&h<o;h++){var g=y[h],b=_A(g);if(!Zn(b))return ns.Not;if((s=_(b[a]))!=null)return s}function _(w){var x=dr(w);if(w!=null&&isFinite(w)&&w!=="")return x?ns.Might:ns.Not;if(x&&w!=="-")return ns.Must}return ns.Not}var cHe=jr();function uHe(n,e,t){var r=cHe.get(e);if(!r)return t;var i=r(n);return i?t.concat(i):t}var eH=ja();ja();var w8=function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,r){var i=Qs(this.get("color",!0)),a=this.get("colorLayer",!0);return fHe(this,eH,i,a,e,t,r)},n.prototype.clearColorPalette=function(){hHe(this,eH)},n}();function dHe(n,e){for(var t=n.length,r=0;r<t;r++)if(n[r].length>e)return n[r];return n[t-1]}function fHe(n,e,t,r,i,a,s){a=a||n;var o=e(a),l=o.paletteIdx||0,c=o.paletteNameMap=o.paletteNameMap||{};if(c.hasOwnProperty(i))return c[i];var u=s==null||!r?t:dHe(r,s);if(u=u||t,!(!u||!u.length)){var d=u[l];return i&&(c[i]=d),o.paletteIdx=(l+1)%u.length,d}}function hHe(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}var ax,m1,tH,nH="\0_ec_inner",pHe=1,Ete=function(n){sr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t,r,i,a,s,o){a=a||{},this.option=null,this._theme=new Ds(a),this._locale=new Ds(s),this._optionManager=o},e.prototype.setOption=function(t,r,i){var a=aH(r);this._optionManager.setOption(t,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(t,r){return this._resetOption(t,aH(r))},e.prototype._resetOption=function(t,r){var i=!1,a=this._optionManager;if(!t||t==="recreate"){var s=a.mountOption(t==="recreate");!this.option||t==="recreate"?tH(this,s):(this.restoreData(),this._mergeOption(s,r)),i=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var o=a.getTimelineOption(this);o&&(i=!0,this._mergeOption(o,r))}if(!t||t==="recreate"||t==="media"){var l=a.getMediaOption(this);l.length&&Mt(l,function(c){i=!0,this._mergeOption(c,r)},this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,r){var i=this.option,a=this._componentsMap,s=this._componentsCount,o=[],l=jr(),c=r&&r.replaceMergeMainTypeMap;sHe(this),Mt(t,function(d,f){d!=null&&(ta.hasClass(f)?f&&(o.push(f),l.set(f,!0)):i[f]=i[f]==null?ei(d):Xi(i[f],d,!0))}),c&&c.each(function(d,f){ta.hasClass(f)&&!l.get(f)&&(o.push(f),l.set(f,!0))}),ta.topologicalTravel(o,ta.getAllClassMainTypes(),u,this);function u(d){var f=uHe(this,d,Qs(t[d])),h=a.get(d),p=h?c&&c.get(d)?"replaceMerge":"normalMerge":"replaceAll",m=H7e(h,f,p);Y7e(m,d,ta),i[d]=null,a.set(d,null),s.set(d,0);var g=[],v=[],y=0,b;Mt(m,function(_,w){var x=_.existing,M=_.newOption;if(!M)x&&(x.mergeOption({},this),x.optionUpdated({},!1));else{var C=d==="series",T=ta.getClass(d,_.keyInfo.subType,!C);if(!T)return;if(d==="tooltip"){if(b)return;b=!0}if(x&&x.constructor===T)x.name=_.keyInfo.name,x.mergeOption(M,this),x.optionUpdated(M,!1);else{var A=pn({componentIndex:w},_.keyInfo);x=new T(M,this,this,A),pn(x,A),_.brandNew&&(x.__requireNewView=!0),x.init(M,this,this),x.optionUpdated(null,!0)}}x?(g.push(x.option),v.push(x),y++):(g.push(void 0),v.push(void 0))},this),i[d]=g,a.set(d,v),s.set(d,y),d==="series"&&ax(this)}this._seriesIndices||ax(this)},e.prototype.getOption=function(){var t=ei(this.option);return Mt(t,function(r,i){if(ta.hasClass(i)){for(var a=Qs(r),s=a.length,o=!1,l=s-1;l>=0;l--)a[l]&&!R_(a[l])?o=!0:(a[l]=null,!o&&s--);a.length=s,t[i]=a}}),delete t[nH],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,r){var i=this._componentsMap.get(t);if(i){var a=i[r||0];if(a)return a;if(r==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},e.prototype.queryComponents=function(t){var r=t.mainType;if(!r)return[];var i=t.index,a=t.id,s=t.name,o=this._componentsMap.get(r);if(!o||!o.length)return[];var l;return i!=null?(l=[],Mt(Qs(i),function(c){o[c]&&l.push(o[c])})):a!=null?l=rH("id",a,o):s!=null?l=rH("name",s,o):l=Ml(o,function(c){return!!c}),iH(l,t)},e.prototype.findComponents=function(t){var r=t.query,i=t.mainType,a=o(r),s=a?this.queryComponents(a):Ml(this._componentsMap.get(i),function(c){return!!c});return l(iH(s,t));function o(c){var u=i+"Index",d=i+"Id",f=i+"Name";return c&&(c[u]!=null||c[d]!=null||c[f]!=null)?{mainType:i,index:c[u],id:c[d],name:c[f]}:null}function l(c){return t.filter?Ml(c,t.filter):c}},e.prototype.eachComponent=function(t,r,i){var a=this._componentsMap;if(gi(t)){var s=r,o=t;a.each(function(d,f){for(var h=0;d&&h<d.length;h++){var p=d[h];p&&o.call(s,f,p,p.componentIndex)}})}else for(var l=dr(t)?a.get(t):fr(t)?this.findComponents(t):null,c=0;l&&c<l.length;c++){var u=l[c];u&&r.call(i,u,u.componentIndex)}},e.prototype.getSeriesByName=function(t){var r=fu(t,null);return Ml(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Ml(this._componentsMap.get("series"),function(r){return!!r&&r.subType===t})},e.prototype.getSeries=function(){return Ml(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,r){m1(this),Mt(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];t.call(r,a,i)},this)},e.prototype.eachRawSeries=function(t,r){Mt(this._componentsMap.get("series"),function(i){i&&t.call(r,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(t,r,i){m1(this),Mt(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===t&&r.call(i,s,a)},this)},e.prototype.eachRawSeriesByType=function(t,r,i){return Mt(this.getSeriesByType(t),r,i)},e.prototype.isSeriesFiltered=function(t){return m1(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,r){m1(this);var i=[];Mt(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];t.call(r,s,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=jr(i)},e.prototype.restoreData=function(t){ax(this);var r=this._componentsMap,i=[];r.each(function(a,s){ta.hasClass(s)&&i.push(s)}),ta.topologicalTravel(i,ta.getAllClassMainTypes(),function(a){Mt(r.get(a),function(s){s&&(a!=="series"||!mHe(s,t))&&s.restoreData()})})},e.internalField=function(){ax=function(t){var r=t._seriesIndices=[];Mt(t._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),t._seriesIndicesMap=jr(r)},m1=function(t){},tH=function(t,r){t.option={},t.option[nH]=pHe,t._componentsMap=jr({series:[]}),t._componentsCount=jr();var i=r.aria;fr(i)&&i.enabled==null&&(i.enabled=!0),vHe(r,t._theme.option),Xi(r,iHe,!1),t._mergeOption(r,null)}}(),e}(Ds);function mHe(n,e){if(e){var t=e.seriesIndex,r=e.seriesId,i=e.seriesName;return t!=null&&n.componentIndex!==t||r!=null&&n.id!==r||i!=null&&n.name!==i}}function vHe(n,e){var t=n.color&&!n.colorLayer;Mt(e,function(r,i){i==="colorLayer"&&t||ta.hasClass(i)||(typeof r=="object"?n[i]=n[i]?Xi(n[i],r,!1):ei(r):n[i]==null&&(n[i]=r))})}function rH(n,e,t){if(Zn(e)){var r=jr();return Mt(e,function(a){if(a!=null){var s=fu(a,null);s!=null&&r.set(a,!0)}}),Ml(t,function(a){return a&&r.get(a[n])})}else{var i=fu(e,null);return Ml(t,function(a){return a&&i!=null&&a[n]===i})}}function iH(n,e){return e.hasOwnProperty("subType")?Ml(n,function(t){return t&&t.subType===e.subType}):n}function aH(n){var e=jr();return n&&Mt(Qs(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}qd(Ete,w8);const Ite=Ete;var gHe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],yHe=function(){function n(e){Mt(gHe,function(t){this[t]=Ni(e[t],e)},this)}return n}();const Rte=yHe;var o4={},bHe=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var r=[];Mt(o4,function(i,a){var s=i.create(e,t);r=r.concat(s||[])}),this._coordinateSystems=r},n.prototype.update=function(e,t){Mt(this._coordinateSystems,function(r){r.update&&r.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){o4[e]=t},n.get=function(e){return o4[e]},n}();const Pte=bHe;var _He=/^(min|max)?(.+)$/,SHe=function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,r){e&&(Mt(Qs(e.series),function(s){s&&s.data&&al(s.data)&&eP(s.data)}),Mt(Qs(e.dataset),function(s){s&&s.source&&al(s.source)&&eP(s.source)})),e=ei(e);var i=this._optionBackup,a=wHe(e,t,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],ei(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,r=this._timelineOptions;if(r.length){var i=e.getComponent("timeline");i&&(t=ei(r[i.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,s=[],o=[];if(!i.length&&!a)return o;for(var l=0,c=i.length;l<c;l++)xHe(i[l].query,t,r)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&!MHe(s,this._currentMediaIndices)&&(o=Zr(s,function(u){return ei(u===-1?a.option:i[u].option)})),this._currentMediaIndices=s,o},n}();function wHe(n,e,t){var r=[],i,a,s=n.baseOption,o=n.timeline,l=n.options,c=n.media,u=!!n.media,d=!!(l||o||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=o)):((d||u)&&(n.options=n.media=null),a=n),u&&Zn(c)&&Mt(c,function(h){h&&h.option&&(h.query?r.push(h):i||(i=h))}),f(a),Mt(l,function(h){return f(h)}),Mt(r,function(h){return f(h.option)});function f(h){Mt(e,function(p){p(h,t)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:r}}function xHe(n,e,t){var r={width:e,height:t,aspectratio:e/t},i=!0;return Mt(n,function(a,s){var o=s.match(_He);if(!(!o||!o[1]||!o[2])){var l=o[1],c=o[2].toLowerCase();CHe(r[c],a,l)||(i=!1)}}),i}function CHe(n,e,t){return t==="min"?n>=e:t==="max"?n<=e:n===e}function MHe(n,e){return n.join(",")===e.join(",")}const THe=SHe;var ec=Mt,N_=fr,sH=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function l4(n){var e=n&&n.itemStyle;if(e)for(var t=0,r=sH.length;t<r;t++){var i=sH[t],a=e.normal,s=e.emphasis;a&&a[i]&&(n[i]=n[i]||{},n[i].normal?Xi(n[i].normal,a[i]):n[i].normal=a[i],a[i]=null),s&&s[i]&&(n[i]=n[i]||{},n[i].emphasis?Xi(n[i].emphasis,s[i]):n[i].emphasis=s[i],s[i]=null)}}function As(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var r=n[e].normal,i=n[e].emphasis;r&&(t?(n[e].normal=n[e].emphasis=null,Zi(n[e],r)):n[e]=r),i&&(n.emphasis=n.emphasis||{},n.emphasis[e]=i,i.focus&&(n.emphasis.focus=i.focus),i.blurScope&&(n.emphasis.blurScope=i.blurScope))}}function J1(n){As(n,"itemStyle"),As(n,"lineStyle"),As(n,"areaStyle"),As(n,"label"),As(n,"labelLine"),As(n,"upperLabel"),As(n,"edgeLabel")}function da(n,e){var t=N_(n)&&n[e],r=N_(t)&&t.textStyle;if(r)for(var i=0,a=uU.length;i<a;i++){var s=uU[i];r.hasOwnProperty(s)&&(t[s]=r[s])}}function bl(n){n&&(J1(n),da(n,"label"),n.emphasis&&da(n.emphasis,"label"))}function AHe(n){if(N_(n)){l4(n),J1(n),da(n,"label"),da(n,"upperLabel"),da(n,"edgeLabel"),n.emphasis&&(da(n.emphasis,"label"),da(n.emphasis,"upperLabel"),da(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(l4(e),bl(e));var t=n.markLine;t&&(l4(t),bl(t));var r=n.markArea;r&&bl(r);var i=n.data;if(n.type==="graph"){i=i||n.nodes;var a=n.links||n.edges;if(a&&!al(a))for(var s=0;s<a.length;s++)bl(a[s]);Mt(n.categories,function(c){J1(c)})}if(i&&!al(i))for(var s=0;s<i.length;s++)bl(i[s]);if(e=n.markPoint,e&&e.data)for(var o=e.data,s=0;s<o.length;s++)bl(o[s]);if(t=n.markLine,t&&t.data)for(var l=t.data,s=0;s<l.length;s++)Zn(l[s])?(bl(l[s][0]),bl(l[s][1])):bl(l[s]);n.type==="gauge"?(da(n,"axisLabel"),da(n,"title"),da(n,"detail")):n.type==="treemap"?(As(n.breadcrumb,"itemStyle"),Mt(n.levels,function(c){J1(c)})):n.type==="tree"&&J1(n.leaves)}}function Uu(n){return Zn(n)?n:n?[n]:[]}function oH(n){return(Zn(n)?n[0]:n)||{}}function EHe(n,e){ec(Uu(n.series),function(r){N_(r)&&AHe(r)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),ec(t,function(r){ec(Uu(n[r]),function(i){i&&(da(i,"axisLabel"),da(i.axisPointer,"label"))})}),ec(Uu(n.parallel),function(r){var i=r&&r.parallelAxisDefault;da(i,"axisLabel"),da(i&&i.axisPointer,"label")}),ec(Uu(n.calendar),function(r){As(r,"itemStyle"),da(r,"dayLabel"),da(r,"monthLabel"),da(r,"yearLabel")}),ec(Uu(n.radar),function(r){da(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),ec(Uu(n.geo),function(r){N_(r)&&(bl(r),ec(Uu(r.regions),function(i){bl(i)}))}),ec(Uu(n.timeline),function(r){bl(r),As(r,"label"),As(r,"itemStyle"),As(r,"controlStyle",!0);var i=r.data;Zn(i)&&Mt(i,function(a){fr(a)&&(As(a,"label"),As(a,"itemStyle"))})}),ec(Uu(n.toolbox),function(r){As(r,"iconStyle"),ec(r.feature,function(i){As(i,"iconStyle")})}),da(oH(n.axisPointer),"label"),da(oH(n.tooltip).axisPointer,"label")}function IHe(n,e){for(var t=e.split(","),r=n,i=0;i<t.length&&(r=r&&r[t[i]],r!=null);i++);return r}function RHe(n,e,t,r){for(var i=e.split(","),a=n,s,o=0;o<i.length-1;o++)s=i[o],a[s]==null&&(a[s]={}),a=a[s];(r||a[i[o]]==null)&&(a[i[o]]=t)}function lH(n){n&&Mt(PHe,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var PHe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],LHe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],c4=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function v1(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<c4.length;t++){var r=c4[t][1],i=c4[t][0];e[r]!=null&&(e[i]=e[r])}}function cH(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function uH(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function DHe(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function Lte(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&Lte(n[t].children,e)}function Dte(n,e){EHe(n,e),n.series=Qs(n.series),Mt(n.series,function(t){if(fr(t)){var r=t.type;if(r==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(r==="pie"||r==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),cH(t.label);var i=t.data;if(i&&!al(i))for(var a=0;a<i.length;a++)cH(i[a]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(r==="gauge"){var s=IHe(t,"pointer.color");s!=null&&RHe(t,"itemStyle.color",s)}else if(r==="bar"){v1(t),v1(t.backgroundStyle),v1(t.emphasis);var i=t.data;if(i&&!al(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(v1(i[a]),v1(i[a]&&i[a].emphasis))}else if(r==="sunburst"){var o=t.highlightPolicy;o&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=o)),uH(t),Lte(t.data,uH)}else r==="graph"||r==="sankey"?DHe(t):r==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Zi(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),lH(t)}}),n.dataRange&&(n.visualMap=n.dataRange),Mt(LHe,function(t){var r=n[t];r&&(Zn(r)||(r=[r]),Mt(r,function(i){lH(i)}))})}function kHe(n){var e=jr();n.eachSeries(function(t){var r=t.get("stack");if(r){var i=e.get(r)||e.set(r,[]),a=t.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),e.each(OHe)}function OHe(n){Mt(n,function(e,t){var r=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],s=e.data,o=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(c,u,d){var f=s.get(e.stackedDimension,d);if(isNaN(f))return i;var h,p;o?p=s.getRawIndex(d):h=s.get(e.stackedByDimension,d);for(var m=NaN,g=t-1;g>=0;g--){var v=n[g];if(o||(p=v.data.rawIndexOf(v.stackedByDimension,h)),p>=0){var y=v.data.getByRawIndex(v.stackResultDimension,p);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&f>=0&&y>0||l==="samesign"&&f<=0&&y<0){f=N7e(f,y),m=y;break}}}return r[0]=f,r[1]=m,r})})}var IA=function(){function n(e){this.data=e.data||(e.sourceFormat===Lu?{}:[]),this.sourceFormat=e.sourceFormat||Cte,this.seriesLayoutBy=e.seriesLayoutBy||_d,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var r=0;r<t.length;r++){var i=t[r];i.type==null&&Tte(this,r)===ns.Must&&(i.type="ordinal")}}return n}();function x8(n){return n instanceof IA}function LP(n,e,t){t=t||Ote(n);var r=e.seriesLayoutBy,i=BHe(n,t,r,e.sourceHeader,e.dimensions),a=new IA({data:n,sourceFormat:t,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:ei(e)});return a}function kte(n){return new IA({data:n,sourceFormat:al(n)?Jf:Pu})}function NHe(n){return new IA({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:ei(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function Ote(n){var e=Cte;if(al(n))e=Jf;else if(Zn(n)){n.length===0&&(e=Eo);for(var t=0,r=n.length;t<r;t++){var i=n[t];if(i!=null){if(Zn(i)){e=Eo;break}else if(fr(i)){e=Dc;break}}}}else if(fr(n)){for(var a in n)if(zg(n,a)&&Ao(n[a])){e=Lu;break}}return e}function BHe(n,e,t,r,i){var a,s;if(!n)return{dimensionsDefine:dH(i),startIndex:s,dimensionsDetectedCount:a};if(e===Eo){var o=n;r==="auto"||r==null?fH(function(c){c!=null&&c!=="-"&&(dr(c)?s==null&&(s=1):s=0)},t,o,10):s=ma(r)?r:r?1:0,!i&&s===1&&(i=[],fH(function(c,u){i[u]=c!=null?c+"":""},t,o,1/0)),a=i?i.length:t===Ty?o.length:o[0]?o[0].length:null}else if(e===Dc)i||(i=FHe(n));else if(e===Lu)i||(i=[],Mt(n,function(c,u){i.push(u)}));else if(e===Pu){var l=_A(n[0]);a=Zn(l)&&l.length||1}return{startIndex:s,dimensionsDefine:dH(i),dimensionsDetectedCount:a}}function FHe(n){for(var e=0,t;e<n.length&&!(t=n[e++]););if(t)return pa(t)}function dH(n){if(n){var e=jr();return Zr(n,function(t,r){t=fr(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function fH(n,e,t,r){if(e===Ty)for(var i=0;i<t.length&&i<r;i++)n(t[i]?t[i][0]:null,i);else for(var a=t[0]||[],i=0;i<a.length&&i<r;i++)n(a[i],i)}function Nte(n){var e=n.sourceFormat;return e===Dc||e===Lu}var up,dp,fp,hH,pH,Bte=function(){function n(e,t){var r=x8(e)?e:kte(e);this._source=r;var i=this._data=r.data;r.sourceFormat===Jf&&(this._offset=0,this._dimSize=t,this._data=i),pH(this,i,r)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=function(){var e=n.prototype;e.pure=!1,e.persistent=!0}(),n.internalField=function(){var e;pH=function(s,o,l){var c=l.sourceFormat,u=l.seriesLayoutBy,d=l.startIndex,f=l.dimensionsDefine,h=hH[C8(c,u)];if(pn(s,h),c===Jf)s.getItem=t,s.count=i,s.fillStorage=r;else{var p=Fte(c,u);s.getItem=Ni(p,null,o,d,f);var m=zte(c,u);s.count=Ni(m,null,o,d,f)}};var t=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,c=this._dimSize,u=c*s,d=0;d<c;d++)o[d]=l[u+d];return o},r=function(s,o,l,c){for(var u=this._data,d=this._dimSize,f=0;f<d;f++){for(var h=c[f],p=h[0]==null?1/0:h[0],m=h[1]==null?-1/0:h[1],g=o-s,v=l[f],y=0;y<g;y++){var b=u[y*d+f];v[s+y]=b,b<p&&(p=b),b>m&&(m=b)}h[0]=p,h[1]=m}},i=function(){return this._data?this._data.length/this._dimSize:0};hH=(e={},e[Eo+"_"+_d]={pure:!0,appendData:a},e[Eo+"_"+Ty]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Dc]={pure:!0,appendData:a},e[Lu]={pure:!0,appendData:function(s){var o=this._data;Mt(s,function(l,c){for(var u=o[c]||(o[c]=[]),d=0;d<(l||[]).length;d++)u.push(l[d])})}},e[Pu]={appendData:a},e[Jf]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}}(),n}(),mH=function(n,e,t,r){return n[r]},zHe=(up={},up[Eo+"_"+_d]=function(n,e,t,r){return n[r+e]},up[Eo+"_"+Ty]=function(n,e,t,r,i){r+=e;for(var a=i||[],s=n,o=0;o<s.length;o++){var l=s[o];a[o]=l?l[r]:null}return a},up[Dc]=mH,up[Lu]=function(n,e,t,r,i){for(var a=i||[],s=0;s<t.length;s++){var o=t[s].name,l=n[o];a[s]=l?l[r]:null}return a},up[Pu]=mH,up);function Fte(n,e){var t=zHe[C8(n,e)];return t}var vH=function(n,e,t){return n.length},UHe=(dp={},dp[Eo+"_"+_d]=function(n,e,t){return Math.max(0,n.length-e)},dp[Eo+"_"+Ty]=function(n,e,t){var r=n[0];return r?Math.max(0,r.length-e):0},dp[Dc]=vH,dp[Lu]=function(n,e,t){var r=t[0].name,i=n[r];return i?i.length:0},dp[Pu]=vH,dp);function zte(n,e){var t=UHe[C8(n,e)];return t}var u4=function(n,e,t){return n[e]},HHe=(fp={},fp[Eo]=u4,fp[Dc]=function(n,e,t){return n[t]},fp[Lu]=u4,fp[Pu]=function(n,e,t){var r=_A(n);return r instanceof Array?r[e]:r},fp[Jf]=u4,fp);function Ute(n){var e=HHe[n];return e}function C8(n,e){return n===Eo?n+"_"+e:n}function PM(n,e,t){if(n){var r=n.getRawDataItem(e);if(r!=null){var i=n.getStore(),a=i.getSource().sourceFormat;if(t!=null){var s=n.getDimensionIndex(t),o=i.getDimensionProperty(s);return Ute(a)(r,s,o)}else{var l=r;return a===Pu&&(l=_A(r)),l}}}}var VHe=/\{@(.+?)\}/g,$He=function(){function n(){}return n.prototype.getDataParams=function(e,t){var r=this.getData(t),i=this.getRawValue(e,t),a=r.getRawIndex(e),s=r.getName(e),o=r.getRawDataItem(e),l=r.getItemVisual(e,"style"),c=l&&l[r.getItemVisual(e,"drawType")||"fill"],u=l&&l.stroke,d=this.mainType,f=d==="series",h=r.userOutput&&r.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:s,dataIndex:a,data:o,dataType:t,value:i,color:c,borderColor:u,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,r,i,a,s){t=t||"normal";var o=this.getData(r),l=this.getDataParams(e,r);if(s&&(l.value=s.interpolatedValue),i!=null&&Zn(l.value)&&(l.value=l.value[i]),!a){var c=o.getItemModel(e);a=c.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(gi(a))return l.status=t,l.dimensionIndex=i,a(l);if(dr(a)){var u=Ste(a,l);return u.replace(VHe,function(d,f){var h=f.length,p=f;p.charAt(0)==="["&&p.charAt(h-1)==="]"&&(p=+p.slice(1,h-1));var m=PM(o,e,p);if(s&&Zn(s.interpolatedValue)){var g=o.getDimensionIndex(p);g>=0&&(m=s.interpolatedValue[g])}return m!=null?m+"":""})}},n.prototype.getRawValue=function(e,t){return PM(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,r){},n}();function gH(n){var e,t;return fr(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function Tb(n){return new GHe(n)}var GHe=function(){function n(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!r&&(a=this._plan(this.context));var s=u(this._modBy),o=this._modDataCount||0,l=u(e&&e.modBy),c=e&&e.modDataCount||0;(s!==l||o!==c)&&(a="reset");function u(y){return!(y>=1)&&(y=1),y}var d;(this._dirty||a==="reset")&&(this._dirty=!1,d=this._doReset(r)),this._modBy=l,this._modDataCount=c;var f=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,p=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!r&&(d||h<p)){var m=this._progress;if(Zn(m))for(var g=0;g<m.length;g++)this._doProgress(m[g],h,p,l,c);else this._doProgress(m,h,p,l,c)}this._dueIndex=p;var v=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=v}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,r,i,a){yH.reset(t,r,i,a),this._callingProgress=e,this._callingProgress({start:t,end:r,count:r-t,next:yH.next},this.context)},n.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,r;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(r=t.forceFirstProgress,t=t.progress),Zn(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n}(),yH=function(){var n,e,t,r,i,a={reset:function(l,c,u,d){e=l,n=c,t=u,r=d,i=Math.ceil(r/t),a.next=t>1&&r>0?o:s}};return a;function s(){return e<n?e++:null}function o(){var l=e%i*t+Math.ceil(e/i),c=e>=n?null:l<r?l:e;return e++,c}}();function vC(n,e){var t=e&&e.type;return t==="ordinal"?n:(t==="time"&&!ma(n)&&n!=null&&n!=="-"&&(n=+bA(n)),n==null||n===""?NaN:+n)}jr({number:function(n){return parseFloat(n)},time:function(n){return+bA(n)},trim:function(n){return dr(n)?nu(n):n}});var WHe=function(){function n(e,t){var r=e==="desc";this._resultLT=r?1:-1,t==null&&(t=r?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return n.prototype.evaluate=function(e,t){var r=ma(e)?e:CM(e),i=ma(t)?t:CM(t),a=isNaN(r),s=isNaN(i);if(a&&(r=this._incomparable),s&&(i=this._incomparable),a&&s){var o=dr(e),l=dr(t);o&&(r=l?e:0),l&&(i=o?t:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},n}(),qHe=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return vC(e,t)},n}();function KHe(n,e){var t=new qHe,r=n.data,i=t.sourceFormat=n.sourceFormat,a=n.startIndex,s="";n.seriesLayoutBy!==_d&&fo(s);var o=[],l={},c=n.dimensionsDefine;if(c)Mt(c,function(m,g){var v=m.name,y={index:g,name:v,displayName:m.displayName};if(o.push(y),v!=null){var b="";zg(l,v)&&fo(b),l[v]=y}});else for(var u=0;u<n.dimensionsDetectedCount;u++)o.push({index:u});var d=Fte(i,_d);e.__isBuiltIn&&(t.getRawDataItem=function(m){return d(r,a,o,m)},t.getRawData=Ni(YHe,null,n)),t.cloneRawData=Ni(XHe,null,n);var f=zte(i,_d);t.count=Ni(f,null,r,a,o);var h=Ute(i);t.retrieveValue=function(m,g){var v=d(r,a,o,m);return p(v,g)};var p=t.retrieveValueFromItem=function(m,g){if(m!=null){var v=o[g];if(v)return h(m,g,v.name)}};return t.getDimensionInfo=Ni(jHe,null,o,l),t.cloneAllDimensionInfo=Ni(ZHe,null,o),t}function YHe(n){var e=n.sourceFormat;if(!M8(e)){var t="";fo(t)}return n.data}function XHe(n){var e=n.sourceFormat,t=n.data;if(!M8(e)){var r="";fo(r)}if(e===Eo){for(var i=[],a=0,s=t.length;a<s;a++)i.push(t[a].slice());return i}else if(e===Dc){for(var i=[],a=0,s=t.length;a<s;a++)i.push(pn({},t[a]));return i}}function jHe(n,e,t){if(t!=null){if(ma(t)||!isNaN(t)&&!zg(e,t))return n[t];if(zg(e,t))return e[t]}}function ZHe(n){return ei(n)}var Hte=jr();function QHe(n){n=ei(n);var e=n.type,t="";e||fo(t);var r=e.split(":");r.length!==2&&fo(t);var i=!1;r[0]==="echarts"&&(e=r[1],i=!0),n.__isBuiltIn=i,Hte.set(e,n)}function JHe(n,e,t){var r=Qs(n),i=r.length,a="";i||fo(a);for(var s=0,o=i;s<o;s++){var l=r[s];e=eVe(l,e),s!==o-1&&(e.length=Math.max(e.length,1))}return e}function eVe(n,e,t,r){var i="";e.length||fo(i),fr(n)||fo(i);var a=n.type,s=Hte.get(a);s||fo(i);var o=Zr(e,function(c){return KHe(c,s)}),l=Qs(s.transform({upstream:o[0],upstreamList:o,config:ei(n.config)}));return Zr(l,function(c,u){var d="";fr(c)||fo(d),c.data||fo(d);var f=Ote(c.data);M8(f)||fo(d);var h,p=e[0];if(p&&u===0&&!c.dimensions){var m=p.startIndex;m&&(c.data=p.data.slice(0,m).concat(c.data)),h={seriesLayoutBy:_d,sourceHeader:m,dimensions:p.metaRawOption.dimensions}}else h={seriesLayoutBy:_d,sourceHeader:0,dimensions:c.dimensions};return LP(c.data,h,null)})}function M8(n){return n===Eo||n===Dc}var RA="undefined",tVe=typeof Uint32Array===RA?Array:Uint32Array,nVe=typeof Uint16Array===RA?Array:Uint16Array,Vte=typeof Int32Array===RA?Array:Int32Array,bH=typeof Float64Array===RA?Array:Float64Array,$te={float:bH,int:Vte,ordinal:Array,number:Array,time:bH},d4;function g1(n){return n>65535?tVe:nVe}function Mm(){return[1/0,-1/0]}function rVe(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function _H(n,e,t,r,i){var a=$te[t||"float"];if(i){var s=n[e],o=s&&s.length;if(o!==r){for(var l=new a(r),c=0;c<o;c++)l[c]=s[c];n[e]=l}}else n[e]=new a(r)}var DP=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=jr()}return n.prototype.initData=function(e,t,r){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=d4[i.sourceFormat];this._dimValueGetter=r||a,this._rawExtent=[],Nte(i),this._dimensions=Zr(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var r=this._calcDimNameToIdx,i=this._dimensions,a=r.get(e);if(a!=null){if(i[a].type===t)return a}else a=i.length;return i[a]={type:t},r.set(e,a),this._chunks[a]=new $te[t||"float"](this._rawCount),this._rawExtent[a]=Mm(),a},n.prototype.collectOrdinalMeta=function(e,t){var r=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,s=i.ordinalOffset||0,o=r.length;s===0&&(a[e]=Mm());for(var l=a[e],c=s;c<o;c++){var u=r[c]=t.parseAndCollect(r[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}i.ordinalMeta=t,i.ordinalOffset=o,i.type="ordinal"},n.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],r=t.ordinalMeta;return r},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,r=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},n.prototype.appendValues=function(e,t){for(var r=this._chunks,i=this._dimensions,a=i.length,s=this._rawExtent,o=this.count(),l=o+Math.max(e.length,t||0),c=0;c<a;c++){var u=i[c];_H(r,c,u.type,l,!0)}for(var d=[],f=o;f<l;f++)for(var h=f-o,p=0;p<a;p++){var u=i[p],m=d4.arrayRows.call(this,e[h]||d,u.property,h,p);r[p][f]=m;var g=s[p];m<g[0]&&(g[0]=m),m>g[1]&&(g[1]=m)}return this._rawCount=this._count=l,{start:o,end:l}},n.prototype._initDataFromProvider=function(e,t,r){for(var i=this._provider,a=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,c=Zr(s,function(y){return y.property}),u=0;u<o;u++){var d=s[u];l[u]||(l[u]=Mm()),_H(a,u,d.type,t,r)}if(i.fillStorage)i.fillStorage(e,t,a,l);else for(var f=[],h=e;h<t;h++){f=i.getItem(h,f);for(var p=0;p<o;p++){var m=a[p],g=this._dimValueGetter(f,c[p],h,p);m[h]=g;var v=l[p];g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var r=this._chunks[e];return r?r[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var r=[],i=[];if(t==null){t=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,s=i.length;a<s;a++)r.push(this.get(i[a],t));return r},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var r=this._chunks[e];return r?r[t]:NaN},n.prototype.getSum=function(e){var t=this._chunks[e],r=0;if(t)for(var i=0,a=this.count();i<a;i++){var s=this.get(e,i);isNaN(s)||(r+=s)}return r},n.prototype.getMedian=function(e){var t=[];this.each([e],function(a){isNaN(a)||t.push(a)});var r=t.sort(function(a,s){return a-s}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,r=t[e];if(r!=null&&r<this._count&&r===e)return e;for(var i=0,a=this._count-1;i<=a;){var s=(i+a)/2|0;if(t[s]<e)i=s+1;else if(t[s]>e)a=s-1;else return s}return-1},n.prototype.indicesOfNearest=function(e,t,r){var i=this._chunks,a=i[e],s=[];if(!a)return s;r==null&&(r=1/0);for(var o=1/0,l=-1,c=0,u=0,d=this.count();u<d;u++){var f=this.getRawIndex(u),h=t-a[f],p=Math.abs(h);p<=r&&((p<o||p===o&&h>=0&&l<0)&&(o=p,l=h,c=0),h===l&&(s[c++]=u))}return s.length=c,s},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var r=t.constructor,i=this._count;if(r===Array){e=new r(i);for(var a=0;a<i;a++)e[a]=t[a]}else e=new r(t.buffer,0,i)}else{var r=g1(this._rawCount);e=new r(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var r=this.clone(),i=r.count(),a=g1(r._rawCount),s=new a(i),o=[],l=e.length,c=0,u=e[0],d=r._chunks,f=0;f<i;f++){var h=void 0,p=r.getRawIndex(f);if(l===0)h=t(f);else if(l===1){var m=d[u][p];h=t(m,f)}else{for(var g=0;g<l;g++)o[g]=d[e[g]][p];o[g]=f,h=t.apply(null,o)}h&&(s[c++]=p)}return c<i&&(r._indices=s),r._count=c,r._extent=[],r._updateGetRawIdx(),r},n.prototype.selectRange=function(e){var t=this.clone(),r=t._count;if(!r)return this;var i=pa(e),a=i.length;if(!a)return this;var s=t.count(),o=g1(t._rawCount),l=new o(s),c=0,u=i[0],d=e[u][0],f=e[u][1],h=t._chunks,p=!1;if(!t._indices){var m=0;if(a===1){for(var g=h[i[0]],v=0;v<r;v++){var y=g[v];(y>=d&&y<=f||isNaN(y))&&(l[c++]=m),m++}p=!0}else if(a===2){for(var g=h[i[0]],b=h[i[1]],_=e[i[1]][0],w=e[i[1]][1],v=0;v<r;v++){var y=g[v],x=b[v];(y>=d&&y<=f||isNaN(y))&&(x>=_&&x<=w||isNaN(x))&&(l[c++]=m),m++}p=!0}}if(!p)if(a===1)for(var v=0;v<s;v++){var M=t.getRawIndex(v),y=h[i[0]][M];(y>=d&&y<=f||isNaN(y))&&(l[c++]=M)}else for(var v=0;v<s;v++){for(var C=!0,M=t.getRawIndex(v),T=0;T<a;T++){var A=i[T],y=h[A][M];(y<e[A][0]||y>e[A][1])&&(C=!1)}C&&(l[c++]=t.getRawIndex(v))}return c<s&&(t._indices=l),t._count=c,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var r=this.clone(e);return this._updateDims(r,e,t),r},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,r){for(var i=e._chunks,a=[],s=t.length,o=e.count(),l=[],c=e._rawExtent,u=0;u<t.length;u++)c[t[u]]=Mm();for(var d=0;d<o;d++){for(var f=e.getRawIndex(d),h=0;h<s;h++)l[h]=i[t[h]][f];l[s]=d;var p=r&&r.apply(null,l);if(p!=null){typeof p!="object"&&(a[0]=p,p=a);for(var u=0;u<p.length;u++){var m=t[u],g=p[u],v=c[m],y=i[m];y&&(y[f]=g),g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}}}},n.prototype.lttbDownSample=function(e,t){var r=this.clone([e],!0),i=r._chunks,a=i[e],s=this.count(),o=0,l=Math.floor(1/t),c=this.getRawIndex(0),u,d,f,h=new(g1(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));h[o++]=c;for(var p=1;p<s-1;p+=l){for(var m=Math.min(p+l,s-1),g=Math.min(p+l*2,s),v=(g+m)/2,y=0,b=m;b<g;b++){var _=this.getRawIndex(b),w=a[_];isNaN(w)||(y+=w)}y/=g-m;var x=p,M=Math.min(p+l,s),C=p-1,T=a[c];u=-1,f=x;for(var A=-1,I=0,b=x;b<M;b++){var _=this.getRawIndex(b),w=a[_];if(isNaN(w)){I++,A<0&&(A=_);continue}d=Math.abs((C-v)*(w-T)-(C-b)*(y-T)),d>u&&(u=d,f=_)}I>0&&I<M-x&&(h[o++]=Math.min(A,f),f=Math.max(A,f)),h[o++]=f,c=f}return h[o++]=this.getRawIndex(s-1),r._count=o,r._indices=h,r.getRawIndex=this._getRawIdx,r},n.prototype.downSample=function(e,t,r,i){for(var a=this.clone([e],!0),s=a._chunks,o=[],l=Math.floor(1/t),c=s[e],u=this.count(),d=a._rawExtent[e]=Mm(),f=new(g1(this._rawCount))(Math.ceil(u/l)),h=0,p=0;p<u;p+=l){l>u-p&&(l=u-p,o.length=l);for(var m=0;m<l;m++){var g=this.getRawIndex(p+m);o[m]=c[g]}var v=r(o),y=this.getRawIndex(Math.min(p+i(o,v)||0,u-1));c[y]=v,v<d[0]&&(d[0]=v),v>d[1]&&(d[1]=v),f[h++]=y}return a._count=h,a._indices=f,a._updateGetRawIdx(),a},n.prototype.each=function(e,t){if(this._count)for(var r=e.length,i=this._chunks,a=0,s=this.count();a<s;a++){var o=this.getRawIndex(a);switch(r){case 0:t(a);break;case 1:t(i[e[0]][o],a);break;case 2:t(i[e[0]][o],i[e[1]][o],a);break;default:for(var l=0,c=[];l<r;l++)c[l]=i[e[l]][o];c[l]=a,t.apply(null,c)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],r=Mm();if(!t)return r;var i=this.count(),a=!this._indices,s;if(a)return this._rawExtent[e].slice();if(s=this._extent[e],s)return s.slice();s=r;for(var o=s[0],l=s[1],c=0;c<i;c++){var u=this.getRawIndex(c),d=t[u];d<o&&(o=d),d>l&&(l=d)}return s=[o,l],this._extent[e]=s,s},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var r=[],i=this._chunks,a=0;a<i.length;a++)r.push(i[a][t]);return r},n.prototype.clone=function(e,t){var r=new n,i=this._chunks,a=e&&Sh(e,function(o,l){return o[l]=!0,o},{});if(a)for(var s=0;s<i.length;s++)r._chunks[s]=a[s]?rVe(i[s]):i[s];else r._chunks=i;return this._copyCommonProps(r),t||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=ei(this._extent),e._rawExtent=ei(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var r=this._indices.length;t=new e(r);for(var i=0;i<r;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function e(t,r,i,a){return vC(t[a],this._dimensions[a])}d4={arrayRows:e,objectRows:function(t,r,i,a){return vC(t[r],this._dimensions[a])},keyedColumns:e,original:function(t,r,i,a){var s=t&&(t.value==null?t:t.value);return vC(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(t,r,i,a){return t[a]}}}(),n}(),iVe=function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),r=!!t.length,i,a;if(sx(e)){var s=e,o=void 0,l=void 0,c=void 0;if(r){var u=t[0];u.prepareSource(),c=u.getSource(),o=c.data,l=c.sourceFormat,a=[u._getVersionSign()]}else o=s.get("data",!0),l=al(o)?Jf:Pu,a=[];var d=this._getSourceMetaRawOption()||{},f=c&&c.metaRawOption||{},h=Xr(d.seriesLayoutBy,f.seriesLayoutBy)||null,p=Xr(d.sourceHeader,f.sourceHeader),m=Xr(d.dimensions,f.dimensions),g=h!==f.seriesLayoutBy||!!p!=!!f.sourceHeader||m;i=g?[LP(o,{seriesLayoutBy:h,sourceHeader:p,dimensions:m},l)]:[]}else{var v=e;if(r){var y=this._applyTransform(t);i=y.sourceList,a=y.upstreamSignList}else{var b=v.get("source",!0);i=[LP(b,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},n.prototype._applyTransform=function(e){var t=this._sourceHost,r=t.get("transform",!0),i=t.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&SH(a)}var s,o=[],l=[];return Mt(e,function(c){c.prepareSource();var u=c.getSource(i||0),d="";i!=null&&!u&&SH(d),o.push(u),l.push(c._getVersionSign())}),r?s=JHe(r,o,{datasetIndex:t.componentIndex}):i!=null&&(s=[NHe(o[0])]),{sourceList:s,upstreamSignList:l}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var r=e[t];if(r._isDirty()||this._upstreamSignList[t]!==r._getVersionSign())return!0}},n.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,r){var i=0,a=this._storeList,s=a[i];s||(s=a[i]={});var o=s[r];if(!o){var l=this._getUpstreamSourceManagers()[0];sx(this._sourceHost)&&l?o=l._innerGetDataStore(e,t,r):(o=new DP,o.initData(new Bte(t,e.length),e)),s[r]=o}return o},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(sx(e)){var t=Mte(e);return t?[t.getSourceManager()]:[]}else return Zr(lHe(e),function(r){return r.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,r,i;if(sx(e))t=e.get("seriesLayoutBy",!0),r=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;t=a.get("seriesLayoutBy",!0),r=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:r,dimensions:i}},n}();function sx(n){return n.mainType==="series"}function SH(n){throw new Error(n)}var Gte="line-height:1";function Wte(n,e){var t=n.color||"#6e7079",r=n.fontSize||12,i=n.fontWeight||"400",a=n.color||"#464646",s=n.fontSize||14,o=n.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Tl(r+"")+"px;color:"+Tl(t)+";font-weight:"+Tl(i+""),valueStyle:"font-size:"+Tl(s+"")+"px;color:"+Tl(a)+";font-weight:"+Tl(o+"")}:{nameStyle:{fontSize:r,fill:t,fontWeight:i},valueStyle:{fontSize:s,fill:a,fontWeight:o}}}var aVe=[0,10,20,30],sVe=["",`
`,`

`,`


`];function B_(n,e){return e.type=n,e}function kP(n){return n.type==="section"}function qte(n){return kP(n)?oVe:lVe}function Kte(n){if(kP(n)){var e=0,t=n.blocks.length,r=t>1||t>0&&!n.noHeader;return Mt(n.blocks,function(i){var a=Kte(i);a>=e&&(e=a+ +(r&&(!a||kP(i)&&!i.noHeader)))}),e}return 0}function oVe(n,e,t,r){var i=e.noHeader,a=cVe(Kte(e)),s=[],o=e.blocks||[];Rd(!o||Zn(o)),o=o||[];var l=n.orderMode;if(e.sortBlocks&&l){o=o.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(zg(c,l)){var u=new WHe(c[l],null);o.sort(function(p,m){return u.evaluate(p.sortParam,m.sortParam)})}else l==="seriesDesc"&&o.reverse()}Mt(o,function(p,m){var g=e.valueFormatter,v=qte(p)(g?pn(pn({},n),{valueFormatter:g}):n,p,m>0?a.html:0,r);v!=null&&s.push(v)});var d=n.renderMode==="richText"?s.join(a.richText):OP(s.join(""),i?t:a.html);if(i)return d;var f=PP(e.header,"ordinal",n.useUTC),h=Wte(r,n.renderMode).nameStyle;return n.renderMode==="richText"?Yte(n,f,h)+a.richText+d:OP('<div style="'+h+";"+Gte+';">'+Tl(f)+"</div>"+d,t)}function lVe(n,e,t,r){var i=n.renderMode,a=e.noName,s=e.noValue,o=!e.markerType,l=e.name,c=n.useUTC,u=e.valueFormatter||n.valueFormatter||function(_){return _=Zn(_)?_:[_],Zr(_,function(w,x){return PP(w,Zn(h)?h[x]:h,c)})};if(!(a&&s)){var d=o?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),f=a?"":PP(l,"ordinal",c),h=e.valueType,p=s?[]:u(e.value),m=!o||!a,g=!o&&a,v=Wte(r,i),y=v.nameStyle,b=v.valueStyle;return i==="richText"?(o?"":d)+(a?"":Yte(n,f,y))+(s?"":fVe(n,p,m,g,b)):OP((o?"":d)+(a?"":uVe(f,!o,y))+(s?"":dVe(p,m,g,b)),t)}}function wH(n,e,t,r,i,a){if(n){var s=qte(n),o={useUTC:i,renderMode:t,orderMode:r,markupStyleCreator:e,valueFormatter:n.valueFormatter};return s(o,n,0,a)}}function cVe(n){return{html:aVe[n],richText:sVe[n]}}function OP(n,e){var t='<div style="clear:both"></div>',r="margin: "+e+"px 0 0";return'<div style="'+r+";"+Gte+';">'+n+t+"</div>"}function uVe(n,e,t){var r=e?"margin-left:2px":"";return'<span style="'+t+";"+r+'">'+Tl(n)+"</span>"}function dVe(n,e,t,r){var i=t?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return n=Zn(n)?n:[n],'<span style="'+a+";"+r+'">'+Zr(n,function(s){return Tl(s)}).join("&nbsp;&nbsp;")+"</span>"}function Yte(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function fVe(n,e,t,r,i){var a=[i],s=r?10:20;return t&&a.push({padding:[0,0,0,s],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(Zn(e)?e.join("  "):e,a)}function hVe(n,e){var t=n.getData().getItemVisual(e,"style"),r=t[n.visualDrawType];return D_(r)}function Xte(n,e){var t=n.get("padding");return t??(e==="richText"?[8,10]:10)}var f4=function(){function n(){this.richTextStyles={},this._nextStyleNameId=fee()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,r){var i=r==="richText"?this._generateStyleName():null,a=JUe({color:t,type:e,renderMode:r,markerId:i});return dr(a)?a:(this.richTextStyles[i]=a.style,a.content)},n.prototype.wrapRichTextStyle=function(e,t){var r={};Zn(t)?Mt(t,function(a){return pn(r,a)}):pn(r,t);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+e+"}"},n}();function pVe(n){var e=n.series,t=n.dataIndex,r=n.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),s=a.length,o=e.getRawValue(t),l=Zn(o),c=hVe(e,t),u,d,f,h;if(s>1||l&&!s){var p=mVe(o,e,t,a,c);u=p.inlineValues,d=p.inlineValueTypes,f=p.blocks,h=p.inlineValues[0]}else if(s){var m=i.getDimensionInfo(a[0]);h=u=PM(i,t,a[0]),d=m.type}else h=u=l?o[0]:o;var g=e8(e),v=g&&e.name||"",y=i.getName(t),b=r?v:y;return B_("section",{header:v,noHeader:r||!g,sortParam:h,blocks:[B_("nameValue",{markerType:"item",markerColor:c,name:b,noName:!nu(b),value:u,valueType:d})].concat(f||[])})}function mVe(n,e,t,r,i){var a=e.getData(),s=Sh(n,function(d,f,h){var p=a.getDimensionInfo(h);return d=d||p&&p.tooltip!==!1&&p.displayName!=null},!1),o=[],l=[],c=[];r.length?Mt(r,function(d){u(PM(a,t,d),d)}):Mt(n,u);function u(d,f){var h=a.getDimensionInfo(f);!h||h.otherDims.tooltip===!1||(s?c.push(B_("nameValue",{markerType:"subItem",markerColor:i,name:h.displayName,value:d,valueType:h.type})):(o.push(d),l.push(h.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:c}}var lf=ja();function ox(n,e){return n.getName(e)||n.getId(e)}var vVe="__universalTransitionEnabled",PA=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,r,i){this.seriesIndex=this.componentIndex,this.dataTask=Tb({count:yVe,reset:bVe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i);var a=lf(this).sourceManager=new iVe(this);a.prepareSource();var s=this.getInitialData(t,i);CH(s,this),this.dataTask.context.data=s,lf(this).dataBeforeProcessed=s,xH(this),this._initSelectedMapFromData(s)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=RM(this),a=i?S8(t):{},s=this.subType;ta.hasClass(s)&&(s+="Series"),Xi(t,r.getTheme().get(this.subType)),Xi(t,this.getDefaultOption()),gP(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&O_(t,a,i)},e.prototype.mergeOption=function(t,r){t=Xi(this.option,t,!0),this.fillDataTextStyle(t.data);var i=RM(this);i&&O_(this.option,t,i);var a=lf(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(t,r);CH(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,lf(this).dataBeforeProcessed=s,xH(this),this._initSelectedMapFromData(s)},e.prototype.fillDataTextStyle=function(t){if(t&&!al(t))for(var r=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&gP(t[i],"label",r)},e.prototype.getInitialData=function(t,r){},e.prototype.appendData=function(t){var r=this.getRawData();r.appendData(t.data)},e.prototype.getData=function(t){var r=NP(this);if(r){var i=r.context.data;return t==null?i:i.getLinkedData(t)}else return lf(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var r=NP(this);if(r){var i=r.context;i.outputData=t,r!==this.dataTask&&(i.data=t)}lf(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return jr(t)},e.prototype.getSourceManager=function(){return lf(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return lf(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,r,i){return pVe({series:this,dataIndex:t,multipleSeries:r})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Lr.node&&!(t&&t.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,r,i){var a=this.ecModel,s=w8.prototype.getColorFromPalette.call(this,t,r,i);return s||(s=a.getColorFromPalette(t,r,i)),s},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,r){this._innerSelect(this.getData(r),t)},e.prototype.unselect=function(t,r){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,s=this.getData(r);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<t.length;o++){var l=t[o],c=ox(s,l);i[c]=!1,this._selectedDataIndicesMap[c]=-1}}},e.prototype.toggleSelect=function(t,r){for(var i=[],a=0;a<t.length;a++)i[0]=t[a],this.isSelected(t[a],r)?this.unselect(i,r):this.select(i,r)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,r=pa(t),i=[],a=0;a<r.length;a++){var s=t[r[a]];s>=0&&i.push(s)}return i},e.prototype.isSelected=function(t,r){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(r);return(i==="all"||i[ox(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[vVe])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,r){var i,a,s=this.option,o=s.selectedMode,l=r.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){fr(s.selectedMap)||(s.selectedMap={});for(var c=s.selectedMap,u=0;u<l;u++){var d=r[u],f=ox(t,d);c[f]=!0,this._selectedDataIndicesMap[f]=t.getRawIndex(d)}}else if(o==="single"||o===!0){var h=r[l-1],f=ox(t,h);s.selectedMap=(i={},i[f]=!0,i),this._selectedDataIndicesMap=(a={},a[f]=t.getRawIndex(h),a)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var r=[];t.hasItemOption&&t.each(function(i){var a=t.getRawDataItem(i);a&&a.selected&&r.push(i)}),r.length>0&&this._innerSelect(t,r)}},e.registerClass=function(t){return ta.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(ta);qd(PA,$He);qd(PA,w8);yee(PA,ta);function xH(n){var e=n.name;e8(n)||(n.name=gVe(n)||e)}function gVe(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),r=[];return Mt(t,function(i){var a=e.getDimensionInfo(i);a.displayName&&r.push(a.displayName)}),r.join(" ")}function yVe(n){return n.model.getRawData().count()}function bVe(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),_Ve}function _Ve(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function CH(n,e){Mt(aFe(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,Da(SVe,e))})}function SVe(n,e){var t=NP(n);return t&&t.setOutputEnd((e||this).count()),e}function NP(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var r=t.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(n.uid))}return r}}const F_=PA;var T8=function(){function n(){this.group=new bu,this.uid=AA("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){},n.prototype.updateLayout=function(e,t,r,i){},n.prototype.updateVisual=function(e,t,r,i){},n.prototype.toggleBlurSeries=function(e,t,r){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n}();r8(T8);i8(T8);const xh=T8;function wVe(){var n=ja();return function(e){var t=n(e),r=e.pipelineContext,i=!!t.large,a=!!t.progressiveRender,s=t.large=!!(r&&r.large),o=t.progressiveRender=!!(r&&r.progressiveRender);return(i!==s||a!==o)&&"reset"}}var jte=ja(),xVe=wVe(),A8=function(){function n(){this.group=new bu,this.uid=AA("viewChart"),this.renderTask=Tb({plan:CVe,reset:MVe}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.highlight=function(e,t,r,i){var a=e.getData(i&&i.dataType);a&&TH(a,i,"emphasis")},n.prototype.downplay=function(e,t,r,i){var a=e.getData(i&&i.dataType);a&&TH(a,i,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateLayout=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateVisual=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.eachRendered=function(e){hte(this.group,e)},n.markUpdateMethod=function(e,t){jte(e).updateMethod=t},n.protoInitialize=function(){var e=n.prototype;e.type="chart"}(),n}();function MH(n,e,t){n&&AP(n)&&(e==="emphasis"?wP:xP)(n,t)}function TH(n,e,t){var r=BS(n,e),i=e&&e.highlightKey!=null?Sze(e.highlightKey):null;r!=null?Mt(Qs(r),function(a){MH(n.getItemGraphicEl(a),t,i)}):n.eachItemGraphicEl(function(a){MH(a,t,i)})}r8(A8);i8(A8);function CVe(n){return xVe(n.model)}function MVe(n){var e=n.model,t=n.ecModel,r=n.api,i=n.payload,a=e.pipelineContext.progressiveRender,s=n.view,o=i&&jte(i).updateMethod,l=a?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](e,t,r,i),TVe[l]}var TVe={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const og=A8;var LM="\0__throttleOriginMethod",AH="\0__throttleRate",EH="\0__throttleType";function E8(n,e,t){var r,i=0,a=0,s=null,o,l,c,u;e=e||0;function d(){a=new Date().getTime(),s=null,n.apply(l,c||[])}var f=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];r=new Date().getTime(),l=this,c=h;var m=u||e,g=u||t;u=null,o=r-(g?i:a)-m,clearTimeout(s),g?s=setTimeout(d,m):o>=0?d():s=setTimeout(d,-o),i=r};return f.clear=function(){s&&(clearTimeout(s),s=null)},f.debounceNextCall=function(h){u=h},f}function Zte(n,e,t,r){var i=n[e];if(i){var a=i[LM]||i,s=i[EH],o=i[AH];if(o!==t||s!==r){if(t==null||!r)return n[e]=a;i=n[e]=E8(a,t,r==="debounce"),i[LM]=a,i[EH]=r,i[AH]=t}return i}}function BP(n,e){var t=n[e];t&&t[LM]&&(t.clear&&t.clear(),n[e]=t[LM])}var IH=ja(),RH={itemStyle:P_(vte,!0),lineStyle:P_(mte,!0)},AVe={lineStyle:"stroke",itemStyle:"fill"};function Qte(n,e){var t=n.visualStyleMapper||RH[e];return t||(console.warn("Unknown style type '"+e+"'."),RH.itemStyle)}function Jte(n,e){var t=n.visualDrawType||AVe[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var EVe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=n.getModel(r),a=Qte(n,r),s=a(i),o=i.getShallow("decal");o&&(t.setVisual("decal",o),o.dirty=!0);var l=Jte(n,r),c=s[l],u=gi(c)?c:null,d=s.fill==="auto"||s.stroke==="auto";if(!s[l]||u||d){var f=n.getColorFromPalette(n.name,null,e.getSeriesCount());s[l]||(s[l]=f,t.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||gi(s.fill)?f:s.fill,s.stroke=s.stroke==="auto"||gi(s.stroke)?f:s.stroke}if(t.setVisual("style",s),t.setVisual("drawType",l),!e.isSeriesFiltered(n)&&u)return t.setVisual("colorFromPalette",!1),{dataEach:function(h,p){var m=n.getDataParams(p),g=pn({},s);g[l]=u(m),h.setItemVisual(p,"style",g)}}}},y1=new Ds,IVe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!(n.ignoreStyleOnData||e.isSeriesFiltered(n))){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=Qte(n,r),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[r]){y1.option=l[r];var c=i(y1),u=s.ensureUniqueItemVisual(o,"style");pn(u,c),y1.option.decal&&(s.setItemVisual(o,"decal",y1.option.decal),y1.option.decal.dirty=!0),a in c&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},RVe={performRawSeries:!0,overallReset:function(n){var e=jr();n.eachSeries(function(t){var r=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+r,a=e.get(i);a||(a={},e.set(i,a)),IH(t).scope=a}}),n.eachSeries(function(t){if(!(t.isColorBySeries()||n.isSeriesFiltered(t))){var r=t.getRawData(),i={},a=t.getData(),s=IH(t).scope,o=t.visualStyleAccessPath||"itemStyle",l=Jte(t,o);a.each(function(c){var u=a.getRawIndex(c);i[u]=c}),r.each(function(c){var u=i[c],d=a.getItemVisual(u,"colorFromPalette");if(d){var f=a.ensureUniqueItemVisual(u,"style"),h=r.getName(c)||c+"",p=r.count();f[l]=t.getColorFromPalette(h,s,p)}})}})}},lx=Math.PI;function PVe(n,e){e=e||{},Zi(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new bu,r=new So({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(r);var i=new no({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new So({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(a);var s;return e.showSpinner&&(s=new d8({shape:{startAngle:-lx/2,endAngle:-lx/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:lx*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:lx*3/2}).delay(300).start("circularInOut"),t.add(s)),t.resize=function(){var o=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,c=(n.getWidth()-l*2-(e.showSpinner&&o?10:0)-o)/2-(e.showSpinner&&o?0:5+o/2)+(e.showSpinner?0:o/2)+(o?0:l),u=n.getHeight()/2;e.showSpinner&&s.setShape({cx:c,cy:u}),a.setShape({x:c-l,y:u-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}var LVe=function(){function n(e,t,r,i){this._stageTaskMap=jr(),this.ecInstance=e,this.api=t,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),i=r.context,a=!t&&r.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>r.blockIndex,s=a?r.step:null,o=i&&i.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),s=r.progressiveEnabled&&t.incrementalPrepareRender&&a>=r.threshold,o=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=r.context={progressiveRender:s,modDataCount:l,large:o}},n.prototype.restorePipelines=function(e){var t=this,r=t._pipelineMap=jr();e.eachSeries(function(i){var a=i.getProgressive(),s=i.uid;r.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(i,i.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),r=this.api;Mt(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),s="";Rd(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,a,t,r),i.overallReset&&this._createOverallStageTask(i,a,t,r)},this)},n.prototype.prepareView=function(e,t,r,i){var a=e.renderTask,s=a.context;s.model=t,s.ecModel=r,s.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(t,a)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,r){this._performStageTasks(this._visualHandlers,e,t,r)},n.prototype._performStageTasks=function(e,t,r,i){i=i||{};var a=!1,s=this;Mt(e,function(l,c){if(!(i.visualType&&i.visualType!==l.visualType)){var u=s._stageTaskMap.get(l.uid),d=u.seriesTaskMap,f=u.overallTask;if(f){var h,p=f.agentStubMap;p.each(function(g){o(i,g)&&(g.dirty(),h=!0)}),h&&f.dirty(),s.updatePayload(f,r);var m=s.getPerformArgs(f,i.block);p.each(function(g){g.perform(m)}),f.perform(m)&&(a=!0)}else d&&d.each(function(g,v){o(i,g)&&g.dirty();var y=s.getPerformArgs(g,i.block);y.skip=!l.performRawSeries&&t.isSeriesFiltered(g.context.model),s.updatePayload(g,r),g.perform(y)&&(a=!0)})}});function o(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}this.unfinished=a||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t=r.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,r,i){var a=this,s=t.seriesTaskMap,o=t.seriesTaskMap=jr(),l=e.seriesType,c=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(u):l?r.eachRawSeriesByType(l,u):c&&c(r,i).each(u);function u(d){var f=d.uid,h=o.set(f,s&&s.get(f)||Tb({plan:BVe,reset:FVe,count:UVe}));h.context={model:d,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(d,h)}},n.prototype._createOverallStageTask=function(e,t,r,i){var a=this,s=t.overallTask=t.overallTask||Tb({reset:DVe});s.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:a};var o=s.agentStubMap,l=s.agentStubMap=jr(),c=e.seriesType,u=e.getTargetSeries,d=!0,f=!1,h="";Rd(!e.createOnAllSeries,h),c?r.eachRawSeriesByType(c,p):u?u(r,i).each(p):(d=!1,Mt(r.getSeries(),p));function p(m){var g=m.uid,v=l.set(g,o&&o.get(g)||(f=!0,Tb({reset:kVe,onDirty:NVe})));v.context={model:m,overallProgress:d},v.agent=s,v.__block=d,a._pipe(m,v)}f&&s.dirty()},n.prototype._pipe=function(e,t){var r=e.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},n.wrapStageHandler=function(e,t){return gi(e)&&(e={overallReset:e,seriesType:HVe(e)}),e.uid=AA("stageHandler"),t&&(e.visualType=t),e},n}();function DVe(n){n.overallReset(n.ecModel,n.api,n.payload)}function kVe(n){return n.overallProgress&&OVe}function OVe(){this.agent.dirty(),this.getDownstream().dirty()}function NVe(){this.agent&&this.agent.dirty()}function BVe(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function FVe(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=Qs(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?Zr(e,function(t,r){return ene(r)}):zVe}var zVe=ene(0);function ene(n){return function(e,t){var r=t.data,i=t.resetDefines[n];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(e,r)}}function UVe(n){return n.data.count()}function HVe(n){DM=null;try{n(z_,tne)}catch{}return DM}var z_={},tne={},DM;nne(z_,Ite);nne(tne,Rte);z_.eachSeriesByType=z_.eachRawSeriesByType=function(n){DM=n};z_.eachComponent=function(n){n.mainType==="series"&&n.subType&&(DM=n.subType)};function nne(n,e){for(var t in e.prototype)n[t]=_o}const rne=LVe;var PH=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const VVe={color:PH,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],PH]};var Vs="#B9B8CE",LH="#100C2A",cx=function(){return{axisLine:{lineStyle:{color:Vs}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},DH=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],ine={darkMode:!0,color:DH,backgroundColor:LH,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Vs}},textStyle:{color:Vs},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Vs}},dataZoom:{borderColor:"#71708A",textStyle:{color:Vs},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Vs}},timeline:{lineStyle:{color:Vs},label:{color:Vs},controlStyle:{color:Vs,borderColor:Vs}},calendar:{itemStyle:{color:LH},dayLabel:{color:Vs},monthLabel:{color:Vs},yearLabel:{color:Vs}},timeAxis:cx(),logAxis:cx(),valueAxis:cx(),categoryAxis:cx(),line:{symbol:"circle"},graph:{color:DH},gauge:{title:{color:Vs},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Vs},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};ine.categoryAxis.splitLine.show=!1;const $Ve=ine;var GVe=function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},r={},i={};if(dr(e)){var a=ru(e);t.mainType=a.main||null,t.subType=a.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};Mt(e,function(l,c){for(var u=!1,d=0;d<s.length;d++){var f=s[d],h=c.lastIndexOf(f);if(h>0&&h===c.length-f.length){var p=c.slice(0,h);p!=="data"&&(t.mainType=p,t[f.toLowerCase()]=l,u=!0)}}o.hasOwnProperty(c)&&(r[c]=l,u=!0),u||(i[c]=l)})}return{cptQuery:t,dataQuery:r,otherQuery:i}},n.prototype.filter=function(e,t){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,a=r.packedEvent,s=r.model,o=r.view;if(!s||!o)return!0;var l=t.cptQuery,c=t.dataQuery;return u(l,s,"mainType")&&u(l,s,"subType")&&u(l,s,"index","componentIndex")&&u(l,s,"name")&&u(l,s,"id")&&u(c,a,"name")&&u(c,a,"dataIndex")&&u(c,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,i,a));function u(d,f,h,p){return d[h]==null||f[p||h]===d[h]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),FP=["symbol","symbolSize","symbolRotate","symbolOffset"],kH=FP.concat(["symbolKeepAspect"]),WVe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var r={},i={},a=!1,s=0;s<FP.length;s++){var o=FP[s],l=n.get(o);gi(l)?(a=!0,i[o]=l):r[o]=l}if(r.symbol=r.symbol||n.defaultSymbol,t.setVisual(pn({legendIcon:n.legendIcon||r.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},r)),e.isSeriesFiltered(n))return;var c=pa(i);function u(d,f){for(var h=n.getRawValue(f),p=n.getDataParams(f),m=0;m<c.length;m++){var g=c[m];d.setItemVisual(f,g,i[g](h,p))}}return{dataEach:a?u:null}}},qVe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.hasSymbolVisual||e.isSeriesFiltered(n))return;var t=n.getData();function r(i,a){for(var s=i.getItemModel(a),o=0;o<kH.length;o++){var l=kH[o],c=s.getShallow(l,!0);c!=null&&i.setItemVisual(a,l,c)}}return{dataEach:t.hasItemOption?r:null}}};function KVe(n,e,t){switch(t){case"color":var r=n.getItemVisual(e,"style");return r[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function YVe(n,e){switch(e){case"color":var t=n.getVisual("style");return t[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function XVe(n,e){function t(r,i){var a=[];return r.eachComponent({mainType:"series",subType:n,query:i},function(s){a.push(s.seriesIndex)}),a}Mt([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(r){e(r[0],function(i,a,s){i=pn({},i),s.dispatchAction(pn(i,{type:r[1],seriesIndex:t(a,i)}))})})}function Tm(n,e,t,r,i){var a=n+e;t.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,c=i.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===o){var d=s.getData(),f=BS(d,i.fromActionPayload);t.trigger(a,{type:a,seriesId:s.id,name:Zn(f)?d.getName(f[0]):d.getName(f),selected:dr(l)?l:pn({},l)})}})}function jVe(n,e,t){n.on("selectchanged",function(r){var i=t.getModel();r.isFromClick?(Tm("map","selectchanged",e,i,r),Tm("pie","selectchanged",e,i,r)):r.fromAction==="select"?(Tm("map","selected",e,i,r),Tm("pie","selected",e,i,r)):r.fromAction==="unselect"&&(Tm("map","unselected",e,i,r),Tm("pie","unselected",e,i,r))})}function eb(n,e,t){for(var r;n&&!(e(n)&&(r=n,t));)n=n.__hostTarget||n.parent;return r}var ZVe=Math.round(Math.random()*9),QVe=typeof Object.defineProperty=="function",JVe=function(){function n(){this._id="__ec_inner_"+ZVe++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var r=this._guard(e);return QVe?Object.defineProperty(r,this._id,{value:t,enumerable:!1,configurable:!0}):r[this._id]=t,this},n.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n}();const e$e=JVe;var t$e=Fi.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,a=e.height/2;n.moveTo(t,r-a),n.lineTo(t+i,r+a),n.lineTo(t-i,r+a),n.closePath()}}),n$e=Fi.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,a=e.height/2;n.moveTo(t,r-a),n.lineTo(t+i,r),n.lineTo(t,r+a),n.lineTo(t-i,r),n.closePath()}}),r$e=Fi.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,r=e.y,i=e.width/5*3,a=Math.max(i,e.height),s=i/2,o=s*s/(a-s),l=r-a+s+o,c=Math.asin(o/s),u=Math.cos(c)*s,d=Math.sin(c),f=Math.cos(c),h=s*.6,p=s*.7;n.moveTo(t-u,l+o),n.arc(t,l,s,Math.PI-c,Math.PI*2+c),n.bezierCurveTo(t+u-d*h,l+o+f*h,t,r-p,t,r),n.bezierCurveTo(t,r-p,t-u+d*h,l+o+f*h,t-u,l+o),n.closePath()}}),i$e=Fi.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,r=e.width,i=e.x,a=e.y,s=r/3*2;n.moveTo(i,a),n.lineTo(i+s,a+t),n.lineTo(i,a+t/4*3),n.lineTo(i-s,a+t),n.lineTo(i,a),n.closePath()}}),a$e={line:US,rect:So,roundRect:So,square:So,circle:u8,diamond:n$e,pin:r$e,arrow:i$e,triangle:t$e},s$e={line:function(n,e,t,r,i){i.x1=n,i.y1=e+r/2,i.x2=n+t,i.y2=e+r/2},rect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r},roundRect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r,i.r=Math.min(t,r)/4},square:function(n,e,t,r,i){var a=Math.min(t,r);i.x=n,i.y=e,i.width=a,i.height=a},circle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.r=Math.min(t,r)/2},diamond:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r},pin:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},arrow:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},triangle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r}},zP={};Mt(a$e,function(n,e){zP[e]=new n});var o$e=Fi.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var r=aee(n,e,t),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(r.y=t.y+t.height*.4),r},buildPath:function(n,e,t){var r=e.symbolType;if(r!=="none"){var i=zP[r];i||(r="rect",i=zP[r]),s$e[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(n,i.shape,t)}}});function l$e(n,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=n:t.fill=n,this.markRedraw()}}function I8(n,e,t,r,i,a,s){var o=n.indexOf("empty")===0;o&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var l;return n.indexOf("image://")===0?l=cte(n.slice(8),new Ai(e,t,r,i),s?"center":"cover"):n.indexOf("path://")===0?l=h8(n.slice(7),{},new Ai(e,t,r,i),s?"center":"cover"):l=new o$e({shape:{symbolType:n,x:e,y:t,width:r,height:i}}),l.__isEmptyBrush=o,l.setColor=l$e,a&&l.setColor(a),l}function c$e(n,e){if(n!=null)return Zn(n)||(n=[n,n]),[Ra(n[0],e[0])||0,Ra(Xr(n[1],n[0]),e[1])||0]}function Xp(n){return isFinite(n)}function u$e(n,e,t){var r=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,s=e.y2==null?0:e.y2;e.global||(r=r*t.width+t.x,i=i*t.width+t.x,a=a*t.height+t.y,s=s*t.height+t.y),r=Xp(r)?r:0,i=Xp(i)?i:1,a=Xp(a)?a:0,s=Xp(s)?s:0;var o=n.createLinearGradient(r,a,i,s);return o}function d$e(n,e,t){var r=t.width,i=t.height,a=Math.min(r,i),s=e.x==null?.5:e.x,o=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(s=s*r+t.x,o=o*i+t.y,l=l*a),s=Xp(s)?s:.5,o=Xp(o)?o:.5,l=l>=0&&Xp(l)?l:.5;var c=n.createRadialGradient(s,o,0,s,o,l);return c}function UP(n,e,t){for(var r=e.type==="radial"?d$e(n,e,t):u$e(n,e,t),i=e.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}function f$e(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}function ux(n){return parseInt(n,10)}function dx(n,e,t){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var o=document.defaultView.getComputedStyle(n);return(n[i]||ux(o[r])||ux(n.style[r]))-(ux(o[a])||0)-(ux(o[s])||0)|0}function h$e(n,e){return!n||n==="solid"||!(e>0)?null:n==="dashed"?[4*e,2*e]:n==="dotted"?[e]:ma(n)?[n]:Zn(n)?n:null}function ane(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&h$e(e.lineDash,e.lineWidth),r=e.lineDashOffset;if(t){var i=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;i&&i!==1&&(t=Zr(t,function(a){return a/i}),r/=i)}return[t,r]}var p$e=new D0(!0);function kM(n){var e=n.stroke;return!(e==null||e==="none"||!(n.lineWidth>0))}function OH(n){return typeof n=="string"&&n!=="none"}function OM(n){var e=n.fill;return e!=null&&e!=="none"}function NH(n,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function BH(n,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function HP(n,e,t){var r=bee(e.image,e.__image,t);if(SA(r)){var i=n.createPattern(r,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*sFe),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function m$e(n,e,t,r){var i,a=kM(t),s=OM(t),o=t.strokePercent,l=o<1,c=!e.path;(!e.silent||l)&&c&&e.createPathProxy();var u=e.path||p$e,d=e.__dirty;if(!r){var f=t.fill,h=t.stroke,p=s&&!!f.colorStops,m=a&&!!h.colorStops,g=s&&!!f.image,v=a&&!!h.image,y=void 0,b=void 0,_=void 0,w=void 0,x=void 0;(p||m)&&(x=e.getBoundingRect()),p&&(y=d?UP(n,f,x):e.__canvasFillGradient,e.__canvasFillGradient=y),m&&(b=d?UP(n,h,x):e.__canvasStrokeGradient,e.__canvasStrokeGradient=b),g&&(_=d||!e.__canvasFillPattern?HP(n,f,e):e.__canvasFillPattern,e.__canvasFillPattern=_),v&&(w=d||!e.__canvasStrokePattern?HP(n,h,e):e.__canvasStrokePattern,e.__canvasStrokePattern=_),p?n.fillStyle=y:g&&(_?n.fillStyle=_:s=!1),m?n.strokeStyle=b:v&&(w?n.strokeStyle=w:a=!1)}var M=e.getGlobalScale();u.setScale(M[0],M[1],e.segmentIgnoreThreshold);var C,T;n.setLineDash&&t.lineDash&&(i=ane(e),C=i[0],T=i[1]);var A=!0;(c||d&wv)&&(u.setDPR(n.dpr),l?u.setContext(null):(u.setContext(n),A=!1),u.reset(),e.buildPath(u,e.shape,r),u.toStatic(),e.pathUpdated()),A&&u.rebuildPath(n,l?o:1),C&&(n.setLineDash(C),n.lineDashOffset=T),r||(t.strokeFirst?(a&&BH(n,t),s&&NH(n,t)):(s&&NH(n,t),a&&BH(n,t))),C&&n.setLineDash([])}function v$e(n,e,t){var r=e.__image=bee(t.image,e.__image,e,e.onload);if(!(!r||!SA(r))){var i=t.x||0,a=t.y||0,s=e.getWidth(),o=e.getHeight(),l=r.width/r.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=r.width,o=r.height),t.sWidth&&t.sHeight){var c=t.sx||0,u=t.sy||0;n.drawImage(r,c,u,t.sWidth,t.sHeight,i,a,s,o)}else if(t.sx&&t.sy){var c=t.sx,u=t.sy,d=s-c,f=o-u;n.drawImage(r,c,u,d,f,i,a,s,o)}else n.drawImage(r,i,a,s,o)}}function g$e(n,e,t){var r,i=t.text;if(i!=null&&(i+=""),i){n.font=t.font||L0,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var a=void 0,s=void 0;n.setLineDash&&t.lineDash&&(r=ane(e),a=r[0],s=r[1]),a&&(n.setLineDash(a),n.lineDashOffset=s),t.strokeFirst?(kM(t)&&n.strokeText(i,t.x,t.y),OM(t)&&n.fillText(i,t.x,t.y)):(OM(t)&&n.fillText(i,t.x,t.y),kM(t)&&n.strokeText(i,t.x,t.y)),a&&n.setLineDash([])}}var FH=["shadowBlur","shadowOffsetX","shadowOffsetY"],zH=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function sne(n,e,t,r,i){var a=!1;if(!r&&(t=t||{},e===t))return!1;if(r||e.opacity!==t.opacity){ho(n,i),a=!0;var s=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(s)?h0.opacity:s}(r||e.blend!==t.blend)&&(a||(ho(n,i),a=!0),n.globalCompositeOperation=e.blend||h0.blend);for(var o=0;o<FH.length;o++){var l=FH[o];(r||e[l]!==t[l])&&(a||(ho(n,i),a=!0),n[l]=n.dpr*(e[l]||0))}return(r||e.shadowColor!==t.shadowColor)&&(a||(ho(n,i),a=!0),n.shadowColor=e.shadowColor||h0.shadowColor),a}function UH(n,e,t,r,i){var a=U_(e,i.inHover),s=r?null:t&&U_(t,i.inHover)||{};if(a===s)return!1;var o=sne(n,a,s,r,i);if((r||a.fill!==s.fill)&&(o||(ho(n,i),o=!0),OH(a.fill)&&(n.fillStyle=a.fill)),(r||a.stroke!==s.stroke)&&(o||(ho(n,i),o=!0),OH(a.stroke)&&(n.strokeStyle=a.stroke)),(r||a.opacity!==s.opacity)&&(o||(ho(n,i),o=!0),n.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,c=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==c&&(o||(ho(n,i),o=!0),n.lineWidth=c)}for(var u=0;u<zH.length;u++){var d=zH[u],f=d[0];(r||a[f]!==s[f])&&(o||(ho(n,i),o=!0),n[f]=a[f]||d[1])}return o}function y$e(n,e,t,r,i){return sne(n,U_(e,i.inHover),t&&U_(t,i.inHover),r,i)}function one(n,e){var t=e.transform,r=n.dpr||1;t?n.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):n.setTransform(r,0,0,r,0,0)}function b$e(n,e,t){for(var r=!1,i=0;i<n.length;i++){var a=n[i];r=r||a.isZeroArea(),one(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}t.allClipped=r}function _$e(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}var HH=1,VH=2,$H=3,GH=4;function S$e(n){var e=OM(n),t=kM(n);return!(n.lineDash||!(+e^+t)||e&&typeof n.fill!="string"||t&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function ho(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function U_(n,e){return e&&n.__hoverStyle||n.style}function lne(n,e){jp(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function jp(n,e,t,r){var i=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~qo,e.__isRendered=!1;return}var a=e.__clipPaths,s=t.prevElClipPaths,o=!1,l=!1;if((!s||f$e(a,s))&&(s&&s.length&&(ho(n,t),n.restore(),l=o=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(ho(n,t),n.save(),b$e(a,n,t),o=!0),t.prevElClipPaths=a),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var c=t.prevEl;c||(l=o=!0);var u=e instanceof Fi&&e.autoBatch&&S$e(e.style);o||_$e(i,c.transform)?(ho(n,t),one(n,e)):u||ho(n,t);var d=U_(e,t.inHover);e instanceof Fi?(t.lastDrawType!==HH&&(l=!0,t.lastDrawType=HH),UH(n,e,c,l,t),(!u||!t.batchFill&&!t.batchStroke)&&n.beginPath(),m$e(n,e,d,u),u&&(t.batchFill=d.fill||"",t.batchStroke=d.stroke||"")):e instanceof SP?(t.lastDrawType!==$H&&(l=!0,t.lastDrawType=$H),UH(n,e,c,l,t),g$e(n,e,d)):e instanceof Cy?(t.lastDrawType!==VH&&(l=!0,t.lastDrawType=VH),y$e(n,e,c,l,t),v$e(n,e,d)):e.getTemporalDisplayables&&(t.lastDrawType!==GH&&(l=!0,t.lastDrawType=GH),w$e(n,e,t)),u&&r&&ho(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function w$e(n,e,t){var r=e.getDisplayables(),i=e.getTemporalDisplayables();n.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},s,o;for(s=e.getCursor(),o=r.length;s<o;s++){var l=r[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),jp(n,l,a,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var c=0,u=i.length;c<u;c++){var l=i[c];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),jp(n,l,a,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}var h4=new e$e,WH=new NS(100),qH=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function VP(n,e){if(n==="none")return null;var t=e.getDevicePixelRatio(),r=e.getZr(),i=r.painter.type==="svg";n.dirty&&h4.delete(n);var a=h4.get(n);if(a)return a;var s=Zi(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=i?1:1/t,h4.set(n,o),n.dirty=!1,o;function l(c){for(var u=[t],d=!0,f=0;f<qH.length;++f){var h=s[qH[f]];if(h!=null&&!Zn(h)&&!dr(h)&&!ma(h)&&typeof h!="boolean"){d=!1;break}u.push(h)}var p;if(d){p=u.join(",")+(i?"-svg":"");var m=WH.get(p);m&&(i?c.svgElement=m:c.image=m)}var g=une(s.dashArrayX),v=x$e(s.dashArrayY),y=cne(s.symbol),b=C$e(g),_=dne(v),w=!i&&wy.createCanvas(),x=i&&{tag:"g",attrs:{},key:"dcl",children:[]},M=T(),C;w&&(w.width=M.width*t,w.height=M.height*t,C=w.getContext("2d")),A(),d&&WH.put(p,w||x),c.image=w,c.svgElement=x,c.svgWidth=M.width,c.svgHeight=M.height;function T(){for(var I=1,L=0,k=b.length;L<k;++L)I=cU(I,b[L]);for(var N=1,L=0,k=y.length;L<k;++L)N=cU(N,y[L].length);I*=N;var F=_*b.length*y.length;return{width:Math.max(1,Math.min(I,s.maxTileWidth)),height:Math.max(1,Math.min(F,s.maxTileHeight))}}function A(){C&&(C.clearRect(0,0,w.width,w.height),s.backgroundColor&&(C.fillStyle=s.backgroundColor,C.fillRect(0,0,w.width,w.height)));for(var I=0,L=0;L<v.length;++L)I+=v[L];if(I<=0)return;for(var k=-_,N=0,F=0,D=0;k<M.height;){if(N%2===0){for(var H=F/2%y.length,z=0,B=0,W=0;z<M.width*2;){for(var Z=0,L=0;L<g[D].length;++L)Z+=g[D][L];if(Z<=0)break;if(B%2===0){var ee=(1-s.symbolSize)*.5,J=z+g[D][B]*ee,re=k+v[N]*ee,fe=g[D][B]*s.symbolSize,de=v[N]*s.symbolSize,me=W/2%y[H].length;Re(J,re,fe,de,y[H][me])}z+=g[D][B],++W,++B,B===g[D].length&&(B=0)}++D,D===g.length&&(D=0)}k+=v[N],++F,++N,N===v.length&&(N=0)}function Re(De,Ge,We,K,ue){var ie=i?1:t,$e=I8(ue,De*ie,Ge*ie,We*ie,K*ie,s.color,s.symbolKeepAspect);if(i){var Ne=r.painter.renderOneToVNode($e);Ne&&x.children.push(Ne)}else lne(C,$e)}}}}function cne(n){if(!n||n.length===0)return[["rect"]];if(dr(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!dr(n[t])){e=!1;break}if(e)return cne([n]);for(var r=[],t=0;t<n.length;++t)dr(n[t])?r.push([n[t]]):r.push(n[t]);return r}function une(n){if(!n||n.length===0)return[[0,0]];if(ma(n)){var e=Math.ceil(n);return[[e,e]]}for(var t=!0,r=0;r<n.length;++r)if(!ma(n[r])){t=!1;break}if(t)return une([n]);for(var i=[],r=0;r<n.length;++r)if(ma(n[r])){var e=Math.ceil(n[r]);i.push([e,e])}else{var e=Zr(n[r],function(o){return Math.ceil(o)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function x$e(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(ma(n)){var e=Math.ceil(n);return[e,e]}var t=Zr(n,function(r){return Math.ceil(r)});return n.length%2?t.concat(t):t}function C$e(n){return Zr(n,function(e){return dne(e)})}function dne(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2===1?e*2:e}function M$e(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var r=t.getData();r.hasItemVisual()&&r.each(function(s){var o=r.getItemVisual(s,"decal");if(o){var l=r.ensureUniqueItemVisual(s,"style");l.decal=VP(o,e)}});var i=r.getVisual("decal");if(i){var a=r.getVisual("style");a.decal=VP(i,e)}}})}var T$e=new Ru;const dc=T$e;var fne={};function A$e(n,e){fne[n]=e}function E$e(n){return fne[n]}var I$e=1,R$e=800,P$e=900,L$e=1e3,D$e=2e3,k$e=5e3,hne=1e3,O$e=1100,R8=2e3,pne=3e3,N$e=4e3,LA=4500,B$e=4600,F$e=5e3,z$e=6e3,mne=7e3,U$e={PROCESSOR:{FILTER:L$e,SERIES_FILTER:R$e,STATISTIC:k$e},VISUAL:{LAYOUT:hne,PROGRESSIVE_LAYOUT:O$e,GLOBAL:R8,CHART:pne,POST_CHART_LAYOUT:B$e,COMPONENT:N$e,BRUSH:F$e,CHART_ITEM:LA,ARIA:z$e,DECAL:mne}},gs="__flagInMainProcess",lo="__pendingUpdate",p4="__needsUpdateStatus",KH=/^[a-zA-Z0-9_]+$/,m4="__connectUpdateStatus",YH=0,H$e=1,V$e=2;function vne(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return yne(this,n,e)}}function gne(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yne(this,n,e)}}function yne(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),Ru.prototype[e].apply(n,t)}var bne=function(n){sr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(Ru),_ne=bne.prototype;_ne.on=gne("on");_ne.off=gne("off");var Am,v4,fx,cf,g4,y4,b4,b1,_1,XH,jH,_4,ZH,hx,QH,Sne,ul,JH,wne=function(n){sr(e,n);function e(t,r,i){var a=n.call(this,new GVe)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},dr(r)&&(r=xne[r]),a._dom=t;var s="canvas",o="auto",l=!1,c=a._zr=sU(t,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Xr(i.useDirtyRect,l),useCoarsePointer:Xr(i.useCoarsePointer,o),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=E8(Ni(c.flush,c),17),r=ei(r),r&&Dte(r,!0),a._theme=r,a._locale=VUe(i.locale||gte),a._coordSysMgr=new Pte;var u=a._api=QH(a);function d(f,h){return f.__prio-h.__prio}return iC(BM,d),iC($P,d),a._scheduler=new rne(a,u,$P,BM),a._messageCenter=new bne,a._initEvents(),a.resize=Ni(a.resize,a),c.animation.on("frame",a._onframe,a),XH(c,a),jH(c,a),eP(a),a}return e.prototype._onframe=function(){if(!this._disposed){JH(this);var t=this._scheduler;if(this[lo]){var r=this[lo].silent;this[gs]=!0;try{Am(this),cf.update.call(this,null,this[lo].updateParams)}catch(l){throw this[gs]=!1,this[lo]=null,l}this._zr.flush(),this[gs]=!1,this[lo]=null,b1.call(this,r),_1.call(this,r)}else if(t.unfinished){var i=I$e,a=this._model,s=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),y4(this,a),t.performVisualTasks(a),hx(this,this._model,s,"remain",{}),i-=+new Date-o}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,r,i){if(!this[gs]){if(this._disposed){this.id;return}var a,s,o;if(fr(r)&&(i=r.lazyUpdate,a=r.silent,s=r.replaceMerge,o=r.transition,r=r.notMerge),this[gs]=!0,!this._model||r){var l=new THe(this._api),c=this._theme,u=this._model=new Ite;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(t,{replaceMerge:s},GP);var d={seriesTransition:o,optionChanged:!0};if(i)this[lo]={silent:a,updateParams:d},this[gs]=!1,this.getZr().wakeUp();else{try{Am(this),cf.update.call(this,null,d)}catch(f){throw this[lo]=null,this[gs]=!1,f}this._ssr||this._zr.flush(),this[lo]=null,this[gs]=!1,b1.call(this,a),_1.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Lr.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var r=this._zr.painter;return r.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(Lr.svgSupported){var t=this._zr,r=t.storage.getDisplayList();return Mt(r,function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var r=t.excludeComponents,i=this._model,a=[],s=this;Mt(r,function(l){i.eachComponent({mainType:l},function(c){var u=s._componentsMap[c.__viewId];u.group.ignore||(a.push(u),u.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Mt(a,function(l){l.group.ignore=!1}),o},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var r=t.type==="svg",i=this.group,a=Math.min,s=Math.max,o=1/0;if(eV[i]){var l=o,c=o,u=-o,d=-o,f=[],h=t&&t.pixelRatio||this.getDevicePixelRatio();Mt(Eb,function(b,_){if(b.group===i){var w=r?b.getZr().painter.getSvgDom().innerHTML:b.renderToCanvas(ei(t)),x=b.getDom().getBoundingClientRect();l=a(x.left,l),c=a(x.top,c),u=s(x.right,u),d=s(x.bottom,d),f.push({dom:w,left:x.left,top:x.top})}}),l*=h,c*=h,u*=h,d*=h;var p=u-l,m=d-c,g=wy.createCanvas(),v=sU(g,{renderer:r?"svg":"canvas"});if(v.resize({width:p,height:m}),r){var y="";return Mt(f,function(b){var _=b.left-l,w=b.top-c;y+='<g transform="translate('+_+","+w+')">'+b.dom+"</g>"}),v.painter.getSvgRoot().innerHTML=y,t.connectedBackgroundColor&&v.painter.setBackgroundColor(t.connectedBackgroundColor),v.refreshImmediately(),v.painter.toDataURL()}else return t.connectedBackgroundColor&&v.add(new So({shape:{x:0,y:0,width:p,height:m},style:{fill:t.connectedBackgroundColor}})),Mt(f,function(b){var _=new Cy({style:{x:b.left*h-l,y:b.top*h-c,image:b.dom}});v.add(_)}),v.refreshImmediately(),g.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,r){return g4(this,"convertToPixel",t,r)},e.prototype.convertFromPixel=function(t,r){return g4(this,"convertFromPixel",t,r)},e.prototype.containPixel=function(t,r){if(this._disposed){this.id;return}var i=this._model,a,s=H3(i,t);return Mt(s,function(o,l){l.indexOf("Models")>=0&&Mt(o,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)a=a||!!u.containPoint(r);else if(l==="seriesModels"){var d=this._chartsMap[c.__viewId];d&&d.containPoint&&(a=a||d.containPoint(r,c))}},this)},this),!!a},e.prototype.getVisual=function(t,r){var i=this._model,a=H3(i,t,{defaultMainType:"series"}),s=a.seriesModel,o=s.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?o.indexOfRawIndex(a.dataIndex):null;return l!=null?KVe(o,l,r):YVe(o,r)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;Mt($$e,function(r){var i=function(a){var s=t.getModel(),o=a.target,l,c=r==="globalout";if(c?l={}:o&&eb(o,function(p){var m=ra(p);if(m&&m.dataIndex!=null){var g=m.dataModel||s.getSeriesByIndex(m.seriesIndex);return l=g&&g.getDataParams(m.dataIndex,m.dataType,o)||{},!0}else if(m.eventData)return l=pn({},m.eventData),!0},!0),l){var u=l.componentType,d=l.componentIndex;(u==="markLine"||u==="markPoint"||u==="markArea")&&(u="series",d=l.seriesIndex);var f=u&&d!=null&&s.getComponent(u,d),h=f&&t[f.mainType==="series"?"_chartsMap":"_componentsMap"][f.__viewId];l.event=a,l.type=r,t._$eventProcessor.eventInfo={targetEl:o,packedEvent:l,model:f,view:h},t.trigger(r,l)}};i.zrEventfulCallAtLast=!0,t._zr.on(r,i,t)}),Mt(Ab,function(r,i){t._messageCenter.on(i,function(a){this.trigger(i,a)},t)}),Mt(["selectchanged"],function(r){t._messageCenter.on(r,function(i){this.trigger(r,i)},t)}),jVe(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&vee(this.getDom(),L8,"");var r=this,i=r._api,a=r._model;Mt(r._componentsViews,function(s){s.dispose(a,i)}),Mt(r._chartsViews,function(s){s.dispose(a,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete Eb[r.id]},e.prototype.resize=function(t){if(!this[gs]){if(this._disposed){this.id;return}this._zr.resize(t);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),a=t&&t.silent;this[lo]&&(a==null&&(a=this[lo].silent),i=!0,this[lo]=null),this[gs]=!0;try{i&&Am(this),cf.update.call(this,{type:"resize",animation:pn({duration:0},t&&t.animation)})}catch(s){throw this[gs]=!1,s}this[gs]=!1,b1.call(this,a),_1.call(this,a)}}},e.prototype.showLoading=function(t,r){if(this._disposed){this.id;return}if(fr(t)&&(r=t,t=""),t=t||"default",this.hideLoading(),!!WP[t]){var i=WP[t](this._api,r),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var r=pn({},t);return r.type=Ab[t.type],r},e.prototype.dispatchAction=function(t,r){if(this._disposed){this.id;return}if(fr(r)||(r={silent:!!r}),!!NM[t.type]&&this._model){if(this[gs]){this._pendingActions.push(t);return}var i=r.silent;b4.call(this,t,i);var a=r.flush;a?this._zr.flush():a!==!1&&Lr.browser.weChat&&this._throttledZrFlush(),b1.call(this,i),_1.call(this,i)}},e.prototype.updateLabelLayout=function(){dc.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var r=t.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(r);a.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){Am=function(d){var f=d._scheduler;f.restorePipelines(d._model),f.prepareStageTasks(),v4(d,!0),v4(d,!1),f.plan()},v4=function(d,f){for(var h=d._model,p=d._scheduler,m=f?d._componentsViews:d._chartsViews,g=f?d._componentsMap:d._chartsMap,v=d._zr,y=d._api,b=0;b<m.length;b++)m[b].__alive=!1;f?h.eachComponent(function(x,M){x!=="series"&&_(M)}):h.eachSeries(_);function _(x){var M=x.__requireNewView;x.__requireNewView=!1;var C="_ec_"+x.id+"_"+x.type,T=!M&&g[C];if(!T){var A=ru(x.type),I=f?xh.getClass(A.main,A.sub):og.getClass(A.sub);T=new I,T.init(h,y),g[C]=T,m.push(T),v.add(T.group)}x.__viewId=T.__id=C,T.__alive=!0,T.__model=x,T.group.__ecComponentInfo={mainType:x.mainType,index:x.componentIndex},!f&&p.prepareView(T,x,h,y)}for(var b=0;b<m.length;){var w=m[b];w.__alive?b++:(!f&&w.renderTask.dispose(),v.remove(w.group),w.dispose(h,y),m.splice(b,1),g[w.__id]===w&&delete g[w.__id],w.__id=w.group.__ecComponentInfo=null)}},fx=function(d,f,h,p,m){var g=d._model;if(g.setUpdatePayload(h),!p){Mt([].concat(d._componentsViews).concat(d._chartsViews),w);return}var v={};v[p+"Id"]=h[p+"Id"],v[p+"Index"]=h[p+"Index"],v[p+"Name"]=h[p+"Name"];var y={mainType:p,query:v};m&&(y.subType=m);var b=h.excludeSeriesId,_;b!=null&&(_=jr(),Mt(Qs(b),function(x){var M=fu(x,null);M!=null&&_.set(M,!0)})),g&&g.eachComponent(y,function(x){var M=_&&_.get(x.id)!=null;if(!M)if(NU(h))if(x instanceof F_)h.type===p0&&!h.notBlur&&!x.get(["emphasis","disabled"])&&dze(x,h,d._api);else{var C=c8(x.mainType,x.componentIndex,h.name,d._api),T=C.focusSelf,A=C.dispatchers;h.type===p0&&T&&!h.notBlur&&MP(x.mainType,x.componentIndex,d._api),A&&Mt(A,function(I){h.type===p0?wP(I):xP(I)})}else EP(h)&&x instanceof F_&&(pze(x,h,d._api),kU(x),ul(d))},d),g&&g.eachComponent(y,function(x){var M=_&&_.get(x.id)!=null;M||w(d[p==="series"?"_chartsMap":"_componentsMap"][x.__viewId])},d);function w(x){x&&x.__alive&&x[f]&&x[f](x.__model,g,d._api,h)}},cf={prepareAndUpdate:function(d){Am(this),cf.update.call(this,d,{optionChanged:d.newOption!=null})},update:function(d,f){var h=this._model,p=this._api,m=this._zr,g=this._coordSysMgr,v=this._scheduler;if(h){h.setUpdatePayload(d),v.restoreData(h,d),v.performSeriesTasks(h),g.create(h,p),v.performDataProcessorTasks(h,d),y4(this,h),g.update(h,p),t(h),v.performVisualTasks(h,d),_4(this,h,p,d,f);var y=h.get("backgroundColor")||"transparent",b=h.get("darkMode");m.setBackgroundColor(y),b!=null&&b!=="auto"&&m.setDarkMode(b),dc.trigger("afterupdate",h,p)}},updateTransform:function(d){var f=this,h=this._model,p=this._api;if(h){h.setUpdatePayload(d);var m=[];h.eachComponent(function(v,y){if(v!=="series"){var b=f.getViewOfComponentModel(y);if(b&&b.__alive)if(b.updateTransform){var _=b.updateTransform(y,h,p,d);_&&_.update&&m.push(b)}else m.push(b)}});var g=jr();h.eachSeries(function(v){var y=f._chartsMap[v.__viewId];if(y.updateTransform){var b=y.updateTransform(v,h,p,d);b&&b.update&&g.set(v.uid,1)}else g.set(v.uid,1)}),t(h),this._scheduler.performVisualTasks(h,d,{setDirty:!0,dirtyMap:g}),hx(this,h,p,d,{},g),dc.trigger("afterupdate",h,p)}},updateView:function(d){var f=this._model;f&&(f.setUpdatePayload(d),og.markUpdateMethod(d,"updateView"),t(f),this._scheduler.performVisualTasks(f,d,{setDirty:!0}),_4(this,f,this._api,d,{}),dc.trigger("afterupdate",f,this._api))},updateVisual:function(d){var f=this,h=this._model;h&&(h.setUpdatePayload(d),h.eachSeries(function(p){p.getData().clearAllVisual()}),og.markUpdateMethod(d,"updateVisual"),t(h),this._scheduler.performVisualTasks(h,d,{visualType:"visual",setDirty:!0}),h.eachComponent(function(p,m){if(p!=="series"){var g=f.getViewOfComponentModel(m);g&&g.__alive&&g.updateVisual(m,h,f._api,d)}}),h.eachSeries(function(p){var m=f._chartsMap[p.__viewId];m.updateVisual(p,h,f._api,d)}),dc.trigger("afterupdate",h,this._api))},updateLayout:function(d){cf.update.call(this,d)}},g4=function(d,f,h,p){if(d._disposed){d.id;return}for(var m=d._model,g=d._coordSysMgr.getCoordinateSystems(),v,y=H3(m,h),b=0;b<g.length;b++){var _=g[b];if(_[f]&&(v=_[f](m,y,p))!=null)return v}},y4=function(d,f){var h=d._chartsMap,p=d._scheduler;f.eachSeries(function(m){p.updateStreamModes(m,h[m.__viewId])})},b4=function(d,f){var h=this,p=this.getModel(),m=d.type,g=d.escapeConnect,v=NM[m],y=v.actionInfo,b=(y.update||"update").split(":"),_=b.pop(),w=b[0]!=null&&ru(b[0]);this[gs]=!0;var x=[d],M=!1;d.batch&&(M=!0,x=Zr(d.batch,function(N){return N=Zi(pn({},N),d),N.batch=null,N}));var C=[],T,A=EP(d),I=NU(d);if(I&&Uee(this._api),Mt(x,function(N){if(T=v.action(N,h._model,h._api),T=T||pn({},N),T.type=y.event||T.type,C.push(T),I){var F=t8(d),D=F.queryOptionMap,H=F.mainTypeSpecified,z=H?D.keys()[0]:"series";fx(h,_,N,z),ul(h)}else A?(fx(h,_,N,"series"),ul(h)):w&&fx(h,_,N,w.main,w.sub)}),_!=="none"&&!I&&!A&&!w)try{this[lo]?(Am(this),cf.update.call(this,d),this[lo]=null):cf[_].call(this,d)}catch(N){throw this[gs]=!1,N}if(M?T={type:y.event||m,escapeConnect:g,batch:C}:T=C[0],this[gs]=!1,!f){var L=this._messageCenter;if(L.trigger(T.type,T),A){var k={type:"selectchanged",escapeConnect:g,selected:mze(p),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};L.trigger(k.type,k)}}},b1=function(d){for(var f=this._pendingActions;f.length;){var h=f.shift();b4.call(this,h,d)}},_1=function(d){!d&&this.trigger("updated")},XH=function(d,f){d.on("rendered",function(h){f.trigger("rendered",h),d.animation.isFinished()&&!f[lo]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},jH=function(d,f){d.on("mouseover",function(h){var p=h.target,m=eb(p,AP);m&&(fze(m,h,f._api),ul(f))}).on("mouseout",function(h){var p=h.target,m=eb(p,AP);m&&(hze(m,h,f._api),ul(f))}).on("click",function(h){var p=h.target,m=eb(p,function(y){return ra(y).dataIndex!=null},!0);if(m){var g=m.selected?"unselect":"select",v=ra(m);f._api.dispatchAction({type:g,dataType:v.dataType,dataIndexInside:v.dataIndex,seriesIndex:v.seriesIndex,isFromClick:!0})}})};function t(d){d.clearColorPalette(),d.eachSeries(function(f){f.clearColorPalette()})}function r(d){var f=[],h=[],p=!1;if(d.eachComponent(function(y,b){var _=b.get("zlevel")||0,w=b.get("z")||0,x=b.getZLevelKey();p=p||!!x,(y==="series"?h:f).push({zlevel:_,z:w,idx:b.componentIndex,type:y,key:x})}),p){var m=f.concat(h),g,v;iC(m,function(y,b){return y.zlevel===b.zlevel?y.z-b.z:y.zlevel-b.zlevel}),Mt(m,function(y){var b=d.getComponent(y.type,y.idx),_=y.zlevel,w=y.key;g!=null&&(_=Math.max(g,_)),w?(_===g&&w!==v&&_++,v=w):v&&(_===g&&_++,v=""),g=_,b.setZLevel(_)})}}_4=function(d,f,h,p,m){r(f),ZH(d,f,h,p,m),Mt(d._chartsViews,function(g){g.__alive=!1}),hx(d,f,h,p,m),Mt(d._chartsViews,function(g){g.__alive||g.remove(f,h)})},ZH=function(d,f,h,p,m,g){Mt(g||d._componentsViews,function(v){var y=v.__model;c(y,v),v.render(y,f,h,p),o(y,v),u(y,v)})},hx=function(d,f,h,p,m,g){var v=d._scheduler;m=pn(m||{},{updatedSeries:f.getSeries()}),dc.trigger("series:beforeupdate",f,h,m);var y=!1;f.eachSeries(function(b){var _=d._chartsMap[b.__viewId];_.__alive=!0;var w=_.renderTask;v.updatePayload(w,p),c(b,_),g&&g.get(b.uid)&&w.dirty(),w.perform(v.getPerformArgs(w))&&(y=!0),_.group.silent=!!b.get("silent"),s(b,_),kU(b)}),v.unfinished=y||v.unfinished,dc.trigger("series:layoutlabels",f,h,m),dc.trigger("series:transition",f,h,m),f.eachSeries(function(b){var _=d._chartsMap[b.__viewId];o(b,_),u(b,_)}),a(d,f),dc.trigger("series:afterupdate",f,h,m)},ul=function(d){d[p4]=!0,d.getZr().wakeUp()},JH=function(d){d[p4]&&(d.getZr().storage.traverse(function(f){Cb(f)||i(f)}),d[p4]=!1)};function i(d){for(var f=[],h=d.currentStates,p=0;p<h.length;p++){var m=h[p];m==="emphasis"||m==="blur"||m==="select"||f.push(m)}d.selected&&d.states.select&&f.push("select"),d.hoverState===o8&&d.states.emphasis?f.push("emphasis"):d.hoverState===s8&&d.states.blur&&f.push("blur"),d.useStates(f)}function a(d,f){var h=d._zr,p=h.storage,m=0;p.traverse(function(g){g.isGroup||m++}),m>f.get("hoverLayerThreshold")&&!Lr.node&&!Lr.worker&&f.eachSeries(function(g){if(!g.preventUsingHoverLayer){var v=d._chartsMap[g.__viewId];v.__alive&&v.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}function s(d,f){var h=d.get("blendMode")||null;f.eachRendered(function(p){p.isGroup||(p.style.blend=h)})}function o(d,f){if(!d.preventAutoZ){var h=d.get("z")||0,p=d.get("zlevel")||0;f.eachRendered(function(m){return l(m,h,p,-1/0),!0})}}function l(d,f,h,p){var m=d.getTextContent(),g=d.getTextGuideLine(),v=d.isGroup;if(v)for(var y=d.childrenRef(),b=0;b<y.length;b++)p=Math.max(l(y[b],f,h,p),p);else d.z=f,d.zlevel=h,p=Math.max(d.z2,p);if(m&&(m.z=f,m.zlevel=h,isFinite(p)&&(m.z2=p+2)),g){var _=d.textGuideLineConfig;g.z=f,g.zlevel=h,isFinite(p)&&(g.z2=p+(_&&_.showAbove?1:-1))}return p}function c(d,f){f.eachRendered(function(h){if(!Cb(h)){var p=h.getTextContent(),m=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function u(d,f){var h=d.getModel("stateAnimation"),p=d.isAnimationEnabled(),m=h.get("duration"),g=m>0?{duration:m,delay:h.get("delay"),easing:h.get("easing")}:null;f.eachRendered(function(v){if(v.states&&v.states.emphasis){if(Cb(v))return;if(v instanceof Fi&&wze(v),v.__dirty){var y=v.prevStates;y&&v.useStates(y)}if(p){v.stateTransition=g;var b=v.getTextContent(),_=v.getTextGuideLine();b&&(b.stateTransition=g),_&&(_.stateTransition=g)}v.__dirty&&i(v)}})}QH=function(d){return new(function(f){sr(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(p){for(;p;){var m=p.__ecComponentInfo;if(m!=null)return d._model.getComponent(m.mainType,m.index);p=p.parent}},h.prototype.enterEmphasis=function(p,m){wP(p,m),ul(d)},h.prototype.leaveEmphasis=function(p,m){xP(p,m),ul(d)},h.prototype.enterBlur=function(p){uze(p),ul(d)},h.prototype.leaveBlur=function(p){Nee(p),ul(d)},h.prototype.enterSelect=function(p){Bee(p),ul(d)},h.prototype.leaveSelect=function(p){Fee(p),ul(d)},h.prototype.getModel=function(){return d.getModel()},h.prototype.getViewOfComponentModel=function(p){return d.getViewOfComponentModel(p)},h.prototype.getViewOfSeriesModel=function(p){return d.getViewOfSeriesModel(p)},h}(Rte))(d)},Sne=function(d){function f(h,p){for(var m=0;m<h.length;m++){var g=h[m];g[m4]=p}}Mt(Ab,function(h,p){d._messageCenter.on(p,function(m){if(eV[d.group]&&d[m4]!==YH){if(m&&m.escapeConnect)return;var g=d.makeActionFromEvent(m),v=[];Mt(Eb,function(y){y!==d&&y.group===d.group&&v.push(y)}),f(v,YH),Mt(v,function(y){y[m4]!==H$e&&y.dispatchAction(g)}),f(v,V$e)}})})}}(),e}(Ru),P8=wne.prototype;P8.on=vne("on");P8.off=vne("off");P8.one=function(n,e,t){var r=this;function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];e&&e.apply&&e.apply(this,a),r.off(n,i)}this.on.call(this,n,i,t)};var $$e=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],NM={},Ab={},$P=[],GP=[],BM=[],xne={},WP={},Eb={},eV={},G$e=+new Date-0,L8="_echarts_instance_";function W$e(n,e,t){var r=!(t&&t.ssr);if(r){var i=q$e(n);if(i)return i}var a=new wne(n,e,t);return a.id="ec_"+G$e++,Eb[a.id]=a,r&&vee(n,L8,a.id),Sne(a),dc.trigger("afterinit",a),a}function q$e(n){return Eb[Z7e(n,L8)]}function Cne(n,e){xne[n]=e}function Mne(n){Oi(GP,n)<0&&GP.push(n)}function Tne(n,e){k8($P,n,e,D$e)}function K$e(n){D8("afterinit",n)}function Y$e(n){D8("afterupdate",n)}function D8(n,e){dc.on(n,e)}function Ay(n,e,t){gi(e)&&(t=e,e="");var r=fr(n)?n.type:[n,n={event:e}][0];n.event=(n.event||r).toLowerCase(),e=n.event,!Ab[e]&&(Rd(KH.test(r)&&KH.test(e)),NM[r]||(NM[r]={action:t,actionInfo:n}),Ab[e]=r)}function X$e(n,e){Pte.register(n,e)}function j$e(n,e){k8(BM,n,e,hne,"layout")}function Z0(n,e){k8(BM,n,e,pne,"visual")}var tV=[];function k8(n,e,t,r,i){if((gi(e)||fr(e))&&(t=e,e=r),!(Oi(tV,t)>=0)){tV.push(t);var a=rne.wrapStageHandler(t,i);a.__prio=e,a.__raw=t,n.push(a)}}function Ane(n,e){WP[n]=e}function Z$e(n,e,t){var r=E$e("registerMap");r&&r(n,e,t)}var Q$e=QHe;Z0(R8,EVe);Z0(LA,IVe);Z0(LA,RVe);Z0(R8,WVe);Z0(LA,qVe);Z0(mne,M$e);Mne(Dte);Tne(P$e,kHe);Ane("default",PVe);Ay({type:p0,event:p0,update:p0},_o);Ay({type:dC,event:dC,update:dC},_o);Ay({type:Sb,event:Sb,update:Sb},_o);Ay({type:fC,event:fC,update:fC},_o);Ay({type:wb,event:wb,update:wb},_o);Cne("light",VVe);Cne("dark",$Ve);function S1(n){return n==null?0:n.length||1}function nV(n){return n}var J$e=function(){function n(e,t,r,i,a,s){this._old=e,this._new=t,this._oldKeyGetter=r||nV,this._newKeyGetter=i||nV,this.context=a,this._diffModeMultiple=s==="multiple"}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,r={},i=new Array(e.length),a=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,r,a,"_newKeyGetter");for(var s=0;s<e.length;s++){var o=i[s],l=r[o],c=S1(l);if(c>1){var u=l.shift();l.length===1&&(r[o]=l[0]),this._update&&this._update(u,s)}else c===1?(r[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(a,r)},n.prototype._executeMultiple=function(){var e=this._old,t=this._new,r={},i={},a=[],s=[];this._initIndexMap(e,r,a,"_oldKeyGetter"),this._initIndexMap(t,i,s,"_newKeyGetter");for(var o=0;o<a.length;o++){var l=a[o],c=r[l],u=i[l],d=S1(c),f=S1(u);if(d>1&&f===1)this._updateManyToOne&&this._updateManyToOne(u,c),i[l]=null;else if(d===1&&f>1)this._updateOneToMany&&this._updateOneToMany(u,c),i[l]=null;else if(d===1&&f===1)this._update&&this._update(u,c),i[l]=null;else if(d>1&&f>1)this._updateManyToMany&&this._updateManyToMany(u,c),i[l]=null;else if(d>1)for(var h=0;h<d;h++)this._remove&&this._remove(c[h]);else this._remove&&this._remove(c)}this._performRestAdd(s,i)},n.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=t[i],s=S1(a);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(a[o]);else s===1&&this._add&&this._add(a);t[i]=null}},n.prototype._initIndexMap=function(e,t,r,i){for(var a=this._diffModeMultiple,s=0;s<e.length;s++){var o="_ec_"+this[i](e[s],s);if(a||(r[s]=o),!!t){var l=t[o],c=S1(l);c===0?(t[o]=s,a&&r.push(o)):c===1?t[o]=[l,s]:l.push(s)}}},n}();const eGe=J$e;var tGe=function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function nGe(n,e){var t={},r=t.encode={},i=jr(),a=[],s=[],o={};Mt(n.dimensions,function(f){var h=n.getDimensionInfo(f),p=h.coordDim;if(p){var m=h.coordDimIndex;S4(r,p)[m]=f,h.isExtraCoord||(i.set(p,1),rGe(h.type)&&(a[0]=f),S4(o,p)[m]=n.getDimensionIndex(h.name)),h.defaultTooltip&&s.push(f)}xte.each(function(g,v){var y=S4(r,v),b=h.otherDims[v];b!=null&&b!==!1&&(y[b]=h.name)})});var l=[],c={};i.each(function(f,h){var p=r[h];c[h]=p[0],l=l.concat(p)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=Zr(l,function(f){return n.getDimensionInfo(f).storeDimIndex}),t.encodeFirstDimNotExtra=c;var u=r.label;u&&u.length&&(a=u.slice());var d=r.tooltip;return d&&d.length?s=d.slice():s.length||(s=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=s,t.userOutput=new tGe(o,e),t}function S4(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function rGe(n){return!(n==="ordinal"||n==="time")}var iGe=function(){function n(e){this.otherDims={},e!=null&&pn(this,e)}return n}();const gC=iGe;var aGe=ja(),sGe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Ene=function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=Rne(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return Xr(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=Nte(this.source),r=!Pne(e),i="",a=[],s=0,o=0;s<e;s++){var l=void 0,c=void 0,u=void 0,d=this.dimensions[o];if(d&&d.storeDimIndex===s)l=t?d.name:null,c=d.type,u=d.ordinalMeta,o++;else{var f=this.getSourceDimension(s);f&&(l=t?f.name:null,c=f.type)}a.push({property:l,type:c,ordinalMeta:u}),t&&l!=null&&(!d||!d.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=sGe[c]||"f",u&&(i+=u.uid),i+="$"}var h=this.source,p=[h.seriesLayoutBy,h.startIndex,i].join("$$");return{dimensions:a,hash:p}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,r=0;t<this._fullDimCount;t++){var i=void 0,a=this.dimensions[r];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(i=a.name),r++;else{var s=this.getSourceDimension(t);s&&(i=s.name)}e.push(i)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function oGe(n){return n instanceof Ene}function Ine(n){for(var e=jr(),t=0;t<(n||[]).length;t++){var r=n[t],i=fr(r)?r.name:r;i!=null&&e.get(i)==null&&e.set(i,t)}return e}function Rne(n){var e=aGe(n);return e.dimNameMap||(e.dimNameMap=Ine(n.dimensionsDefine))}function Pne(n){return n>30}var w1=fr,uf=Zr,lGe=typeof Int32Array>"u"?Array:Int32Array,cGe="e\0\0",rV=-1,uGe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],dGe=["_approximateExtent"],iV,px,x1,C1,w4,mx,x4,fGe=function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;oGe(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var a={},s=[],o={},l=!1,c={},u=0;u<r.length;u++){var d=r[u],f=dr(d)?new gC({name:d}):d instanceof gC?d:new gC(d),h=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=h,f.coordDimIndex=0);var p=f.otherDims=f.otherDims||{};s.push(h),a[h]=f,c[h]!=null&&(l=!0),f.createInvertedIndices&&(o[h]=[]),p.itemName===0&&(this._nameDimIdx=u),p.itemId===0&&(this._idDimIdx=u),i&&(f.storeDimIndex=u)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=o,this._dimOmitted){var m=this._dimIdxToName=jr();Mt(s,function(g){m.set(a[g].storeDimIndex,g)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var r=this._dimIdxToName.get(t);if(r!=null)return r;var i=this._schema.getSourceDimension(t);if(i)return i.name},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(ma(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(r){return t.hasOwnProperty(r)?t[r]:void 0}:function(r){return t[r]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var r=this._dimSummary;if(t==null)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[t]:null},n.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,r=t.encode[e];return(r||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,r){var i=this,a;if(e instanceof DP&&(a=e),!a){var s=this.dimensions,o=x8(e)||Ao(e)?new Bte(e,s.length):e;a=new DP;var l=uf(s,function(c){return{type:i._dimInfos[c].type,property:c}});a.initData(o,l,r)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=nGe(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var r=this._store.appendValues(e,t.length),i=r.start,a=r.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var o=i;o<a;o++){var l=o-i;this._nameList[o]=t[l],s&&x4(this,o)}},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,r=0;r<t.length;r++){var i=this._dimInfos[t[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Jf&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,o=i.getSource().sourceFormat,l=o===Pu;if(l&&!i.pure)for(var c=[],u=e;u<t;u++){var d=i.getItem(u,c);if(!this.hasItemOption&&U7e(d)&&(this.hasItemOption=!0),d){var f=d.name;a[u]==null&&f!=null&&(a[u]=fu(f,null));var h=d.id;s[u]==null&&h!=null&&(s[u]=fu(h,null))}}if(this._shouldMakeIdFromName())for(var u=e;u<t;u++)x4(this,u);iV(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){w1(e)?pn(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),r=this._nameList[t];return r==null&&this._nameDimIdx!=null&&(r=x1(this,this._nameDimIdx,t)),r==null&&(r=""),r},n.prototype._getCategory=function(e,t){var r=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},n.prototype.getId=function(e){return px(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.get(i.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.getByRawIndex(i.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var r=this,i=this._store;return Zn(e)?i.getValues(uf(e,function(a){return r._getStoreDimIndex(a)}),t):i.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,r=0,i=t.length;r<i;r++)if(isNaN(this._store.get(t[r],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,r=this._store.count();t<r;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var r=e&&this._invertedIndicesMap[e],i=r[t];return i==null||isNaN(i)?rV:i},n.prototype.indicesOfNearest=function(e,t,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,r)},n.prototype.each=function(e,t,r){gi(e)&&(r=t,t=e,e=[]);var i=r||this,a=uf(C1(e),this._getStoreDimIndex,this);this._store.each(a,i?Ni(t,i):t)},n.prototype.filterSelf=function(e,t,r){gi(e)&&(r=t,t=e,e=[]);var i=r||this,a=uf(C1(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?Ni(t,i):t),this},n.prototype.selectRange=function(e){var t=this,r={},i=pa(e);return Mt(i,function(a){var s=t._getStoreDimIndex(a);r[s]=e[a]}),this._store=this._store.selectRange(r),this},n.prototype.mapArray=function(e,t,r){gi(e)&&(r=t,t=e,e=[]),r=r||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},r),i},n.prototype.map=function(e,t,r,i){var a=r||i||this,s=uf(C1(e),this._getStoreDimIndex,this),o=mx(this);return o._store=this._store.map(s,a?Ni(t,a):t),o},n.prototype.modify=function(e,t,r,i){var a=r||i||this,s=uf(C1(e),this._getStoreDimIndex,this);this._store.modify(s,a?Ni(t,a):t)},n.prototype.downSample=function(e,t,r,i){var a=mx(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),t,r,i),a},n.prototype.lttbDownSample=function(e,t){var r=mx(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),r},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,r=this.getRawDataItem(e);return new Ds(r,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new eGe(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return px(e,r)},function(r){return px(t,r)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},w1(e)?pn(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var r=this._itemVisuals[e],i=r&&r[t];return i??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var a=i[t];return a==null&&(a=this.getVisual(t),Zn(a)?a=a.slice():w1(a)&&(a=pn({},a)),i[t]=a),a},n.prototype.setItemVisual=function(e,t,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,w1(t)?pn(i,t):i[t]=r},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){w1(e)?pn(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,r){this._itemLayouts[e]=r?pn(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){var r=this.hostModel&&this.hostModel.seriesIndex;eze(r,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){Mt(this._graphicEls,function(r,i){r&&e&&e.call(t,r,i)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:uf(this.dimensions,this._getDimInfo,this),this.hostModel)),w4(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var r=this[e];gi(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return t.apply(this,[i].concat(Wk(arguments)))})},n.internalField=function(){iV=function(e){var t=e._invertedIndicesMap;Mt(t,function(r,i){var a=e._dimInfos[i],s=a.ordinalMeta,o=e._store;if(s){r=t[i]=new lGe(s.categories.length);for(var l=0;l<r.length;l++)r[l]=rV;for(var l=0;l<o.count();l++)r[o.get(a.storeDimIndex,l)]=l}})},x1=function(e,t,r){return fu(e._getCategory(t,r),null)},px=function(e,t){var r=e._idList[t];return r==null&&e._idDimIdx!=null&&(r=x1(e,e._idDimIdx,t)),r==null&&(r=cGe+t),r},C1=function(e){return Zn(e)||(e=e!=null?[e]:[]),e},mx=function(e){var t=new n(e._schema?e._schema:uf(e.dimensions,e._getDimInfo,e),e.hostModel);return w4(t,e),t},w4=function(e,t){Mt(uGe.concat(t.__wrappedMethods||[]),function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e.__wrappedMethods=t.__wrappedMethods,Mt(dGe,function(r){e[r]=ei(t[r])}),e._calculationInfo=pn({},t._calculationInfo)},x4=function(e,t){var r=e._nameList,i=e._idList,a=e._nameDimIdx,s=e._idDimIdx,o=r[t],l=i[t];if(o==null&&a!=null&&(r[t]=o=x1(e,a,t)),l==null&&s!=null&&(i[t]=l=x1(e,s,t)),l==null&&o!=null){var c=e._nameRepeatCount,u=c[o]=(c[o]||0)+1;l=o,u>1&&(l+="__ec__"+u),i[t]=l}}}(),n}();const hGe=fGe;function pGe(n,e){x8(n)||(n=kte(n)),e=e||{};var t=e.coordDimensions||[],r=e.dimensionsDefine||n.dimensionsDefine||[],i=jr(),a=[],s=vGe(n,t,r,e.dimensionsCount),o=e.canOmitUnusedDimensions&&Pne(s),l=r===n.dimensionsDefine,c=l?Rne(n):Ine(r),u=e.encodeDefine;!u&&e.encodeDefaulter&&(u=e.encodeDefaulter(n,s));for(var d=jr(u),f=new Vte(s),h=0;h<f.length;h++)f[h]=-1;function p(T){var A=f[T];if(A<0){var I=r[T],L=fr(I)?I:{name:I},k=new gC,N=L.name;N!=null&&c.get(N)!=null&&(k.name=k.displayName=N),L.type!=null&&(k.type=L.type),L.displayName!=null&&(k.displayName=L.displayName);var F=a.length;return f[T]=F,k.storeDimIndex=T,a.push(k),k}return a[A]}if(!o)for(var h=0;h<s;h++)p(h);d.each(function(T,A){var I=Qs(T).slice();if(I.length===1&&!dr(I[0])&&I[0]<0){d.set(A,!1);return}var L=d.set(A,[]);Mt(I,function(k,N){var F=dr(k)?c.get(k):k;F!=null&&F<s&&(L[N]=F,g(p(F),A,N))})});var m=0;Mt(t,function(T){var A,I,L,k;if(dr(T))A=T,k={};else{k=T,A=k.name;var N=k.ordinalMeta;k.ordinalMeta=null,k=pn({},k),k.ordinalMeta=N,I=k.dimsDef,L=k.otherDims,k.name=k.coordDim=k.coordDimIndex=k.dimsDef=k.otherDims=null}var F=d.get(A);if(F!==!1){if(F=Qs(F),!F.length)for(var D=0;D<(I&&I.length||1);D++){for(;m<s&&p(m).coordDim!=null;)m++;m<s&&F.push(m++)}Mt(F,function(H,z){var B=p(H);if(l&&k.type!=null&&(B.type=k.type),g(Zi(B,k),A,z),B.name==null&&I){var W=I[z];!fr(W)&&(W={name:W}),B.name=B.displayName=W.name,B.defaultTooltip=W.defaultTooltip}L&&Zi(B.otherDims,L)})}});function g(T,A,I){xte.get(A)!=null?T.otherDims[A]=I:(T.coordDim=A,T.coordDimIndex=I,i.set(A,!0))}var v=e.generateCoord,y=e.generateCoordCount,b=y!=null;y=v?y||1:0;var _=v||"value";function w(T){T.name==null&&(T.name=T.coordDim)}if(o)Mt(a,function(T){w(T)}),a.sort(function(T,A){return T.storeDimIndex-A.storeDimIndex});else for(var x=0;x<s;x++){var M=p(x),C=M.coordDim;C==null&&(M.coordDim=gGe(_,i,b),M.coordDimIndex=0,(!v||y<=0)&&(M.isExtraCoord=!0),y--),w(M),M.type==null&&(Tte(n,x)===ns.Must||M.isExtraCoord&&(M.otherDims.itemName!=null||M.otherDims.seriesName!=null))&&(M.type="ordinal")}return mGe(a),new Ene({source:n,dimensions:a,fullDimensionCount:s,dimensionOmitted:o})}function mGe(n){for(var e=jr(),t=0;t<n.length;t++){var r=n[t],i=r.name,a=e.get(i)||0;a>0&&(r.name=i+(a-1)),a++,e.set(i,a)}}function vGe(n,e,t,r){var i=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,r||0);return Mt(e,function(a){var s;fr(a)&&(s=a.dimsDef)&&(i=Math.max(i,s.length))}),i}function gGe(n,e,t){if(t||e.hasKey(n)){for(var r=0;e.hasKey(n+r);)r++;n+=r}return e.set(n,!0),n}function Lne(n,e){return n.type==="category"?n.scale.getLabel(e):e.value}function yGe(n){var e=n.get("interval");return e??"auto"}function bGe(n){return n.type==="category"&&yGe(n.getLabelModel())===0}var aV=[],_Ge={registerPreprocessor:Mne,registerProcessor:Tne,registerPostInit:K$e,registerPostUpdate:Y$e,registerUpdateLifecycle:D8,registerAction:Ay,registerCoordinateSystem:X$e,registerLayout:j$e,registerVisual:Z0,registerTransform:Q$e,registerLoading:Ane,registerMap:Z$e,registerImpl:A$e,PRIORITY:U$e,ComponentModel:ta,ComponentView:xh,SeriesModel:F_,ChartView:og,registerComponentModel:function(n){ta.registerClass(n)},registerComponentView:function(n){xh.registerClass(n)},registerSeriesModel:function(n){F_.registerClass(n)},registerChartView:function(n){og.registerClass(n)},registerSubTypeDefaulter:function(n,e){ta.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){R7e(n,e)}};function Vg(n){if(Zn(n)){Mt(n,function(e){Vg(e)});return}Oi(aV,n)>=0||(aV.push(n),gi(n)&&(n={install:n}),n.install(_Ge))}D0.CMD;function Dne(n,e,t,r,i,a,s,o){var l=i-n,c=a-e,u=t-n,d=r-e,f=Math.sqrt(u*u+d*d);u/=f,d/=f;var h=l*u+c*d,p=h/f;o&&(p=Math.min(Math.max(p,0),1)),p*=f;var m=s[0]=n+p*u,g=s[1]=e+p*d;return Math.sqrt((m-i)*(m-i)+(g-a)*(g-a))}var $f=new mr,Ji=new mr,rs=new mr,Gf=new mr,Jc=new mr,FM=[],qs=new mr;function SGe(n,e){if(e<=180&&e>0){e=e/180*Math.PI,$f.fromArray(n[0]),Ji.fromArray(n[1]),rs.fromArray(n[2]),mr.sub(Gf,$f,Ji),mr.sub(Jc,rs,Ji);var t=Gf.len(),r=Jc.len();if(!(t<.001||r<.001)){Gf.scale(1/t),Jc.scale(1/r);var i=Gf.dot(Jc),a=Math.cos(e);if(a<i){var s=Dne(Ji.x,Ji.y,rs.x,rs.y,$f.x,$f.y,FM,!1);qs.fromArray(FM),qs.scaleAndAdd(Jc,s/Math.tan(Math.PI-e));var o=rs.x!==Ji.x?(qs.x-Ji.x)/(rs.x-Ji.x):(qs.y-Ji.y)/(rs.y-Ji.y);if(isNaN(o))return;o<0?mr.copy(qs,Ji):o>1&&mr.copy(qs,rs),qs.toArray(n[1])}}}}function wGe(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,$f.fromArray(n[0]),Ji.fromArray(n[1]),rs.fromArray(n[2]),mr.sub(Gf,Ji,$f),mr.sub(Jc,rs,Ji);var r=Gf.len(),i=Jc.len();if(!(r<.001||i<.001)){Gf.scale(1/r),Jc.scale(1/i);var a=Gf.dot(e),s=Math.cos(t);if(a<s){var o=Dne(Ji.x,Ji.y,rs.x,rs.y,$f.x,$f.y,FM,!1);qs.fromArray(FM);var l=Math.PI/2,c=Math.acos(Jc.dot(e)),u=l+c-t;if(u>=l)mr.copy(qs,rs);else{qs.scaleAndAdd(Jc,o/Math.tan(Math.PI/2-u));var d=rs.x!==Ji.x?(qs.x-Ji.x)/(rs.x-Ji.x):(qs.y-Ji.y)/(rs.y-Ji.y);if(isNaN(d))return;d<0?mr.copy(qs,Ji):d>1&&mr.copy(qs,rs)}qs.toArray(n[1])}}}}function sV(n,e,t,r){var i=t==="normal",a=i?n:n.ensureState(t);a.ignore=e;var s=r.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var o=r.getModel("lineStyle").getLineStyle();i?n.useStyle(o):a.style=o}function xGe(n,e){var t=e.smooth,r=e.points;if(r)if(n.moveTo(r[0][0],r[0][1]),t>0&&r.length>=3){var i=nP(r[0],r[1]),a=nP(r[1],r[2]);if(!i||!a){n.lineTo(r[1][0],r[1][1]),n.lineTo(r[2][0],r[2][1]);return}var s=Math.min(i,a)*t,o=_3([],r[1],r[0],s/i),l=_3([],r[1],r[2],s/a),c=_3([],o,l,.5);n.bezierCurveTo(o[0],o[1],o[0],o[1],c[0],c[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var u=1;u<r.length;u++)n.lineTo(r[u][0],r[u][1])}function CGe(n,e,t){var r=n.getTextGuideLine(),i=n.getTextContent();if(!i){r&&n.removeTextGuideLine();return}for(var a=e.normal,s=a.get("show"),o=i.ignore,l=0;l<MM.length;l++){var c=MM[l],u=e[c],d=c==="normal";if(u){var f=u.get("show"),h=d?o:Xr(i.states[c]&&i.states[c].ignore,o);if(h||!Xr(f,s)){var p=d?r:r&&r.states[c];p&&(p.ignore=!0);continue}r||(r=new MA,n.setTextGuideLine(r),!d&&(o||!s)&&sV(r,!0,"normal",e.normal),n.stateProxy&&(r.stateProxy=n.stateProxy)),sV(r,!1,c,u)}}if(r){Zi(r.style,t),r.style.fill=null;var m=a.get("showAbove"),g=n.textGuideLineConfig=n.textGuideLineConfig||{};g.showAbove=m||!1,r.buildPath=xGe}}function MGe(n,e){e=e||"labelLine";for(var t={normal:n.getModel(e)},r=0;r<_u.length;r++){var i=_u[r];t[i]=n.getModel([i,e])}return t}function TGe(n){for(var e=[],t=0;t<n.length;t++){var r=n[t];if(!r.defaultAttr.ignore){var i=r.label,a=i.getComputedTransform(),s=i.getBoundingRect(),o=!a||a[1]<1e-5&&a[2]<1e-5,l=i.style.margin||0,c=s.clone();c.applyTransform(a),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var u=o?new TM(s,a):null;e.push({label:i,labelLine:r.labelLine,rect:c,localRect:s,obb:u,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:o,transform:a})}}return e}function AGe(n,e,t,r,i,a){var s=n.length;if(s<2)return;n.sort(function(C,T){return C.rect[e]-T.rect[e]});for(var o=0,l,c=!1,u=0,d=0;d<s;d++){var f=n[d],h=f.rect;l=h[e]-o,l<0&&(h[e]-=l,f.label[e]-=l,c=!0);var p=Math.max(-l,0);u+=p,o=h[e]+h[t]}u>0&&a&&w(-u/s,0,s);var m=n[0],g=n[s-1],v,y;b(),v<0&&x(-v,.8),y<0&&x(y,.8),b(),_(v,y,1),_(y,v,-1),b(),v<0&&M(-v),y<0&&M(y);function b(){v=m.rect[e]-r,y=i-g.rect[e]-g.rect[t]}function _(C,T,A){if(C<0){var I=Math.min(T,-C);if(I>0){w(I*A,0,s);var L=I+C;L<0&&x(-L*A,1)}else x(-C*A,1)}}function w(C,T,A){C!==0&&(c=!0);for(var I=T;I<A;I++){var L=n[I],k=L.rect;k[e]+=C,L.label[e]+=C}}function x(C,T){for(var A=[],I=0,L=1;L<s;L++){var k=n[L-1].rect,N=Math.max(n[L].rect[e]-k[e]-k[t],0);A.push(N),I+=N}if(I){var F=Math.min(Math.abs(C)/I,T);if(C>0)for(var L=0;L<s-1;L++){var D=A[L]*F;w(D,0,L+1)}else for(var L=s-1;L>0;L--){var D=A[L-1]*F;w(-D,L,s)}}}function M(C){var T=C<0?-1:1;C=Math.abs(C);for(var A=Math.ceil(C/(s-1)),I=0;I<s-1;I++)if(T>0?w(A,0,I+1):w(-A,s-I-1,s),C-=A,C<=0)return}return c}function EGe(n,e,t,r){return AGe(n,"y","height",e,t,r)}function IGe(n){var e=[];n.sort(function(m,g){return g.priority-m.priority});var t=new Ai(0,0,0,0);function r(m){if(!m.ignore){var g=m.ensureState("emphasis");g.ignore==null&&(g.ignore=!1)}m.ignore=!0}for(var i=0;i<n.length;i++){var a=n[i],s=a.axisAligned,o=a.localRect,l=a.transform,c=a.label,u=a.labelLine;t.copy(a.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var d=a.obb,f=!1,h=0;h<e.length;h++){var p=e[h];if(t.intersect(p.rect)){if(s&&p.axisAligned){f=!0;break}if(p.obb||(p.obb=new TM(p.localRect,p.transform)),d||(d=new TM(o,l)),d.intersect(p.obb)){f=!0;break}}}f?(r(c),u&&r(u)):(c.attr("ignore",a.defaultAttr.ignore),u&&u.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}function oV(n,e,t){var r=wy.createCanvas(),i=e.getWidth(),a=e.getHeight(),s=r.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=a+"px",r.setAttribute("data-zr-dom-id",n)),r.width=i*t,r.height=a*t,r}var RGe=function(n){sr(e,n);function e(t,r,i){var a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;i=i||wM,typeof t=="string"?s=oV(t,r,i):fr(t)&&(s=t,t=s.id),a.id=t,a.dom=s;var o=s.style;return o&&(BJ(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=r,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=oV("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,r,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,c=new Ai(0,0,0,0);function u(y){if(!(!y.isFinite()||y.isZero()))if(s.length===0){var b=new Ai(0,0,0,0);b.copy(y),s.push(b)}else{for(var _=!1,w=1/0,x=0,M=0;M<s.length;++M){var C=s[M];if(C.intersect(y)){var T=new Ai(0,0,0,0);T.copy(C),T.union(y),s[M]=T,_=!0;break}else if(l){c.copy(y),c.union(C);var A=y.width*y.height,I=C.width*C.height,L=c.width*c.height,k=L-A-I;k<w&&(w=k,x=M)}}if(l&&(s[x].union(y),_=!0),!_){var b=new Ai(0,0,0,0);b.copy(y),s.push(b)}l||(l=s.length>=o)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var f=t[d];if(f){var h=f.shouldBePainted(i,a,!0,!0),p=f.__isRendered&&(f.__dirty&qo||!h)?f.getPrevPaintRect():null;p&&u(p);var m=h&&(f.__dirty&qo||!f.__isRendered)?f.getPaintRect():null;m&&u(m)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var f=r[d],h=f.shouldBePainted(i,a,!0,!0);if(f&&(!h||!f.__zr)&&f.__isRendered){var p=f.getPrevPaintRect();p&&u(p)}}var g;do{g=!1;for(var d=0;d<s.length;){if(s[d].isZero()){s.splice(d,1);continue}for(var v=d+1;v<s.length;)s[d].intersect(s[v])?(g=!0,s[d].union(s[v]),s.splice(v,1)):v++;d++}}while(g);return this._paintRects=s,s},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,r){var i=this.dpr,a=this.dom,s=a.style,o=this.domBack;s&&(s.width=t+"px",s.height=r+"px"),a.width=t*i,a.height=r*i,o&&(o.width=t*i,o.height=r*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,r,i){var a=this.dom,s=this.ctx,o=a.width,l=a.height;r=r||this.clearColor;var c=this.motionBlur&&!t,u=this.lastFrameAlpha,d=this.dpr,f=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,o/d,l/d));var h=this.domBack;function p(m,g,v,y){if(s.clearRect(m,g,v,y),r&&r!=="transparent"){var b=void 0;if(gA(r)){var _=r.global||r.__width===v&&r.__height===y;b=_&&r.__canvasGradient||UP(s,r,{x:0,y:0,width:v,height:y}),r.__canvasGradient=b,r.__width=v,r.__height=y}else eFe(r)&&(r.scaleX=r.scaleX||d,r.scaleY=r.scaleY||d,b=HP(s,r,{dirty:function(){f.setUnpainted(),f.__painter.refresh()}}));s.save(),s.fillStyle=b||r,s.fillRect(m,g,v,y),s.restore()}c&&(s.save(),s.globalAlpha=u,s.drawImage(h,m,g,v,y),s.restore())}!i||c?p(0,0,o,l):i.length&&Mt(i,function(m){p(m.x*d,m.y*d,m.width*d,m.height*d)})},e}(Ru);const C4=RGe;var lV=1e5,hp=314159,vx=.01,PGe=.001;function LGe(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function DGe(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var kGe=function(){function n(e,t,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=pn({},r||{}),this.dpr=r.devicePixelRatio||wM,this._singleCanvas=a,this.root=e;var s=e.style;s&&(BJ(e),e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var u=e,d=u.width,f=u.height;r.width!=null&&(d=r.width),r.height!=null&&(f=r.height),this.dpr=r.devicePixelRatio||1,u.width=d*this.dpr,u.height=f*this.dpr,this._width=d,this._height=f;var h=new C4(u,this,this.dpr);h.__builtin__=!0,h.initContext(),l[hp]=h,h.zlevel=hp,o.push(hp),this._domRoot=e}else{this._width=dx(e,0,r),this._height=dx(e,1,r);var c=this._domRoot=DGe(this._width,this._height);e.appendChild(c)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,e,this._redrawId);for(var a=0;a<i.length;a++){var s=i[a],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=a===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<t;s++){var o=e[s];o.__inHover&&(r||(r=this._hoverlayer=this.getLayer(lV)),a||(a=r.ctx,a.save()),jp(a,o,i,s===t-1))}a&&a.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(lV)},n.prototype.paintOne=function(e,t){lne(e,t)},n.prototype._paintList=function(e,t,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t,r),s=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),s)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;oP(function(){l._paintList(e,t,r,i)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(hp).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,r)})},n.prototype._doPaintList=function(e,t,r){for(var i=this,a=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],c=this._layers[l];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||r)&&a.push(c)}for(var u=!0,d=!1,f=function(m){var g=a[m],v=g.ctx,y=s&&g.createRepaintRects(e,t,h._width,h._height),b=r?g.__startIndex:g.__drawIndex,_=!r&&g.incremental&&Date.now,w=_&&Date.now(),x=g.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(g.__startIndex===g.__endIndex)g.clear(!1,x,y);else if(b===g.__startIndex){var M=e[b];(!M.incremental||!M.notClear||r)&&g.clear(!1,x,y)}b===-1&&(console.error("For some unknown reason. drawIndex is -1"),b=g.__startIndex);var C,T=function(k){var N={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(C=b;C<g.__endIndex;C++){var F=e[C];if(F.__inHover&&(d=!0),i._doPaintEl(F,g,s,k,N,C===g.__endIndex-1),_){var D=Date.now()-w;if(D>15)break}}N.prevElClipPaths&&v.restore()};if(y)if(y.length===0)C=g.__endIndex;else for(var A=h.dpr,I=0;I<y.length;++I){var L=y[I];v.save(),v.beginPath(),v.rect(L.x*A,L.y*A,L.width*A,L.height*A),v.clip(),T(L),v.restore()}else v.save(),T(),v.restore();g.__drawIndex=C,g.__drawIndex<g.__endIndex&&(u=!1)},h=this,p=0;p<a.length;p++)f(p);return Lr.wxa&&Mt(this._layers,function(m){m&&m.ctx&&m.ctx.draw&&m.ctx.draw()}),{finished:u,needsRefreshHover:d}},n.prototype._doPaintEl=function(e,t,r,i,a,s){var o=t.ctx;if(r){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(jp(o,e,a,s),e.setPrevPaintRect(l))}else jp(o,e,a,s)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=hp);var r=this._layers[e];return r||(r=new C4("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?Xi(r,this._layerConfig[e],!0):this._layerConfig[e-vx]&&Xi(r,this._layerConfig[e-vx],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},n.prototype.insertLayer=function(e,t){var r=this._layers,i=this._zlevelList,a=i.length,s=this._domRoot,o=null,l=-1;if(!r[e]&&LGe(t)){if(a>0&&e>i[0]){for(l=0;l<a-1&&!(i[l]<e&&i[l+1]>e);l++);o=r[i[l]]}if(i.splice(l+1,0,e),r[e]=t,!t.virtual)if(o){var c=o.dom;c.nextSibling?s.insertBefore(t.dom,c.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom);t.__painter=this}},n.prototype.eachLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i];e.call(t,this._layers[a],a)}},n.prototype.eachBuiltinLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],s=this._layers[a];s.__builtin__&&e.call(t,s,a)}},n.prototype.eachOtherLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],s=this._layers[a];s.__builtin__||e.call(t,s,a)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(d,f){d.__dirty=d.__used=!1});function t(d){a&&(a.__endIndex!==d&&(a.__dirty=!0),a.__endIndex=d)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var i=e[r];if(i.zlevel!==e[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,o,l;for(l=0;l<e.length;l++){var i=e[l],c=i.zlevel,u=void 0;o!==c&&(o=c,s=0),i.incremental?(u=this.getLayer(c+PGe,this._needsManuallyCompositing),u.incremental=!0,s=1):u=this.getLayer(c+(s>0?vx:0),this._needsManuallyCompositing),u.__builtin__||Gk("ZLevel "+c+" has been used by unkown layer "+u.id),u!==a&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.incremental?u.__drawIndex=-1:u.__drawIndex=l,t(l),a=u),i.__dirty&qo&&!i.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(d,f){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,Mt(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var r=this._layerConfig;r[e]?Xi(r[e],t,!0):r[e]=t;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+vx){var s=this._layers[a];Xi(s,r[e],!0)}}}},n.prototype.delLayer=function(e){var t=this._layers,r=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],r.splice(Oi(r,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=dx(a,0,i),t=dx(a,1,i),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(hp).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[hp].dom;var t=new C4("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var r=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,a=t.dom.height;this.eachLayer(function(d){d.__builtin__?r.drawImage(d.dom,0,0,i,a):d.renderToCanvas&&(r.save(),d.renderToCanvas(r),r.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,c=o.length;l<c;l++){var u=o[l];jp(r,u,s,l===c-1)}return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}();const OGe=kGe;function NGe(n){n.registerPainter("canvas",OGe)}function gx(n,e,t){var r=n.get("borderRadius");if(r==null)return t?{cornerRadius:0}:null;Zn(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Zr(r,function(a){return Ug(a,i)})}}var yx=Math.PI*2,cV=Math.PI/180;function kne(n,e){return k_(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function One(n,e){var t=kne(n,e),r=n.get("center"),i=n.get("radius");Zn(i)||(i=[0,i]);var a=Ra(t.width,e.getWidth()),s=Ra(t.height,e.getHeight()),o=Math.min(a,s),l=Ra(i[0],o/2),c=Ra(i[1],o/2),u,d,f=n.coordinateSystem;if(f){var h=f.dataToPoint(r);u=h[0]||0,d=h[1]||0}else Zn(r)||(r=[r,r]),u=Ra(r[0],a)+t.x,d=Ra(r[1],s)+t.y;return{cx:u,cy:d,r0:l,r:c}}function BGe(n,e,t){e.eachSeriesByType(n,function(r){var i=r.getData(),a=i.mapDimension("value"),s=kne(r,t),o=One(r,t),l=o.cx,c=o.cy,u=o.r,d=o.r0,f=-r.get("startAngle")*cV,h=r.get("minAngle")*cV,p=0;i.each(a,function(A){!isNaN(A)&&p++});var m=i.getSum(a),g=Math.PI/(m||p)*2,v=r.get("clockwise"),y=r.get("roseType"),b=r.get("stillShowZeroSum"),_=i.getDataExtent(a);_[0]=0;var w=yx,x=0,M=f,C=v?1:-1;if(i.setLayout({viewRect:s,r:u}),i.each(a,function(A,I){var L;if(isNaN(A)){i.setItemLayout(I,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:l,cy:c,r0:d,r:y?NaN:u});return}y!=="area"?L=m===0&&b?g:A*g:L=yx/p,L<h?(L=h,w-=h):x+=A;var k=M+C*L;i.setItemLayout(I,{angle:L,startAngle:M,endAngle:k,clockwise:v,cx:l,cy:c,r0:d,r:y?L7e(A,_,[d,u]):u}),M=k}),w<yx&&p)if(w<=.001){var T=yx/p;i.each(a,function(A,I){if(!isNaN(A)){var L=i.getItemLayout(I);L.angle=T,L.startAngle=f+C*I*T,L.endAngle=f+C*(I+1)*T}})}else g=w/x,M=f,i.each(a,function(A,I){if(!isNaN(A)){var L=i.getItemLayout(I),k=L.angle===h?h:A*g;L.startAngle=M,L.endAngle=M+C*k,M+=C*k}})})}function FGe(n){return{seriesType:n,reset:function(e,t){var r=t.findComponents({mainType:"legend"});if(!(!r||!r.length)){var i=e.getData();i.filterSelf(function(a){for(var s=i.getName(a),o=0;o<r.length;o++)if(!r[o].isSelected(s))return!1;return!0})}}}}var zGe=Math.PI/180;function uV(n,e,t,r,i,a,s,o,l,c){if(n.length<2)return;function u(m){for(var g=m.rB,v=g*g,y=0;y<m.list.length;y++){var b=m.list[y],_=Math.abs(b.label.y-t),w=r+b.len,x=w*w,M=Math.sqrt((1-Math.abs(_*_/v))*x),C=e+(M+b.len2)*i,T=C-b.label.x,A=b.targetTextWidth-T*i;Nne(b,A,!0),b.label.x=C}}function d(m){for(var g={list:[],maxY:0},v={list:[],maxY:0},y=0;y<m.length;y++)if(m[y].labelAlignTo==="none"){var b=m[y],_=b.label.y>t?v:g,w=Math.abs(b.label.y-t);if(w>=_.maxY){var x=b.label.x-e-b.len2*i,M=r+b.len,C=Math.abs(x)<M?Math.sqrt(w*w/(1-x*x/M/M)):M;_.rB=C,_.maxY=w}_.list.push(b)}u(g),u(v)}for(var f=n.length,h=0;h<f;h++)if(n[h].position==="outer"&&n[h].labelAlignTo==="labelLine"){var p=n[h].label.x-c;n[h].linePoints[1][0]+=p,n[h].label.x=c}EGe(n,l,l+s)&&d(n)}function UGe(n,e,t,r,i,a,s,o){for(var l=[],c=[],u=Number.MAX_VALUE,d=-Number.MAX_VALUE,f=0;f<n.length;f++){var h=n[f].label;M4(n[f])||(h.x<e?(u=Math.min(u,h.x),l.push(n[f])):(d=Math.max(d,h.x),c.push(n[f])))}for(var f=0;f<n.length;f++){var p=n[f];if(!M4(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var h=p.label,m=p.linePoints,g=void 0;p.labelAlignTo==="edge"?h.x<e?g=m[2][0]-p.labelDistance-s-p.edgeDistance:g=s+i-p.edgeDistance-m[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?h.x<e?g=u-s-p.bleedMargin:g=s+i-d-p.bleedMargin:h.x<e?g=h.x-s-p.bleedMargin:g=s+i-h.x-p.bleedMargin,p.targetTextWidth=g,Nne(p,g)}}uV(c,e,t,r,1,i,a,s,o,d),uV(l,e,t,r,-1,i,a,s,o,u);for(var f=0;f<n.length;f++){var p=n[f];if(!M4(p)&&p.linePoints){var h=p.label,m=p.linePoints,v=p.labelAlignTo==="edge",y=h.style.padding,b=y?y[1]+y[3]:0,_=h.style.backgroundColor?0:b,w=p.rect.width+_,x=m[1][0]-m[2][0];v?h.x<e?m[2][0]=s+p.edgeDistance+w+p.labelDistance:m[2][0]=s+i-p.edgeDistance-w-p.labelDistance:(h.x<e?m[2][0]=h.x+p.labelDistance:m[2][0]=h.x-p.labelDistance,m[1][0]=m[2][0]+x),m[1][1]=m[2][1]=h.y}}}function Nne(n,e,t){if(t===void 0&&(t=!1),n.labelStyleWidth==null){var r=n.label,i=r.style,a=n.rect,s=i.backgroundColor,o=i.padding,l=o?o[1]+o[3]:0,c=i.overflow,u=a.width+(s?0:l);if(e<u||t){var d=a.height;if(c&&c.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-l);var f=r.getBoundingRect();r.setStyle("width",Math.ceil(f.width)),r.setStyle("backgroundColor",s)}else{var h=e-l,p=e<u?h:t?h>n.unconstrainedWidth?null:h:null;r.setStyle("width",p)}var m=r.getBoundingRect();a.width=m.width;var g=(r.style.margin||0)+2.1;a.height=m.height+g,a.y-=(a.height-d)/2}}}function M4(n){return n.position==="center"}function HGe(n){var e=n.getData(),t=[],r,i,a=!1,s=(n.get("minShowLabelAngle")||0)*zGe,o=e.getLayout("viewRect"),l=e.getLayout("r"),c=o.width,u=o.x,d=o.y,f=o.height;function h(x){x.ignore=!0}function p(x){if(!x.ignore)return!0;for(var M in x.states)if(x.states[M].ignore===!1)return!0;return!1}e.each(function(x){var M=e.getItemGraphicEl(x),C=M.shape,T=M.getTextContent(),A=M.getTextGuideLine(),I=e.getItemModel(x),L=I.getModel("label"),k=L.get("position")||I.get(["emphasis","label","position"]),N=L.get("distanceToLabelLine"),F=L.get("alignTo"),D=Ra(L.get("edgeDistance"),c),H=L.get("bleedMargin"),z=I.getModel("labelLine"),B=z.get("length");B=Ra(B,c);var W=z.get("length2");if(W=Ra(W,c),Math.abs(C.endAngle-C.startAngle)<s){Mt(T.states,h),T.ignore=!0,A&&(Mt(A.states,h),A.ignore=!0);return}if(p(T)){var Z=(C.startAngle+C.endAngle)/2,ee=Math.cos(Z),J=Math.sin(Z),re,fe,de,me;r=C.cx,i=C.cy;var Re=k==="inside"||k==="inner";if(k==="center")re=C.cx,fe=C.cy,me="center";else{var De=(Re?(C.r+C.r0)/2*ee:C.r*ee)+r,Ge=(Re?(C.r+C.r0)/2*J:C.r*J)+i;if(re=De+ee*3,fe=Ge+J*3,!Re){var We=De+ee*(B+l-C.r),K=Ge+J*(B+l-C.r),ue=We+(ee<0?-1:1)*W,ie=K;F==="edge"?re=ee<0?u+D:u+c-D:re=ue+(ee<0?-N:N),fe=ie,de=[[De,Ge],[We,K],[ue,ie]]}me=Re?"center":F==="edge"?ee>0?"right":"left":ee>0?"left":"right"}var $e=Math.PI,Ne=0,Ye=L.get("rotate");if(ma(Ye))Ne=Ye*($e/180);else if(k==="center")Ne=0;else if(Ye==="radial"||Ye===!0){var ce=ee<0?-Z+$e:-Z;Ne=ce}else if(Ye==="tangential"&&k!=="outside"&&k!=="outer"){var he=Math.atan2(ee,J);he<0&&(he=$e*2+he);var ke=J>0;ke&&(he=$e+he),Ne=he-$e}if(a=!!Ne,T.x=re,T.y=fe,T.rotation=Ne,T.setStyle({verticalAlign:"middle"}),Re){T.setStyle({align:me});var Y=T.states.select;Y&&(Y.x+=T.x,Y.y+=T.y)}else{var oe=T.getBoundingRect().clone();oe.applyTransform(T.getComputedTransform());var V=(T.style.margin||0)+2.1;oe.y-=V/2,oe.height+=V,t.push({label:T,labelLine:A,position:k,len:B,len2:W,minTurnAngle:z.get("minTurnAngle"),maxSurfaceAngle:z.get("maxSurfaceAngle"),surfaceNormal:new mr(ee,J),linePoints:de,textAlign:me,labelDistance:N,labelAlignTo:F,edgeDistance:D,bleedMargin:H,rect:oe,unconstrainedWidth:oe.width,labelStyleWidth:T.style.width})}M.setTextConfig({inside:Re})}}),!a&&n.get("avoidLabelOverlap")&&UGe(t,r,i,l,c,f,u,d);for(var m=0;m<t.length;m++){var g=t[m],v=g.label,y=g.labelLine,b=isNaN(v.x)||isNaN(v.y);if(v){v.setStyle({align:g.textAlign}),b&&(Mt(v.states,h),v.ignore=!0);var _=v.states.select;_&&(_.x+=v.x,_.y+=v.y)}if(y){var w=g.linePoints;b||!w?(Mt(y.states,h),y.ignore=!0):(SGe(w,g.minTurnAngle),wGe(w,g.surfaceNormal,g.maxSurfaceAngle),y.setShape({points:w}),v.__hostTarget.textGuideLineConfig={anchor:new mr(w[0][0],w[0][1])})}}}var VGe=function(n){sr(e,n);function e(t,r,i){var a=n.call(this)||this;a.z2=2;var s=new no;return a.setTextContent(s),a.updateData(t,r,i,!0),a}return e.prototype.updateData=function(t,r,i,a){var s=this,o=t.hostModel,l=t.getItemModel(r),c=l.getModel("emphasis"),u=t.getItemLayout(r),d=pn(gx(l.getModel("itemStyle"),u,!0),u);if(isNaN(d.startAngle)){s.setShape(d);return}if(a){s.setShape(d);var f=o.getShallow("animationType");o.ecModel.ssr?(hC(s,{scaleX:0,scaleY:0},o,{dataIndex:r,isFrom:!0}),s.originX=d.cx,s.originY=d.cy):f==="scale"?(s.shape.r=u.r0,hC(s,{shape:{r:u.r}},o,r)):i!=null?(s.setShape({startAngle:i,endAngle:i}),hC(s,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},o,r)):(s.shape.endAngle=u.startAngle,Hg(s,{shape:{endAngle:u.endAngle}},o,r))}else sUe(s),Hg(s,{shape:d},o,r);s.useStyle(t.getItemVisual(r,"style")),_ze(s,l);var h=(u.startAngle+u.endAngle)/2,p=o.get("selectedOffset"),m=Math.cos(h)*p,g=Math.sin(h)*p,v=l.getShallow("cursor");v&&s.attr("cursor",v),this._updateLabel(o,t,r),s.ensureState("emphasis").shape=pn({r:u.r+(c.get("scale")&&c.get("scaleSize")||0)},gx(c.getModel("itemStyle"),u)),pn(s.ensureState("select"),{x:m,y:g,shape:gx(l.getModel(["select","itemStyle"]),u)}),pn(s.ensureState("blur"),{shape:gx(l.getModel(["blur","itemStyle"]),u)});var y=s.getTextGuideLine(),b=s.getTextContent();y&&pn(y.ensureState("select"),{x:m,y:g}),pn(b.ensureState("select"),{x:m,y:g}),gze(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t,r,i){var a=this,s=r.getItemModel(i),o=s.getModel("labelLine"),l=r.getItemVisual(i,"style"),c=l&&l.fill,u=l&&l.opacity;pte(a,CUe(s),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:c,defaultOpacity:u,defaultText:t.getFormattedLabel(i,"normal")||r.getName(i)});var d=a.getTextContent();a.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var f=t.get(["label","position"]);if(f!=="outside"&&f!=="outer")a.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new MA,this.setTextGuideLine(h)),CGe(this,MGe(s),{stroke:c,opacity:vb(o.get(["lineStyle","opacity"]),u,1)})}},e}(CA),$Ge=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,r,i,a){var s=t.getData(),o=this._data,l=this.group,c;if(!o&&s.count()>0){for(var u=s.getItemLayout(0),d=1;isNaN(u&&u.startAngle)&&d<s.count();++d)u=s.getItemLayout(d);u&&(c=u.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&t.get("showEmptyCircle")){var f=new CA({shape:One(t,i)});f.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,l.add(f)}s.diff(o).add(function(h){var p=new VGe(s,h,c);s.setItemGraphicEl(h,p),l.add(p)}).update(function(h,p){var m=o.getItemGraphicEl(p);m.updateData(s,h,c),m.off("click"),l.add(m),s.setItemGraphicEl(h,m)}).remove(function(h){var p=o.getItemGraphicEl(h);lte(p,t,h)}).execute(),HGe(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,r){var i=r.getData(),a=i.getItemLayout(0);if(a){var s=t[0]-a.cx,o=t[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="pie",e}(og);const GGe=$Ge;function WGe(n,e,t){e=Zn(e)&&{coordDimensions:e}||pn({encodeDefine:n.getEncode()},e);var r=n.getSource(),i=pGe(r,e).dimensions,a=new hGe(i,n);return a.initData(r,t),a}var qGe=function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},n.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},n.prototype.getItemVisual=function(e,t){var r=this._getDataWithEncodedVisual();return r.getItemVisual(e,t)},n}();const KGe=qGe;var YGe=ja(),XGe=function(n){sr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new KGe(Ni(this.getData,this),Ni(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return WGe(this,{coordDimensions:["value"],encodeDefaulter:Da(oHe,this)})},e.prototype.getDataParams=function(t){var r=this.getData(),i=YGe(r),a=i.seats;if(!a){var s=[];r.each(r.mapDimension("value"),function(l){s.push(l)}),a=i.seats=O7e(s,r.hostModel.get("percentPrecision"))}var o=n.prototype.getDataParams.call(this,t);return o.percent=a[t]||0,o.$vars.push("percent"),o},e.prototype._defaultLabelLine=function(t){gP(t,"labelLine",["show"]);var r=t.labelLine,i=t.emphasis.labelLine;r.show=r.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(F_);const jGe=XGe;function ZGe(n){return{seriesType:n,reset:function(e,t){var r=e.getData();r.filterSelf(function(i){var a=r.mapDimension("value"),s=r.get(a,i);return!(ma(s)&&!isNaN(s)&&s<0)})}}}function QGe(n){n.registerChartView(GGe),n.registerSeriesModel(jGe),XVe("pie",n.registerAction),n.registerLayout(Da(BGe,"pie")),n.registerProcessor(FGe("pie")),n.registerProcessor(ZGe("pie"))}function dV(n,e,t){t=t||{};var r=n.coordinateSystem,i=e.axis,a={},s=i.getAxesOnZeroOf()[0],o=i.position,l=s?"onZero":o,c=i.dim,u=r.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],f={left:0,right:1,top:0,bottom:1,onZero:2},h=e.get("offset")||0,p=c==="x"?[d[2]-h,d[3]+h]:[d[0]-h,d[1]+h];if(s){var m=s.toGlobalCoord(s.dataToCoord(0));p[f.onZero]=Math.max(Math.min(m,p[1]),p[0])}a.position=[c==="y"?p[f[l]]:d[0],c==="x"?p[f[l]]:d[3]],a.rotation=Math.PI/2*(c==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=g[o],a.labelOffset=s?p[f[o]]-p[f.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),A_(t.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var v=e.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-v:v,a.z2=1,a}var Wf=Math.PI,m0=function(){function n(e,t){this.group=new bu,this.opt=t,this.axisModel=e,Zi(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new bu({x:t.position[0],y:t.position[1],rotation:t.rotation});r.updateTransform(),this._transformGroup=r}return n.prototype.hasBuilder=function(e){return!!fV[e]},n.prototype.add=function(e){fV[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,r){var i=dee(t-e),a,s;return xM(i)?(s=r>0?"top":"bottom",a="center"):xM(i-Wf)?(s=r>0?"bottom":"top",a="center"):(s="middle",i>0&&i<Wf?a=r>0?"right":"left":a=r>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:s}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),fV={axisLine:function(n,e,t,r){var i=e.get(["axisLine","show"]);if(i==="auto"&&n.handleAutoShown&&(i=n.handleAutoShown("axisLine")),!!i){var a=e.axis.getExtent(),s=r.transform,o=[a[0],0],l=[a[1],0],c=o[0]>l[0];s&&(du(o,o,s),du(l,l,s));var u=pn({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new US({shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});p8(d.shape,d.style.lineWidth),d.anid="line",t.add(d);var f=e.get(["axisLine","symbol"]);if(f!=null){var h=e.get(["axisLine","symbolSize"]);dr(f)&&(f=[f,f]),(dr(h)||ma(h))&&(h=[h,h]);var p=c$e(e.get(["axisLine","symbolOffset"])||0,h),m=h[0],g=h[1];Mt([{rotate:n.rotation+Math.PI/2,offset:p[0],r:0},{rotate:n.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((o[0]-l[0])*(o[0]-l[0])+(o[1]-l[1])*(o[1]-l[1]))}],function(v,y){if(f[y]!=="none"&&f[y]!=null){var b=I8(f[y],-m/2,-g/2,m,g,u.stroke,!0),_=v.r+v.offset,w=c?l:o;b.attr({rotation:v.rotate,x:w[0]+_*Math.cos(n.rotation),y:w[1]-_*Math.sin(n.rotation),silent:!0,z2:11}),t.add(b)}})}}},axisTickLabel:function(n,e,t,r){var i=tWe(t,r,e,n),a=rWe(t,r,e,n);if(eWe(e,a,i),nWe(t,r,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])){var s=TGe(Zr(a,function(o){return{label:o,priority:o.z2,defaultAttr:{ignore:o.ignore}}}));IGe(s)}},axisName:function(n,e,t,r){var i=A_(n.axisName,e.get("name"));if(i){var a=e.get("nameLocation"),s=n.nameDirection,o=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,c=e.axis.getExtent(),u=c[0]>c[1]?-1:1,d=[a==="start"?c[0]-u*l:a==="end"?c[1]+u*l:(c[0]+c[1])/2,pV(a)?n.labelOffset+s*l:0],f,h=e.get("nameRotate");h!=null&&(h=h*Wf/180);var p;pV(a)?f=m0.innerTextLayout(n.rotation,h??n.rotation,s):(f=JGe(n.rotation,a,h||0,c),p=n.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(f.rotation)),!isFinite(p)&&(p=null)));var m=o.getFont(),g=e.get("nameTruncate",!0)||{},v=g.ellipsis,y=A_(n.nameTruncateMaxWidth,g.maxWidth,p),b=new no({x:d[0],y:d[1],rotation:f.rotation,silent:m0.isLabelSilent(e),style:wh(o,{text:i,font:m,overflow:"truncate",width:y,ellipsis:v,fill:o.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:o.get("align")||f.textAlign,verticalAlign:o.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(g8({el:b,componentModel:e,itemName:i}),b.__fullText=i,b.anid="name",e.get("triggerEvent")){var _=m0.makeAxisEventDataBase(e);_.targetType="axisName",_.name=i,ra(b).eventData=_}r.add(b),b.updateTransform(),t.add(b),b.decomposeTransform()}}};function JGe(n,e,t,r){var i=dee(t-n),a,s,o=r[0]>r[1],l=e==="start"&&!o||e!=="start"&&o;return xM(i-Wf/2)?(s=l?"bottom":"top",a="center"):xM(i-Wf*1.5)?(s=l?"top":"bottom",a="center"):(s="middle",i<Wf*1.5&&i>Wf/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:s}}function eWe(n,e,t){if(!bGe(n.axis)){var r=n.get(["axisLabel","showMinLabel"]),i=n.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var a=e[0],s=e[1],o=e[e.length-1],l=e[e.length-2],c=t[0],u=t[1],d=t[t.length-1],f=t[t.length-2];r===!1?(dl(a),dl(c)):hV(a,s)&&(r?(dl(s),dl(u)):(dl(a),dl(c))),i===!1?(dl(o),dl(d)):hV(l,o)&&(i?(dl(l),dl(f)):(dl(o),dl(d)))}}function dl(n){n&&(n.ignore=!0)}function hV(n,e){var t=n&&n.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!t||!r)){var i=Kk([]);return Yk(i,i,-n.rotation),t.applyTransform(ag([],i,n.getLocalTransform())),r.applyTransform(ag([],i,e.getLocalTransform())),t.intersect(r)}}function pV(n){return n==="middle"||n==="center"}function Bne(n,e,t,r,i){for(var a=[],s=[],o=[],l=0;l<n.length;l++){var c=n[l].coord;s[0]=c,s[1]=0,o[0]=c,o[1]=t,e&&(du(s,s,e),du(o,o,e));var u=new US({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:r,z2:2,autoBatch:!0,silent:!0});p8(u.shape,u.style.lineWidth),u.anid=i+"_"+n[l].tickValue,a.push(u)}return a}function tWe(n,e,t,r){var i=t.axis,a=t.getModel("axisTick"),s=a.get("show");if(s==="auto"&&r.handleAutoShown&&(s=r.handleAutoShown("axisTick")),!(!s||i.scale.isBlank())){for(var o=a.getModel("lineStyle"),l=r.tickDirection*a.get("length"),c=i.getTicksCoords(),u=Bne(c,e.transform,l,Zi(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<u.length;d++)n.add(u[d]);return u}}function nWe(n,e,t,r){var i=t.axis,a=t.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var s=i.getMinorTicksCoords();if(s.length)for(var o=a.getModel("lineStyle"),l=r*a.get("length"),c=Zi(o.getLineStyle(),Zi(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),u=0;u<s.length;u++)for(var d=Bne(s[u],e.transform,l,c,"minorticks_"+u),f=0;f<d.length;f++)n.add(d[f])}}function rWe(n,e,t,r){var i=t.axis,a=A_(r.axisLabelShow,t.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var s=t.getModel("axisLabel"),o=s.get("margin"),l=i.getViewLabels(),c=(A_(r.labelRotate,s.get("rotate"))||0)*Wf/180,u=m0.innerTextLayout(r.rotation,c,r.labelDirection),d=t.getCategories&&t.getCategories(!0),f=[],h=m0.isLabelSilent(t),p=t.get("triggerEvent");return Mt(l,function(m,g){var v=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(m.tickValue):m.tickValue,y=m.formattedLabel,b=m.rawLabel,_=s;if(d&&d[v]){var w=d[v];fr(w)&&w.textStyle&&(_=new Ds(w.textStyle,s,t.ecModel))}var x=_.getTextColor()||t.get(["axisLine","lineStyle","color"]),M=i.dataToCoord(v),C=new no({x:M,y:r.labelOffset+r.labelDirection*o,rotation:u.rotation,silent:h,z2:10+(m.level||0),style:wh(_,{text:y,align:_.getShallow("align",!0)||u.textAlign,verticalAlign:_.getShallow("verticalAlign",!0)||_.getShallow("baseline",!0)||u.textVerticalAlign,fill:gi(x)?x(i.type==="category"?b:i.type==="value"?v+"":v,g):x})});if(C.anid="label_"+v,p){var T=m0.makeAxisEventDataBase(t);T.targetType="axisLabel",T.value=b,T.tickIndex=g,i.type==="category"&&(T.dataIndex=v),ra(C).eventData=T}e.add(C),C.updateTransform(),f.push(C),n.add(C),C.decomposeTransform()}),f}}const iWe=m0;function aWe(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return sWe(t,n,e),t.seriesInvolved&&lWe(t,n),t}function sWe(n,e,t){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],s=[];Mt(t.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=H_(o.model),c=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=o;var u=o.model,d=u.getModel("tooltip",r);if(Mt(o.getAxes(),Da(m,!1,null)),o.getTooltipAxes&&r&&d.get("show")){var f=d.get("trigger")==="axis",h=d.get(["axisPointer","type"])==="cross",p=o.getTooltipAxes(d.get(["axisPointer","axis"]));(f||h)&&Mt(p.baseAxes,Da(m,h?"cross":!0,f)),h&&Mt(p.otherAxes,Da(m,"cross",!1))}function m(g,v,y){var b=y.model.getModel("axisPointer",i),_=b.get("show");if(!(!_||_==="auto"&&!g&&!qP(b))){v==null&&(v=b.get("triggerTooltip")),b=g?oWe(y,d,i,e,g,v):b;var w=b.get("snap"),x=b.get("triggerEmphasis"),M=H_(y.model),C=v||w||y.type==="category",T=n.axesInfo[M]={key:M,axis:y,coordSys:o,axisPointerModel:b,triggerTooltip:v,triggerEmphasis:x,involveSeries:C,snap:w,useHandle:qP(b),seriesModels:[],linkGroup:null};c[M]=T,n.seriesInvolved=n.seriesInvolved||C;var A=cWe(a,y);if(A!=null){var I=s[A]||(s[A]={axesInfo:{}});I.axesInfo[M]=T,I.mapper=a[A].mapper,T.linkGroup=I}}}})}function oWe(n,e,t,r,i,a){var s=e.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};Mt(o,function(f){l[f]=ei(s.get(f))}),l.snap=n.type!=="category"&&!!a,s.get("type")==="cross"&&(l.type="line");var c=l.label||(l.label={});if(c.show==null&&(c.show=!1),i==="cross"){var u=s.get(["label","show"]);if(c.show=u??!0,!a){var d=l.lineStyle=s.get("crossStyle");d&&Zi(c,d.textStyle)}}return n.model.getModel("axisPointer",new Ds(l,t,r))}function lWe(n,e){e.eachSeries(function(t){var r=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||a===!1||t.get(["axisPointer","show"],!0)===!1||Mt(n.coordSysAxesInfo[H_(r.model)],function(s){var o=s.axis;r.getAxis(o.dim)===o&&(s.seriesModels.push(t),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=t.getData().count())})})}function cWe(n,e){for(var t=e.model,r=e.dim,i=0;i<n.length;i++){var a=n[i]||{};if(T4(a[r+"AxisId"],t.id)||T4(a[r+"AxisIndex"],t.componentIndex)||T4(a[r+"AxisName"],t.name))return i}}function T4(n,e){return n==="all"||Zn(n)&&Oi(n,e)>=0||n===e}function uWe(n){var e=O8(n);if(e){var t=e.axisPointerModel,r=e.axis.scale,i=t.option,a=t.get("status"),s=t.get("value");s!=null&&(s=r.parse(s));var o=qP(t);a==null&&(i.status=o?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),i.value=s,o&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function O8(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[H_(n)]}function dWe(n){var e=O8(n);return e&&e.axisPointerModel}function qP(n){return!!n.get(["handle","show"])}function H_(n){return n.type+"||"+n.id}var mV={},fWe=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){this.axisPointerClass&&uWe(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,r,i,a){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var s=dWe(t);s?(this._axisPointer||(this._axisPointer=new a)).render(t,s,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){mV[t]=r},e.getAxisPointerClass=function(t){return t&&mV[t]},e.type="axis",e}(xh);const hWe=fWe;var Dp=ja(),vV=ei,A4=Ni,pWe=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,r,i){var a=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!i&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var c={};this.makeElOption(c,a,e,t,r);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=u;var d=this._moveAnimation=this.determineAnimation(e,t);if(!o)o=this._group=new bu,this.createPointerEl(o,c,e,t),this.createLabelEl(o,c,e,t),r.getZr().add(o);else{var f=Da(gV,t,d);this.updatePointerEl(o,c,f),this.updateLabelEl(o,c,f,t)}bV(o,t,!0),this._renderHandle(a)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var r=t.get("animation"),i=e.axis,a=i.type==="category",s=t.get("snap");if(!s&&!a)return!1;if(r==="auto"||r==null){var o=this.animationThreshold;if(a&&i.getBandWidth()>o)return!0;if(s){var l=O8(e).seriesDataCount,c=i.getExtent();return Math.abs(c[0]-c[1])/l>o}return!1}return r===!0},n.prototype.makeElOption=function(e,t,r,i,a){},n.prototype.createPointerEl=function(e,t,r,i){var a=t.pointer;if(a){var s=Dp(e).pointerEl=new wUe[a.type](vV(t.pointer));e.add(s)}},n.prototype.createLabelEl=function(e,t,r,i){if(t.label){var a=Dp(e).labelEl=new no(vV(t.label));e.add(a),yV(a,i)}},n.prototype.updatePointerEl=function(e,t,r){var i=Dp(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),r(i,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,r,i){var a=Dp(e).labelEl;a&&(a.setStyle(t.label.style),r(a,{x:t.label.x,y:t.label.y}),yV(a,i))},n.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=t.getModel("handle"),s=t.get("status");if(!a.get("show")||!s||s==="hide"){i&&r.remove(i),this._handle=null;return}var o;this._handle||(o=!0,i=this._handle=v8(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){zJ(c.event)},onmousedown:A4(this._onHandleDragMove,this,0,0),drift:A4(this._onHandleDragMove,this),ondragend:A4(this._onHandleDragEnd,this)}),r.add(i)),bV(i,t,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");Zn(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,Zte(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,o)}},n.prototype._moveHandleToValue=function(e,t){gV(this._axisPointerModel,!t&&this._moveAnimation,this._handle,E4(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(E4(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(E4(i)),Dp(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,i=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),BP(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},n}();function gV(n,e,t,r){Fne(Dp(t).lastProp,r)||(Dp(t).lastProp=r,e?Hg(t,r,n):(t.stopAnimation(),t.attr(r)))}function Fne(n,e){if(fr(n)&&fr(e)){var t=!0;return Mt(e,function(r,i){t=t&&Fne(n[i],r)}),!!t}else return n===e}function yV(n,e){n[e.get(["label","show"])?"show":"hide"]()}function E4(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function bV(n,e,t){var r=e.get("z"),i=e.get("zlevel");n&&n.traverse(function(a){a.type!=="group"&&(r!=null&&(a.z=r),i!=null&&(a.zlevel=i),a.silent=t)})}const mWe=pWe;function vWe(n){var e=n.get("type"),t=n.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function gWe(n,e,t,r,i){var a=t.get("value"),s=zne(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),o=t.getModel("label"),l=EA(o.get("padding")||0),c=o.getFont(),u=iee(s,c),d=i.position,f=u.width+l[1]+l[3],h=u.height+l[0]+l[2],p=i.align;p==="right"&&(d[0]-=f),p==="center"&&(d[0]-=f/2);var m=i.verticalAlign;m==="bottom"&&(d[1]-=h),m==="middle"&&(d[1]-=h/2),yWe(d,f,h,r);var g=o.get("backgroundColor");(!g||g==="auto")&&(g=e.get(["axisLine","lineStyle","color"])),n.label={x:d[0],y:d[1],style:wh(o,{text:s,font:c,fill:o.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function yWe(n,e,t,r){var i=r.getWidth(),a=r.getHeight();n[0]=Math.min(n[0]+e,i)-e,n[1]=Math.min(n[1]+t,a)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function zne(n,e,t,r,i){n=e.scale.parse(n);var a=e.scale.getLabel({value:n},{precision:i.precision}),s=i.formatter;if(s){var o={value:Lne(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};Mt(r,function(l){var c=t.getSeriesByIndex(l.seriesIndex),u=l.dataIndexInside,d=c&&c.getDataParams(u);d&&o.seriesData.push(d)}),dr(s)?a=s.replace("{value}",a):gi(s)&&(a=s(o))}return a}function Une(n,e,t){var r=E_();return Yk(r,r,t.rotation),sP(r,r,t.position),m8([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function bWe(n,e,t,r,i,a){var s=iWe.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),gWe(e,r,i,a,{position:Une(r.axis,n,t),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function _We(n,e,t){return t=t||0,{x1:n[t],y1:n[1-t],x2:e[t],y2:e[1-t]}}function SWe(n,e,t){return t=t||0,{x:n[t],y:n[1-t],width:e[t],height:e[1-t]}}var wWe=function(n){sr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,a,s){var o=i.axis,l=o.grid,c=a.get("type"),u=_V(l,o).getOtherAxis(o).getGlobalExtent(),d=o.toGlobalCoord(o.dataToCoord(r,!0));if(c&&c!=="none"){var f=vWe(a),h=xWe[c](o,d,u);h.style=f,t.graphicKey=h.type,t.pointer=h}var p=dV(l.model,i);bWe(r,t,p,i,a,s)},e.prototype.getHandleTransform=function(t,r,i){var a=dV(r.axis.grid.model,r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=Une(r.axis,t,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,a){var s=i.axis,o=s.grid,l=s.getGlobalExtent(!0),c=_V(o,s).getOtherAxis(s).getGlobalExtent(),u=s.dim==="x"?0:1,d=[t.x,t.y];d[u]+=r[u],d[u]=Math.min(l[1],d[u]),d[u]=Math.max(l[0],d[u]);var f=(c[1]+c[0])/2,h=[f,f];h[u]=d[u];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:t.rotation,cursorPoint:h,tooltipOption:p[u]}},e}(mWe);function _V(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var xWe={line:function(n,e,t){var r=_We([e,t[0]],[e,t[1]],SV(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,e,t){var r=Math.max(1,n.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:SWe([e-r/2,t[0]],[r,i],SV(n))}}};function SV(n){return n.dim==="x"?0:1}const CWe=wWe;var MWe=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(ta);const TWe=MWe;var md=ja(),AWe=Mt;function Hne(n,e,t){if(!Lr.node){var r=e.getZr();md(r).records||(md(r).records={}),EWe(r,e);var i=md(r).records[n]||(md(r).records[n]={});i.handler=t}}function EWe(n,e){if(md(n).initialized)return;md(n).initialized=!0,t("click",Da(wV,"click")),t("mousemove",Da(wV,"mousemove")),t("globalout",RWe);function t(r,i){n.on(r,function(a){var s=PWe(e);AWe(md(n).records,function(o){o&&i(o,a,s.dispatchAction)}),IWe(s.pendings,e)})}}function IWe(n,e){var t=n.showTip.length,r=n.hideTip.length,i;t?i=n.showTip[t-1]:r&&(i=n.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function RWe(n,e,t){n.handler("leave",null,t)}function wV(n,e,t,r){e.handler(n,t,r)}function PWe(n){var e={showTip:[],hideTip:[]},t=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=t,n.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function KP(n,e){if(!Lr.node){var t=e.getZr(),r=(md(t).records||{})[n];r&&(md(t).records[n]=null)}}var LWe=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=r.getComponent("tooltip"),s=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";Hne("axisPointer",i,function(o,l,c){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&c({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){KP("axisPointer",r)},e.prototype.dispose=function(t,r){KP("axisPointer",r)},e.type="axisPointer",e}(xh);const DWe=LWe;function Vne(n,e){var t=[],r=n.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var a=i.getData(),s=BS(a,n);if(s==null||s<0||Zn(s))return{point:[]};var o=a.getItemGraphicEl(s),l=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(n.isStacked){var c=l.getBaseAxis(),u=l.getOtherAxis(c),d=u.dim,f=c.dim,h=d==="x"||d==="radius"?1:0,p=a.mapDimension(f),m=[];m[h]=a.get(p,s),m[1-h]=a.get(a.getCalculationInfo("stackResultDimension"),s),t=l.dataToPoint(m)||[]}else t=l.dataToPoint(a.getValues(Zr(l.dimensions,function(v){return a.mapDimension(v)}),s))||[];else if(o){var g=o.getBoundingRect().clone();g.applyTransform(o.transform),t=[g.x+g.width/2,g.y+g.height/2]}return{point:t,el:o}}var xV=ja();function kWe(n,e,t){var r=n.currTrigger,i=[n.x,n.y],a=n,s=n.dispatchAction||Ni(t.dispatchAction,t),o=e.getComponent("axisPointer").coordSysAxesInfo;if(o){yC(i)&&(i=Vne({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=yC(i),c=a.axesInfo,u=o.axesInfo,d=r==="leave"||yC(i),f={},h={},p={list:[],map:{}},m={showPointer:Da(NWe,h),showTooltip:Da(BWe,p)};Mt(o.coordSysMap,function(v,y){var b=l||v.containPoint(i);Mt(o.coordSysAxesInfo[y],function(_,w){var x=_.axis,M=HWe(c,_);if(!d&&b&&(!c||M)){var C=M&&M.value;C==null&&!l&&(C=x.pointToData(i)),C!=null&&CV(_,C,m,!1,f)}})});var g={};return Mt(u,function(v,y){var b=v.linkGroup;b&&!h[y]&&Mt(b.axesInfo,function(_,w){var x=h[w];if(_!==v&&x){var M=x.value;b.mapper&&(M=v.axis.scale.parse(b.mapper(M,MV(_),MV(v)))),g[v.key]=M}})}),Mt(g,function(v,y){CV(u[y],v,m,!0,f)}),FWe(h,u,f),zWe(p,i,n,s),UWe(u,s,t),f}}function CV(n,e,t,r,i){var a=n.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!n.involveSeries){t.showPointer(n,e);return}var s=OWe(e,n),o=s.payloadBatch,l=s.snapToValue;o[0]&&i.seriesIndex==null&&pn(i,o[0]),!r&&n.snap&&a.containData(l)&&l!=null&&(e=l),t.showPointer(n,e,o),t.showTooltip(n,s,l)}}function OWe(n,e){var t=e.axis,r=t.dim,i=n,a=[],s=Number.MAX_VALUE,o=-1;return Mt(e.seriesModels,function(l,c){var u=l.getData().mapDimensionsAll(r),d,f;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(u,n,t);f=h.dataIndices,d=h.nestestValue}else{if(f=l.getData().indicesOfNearest(u[0],n,t.type==="category"?.5:null),!f.length)return;d=l.getData().get(u[0],f[0])}if(!(d==null||!isFinite(d))){var p=n-d,m=Math.abs(p);m<=s&&((m<s||p>=0&&o<0)&&(s=m,o=p,i=d,a.length=0),Mt(f,function(g){a.push({seriesIndex:l.seriesIndex,dataIndexInside:g,dataIndex:l.getData().getRawIndex(g)})}))}}),{payloadBatch:a,snapToValue:i}}function NWe(n,e,t,r){n[e.key]={value:t,payloadBatch:r}}function BWe(n,e,t,r){var i=t.payloadBatch,a=e.axis,s=a.model,o=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,c=H_(l),u=n.map[c];u||(u=n.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(u)),u.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:r,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function FWe(n,e,t){var r=t.axesInfo=[];Mt(e,function(i,a){var s=i.axisPointerModel.option,o=n[a];o?(!i.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function zWe(n,e,t,r){if(yC(e)||!n.list.length){r({type:"hideTip"});return}var i=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:n.list})}function UWe(n,e,t){var r=t.getZr(),i="axisPointerLastHighlights",a=xV(r)[i]||{},s=xV(r)[i]={};Mt(n,function(c,u){var d=c.axisPointerModel.option;d.status==="show"&&c.triggerEmphasis&&Mt(d.seriesDataIndices,function(f){var h=f.seriesIndex+" | "+f.dataIndex;s[h]=f})});var o=[],l=[];Mt(a,function(c,u){!s[u]&&l.push(c)}),Mt(s,function(c,u){!a[u]&&o.push(c)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function HWe(n,e){for(var t=0;t<(n||[]).length;t++){var r=n[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function MV(n){var e=n.axis.model,t={},r=t.axisDim=n.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function yC(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function VWe(n){hWe.registerAxisPointerClass("CartesianAxisPointer",CWe),n.registerComponentModel(TWe),n.registerComponentView(DWe),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!Zn(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=aWe(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},kWe)}function $We(n,e){var t=EA(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),n=new So({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),n}var GWe=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(ta);const WWe=GWe;function $ne(n){var e=n.get("confine");return e!=null?!!e:n.get("renderMode")==="richText"}function Gne(n){if(Lr.domSupported){for(var e=document.documentElement.style,t=0,r=n.length;t<r;t++)if(n[t]in e)return n[t]}}var Wne=Gne(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qWe=Gne(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function qne(n,e){if(!n)return e;e=_te(e,!0);var t=n.indexOf(e);return n=t===-1?e:"-"+n.slice(0,t)+"-"+e,n.toLowerCase()}function KWe(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?e?t[e]:t:null}var YWe=qne(qWe,"transition"),N8=qne(Wne,"transform"),XWe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Lr.transform3dSupported?"will-change:transform;":"");function jWe(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function ZWe(n,e,t){if(!dr(t)||t==="inside")return"";var r=n.get("backgroundColor"),i=n.get("borderWidth");e=D_(e);var a=jWe(t),s=Math.max(Math.round(i)*1.5,6),o="",l=N8+":",c;Oi(["left","right"],a)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(c=a==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(c=a==="top"?225:45)+"deg)");var u=c*Math.PI/180,d=s+i,f=d*Math.abs(Math.cos(u))+d*Math.abs(Math.sin(u)),h=Math.round(((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-d)/2)*100)/100;o+=";"+a+":-"+h+"px";var p=e+" solid "+i+"px;",m=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"];return'<div style="'+m.join("")+'"></div>'}function QWe(n,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+n/2+"s "+t,i="opacity"+r+",visibility"+r;return e||(r=" "+n+"s "+t,i+=Lr.transformSupported?","+N8+r:",left"+r+",top"+r),YWe+":"+i}function TV(n,e,t){var r=n.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Lr.transformSupported)return t?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var a=Lr.transform3dSupported,s="translate"+(a?"3d":"")+"("+r+","+i+(a?",0":"")+")";return t?"top:0;left:0;"+N8+":"+s+";":[["top",0],["left",0],[Wne,s]]}function JWe(n){var e=[],t=n.get("fontSize"),r=n.getTextColor();r&&e.push("color:"+r),e.push("font:"+n.getFont()),t&&e.push("line-height:"+Math.round(t*3/2)+"px");var i=n.get("textShadowColor"),a=n.get("textShadowBlur")||0,s=n.get("textShadowOffsetX")||0,o=n.get("textShadowOffsetY")||0;return i&&a&&e.push("text-shadow:"+s+"px "+o+"px "+a+"px "+i),Mt(["decoration","align"],function(l){var c=n.get(l);c&&e.push("text-"+l+":"+c)}),e.join(";")}function eqe(n,e,t){var r=[],i=n.get("transitionDuration"),a=n.get("backgroundColor"),s=n.get("shadowBlur"),o=n.get("shadowColor"),l=n.get("shadowOffsetX"),c=n.get("shadowOffsetY"),u=n.getModel("textStyle"),d=Xte(n,"html"),f=l+"px "+c+"px "+s+"px "+o;return r.push("box-shadow:"+f),e&&i&&r.push(QWe(i,t)),a&&r.push("background-color:"+a),Mt(["width","color","radius"],function(h){var p="border-"+h,m=_te(p),g=n.get(m);g!=null&&r.push(p+":"+g+(h==="color"?"":"px"))}),r.push(JWe(u)),d!=null&&r.push("padding:"+EA(d).join("px ")+"px"),r.join(";")+";"}function AV(n,e,t,r,i){var a=e&&e.painter;if(t){var s=a&&a.getViewportRoot();s&&gFe(n,s,document.body,r,i)}else{n[0]=r,n[1]=i;var o=a&&a.getViewportRootOffset();o&&(n[0]+=o.offsetLeft,n[1]+=o.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var tqe=function(){function n(e,t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Lr.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var a=this._zr=t.getZr(),s=this._appendToBody=r&&r.appendToBody;AV(this._styleCoord,a,s,t.getWidth()/2,t.getHeight()/2),s?document.body.appendChild(i):e.appendChild(i),this._container=e;var o=this;i.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},i.onmousemove=function(l){if(l=l||window.event,!o._enterable){var c=a.handler,u=a.painter.getViewportRoot();yl(u,l,!0),c.dispatch("mousemove",l)}},i.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return n.prototype.update=function(e){var t=this._container,r=KWe(t,"position"),i=t.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative");var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,a=this._styleCoord;r.innerHTML?i.cssText=XWe+eqe(e,!this._firstShow,this._longHide)+TV(a[0],a[1],!0)+("border-color:"+D_(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,r,i,a){var s=this.el;if(e==null){s.innerHTML="";return}var o="";if(dr(a)&&r.get("trigger")==="item"&&!$ne(r)&&(o=ZWe(r,i,a)),dr(e))s.innerHTML=e+o;else if(e){s.innerHTML="",Zn(e)||(e=[e]);for(var l=0;l<e.length;l++)gM(e[l])&&e[l].parentNode!==s&&s.appendChild(e[l]);if(o&&s.childNodes.length){var c=document.createElement("div");c.innerHTML=o,s.appendChild(c)}}},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},n.prototype.moveTo=function(e,t){var r=this._styleCoord;if(AV(r,this._zr,this._appendToBody,e,t),r[0]!=null&&r[1]!=null){var i=this.el.style,a=TV(r[0],r[1]);Mt(a,function(s){i[s[0]]=s[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Lr.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ni(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}();const nqe=tqe;var rqe=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),IV(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,r,i,a){var s=this;fr(e)&&fo(""),this.el&&this._zr.remove(this.el);var o=r.getModel("textStyle");this.el=new no({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Xte(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),Mt(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){s.el.style[c]=r.get(c)}),Mt(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){s.el.style[c]=o.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=EV(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},n.prototype.moveTo=function(e,t){var r=this.el;if(r){var i=this._styleCoord;IV(i,this._zr,e,t),e=i[0],t=i[1];var a=r.style,s=kf(a.borderWidth||0),o=EV(a);r.x=e+s+o.left,r.y=t+s+o.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ni(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function kf(n){return Math.max(0,n)}function EV(n){var e=kf(n.shadowBlur||0),t=kf(n.shadowOffsetX||0),r=kf(n.shadowOffsetY||0);return{left:kf(e-t),right:kf(e+t),top:kf(e-r),bottom:kf(e+r)}}function IV(n,e,t,r){n[0]=t,n[1]=r,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}const iqe=rqe;var aqe=new So({shape:{x:-1,y:-1,width:2,height:2}}),sqe=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(Lr.node||!r.getDom())){var i=t.getComponent("tooltip"),a=this._renderMode=Q7e(i.get("renderMode"));this._tooltipContent=a==="richText"?new iqe(r):new nqe(r.getDom(),r,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(t,r,i){if(!(Lr.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=i;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?Zte(this,"_updatePosition",50,"fixRate"):BP(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");Hne("itemTooltip",this._api,Ni(function(i,a,s){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(a,s):i==="leave"&&this._hide(s))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,i=this._api,a=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(t,r,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,i,a){if(!(a.from===this.uid||Lr.node||!i.getDom())){var s=RV(a,i);this._ticket="";var o=a.dataByCoordSys,l=uqe(a,r,i);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var u=aqe;u.x=a.x,u.y=a.y,u.update(),ra(u).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:u},s)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:o,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,i,a))return;var d=Vne(a,r),f=d.point[0],h=d.point[1];f!=null&&h!=null&&this._tryShow({offsetX:f,offsetY:h,target:d.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},s))}},e.prototype.manuallyHideTip=function(t,r,i,a){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(RV(a,i))},e.prototype._manuallyAxisShowTip=function(t,r,i,a){var s=a.seriesIndex,o=a.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var c=r.getSeriesByIndex(s);if(c){var u=c.getData(),d=M1([u.getItemModel(o),c,(c.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:a.position}),!0}}},e.prototype._tryShow=function(t,r){var i=t.target,a=this._tooltipModel;if(a){this._lastX=t.offsetX,this._lastY=t.offsetY;var s=t.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,t);else if(i){this._lastDataByCoordSys=null;var o,l;eb(i,function(c){if(ra(c).dataIndex!=null)return o=c,!0;if(ra(c).tooltipConfig!=null)return l=c,!0},!0),o?this._showSeriesItemTooltip(t,o,r):l?this._showComponentItemTooltip(t,l,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var i=t.get("showDelay");r=Ni(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(t,r){var i=this._ecModel,a=this._tooltipModel,s=[r.offsetX,r.offsetY],o=M1([r.tooltipOption],a),l=this._renderMode,c=[],u=B_("section",{blocks:[],noHeader:!0}),d=[],f=new f4;Mt(t,function(y){Mt(y.dataByAxis,function(b){var _=i.getComponent(b.axisDim+"Axis",b.axisIndex),w=b.value;if(!(!_||w==null)){var x=zne(w,_.axis,i,b.seriesDataIndices,b.valueLabelOpt),M=B_("section",{header:x,noHeader:!nu(x),sortBlocks:!0,blocks:[]});u.blocks.push(M),Mt(b.seriesDataIndices,function(C){var T=i.getSeriesByIndex(C.seriesIndex),A=C.dataIndexInside,I=T.getDataParams(A);if(!(I.dataIndex<0)){I.axisDim=b.axisDim,I.axisIndex=b.axisIndex,I.axisType=b.axisType,I.axisId=b.axisId,I.axisValue=Lne(_.axis,{value:w}),I.axisValueLabel=x,I.marker=f.makeTooltipMarker("item",D_(I.color),l);var L=gH(T.formatTooltip(A,!0,null)),k=L.frag;if(k){var N=M1([T],a).get("valueFormatter");M.blocks.push(N?pn({valueFormatter:N},k):k)}L.text&&d.push(L.text),c.push(I)}})}})}),u.blocks.reverse(),d.reverse();var h=r.position,p=o.get("order"),m=wH(u,f,l,p,i.get("useUTC"),o.get("textStyle"));m&&d.unshift(m);var g=l==="richText"?`

`:"<br/>",v=d.join(g);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(t,c)?this._updatePosition(o,h,s[0],s[1],this._tooltipContent,c):this._showTooltipContent(o,v,c,Math.random()+"",s[0],s[1],h,null,f)})},e.prototype._showSeriesItemTooltip=function(t,r,i){var a=this._ecModel,s=ra(r),o=s.seriesIndex,l=a.getSeriesByIndex(o),c=s.dataModel||l,u=s.dataIndex,d=s.dataType,f=c.getData(d),h=this._renderMode,p=t.positionDefault,m=M1([f.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),g=m.get("trigger");if(!(g!=null&&g!=="item")){var v=c.getDataParams(u,d),y=new f4;v.marker=y.makeTooltipMarker("item",D_(v.color),h);var b=gH(c.formatTooltip(u,!1,d)),_=m.get("order"),w=m.get("valueFormatter"),x=b.frag,M=x?wH(w?pn({valueFormatter:w},x):x,y,h,_,a.get("useUTC"),m.get("textStyle")):b.text,C="item_"+c.name+"_"+u;this._showOrMove(m,function(){this._showTooltipContent(m,M,v,C,t.offsetX,t.offsetY,t.position,t.target,y)}),i({type:"showTip",dataIndexInside:u,dataIndex:f.getRawIndex(u),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,i){var a=ra(r),s=a.tooltipConfig,o=s.option||{};if(dr(o)){var l=o;o={content:l,formatter:l}}var c=[o],u=this._ecModel.getComponent(a.componentMainType,a.componentIndex);u&&c.push(u),c.push({formatter:o.content});var d=t.positionDefault,f=M1(c,this._tooltipModel,d?{position:d}:null),h=f.get("content"),p=Math.random()+"",m=new f4;this._showOrMove(f,function(){var g=ei(f.get("formatterParams")||{});this._showTooltipContent(f,h,g,p,t.offsetX,t.offsetY,t.position,r,m)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,i,a,s,o,l,c,u){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var d=this._tooltipContent;d.setEnterable(t.get("enterable"));var f=t.get("formatter");l=l||t.get("position");var h=r,p=this._getNearestPoint([s,o],i,t.get("trigger"),t.get("borderColor")),m=p.color;if(f)if(dr(f)){var g=t.ecModel.get("useUTC"),v=Zn(i)?i[0]:i,y=v&&v.axisType&&v.axisType.indexOf("time")>=0;h=f,y&&(h=bte(v.axisValue,h,g)),h=Ste(h,i,!0)}else if(gi(f)){var b=Ni(function(_,w){_===this._ticket&&(d.setContent(w,u,t,m,l),this._updatePosition(t,l,s,o,d,i,c))},this);this._ticket=a,h=f(i,a,b)}else h=f;d.setContent(h,u,t,m,l),d.show(t,m),this._updatePosition(t,l,s,o,d,i,c)}},e.prototype._getNearestPoint=function(t,r,i,a){if(i==="axis"||Zn(r))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!Zn(r))return{color:a||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,i,a,s,o,l){var c=this._api.getWidth(),u=this._api.getHeight();r=r||t.get("position");var d=s.getSize(),f=t.get("align"),h=t.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),gi(r)&&(r=r([i,a],o,s.el,p,{viewSize:[c,u],contentSize:d.slice()})),Zn(r))i=Ra(r[0],c),a=Ra(r[1],u);else if(fr(r)){var m=r;m.width=d[0],m.height=d[1];var g=k_(m,{width:c,height:u});i=g.x,a=g.y,f=null,h=null}else if(dr(r)&&l){var v=cqe(r,p,d,t.get("borderWidth"));i=v[0],a=v[1]}else{var v=oqe(i,a,s,c,u,f?null:20,h?null:20);i=v[0],a=v[1]}if(f&&(i-=PV(f)?d[0]/2:f==="right"?d[0]:0),h&&(a-=PV(h)?d[1]/2:h==="bottom"?d[1]:0),$ne(t)){var v=lqe(i,a,s,c,u);i=v[0],a=v[1]}s.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var i=this._lastDataByCoordSys,a=this._cbParamsList,s=!!i&&i.length===t.length;return s&&Mt(i,function(o,l){var c=o.dataByAxis||[],u=t[l]||{},d=u.dataByAxis||[];s=s&&c.length===d.length,s&&Mt(c,function(f,h){var p=d[h]||{},m=f.seriesDataIndices||[],g=p.seriesDataIndices||[];s=s&&f.value===p.value&&f.axisType===p.axisType&&f.axisId===p.axisId&&m.length===g.length,s&&Mt(m,function(v,y){var b=g[y];s=s&&v.seriesIndex===b.seriesIndex&&v.dataIndex===b.dataIndex}),a&&Mt(f.seriesDataIndices,function(v){var y=v.seriesIndex,b=r[y],_=a[y];b&&_&&_.data!==b.data&&(s=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!s},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){Lr.node||!r.getDom()||(BP(this,"_updatePosition"),this._tooltipContent.dispose(),KP("itemTooltip",r))},e.type="tooltip",e}(xh);function M1(n,e,t){var r=e.ecModel,i;t?(i=new Ds(t,r,r),i=new Ds(e.option,i,r)):i=e;for(var a=n.length-1;a>=0;a--){var s=n[a];s&&(s instanceof Ds&&(s=s.get("tooltip",!0)),dr(s)&&(s={formatter:s}),s&&(i=new Ds(s,i,r)))}return i}function RV(n,e){return n.dispatchAction||Ni(e.dispatchAction,e)}function oqe(n,e,t,r,i,a,s){var o=t.getSize(),l=o[0],c=o[1];return a!=null&&(n+l+a+2>r?n-=l+a:n+=a),s!=null&&(e+c+s>i?e-=c+s:e+=s),[n,e]}function lqe(n,e,t,r,i){var a=t.getSize(),s=a[0],o=a[1];return n=Math.min(n+s,r)-s,e=Math.min(e+o,i)-o,n=Math.max(n,0),e=Math.max(e,0),[n,e]}function cqe(n,e,t,r){var i=t[0],a=t[1],s=Math.ceil(Math.SQRT2*r)+8,o=0,l=0,c=e.width,u=e.height;switch(n){case"inside":o=e.x+c/2-i/2,l=e.y+u/2-a/2;break;case"top":o=e.x+c/2-i/2,l=e.y-a-s;break;case"bottom":o=e.x+c/2-i/2,l=e.y+u+s;break;case"left":o=e.x-i-s,l=e.y+u/2-a/2;break;case"right":o=e.x+c+s,l=e.y+u/2-a/2}return[o,l]}function PV(n){return n==="center"||n==="middle"}function uqe(n,e,t){var r=t8(n).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var a=FS(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(s){var o=t.getViewOfComponentModel(s),l;if(o.group.traverse(function(c){var u=ra(c).tooltipConfig;if(u&&u.name===n.name)return l=c,!0}),l)return{componentMainType:i,componentIndex:s.componentIndex,el:l}}}}const dqe=sqe;function fqe(n){Vg(VWe),n.registerComponentModel(WWe),n.registerComponentView(dqe),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},_o),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},_o)}var hqe=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(ta),pqe=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){if(this.group.removeAll(),!!t.get("show")){var a=this.group,s=t.getModel("textStyle"),o=t.getModel("subtextStyle"),l=t.get("textAlign"),c=Xr(t.get("textBaseline"),t.get("textVerticalAlign")),u=new no({style:wh(s,{text:t.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),d=u.getBoundingRect(),f=t.get("subtext"),h=new no({style:wh(o,{text:f,fill:o.getTextColor(),y:d.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),m=t.get("sublink"),g=t.get("triggerEvent",!0);u.silent=!p&&!g,h.silent=!m&&!g,p&&u.on("click",function(){JU(p,"_"+t.get("target"))}),m&&h.on("click",function(){JU(m,"_"+t.get("subtarget"))}),ra(u).eventData=ra(h).eventData=g?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(u),f&&a.add(h);var v=a.getBoundingRect(),y=t.getBoxLayoutParams();y.width=v.width,y.height=v.height;var b=k_(y,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?b.x+=b.width:l==="center"&&(b.x+=b.width/2)),c||(c=t.get("top")||t.get("bottom"),c==="center"&&(c="middle"),c==="bottom"?b.y+=b.height:c==="middle"&&(b.y+=b.height/2),c=c||"top"),a.x=b.x,a.y=b.y,a.markRedraw();var _={align:l,verticalAlign:c};u.setStyle(_),h.setStyle(_),v=a.getBoundingRect();var w=b.margin,x=t.getItemStyle(["color","opacity"]);x.fill=t.get("backgroundColor");var M=new So({shape:{x:v.x-w[3],y:v.y-w[0],width:v.width+w[1]+w[3],height:v.height+w[0]+w[2],r:t.get("borderRadius")},style:x,subPixelOptimize:!0,silent:!0});a.add(M)}},e.type="title",e}(xh);function mqe(n){n.registerComponentModel(hqe),n.registerComponentView(pqe)}var vqe=function(n,e){if(e==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},gqe=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,i=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),Zn(r)&&Mt(r,function(a,s){dr(a)&&(a={type:a}),r[s]=Xi(a,vqe(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<t.length;i++){var a=t[i].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],i=[];t.eachRawSeries(function(l){var c=l.name;i.push(c);var u;if(l.legendVisualProvider){var d=l.legendVisualProvider,f=d.getAllNames();t.isSeriesFiltered(l)||(i=i.concat(f)),f.length?r=r.concat(f):u=!0}else u=!0;u&&e8(l)&&r.push(l.name)}),this._availableNames=i;var a=this.get("data")||r,s=jr(),o=Zr(a,function(l){return(dr(l)||ma(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new Ds(l,this,this.ecModel))},this);this._data=Ml(o,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;Mt(a,function(s){r[s.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;Mt(t,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;Mt(t,function(i){var a=i.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&Oi(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(ta);const YP=gqe;var Em=Da,XP=Mt,bx=bu,yqe=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new bx),this.group.add(this._selectorGroup=new bx),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var s=t.get("align"),o=t.get("orient");(!s||s==="auto")&&(s=t.get("left")==="right"&&o==="vertical"?"right":"left");var l=t.get("selector",!0),c=t.get("selectorPosition",!0);l&&(!c||c==="auto")&&(c=o==="horizontal"?"end":"start"),this.renderInner(s,t,r,i,l,o,c);var u=t.getBoxLayoutParams(),d={width:i.getWidth(),height:i.getHeight()},f=t.get("padding"),h=k_(u,d,f),p=this.layoutInner(t,s,h,a,l,c),m=k_(Zi({width:p.width,height:p.height},u),d,f);this.group.x=m.x-p.x,this.group.y=m.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=$We(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,i,a,s,o,l){var c=this.getContentGroup(),u=jr(),d=r.get("selectedMode"),f=[];i.eachRawSeries(function(h){!h.get("legendHoverLink")&&f.push(h.id)}),XP(r.getData(),function(h,p){var m=h.get("name");if(!this.newlineDisabled&&(m===""||m===`
`)){var g=new bx;g.newline=!0,c.add(g);return}var v=i.getSeriesByName(m)[0];if(!u.get(m))if(v){var y=v.getData(),b=y.getVisual("legendLineStyle")||{},_=y.getVisual("legendIcon"),w=y.getVisual("style"),x=this._createItem(v,m,p,h,r,t,b,w,_,d,a);x.on("click",Em(LV,m,null,a,f)).on("mouseover",Em(jP,v.name,null,a,f)).on("mouseout",Em(ZP,v.name,null,a,f)),u.set(m,!0)}else i.eachRawSeries(function(M){if(!u.get(m)&&M.legendVisualProvider){var C=M.legendVisualProvider;if(!C.containName(m))return;var T=C.indexOfName(m),A=C.getItemVisual(T,"style"),I=C.getItemVisual(T,"legendIcon"),L=f0(A.fill);L&&L[3]===0&&(L[3]=.2,A=pn(pn({},A),{fill:Xk(L,"rgba")}));var k=this._createItem(M,m,p,h,r,t,{},A,I,d,a);k.on("click",Em(LV,null,m,a,f)).on("mouseover",Em(jP,null,m,a,f)).on("mouseout",Em(ZP,null,m,a,f)),u.set(m,!0)}},this)},this),s&&this._createSelector(s,r,a,o,l)},e.prototype._createSelector=function(t,r,i,a,s){var o=this.getSelectorGroup();XP(t,function(c){var u=c.type,d=new no({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:u==="all"?"legendAllSelect":"legendInverseSelect"})}});o.add(d);var f=r.getModel("selectorLabel"),h=r.getModel(["emphasis","selectorLabel"]);pte(d,{normal:f,emphasis:h},{defaultText:c.title}),TP(d)})},e.prototype._createItem=function(t,r,i,a,s,o,l,c,u,d,f){var h=t.visualDrawType,p=s.get("itemWidth"),m=s.get("itemHeight"),g=s.isSelected(r),v=a.get("symbolRotate"),y=a.get("symbolKeepAspect"),b=a.get("icon");u=b||u||"roundRect";var _=bqe(u,a,l,c,h,g,f),w=new bx,x=a.getModel("textStyle");if(gi(t.getLegendIcon)&&(!b||b==="inherit"))w.add(t.getLegendIcon({itemWidth:p,itemHeight:m,icon:u,iconRotate:v,itemStyle:_.itemStyle,lineStyle:_.lineStyle,symbolKeepAspect:y}));else{var M=b==="inherit"&&t.getData().getVisual("symbol")?v==="inherit"?t.getData().getVisual("symbolRotate"):v:0;w.add(_qe({itemWidth:p,itemHeight:m,icon:u,iconRotate:M,itemStyle:_.itemStyle,lineStyle:_.lineStyle,symbolKeepAspect:y}))}var C=o==="left"?p+5:-5,T=o,A=s.get("formatter"),I=r;dr(A)&&A?I=A.replace("{name}",r??""):gi(A)&&(I=A(r));var L=g?x.getTextColor():a.get("inactiveColor");w.add(new no({style:wh(x,{text:I,x:C,y:m/2,fill:L,align:T,verticalAlign:"middle"},{inheritColor:L})}));var k=new So({shape:w.getBoundingRect(),invisible:!0}),N=a.getModel("tooltip");return N.get("show")&&g8({el:k,componentModel:s,itemName:r,itemTooltipOption:N.option}),w.add(k),w.eachChild(function(F){F.silent=!0}),k.silent=!d,this.getContentGroup().add(w),TP(w),w.__legendDataIndex=i,w},e.prototype.layoutInner=function(t,r,i,a,s,o){var l=this.getContentGroup(),c=this.getSelectorGroup();Mb(t.get("orient"),l,t.get("itemGap"),i.width,i.height);var u=l.getBoundingRect(),d=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),s){Mb("horizontal",c,t.get("selectorItemGap",!0));var f=c.getBoundingRect(),h=[-f.x,-f.y],p=t.get("selectorButtonGap",!0),m=t.getOrient().index,g=m===0?"width":"height",v=m===0?"height":"width",y=m===0?"y":"x";o==="end"?h[m]+=u[g]+p:d[m]+=f[g]+p,h[1-m]+=u[v]/2-f[v]/2,c.x=h[0],c.y=h[1],l.x=d[0],l.y=d[1];var b={x:0,y:0};return b[g]=u[g]+p+f[g],b[v]=Math.max(u[v],f[v]),b[y]=Math.min(0,f[y]+h[1-m]),b}else return l.x=d[0],l.y=d[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(xh);function bqe(n,e,t,r,i,a,s){function o(g,v){g.lineWidth==="auto"&&(g.lineWidth=v.lineWidth>0?2:0),XP(g,function(y,b){g[b]==="inherit"&&(g[b]=v[b])})}var l=e.getModel("itemStyle"),c=l.getItemStyle(),u=n.lastIndexOf("empty",0)===0?"fill":"stroke",d=l.getShallow("decal");c.decal=!d||d==="inherit"?r.decal:VP(d,s),c.fill==="inherit"&&(c.fill=r[i]),c.stroke==="inherit"&&(c.stroke=r[u]),c.opacity==="inherit"&&(c.opacity=(i==="fill"?r:t).opacity),o(c,r);var f=e.getModel("lineStyle"),h=f.getLineStyle();if(o(h,t),c.fill==="auto"&&(c.fill=r.fill),c.stroke==="auto"&&(c.stroke=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),!a){var p=e.get("inactiveBorderWidth"),m=c[u];c.lineWidth=p==="auto"?r.lineWidth>0&&m?2:0:c.lineWidth,c.fill=e.get("inactiveColor"),c.stroke=e.get("inactiveBorderColor"),h.stroke=f.get("inactiveColor"),h.lineWidth=f.get("inactiveWidth")}return{itemStyle:c,lineStyle:h}}function _qe(n){var e=n.icon||"roundRect",t=I8(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function LV(n,e,t,r){ZP(n,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:n??e}),jP(n,e,t,r)}function Kne(n){for(var e=n.getZr().storage.getDisplayList(),t,r=0,i=e.length;r<i&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function jP(n,e,t,r){Kne(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:r})}function ZP(n,e,t,r){Kne(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:r})}const Yne=yqe;function Sqe(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function T1(n,e,t){var r={},i=n==="toggleSelected",a;return t.eachComponent("legend",function(s){i&&a!=null?s[a?"select":"unSelect"](e.name):n==="allSelect"||n==="inverseSelect"?s[n]():(s[n](e.name),a=s.isSelected(e.name));var o=s.getData();Mt(o,function(l){var c=l.get("name");if(!(c===`
`||c==="")){var u=s.isSelected(c);r.hasOwnProperty(c)?r[c]=r[c]&&u:r[c]=u}})}),n==="allSelect"||n==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function wqe(n){n.registerAction("legendToggleSelect","legendselectchanged",Da(T1,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",Da(T1,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",Da(T1,"inverseSelect")),n.registerAction("legendSelect","legendselected",Da(T1,"select")),n.registerAction("legendUnSelect","legendunselected",Da(T1,"unSelect"))}function Xne(n){n.registerComponentModel(YP),n.registerComponentView(Yne),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,Sqe),n.registerSubTypeDefaulter("legend",function(){return"plain"}),wqe(n)}var xqe=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,i){var a=S8(t);n.prototype.init.call(this,t,r,i),DV(this,t,a)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),DV(this,this.option,t)},e.type="legend.scroll",e.defaultOption=zUe(YP.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(YP);function DV(n,e,t){var r=n.getOrient(),i=[1,1];i[r.index]=0,O_(e,t,{type:"box",ignoreSize:!!i})}const Cqe=xqe;var kV=bu,I4=["width","height"],R4=["x","y"],Mqe=function(n){sr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new kV),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new kV)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,i,a,s,o,l){var c=this;n.prototype.renderInner.call(this,t,r,i,a,s,o,l);var u=this._controllerGroup,d=r.get("pageIconSize",!0),f=Zn(d)?d:[d,d];p("pagePrev",0);var h=r.getModel("pageTextStyle");u.add(new no({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(m,g){var v=m+"DataIndex",y=v8(r.get("pageIcons",!0)[r.getOrient().name][g],{onclick:Ni(c._pageGo,c,v,r,a)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});y.name=m,u.add(y)}},e.prototype.layoutInner=function(t,r,i,a,s,o){var l=this.getSelectorGroup(),c=t.getOrient().index,u=I4[c],d=R4[c],f=I4[1-c],h=R4[1-c];s&&Mb("horizontal",l,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),m=l.getBoundingRect(),g=[-m.x,-m.y],v=ei(i);s&&(v[u]=i[u]-m[u]-p);var y=this._layoutContentAndController(t,a,v,c,u,f,h,d);if(s){if(o==="end")g[c]+=y[u]+p;else{var b=m[u]+p;g[c]-=b,y[d]-=b}y[u]+=m[u]+p,g[1-c]+=y[h]+y[f]/2-m[f]/2,y[f]=Math.max(y[f],m[f]),y[h]=Math.min(y[h],m[h]+g[1-c]),l.x=g[0],l.y=g[1],l.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,r,i,a,s,o,l,c){var u=this.getContentGroup(),d=this._containerGroup,f=this._controllerGroup;Mb(t.get("orient"),u,t.get("itemGap"),a?i.width:null,a?null:i.height),Mb("horizontal",f,t.get("pageButtonItemGap",!0));var h=u.getBoundingRect(),p=f.getBoundingRect(),m=this._showController=h[s]>i[s],g=[-h.x,-h.y];r||(g[a]=u[c]);var v=[0,0],y=[-p.x,-p.y],b=Xr(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(m){var _=t.get("pageButtonPosition",!0);_==="end"?y[a]+=i[s]-p[s]:v[a]+=p[s]+b}y[1-a]+=h[o]/2-p[o]/2,u.setPosition(g),d.setPosition(v),f.setPosition(y);var w={x:0,y:0};if(w[s]=m?i[s]:h[s],w[o]=Math.max(h[o],p[o]),w[l]=Math.min(0,p[l]+y[1-a]),d.__rectSize=i[s],m){var x={x:0,y:0};x[s]=Math.max(i[s]-p[s]-b,0),x[o]=w[o],d.setClipPath(new So({shape:x})),d.__rectSize=x[s]}else f.eachChild(function(C){C.attr({invisible:!0,silent:!0})});var M=this._getPageInfo(t);return M.pageIndex!=null&&Hg(u,{x:M.contentPosition[0],y:M.contentPosition[1]},m?t:null),this._updatePageInfoView(t,M),w},e.prototype._pageGo=function(t,r,i){var a=this._getPageInfo(r)[t];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var i=this._controllerGroup;Mt(["pagePrev","pageNext"],function(u){var d=u+"DataIndex",f=r[d]!=null,h=i.childOfName(u);h&&(h.setStyle("fill",f?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),h.cursor=f?"pointer":"default")});var a=i.childOfName("pageText"),s=t.get("pageFormatter"),o=r.pageIndex,l=o!=null?o+1:0,c=r.pageCount;a&&s&&a.setStyle("text",dr(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",c==null?"":c+""):s({current:l,total:c}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,s=t.getOrient().index,o=I4[s],l=R4[s],c=this._findTargetItemIndex(r),u=i.children(),d=u[c],f=u.length,h=f?1:0,p={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return p;var m=_(d);p.contentPosition[s]=-m.s;for(var g=c+1,v=m,y=m,b=null;g<=f;++g)b=_(u[g]),(!b&&y.e>v.s+a||b&&!w(b,v.s))&&(y.i>v.i?v=y:v=b,v&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=v.i),++p.pageCount)),y=b;for(var g=c-1,v=m,y=m,b=null;g>=-1;--g)b=_(u[g]),(!b||!w(y,b.s))&&v.i<y.i&&(y=v,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=v.i),++p.pageCount,++p.pageIndex),v=b;return p;function _(x){if(x){var M=x.getBoundingRect(),C=M[l]+x[l];return{s:C,e:C+M[o],i:x.__legendDataIndex}}}function w(x,M){return x.e>=M&&x.s<=M+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,i=this.getContentGroup(),a;return i.eachChild(function(s,o){var l=s.__legendDataIndex;a==null&&l!=null&&(a=o),l===t&&(r=o)}),r??a},e.type="legend.scroll",e}(Yne);const Tqe=Mqe;function Aqe(n){n.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function Eqe(n){Vg(Xne),n.registerComponentModel(Cqe),n.registerComponentView(Tqe),Aqe(n)}function Iqe(n){Vg(Xne),Vg(Eqe)}var P4=null;function Rqe(n){return P4||(P4=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),P4(n)}var L4=null;function Pqe(n){L4||(L4=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),L4(n)}function Lqe(n){var e=document.createElement("style");return e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n)),(document.querySelector("head")||document.body).appendChild(e),e}function _x(n,e){e===void 0&&(e={});var t=document.createElement(n);return Object.keys(e).forEach(function(r){t[r]=e[r]}),t}function jne(n,e,t){var r=window.getComputedStyle(n,t||null)||{display:"none"};return r[e]}function QP(n){if(!document.documentElement.contains(n))return{detached:!0,rendered:!1};for(var e=n;e!==document;){if(jne(e,"display")==="none")return{detached:!1,rendered:!1};e=e.parentNode}return{detached:!1,rendered:!0}}var Dqe='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',JP=0,bC=null;function kqe(n,e){n.__resize_mutation_handler__||(n.__resize_mutation_handler__=Bqe.bind(n));var t=n.__resize_listeners__;if(!t){if(n.__resize_listeners__=[],window.ResizeObserver){var r=n.offsetWidth,i=n.offsetHeight,a=new ResizeObserver(function(){!n.__resize_observer_triggered__&&(n.__resize_observer_triggered__=!0,n.offsetWidth===r&&n.offsetHeight===i)||zM(n)}),s=QP(n),o=s.detached,l=s.rendered;n.__resize_observer_triggered__=o===!1&&l===!1,n.__resize_observer__=a,a.observe(n)}else if(n.attachEvent&&n.addEventListener)n.__resize_legacy_resize_handler__=function(){zM(n)},n.attachEvent("onresize",n.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",n.__resize_mutation_handler__);else if(JP||(bC=Lqe(Dqe)),Fqe(n),n.__resize_rendered__=QP(n).rendered,window.MutationObserver){var c=new MutationObserver(n.__resize_mutation_handler__);c.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),n.__resize_mutation_observer__=c}}n.__resize_listeners__.push(e),JP++}function Oqe(n,e){var t=n.__resize_listeners__;if(t){if(e&&t.splice(t.indexOf(e),1),!t.length||!e){if(n.detachEvent&&n.removeEventListener){n.detachEvent("onresize",n.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",n.__resize_mutation_handler__);return}n.__resize_observer__?(n.__resize_observer__.unobserve(n),n.__resize_observer__.disconnect(),n.__resize_observer__=null):(n.__resize_mutation_observer__&&(n.__resize_mutation_observer__.disconnect(),n.__resize_mutation_observer__=null),n.removeEventListener("scroll",B8),n.removeChild(n.__resize_triggers__.triggers),n.__resize_triggers__=null),n.__resize_listeners__=null}!--JP&&bC&&bC.parentNode.removeChild(bC)}}function Nqe(n){var e=n.__resize_last__,t=e.width,r=e.height,i=n.offsetWidth,a=n.offsetHeight;return i!==t||a!==r?{width:i,height:a}:null}function Bqe(){var n=QP(this),e=n.rendered,t=n.detached;e!==this.__resize_rendered__&&(!t&&this.__resize_triggers__&&(F8(this),this.addEventListener("scroll",B8,!0)),this.__resize_rendered__=e,zM(this))}function B8(){var n=this;F8(this),this.__resize_raf__&&Pqe(this.__resize_raf__),this.__resize_raf__=Rqe(function(){var e=Nqe(n);e&&(n.__resize_last__=e,zM(n))})}function zM(n){!n||!n.__resize_listeners__||n.__resize_listeners__.forEach(function(e){e.call(n,n)})}function Fqe(n){var e=jne(n,"position");(!e||e==="static")&&(n.style.position="relative"),n.__resize_old_position__=e,n.__resize_last__={};var t=_x("div",{className:"resize-triggers"}),r=_x("div",{className:"resize-expand-trigger"}),i=_x("div"),a=_x("div",{className:"resize-contract-trigger"});r.appendChild(i),t.appendChild(r),t.appendChild(a),n.appendChild(t),n.__resize_triggers__={triggers:t,expand:r,expandChild:i,contract:a},F8(n),n.addEventListener("scroll",B8,!0),n.__resize_last__={width:n.offsetWidth,height:n.offsetHeight}}function F8(n){var e=n.__resize_triggers__,t=e.expand,r=e.expandChild,i=e.contract,a=i.scrollWidth,s=i.scrollHeight,o=t.offsetWidth,l=t.offsetHeight,c=t.scrollWidth,u=t.scrollHeight;i.scrollLeft=a,i.scrollTop=s,r.style.width=o+1+"px",r.style.height=l+1+"px",t.scrollLeft=c,t.scrollTop=u}var id=function(){return id=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},id.apply(this,arguments)},zqe=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function Uqe(n){return e=Object.create(null),zqe.forEach(function(t){e[t]=function(r){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(!n.value)throw new Error("ECharts is not initialized yet.");return n.value[r].apply(n.value,i)}}(t)}),e;var e}var Hqe={autoresize:[Boolean,Object]},Vqe=/^on[^a-z]/,$qe=function(n){return Vqe.test(n)};function Sx(n,e){var t=S(n);return t&&typeof t=="object"&&"value"in t?t.value||e:t||e}var Gqe="ecLoadingOptions",Wqe={loading:Boolean,loadingOptions:Object},A1=null,Zne="x-vue-echarts",OV=[],E1=[];(function(n,e){if(n&&typeof document<"u"){var t,r=e.prepend===!0?"prepend":"append",i=e.singleTag===!0,a=typeof e.container=="string"?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(i){var s=OV.indexOf(a);s===-1&&(s=OV.push(a)-1,E1[s]={}),t=E1[s]&&E1[s][r]?E1[s][r]:E1[s][r]=o()}else t=o();n.charCodeAt(0)===65279&&(n=n.substring(1)),t.styleSheet?t.styleSheet.cssText+=n:t.appendChild(document.createTextNode(n))}function o(){var l=document.createElement("style");if(l.setAttribute("type","text/css"),e.attributes)for(var c=Object.keys(e.attributes),u=0;u<c.length;u++)l.setAttribute(c[u],e.attributes[c[u]]);var d=r==="prepend"?"afterbegin":"beforeend";return a.insertAdjacentElement(d,l),l}})(`x-vue-echarts,.echarts-inner{display:block;width:100%;height:100%;min-width:0}
`,{});var qqe=function(){if(A1!=null)return A1;if(typeof HTMLElement>"u"||typeof customElements>"u")return A1=!1;try{new Function("tag",`class EChartsElement extends HTMLElement {
  __dispose = null;

  disconnectedCallback() {
    if (this.__dispose) {
      this.__dispose();
      this.__dispose = null;
    }
  }
}

if (customElements.get(tag) == null) {
  customElements.define(tag, EChartsElement);
}
`)(Zne)}catch{return A1=!1}return A1=!0}(),Kqe="ecTheme",Yqe="ecInitOptions",Xqe="ecUpdateOptions",jqe=Pe({name:"echarts",props:id(id({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},Hqe),Wqe),emits:{},inheritAttrs:!1,setup:function(n,e){var t=e.attrs,r=Cr(),i=Cr(),a=Cr(),s=Cr(),o=Nt(Kqe,null),l=Nt(Yqe,null),c=Nt(Xqe,null),u=aa(n),d=u.autoresize,f=u.manualUpdate,h=u.loading,p=u.loadingOptions,m=U(function(){return s.value||n.option||null}),g=U(function(){return n.theme||Sx(o,{})}),v=U(function(){return n.initOptions||Sx(l,{})}),y=U(function(){return n.updateOptions||Sx(c,{})}),b=U(function(){return function(T){var A={};for(var I in T)$qe(I)||(A[I]=T[I]);return A}(t)}),_=wn().proxy.$listeners;function w(T){if(i.value){var A=a.value=W$e(i.value,g.value,v.value);n.group&&(A.group=n.group);var I=_;I||(I={},Object.keys(t).filter(function(k){return k.indexOf("on")===0&&k.length>2}).forEach(function(k){var N=k.charAt(2).toLowerCase()+k.slice(3);N.substring(N.length-4)==="Once"&&(N="~".concat(N.substring(0,N.length-4))),I[N]=t[k]})),Object.keys(I).forEach(function(k){var N=I[k];if(N){var F=k.toLowerCase();F.charAt(0)==="~"&&(F=F.substring(1),N.__once__=!0);var D=A;if(F.indexOf("zr:")===0&&(D=A.getZr(),F=F.substring(3)),N.__once__){delete N.__once__;var H=N;N=function(){for(var z=[],B=0;B<arguments.length;B++)z[B]=arguments[B];H.apply(void 0,z),D.off(F,N)}}D.on(F,N)}}),d.value?Yt(function(){A&&!A.isDisposed()&&A.resize(),L()}):L()}function L(){var k=T||m.value;k&&A.setOption(k,y.value)}}function x(){a.value&&(a.value.dispose(),a.value=void 0)}var M=null;dt(f,function(T){typeof M=="function"&&(M(),M=null),T||(M=dt(function(){return n.option},function(A,I){A&&(a.value?a.value.setOption(A,id({notMerge:A!==I},y.value)):w())},{deep:!0}))},{immediate:!0}),dt([g,v],function(){x(),w()},{deep:!0}),wa(function(){n.group&&a.value&&(a.value.group=n.group)});var C=Uqe(a);return function(T,A,I){var L=Nt(Gqe,{}),k=U(function(){return id(id({},Sx(L,{})),I==null?void 0:I.value)});wa(function(){var N=T.value;N&&(A.value?N.showLoading(k.value):N.hideLoading())})}(a,h,p),function(T,A,I){var L=null;dt([I,T,A],function(k,N,F){var D=k[0],H=k[1],z=k[2];if(D&&H&&z){var B=z===!0?{}:z,W=B.throttle,Z=W===void 0?100:W,ee=B.onResize,J=function(){H.resize(),ee==null||ee()};L=Z?E8(J,Z):J,kqe(D,L)}F(function(){D&&L&&Oqe(D,L)})})}(a,d,i),dn(function(){w()}),vr(function(){qqe&&r.value?r.value.__dispose=x:x()}),id({chart:a,root:r,inner:i,setOption:function(T,A){n.manualUpdate&&(s.value=T),a.value?a.value.setOption(T,A||{}):w(T)},nonEventAttrs:b},C)},render:function(){var n=id({},this.nonEventAttrs);return n.ref="root",n.class=n.class?["echarts"].concat(n.class):"echarts",$t(Zne,n,[$t("div",{ref:"inner",class:"echarts-inner"})])}});Vg([NGe,QGe,mqe,fqe,Iqe]);const Zqe={components:{VChart:jqe},setup(){Vn("THEME_KEY","light")},data(){return{option:{title:{text:"Traffic Sources",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",left:"right",top:"bottom",data:["Direct","Email","Ad Networks","Video Ads","Search Engines"]},series:[{name:"Traffic Sources",type:"pie",radius:"50%",center:["50%","50%"],data:[{value:335,name:"Direct"},{value:310,name:"Email"},{value:234,name:"Ad Networks"},{value:135,name:"Video Ads"},{value:1548,name:"Search Engines"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}}},Qqe=n=>(Nd("data-v-053369da"),n=n(),Bd(),n),Jqe=Qqe(()=>_e("h1",{class:"section-title"},"Quantitative Results",-1));function eKe(n,e,t,r,i,a){const s=Lt("el-divider"),o=Lt("el-row"),l=Lt("v-chart"),c=Lt("el-col");return $(),ge("div",null,[pe(s),pe(o,{justify:"center"},{default:Me(()=>[Jqe]),_:1}),pe(o,{justify:"center"},{default:Me(()=>[pe(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:Me(()=>[pe(l,{class:"chart",option:i.option,autoresize:""},null,8,["option"])]),_:1})]),_:1})])}const tKe=Bs(Zqe,[["render",eKe],["__scopeId","data-v-053369da"]]),nKe=n=>(Nd("data-v-a5ab50df"),n=n(),Bd(),n),rKe=nKe(()=>_e("h1",{class:"section-title"},"More Results",-1)),iKe=Pe({__name:"Table",setup(n){const e=[{model:"Model A",params:"10 B",value_a:"123",value_b:"321"},{model:"Model B",params:"30 B",value_a:"456",value_b:"654"},{model:"Model C",params:"20 B",value_a:"789",value_b:"987"},{model:"Model D",params:"5 B",value_a:"100",value_b:"200"}];return(t,r)=>{const i=Lt("el-divider"),a=Lt("el-row"),s=Lt("el-table-column"),o=Lt("el-table"),l=Lt("el-tab-pane"),c=Lt("el-tabs"),u=Lt("el-card"),d=Lt("el-col");return $(),ge("div",null,[pe(i),pe(a,{justify:"center"},{default:Me(()=>[rKe]),_:1}),pe(a,{justify:"center"},{default:Me(()=>[pe(d,{xs:24,sm:20,md:16,lg:12,xl:12},{default:Me(()=>[pe(u,{class:"card"},{default:Me(()=>[pe(c,{class:"demo-tabs","model-value":"Method A"},{default:Me(()=>[pe(l,{label:"Method A",name:"Method A"},{default:Me(()=>[pe(o,{data:e,"default-sort":{prop:"value_b",order:"descending"},"scrollbar-always-on":""},{default:Me(()=>[pe(s,{prop:"model",label:"Model",width:"100",sortable:""}),pe(s,{prop:"params",label:"#Params","min-width":"120",sortable:""}),pe(s,{prop:"value_a",label:"Value A","min-width":"120",sortable:""}),pe(s,{prop:"value_b",label:"Value B","min-width":"120",sortable:""})]),_:1})]),_:1}),pe(l,{label:"Method B",name:"Method B"},{default:Me(()=>[un(" Method B ")]),_:1}),pe(l,{label:"Method C",name:"Method C"},{default:Me(()=>[un(" Method C ")]),_:1}),pe(l,{label:"Method D",name:"Method D"},{default:Me(()=>[un(" Method D ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}}),aKe=Bs(iKe,[["__scopeId","data-v-a5ab50df"]]),sKe={},HS=n=>(Nd("data-v-bb62af2c"),n=n(),Bd(),n),oKe=HS(()=>_e("h1",{class:"section-title"},"Detail Discussion",-1)),lKe=HS(()=>_e("div",null," Consistent with real life: in line with the process and logic of real life, and comply with languages and habits that the users are used to; ",-1)),cKe=HS(()=>_e("div",null," Operation feedback: enable the users to clearly perceive their operations by style updates and interactive effects; ",-1)),uKe=HS(()=>_e("div",null," Simplify the process: keep operating process simple and intuitive; ",-1)),dKe=HS(()=>_e("div",null," Decision making: giving advices about operations is acceptable, but do not make decisions for the users; ",-1));function fKe(n,e){const t=Lt("el-divider"),r=Lt("el-row"),i=Lt("el-collapse-item"),a=Lt("el-collapse"),s=Lt("el-col");return $(),ge("div",null,[pe(t),pe(r,{justify:"center"},{default:Me(()=>[oKe]),_:1}),pe(r,{justify:"center"},{default:Me(()=>[pe(s,{xs:24,sm:20,md:16,lg:12,xl:12},{default:Me(()=>[pe(a,{"model-value":"1",class:"collapse",accordion:""},{default:Me(()=>[pe(i,{title:"Consistency",name:"1"},{default:Me(()=>[lKe]),_:1}),pe(i,{title:"Feedback",name:"2"},{default:Me(()=>[cKe]),_:1}),pe(i,{title:"Efficiency",name:"3"},{default:Me(()=>[uKe]),_:1}),pe(i,{title:"Controllability",name:"4"},{default:Me(()=>[dKe]),_:1})]),_:1})]),_:1})]),_:1})])}const hKe=Bs(sKe,[["render",fKe],["__scopeId","data-v-bb62af2c"]]),pKe={data(){return{value1:"",value2:"",comparison1ImageRootPath:"",comparison2ImageRootPath:"",comparisonImageRootPath:"./image_comparison/",comparison1Loading:!0,comparison2Loading:!0,options:["bottle","box","clip","cup","duck","flim","glass","toy"]}},beforeMount(){this.handleChange1(this.options[0]),this.handleChange2(this.options[1])},methods:{handleChange1(n){this.loadImage1(n)},handleChange2(n){this.loadImage2(n)},loadImage1(n){this.comparison1Loading=!0;const e=`${this.comparisonImageRootPath}${n}.png`,t=new Image;t.src=e,t.onload=()=>{this.comparison1ImageRootPath=e,this.comparison1Loading=!1}},loadImage2(n){this.comparison2Loading=!0;const e=`${this.comparisonImageRootPath}${n}.png`,t=new Image;t.src=e,t.onload=()=>{this.comparison2ImageRootPath=e,this.comparison2Loading=!1}}}},mKe=n=>(Nd("data-v-39564713"),n=n(),Bd(),n),vKe=mKe(()=>_e("h1",{class:"section-title"},"Comparison",-1)),gKe={class:"demo-image"},yKe={class:"block"},bKe={class:"demonstration"},_Ke={class:"demo-image"},SKe={class:"block"},wKe={class:"demonstration"};function xKe(n,e,t,r,i,a){const s=Lt("el-divider"),o=Lt("el-row"),l=Lt("el-skeleton-item"),c=Lt("el-image"),u=Lt("el-skeleton"),d=Lt("el-option"),f=Lt("el-select"),h=Lt("el-col");return $(),ge("div",null,[pe(s),pe(o,{justify:"center"},{default:Me(()=>[vKe]),_:1}),pe(o,{justify:"center"},{default:Me(()=>[pe(h,null,{default:Me(()=>[pe(o,{justify:"center",gutter:20},{default:Me(()=>[pe(h,{xs:12,sm:10,md:8,lg:6,xl:6},{default:Me(()=>[_e("div",gKe,[_e("div",yKe,[pe(u,{style:{width:"100%"},loading:i.comparison1Loading,animated:"",throttle:1e3},{template:Me(()=>[pe(l,{variant:"image",style:{width:"100%",height:"100%"}})]),default:Me(()=>[pe(c,{src:i.comparison1ImageRootPath,style:{width:"100%",height:"100%"},fit:"scale-down"},null,8,["src"])]),_:1},8,["loading"]),_e("span",bKe,"input: "+_t(i.comparison1ImageRootPath),1)])]),pe(o,{justify:"center"},{default:Me(()=>[pe(f,{class:"select",modelValue:i.value1,"onUpdate:modelValue":e[0]||(e[0]=p=>i.value1=p),placeholder:"Select",size:"large",onChange:a.handleChange1},{default:Me(()=>[($(!0),ge(Bt,null,kn(i.options,p=>($(),rt(d,{key:p,label:p,value:p},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1}),pe(h,{xs:12,sm:10,md:8,lg:6,xl:6},{default:Me(()=>[_e("div",_Ke,[_e("div",SKe,[pe(u,{style:{width:"100%"},loading:i.comparison2Loading,animated:"",throttle:1e3},{template:Me(()=>[pe(l,{variant:"image",style:{width:"100%",height:"100%"}})]),default:Me(()=>[pe(c,{src:i.comparison2ImageRootPath,style:{width:"100%",height:"100%"},fit:"scale-down"},null,8,["src"])]),_:1},8,["loading"]),_e("span",wKe,"input: "+_t(i.comparison2ImageRootPath),1)])]),pe(o,{justify:"center"},{default:Me(()=>[pe(f,{class:"select",modelValue:i.value2,"onUpdate:modelValue":e[1]||(e[1]=p=>i.value2=p),placeholder:"Select",size:"large",onChange:a.handleChange2},{default:Me(()=>[($(!0),ge(Bt,null,kn(i.options,p=>($(),rt(d,{key:p,label:p,value:p},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const CKe=Bs(pKe,[["render",xKe],["__scopeId","data-v-39564713"]]);var Qne={exports:{}};(function(n,e){(function(r,i){n.exports=i()})(typeof self<"u"?self:Tu,function(){return function(){var t={};(function(){t.d=function(ae,E){for(var R in E)t.o(E,R)&&!t.o(ae,R)&&Object.defineProperty(ae,R,{enumerable:!0,get:E[R]})}})(),function(){t.o=function(ae,E){return Object.prototype.hasOwnProperty.call(ae,E)}}();var r={};t.d(r,{default:function(){return xse}});var i=function ae(E,R){this.position=void 0;var P="KaTeX parse error: "+E,O,q=R&&R.loc;if(q&&q.start<=q.end){var ne=q.lexer.input;O=q.start;var Se=q.end;O===ne.length?P+=" at end of input: ":P+=" at position "+(O+1)+": ";var Fe=ne.slice(O,Se).replace(/[^]/g,"$&"),Xe;O>15?Xe=""+ne.slice(O-15,O):Xe=ne.slice(0,O);var ut;Se+15<ne.length?ut=ne.slice(Se,Se+15)+"":ut=ne.slice(Se),P+=Xe+Fe+ut}var Rt=new Error(P);return Rt.name="ParseError",Rt.__proto__=ae.prototype,Rt.position=O,Rt};i.prototype.__proto__=Error.prototype;var a=i,s=function(E,R){return E.indexOf(R)!==-1},o=function(E,R){return E===void 0?R:E},l=/([A-Z])/g,c=function(E){return E.replace(l,"-$1").toLowerCase()},u={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},d=/[&><"']/g;function f(ae){return String(ae).replace(d,function(E){return u[E]})}var h=function ae(E){return E.type==="ordgroup"||E.type==="color"?E.body.length===1?ae(E.body[0]):E:E.type==="font"?ae(E.body):E},p=function(E){var R=h(E);return R.type==="mathord"||R.type==="textord"||R.type==="atom"},m=function(E){if(!E)throw new Error("Expected non-null, but got "+String(E));return E},g=function(E){var R=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(E);return R!=null?R[1]:"_relative"},v={contains:s,deflt:o,escape:f,hyphenate:c,getBaseElem:h,isCharacterBox:p,protocolFromUrl:g},y=function(){function ae(R){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,R=R||{},this.displayMode=v.deflt(R.displayMode,!1),this.output=v.deflt(R.output,"htmlAndMathml"),this.leqno=v.deflt(R.leqno,!1),this.fleqn=v.deflt(R.fleqn,!1),this.throwOnError=v.deflt(R.throwOnError,!0),this.errorColor=v.deflt(R.errorColor,"#cc0000"),this.macros=R.macros||{},this.minRuleThickness=Math.max(0,v.deflt(R.minRuleThickness,0)),this.colorIsTextColor=v.deflt(R.colorIsTextColor,!1),this.strict=v.deflt(R.strict,"warn"),this.trust=v.deflt(R.trust,!1),this.maxSize=Math.max(0,v.deflt(R.maxSize,1/0)),this.maxExpand=Math.max(0,v.deflt(R.maxExpand,1e3)),this.globalGroup=v.deflt(R.globalGroup,!1)}var E=ae.prototype;return E.reportNonstrict=function(P,O,q){var ne=this.strict;if(typeof ne=="function"&&(ne=ne(P,O,q)),!(!ne||ne==="ignore")){if(ne===!0||ne==="error")throw new a("LaTeX-incompatible input and strict mode is set to 'error': "+(O+" ["+P+"]"),q);ne==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(O+" ["+P+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+ne+"': "+O+" ["+P+"]"))}},E.useStrictBehavior=function(P,O,q){var ne=this.strict;if(typeof ne=="function")try{ne=ne(P,O,q)}catch{ne="error"}return!ne||ne==="ignore"?!1:ne===!0||ne==="error"?!0:ne==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(O+" ["+P+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+ne+"': "+O+" ["+P+"]")),!1)},E.isTrusted=function(P){P.url&&!P.protocol&&(P.protocol=v.protocolFromUrl(P.url));var O=typeof this.trust=="function"?this.trust(P):this.trust;return!!O},ae}(),b=function(){function ae(R,P,O){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=R,this.size=P,this.cramped=O}var E=ae.prototype;return E.sup=function(){return L[k[this.id]]},E.sub=function(){return L[N[this.id]]},E.fracNum=function(){return L[F[this.id]]},E.fracDen=function(){return L[D[this.id]]},E.cramp=function(){return L[H[this.id]]},E.text=function(){return L[z[this.id]]},E.isTight=function(){return this.size>=2},ae}(),_=0,w=1,x=2,M=3,C=4,T=5,A=6,I=7,L=[new b(_,0,!1),new b(w,0,!0),new b(x,1,!1),new b(M,1,!0),new b(C,2,!1),new b(T,2,!0),new b(A,3,!1),new b(I,3,!0)],k=[C,T,C,T,A,I,A,I],N=[T,T,T,T,I,I,I,I],F=[x,M,C,T,A,I,A,I],D=[M,M,T,T,I,I,I,I],H=[w,w,M,M,T,T,I,I],z=[_,w,x,M,x,M,x,M],B={DISPLAY:L[_],TEXT:L[x],SCRIPT:L[C],SCRIPTSCRIPT:L[A]},W=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Z(ae){for(var E=0;E<W.length;E++)for(var R=W[E],P=0;P<R.blocks.length;P++){var O=R.blocks[P];if(ae>=O[0]&&ae<=O[1])return R.name}return null}var ee=[];W.forEach(function(ae){return ae.blocks.forEach(function(E){return ee.push.apply(ee,E)})});function J(ae){for(var E=0;E<ee.length;E+=2)if(ae>=ee[E]&&ae<=ee[E+1])return!0;return!1}var re=80,fe=function(E,R){return"M95,"+(622+E+R)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+E/2.075+" -"+E+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+E)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+E)+" "+R+"h400000v"+(40+E)+"h-400000z"},de=function(E,R){return"M263,"+(601+E+R)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+E/2.084+" -"+E+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+E)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+E)+" "+R+"h400000v"+(40+E)+"h-400000z"},me=function(E,R){return"M983 "+(10+E+R)+`
l`+E/3.13+" -"+E+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+E)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+E)+" "+R+"h400000v"+(40+E)+"h-400000z"},Re=function(E,R){return"M424,"+(2398+E+R)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+E/4.223+" -"+E+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+E)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+E)+" "+R+`
h400000v`+(40+E)+"h-400000z"},De=function(E,R){return"M473,"+(2713+E+R)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+E/5.298+" -"+E+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+E)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+E)+" "+R+"h400000v"+(40+E)+"H1017.7z"},Ge=function(E){var R=E/2;return"M400000 "+E+" H0 L"+R+" 0 l65 45 L145 "+(E-80)+" H400000z"},We=function(E,R,P){var O=P-54-R-E;return"M702 "+(E+R)+"H400000"+(40+E)+`
H742v`+O+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+R+"H400000v"+(40+E)+"H742z"},K=function(E,R,P){R=1e3*R;var O="";switch(E){case"sqrtMain":O=fe(R,re);break;case"sqrtSize1":O=de(R,re);break;case"sqrtSize2":O=me(R,re);break;case"sqrtSize3":O=Re(R,re);break;case"sqrtSize4":O=De(R,re);break;case"sqrtTall":O=We(R,re,P)}return O},ue=function(E,R){switch(E){case"":return"M291 0 H417 V"+R+" H291z M291 0 H417 V"+R+" H291z";case"":return"M145 0 H188 V"+R+" H145z M145 0 H188 V"+R+" H145z";case"":return"M145 0 H188 V"+R+" H145z M145 0 H188 V"+R+" H145z"+("M367 0 H410 V"+R+" H367z M367 0 H410 V"+R+" H367z");case"":return"M457 0 H583 V"+R+" H457z M457 0 H583 V"+R+" H457z";case"":return"M319 0 H403 V"+R+" H319z M319 0 H403 V"+R+" H319z";case"":return"M263 0 H347 V"+R+" H263z M263 0 H347 V"+R+" H263z";case"":return"M384 0 H504 V"+R+" H384z M384 0 H504 V"+R+" H384z";case"":return"M312 0 H355 V"+R+" H312z M312 0 H355 V"+R+" H312z";case"":return"M257 0 H300 V"+R+" H257z M257 0 H300 V"+R+" H257z"+("M478 0 H521 V"+R+" H478z M478 0 H521 V"+R+" H478z");default:return""}},ie={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},$e=function(){function ae(R){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=R,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var E=ae.prototype;return E.hasClass=function(P){return v.contains(this.classes,P)},E.toNode=function(){for(var P=document.createDocumentFragment(),O=0;O<this.children.length;O++)P.appendChild(this.children[O].toNode());return P},E.toMarkup=function(){for(var P="",O=0;O<this.children.length;O++)P+=this.children[O].toMarkup();return P},E.toText=function(){var P=function(q){return q.toText()};return this.children.map(P).join("")},ae}(),Ne={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Ye={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},ce={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function he(ae,E){Ne[ae]=E}function ke(ae,E,R){if(!Ne[E])throw new Error("Font metrics not found for font: "+E+".");var P=ae.charCodeAt(0),O=Ne[E][P];if(!O&&ae[0]in ce&&(P=ce[ae[0]].charCodeAt(0),O=Ne[E][P]),!O&&R==="text"&&J(P)&&(O=Ne[E][77]),O)return{depth:O[0],height:O[1],italic:O[2],skew:O[3],width:O[4]}}var oe={};function V(ae){var E;if(ae>=5?E=0:ae>=3?E=1:E=2,!oe[E]){var R=oe[E]={cssEmPerMu:Ye.quad[E]/18};for(var P in Ye)Ye.hasOwnProperty(P)&&(R[P]=Ye[P][E])}return oe[E]}var Y=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Q=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],we=function(E,R){return R.size<2?E:Y[E-1][R.size-1]},Ue=function(){function ae(R){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=R.style,this.color=R.color,this.size=R.size||ae.BASESIZE,this.textSize=R.textSize||this.size,this.phantom=!!R.phantom,this.font=R.font||"",this.fontFamily=R.fontFamily||"",this.fontWeight=R.fontWeight||"",this.fontShape=R.fontShape||"",this.sizeMultiplier=Q[this.size-1],this.maxSize=R.maxSize,this.minRuleThickness=R.minRuleThickness,this._fontMetrics=void 0}var E=ae.prototype;return E.extend=function(P){var O={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var q in P)P.hasOwnProperty(q)&&(O[q]=P[q]);return new ae(O)},E.havingStyle=function(P){return this.style===P?this:this.extend({style:P,size:we(this.textSize,P)})},E.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},E.havingSize=function(P){return this.size===P&&this.textSize===P?this:this.extend({style:this.style.text(),size:P,textSize:P,sizeMultiplier:Q[P-1]})},E.havingBaseStyle=function(P){P=P||this.style.text();var O=we(ae.BASESIZE,P);return this.size===O&&this.textSize===ae.BASESIZE&&this.style===P?this:this.extend({style:P,size:O})},E.havingBaseSizing=function(){var P;switch(this.style.id){case 4:case 5:P=3;break;case 6:case 7:P=1;break;default:P=6}return this.extend({style:this.style.text(),size:P})},E.withColor=function(P){return this.extend({color:P})},E.withPhantom=function(){return this.extend({phantom:!0})},E.withFont=function(P){return this.extend({font:P})},E.withTextFontFamily=function(P){return this.extend({fontFamily:P,font:""})},E.withTextFontWeight=function(P){return this.extend({fontWeight:P,font:""})},E.withTextFontShape=function(P){return this.extend({fontShape:P,font:""})},E.sizingClasses=function(P){return P.size!==this.size?["sizing","reset-size"+P.size,"size"+this.size]:[]},E.baseSizingClasses=function(){return this.size!==ae.BASESIZE?["sizing","reset-size"+this.size,"size"+ae.BASESIZE]:[]},E.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=V(this.size)),this._fontMetrics},E.getColor=function(){return this.phantom?"transparent":this.color},ae}();Ue.BASESIZE=6;var ct=Ue,pt={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Ee={ex:!0,em:!0,mu:!0},ft=function(E){return typeof E!="string"&&(E=E.unit),E in pt||E in Ee||E==="ex"},st=function(E,R){var P;if(E.unit in pt)P=pt[E.unit]/R.fontMetrics().ptPerEm/R.sizeMultiplier;else if(E.unit==="mu")P=R.fontMetrics().cssEmPerMu;else{var O;if(R.style.isTight()?O=R.havingStyle(R.style.text()):O=R,E.unit==="ex")P=O.fontMetrics().xHeight;else if(E.unit==="em")P=O.fontMetrics().quad;else throw new a("Invalid unit: '"+E.unit+"'");O!==R&&(P*=O.sizeMultiplier/R.sizeMultiplier)}return Math.min(E.number*P,R.maxSize)},G=function(E){return+E.toFixed(4)+"em"},ye=function(E){return E.filter(function(R){return R}).join(" ")},ve=function(E,R,P){if(this.classes=E||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=P||{},R){R.style.isTight()&&this.classes.push("mtight");var O=R.getColor();O&&(this.style.color=O)}},Le=function(E){var R=document.createElement(E);R.className=ye(this.classes);for(var P in this.style)this.style.hasOwnProperty(P)&&(R.style[P]=this.style[P]);for(var O in this.attributes)this.attributes.hasOwnProperty(O)&&R.setAttribute(O,this.attributes[O]);for(var q=0;q<this.children.length;q++)R.appendChild(this.children[q].toNode());return R},be=function(E){var R="<"+E;this.classes.length&&(R+=' class="'+v.escape(ye(this.classes))+'"');var P="";for(var O in this.style)this.style.hasOwnProperty(O)&&(P+=v.hyphenate(O)+":"+this.style[O]+";");P&&(R+=' style="'+v.escape(P)+'"');for(var q in this.attributes)this.attributes.hasOwnProperty(q)&&(R+=" "+q+'="'+v.escape(this.attributes[q])+'"');R+=">";for(var ne=0;ne<this.children.length;ne++)R+=this.children[ne].toMarkup();return R+="</"+E+">",R},Te=function(){function ae(R,P,O,q){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,ve.call(this,R,O,q),this.children=P||[]}var E=ae.prototype;return E.setAttribute=function(P,O){this.attributes[P]=O},E.hasClass=function(P){return v.contains(this.classes,P)},E.toNode=function(){return Le.call(this,"span")},E.toMarkup=function(){return be.call(this,"span")},ae}(),ht=function(){function ae(R,P,O,q){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,ve.call(this,P,q),this.children=O||[],this.setAttribute("href",R)}var E=ae.prototype;return E.setAttribute=function(P,O){this.attributes[P]=O},E.hasClass=function(P){return v.contains(this.classes,P)},E.toNode=function(){return Le.call(this,"a")},E.toMarkup=function(){return be.call(this,"a")},ae}(),Ie=function(){function ae(R,P,O){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=P,this.src=R,this.classes=["mord"],this.style=O}var E=ae.prototype;return E.hasClass=function(P){return v.contains(this.classes,P)},E.toNode=function(){var P=document.createElement("img");P.src=this.src,P.alt=this.alt,P.className="mord";for(var O in this.style)this.style.hasOwnProperty(O)&&(P.style[O]=this.style[O]);return P},E.toMarkup=function(){var P="<img  src='"+this.src+" 'alt='"+this.alt+"' ",O="";for(var q in this.style)this.style.hasOwnProperty(q)&&(O+=v.hyphenate(q)+":"+this.style[q]+";");return O&&(P+=' style="'+v.escape(O)+'"'),P+="'/>",P},ae}(),bt={:"",:"",:"",:""},nt=function(){function ae(R,P,O,q,ne,Se,Fe,Xe){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=R,this.height=P||0,this.depth=O||0,this.italic=q||0,this.skew=ne||0,this.width=Se||0,this.classes=Fe||[],this.style=Xe||{},this.maxFontSize=0;var ut=Z(this.text.charCodeAt(0));ut&&this.classes.push(ut+"_fallback"),/[]/.test(this.text)&&(this.text=bt[this.text])}var E=ae.prototype;return E.hasClass=function(P){return v.contains(this.classes,P)},E.toNode=function(){var P=document.createTextNode(this.text),O=null;this.italic>0&&(O=document.createElement("span"),O.style.marginRight=G(this.italic)),this.classes.length>0&&(O=O||document.createElement("span"),O.className=ye(this.classes));for(var q in this.style)this.style.hasOwnProperty(q)&&(O=O||document.createElement("span"),O.style[q]=this.style[q]);return O?(O.appendChild(P),O):P},E.toMarkup=function(){var P=!1,O="<span";this.classes.length&&(P=!0,O+=' class="',O+=v.escape(ye(this.classes)),O+='"');var q="";this.italic>0&&(q+="margin-right:"+this.italic+"em;");for(var ne in this.style)this.style.hasOwnProperty(ne)&&(q+=v.hyphenate(ne)+":"+this.style[ne]+";");q&&(P=!0,O+=' style="'+v.escape(q)+'"');var Se=v.escape(this.text);return P?(O+=">",O+=Se,O+="</span>",O):Se},ae}(),vt=function(){function ae(R,P){this.children=void 0,this.attributes=void 0,this.children=R||[],this.attributes=P||{}}var E=ae.prototype;return E.toNode=function(){var P="http://www.w3.org/2000/svg",O=document.createElementNS(P,"svg");for(var q in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,q)&&O.setAttribute(q,this.attributes[q]);for(var ne=0;ne<this.children.length;ne++)O.appendChild(this.children[ne].toNode());return O},E.toMarkup=function(){var P='<svg xmlns="http://www.w3.org/2000/svg"';for(var O in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,O)&&(P+=" "+O+"='"+this.attributes[O]+"'");P+=">";for(var q=0;q<this.children.length;q++)P+=this.children[q].toMarkup();return P+="</svg>",P},ae}(),kt=function(){function ae(R,P){this.pathName=void 0,this.alternate=void 0,this.pathName=R,this.alternate=P}var E=ae.prototype;return E.toNode=function(){var P="http://www.w3.org/2000/svg",O=document.createElementNS(P,"path");return this.alternate?O.setAttribute("d",this.alternate):O.setAttribute("d",ie[this.pathName]),O},E.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+ie[this.pathName]+"'/>"},ae}(),Tt=function(){function ae(R){this.attributes=void 0,this.attributes=R||{}}var E=ae.prototype;return E.toNode=function(){var P="http://www.w3.org/2000/svg",O=document.createElementNS(P,"line");for(var q in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,q)&&O.setAttribute(q,this.attributes[q]);return O},E.toMarkup=function(){var P="<line";for(var O in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,O)&&(P+=" "+O+"='"+this.attributes[O]+"'");return P+="/>",P},ae}();function an(ae){if(ae instanceof nt)return ae;throw new Error("Expected symbolNode but got "+String(ae)+".")}function _n(ae){if(ae instanceof Te)return ae;throw new Error("Expected span<HtmlDomNode> but got "+String(ae)+".")}var or={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Ln={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Kr={math:{},text:{}},jn=Kr;function X(ae,E,R,P,O,q){Kr[ae][O]={font:E,group:R,replace:P},q&&P&&(Kr[ae][P]=Kr[ae][O])}var se="math",Ut="text",Ae="main",le="ams",xt="accent-token",mt="bin",At="close",et="inner",wt="mathord",Xt="op-token",yn="open",On="punct",Ze="rel",Yn="spacing",at="textord";X(se,Ae,Ze,"","\\equiv",!0),X(se,Ae,Ze,"","\\prec",!0),X(se,Ae,Ze,"","\\succ",!0),X(se,Ae,Ze,"","\\sim",!0),X(se,Ae,Ze,"","\\perp"),X(se,Ae,Ze,"","\\preceq",!0),X(se,Ae,Ze,"","\\succeq",!0),X(se,Ae,Ze,"","\\simeq",!0),X(se,Ae,Ze,"","\\mid",!0),X(se,Ae,Ze,"","\\ll",!0),X(se,Ae,Ze,"","\\gg",!0),X(se,Ae,Ze,"","\\asymp",!0),X(se,Ae,Ze,"","\\parallel"),X(se,Ae,Ze,"","\\bowtie",!0),X(se,Ae,Ze,"","\\smile",!0),X(se,Ae,Ze,"","\\sqsubseteq",!0),X(se,Ae,Ze,"","\\sqsupseteq",!0),X(se,Ae,Ze,"","\\doteq",!0),X(se,Ae,Ze,"","\\frown",!0),X(se,Ae,Ze,"","\\ni",!0),X(se,Ae,Ze,"","\\propto",!0),X(se,Ae,Ze,"","\\vdash",!0),X(se,Ae,Ze,"","\\dashv",!0),X(se,Ae,Ze,"","\\owns"),X(se,Ae,On,".","\\ldotp"),X(se,Ae,On,"","\\cdotp"),X(se,Ae,at,"#","\\#"),X(Ut,Ae,at,"#","\\#"),X(se,Ae,at,"&","\\&"),X(Ut,Ae,at,"&","\\&"),X(se,Ae,at,"","\\aleph",!0),X(se,Ae,at,"","\\forall",!0),X(se,Ae,at,"","\\hbar",!0),X(se,Ae,at,"","\\exists",!0),X(se,Ae,at,"","\\nabla",!0),X(se,Ae,at,"","\\flat",!0),X(se,Ae,at,"","\\ell",!0),X(se,Ae,at,"","\\natural",!0),X(se,Ae,at,"","\\clubsuit",!0),X(se,Ae,at,"","\\wp",!0),X(se,Ae,at,"","\\sharp",!0),X(se,Ae,at,"","\\diamondsuit",!0),X(se,Ae,at,"","\\Re",!0),X(se,Ae,at,"","\\heartsuit",!0),X(se,Ae,at,"","\\Im",!0),X(se,Ae,at,"","\\spadesuit",!0),X(se,Ae,at,"","\\S",!0),X(Ut,Ae,at,"","\\S"),X(se,Ae,at,"","\\P",!0),X(Ut,Ae,at,"","\\P"),X(se,Ae,at,"","\\dag"),X(Ut,Ae,at,"","\\dag"),X(Ut,Ae,at,"","\\textdagger"),X(se,Ae,at,"","\\ddag"),X(Ut,Ae,at,"","\\ddag"),X(Ut,Ae,at,"","\\textdaggerdbl"),X(se,Ae,At,"","\\rmoustache",!0),X(se,Ae,yn,"","\\lmoustache",!0),X(se,Ae,At,"","\\rgroup",!0),X(se,Ae,yn,"","\\lgroup",!0),X(se,Ae,mt,"","\\mp",!0),X(se,Ae,mt,"","\\ominus",!0),X(se,Ae,mt,"","\\uplus",!0),X(se,Ae,mt,"","\\sqcap",!0),X(se,Ae,mt,"","\\ast"),X(se,Ae,mt,"","\\sqcup",!0),X(se,Ae,mt,"","\\bigcirc",!0),X(se,Ae,mt,"","\\bullet"),X(se,Ae,mt,"","\\ddagger"),X(se,Ae,mt,"","\\wr",!0),X(se,Ae,mt,"","\\amalg"),X(se,Ae,mt,"&","\\And"),X(se,Ae,Ze,"","\\longleftarrow",!0),X(se,Ae,Ze,"","\\Leftarrow",!0),X(se,Ae,Ze,"","\\Longleftarrow",!0),X(se,Ae,Ze,"","\\longrightarrow",!0),X(se,Ae,Ze,"","\\Rightarrow",!0),X(se,Ae,Ze,"","\\Longrightarrow",!0),X(se,Ae,Ze,"","\\leftrightarrow",!0),X(se,Ae,Ze,"","\\longleftrightarrow",!0),X(se,Ae,Ze,"","\\Leftrightarrow",!0),X(se,Ae,Ze,"","\\Longleftrightarrow",!0),X(se,Ae,Ze,"","\\mapsto",!0),X(se,Ae,Ze,"","\\longmapsto",!0),X(se,Ae,Ze,"","\\nearrow",!0),X(se,Ae,Ze,"","\\hookleftarrow",!0),X(se,Ae,Ze,"","\\hookrightarrow",!0),X(se,Ae,Ze,"","\\searrow",!0),X(se,Ae,Ze,"","\\leftharpoonup",!0),X(se,Ae,Ze,"","\\rightharpoonup",!0),X(se,Ae,Ze,"","\\swarrow",!0),X(se,Ae,Ze,"","\\leftharpoondown",!0),X(se,Ae,Ze,"","\\rightharpoondown",!0),X(se,Ae,Ze,"","\\nwarrow",!0),X(se,Ae,Ze,"","\\rightleftharpoons",!0),X(se,le,Ze,"","\\nless",!0),X(se,le,Ze,"","\\@nleqslant"),X(se,le,Ze,"","\\@nleqq"),X(se,le,Ze,"","\\lneq",!0),X(se,le,Ze,"","\\lneqq",!0),X(se,le,Ze,"","\\@lvertneqq"),X(se,le,Ze,"","\\lnsim",!0),X(se,le,Ze,"","\\lnapprox",!0),X(se,le,Ze,"","\\nprec",!0),X(se,le,Ze,"","\\npreceq",!0),X(se,le,Ze,"","\\precnsim",!0),X(se,le,Ze,"","\\precnapprox",!0),X(se,le,Ze,"","\\nsim",!0),X(se,le,Ze,"","\\@nshortmid"),X(se,le,Ze,"","\\nmid",!0),X(se,le,Ze,"","\\nvdash",!0),X(se,le,Ze,"","\\nvDash",!0),X(se,le,Ze,"","\\ntriangleleft"),X(se,le,Ze,"","\\ntrianglelefteq",!0),X(se,le,Ze,"","\\subsetneq",!0),X(se,le,Ze,"","\\@varsubsetneq"),X(se,le,Ze,"","\\subsetneqq",!0),X(se,le,Ze,"","\\@varsubsetneqq"),X(se,le,Ze,"","\\ngtr",!0),X(se,le,Ze,"","\\@ngeqslant"),X(se,le,Ze,"","\\@ngeqq"),X(se,le,Ze,"","\\gneq",!0),X(se,le,Ze,"","\\gneqq",!0),X(se,le,Ze,"","\\@gvertneqq"),X(se,le,Ze,"","\\gnsim",!0),X(se,le,Ze,"","\\gnapprox",!0),X(se,le,Ze,"","\\nsucc",!0),X(se,le,Ze,"","\\nsucceq",!0),X(se,le,Ze,"","\\succnsim",!0),X(se,le,Ze,"","\\succnapprox",!0),X(se,le,Ze,"","\\ncong",!0),X(se,le,Ze,"","\\@nshortparallel"),X(se,le,Ze,"","\\nparallel",!0),X(se,le,Ze,"","\\nVDash",!0),X(se,le,Ze,"","\\ntriangleright"),X(se,le,Ze,"","\\ntrianglerighteq",!0),X(se,le,Ze,"","\\@nsupseteqq"),X(se,le,Ze,"","\\supsetneq",!0),X(se,le,Ze,"","\\@varsupsetneq"),X(se,le,Ze,"","\\supsetneqq",!0),X(se,le,Ze,"","\\@varsupsetneqq"),X(se,le,Ze,"","\\nVdash",!0),X(se,le,Ze,"","\\precneqq",!0),X(se,le,Ze,"","\\succneqq",!0),X(se,le,Ze,"","\\@nsubseteqq"),X(se,le,mt,"","\\unlhd"),X(se,le,mt,"","\\unrhd"),X(se,le,Ze,"","\\nleftarrow",!0),X(se,le,Ze,"","\\nrightarrow",!0),X(se,le,Ze,"","\\nLeftarrow",!0),X(se,le,Ze,"","\\nRightarrow",!0),X(se,le,Ze,"","\\nleftrightarrow",!0),X(se,le,Ze,"","\\nLeftrightarrow",!0),X(se,le,Ze,"","\\vartriangle"),X(se,le,at,"","\\hslash"),X(se,le,at,"","\\triangledown"),X(se,le,at,"","\\lozenge"),X(se,le,at,"","\\circledS"),X(se,le,at,"","\\circledR"),X(Ut,le,at,"","\\circledR"),X(se,le,at,"","\\measuredangle",!0),X(se,le,at,"","\\nexists"),X(se,le,at,"","\\mho"),X(se,le,at,"","\\Finv",!0),X(se,le,at,"","\\Game",!0),X(se,le,at,"","\\backprime"),X(se,le,at,"","\\blacktriangle"),X(se,le,at,"","\\blacktriangledown"),X(se,le,at,"","\\blacksquare"),X(se,le,at,"","\\blacklozenge"),X(se,le,at,"","\\bigstar"),X(se,le,at,"","\\sphericalangle",!0),X(se,le,at,"","\\complement",!0),X(se,le,at,"","\\eth",!0),X(Ut,Ae,at,"",""),X(se,le,at,"","\\diagup"),X(se,le,at,"","\\diagdown"),X(se,le,at,"","\\square"),X(se,le,at,"","\\Box"),X(se,le,at,"","\\Diamond"),X(se,le,at,"","\\yen",!0),X(Ut,le,at,"","\\yen",!0),X(se,le,at,"","\\checkmark",!0),X(Ut,le,at,"","\\checkmark"),X(se,le,at,"","\\beth",!0),X(se,le,at,"","\\daleth",!0),X(se,le,at,"","\\gimel",!0),X(se,le,at,"","\\digamma",!0),X(se,le,at,"","\\varkappa"),X(se,le,yn,"","\\@ulcorner",!0),X(se,le,At,"","\\@urcorner",!0),X(se,le,yn,"","\\@llcorner",!0),X(se,le,At,"","\\@lrcorner",!0),X(se,le,Ze,"","\\leqq",!0),X(se,le,Ze,"","\\leqslant",!0),X(se,le,Ze,"","\\eqslantless",!0),X(se,le,Ze,"","\\lesssim",!0),X(se,le,Ze,"","\\lessapprox",!0),X(se,le,Ze,"","\\approxeq",!0),X(se,le,mt,"","\\lessdot"),X(se,le,Ze,"","\\lll",!0),X(se,le,Ze,"","\\lessgtr",!0),X(se,le,Ze,"","\\lesseqgtr",!0),X(se,le,Ze,"","\\lesseqqgtr",!0),X(se,le,Ze,"","\\doteqdot"),X(se,le,Ze,"","\\risingdotseq",!0),X(se,le,Ze,"","\\fallingdotseq",!0),X(se,le,Ze,"","\\backsim",!0),X(se,le,Ze,"","\\backsimeq",!0),X(se,le,Ze,"","\\subseteqq",!0),X(se,le,Ze,"","\\Subset",!0),X(se,le,Ze,"","\\sqsubset",!0),X(se,le,Ze,"","\\preccurlyeq",!0),X(se,le,Ze,"","\\curlyeqprec",!0),X(se,le,Ze,"","\\precsim",!0),X(se,le,Ze,"","\\precapprox",!0),X(se,le,Ze,"","\\vartriangleleft"),X(se,le,Ze,"","\\trianglelefteq"),X(se,le,Ze,"","\\vDash",!0),X(se,le,Ze,"","\\Vvdash",!0),X(se,le,Ze,"","\\smallsmile"),X(se,le,Ze,"","\\smallfrown"),X(se,le,Ze,"","\\bumpeq",!0),X(se,le,Ze,"","\\Bumpeq",!0),X(se,le,Ze,"","\\geqq",!0),X(se,le,Ze,"","\\geqslant",!0),X(se,le,Ze,"","\\eqslantgtr",!0),X(se,le,Ze,"","\\gtrsim",!0),X(se,le,Ze,"","\\gtrapprox",!0),X(se,le,mt,"","\\gtrdot"),X(se,le,Ze,"","\\ggg",!0),X(se,le,Ze,"","\\gtrless",!0),X(se,le,Ze,"","\\gtreqless",!0),X(se,le,Ze,"","\\gtreqqless",!0),X(se,le,Ze,"","\\eqcirc",!0),X(se,le,Ze,"","\\circeq",!0),X(se,le,Ze,"","\\triangleq",!0),X(se,le,Ze,"","\\thicksim"),X(se,le,Ze,"","\\thickapprox"),X(se,le,Ze,"","\\supseteqq",!0),X(se,le,Ze,"","\\Supset",!0),X(se,le,Ze,"","\\sqsupset",!0),X(se,le,Ze,"","\\succcurlyeq",!0),X(se,le,Ze,"","\\curlyeqsucc",!0),X(se,le,Ze,"","\\succsim",!0),X(se,le,Ze,"","\\succapprox",!0),X(se,le,Ze,"","\\vartriangleright"),X(se,le,Ze,"","\\trianglerighteq"),X(se,le,Ze,"","\\Vdash",!0),X(se,le,Ze,"","\\shortmid"),X(se,le,Ze,"","\\shortparallel"),X(se,le,Ze,"","\\between",!0),X(se,le,Ze,"","\\pitchfork",!0),X(se,le,Ze,"","\\varpropto"),X(se,le,Ze,"","\\blacktriangleleft"),X(se,le,Ze,"","\\therefore",!0),X(se,le,Ze,"","\\backepsilon"),X(se,le,Ze,"","\\blacktriangleright"),X(se,le,Ze,"","\\because",!0),X(se,le,Ze,"","\\llless"),X(se,le,Ze,"","\\gggtr"),X(se,le,mt,"","\\lhd"),X(se,le,mt,"","\\rhd"),X(se,le,Ze,"","\\eqsim",!0),X(se,Ae,Ze,"","\\Join"),X(se,le,Ze,"","\\Doteq",!0),X(se,le,mt,"","\\dotplus",!0),X(se,le,mt,"","\\smallsetminus"),X(se,le,mt,"","\\Cap",!0),X(se,le,mt,"","\\Cup",!0),X(se,le,mt,"","\\doublebarwedge",!0),X(se,le,mt,"","\\boxminus",!0),X(se,le,mt,"","\\boxplus",!0),X(se,le,mt,"","\\divideontimes",!0),X(se,le,mt,"","\\ltimes",!0),X(se,le,mt,"","\\rtimes",!0),X(se,le,mt,"","\\leftthreetimes",!0),X(se,le,mt,"","\\rightthreetimes",!0),X(se,le,mt,"","\\curlywedge",!0),X(se,le,mt,"","\\curlyvee",!0),X(se,le,mt,"","\\circleddash",!0),X(se,le,mt,"","\\circledast",!0),X(se,le,mt,"","\\centerdot"),X(se,le,mt,"","\\intercal",!0),X(se,le,mt,"","\\doublecap"),X(se,le,mt,"","\\doublecup"),X(se,le,mt,"","\\boxtimes",!0),X(se,le,Ze,"","\\dashrightarrow",!0),X(se,le,Ze,"","\\dashleftarrow",!0),X(se,le,Ze,"","\\leftleftarrows",!0),X(se,le,Ze,"","\\leftrightarrows",!0),X(se,le,Ze,"","\\Lleftarrow",!0),X(se,le,Ze,"","\\twoheadleftarrow",!0),X(se,le,Ze,"","\\leftarrowtail",!0),X(se,le,Ze,"","\\looparrowleft",!0),X(se,le,Ze,"","\\leftrightharpoons",!0),X(se,le,Ze,"","\\curvearrowleft",!0),X(se,le,Ze,"","\\circlearrowleft",!0),X(se,le,Ze,"","\\Lsh",!0),X(se,le,Ze,"","\\upuparrows",!0),X(se,le,Ze,"","\\upharpoonleft",!0),X(se,le,Ze,"","\\downharpoonleft",!0),X(se,Ae,Ze,"","\\origof",!0),X(se,Ae,Ze,"","\\imageof",!0),X(se,le,Ze,"","\\multimap",!0),X(se,le,Ze,"","\\leftrightsquigarrow",!0),X(se,le,Ze,"","\\rightrightarrows",!0),X(se,le,Ze,"","\\rightleftarrows",!0),X(se,le,Ze,"","\\twoheadrightarrow",!0),X(se,le,Ze,"","\\rightarrowtail",!0),X(se,le,Ze,"","\\looparrowright",!0),X(se,le,Ze,"","\\curvearrowright",!0),X(se,le,Ze,"","\\circlearrowright",!0),X(se,le,Ze,"","\\Rsh",!0),X(se,le,Ze,"","\\downdownarrows",!0),X(se,le,Ze,"","\\upharpoonright",!0),X(se,le,Ze,"","\\downharpoonright",!0),X(se,le,Ze,"","\\rightsquigarrow",!0),X(se,le,Ze,"","\\leadsto"),X(se,le,Ze,"","\\Rrightarrow",!0),X(se,le,Ze,"","\\restriction"),X(se,Ae,at,"","`"),X(se,Ae,at,"$","\\$"),X(Ut,Ae,at,"$","\\$"),X(Ut,Ae,at,"$","\\textdollar"),X(se,Ae,at,"%","\\%"),X(Ut,Ae,at,"%","\\%"),X(se,Ae,at,"_","\\_"),X(Ut,Ae,at,"_","\\_"),X(Ut,Ae,at,"_","\\textunderscore"),X(se,Ae,at,"","\\angle",!0),X(se,Ae,at,"","\\infty",!0),X(se,Ae,at,"","\\prime"),X(se,Ae,at,"","\\triangle"),X(se,Ae,at,"","\\Gamma",!0),X(se,Ae,at,"","\\Delta",!0),X(se,Ae,at,"","\\Theta",!0),X(se,Ae,at,"","\\Lambda",!0),X(se,Ae,at,"","\\Xi",!0),X(se,Ae,at,"","\\Pi",!0),X(se,Ae,at,"","\\Sigma",!0),X(se,Ae,at,"","\\Upsilon",!0),X(se,Ae,at,"","\\Phi",!0),X(se,Ae,at,"","\\Psi",!0),X(se,Ae,at,"","\\Omega",!0),X(se,Ae,at,"A",""),X(se,Ae,at,"B",""),X(se,Ae,at,"E",""),X(se,Ae,at,"Z",""),X(se,Ae,at,"H",""),X(se,Ae,at,"I",""),X(se,Ae,at,"K",""),X(se,Ae,at,"M",""),X(se,Ae,at,"N",""),X(se,Ae,at,"O",""),X(se,Ae,at,"P",""),X(se,Ae,at,"T",""),X(se,Ae,at,"X",""),X(se,Ae,at,"","\\neg",!0),X(se,Ae,at,"","\\lnot"),X(se,Ae,at,"","\\top"),X(se,Ae,at,"","\\bot"),X(se,Ae,at,"","\\emptyset"),X(se,le,at,"","\\varnothing"),X(se,Ae,wt,"","\\alpha",!0),X(se,Ae,wt,"","\\beta",!0),X(se,Ae,wt,"","\\gamma",!0),X(se,Ae,wt,"","\\delta",!0),X(se,Ae,wt,"","\\epsilon",!0),X(se,Ae,wt,"","\\zeta",!0),X(se,Ae,wt,"","\\eta",!0),X(se,Ae,wt,"","\\theta",!0),X(se,Ae,wt,"","\\iota",!0),X(se,Ae,wt,"","\\kappa",!0),X(se,Ae,wt,"","\\lambda",!0),X(se,Ae,wt,"","\\mu",!0),X(se,Ae,wt,"","\\nu",!0),X(se,Ae,wt,"","\\xi",!0),X(se,Ae,wt,"","\\omicron",!0),X(se,Ae,wt,"","\\pi",!0),X(se,Ae,wt,"","\\rho",!0),X(se,Ae,wt,"","\\sigma",!0),X(se,Ae,wt,"","\\tau",!0),X(se,Ae,wt,"","\\upsilon",!0),X(se,Ae,wt,"","\\phi",!0),X(se,Ae,wt,"","\\chi",!0),X(se,Ae,wt,"","\\psi",!0),X(se,Ae,wt,"","\\omega",!0),X(se,Ae,wt,"","\\varepsilon",!0),X(se,Ae,wt,"","\\vartheta",!0),X(se,Ae,wt,"","\\varpi",!0),X(se,Ae,wt,"","\\varrho",!0),X(se,Ae,wt,"","\\varsigma",!0),X(se,Ae,wt,"","\\varphi",!0),X(se,Ae,mt,"","*",!0),X(se,Ae,mt,"+","+"),X(se,Ae,mt,"","-",!0),X(se,Ae,mt,"","\\cdot",!0),X(se,Ae,mt,"","\\circ"),X(se,Ae,mt,"","\\div",!0),X(se,Ae,mt,"","\\pm",!0),X(se,Ae,mt,"","\\times",!0),X(se,Ae,mt,"","\\cap",!0),X(se,Ae,mt,"","\\cup",!0),X(se,Ae,mt,"","\\setminus"),X(se,Ae,mt,"","\\land"),X(se,Ae,mt,"","\\lor"),X(se,Ae,mt,"","\\wedge",!0),X(se,Ae,mt,"","\\vee",!0),X(se,Ae,at,"","\\surd"),X(se,Ae,yn,"","\\langle",!0),X(se,Ae,yn,"","\\lvert"),X(se,Ae,yn,"","\\lVert"),X(se,Ae,At,"?","?"),X(se,Ae,At,"!","!"),X(se,Ae,At,"","\\rangle",!0),X(se,Ae,At,"","\\rvert"),X(se,Ae,At,"","\\rVert"),X(se,Ae,Ze,"=","="),X(se,Ae,Ze,":",":"),X(se,Ae,Ze,"","\\approx",!0),X(se,Ae,Ze,"","\\cong",!0),X(se,Ae,Ze,"","\\ge"),X(se,Ae,Ze,"","\\geq",!0),X(se,Ae,Ze,"","\\gets"),X(se,Ae,Ze,">","\\gt",!0),X(se,Ae,Ze,"","\\in",!0),X(se,Ae,Ze,"","\\@not"),X(se,Ae,Ze,"","\\subset",!0),X(se,Ae,Ze,"","\\supset",!0),X(se,Ae,Ze,"","\\subseteq",!0),X(se,Ae,Ze,"","\\supseteq",!0),X(se,le,Ze,"","\\nsubseteq",!0),X(se,le,Ze,"","\\nsupseteq",!0),X(se,Ae,Ze,"","\\models"),X(se,Ae,Ze,"","\\leftarrow",!0),X(se,Ae,Ze,"","\\le"),X(se,Ae,Ze,"","\\leq",!0),X(se,Ae,Ze,"<","\\lt",!0),X(se,Ae,Ze,"","\\rightarrow",!0),X(se,Ae,Ze,"","\\to"),X(se,le,Ze,"","\\ngeq",!0),X(se,le,Ze,"","\\nleq",!0),X(se,Ae,Yn,"","\\ "),X(se,Ae,Yn,"","\\space"),X(se,Ae,Yn,"","\\nobreakspace"),X(Ut,Ae,Yn,"","\\ "),X(Ut,Ae,Yn,""," "),X(Ut,Ae,Yn,"","\\space"),X(Ut,Ae,Yn,"","\\nobreakspace"),X(se,Ae,Yn,null,"\\nobreak"),X(se,Ae,Yn,null,"\\allowbreak"),X(se,Ae,On,",",","),X(se,Ae,On,";",";"),X(se,le,mt,"","\\barwedge",!0),X(se,le,mt,"","\\veebar",!0),X(se,Ae,mt,"","\\odot",!0),X(se,Ae,mt,"","\\oplus",!0),X(se,Ae,mt,"","\\otimes",!0),X(se,Ae,at,"","\\partial",!0),X(se,Ae,mt,"","\\oslash",!0),X(se,le,mt,"","\\circledcirc",!0),X(se,le,mt,"","\\boxdot",!0),X(se,Ae,mt,"","\\bigtriangleup"),X(se,Ae,mt,"","\\bigtriangledown"),X(se,Ae,mt,"","\\dagger"),X(se,Ae,mt,"","\\diamond"),X(se,Ae,mt,"","\\star"),X(se,Ae,mt,"","\\triangleleft"),X(se,Ae,mt,"","\\triangleright"),X(se,Ae,yn,"{","\\{"),X(Ut,Ae,at,"{","\\{"),X(Ut,Ae,at,"{","\\textbraceleft"),X(se,Ae,At,"}","\\}"),X(Ut,Ae,at,"}","\\}"),X(Ut,Ae,at,"}","\\textbraceright"),X(se,Ae,yn,"{","\\lbrace"),X(se,Ae,At,"}","\\rbrace"),X(se,Ae,yn,"[","\\lbrack",!0),X(Ut,Ae,at,"[","\\lbrack",!0),X(se,Ae,At,"]","\\rbrack",!0),X(Ut,Ae,at,"]","\\rbrack",!0),X(se,Ae,yn,"(","\\lparen",!0),X(se,Ae,At,")","\\rparen",!0),X(Ut,Ae,at,"<","\\textless",!0),X(Ut,Ae,at,">","\\textgreater",!0),X(se,Ae,yn,"","\\lfloor",!0),X(se,Ae,At,"","\\rfloor",!0),X(se,Ae,yn,"","\\lceil",!0),X(se,Ae,At,"","\\rceil",!0),X(se,Ae,at,"\\","\\backslash"),X(se,Ae,at,"","|"),X(se,Ae,at,"","\\vert"),X(Ut,Ae,at,"|","\\textbar",!0),X(se,Ae,at,"","\\|"),X(se,Ae,at,"","\\Vert"),X(Ut,Ae,at,"","\\textbardbl"),X(Ut,Ae,at,"~","\\textasciitilde"),X(Ut,Ae,at,"\\","\\textbackslash"),X(Ut,Ae,at,"^","\\textasciicircum"),X(se,Ae,Ze,"","\\uparrow",!0),X(se,Ae,Ze,"","\\Uparrow",!0),X(se,Ae,Ze,"","\\downarrow",!0),X(se,Ae,Ze,"","\\Downarrow",!0),X(se,Ae,Ze,"","\\updownarrow",!0),X(se,Ae,Ze,"","\\Updownarrow",!0),X(se,Ae,Xt,"","\\coprod"),X(se,Ae,Xt,"","\\bigvee"),X(se,Ae,Xt,"","\\bigwedge"),X(se,Ae,Xt,"","\\biguplus"),X(se,Ae,Xt,"","\\bigcap"),X(se,Ae,Xt,"","\\bigcup"),X(se,Ae,Xt,"","\\int"),X(se,Ae,Xt,"","\\intop"),X(se,Ae,Xt,"","\\iint"),X(se,Ae,Xt,"","\\iiint"),X(se,Ae,Xt,"","\\prod"),X(se,Ae,Xt,"","\\sum"),X(se,Ae,Xt,"","\\bigotimes"),X(se,Ae,Xt,"","\\bigoplus"),X(se,Ae,Xt,"","\\bigodot"),X(se,Ae,Xt,"","\\oint"),X(se,Ae,Xt,"","\\oiint"),X(se,Ae,Xt,"","\\oiiint"),X(se,Ae,Xt,"","\\bigsqcup"),X(se,Ae,Xt,"","\\smallint"),X(Ut,Ae,et,"","\\textellipsis"),X(se,Ae,et,"","\\mathellipsis"),X(Ut,Ae,et,"","\\ldots",!0),X(se,Ae,et,"","\\ldots",!0),X(se,Ae,et,"","\\@cdots",!0),X(se,Ae,et,"","\\ddots",!0),X(se,Ae,at,"","\\varvdots"),X(se,Ae,xt,"","\\acute"),X(se,Ae,xt,"","\\grave"),X(se,Ae,xt,"","\\ddot"),X(se,Ae,xt,"~","\\tilde"),X(se,Ae,xt,"","\\bar"),X(se,Ae,xt,"","\\breve"),X(se,Ae,xt,"","\\check"),X(se,Ae,xt,"^","\\hat"),X(se,Ae,xt,"","\\vec"),X(se,Ae,xt,"","\\dot"),X(se,Ae,xt,"","\\mathring"),X(se,Ae,wt,"","\\@imath"),X(se,Ae,wt,"","\\@jmath"),X(se,Ae,at,"",""),X(se,Ae,at,"",""),X(Ut,Ae,at,"","\\i",!0),X(Ut,Ae,at,"","\\j",!0),X(Ut,Ae,at,"","\\ss",!0),X(Ut,Ae,at,"","\\ae",!0),X(Ut,Ae,at,"","\\oe",!0),X(Ut,Ae,at,"","\\o",!0),X(Ut,Ae,at,"","\\AE",!0),X(Ut,Ae,at,"","\\OE",!0),X(Ut,Ae,at,"","\\O",!0),X(Ut,Ae,xt,"","\\'"),X(Ut,Ae,xt,"","\\`"),X(Ut,Ae,xt,"","\\^"),X(Ut,Ae,xt,"","\\~"),X(Ut,Ae,xt,"","\\="),X(Ut,Ae,xt,"","\\u"),X(Ut,Ae,xt,"","\\."),X(Ut,Ae,xt,"","\\c"),X(Ut,Ae,xt,"","\\r"),X(Ut,Ae,xt,"","\\v"),X(Ut,Ae,xt,"",'\\"'),X(Ut,Ae,xt,"","\\H"),X(Ut,Ae,xt,"","\\textcircled");var Oe={"--":!0,"---":!0,"``":!0,"''":!0};X(Ut,Ae,at,"","--",!0),X(Ut,Ae,at,"","\\textendash"),X(Ut,Ae,at,"","---",!0),X(Ut,Ae,at,"","\\textemdash"),X(Ut,Ae,at,"","`",!0),X(Ut,Ae,at,"","\\textquoteleft"),X(Ut,Ae,at,"","'",!0),X(Ut,Ae,at,"","\\textquoteright"),X(Ut,Ae,at,"","``",!0),X(Ut,Ae,at,"","\\textquotedblleft"),X(Ut,Ae,at,"","''",!0),X(Ut,Ae,at,"","\\textquotedblright"),X(se,Ae,at,"","\\degree",!0),X(Ut,Ae,at,"","\\degree"),X(Ut,Ae,at,"","\\textdegree",!0),X(se,Ae,at,"","\\pounds"),X(se,Ae,at,"","\\mathsterling",!0),X(Ut,Ae,at,"","\\pounds"),X(Ut,Ae,at,"","\\textsterling",!0),X(se,le,at,"","\\maltese"),X(Ut,le,at,"","\\maltese");for(var gt='0123456789/@."',qe=0;qe<gt.length;qe++){var lt=gt.charAt(qe);X(se,Ae,at,lt,lt)}for(var it='0123456789!@*()-=+";:?/.,',Ct=0;Ct<it.length;Ct++){var tn=it.charAt(Ct);X(Ut,Ae,at,tn,tn)}for(var Qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",mn=0;mn<Qt.length;mn++){var $n=Qt.charAt(mn);X(se,Ae,wt,$n,$n),X(Ut,Ae,at,$n,$n)}X(se,le,at,"C",""),X(Ut,le,at,"C",""),X(se,le,at,"H",""),X(Ut,le,at,"H",""),X(se,le,at,"N",""),X(Ut,le,at,"N",""),X(se,le,at,"P",""),X(Ut,le,at,"P",""),X(se,le,at,"Q",""),X(Ut,le,at,"Q",""),X(se,le,at,"R",""),X(Ut,le,at,"R",""),X(se,le,at,"Z",""),X(Ut,le,at,"Z",""),X(se,Ae,wt,"h",""),X(Ut,Ae,wt,"h","");for(var rn="",Mn=0;Mn<Qt.length;Mn++){var An=Qt.charAt(Mn);rn=String.fromCharCode(55349,56320+Mn),X(se,Ae,wt,An,rn),X(Ut,Ae,at,An,rn),rn=String.fromCharCode(55349,56372+Mn),X(se,Ae,wt,An,rn),X(Ut,Ae,at,An,rn),rn=String.fromCharCode(55349,56424+Mn),X(se,Ae,wt,An,rn),X(Ut,Ae,at,An,rn),rn=String.fromCharCode(55349,56580+Mn),X(se,Ae,wt,An,rn),X(Ut,Ae,at,An,rn),rn=String.fromCharCode(55349,56736+Mn),X(se,Ae,wt,An,rn),X(Ut,Ae,at,An,rn),rn=String.fromCharCode(55349,56788+Mn),X(se,Ae,wt,An,rn),X(Ut,Ae,at,An,rn),rn=String.fromCharCode(55349,56840+Mn),X(se,Ae,wt,An,rn),X(Ut,Ae,at,An,rn),rn=String.fromCharCode(55349,56944+Mn),X(se,Ae,wt,An,rn),X(Ut,Ae,at,An,rn),Mn<26&&(rn=String.fromCharCode(55349,56632+Mn),X(se,Ae,wt,An,rn),X(Ut,Ae,at,An,rn),rn=String.fromCharCode(55349,56476+Mn),X(se,Ae,wt,An,rn),X(Ut,Ae,at,An,rn))}rn=String.fromCharCode(55349,56668),X(se,Ae,wt,"k",rn),X(Ut,Ae,at,"k",rn);for(var rr=0;rr<10;rr++){var Wr=rr.toString();rn=String.fromCharCode(55349,57294+rr),X(se,Ae,wt,Wr,rn),X(Ut,Ae,at,Wr,rn),rn=String.fromCharCode(55349,57314+rr),X(se,Ae,wt,Wr,rn),X(Ut,Ae,at,Wr,rn),rn=String.fromCharCode(55349,57324+rr),X(se,Ae,wt,Wr,rn),X(Ut,Ae,at,Wr,rn),rn=String.fromCharCode(55349,57334+rr),X(se,Ae,wt,Wr,rn),X(Ut,Ae,at,Wr,rn)}for(var gr="",yr=0;yr<gr.length;yr++){var Gn=gr.charAt(yr);X(se,Ae,wt,Gn,Gn),X(Ut,Ae,at,Gn,Gn)}var Mi=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],qr=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Fs=function(E,R){var P=E.charCodeAt(0),O=E.charCodeAt(1),q=(P-55296)*1024+(O-56320)+65536,ne=R==="math"?0:1;if(119808<=q&&q<120484){var Se=Math.floor((q-119808)/26);return[Mi[Se][2],Mi[Se][ne]]}else if(120782<=q&&q<=120831){var Fe=Math.floor((q-120782)/10);return[qr[Fe][2],qr[Fe][ne]]}else{if(q===120485||q===120486)return[Mi[0][2],Mi[0][ne]];if(120486<q&&q<120782)return["",""];throw new a("Unsupported character: "+E)}},ao=function(E,R,P){return jn[P][E]&&jn[P][E].replace&&(E=jn[P][E].replace),{value:E,metrics:ke(E,R,P)}},hr=function(E,R,P,O,q){var ne=ao(E,R,P),Se=ne.metrics;E=ne.value;var Fe;if(Se){var Xe=Se.italic;(P==="text"||O&&O.font==="mathit")&&(Xe=0),Fe=new nt(E,Se.height,Se.depth,Xe,Se.skew,Se.width,q)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+E+"' in style '"+R+"' and mode '"+P+"'")),Fe=new nt(E,0,0,0,0,0,q);if(O){Fe.maxFontSize=O.sizeMultiplier,O.style.isTight()&&Fe.classes.push("mtight");var ut=O.getColor();ut&&(Fe.style.color=ut)}return Fe},Zl=function(E,R,P,O){return O===void 0&&(O=[]),P.font==="boldsymbol"&&ao(E,"Main-Bold",R).metrics?hr(E,"Main-Bold",R,P,O.concat(["mathbf"])):E==="\\"||jn[R][E].font==="main"?hr(E,"Main-Regular",R,P,O):hr(E,"AMS-Regular",R,P,O.concat(["amsrm"]))},yi=function(E,R,P,O,q){return q!=="textord"&&ao(E,"Math-BoldItalic",R).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Za=function(E,R,P){var O=E.mode,q=E.text,ne=["mord"],Se=O==="math"||O==="text"&&R.font,Fe=Se?R.font:R.fontFamily;if(q.charCodeAt(0)===55349){var Xe=Fs(q,O),ut=Xe[0],Rt=Xe[1];return hr(q,ut,O,R,ne.concat(Rt))}else if(Fe){var Vt,jt;if(Fe==="boldsymbol"){var Zt=yi(q,O,R,ne,P);Vt=Zt.fontName,jt=[Zt.fontClass]}else Se?(Vt=Dt[Fe].fontName,jt=[Fe]):(Vt=Ve(Fe,R.fontWeight,R.fontShape),jt=[Fe,R.fontWeight,R.fontShape]);if(ao(q,Vt,O).metrics)return hr(q,Vt,O,R,ne.concat(jt));if(Oe.hasOwnProperty(q)&&Vt.substr(0,10)==="Typewriter"){for(var fn=[],vn=0;vn<q.length;vn++)fn.push(hr(q[vn],Vt,O,R,ne.concat(jt)));return Hh(fn)}}if(P==="mathord")return hr(q,"Math-Italic",O,R,ne.concat(["mathnormal"]));if(P==="textord"){var zn=jn[O][q]&&jn[O][q].font;if(zn==="ams"){var Kn=Ve("amsrm",R.fontWeight,R.fontShape);return hr(q,Kn,O,R,ne.concat("amsrm",R.fontWeight,R.fontShape))}else if(zn==="main"||!zn){var er=Ve("textrm",R.fontWeight,R.fontShape);return hr(q,er,O,R,ne.concat(R.fontWeight,R.fontShape))}else{var Jr=Ve(zn,R.fontWeight,R.fontShape);return hr(q,Jr,O,R,ne.concat(Jr,R.fontWeight,R.fontShape))}}else throw new Error("unexpected type: "+P+" in makeOrd")},Qa=function(E,R){if(ye(E.classes)!==ye(R.classes)||E.skew!==R.skew||E.maxFontSize!==R.maxFontSize)return!1;if(E.classes.length===1){var P=E.classes[0];if(P==="mbin"||P==="mord")return!1}for(var O in E.style)if(E.style.hasOwnProperty(O)&&E.style[O]!==R.style[O])return!1;for(var q in R.style)if(R.style.hasOwnProperty(q)&&E.style[q]!==R.style[q])return!1;return!0},la=function(E){for(var R=0;R<E.length-1;R++){var P=E[R],O=E[R+1];P instanceof nt&&O instanceof nt&&Qa(P,O)&&(P.text+=O.text,P.height=Math.max(P.height,O.height),P.depth=Math.max(P.depth,O.depth),P.italic=O.italic,E.splice(R+1,1),R--)}return E},Wi=function(E){for(var R=0,P=0,O=0,q=0;q<E.children.length;q++){var ne=E.children[q];ne.height>R&&(R=ne.height),ne.depth>P&&(P=ne.depth),ne.maxFontSize>O&&(O=ne.maxFontSize)}E.height=R,E.depth=P,E.maxFontSize=O},qi=function(E,R,P,O){var q=new Te(E,R,P,O);return Wi(q),q},Ro=function(E,R,P,O){return new Te(E,R,P,O)},WA=function(E,R,P){var O=qi([E],[],R);return O.height=Math.max(P||R.fontMetrics().defaultRuleThickness,R.minRuleThickness),O.style.borderBottomWidth=G(O.height),O.maxFontSize=1,O},ir=function(E,R,P,O){var q=new ht(E,R,P,O);return Wi(q),q},Hh=function(E){var R=new $e(E);return Wi(R),R},Ce=function(E,R){return E instanceof $e?qi([],[E],R):E},xe=function(E){if(E.positionType==="individualShift"){for(var R=E.children,P=[R[0]],O=-R[0].shift-R[0].elem.depth,q=O,ne=1;ne<R.length;ne++){var Se=-R[ne].shift-q-R[ne].elem.depth,Fe=Se-(R[ne-1].elem.height+R[ne-1].elem.depth);q=q+Se,P.push({type:"kern",size:Fe}),P.push(R[ne])}return{children:P,depth:O}}var Xe;if(E.positionType==="top"){for(var ut=E.positionData,Rt=0;Rt<E.children.length;Rt++){var Vt=E.children[Rt];ut-=Vt.type==="kern"?Vt.size:Vt.elem.height+Vt.elem.depth}Xe=ut}else if(E.positionType==="bottom")Xe=-E.positionData;else{var jt=E.children[0];if(jt.type!=="elem")throw new Error('First child must have type "elem".');if(E.positionType==="shift")Xe=-jt.elem.depth-E.positionData;else if(E.positionType==="firstBaseline")Xe=-jt.elem.depth;else throw new Error("Invalid positionType "+E.positionType+".")}return{children:E.children,depth:Xe}},He=function(E,R){for(var P=xe(E),O=P.children,q=P.depth,ne=0,Se=0;Se<O.length;Se++){var Fe=O[Se];if(Fe.type==="elem"){var Xe=Fe.elem;ne=Math.max(ne,Xe.maxFontSize,Xe.height)}}ne+=2;var ut=qi(["pstrut"],[]);ut.style.height=G(ne);for(var Rt=[],Vt=q,jt=q,Zt=q,fn=0;fn<O.length;fn++){var vn=O[fn];if(vn.type==="kern")Zt+=vn.size;else{var zn=vn.elem,Kn=vn.wrapperClasses||[],er=vn.wrapperStyle||{},Jr=qi(Kn,[ut,zn],void 0,er);Jr.style.top=G(-ne-Zt-zn.depth),vn.marginLeft&&(Jr.style.marginLeft=vn.marginLeft),vn.marginRight&&(Jr.style.marginRight=vn.marginRight),Rt.push(Jr),Zt+=zn.height+zn.depth}Vt=Math.min(Vt,Zt),jt=Math.max(jt,Zt)}var pi=qi(["vlist"],Rt);pi.style.height=G(jt);var Ui;if(Vt<0){var li=qi([],[]),mi=qi(["vlist"],[li]);mi.style.height=G(-Vt);var ca=qi(["vlist-s"],[new nt("")]);Ui=[qi(["vlist-r"],[pi,ca]),qi(["vlist-r"],[mi])]}else Ui=[qi(["vlist-r"],[pi])];var Ei=qi(["vlist-t"],Ui);return Ui.length===2&&Ei.classes.push("vlist-t2"),Ei.height=jt,Ei.depth=-Vt,Ei},Be=function(E,R){var P=qi(["mspace"],[],R),O=st(E,R);return P.style.marginRight=G(O),P},Ve=function(E,R,P){var O="";switch(E){case"amsrm":O="AMS";break;case"textrm":O="Main";break;case"textsf":O="SansSerif";break;case"texttt":O="Typewriter";break;default:O=E}var q;return R==="textbf"&&P==="textit"?q="BoldItalic":R==="textbf"?q="Bold":R==="textit"?q="Italic":q="Regular",O+"-"+q},Dt={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},zt={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},In=function(E,R){var P=zt[E],O=P[0],q=P[1],ne=P[2],Se=new kt(O),Fe=new vt([Se],{width:G(q),height:G(ne),style:"width:"+G(q),viewBox:"0 0 "+1e3*q+" "+1e3*ne,preserveAspectRatio:"xMinYMin"}),Xe=Ro(["overlay"],[Fe],R);return Xe.height=ne,Xe.style.height=G(ne),Xe.style.width=G(q),Xe},ot={fontMap:Dt,makeSymbol:hr,mathsym:Zl,makeSpan:qi,makeSvgSpan:Ro,makeLineSpan:WA,makeAnchor:ir,makeFragment:Hh,wrapFragment:Ce,makeVList:He,makeOrd:Za,makeGlue:Be,staticSvg:In,svgData:zt,tryCombineChars:la},ln={number:3,unit:"mu"},Fn={number:4,unit:"mu"},Jt={number:5,unit:"mu"},Qn={mord:{mop:ln,mbin:Fn,mrel:Jt,minner:ln},mop:{mord:ln,mop:ln,mrel:Jt,minner:ln},mbin:{mord:Fn,mop:Fn,mopen:Fn,minner:Fn},mrel:{mord:Jt,mop:Jt,mopen:Jt,minner:Jt},mopen:{},mclose:{mop:ln,mbin:Fn,mrel:Jt,minner:ln},mpunct:{mord:ln,mop:ln,mrel:Jt,mopen:ln,mclose:ln,mpunct:ln,minner:ln},minner:{mord:ln,mop:ln,mbin:Fn,mrel:Jt,mopen:ln,mpunct:ln,minner:ln}},Nn={mord:{mop:ln},mop:{mord:ln,mop:ln},mbin:{},mrel:{},mopen:{},mclose:{mop:ln},mpunct:{},minner:{mop:ln}},Jn={},Wn={},bi={};function nn(ae){for(var E=ae.type,R=ae.names,P=ae.props,O=ae.handler,q=ae.htmlBuilder,ne=ae.mathmlBuilder,Se={type:E,numArgs:P.numArgs,argTypes:P.argTypes,allowedInArgument:!!P.allowedInArgument,allowedInText:!!P.allowedInText,allowedInMath:P.allowedInMath===void 0?!0:P.allowedInMath,numOptionalArgs:P.numOptionalArgs||0,infix:!!P.infix,primitive:!!P.primitive,handler:O},Fe=0;Fe<R.length;++Fe)Jn[R[Fe]]=Se;E&&(q&&(Wn[E]=q),ne&&(bi[E]=ne))}function Sr(ae){var E=ae.type,R=ae.htmlBuilder,P=ae.mathmlBuilder;nn({type:E,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:R,mathmlBuilder:P})}var kr=function(E){return E.type==="ordgroup"&&E.body.length===1?E.body[0]:E},oi=function(E){return E.type==="ordgroup"?E.body:[E]},zi=ot.makeSpan,Xd=["leftmost","mbin","mopen","mrel","mop","mpunct"],qA=["rightmost","mrel","mclose","mpunct"],XS={display:B.DISPLAY,text:B.TEXT,script:B.SCRIPT,scriptscript:B.SCRIPTSCRIPT},wae={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ja=function(E,R,P,O){O===void 0&&(O=[null,null]);for(var q=[],ne=0;ne<E.length;ne++){var Se=Qr(E[ne],R);if(Se instanceof $e){var Fe=Se.children;q.push.apply(q,Fe)}else q.push(Se)}if(ot.tryCombineChars(q),!P)return q;var Xe=R;if(E.length===1){var ut=E[0];ut.type==="sizing"?Xe=R.havingSize(ut.size):ut.type==="styling"&&(Xe=R.havingStyle(XS[ut.style]))}var Rt=zi([O[0]||"leftmost"],[],R),Vt=zi([O[1]||"rightmost"],[],R),jt=P==="root";return JO(q,function(Zt,fn){var vn=fn.classes[0],zn=Zt.classes[0];vn==="mbin"&&v.contains(qA,zn)?fn.classes[0]="mord":zn==="mbin"&&v.contains(Xd,vn)&&(Zt.classes[0]="mord")},{node:Rt},Vt,jt),JO(q,function(Zt,fn){var vn=KA(fn),zn=KA(Zt),Kn=vn&&zn?Zt.hasClass("mtight")?Nn[vn][zn]:Qn[vn][zn]:null;if(Kn)return ot.makeGlue(Kn,Xe)},{node:Rt},Vt,jt),q},JO=function ae(E,R,P,O,q){O&&E.push(O);for(var ne=0;ne<E.length;ne++){var Se=E[ne],Fe=eN(Se);if(Fe){ae(Fe.children,R,P,null,q);continue}var Xe=!Se.hasClass("mspace");if(Xe){var ut=R(Se,P.node);ut&&(P.insertAfter?P.insertAfter(ut):(E.unshift(ut),ne++))}Xe?P.node=Se:q&&Se.hasClass("newline")&&(P.node=zi(["leftmost"])),P.insertAfter=function(Rt){return function(Vt){E.splice(Rt+1,0,Vt),ne++}}(ne)}O&&E.pop()},eN=function(E){return E instanceof $e||E instanceof ht||E instanceof Te&&E.hasClass("enclosing")?E:null},xae=function ae(E,R){var P=eN(E);if(P){var O=P.children;if(O.length){if(R==="right")return ae(O[O.length-1],"right");if(R==="left")return ae(O[0],"left")}}return E},KA=function(E,R){return E?(R&&(E=xae(E,R)),wae[E.classes[0]]||null):null},Ky=function(E,R){var P=["nulldelimiter"].concat(E.baseSizingClasses());return zi(R.concat(P))},Qr=function(E,R,P){if(!E)return zi();if(Wn[E.type]){var O=Wn[E.type](E,R);if(P&&R.size!==P.size){O=zi(R.sizingClasses(P),[O],R);var q=R.sizeMultiplier/P.sizeMultiplier;O.height*=q,O.depth*=q}return O}else throw new a("Got group of unknown type: '"+E.type+"'")};function jS(ae,E){var R=zi(["base"],ae,E),P=zi(["strut"]);return P.style.height=G(R.height+R.depth),R.depth&&(P.style.verticalAlign=G(-R.depth)),R.children.unshift(P),R}function YA(ae,E){var R=null;ae.length===1&&ae[0].type==="tag"&&(R=ae[0].tag,ae=ae[0].body);var P=Ja(ae,E,"root"),O;P.length===2&&P[1].hasClass("tag")&&(O=P.pop());for(var q=[],ne=[],Se=0;Se<P.length;Se++)if(ne.push(P[Se]),P[Se].hasClass("mbin")||P[Se].hasClass("mrel")||P[Se].hasClass("allowbreak")){for(var Fe=!1;Se<P.length-1&&P[Se+1].hasClass("mspace")&&!P[Se+1].hasClass("newline");)Se++,ne.push(P[Se]),P[Se].hasClass("nobreak")&&(Fe=!0);Fe||(q.push(jS(ne,E)),ne=[])}else P[Se].hasClass("newline")&&(ne.pop(),ne.length>0&&(q.push(jS(ne,E)),ne=[]),q.push(P[Se]));ne.length>0&&q.push(jS(ne,E));var Xe;R?(Xe=jS(Ja(R,E,!0)),Xe.classes=["tag"],q.push(Xe)):O&&q.push(O);var ut=zi(["katex-html"],q);if(ut.setAttribute("aria-hidden","true"),Xe){var Rt=Xe.children[0];Rt.style.height=G(ut.height+ut.depth),ut.depth&&(Rt.style.verticalAlign=G(-ut.depth))}return ut}function tN(ae){return new $e(ae)}var ol=function(){function ae(R,P,O){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=R,this.attributes={},this.children=P||[],this.classes=O||[]}var E=ae.prototype;return E.setAttribute=function(P,O){this.attributes[P]=O},E.getAttribute=function(P){return this.attributes[P]},E.toNode=function(){var P=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var O in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,O)&&P.setAttribute(O,this.attributes[O]);this.classes.length>0&&(P.className=ye(this.classes));for(var q=0;q<this.children.length;q++)P.appendChild(this.children[q].toNode());return P},E.toMarkup=function(){var P="<"+this.type;for(var O in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,O)&&(P+=" "+O+'="',P+=v.escape(this.attributes[O]),P+='"');this.classes.length>0&&(P+=' class ="'+v.escape(ye(this.classes))+'"'),P+=">";for(var q=0;q<this.children.length;q++)P+=this.children[q].toMarkup();return P+="</"+this.type+">",P},E.toText=function(){return this.children.map(function(P){return P.toText()}).join("")},ae}(),Yy=function(){function ae(R){this.text=void 0,this.text=R}var E=ae.prototype;return E.toNode=function(){return document.createTextNode(this.text)},E.toMarkup=function(){return v.escape(this.toText())},E.toText=function(){return this.text},ae}(),Cae=function(){function ae(R){this.width=void 0,this.character=void 0,this.width=R,R>=.05555&&R<=.05556?this.character="":R>=.1666&&R<=.1667?this.character="":R>=.2222&&R<=.2223?this.character="":R>=.2777&&R<=.2778?this.character="":R>=-.05556&&R<=-.05555?this.character="":R>=-.1667&&R<=-.1666?this.character="":R>=-.2223&&R<=-.2222?this.character="":R>=-.2778&&R<=-.2777?this.character="":this.character=null}var E=ae.prototype;return E.toNode=function(){if(this.character)return document.createTextNode(this.character);var P=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return P.setAttribute("width",G(this.width)),P},E.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+G(this.width)+'"/>'},E.toText=function(){return this.character?this.character:" "},ae}(),on={MathNode:ol,TextNode:Yy,SpaceNode:Cae,newDocumentFragment:tN},ll=function(E,R,P){return jn[R][E]&&jn[R][E].replace&&E.charCodeAt(0)!==55349&&!(Oe.hasOwnProperty(E)&&P&&(P.fontFamily&&P.fontFamily.substr(4,2)==="tt"||P.font&&P.font.substr(4,2)==="tt"))&&(E=jn[R][E].replace),new on.TextNode(E)},XA=function(E){return E.length===1?E[0]:new on.MathNode("mrow",E)},jA=function(E,R){if(R.fontFamily==="texttt")return"monospace";if(R.fontFamily==="textsf")return R.fontShape==="textit"&&R.fontWeight==="textbf"?"sans-serif-bold-italic":R.fontShape==="textit"?"sans-serif-italic":R.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(R.fontShape==="textit"&&R.fontWeight==="textbf")return"bold-italic";if(R.fontShape==="textit")return"italic";if(R.fontWeight==="textbf")return"bold";var P=R.font;if(!P||P==="mathnormal")return null;var O=E.mode;if(P==="mathit")return"italic";if(P==="boldsymbol")return E.type==="textord"?"bold":"bold-italic";if(P==="mathbf")return"bold";if(P==="mathbb")return"double-struck";if(P==="mathfrak")return"fraktur";if(P==="mathscr"||P==="mathcal")return"script";if(P==="mathsf")return"sans-serif";if(P==="mathtt")return"monospace";var q=E.text;if(v.contains(["\\imath","\\jmath"],q))return null;jn[O][q]&&jn[O][q].replace&&(q=jn[O][q].replace);var ne=ot.fontMap[P].fontName;return ke(q,ne,O)?ot.fontMap[P].variant:null},Po=function(E,R,P){if(E.length===1){var O=Ti(E[0],R);return P&&O instanceof ol&&O.type==="mo"&&(O.setAttribute("lspace","0em"),O.setAttribute("rspace","0em")),[O]}for(var q=[],ne,Se=0;Se<E.length;Se++){var Fe=Ti(E[Se],R);if(Fe instanceof ol&&ne instanceof ol){if(Fe.type==="mtext"&&ne.type==="mtext"&&Fe.getAttribute("mathvariant")===ne.getAttribute("mathvariant")){var Xe;(Xe=ne.children).push.apply(Xe,Fe.children);continue}else if(Fe.type==="mn"&&ne.type==="mn"){var ut;(ut=ne.children).push.apply(ut,Fe.children);continue}else if(Fe.type==="mi"&&Fe.children.length===1&&ne.type==="mn"){var Rt=Fe.children[0];if(Rt instanceof Yy&&Rt.text==="."){var Vt;(Vt=ne.children).push.apply(Vt,Fe.children);continue}}else if(ne.type==="mi"&&ne.children.length===1){var jt=ne.children[0];if(jt instanceof Yy&&jt.text===""&&(Fe.type==="mo"||Fe.type==="mi"||Fe.type==="mn")){var Zt=Fe.children[0];Zt instanceof Yy&&Zt.text.length>0&&(Zt.text=Zt.text.slice(0,1)+""+Zt.text.slice(1),q.pop())}}}q.push(Fe),ne=Fe}return q},jd=function(E,R,P){return XA(Po(E,R,P))},Ti=function(E,R){if(!E)return new on.MathNode("mrow");if(bi[E.type]){var P=bi[E.type](E,R);return P}else throw new a("Got group of unknown type: '"+E.type+"'")};function nN(ae,E,R,P,O){var q=Po(ae,R),ne;q.length===1&&q[0]instanceof ol&&v.contains(["mrow","mtable"],q[0].type)?ne=q[0]:ne=new on.MathNode("mrow",q);var Se=new on.MathNode("annotation",[new on.TextNode(E)]);Se.setAttribute("encoding","application/x-tex");var Fe=new on.MathNode("semantics",[ne,Se]),Xe=new on.MathNode("math",[Fe]);Xe.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),P&&Xe.setAttribute("display","block");var ut=O?"katex":"katex-mathml";return ot.makeSpan([ut],[Xe])}var rN=function(E){return new ct({style:E.displayMode?B.DISPLAY:B.TEXT,maxSize:E.maxSize,minRuleThickness:E.minRuleThickness})},iN=function(E,R){if(R.displayMode){var P=["katex-display"];R.leqno&&P.push("leqno"),R.fleqn&&P.push("fleqn"),E=ot.makeSpan(P,[E])}return E},Mae=function(E,R,P){var O=rN(P),q;if(P.output==="mathml")return nN(E,R,O,P.displayMode,!0);if(P.output==="html"){var ne=YA(E,O);q=ot.makeSpan(["katex"],[ne])}else{var Se=nN(E,R,O,P.displayMode,!1),Fe=YA(E,O);q=ot.makeSpan(["katex"],[Se,Fe])}return iN(q,P)},Tae=function(E,R,P){var O=rN(P),q=YA(E,O),ne=ot.makeSpan(["katex"],[q]);return iN(ne,P)},Aae={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Eae=function(E){var R=new on.MathNode("mo",[new on.TextNode(Aae[E.replace(/^\\/,"")])]);return R.setAttribute("stretchy","true"),R},Iae={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Rae=function(E){return E.type==="ordgroup"?E.body.length:1},Pae=function(E,R){function P(){var Fe=4e5,Xe=E.label.substr(1);if(v.contains(["widehat","widecheck","widetilde","utilde"],Xe)){var ut=E,Rt=Rae(ut.base),Vt,jt,Zt;if(Rt>5)Xe==="widehat"||Xe==="widecheck"?(Vt=420,Fe=2364,Zt=.42,jt=Xe+"4"):(Vt=312,Fe=2340,Zt=.34,jt="tilde4");else{var fn=[1,1,2,2,3,3][Rt];Xe==="widehat"||Xe==="widecheck"?(Fe=[0,1062,2364,2364,2364][fn],Vt=[0,239,300,360,420][fn],Zt=[0,.24,.3,.3,.36,.42][fn],jt=Xe+fn):(Fe=[0,600,1033,2339,2340][fn],Vt=[0,260,286,306,312][fn],Zt=[0,.26,.286,.3,.306,.34][fn],jt="tilde"+fn)}var vn=new kt(jt),zn=new vt([vn],{width:"100%",height:G(Zt),viewBox:"0 0 "+Fe+" "+Vt,preserveAspectRatio:"none"});return{span:ot.makeSvgSpan([],[zn],R),minWidth:0,height:Zt}}else{var Kn=[],er=Iae[Xe],Jr=er[0],pi=er[1],Ui=er[2],li=Ui/1e3,mi=Jr.length,ca,Ei;if(mi===1){var Lo=er[3];ca=["hide-tail"],Ei=[Lo]}else if(mi===2)ca=["halfarrow-left","halfarrow-right"],Ei=["xMinYMin","xMaxYMin"];else if(mi===3)ca=["brace-left","brace-center","brace-right"],Ei=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+mi+" children.");for(var Do=0;Do<mi;Do++){var Jd=new kt(Jr[Do]),Fc=new vt([Jd],{width:"400em",height:G(li),viewBox:"0 0 "+Fe+" "+Ui,preserveAspectRatio:Ei[Do]+" slice"}),ko=ot.makeSvgSpan([ca[Do]],[Fc],R);if(mi===1)return{span:ko,minWidth:pi,height:li};ko.style.height=G(li),Kn.push(ko)}return{span:ot.makeSpan(["stretchy"],Kn,R),minWidth:pi,height:li}}}var O=P(),q=O.span,ne=O.minWidth,Se=O.height;return q.height=Se,q.style.height=G(Se),ne>0&&(q.style.minWidth=G(ne)),q},Lae=function(E,R,P,O,q){var ne,Se=E.height+E.depth+P+O;if(/fbox|color|angl/.test(R)){if(ne=ot.makeSpan(["stretchy",R],[],q),R==="fbox"){var Fe=q.color&&q.getColor();Fe&&(ne.style.borderColor=Fe)}}else{var Xe=[];/^[bx]cancel$/.test(R)&&Xe.push(new Tt({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(R)&&Xe.push(new Tt({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var ut=new vt(Xe,{width:"100%",height:G(Se)});ne=ot.makeSvgSpan([],[ut],q)}return ne.height=Se,ne.style.height=G(Se),ne},ku={encloseSpan:Lae,mathMLnode:Eae,svgSpan:Pae};function _r(ae,E){if(!ae||ae.type!==E)throw new Error("Expected node of type "+E+", but got "+(ae?"node of type "+ae.type:String(ae)));return ae}function ZA(ae){var E=ZS(ae);if(!E)throw new Error("Expected node of symbol group type, but got "+(ae?"node of type "+ae.type:String(ae)));return E}function ZS(ae){return ae&&(ae.type==="atom"||Ln.hasOwnProperty(ae.type))?ae:null}var QA=function(E,R){var P,O,q;E&&E.type==="supsub"?(O=_r(E.base,"accent"),P=O.base,E.base=P,q=_n(Qr(E,R)),E.base=O):(O=_r(E,"accent"),P=O.base);var ne=Qr(P,R.havingCrampedStyle()),Se=O.isShifty&&v.isCharacterBox(P),Fe=0;if(Se){var Xe=v.getBaseElem(P),ut=Qr(Xe,R.havingCrampedStyle());Fe=an(ut).skew}var Rt=O.label==="\\c",Vt=Rt?ne.height+ne.depth:Math.min(ne.height,R.fontMetrics().xHeight),jt;if(O.isStretchy)jt=ku.svgSpan(O,R),jt=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ne},{type:"elem",elem:jt,wrapperClasses:["svg-align"],wrapperStyle:Fe>0?{width:"calc(100% - "+G(2*Fe)+")",marginLeft:G(2*Fe)}:void 0}]},R);else{var Zt,fn;O.label==="\\vec"?(Zt=ot.staticSvg("vec",R),fn=ot.svgData.vec[1]):(Zt=ot.makeOrd({mode:O.mode,text:O.label},R,"textord"),Zt=an(Zt),Zt.italic=0,fn=Zt.width,Rt&&(Vt+=Zt.depth)),jt=ot.makeSpan(["accent-body"],[Zt]);var vn=O.label==="\\textcircled";vn&&(jt.classes.push("accent-full"),Vt=ne.height);var zn=Fe;vn||(zn-=fn/2),jt.style.left=G(zn),O.label==="\\textcircled"&&(jt.style.top=".2em"),jt=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ne},{type:"kern",size:-Vt},{type:"elem",elem:jt}]},R)}var Kn=ot.makeSpan(["mord","accent"],[jt],R);return q?(q.children[0]=Kn,q.height=Math.max(Kn.height,q.height),q.classes[0]="mord",q):Kn},aN=function(E,R){var P=E.isStretchy?ku.mathMLnode(E.label):new on.MathNode("mo",[ll(E.label,E.mode)]),O=new on.MathNode("mover",[Ti(E.base,R),P]);return O.setAttribute("accent","true"),O},Dae=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(ae){return"\\"+ae}).join("|"));nn({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(E,R){var P=kr(R[0]),O=!Dae.test(E.funcName),q=!O||E.funcName==="\\widehat"||E.funcName==="\\widetilde"||E.funcName==="\\widecheck";return{type:"accent",mode:E.parser.mode,label:E.funcName,isStretchy:O,isShifty:q,base:P}},htmlBuilder:QA,mathmlBuilder:aN}),nn({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:function(E,R){var P=R[0],O=E.parser.mode;return O==="math"&&(E.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+E.funcName+" works only in text mode"),O="text"),{type:"accent",mode:O,label:E.funcName,isStretchy:!1,isShifty:!0,base:P}},htmlBuilder:QA,mathmlBuilder:aN}),nn({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(E,R){var P=E.parser,O=E.funcName,q=R[0];return{type:"accentUnder",mode:P.mode,label:O,base:q}},htmlBuilder:function(E,R){var P=Qr(E.base,R),O=ku.svgSpan(E,R),q=E.label==="\\utilde"?.12:0,ne=ot.makeVList({positionType:"top",positionData:P.height,children:[{type:"elem",elem:O,wrapperClasses:["svg-align"]},{type:"kern",size:q},{type:"elem",elem:P}]},R);return ot.makeSpan(["mord","accentunder"],[ne],R)},mathmlBuilder:function(E,R){var P=ku.mathMLnode(E.label),O=new on.MathNode("munder",[Ti(E.base,R),P]);return O.setAttribute("accentunder","true"),O}});var QS=function(E){var R=new on.MathNode("mpadded",E?[E]:[]);return R.setAttribute("width","+0.6em"),R.setAttribute("lspace","0.3em"),R};nn({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler:function(E,R,P){var O=E.parser,q=E.funcName;return{type:"xArrow",mode:O.mode,label:q,body:R[0],below:P[0]}},htmlBuilder:function(E,R){var P=R.style,O=R.havingStyle(P.sup()),q=ot.wrapFragment(Qr(E.body,O,R),R),ne=E.label.slice(0,2)==="\\x"?"x":"cd";q.classes.push(ne+"-arrow-pad");var Se;E.below&&(O=R.havingStyle(P.sub()),Se=ot.wrapFragment(Qr(E.below,O,R),R),Se.classes.push(ne+"-arrow-pad"));var Fe=ku.svgSpan(E,R),Xe=-R.fontMetrics().axisHeight+.5*Fe.height,ut=-R.fontMetrics().axisHeight-.5*Fe.height-.111;(q.depth>.25||E.label==="\\xleftequilibrium")&&(ut-=q.depth);var Rt;if(Se){var Vt=-R.fontMetrics().axisHeight+Se.height+.5*Fe.height+.111;Rt=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:q,shift:ut},{type:"elem",elem:Fe,shift:Xe},{type:"elem",elem:Se,shift:Vt}]},R)}else Rt=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:q,shift:ut},{type:"elem",elem:Fe,shift:Xe}]},R);return Rt.children[0].children[0].children[1].classes.push("svg-align"),ot.makeSpan(["mrel","x-arrow"],[Rt],R)},mathmlBuilder:function(E,R){var P=ku.mathMLnode(E.label);P.setAttribute("minsize",E.label.charAt(0)==="x"?"1.75em":"3.0em");var O;if(E.body){var q=QS(Ti(E.body,R));if(E.below){var ne=QS(Ti(E.below,R));O=new on.MathNode("munderover",[P,ne,q])}else O=new on.MathNode("mover",[P,q])}else if(E.below){var Se=QS(Ti(E.below,R));O=new on.MathNode("munder",[P,Se])}else O=QS(),O=new on.MathNode("mover",[P,O]);return O}});var kae={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},sN=function(){return{type:"styling",body:[],mode:"math",style:"display"}},oN=function(E){return E.type==="textord"&&E.text==="@"},Oae=function(E,R){return(E.type==="mathord"||E.type==="atom")&&E.text===R};function Nae(ae,E,R){var P=kae[ae];switch(P){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return R.callFunction(P,[E[0]],[E[1]]);case"\\uparrow":case"\\downarrow":{var O=R.callFunction("\\\\cdleft",[E[0]],[]),q={type:"atom",text:P,mode:"math",family:"rel"},ne=R.callFunction("\\Big",[q],[]),Se=R.callFunction("\\\\cdright",[E[1]],[]),Fe={type:"ordgroup",mode:"math",body:[O,ne,Se]};return R.callFunction("\\\\cdparent",[Fe],[])}case"\\\\cdlongequal":return R.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var Xe={type:"textord",text:"\\Vert",mode:"math"};return R.callFunction("\\Big",[Xe],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Bae(ae){var E=[];for(ae.gullet.beginGroup(),ae.gullet.macros.set("\\cr","\\\\\\relax"),ae.gullet.beginGroup();;){E.push(ae.parseExpression(!1,"\\\\")),ae.gullet.endGroup(),ae.gullet.beginGroup();var R=ae.fetch().text;if(R==="&"||R==="\\\\")ae.consume();else if(R==="\\end"){E[E.length-1].length===0&&E.pop();break}else throw new a("Expected \\\\ or \\cr or \\end",ae.nextToken)}for(var P=[],O=[P],q=0;q<E.length;q++){for(var ne=E[q],Se=sN(),Fe=0;Fe<ne.length;Fe++)if(!oN(ne[Fe]))Se.body.push(ne[Fe]);else{P.push(Se),Fe+=1;var Xe=ZA(ne[Fe]).text,ut=new Array(2);if(ut[0]={type:"ordgroup",mode:"math",body:[]},ut[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(Xe)>-1))if("<>AV".indexOf(Xe)>-1)for(var Rt=0;Rt<2;Rt++){for(var Vt=!0,jt=Fe+1;jt<ne.length;jt++){if(Oae(ne[jt],Xe)){Vt=!1,Fe=jt;break}if(oN(ne[jt]))throw new a("Missing a "+Xe+" character to complete a CD arrow.",ne[jt]);ut[Rt].body.push(ne[jt])}if(Vt)throw new a("Missing a "+Xe+" character to complete a CD arrow.",ne[Fe])}else throw new a('Expected one of "<>AV=|." after @',ne[Fe]);var Zt=Nae(Xe,ut,ae),fn={type:"styling",body:[Zt],mode:"math",style:"display"};P.push(fn),Se=sN()}q%2===0?P.push(Se):P.shift(),P=[],O.push(P)}ae.gullet.endGroup(),ae.gullet.endGroup();var vn=new Array(O[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:O,arraystretch:1,addJot:!0,rowGaps:[null],cols:vn,colSeparationType:"CD",hLinesBeforeRow:new Array(O.length+1).fill([])}}nn({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler:function(E,R){var P=E.parser,O=E.funcName;return{type:"cdlabel",mode:P.mode,side:O.slice(4),label:R[0]}},htmlBuilder:function(E,R){var P=R.havingStyle(R.style.sup()),O=ot.wrapFragment(Qr(E.label,P,R),R);return O.classes.push("cd-label-"+E.side),O.style.bottom=G(.8-O.depth),O.height=0,O.depth=0,O},mathmlBuilder:function(E,R){var P=new on.MathNode("mrow",[Ti(E.label,R)]);return P=new on.MathNode("mpadded",[P]),P.setAttribute("width","0"),E.side==="left"&&P.setAttribute("lspace","-1width"),P.setAttribute("voffset","0.7em"),P=new on.MathNode("mstyle",[P]),P.setAttribute("displaystyle","false"),P.setAttribute("scriptlevel","1"),P}}),nn({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler:function(E,R){var P=E.parser;return{type:"cdlabelparent",mode:P.mode,fragment:R[0]}},htmlBuilder:function(E,R){var P=ot.wrapFragment(Qr(E.fragment,R),R);return P.classes.push("cd-vert-arrow"),P},mathmlBuilder:function(E,R){return new on.MathNode("mrow",[Ti(E.fragment,R)])}}),nn({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){for(var P=E.parser,O=_r(R[0],"ordgroup"),q=O.body,ne="",Se=0;Se<q.length;Se++){var Fe=_r(q[Se],"textord");ne+=Fe.text}var Xe=parseInt(ne),ut;if(isNaN(Xe))throw new a("\\@char has non-numeric argument "+ne);if(Xe<0||Xe>=1114111)throw new a("\\@char with invalid code point "+ne);return Xe<=65535?ut=String.fromCharCode(Xe):(Xe-=65536,ut=String.fromCharCode((Xe>>10)+55296,(Xe&1023)+56320)),{type:"textord",mode:P.mode,text:ut}}});var lN=function(E,R){var P=Ja(E.body,R.withColor(E.color),!1);return ot.makeFragment(P)},cN=function(E,R){var P=Po(E.body,R.withColor(E.color)),O=new on.MathNode("mstyle",P);return O.setAttribute("mathcolor",E.color),O};nn({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler:function(E,R){var P=E.parser,O=_r(R[0],"color-token").color,q=R[1];return{type:"color",mode:P.mode,color:O,body:oi(q)}},htmlBuilder:lN,mathmlBuilder:cN}),nn({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler:function(E,R){var P=E.parser,O=E.breakOnTokenText,q=_r(R[0],"color-token").color;P.gullet.macros.set("\\current@color",q);var ne=P.parseExpression(!0,O);return{type:"color",mode:P.mode,color:q,body:ne}},htmlBuilder:lN,mathmlBuilder:cN}),nn({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(E,R,P){var O=E.parser,q=P[0],ne=!O.settings.displayMode||!O.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:O.mode,newLine:ne,size:q&&_r(q,"size").value}},htmlBuilder:function(E,R){var P=ot.makeSpan(["mspace"],[],R);return E.newLine&&(P.classes.push("newline"),E.size&&(P.style.marginTop=G(st(E.size,R)))),P},mathmlBuilder:function(E,R){var P=new on.MathNode("mspace");return E.newLine&&(P.setAttribute("linebreak","newline"),E.size&&P.setAttribute("height",G(st(E.size,R)))),P}});var JA={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},uN=function(E){var R=E.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(R))throw new a("Expected a control sequence",E);return R},Fae=function(E){var R=E.gullet.popToken();return R.text==="="&&(R=E.gullet.popToken(),R.text===" "&&(R=E.gullet.popToken())),R},dN=function(E,R,P,O){var q=E.gullet.macros.get(P.text);q==null&&(P.noexpand=!0,q={tokens:[P],numArgs:0,unexpandable:!E.gullet.isExpandable(P.text)}),E.gullet.macros.set(R,q,O)};nn({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler:function(E){var R=E.parser,P=E.funcName;R.consumeSpaces();var O=R.fetch();if(JA[O.text])return(P==="\\global"||P==="\\\\globallong")&&(O.text=JA[O.text]),_r(R.parseFunction(),"internal");throw new a("Invalid token after macro prefix",O)}}),nn({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(E){var R=E.parser,P=E.funcName,O=R.gullet.popToken(),q=O.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(q))throw new a("Expected a control sequence",O);for(var ne=0,Se,Fe=[[]];R.gullet.future().text!=="{";)if(O=R.gullet.popToken(),O.text==="#"){if(R.gullet.future().text==="{"){Se=R.gullet.future(),Fe[ne].push("{");break}if(O=R.gullet.popToken(),!/^[1-9]$/.test(O.text))throw new a('Invalid argument number "'+O.text+'"');if(parseInt(O.text)!==ne+1)throw new a('Argument number "'+O.text+'" out of order');ne++,Fe.push([])}else{if(O.text==="EOF")throw new a("Expected a macro definition");Fe[ne].push(O.text)}var Xe=R.gullet.consumeArg(),ut=Xe.tokens;return Se&&ut.unshift(Se),(P==="\\edef"||P==="\\xdef")&&(ut=R.gullet.expandTokens(ut),ut.reverse()),R.gullet.macros.set(q,{tokens:ut,numArgs:ne,delimiters:Fe},P===JA[P]),{type:"internal",mode:R.mode}}}),nn({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(E){var R=E.parser,P=E.funcName,O=uN(R.gullet.popToken());R.gullet.consumeSpaces();var q=Fae(R);return dN(R,O,q,P==="\\\\globallet"),{type:"internal",mode:R.mode}}}),nn({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(E){var R=E.parser,P=E.funcName,O=uN(R.gullet.popToken()),q=R.gullet.popToken(),ne=R.gullet.popToken();return dN(R,O,ne,P==="\\\\globalfuture"),R.gullet.pushToken(ne),R.gullet.pushToken(q),{type:"internal",mode:R.mode}}});var Xy=function(E,R,P){var O=jn.math[E]&&jn.math[E].replace,q=ke(O||E,R,P);if(!q)throw new Error("Unsupported symbol "+E+" and font size "+R+".");return q},eE=function(E,R,P,O){var q=P.havingBaseStyle(R),ne=ot.makeSpan(O.concat(q.sizingClasses(P)),[E],P),Se=q.sizeMultiplier/P.sizeMultiplier;return ne.height*=Se,ne.depth*=Se,ne.maxFontSize=q.sizeMultiplier,ne},fN=function(E,R,P){var O=R.havingBaseStyle(P),q=(1-R.sizeMultiplier/O.sizeMultiplier)*R.fontMetrics().axisHeight;E.classes.push("delimcenter"),E.style.top=G(q),E.height-=q,E.depth+=q},zae=function(E,R,P,O,q,ne){var Se=ot.makeSymbol(E,"Main-Regular",q,O),Fe=eE(Se,R,O,ne);return P&&fN(Fe,O,R),Fe},Uae=function(E,R,P,O){return ot.makeSymbol(E,"Size"+R+"-Regular",P,O)},hN=function(E,R,P,O,q,ne){var Se=Uae(E,R,q,O),Fe=eE(ot.makeSpan(["delimsizing","size"+R],[Se],O),B.TEXT,O,ne);return P&&fN(Fe,O,B.TEXT),Fe},tE=function(E,R,P){var O;R==="Size1-Regular"?O="delim-size1":O="delim-size4";var q=ot.makeSpan(["delimsizinginner",O],[ot.makeSpan([],[ot.makeSymbol(E,R,P)])]);return{type:"elem",elem:q}},nE=function(E,R,P){var O=Ne["Size4-Regular"][E.charCodeAt(0)]?Ne["Size4-Regular"][E.charCodeAt(0)][4]:Ne["Size1-Regular"][E.charCodeAt(0)][4],q=new kt("inner",ue(E,Math.round(1e3*R))),ne=new vt([q],{width:G(O),height:G(R),style:"width:"+G(O),viewBox:"0 0 "+1e3*O+" "+Math.round(1e3*R),preserveAspectRatio:"xMinYMin"}),Se=ot.makeSvgSpan([],[ne],P);return Se.height=R,Se.style.height=G(R),Se.style.width=G(O),{type:"elem",elem:Se}},rE=.008,JS={type:"kern",size:-1*rE},Hae=["|","\\lvert","\\rvert","\\vert"],Vae=["\\|","\\lVert","\\rVert","\\Vert"],pN=function(E,R,P,O,q,ne){var Se,Fe,Xe,ut;Se=Xe=ut=E,Fe=null;var Rt="Size1-Regular";E==="\\uparrow"?Xe=ut="":E==="\\Uparrow"?Xe=ut="":E==="\\downarrow"?Se=Xe="":E==="\\Downarrow"?Se=Xe="":E==="\\updownarrow"?(Se="\\uparrow",Xe="",ut="\\downarrow"):E==="\\Updownarrow"?(Se="\\Uparrow",Xe="",ut="\\Downarrow"):v.contains(Hae,E)?Xe="":v.contains(Vae,E)?Xe="":E==="["||E==="\\lbrack"?(Se="",Xe="",ut="",Rt="Size4-Regular"):E==="]"||E==="\\rbrack"?(Se="",Xe="",ut="",Rt="Size4-Regular"):E==="\\lfloor"||E===""?(Xe=Se="",ut="",Rt="Size4-Regular"):E==="\\lceil"||E===""?(Se="",Xe=ut="",Rt="Size4-Regular"):E==="\\rfloor"||E===""?(Xe=Se="",ut="",Rt="Size4-Regular"):E==="\\rceil"||E===""?(Se="",Xe=ut="",Rt="Size4-Regular"):E==="("||E==="\\lparen"?(Se="",Xe="",ut="",Rt="Size4-Regular"):E===")"||E==="\\rparen"?(Se="",Xe="",ut="",Rt="Size4-Regular"):E==="\\{"||E==="\\lbrace"?(Se="",Fe="",ut="",Xe="",Rt="Size4-Regular"):E==="\\}"||E==="\\rbrace"?(Se="",Fe="",ut="",Xe="",Rt="Size4-Regular"):E==="\\lgroup"||E===""?(Se="",ut="",Xe="",Rt="Size4-Regular"):E==="\\rgroup"||E===""?(Se="",ut="",Xe="",Rt="Size4-Regular"):E==="\\lmoustache"||E===""?(Se="",ut="",Xe="",Rt="Size4-Regular"):(E==="\\rmoustache"||E==="")&&(Se="",ut="",Xe="",Rt="Size4-Regular");var Vt=Xy(Se,Rt,q),jt=Vt.height+Vt.depth,Zt=Xy(Xe,Rt,q),fn=Zt.height+Zt.depth,vn=Xy(ut,Rt,q),zn=vn.height+vn.depth,Kn=0,er=1;if(Fe!==null){var Jr=Xy(Fe,Rt,q);Kn=Jr.height+Jr.depth,er=2}var pi=jt+zn+Kn,Ui=Math.max(0,Math.ceil((R-pi)/(er*fn))),li=pi+Ui*er*fn,mi=O.fontMetrics().axisHeight;P&&(mi*=O.sizeMultiplier);var ca=li/2-mi,Ei=[];if(Ei.push(tE(ut,Rt,q)),Ei.push(JS),Fe===null){var Lo=li-jt-zn+2*rE;Ei.push(nE(Xe,Lo,O))}else{var Do=(li-jt-zn-Kn)/2+2*rE;Ei.push(nE(Xe,Do,O)),Ei.push(JS),Ei.push(tE(Fe,Rt,q)),Ei.push(JS),Ei.push(nE(Xe,Do,O))}Ei.push(JS),Ei.push(tE(Se,Rt,q));var Jd=O.havingBaseStyle(B.TEXT),Fc=ot.makeVList({positionType:"bottom",positionData:ca,children:Ei},Jd);return eE(ot.makeSpan(["delimsizing","mult"],[Fc],Jd),B.TEXT,O,ne)},iE=80,aE=.08,sE=function(E,R,P,O,q){var ne=K(E,O,P),Se=new kt(E,ne),Fe=new vt([Se],{width:"400em",height:G(R),viewBox:"0 0 400000 "+P,preserveAspectRatio:"xMinYMin slice"});return ot.makeSvgSpan(["hide-tail"],[Fe],q)},$ae=function(E,R){var P=R.havingBaseSizing(),O=yN("\\surd",E*P.sizeMultiplier,gN,P),q=P.sizeMultiplier,ne=Math.max(0,R.minRuleThickness-R.fontMetrics().sqrtRuleThickness),Se,Fe=0,Xe=0,ut=0,Rt;return O.type==="small"?(ut=1e3+1e3*ne+iE,E<1?q=1:E<1.4&&(q=.7),Fe=(1+ne+aE)/q,Xe=(1+ne)/q,Se=sE("sqrtMain",Fe,ut,ne,R),Se.style.minWidth="0.853em",Rt=.833/q):O.type==="large"?(ut=(1e3+iE)*jy[O.size],Xe=(jy[O.size]+ne)/q,Fe=(jy[O.size]+ne+aE)/q,Se=sE("sqrtSize"+O.size,Fe,ut,ne,R),Se.style.minWidth="1.02em",Rt=1/q):(Fe=E+ne+aE,Xe=E+ne,ut=Math.floor(1e3*E+ne)+iE,Se=sE("sqrtTall",Fe,ut,ne,R),Se.style.minWidth="0.742em",Rt=1.056),Se.height=Xe,Se.style.height=G(Fe),{span:Se,advanceWidth:Rt,ruleWidth:(R.fontMetrics().sqrtRuleThickness+ne)*q}},mN=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Gae=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],vN=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],jy=[0,1.2,1.8,2.4,3],Wae=function(E,R,P,O,q){if(E==="<"||E==="\\lt"||E===""?E="\\langle":(E===">"||E==="\\gt"||E==="")&&(E="\\rangle"),v.contains(mN,E)||v.contains(vN,E))return hN(E,R,!1,P,O,q);if(v.contains(Gae,E))return pN(E,jy[R],!1,P,O,q);throw new a("Illegal delimiter: '"+E+"'")},qae=[{type:"small",style:B.SCRIPTSCRIPT},{type:"small",style:B.SCRIPT},{type:"small",style:B.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Kae=[{type:"small",style:B.SCRIPTSCRIPT},{type:"small",style:B.SCRIPT},{type:"small",style:B.TEXT},{type:"stack"}],gN=[{type:"small",style:B.SCRIPTSCRIPT},{type:"small",style:B.SCRIPT},{type:"small",style:B.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Yae=function(E){if(E.type==="small")return"Main-Regular";if(E.type==="large")return"Size"+E.size+"-Regular";if(E.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+E.type+"' here.")},yN=function(E,R,P,O){for(var q=Math.min(2,3-O.style.size),ne=q;ne<P.length&&P[ne].type!=="stack";ne++){var Se=Xy(E,Yae(P[ne]),"math"),Fe=Se.height+Se.depth;if(P[ne].type==="small"){var Xe=O.havingBaseStyle(P[ne].style);Fe*=Xe.sizeMultiplier}if(Fe>R)return P[ne]}return P[P.length-1]},bN=function(E,R,P,O,q,ne){E==="<"||E==="\\lt"||E===""?E="\\langle":(E===">"||E==="\\gt"||E==="")&&(E="\\rangle");var Se;v.contains(vN,E)?Se=qae:v.contains(mN,E)?Se=gN:Se=Kae;var Fe=yN(E,R,Se,O);return Fe.type==="small"?zae(E,Fe.style,P,O,q,ne):Fe.type==="large"?hN(E,Fe.size,P,O,q,ne):pN(E,R,P,O,q,ne)},Xae=function(E,R,P,O,q,ne){var Se=O.fontMetrics().axisHeight*O.sizeMultiplier,Fe=901,Xe=5/O.fontMetrics().ptPerEm,ut=Math.max(R-Se,P+Se),Rt=Math.max(ut/500*Fe,2*ut-Xe);return bN(E,Rt,!0,O,q,ne)},Ou={sqrtImage:$ae,sizedDelim:Wae,sizeToMaxHeight:jy,customSizedDelim:bN,leftRightDelim:Xae},_N={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},jae=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function ew(ae,E){var R=ZS(ae);if(R&&v.contains(jae,R.text))return R;throw R?new a("Invalid delimiter '"+R.text+"' after '"+E.funcName+"'",ae):new a("Invalid delimiter type '"+ae.type+"'",ae)}nn({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:function(E,R){var P=ew(R[0],E);return{type:"delimsizing",mode:E.parser.mode,size:_N[E.funcName].size,mclass:_N[E.funcName].mclass,delim:P.text}},htmlBuilder:function(E,R){return E.delim==="."?ot.makeSpan([E.mclass]):Ou.sizedDelim(E.delim,E.size,R,E.mode,[E.mclass])},mathmlBuilder:function(E){var R=[];E.delim!=="."&&R.push(ll(E.delim,E.mode));var P=new on.MathNode("mo",R);E.mclass==="mopen"||E.mclass==="mclose"?P.setAttribute("fence","true"):P.setAttribute("fence","false"),P.setAttribute("stretchy","true");var O=G(Ou.sizeToMaxHeight[E.size]);return P.setAttribute("minsize",O),P.setAttribute("maxsize",O),P}});function SN(ae){if(!ae.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}nn({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:function(E,R){var P=E.parser.gullet.macros.get("\\current@color");if(P&&typeof P!="string")throw new a("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:E.parser.mode,delim:ew(R[0],E).text,color:P}}}),nn({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:function(E,R){var P=ew(R[0],E),O=E.parser;++O.leftrightDepth;var q=O.parseExpression(!1);--O.leftrightDepth,O.expect("\\right",!1);var ne=_r(O.parseFunction(),"leftright-right");return{type:"leftright",mode:O.mode,body:q,left:P.text,right:ne.delim,rightColor:ne.color}},htmlBuilder:function(E,R){SN(E);for(var P=Ja(E.body,R,!0,["mopen","mclose"]),O=0,q=0,ne=!1,Se=0;Se<P.length;Se++)P[Se].isMiddle?ne=!0:(O=Math.max(P[Se].height,O),q=Math.max(P[Se].depth,q));O*=R.sizeMultiplier,q*=R.sizeMultiplier;var Fe;if(E.left==="."?Fe=Ky(R,["mopen"]):Fe=Ou.leftRightDelim(E.left,O,q,R,E.mode,["mopen"]),P.unshift(Fe),ne)for(var Xe=1;Xe<P.length;Xe++){var ut=P[Xe],Rt=ut.isMiddle;Rt&&(P[Xe]=Ou.leftRightDelim(Rt.delim,O,q,Rt.options,E.mode,[]))}var Vt;if(E.right===".")Vt=Ky(R,["mclose"]);else{var jt=E.rightColor?R.withColor(E.rightColor):R;Vt=Ou.leftRightDelim(E.right,O,q,jt,E.mode,["mclose"])}return P.push(Vt),ot.makeSpan(["minner"],P,R)},mathmlBuilder:function(E,R){SN(E);var P=Po(E.body,R);if(E.left!=="."){var O=new on.MathNode("mo",[ll(E.left,E.mode)]);O.setAttribute("fence","true"),P.unshift(O)}if(E.right!=="."){var q=new on.MathNode("mo",[ll(E.right,E.mode)]);q.setAttribute("fence","true"),E.rightColor&&q.setAttribute("mathcolor",E.rightColor),P.push(q)}return XA(P)}}),nn({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:function(E,R){var P=ew(R[0],E);if(!E.parser.leftrightDepth)throw new a("\\middle without preceding \\left",P);return{type:"middle",mode:E.parser.mode,delim:P.text}},htmlBuilder:function(E,R){var P;if(E.delim===".")P=Ky(R,[]);else{P=Ou.sizedDelim(E.delim,1,R,E.mode,[]);var O={delim:E.delim,options:R};P.isMiddle=O}return P},mathmlBuilder:function(E,R){var P=E.delim==="\\vert"||E.delim==="|"?ll("|","text"):ll(E.delim,E.mode),O=new on.MathNode("mo",[P]);return O.setAttribute("fence","true"),O.setAttribute("lspace","0.05em"),O.setAttribute("rspace","0.05em"),O}});var oE=function(E,R){var P=ot.wrapFragment(Qr(E.body,R),R),O=E.label.substr(1),q=R.sizeMultiplier,ne,Se=0,Fe=v.isCharacterBox(E.body);if(O==="sout")ne=ot.makeSpan(["stretchy","sout"]),ne.height=R.fontMetrics().defaultRuleThickness/q,Se=-.5*R.fontMetrics().xHeight;else if(O==="phase"){var Xe=st({number:.6,unit:"pt"},R),ut=st({number:.35,unit:"ex"},R),Rt=R.havingBaseSizing();q=q/Rt.sizeMultiplier;var Vt=P.height+P.depth+Xe+ut;P.style.paddingLeft=G(Vt/2+Xe);var jt=Math.floor(1e3*Vt*q),Zt=Ge(jt),fn=new vt([new kt("phase",Zt)],{width:"400em",height:G(jt/1e3),viewBox:"0 0 400000 "+jt,preserveAspectRatio:"xMinYMin slice"});ne=ot.makeSvgSpan(["hide-tail"],[fn],R),ne.style.height=G(Vt),Se=P.depth+Xe+ut}else{/cancel/.test(O)?Fe||P.classes.push("cancel-pad"):O==="angl"?P.classes.push("anglpad"):P.classes.push("boxpad");var vn=0,zn=0,Kn=0;/box/.test(O)?(Kn=Math.max(R.fontMetrics().fboxrule,R.minRuleThickness),vn=R.fontMetrics().fboxsep+(O==="colorbox"?0:Kn),zn=vn):O==="angl"?(Kn=Math.max(R.fontMetrics().defaultRuleThickness,R.minRuleThickness),vn=4*Kn,zn=Math.max(0,.25-P.depth)):(vn=Fe?.2:0,zn=vn),ne=ku.encloseSpan(P,O,vn,zn,R),/fbox|boxed|fcolorbox/.test(O)?(ne.style.borderStyle="solid",ne.style.borderWidth=G(Kn)):O==="angl"&&Kn!==.049&&(ne.style.borderTopWidth=G(Kn),ne.style.borderRightWidth=G(Kn)),Se=P.depth+zn,E.backgroundColor&&(ne.style.backgroundColor=E.backgroundColor,E.borderColor&&(ne.style.borderColor=E.borderColor))}var er;if(E.backgroundColor)er=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ne,shift:Se},{type:"elem",elem:P,shift:0}]},R);else{var Jr=/cancel|phase/.test(O)?["svg-align"]:[];er=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:P,shift:0},{type:"elem",elem:ne,shift:Se,wrapperClasses:Jr}]},R)}return/cancel/.test(O)&&(er.height=P.height,er.depth=P.depth),/cancel/.test(O)&&!Fe?ot.makeSpan(["mord","cancel-lap"],[er],R):ot.makeSpan(["mord"],[er],R)},lE=function(E,R){var P=0,O=new on.MathNode(E.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ti(E.body,R)]);switch(E.label){case"\\cancel":O.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":O.setAttribute("notation","downdiagonalstrike");break;case"\\phase":O.setAttribute("notation","phasorangle");break;case"\\sout":O.setAttribute("notation","horizontalstrike");break;case"\\fbox":O.setAttribute("notation","box");break;case"\\angl":O.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(P=R.fontMetrics().fboxsep*R.fontMetrics().ptPerEm,O.setAttribute("width","+"+2*P+"pt"),O.setAttribute("height","+"+2*P+"pt"),O.setAttribute("lspace",P+"pt"),O.setAttribute("voffset",P+"pt"),E.label==="\\fcolorbox"){var q=Math.max(R.fontMetrics().fboxrule,R.minRuleThickness);O.setAttribute("style","border: "+q+"em solid "+String(E.borderColor))}break;case"\\xcancel":O.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return E.backgroundColor&&O.setAttribute("mathbackground",E.backgroundColor),O};nn({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler:function(E,R,P){var O=E.parser,q=E.funcName,ne=_r(R[0],"color-token").color,Se=R[1];return{type:"enclose",mode:O.mode,label:q,backgroundColor:ne,body:Se}},htmlBuilder:oE,mathmlBuilder:lE}),nn({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler:function(E,R,P){var O=E.parser,q=E.funcName,ne=_r(R[0],"color-token").color,Se=_r(R[1],"color-token").color,Fe=R[2];return{type:"enclose",mode:O.mode,label:q,backgroundColor:Se,borderColor:ne,body:Fe}},htmlBuilder:oE,mathmlBuilder:lE}),nn({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(E,R){var P=E.parser;return{type:"enclose",mode:P.mode,label:"\\fbox",body:R[0]}}}),nn({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler:function(E,R){var P=E.parser,O=E.funcName,q=R[0];return{type:"enclose",mode:P.mode,label:O,body:q}},htmlBuilder:oE,mathmlBuilder:lE}),nn({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler:function(E,R){var P=E.parser;return{type:"enclose",mode:P.mode,label:"\\angl",body:R[0]}}});var wN={};function Oc(ae){for(var E=ae.type,R=ae.names,P=ae.props,O=ae.handler,q=ae.htmlBuilder,ne=ae.mathmlBuilder,Se={type:E,numArgs:P.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:O},Fe=0;Fe<R.length;++Fe)wN[R[Fe]]=Se;q&&(Wn[E]=q),ne&&(bi[E]=ne)}function xN(ae){var E=[];ae.consumeSpaces();for(var R=ae.fetch().text;R==="\\hline"||R==="\\hdashline";)ae.consume(),E.push(R==="\\hdashline"),ae.consumeSpaces(),R=ae.fetch().text;return E}var tw=function(E){var R=E.parser.settings;if(!R.displayMode)throw new a("{"+E.envName+"} can be used only in display mode.")};function Zd(ae,E,R){var P=E.hskipBeforeAndAfter,O=E.addJot,q=E.cols,ne=E.arraystretch,Se=E.colSeparationType,Fe=E.addEqnNum,Xe=E.singleRow,ut=E.emptySingleRow,Rt=E.maxNumCols,Vt=E.leqno;if(ae.gullet.beginGroup(),Xe||ae.gullet.macros.set("\\cr","\\\\\\relax"),!ne){var jt=ae.gullet.expandMacroAsText("\\arraystretch");if(jt==null)ne=1;else if(ne=parseFloat(jt),!ne||ne<0)throw new a("Invalid \\arraystretch: "+jt)}ae.gullet.beginGroup();var Zt=[],fn=[Zt],vn=[],zn=[];for(zn.push(xN(ae));;){var Kn=ae.parseExpression(!1,Xe?"\\end":"\\\\");ae.gullet.endGroup(),ae.gullet.beginGroup(),Kn={type:"ordgroup",mode:ae.mode,body:Kn},R&&(Kn={type:"styling",mode:ae.mode,style:R,body:[Kn]}),Zt.push(Kn);var er=ae.fetch().text;if(er==="&"){if(Rt&&Zt.length===Rt){if(Xe||Se)throw new a("Too many tab characters: &",ae.nextToken);ae.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}ae.consume()}else if(er==="\\end"){Zt.length===1&&Kn.type==="styling"&&Kn.body[0].body.length===0&&(fn.length>1||!ut)&&fn.pop(),zn.length<fn.length+1&&zn.push([]);break}else if(er==="\\\\"){ae.consume();var Jr=void 0;ae.gullet.future().text!==" "&&(Jr=ae.parseSizeGroup(!0)),vn.push(Jr?Jr.value:null),zn.push(xN(ae)),Zt=[],fn.push(Zt)}else throw new a("Expected & or \\\\ or \\cr or \\end",ae.nextToken)}return ae.gullet.endGroup(),ae.gullet.endGroup(),{type:"array",mode:ae.mode,addJot:O,arraystretch:ne,body:fn,cols:q,rowGaps:vn,hskipBeforeAndAfter:P,hLinesBeforeRow:zn,colSeparationType:Se,addEqnNum:Fe,leqno:Vt}}function cE(ae){return ae.substr(0,1)==="d"?"display":"text"}var Nc=function(E,R){var P,O,q=E.body.length,ne=E.hLinesBeforeRow,Se=0,Fe=new Array(q),Xe=[],ut=Math.max(R.fontMetrics().arrayRuleWidth,R.minRuleThickness),Rt=1/R.fontMetrics().ptPerEm,Vt=5*Rt;if(E.colSeparationType&&E.colSeparationType==="small"){var jt=R.havingStyle(B.SCRIPT).sizeMultiplier;Vt=.2778*(jt/R.sizeMultiplier)}var Zt=E.colSeparationType==="CD"?st({number:3,unit:"ex"},R):12*Rt,fn=3*Rt,vn=E.arraystretch*Zt,zn=.7*vn,Kn=.3*vn,er=0;function Jr(uB){for(var iw=0;iw<uB.length;++iw)iw>0&&(er+=.25),Xe.push({pos:er,isDashed:uB[iw]})}for(Jr(ne[0]),P=0;P<E.body.length;++P){var pi=E.body[P],Ui=zn,li=Kn;Se<pi.length&&(Se=pi.length);var mi=new Array(pi.length);for(O=0;O<pi.length;++O){var ca=Qr(pi[O],R);li<ca.depth&&(li=ca.depth),Ui<ca.height&&(Ui=ca.height),mi[O]=ca}var Ei=E.rowGaps[P],Lo=0;Ei&&(Lo=st(Ei,R),Lo>0&&(Lo+=Kn,li<Lo&&(li=Lo),Lo=0)),E.addJot&&(li+=fn),mi.height=Ui,mi.depth=li,er+=Ui,mi.pos=er,er+=li+Lo,Fe[P]=mi,Jr(ne[P+1])}var Do=er/2+R.fontMetrics().axisHeight,Jd=E.cols||[],Fc=[],ko,am,aB=[];if(E.addEqnNum)for(P=0;P<q;++P){var wE=Fe[P],Cse=wE.pos-Do,xE=ot.makeSpan(["eqn-num"],[],R);xE.depth=wE.depth,xE.height=wE.height,aB.push({type:"elem",elem:xE,shift:Cse})}for(O=0,am=0;O<Se||am<Jd.length;++O,++am){for(var Nu=Jd[am]||{},sB=!0;Nu.type==="separator";){if(sB||(ko=ot.makeSpan(["arraycolsep"],[]),ko.style.width=G(R.fontMetrics().doubleRuleSep),Fc.push(ko)),Nu.separator==="|"||Nu.separator===":"){var Mse=Nu.separator==="|"?"solid":"dashed",sm=ot.makeSpan(["vertical-separator"],[],R);sm.style.height=G(er),sm.style.borderRightWidth=G(ut),sm.style.borderRightStyle=Mse,sm.style.margin="0 "+G(-ut/2);var oB=er-Do;oB&&(sm.style.verticalAlign=G(-oB)),Fc.push(sm)}else throw new a("Invalid separator type: "+Nu.separator);am++,Nu=Jd[am]||{},sB=!1}if(!(O>=Se)){var om=void 0;(O>0||E.hskipBeforeAndAfter)&&(om=v.deflt(Nu.pregap,Vt),om!==0&&(ko=ot.makeSpan(["arraycolsep"],[]),ko.style.width=G(om),Fc.push(ko)));var lm=[];for(P=0;P<q;++P){var nw=Fe[P],rw=nw[O];if(rw){var Tse=nw.pos-Do;rw.depth=nw.depth,rw.height=nw.height,lm.push({type:"elem",elem:rw,shift:Tse})}}lm=ot.makeVList({positionType:"individualShift",children:lm},R),lm=ot.makeSpan(["col-align-"+(Nu.align||"c")],[lm]),Fc.push(lm),(O<Se-1||E.hskipBeforeAndAfter)&&(om=v.deflt(Nu.postgap,Vt),om!==0&&(ko=ot.makeSpan(["arraycolsep"],[]),ko.style.width=G(om),Fc.push(ko)))}}if(Fe=ot.makeSpan(["mtable"],Fc),Xe.length>0){for(var Ase=ot.makeLineSpan("hline",R,ut),Ese=ot.makeLineSpan("hdashline",R,ut),CE=[{type:"elem",elem:Fe,shift:0}];Xe.length>0;){var lB=Xe.pop(),cB=lB.pos-Do;lB.isDashed?CE.push({type:"elem",elem:Ese,shift:cB}):CE.push({type:"elem",elem:Ase,shift:cB})}Fe=ot.makeVList({positionType:"individualShift",children:CE},R)}if(E.addEqnNum){var ME=ot.makeVList({positionType:"individualShift",children:aB},R);return ME=ot.makeSpan(["tag"],[ME],R),ot.makeFragment([Fe,ME])}else return ot.makeSpan(["mord"],[Fe],R)},Zae={c:"center ",l:"left ",r:"right "},Bc=function(E,R){for(var P=[],O=new on.MathNode("mtd",[],["mtr-glue"]),q=new on.MathNode("mtd",[],["mml-eqn-num"]),ne=0;ne<E.body.length;ne++){for(var Se=E.body[ne],Fe=[],Xe=0;Xe<Se.length;Xe++)Fe.push(new on.MathNode("mtd",[Ti(Se[Xe],R)]));E.addEqnNum&&(Fe.unshift(O),Fe.push(O),E.leqno?Fe.unshift(q):Fe.push(q)),P.push(new on.MathNode("mtr",Fe))}var ut=new on.MathNode("mtable",P),Rt=E.arraystretch===.5?.1:.16+E.arraystretch-1+(E.addJot?.09:0);ut.setAttribute("rowspacing",G(Rt));var Vt="",jt="";if(E.cols&&E.cols.length>0){var Zt=E.cols,fn="",vn=!1,zn=0,Kn=Zt.length;Zt[0].type==="separator"&&(Vt+="top ",zn=1),Zt[Zt.length-1].type==="separator"&&(Vt+="bottom ",Kn-=1);for(var er=zn;er<Kn;er++)Zt[er].type==="align"?(jt+=Zae[Zt[er].align],vn&&(fn+="none "),vn=!0):Zt[er].type==="separator"&&vn&&(fn+=Zt[er].separator==="|"?"solid ":"dashed ",vn=!1);ut.setAttribute("columnalign",jt.trim()),/[sd]/.test(fn)&&ut.setAttribute("columnlines",fn.trim())}if(E.colSeparationType==="align"){for(var Jr=E.cols||[],pi="",Ui=1;Ui<Jr.length;Ui++)pi+=Ui%2?"0em ":"1em ";ut.setAttribute("columnspacing",pi.trim())}else E.colSeparationType==="alignat"||E.colSeparationType==="gather"?ut.setAttribute("columnspacing","0em"):E.colSeparationType==="small"?ut.setAttribute("columnspacing","0.2778em"):E.colSeparationType==="CD"?ut.setAttribute("columnspacing","0.5em"):ut.setAttribute("columnspacing","1em");var li="",mi=E.hLinesBeforeRow;Vt+=mi[0].length>0?"left ":"",Vt+=mi[mi.length-1].length>0?"right ":"";for(var ca=1;ca<mi.length-1;ca++)li+=mi[ca].length===0?"none ":mi[ca][0]?"dashed ":"solid ";return/[sd]/.test(li)&&ut.setAttribute("rowlines",li.trim()),Vt!==""&&(ut=new on.MathNode("menclose",[ut]),ut.setAttribute("notation",Vt.trim())),E.arraystretch&&E.arraystretch<1&&(ut=new on.MathNode("mstyle",[ut]),ut.setAttribute("scriptlevel","1")),ut},CN=function(E,R){E.envName.indexOf("ed")===-1&&tw(E);var P=[],O=E.envName.indexOf("at")>-1?"alignat":"align",q=Zd(E.parser,{cols:P,addJot:!0,addEqnNum:E.envName==="align"||E.envName==="alignat",emptySingleRow:!0,colSeparationType:O,maxNumCols:E.envName==="split"?2:void 0,leqno:E.parser.settings.leqno},"display"),ne,Se=0,Fe={type:"ordgroup",mode:E.mode,body:[]};if(R[0]&&R[0].type==="ordgroup"){for(var Xe="",ut=0;ut<R[0].body.length;ut++){var Rt=_r(R[0].body[ut],"textord");Xe+=Rt.text}ne=Number(Xe),Se=ne*2}var Vt=!Se;q.body.forEach(function(vn){for(var zn=1;zn<vn.length;zn+=2){var Kn=_r(vn[zn],"styling"),er=_r(Kn.body[0],"ordgroup");er.body.unshift(Fe)}if(Vt)Se<vn.length&&(Se=vn.length);else{var Jr=vn.length/2;if(ne<Jr)throw new a("Too many math in a row: "+("expected "+ne+", but got "+Jr),vn[0])}});for(var jt=0;jt<Se;++jt){var Zt="r",fn=0;jt%2===1?Zt="l":jt>0&&Vt&&(fn=1),P[jt]={type:"align",align:Zt,pregap:fn,postgap:0}}return q.colSeparationType=Vt?"align":"alignat",q};Oc({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(E,R){var P=ZS(R[0]),O=P?[R[0]]:_r(R[0],"ordgroup").body,q=O.map(function(Se){var Fe=ZA(Se),Xe=Fe.text;if("lcr".indexOf(Xe)!==-1)return{type:"align",align:Xe};if(Xe==="|")return{type:"separator",separator:"|"};if(Xe===":")return{type:"separator",separator:":"};throw new a("Unknown column alignment: "+Xe,Se)}),ne={cols:q,hskipBeforeAndAfter:!0,maxNumCols:q.length};return Zd(E.parser,ne,cE(E.envName))},htmlBuilder:Nc,mathmlBuilder:Bc}),Oc({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler:function(E){var R={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[E.envName.replace("*","")],P="c",O={hskipBeforeAndAfter:!1,cols:[{type:"align",align:P}]};if(E.envName.charAt(E.envName.length-1)==="*"){var q=E.parser;if(q.consumeSpaces(),q.fetch().text==="["){if(q.consume(),q.consumeSpaces(),P=q.fetch().text,"lcr".indexOf(P)===-1)throw new a("Expected l or c or r",q.nextToken);q.consume(),q.consumeSpaces(),q.expect("]"),q.consume(),O.cols=[{type:"align",align:P}]}}var ne=Zd(E.parser,O,cE(E.envName)),Se=Math.max.apply(Math,[0].concat(ne.body.map(function(Fe){return Fe.length})));return ne.cols=new Array(Se).fill({type:"align",align:P}),R?{type:"leftright",mode:E.mode,body:[ne],left:R[0],right:R[1],rightColor:void 0}:ne},htmlBuilder:Nc,mathmlBuilder:Bc}),Oc({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(E){var R={arraystretch:.5},P=Zd(E.parser,R,"script");return P.colSeparationType="small",P},htmlBuilder:Nc,mathmlBuilder:Bc}),Oc({type:"array",names:["subarray"],props:{numArgs:1},handler:function(E,R){var P=ZS(R[0]),O=P?[R[0]]:_r(R[0],"ordgroup").body,q=O.map(function(Se){var Fe=ZA(Se),Xe=Fe.text;if("lc".indexOf(Xe)!==-1)return{type:"align",align:Xe};throw new a("Unknown column alignment: "+Xe,Se)});if(q.length>1)throw new a("{subarray} can contain only one column");var ne={cols:q,hskipBeforeAndAfter:!1,arraystretch:.5};if(ne=Zd(E.parser,ne,"script"),ne.body.length>0&&ne.body[0].length>1)throw new a("{subarray} can contain only one column");return ne},htmlBuilder:Nc,mathmlBuilder:Bc}),Oc({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler:function(E){var R={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},P=Zd(E.parser,R,cE(E.envName));return{type:"leftright",mode:E.mode,body:[P],left:E.envName.indexOf("r")>-1?".":"\\{",right:E.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Nc,mathmlBuilder:Bc}),Oc({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:CN,htmlBuilder:Nc,mathmlBuilder:Bc}),Oc({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler:function(E){v.contains(["gather","gather*"],E.envName)&&tw(E);var R={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",addEqnNum:E.envName==="gather",emptySingleRow:!0,leqno:E.parser.settings.leqno};return Zd(E.parser,R,"display")},htmlBuilder:Nc,mathmlBuilder:Bc}),Oc({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:CN,htmlBuilder:Nc,mathmlBuilder:Bc}),Oc({type:"array",names:["equation","equation*"],props:{numArgs:0},handler:function(E){tw(E);var R={addEqnNum:E.envName==="equation",emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:E.parser.settings.leqno};return Zd(E.parser,R,"display")},htmlBuilder:Nc,mathmlBuilder:Bc}),Oc({type:"array",names:["CD"],props:{numArgs:0},handler:function(E){return tw(E),Bae(E.parser)},htmlBuilder:Nc,mathmlBuilder:Bc}),nn({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(E,R){throw new a(E.funcName+" valid only within array environment")}});var Qae=wN,MN=Qae;nn({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(E,R){var P=E.parser,O=E.funcName,q=R[0];if(q.type!=="ordgroup")throw new a("Invalid environment name",q);for(var ne="",Se=0;Se<q.body.length;++Se)ne+=_r(q.body[Se],"textord").text;if(O==="\\begin"){if(!MN.hasOwnProperty(ne))throw new a("No such environment: "+ne,q);var Fe=MN[ne],Xe=P.parseArguments("\\begin{"+ne+"}",Fe),ut=Xe.args,Rt=Xe.optArgs,Vt={mode:P.mode,envName:ne,parser:P},jt=Fe.handler(Vt,ut,Rt);P.expect("\\end",!1);var Zt=P.nextToken,fn=_r(P.parseFunction(),"environment");if(fn.name!==ne)throw new a("Mismatch: \\begin{"+ne+"} matched by \\end{"+fn.name+"}",Zt);return jt}return{type:"environment",mode:P.mode,name:ne,nameGroup:q}}});var Jae=ot.makeSpan;function TN(ae,E){var R=Ja(ae.body,E,!0);return Jae([ae.mclass],R,E)}function AN(ae,E){var R,P=Po(ae.body,E);return ae.mclass==="minner"?on.newDocumentFragment(P):(ae.mclass==="mord"?ae.isCharacterBox?(R=P[0],R.type="mi"):R=new on.MathNode("mi",P):(ae.isCharacterBox?(R=P[0],R.type="mo"):R=new on.MathNode("mo",P),ae.mclass==="mbin"?(R.attributes.lspace="0.22em",R.attributes.rspace="0.22em"):ae.mclass==="mpunct"?(R.attributes.lspace="0em",R.attributes.rspace="0.17em"):(ae.mclass==="mopen"||ae.mclass==="mclose")&&(R.attributes.lspace="0em",R.attributes.rspace="0em")),R)}nn({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler:function(E,R){var P=E.parser,O=E.funcName,q=R[0];return{type:"mclass",mode:P.mode,mclass:"m"+O.substr(5),body:oi(q),isCharacterBox:v.isCharacterBox(q)}},htmlBuilder:TN,mathmlBuilder:AN});var uE=function(E){var R=E.type==="ordgroup"&&E.body.length?E.body[0]:E;return R.type==="atom"&&(R.family==="bin"||R.family==="rel")?"m"+R.family:"mord"};nn({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(E,R){var P=E.parser;return{type:"mclass",mode:P.mode,mclass:uE(R[0]),body:oi(R[1]),isCharacterBox:v.isCharacterBox(R[1])}}}),nn({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(E,R){var P=E.parser,O=E.funcName,q=R[1],ne=R[0],Se;O!=="\\stackrel"?Se=uE(q):Se="mrel";var Fe={type:"op",mode:q.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:O!=="\\stackrel",body:oi(q)},Xe={type:"supsub",mode:ne.mode,base:Fe,sup:O==="\\underset"?null:ne,sub:O==="\\underset"?ne:null};return{type:"mclass",mode:P.mode,mclass:Se,body:[Xe],isCharacterBox:v.isCharacterBox(Xe)}},htmlBuilder:TN,mathmlBuilder:AN});var EN=function(E,R){var P=E.font,O=R.withFont(P);return Qr(E.body,O)},IN=function(E,R){var P=E.font,O=R.withFont(P);return Ti(E.body,O)},RN={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};nn({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:function(E,R){var P=E.parser,O=E.funcName,q=kr(R[0]),ne=O;return ne in RN&&(ne=RN[ne]),{type:"font",mode:P.mode,font:ne.slice(1),body:q}},htmlBuilder:EN,mathmlBuilder:IN}),nn({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:function(E,R){var P=E.parser,O=R[0],q=v.isCharacterBox(O);return{type:"mclass",mode:P.mode,mclass:uE(O),body:[{type:"font",mode:P.mode,font:"boldsymbol",body:O}],isCharacterBox:q}}}),nn({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:function(E,R){var P=E.parser,O=E.funcName,q=E.breakOnTokenText,ne=P.mode,Se=P.parseExpression(!0,q),Fe="math"+O.slice(1);return{type:"font",mode:ne,font:Fe,body:{type:"ordgroup",mode:P.mode,body:Se}}},htmlBuilder:EN,mathmlBuilder:IN});var PN=function(E,R){var P=R;return E==="display"?P=P.id>=B.SCRIPT.id?P.text():B.DISPLAY:E==="text"&&P.size===B.DISPLAY.size?P=B.TEXT:E==="script"?P=B.SCRIPT:E==="scriptscript"&&(P=B.SCRIPTSCRIPT),P},dE=function(E,R){var P=PN(E.size,R.style),O=P.fracNum(),q=P.fracDen(),ne;ne=R.havingStyle(O);var Se=Qr(E.numer,ne,R);if(E.continued){var Fe=8.5/R.fontMetrics().ptPerEm,Xe=3.5/R.fontMetrics().ptPerEm;Se.height=Se.height<Fe?Fe:Se.height,Se.depth=Se.depth<Xe?Xe:Se.depth}ne=R.havingStyle(q);var ut=Qr(E.denom,ne,R),Rt,Vt,jt;E.hasBarLine?(E.barSize?(Vt=st(E.barSize,R),Rt=ot.makeLineSpan("frac-line",R,Vt)):Rt=ot.makeLineSpan("frac-line",R),Vt=Rt.height,jt=Rt.height):(Rt=null,Vt=0,jt=R.fontMetrics().defaultRuleThickness);var Zt,fn,vn;P.size===B.DISPLAY.size||E.size==="display"?(Zt=R.fontMetrics().num1,Vt>0?fn=3*jt:fn=7*jt,vn=R.fontMetrics().denom1):(Vt>0?(Zt=R.fontMetrics().num2,fn=jt):(Zt=R.fontMetrics().num3,fn=3*jt),vn=R.fontMetrics().denom2);var zn;if(Rt){var er=R.fontMetrics().axisHeight;Zt-Se.depth-(er+.5*Vt)<fn&&(Zt+=fn-(Zt-Se.depth-(er+.5*Vt))),er-.5*Vt-(ut.height-vn)<fn&&(vn+=fn-(er-.5*Vt-(ut.height-vn)));var Jr=-(er-.5*Vt);zn=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ut,shift:vn},{type:"elem",elem:Rt,shift:Jr},{type:"elem",elem:Se,shift:-Zt}]},R)}else{var Kn=Zt-Se.depth-(ut.height-vn);Kn<fn&&(Zt+=.5*(fn-Kn),vn+=.5*(fn-Kn)),zn=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ut,shift:vn},{type:"elem",elem:Se,shift:-Zt}]},R)}ne=R.havingStyle(P),zn.height*=ne.sizeMultiplier/R.sizeMultiplier,zn.depth*=ne.sizeMultiplier/R.sizeMultiplier;var pi;P.size===B.DISPLAY.size?pi=R.fontMetrics().delim1:P.size===B.SCRIPTSCRIPT.size?pi=R.havingStyle(B.SCRIPT).fontMetrics().delim2:pi=R.fontMetrics().delim2;var Ui,li;return E.leftDelim==null?Ui=Ky(R,["mopen"]):Ui=Ou.customSizedDelim(E.leftDelim,pi,!0,R.havingStyle(P),E.mode,["mopen"]),E.continued?li=ot.makeSpan([]):E.rightDelim==null?li=Ky(R,["mclose"]):li=Ou.customSizedDelim(E.rightDelim,pi,!0,R.havingStyle(P),E.mode,["mclose"]),ot.makeSpan(["mord"].concat(ne.sizingClasses(R)),[Ui,ot.makeSpan(["mfrac"],[zn]),li],R)},fE=function(E,R){var P=new on.MathNode("mfrac",[Ti(E.numer,R),Ti(E.denom,R)]);if(!E.hasBarLine)P.setAttribute("linethickness","0px");else if(E.barSize){var O=st(E.barSize,R);P.setAttribute("linethickness",G(O))}var q=PN(E.size,R.style);if(q.size!==R.style.size){P=new on.MathNode("mstyle",[P]);var ne=q.size===B.DISPLAY.size?"true":"false";P.setAttribute("displaystyle",ne),P.setAttribute("scriptlevel","0")}if(E.leftDelim!=null||E.rightDelim!=null){var Se=[];if(E.leftDelim!=null){var Fe=new on.MathNode("mo",[new on.TextNode(E.leftDelim.replace("\\",""))]);Fe.setAttribute("fence","true"),Se.push(Fe)}if(Se.push(P),E.rightDelim!=null){var Xe=new on.MathNode("mo",[new on.TextNode(E.rightDelim.replace("\\",""))]);Xe.setAttribute("fence","true"),Se.push(Xe)}return XA(Se)}return P};nn({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:function(E,R){var P=E.parser,O=E.funcName,q=R[0],ne=R[1],Se,Fe=null,Xe=null,ut="auto";switch(O){case"\\dfrac":case"\\frac":case"\\tfrac":Se=!0;break;case"\\\\atopfrac":Se=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":Se=!1,Fe="(",Xe=")";break;case"\\\\bracefrac":Se=!1,Fe="\\{",Xe="\\}";break;case"\\\\brackfrac":Se=!1,Fe="[",Xe="]";break;default:throw new Error("Unrecognized genfrac command")}switch(O){case"\\dfrac":case"\\dbinom":ut="display";break;case"\\tfrac":case"\\tbinom":ut="text";break}return{type:"genfrac",mode:P.mode,continued:!1,numer:q,denom:ne,hasBarLine:Se,leftDelim:Fe,rightDelim:Xe,size:ut,barSize:null}},htmlBuilder:dE,mathmlBuilder:fE}),nn({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:function(E,R){var P=E.parser;E.funcName;var O=R[0],q=R[1];return{type:"genfrac",mode:P.mode,continued:!0,numer:O,denom:q,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),nn({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(E){var R=E.parser,P=E.funcName,O=E.token,q;switch(P){case"\\over":q="\\frac";break;case"\\choose":q="\\binom";break;case"\\atop":q="\\\\atopfrac";break;case"\\brace":q="\\\\bracefrac";break;case"\\brack":q="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:R.mode,replaceWith:q,token:O}}});var LN=["display","text","script","scriptscript"],DN=function(E){var R=null;return E.length>0&&(R=E,R=R==="."?null:R),R};nn({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler:function(E,R){var P=E.parser,O=R[4],q=R[5],ne=kr(R[0]),Se=ne.type==="atom"&&ne.family==="open"?DN(ne.text):null,Fe=kr(R[1]),Xe=Fe.type==="atom"&&Fe.family==="close"?DN(Fe.text):null,ut=_r(R[2],"size"),Rt,Vt=null;ut.isBlank?Rt=!0:(Vt=ut.value,Rt=Vt.number>0);var jt="auto",Zt=R[3];if(Zt.type==="ordgroup"){if(Zt.body.length>0){var fn=_r(Zt.body[0],"textord");jt=LN[Number(fn.text)]}}else Zt=_r(Zt,"textord"),jt=LN[Number(Zt.text)];return{type:"genfrac",mode:P.mode,numer:O,denom:q,continued:!1,hasBarLine:Rt,barSize:Vt,leftDelim:Se,rightDelim:Xe,size:jt}},htmlBuilder:dE,mathmlBuilder:fE}),nn({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(E,R){var P=E.parser;E.funcName;var O=E.token;return{type:"infix",mode:P.mode,replaceWith:"\\\\abovefrac",size:_r(R[0],"size").value,token:O}}}),nn({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(E,R){var P=E.parser;E.funcName;var O=R[0],q=m(_r(R[1],"infix").size),ne=R[2],Se=q.number>0;return{type:"genfrac",mode:P.mode,numer:O,denom:ne,continued:!1,hasBarLine:Se,barSize:q,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:dE,mathmlBuilder:fE});var kN=function(E,R){var P=R.style,O,q;E.type==="supsub"?(O=E.sup?Qr(E.sup,R.havingStyle(P.sup()),R):Qr(E.sub,R.havingStyle(P.sub()),R),q=_r(E.base,"horizBrace")):q=_r(E,"horizBrace");var ne=Qr(q.base,R.havingBaseStyle(B.DISPLAY)),Se=ku.svgSpan(q,R),Fe;if(q.isOver?(Fe=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ne},{type:"kern",size:.1},{type:"elem",elem:Se}]},R),Fe.children[0].children[0].children[1].classes.push("svg-align")):(Fe=ot.makeVList({positionType:"bottom",positionData:ne.depth+.1+Se.height,children:[{type:"elem",elem:Se},{type:"kern",size:.1},{type:"elem",elem:ne}]},R),Fe.children[0].children[0].children[0].classes.push("svg-align")),O){var Xe=ot.makeSpan(["mord",q.isOver?"mover":"munder"],[Fe],R);q.isOver?Fe=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Xe},{type:"kern",size:.2},{type:"elem",elem:O}]},R):Fe=ot.makeVList({positionType:"bottom",positionData:Xe.depth+.2+O.height+O.depth,children:[{type:"elem",elem:O},{type:"kern",size:.2},{type:"elem",elem:Xe}]},R)}return ot.makeSpan(["mord",q.isOver?"mover":"munder"],[Fe],R)},ese=function(E,R){var P=ku.mathMLnode(E.label);return new on.MathNode(E.isOver?"mover":"munder",[Ti(E.base,R),P])};nn({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(E,R){var P=E.parser,O=E.funcName;return{type:"horizBrace",mode:P.mode,label:O,isOver:/^\\over/.test(O),base:R[0]}},htmlBuilder:kN,mathmlBuilder:ese}),nn({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(E,R){var P=E.parser,O=R[1],q=_r(R[0],"url").url;return P.settings.isTrusted({command:"\\href",url:q})?{type:"href",mode:P.mode,href:q,body:oi(O)}:P.formatUnsupportedCmd("\\href")},htmlBuilder:function(E,R){var P=Ja(E.body,R,!1);return ot.makeAnchor(E.href,[],P,R)},mathmlBuilder:function(E,R){var P=jd(E.body,R);return P instanceof ol||(P=new ol("mrow",[P])),P.setAttribute("href",E.href),P}}),nn({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(E,R){var P=E.parser,O=_r(R[0],"url").url;if(!P.settings.isTrusted({command:"\\url",url:O}))return P.formatUnsupportedCmd("\\url");for(var q=[],ne=0;ne<O.length;ne++){var Se=O[ne];Se==="~"&&(Se="\\textasciitilde"),q.push({type:"textord",mode:"text",text:Se})}var Fe={type:"text",mode:P.mode,font:"\\texttt",body:q};return{type:"href",mode:P.mode,href:O,body:oi(Fe)}}}),nn({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler:function(E,R){var P=E.parser;return{type:"hbox",mode:P.mode,body:oi(R[0])}},htmlBuilder:function(E,R){var P=Ja(E.body,R,!1);return ot.makeFragment(P)},mathmlBuilder:function(E,R){return new on.MathNode("mrow",Po(E.body,R))}}),nn({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:function(E,R){var P=E.parser,O=E.funcName;E.token;var q=_r(R[0],"raw").string,ne=R[1];P.settings.strict&&P.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var Se,Fe={};switch(O){case"\\htmlClass":Fe.class=q,Se={command:"\\htmlClass",class:q};break;case"\\htmlId":Fe.id=q,Se={command:"\\htmlId",id:q};break;case"\\htmlStyle":Fe.style=q,Se={command:"\\htmlStyle",style:q};break;case"\\htmlData":{for(var Xe=q.split(","),ut=0;ut<Xe.length;ut++){var Rt=Xe[ut].split("=");if(Rt.length!==2)throw new a("Error parsing key-value for \\htmlData");Fe["data-"+Rt[0].trim()]=Rt[1].trim()}Se={command:"\\htmlData",attributes:Fe};break}default:throw new Error("Unrecognized html command")}return P.settings.isTrusted(Se)?{type:"html",mode:P.mode,attributes:Fe,body:oi(ne)}:P.formatUnsupportedCmd(O)},htmlBuilder:function(E,R){var P=Ja(E.body,R,!1),O=["enclosing"];E.attributes.class&&O.push.apply(O,E.attributes.class.trim().split(/\s+/));var q=ot.makeSpan(O,P,R);for(var ne in E.attributes)ne!=="class"&&E.attributes.hasOwnProperty(ne)&&q.setAttribute(ne,E.attributes[ne]);return q},mathmlBuilder:function(E,R){return jd(E.body,R)}}),nn({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(E,R){var P=E.parser;return{type:"htmlmathml",mode:P.mode,html:oi(R[0]),mathml:oi(R[1])}},htmlBuilder:function(E,R){var P=Ja(E.html,R,!1);return ot.makeFragment(P)},mathmlBuilder:function(E,R){return jd(E.mathml,R)}});var hE=function(E){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(E))return{number:+E,unit:"bp"};var R=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(E);if(!R)throw new a("Invalid size: '"+E+"' in \\includegraphics");var P={number:+(R[1]+R[2]),unit:R[3]};if(!ft(P))throw new a("Invalid unit: '"+P.unit+"' in \\includegraphics.");return P};nn({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(E,R,P){var O=E.parser,q={number:0,unit:"em"},ne={number:.9,unit:"em"},Se={number:0,unit:"em"},Fe="";if(P[0])for(var Xe=_r(P[0],"raw").string,ut=Xe.split(","),Rt=0;Rt<ut.length;Rt++){var Vt=ut[Rt].split("=");if(Vt.length===2){var jt=Vt[1].trim();switch(Vt[0].trim()){case"alt":Fe=jt;break;case"width":q=hE(jt);break;case"height":ne=hE(jt);break;case"totalheight":Se=hE(jt);break;default:throw new a("Invalid key: '"+Vt[0]+"' in \\includegraphics.")}}}var Zt=_r(R[0],"url").url;return Fe===""&&(Fe=Zt,Fe=Fe.replace(/^.*[\\/]/,""),Fe=Fe.substring(0,Fe.lastIndexOf("."))),O.settings.isTrusted({command:"\\includegraphics",url:Zt})?{type:"includegraphics",mode:O.mode,alt:Fe,width:q,height:ne,totalheight:Se,src:Zt}:O.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(E,R){var P=st(E.height,R),O=0;E.totalheight.number>0&&(O=st(E.totalheight,R)-P);var q=0;E.width.number>0&&(q=st(E.width,R));var ne={height:G(P+O)};q>0&&(ne.width=G(q)),O>0&&(ne.verticalAlign=G(-O));var Se=new Ie(E.src,E.alt,ne);return Se.height=P,Se.depth=O,Se},mathmlBuilder:function(E,R){var P=new on.MathNode("mglyph",[]);P.setAttribute("alt",E.alt);var O=st(E.height,R),q=0;if(E.totalheight.number>0&&(q=st(E.totalheight,R)-O,P.setAttribute("valign",G(-q))),P.setAttribute("height",G(O+q)),E.width.number>0){var ne=st(E.width,R);P.setAttribute("width",G(ne))}return P.setAttribute("src",E.src),P}}),nn({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler:function(E,R){var P=E.parser,O=E.funcName,q=_r(R[0],"size");if(P.settings.strict){var ne=O[1]==="m",Se=q.value.unit==="mu";ne?(Se||P.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+O+" supports only mu units, "+("not "+q.value.unit+" units")),P.mode!=="math"&&P.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+O+" works only in math mode")):Se&&P.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+O+" doesn't support mu units")}return{type:"kern",mode:P.mode,dimension:q.value}},htmlBuilder:function(E,R){return ot.makeGlue(E.dimension,R)},mathmlBuilder:function(E,R){var P=st(E.dimension,R);return new on.SpaceNode(P)}}),nn({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){var P=E.parser,O=E.funcName,q=R[0];return{type:"lap",mode:P.mode,alignment:O.slice(5),body:q}},htmlBuilder:function(E,R){var P;E.alignment==="clap"?(P=ot.makeSpan([],[Qr(E.body,R)]),P=ot.makeSpan(["inner"],[P],R)):P=ot.makeSpan(["inner"],[Qr(E.body,R)]);var O=ot.makeSpan(["fix"],[]),q=ot.makeSpan([E.alignment],[P,O],R),ne=ot.makeSpan(["strut"]);return ne.style.height=G(q.height+q.depth),q.depth&&(ne.style.verticalAlign=G(-q.depth)),q.children.unshift(ne),q=ot.makeSpan(["thinbox"],[q],R),ot.makeSpan(["mord","vbox"],[q],R)},mathmlBuilder:function(E,R){var P=new on.MathNode("mpadded",[Ti(E.body,R)]);if(E.alignment!=="rlap"){var O=E.alignment==="llap"?"-1":"-0.5";P.setAttribute("lspace",O+"width")}return P.setAttribute("width","0px"),P}}),nn({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(E,R){var P=E.funcName,O=E.parser,q=O.mode;O.switchMode("math");var ne=P==="\\("?"\\)":"$",Se=O.parseExpression(!1,ne);return O.expect(ne),O.switchMode(q),{type:"styling",mode:O.mode,style:"text",body:Se}}}),nn({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(E,R){throw new a("Mismatched "+E.funcName)}});var ON=function(E,R){switch(R.style.size){case B.DISPLAY.size:return E.display;case B.TEXT.size:return E.text;case B.SCRIPT.size:return E.script;case B.SCRIPTSCRIPT.size:return E.scriptscript;default:return E.text}};nn({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:function(E,R){var P=E.parser;return{type:"mathchoice",mode:P.mode,display:oi(R[0]),text:oi(R[1]),script:oi(R[2]),scriptscript:oi(R[3])}},htmlBuilder:function(E,R){var P=ON(E,R),O=Ja(P,R,!1);return ot.makeFragment(O)},mathmlBuilder:function(E,R){var P=ON(E,R);return jd(P,R)}});var NN=function(E,R,P,O,q,ne,Se){E=ot.makeSpan([],[E]);var Fe=P&&v.isCharacterBox(P),Xe,ut;if(R){var Rt=Qr(R,O.havingStyle(q.sup()),O);ut={elem:Rt,kern:Math.max(O.fontMetrics().bigOpSpacing1,O.fontMetrics().bigOpSpacing3-Rt.depth)}}if(P){var Vt=Qr(P,O.havingStyle(q.sub()),O);Xe={elem:Vt,kern:Math.max(O.fontMetrics().bigOpSpacing2,O.fontMetrics().bigOpSpacing4-Vt.height)}}var jt;if(ut&&Xe){var Zt=O.fontMetrics().bigOpSpacing5+Xe.elem.height+Xe.elem.depth+Xe.kern+E.depth+Se;jt=ot.makeVList({positionType:"bottom",positionData:Zt,children:[{type:"kern",size:O.fontMetrics().bigOpSpacing5},{type:"elem",elem:Xe.elem,marginLeft:G(-ne)},{type:"kern",size:Xe.kern},{type:"elem",elem:E},{type:"kern",size:ut.kern},{type:"elem",elem:ut.elem,marginLeft:G(ne)},{type:"kern",size:O.fontMetrics().bigOpSpacing5}]},O)}else if(Xe){var fn=E.height-Se;jt=ot.makeVList({positionType:"top",positionData:fn,children:[{type:"kern",size:O.fontMetrics().bigOpSpacing5},{type:"elem",elem:Xe.elem,marginLeft:G(-ne)},{type:"kern",size:Xe.kern},{type:"elem",elem:E}]},O)}else if(ut){var vn=E.depth+Se;jt=ot.makeVList({positionType:"bottom",positionData:vn,children:[{type:"elem",elem:E},{type:"kern",size:ut.kern},{type:"elem",elem:ut.elem,marginLeft:G(ne)},{type:"kern",size:O.fontMetrics().bigOpSpacing5}]},O)}else return E;var zn=[jt];if(Xe&&ne!==0&&!Fe){var Kn=ot.makeSpan(["mspace"],[],O);Kn.style.marginRight=G(ne),zn.unshift(Kn)}return ot.makeSpan(["mop","op-limits"],zn,O)},BN=["\\smallint"],im=function(E,R){var P,O,q=!1,ne;E.type==="supsub"?(P=E.sup,O=E.sub,ne=_r(E.base,"op"),q=!0):ne=_r(E,"op");var Se=R.style,Fe=!1;Se.size===B.DISPLAY.size&&ne.symbol&&!v.contains(BN,ne.name)&&(Fe=!0);var Xe;if(ne.symbol){var ut=Fe?"Size2-Regular":"Size1-Regular",Rt="";if((ne.name==="\\oiint"||ne.name==="\\oiiint")&&(Rt=ne.name.substr(1),ne.name=Rt==="oiint"?"\\iint":"\\iiint"),Xe=ot.makeSymbol(ne.name,ut,"math",R,["mop","op-symbol",Fe?"large-op":"small-op"]),Rt.length>0){var Vt=Xe.italic,jt=ot.staticSvg(Rt+"Size"+(Fe?"2":"1"),R);Xe=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Xe,shift:0},{type:"elem",elem:jt,shift:Fe?.08:0}]},R),ne.name="\\"+Rt,Xe.classes.unshift("mop"),Xe.italic=Vt}}else if(ne.body){var Zt=Ja(ne.body,R,!0);Zt.length===1&&Zt[0]instanceof nt?(Xe=Zt[0],Xe.classes[0]="mop"):Xe=ot.makeSpan(["mop"],Zt,R)}else{for(var fn=[],vn=1;vn<ne.name.length;vn++)fn.push(ot.mathsym(ne.name[vn],ne.mode,R));Xe=ot.makeSpan(["mop"],fn,R)}var zn=0,Kn=0;return(Xe instanceof nt||ne.name==="\\oiint"||ne.name==="\\oiiint")&&!ne.suppressBaseShift&&(zn=(Xe.height-Xe.depth)/2-R.fontMetrics().axisHeight,Kn=Xe.italic),q?NN(Xe,P,O,R,Se,Kn,zn):(zn&&(Xe.style.position="relative",Xe.style.top=G(zn)),Xe)},Zy=function(E,R){var P;if(E.symbol)P=new ol("mo",[ll(E.name,E.mode)]),v.contains(BN,E.name)&&P.setAttribute("largeop","false");else if(E.body)P=new ol("mo",Po(E.body,R));else{P=new ol("mi",[new Yy(E.name.slice(1))]);var O=new ol("mo",[ll("","text")]);E.parentIsSupSub?P=new ol("mrow",[P,O]):P=tN([P,O])}return P},tse={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};nn({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:function(E,R){var P=E.parser,O=E.funcName,q=O;return q.length===1&&(q=tse[q]),{type:"op",mode:P.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:q}},htmlBuilder:im,mathmlBuilder:Zy}),nn({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:function(E,R){var P=E.parser,O=R[0];return{type:"op",mode:P.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:oi(O)}},htmlBuilder:im,mathmlBuilder:Zy});var nse={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};nn({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(E){var R=E.parser,P=E.funcName;return{type:"op",mode:R.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:P}},htmlBuilder:im,mathmlBuilder:Zy}),nn({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(E){var R=E.parser,P=E.funcName;return{type:"op",mode:R.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:P}},htmlBuilder:im,mathmlBuilder:Zy}),nn({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler:function(E){var R=E.parser,P=E.funcName,O=P;return O.length===1&&(O=nse[O]),{type:"op",mode:R.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:O}},htmlBuilder:im,mathmlBuilder:Zy});var FN={};function ze(ae,E){FN[ae]=E}var zN=function(E,R){var P,O,q=!1,ne;E.type==="supsub"?(P=E.sup,O=E.sub,ne=_r(E.base,"operatorname"),q=!0):ne=_r(E,"operatorname");var Se;if(ne.body.length>0){for(var Fe=ne.body.map(function(Vt){var jt=Vt.text;return typeof jt=="string"?{type:"textord",mode:Vt.mode,text:jt}:Vt}),Xe=Ja(Fe,R.withFont("mathrm"),!0),ut=0;ut<Xe.length;ut++){var Rt=Xe[ut];Rt instanceof nt&&(Rt.text=Rt.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}Se=ot.makeSpan(["mop"],Xe,R)}else Se=ot.makeSpan(["mop"],[],R);return q?NN(Se,P,O,R,R.style,0,0):Se},rse=function(E,R){for(var P=Po(E.body,R.withFont("mathrm")),O=!0,q=0;q<P.length;q++){var ne=P[q];if(!(ne instanceof on.SpaceNode))if(ne instanceof on.MathNode)switch(ne.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var Se=ne.children[0];ne.children.length===1&&Se instanceof on.TextNode?Se.text=Se.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):O=!1;break}default:O=!1}else O=!1}if(O){var Fe=P.map(function(Rt){return Rt.toText()}).join("");P=[new on.TextNode(Fe)]}var Xe=new on.MathNode("mi",P);Xe.setAttribute("mathvariant","normal");var ut=new on.MathNode("mo",[ll("","text")]);return E.parentIsSupSub?new on.MathNode("mrow",[Xe,ut]):on.newDocumentFragment([Xe,ut])};nn({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:function(E,R){var P=E.parser,O=E.funcName,q=R[0];return{type:"operatorname",mode:P.mode,body:oi(q),alwaysHandleSupSub:O==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:zN,mathmlBuilder:rse}),ze("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Sr({type:"ordgroup",htmlBuilder:function(E,R){return E.semisimple?ot.makeFragment(Ja(E.body,R,!1)):ot.makeSpan(["mord"],Ja(E.body,R,!0),R)},mathmlBuilder:function(E,R){return jd(E.body,R,!0)}}),nn({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(E,R){var P=E.parser,O=R[0];return{type:"overline",mode:P.mode,body:O}},htmlBuilder:function(E,R){var P=Qr(E.body,R.havingCrampedStyle()),O=ot.makeLineSpan("overline-line",R),q=R.fontMetrics().defaultRuleThickness,ne=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P},{type:"kern",size:3*q},{type:"elem",elem:O},{type:"kern",size:q}]},R);return ot.makeSpan(["mord","overline"],[ne],R)},mathmlBuilder:function(E,R){var P=new on.MathNode("mo",[new on.TextNode("")]);P.setAttribute("stretchy","true");var O=new on.MathNode("mover",[Ti(E.body,R),P]);return O.setAttribute("accent","true"),O}}),nn({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){var P=E.parser,O=R[0];return{type:"phantom",mode:P.mode,body:oi(O)}},htmlBuilder:function(E,R){var P=Ja(E.body,R.withPhantom(),!1);return ot.makeFragment(P)},mathmlBuilder:function(E,R){var P=Po(E.body,R);return new on.MathNode("mphantom",P)}}),nn({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){var P=E.parser,O=R[0];return{type:"hphantom",mode:P.mode,body:O}},htmlBuilder:function(E,R){var P=ot.makeSpan([],[Qr(E.body,R.withPhantom())]);if(P.height=0,P.depth=0,P.children)for(var O=0;O<P.children.length;O++)P.children[O].height=0,P.children[O].depth=0;return P=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P}]},R),ot.makeSpan(["mord"],[P],R)},mathmlBuilder:function(E,R){var P=Po(oi(E.body),R),O=new on.MathNode("mphantom",P),q=new on.MathNode("mpadded",[O]);return q.setAttribute("height","0px"),q.setAttribute("depth","0px"),q}}),nn({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){var P=E.parser,O=R[0];return{type:"vphantom",mode:P.mode,body:O}},htmlBuilder:function(E,R){var P=ot.makeSpan(["inner"],[Qr(E.body,R.withPhantom())]),O=ot.makeSpan(["fix"],[]);return ot.makeSpan(["mord","rlap"],[P,O],R)},mathmlBuilder:function(E,R){var P=Po(oi(E.body),R),O=new on.MathNode("mphantom",P),q=new on.MathNode("mpadded",[O]);return q.setAttribute("width","0px"),q}}),nn({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(E,R){var P=E.parser,O=_r(R[0],"size").value,q=R[1];return{type:"raisebox",mode:P.mode,dy:O,body:q}},htmlBuilder:function(E,R){var P=Qr(E.body,R),O=st(E.dy,R);return ot.makeVList({positionType:"shift",positionData:-O,children:[{type:"elem",elem:P}]},R)},mathmlBuilder:function(E,R){var P=new on.MathNode("mpadded",[Ti(E.body,R)]),O=E.dy.number+E.dy.unit;return P.setAttribute("voffset",O),P}}),nn({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(E,R,P){var O=E.parser,q=P[0],ne=_r(R[0],"size"),Se=_r(R[1],"size");return{type:"rule",mode:O.mode,shift:q&&_r(q,"size").value,width:ne.value,height:Se.value}},htmlBuilder:function(E,R){var P=ot.makeSpan(["mord","rule"],[],R),O=st(E.width,R),q=st(E.height,R),ne=E.shift?st(E.shift,R):0;return P.style.borderRightWidth=G(O),P.style.borderTopWidth=G(q),P.style.bottom=G(ne),P.width=O,P.height=q+ne,P.depth=-ne,P.maxFontSize=q*1.125*R.sizeMultiplier,P},mathmlBuilder:function(E,R){var P=st(E.width,R),O=st(E.height,R),q=E.shift?st(E.shift,R):0,ne=R.color&&R.getColor()||"black",Se=new on.MathNode("mspace");Se.setAttribute("mathbackground",ne),Se.setAttribute("width",G(P)),Se.setAttribute("height",G(O));var Fe=new on.MathNode("mpadded",[Se]);return q>=0?Fe.setAttribute("height",G(q)):(Fe.setAttribute("height",G(q)),Fe.setAttribute("depth",G(-q))),Fe.setAttribute("voffset",G(q)),Fe}});function UN(ae,E,R){for(var P=Ja(ae,E,!1),O=E.sizeMultiplier/R.sizeMultiplier,q=0;q<P.length;q++){var ne=P[q].classes.indexOf("sizing");ne<0?Array.prototype.push.apply(P[q].classes,E.sizingClasses(R)):P[q].classes[ne+1]==="reset-size"+E.size&&(P[q].classes[ne+1]="reset-size"+R.size),P[q].height*=O,P[q].depth*=O}return ot.makeFragment(P)}var HN=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],ise=function(E,R){var P=R.havingSize(E.size);return UN(E.body,P,R)};nn({type:"sizing",names:HN,props:{numArgs:0,allowedInText:!0},handler:function(E,R){var P=E.breakOnTokenText,O=E.funcName,q=E.parser,ne=q.parseExpression(!1,P);return{type:"sizing",mode:q.mode,size:HN.indexOf(O)+1,body:ne}},htmlBuilder:ise,mathmlBuilder:function(E,R){var P=R.havingSize(E.size),O=Po(E.body,P),q=new on.MathNode("mstyle",O);return q.setAttribute("mathsize",G(P.sizeMultiplier)),q}}),nn({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(E,R,P){var O=E.parser,q=!1,ne=!1,Se=P[0]&&_r(P[0],"ordgroup");if(Se)for(var Fe="",Xe=0;Xe<Se.body.length;++Xe){var ut=Se.body[Xe];if(Fe=ut.text,Fe==="t")q=!0;else if(Fe==="b")ne=!0;else{q=!1,ne=!1;break}}else q=!0,ne=!0;var Rt=R[0];return{type:"smash",mode:O.mode,body:Rt,smashHeight:q,smashDepth:ne}},htmlBuilder:function(E,R){var P=ot.makeSpan([],[Qr(E.body,R)]);if(!E.smashHeight&&!E.smashDepth)return P;if(E.smashHeight&&(P.height=0,P.children))for(var O=0;O<P.children.length;O++)P.children[O].height=0;if(E.smashDepth&&(P.depth=0,P.children))for(var q=0;q<P.children.length;q++)P.children[q].depth=0;var ne=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P}]},R);return ot.makeSpan(["mord"],[ne],R)},mathmlBuilder:function(E,R){var P=new on.MathNode("mpadded",[Ti(E.body,R)]);return E.smashHeight&&P.setAttribute("height","0px"),E.smashDepth&&P.setAttribute("depth","0px"),P}}),nn({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(E,R,P){var O=E.parser,q=P[0],ne=R[0];return{type:"sqrt",mode:O.mode,body:ne,index:q}},htmlBuilder:function(E,R){var P=Qr(E.body,R.havingCrampedStyle());P.height===0&&(P.height=R.fontMetrics().xHeight),P=ot.wrapFragment(P,R);var O=R.fontMetrics(),q=O.defaultRuleThickness,ne=q;R.style.id<B.TEXT.id&&(ne=R.fontMetrics().xHeight);var Se=q+ne/4,Fe=P.height+P.depth+Se+q,Xe=Ou.sqrtImage(Fe,R),ut=Xe.span,Rt=Xe.ruleWidth,Vt=Xe.advanceWidth,jt=ut.height-Rt;jt>P.height+P.depth+Se&&(Se=(Se+jt-P.height-P.depth)/2);var Zt=ut.height-P.height-Se-Rt;P.style.paddingLeft=G(Vt);var fn=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P,wrapperClasses:["svg-align"]},{type:"kern",size:-(P.height+Zt)},{type:"elem",elem:ut},{type:"kern",size:Rt}]},R);if(E.index){var vn=R.havingStyle(B.SCRIPTSCRIPT),zn=Qr(E.index,vn,R),Kn=.6*(fn.height-fn.depth),er=ot.makeVList({positionType:"shift",positionData:-Kn,children:[{type:"elem",elem:zn}]},R),Jr=ot.makeSpan(["root"],[er]);return ot.makeSpan(["mord","sqrt"],[Jr,fn],R)}else return ot.makeSpan(["mord","sqrt"],[fn],R)},mathmlBuilder:function(E,R){var P=E.body,O=E.index;return O?new on.MathNode("mroot",[Ti(P,R),Ti(O,R)]):new on.MathNode("msqrt",[Ti(P,R)])}});var VN={display:B.DISPLAY,text:B.TEXT,script:B.SCRIPT,scriptscript:B.SCRIPTSCRIPT};nn({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(E,R){var P=E.breakOnTokenText,O=E.funcName,q=E.parser,ne=q.parseExpression(!0,P),Se=O.slice(1,O.length-5);return{type:"styling",mode:q.mode,style:Se,body:ne}},htmlBuilder:function(E,R){var P=VN[E.style],O=R.havingStyle(P).withFont("");return UN(E.body,O,R)},mathmlBuilder:function(E,R){var P=VN[E.style],O=R.havingStyle(P),q=Po(E.body,O),ne=new on.MathNode("mstyle",q),Se={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},Fe=Se[E.style];return ne.setAttribute("scriptlevel",Fe[0]),ne.setAttribute("displaystyle",Fe[1]),ne}});var ase=function(E,R){var P=E.base;if(P)if(P.type==="op"){var O=P.limits&&(R.style.size===B.DISPLAY.size||P.alwaysHandleSupSub);return O?im:null}else if(P.type==="operatorname"){var q=P.alwaysHandleSupSub&&(R.style.size===B.DISPLAY.size||P.limits);return q?zN:null}else{if(P.type==="accent")return v.isCharacterBox(P.base)?QA:null;if(P.type==="horizBrace"){var ne=!E.sub;return ne===P.isOver?kN:null}else return null}else return null};Sr({type:"supsub",htmlBuilder:function(E,R){var P=ase(E,R);if(P)return P(E,R);var O=E.base,q=E.sup,ne=E.sub,Se=Qr(O,R),Fe,Xe,ut=R.fontMetrics(),Rt=0,Vt=0,jt=O&&v.isCharacterBox(O);if(q){var Zt=R.havingStyle(R.style.sup());Fe=Qr(q,Zt,R),jt||(Rt=Se.height-Zt.fontMetrics().supDrop*Zt.sizeMultiplier/R.sizeMultiplier)}if(ne){var fn=R.havingStyle(R.style.sub());Xe=Qr(ne,fn,R),jt||(Vt=Se.depth+fn.fontMetrics().subDrop*fn.sizeMultiplier/R.sizeMultiplier)}var vn;R.style===B.DISPLAY?vn=ut.sup1:R.style.cramped?vn=ut.sup3:vn=ut.sup2;var zn=R.sizeMultiplier,Kn=G(.5/ut.ptPerEm/zn),er=null;if(Xe){var Jr=E.base&&E.base.type==="op"&&E.base.name&&(E.base.name==="\\oiint"||E.base.name==="\\oiiint");(Se instanceof nt||Jr)&&(er=G(-Se.italic))}var pi;if(Fe&&Xe){Rt=Math.max(Rt,vn,Fe.depth+.25*ut.xHeight),Vt=Math.max(Vt,ut.sub2);var Ui=ut.defaultRuleThickness,li=4*Ui;if(Rt-Fe.depth-(Xe.height-Vt)<li){Vt=li-(Rt-Fe.depth)+Xe.height;var mi=.8*ut.xHeight-(Rt-Fe.depth);mi>0&&(Rt+=mi,Vt-=mi)}var ca=[{type:"elem",elem:Xe,shift:Vt,marginRight:Kn,marginLeft:er},{type:"elem",elem:Fe,shift:-Rt,marginRight:Kn}];pi=ot.makeVList({positionType:"individualShift",children:ca},R)}else if(Xe){Vt=Math.max(Vt,ut.sub1,Xe.height-.8*ut.xHeight);var Ei=[{type:"elem",elem:Xe,marginLeft:er,marginRight:Kn}];pi=ot.makeVList({positionType:"shift",positionData:Vt,children:Ei},R)}else if(Fe)Rt=Math.max(Rt,vn,Fe.depth+.25*ut.xHeight),pi=ot.makeVList({positionType:"shift",positionData:-Rt,children:[{type:"elem",elem:Fe,marginRight:Kn}]},R);else throw new Error("supsub must have either sup or sub.");var Lo=KA(Se,"right")||"mord";return ot.makeSpan([Lo],[Se,ot.makeSpan(["msupsub"],[pi])],R)},mathmlBuilder:function(E,R){var P=!1,O,q;E.base&&E.base.type==="horizBrace"&&(q=!!E.sup,q===E.base.isOver&&(P=!0,O=E.base.isOver)),E.base&&(E.base.type==="op"||E.base.type==="operatorname")&&(E.base.parentIsSupSub=!0);var ne=[Ti(E.base,R)];E.sub&&ne.push(Ti(E.sub,R)),E.sup&&ne.push(Ti(E.sup,R));var Se;if(P)Se=O?"mover":"munder";else if(E.sub)if(E.sup){var ut=E.base;ut&&ut.type==="op"&&ut.limits&&R.style===B.DISPLAY||ut&&ut.type==="operatorname"&&ut.alwaysHandleSupSub&&(R.style===B.DISPLAY||ut.limits)?Se="munderover":Se="msubsup"}else{var Xe=E.base;Xe&&Xe.type==="op"&&Xe.limits&&(R.style===B.DISPLAY||Xe.alwaysHandleSupSub)||Xe&&Xe.type==="operatorname"&&Xe.alwaysHandleSupSub&&(Xe.limits||R.style===B.DISPLAY)?Se="munder":Se="msub"}else{var Fe=E.base;Fe&&Fe.type==="op"&&Fe.limits&&(R.style===B.DISPLAY||Fe.alwaysHandleSupSub)||Fe&&Fe.type==="operatorname"&&Fe.alwaysHandleSupSub&&(Fe.limits||R.style===B.DISPLAY)?Se="mover":Se="msup"}return new on.MathNode(Se,ne)}}),Sr({type:"atom",htmlBuilder:function(E,R){return ot.mathsym(E.text,E.mode,R,["m"+E.family])},mathmlBuilder:function(E,R){var P=new on.MathNode("mo",[ll(E.text,E.mode)]);if(E.family==="bin"){var O=jA(E,R);O==="bold-italic"&&P.setAttribute("mathvariant",O)}else E.family==="punct"?P.setAttribute("separator","true"):(E.family==="open"||E.family==="close")&&P.setAttribute("stretchy","false");return P}});var $N={mi:"italic",mn:"normal",mtext:"normal"};Sr({type:"mathord",htmlBuilder:function(E,R){return ot.makeOrd(E,R,"mathord")},mathmlBuilder:function(E,R){var P=new on.MathNode("mi",[ll(E.text,E.mode,R)]),O=jA(E,R)||"italic";return O!==$N[P.type]&&P.setAttribute("mathvariant",O),P}}),Sr({type:"textord",htmlBuilder:function(E,R){return ot.makeOrd(E,R,"textord")},mathmlBuilder:function(E,R){var P=ll(E.text,E.mode,R),O=jA(E,R)||"normal",q;return E.mode==="text"?q=new on.MathNode("mtext",[P]):/[0-9]/.test(E.text)?q=new on.MathNode("mn",[P]):E.text==="\\prime"?q=new on.MathNode("mo",[P]):q=new on.MathNode("mi",[P]),O!==$N[q.type]&&q.setAttribute("mathvariant",O),q}});var pE={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},mE={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Sr({type:"spacing",htmlBuilder:function(E,R){if(mE.hasOwnProperty(E.text)){var P=mE[E.text].className||"";if(E.mode==="text"){var O=ot.makeOrd(E,R,"textord");return O.classes.push(P),O}else return ot.makeSpan(["mspace",P],[ot.mathsym(E.text,E.mode,R)],R)}else{if(pE.hasOwnProperty(E.text))return ot.makeSpan(["mspace",pE[E.text]],[],R);throw new a('Unknown type of space "'+E.text+'"')}},mathmlBuilder:function(E,R){var P;if(mE.hasOwnProperty(E.text))P=new on.MathNode("mtext",[new on.TextNode("")]);else{if(pE.hasOwnProperty(E.text))return new on.MathNode("mspace");throw new a('Unknown type of space "'+E.text+'"')}return P}});var GN=function(){var E=new on.MathNode("mtd",[]);return E.setAttribute("width","50%"),E};Sr({type:"tag",mathmlBuilder:function(E,R){var P=new on.MathNode("mtable",[new on.MathNode("mtr",[GN(),new on.MathNode("mtd",[jd(E.body,R)]),GN(),new on.MathNode("mtd",[jd(E.tag,R)])])]);return P.setAttribute("width","100%"),P}});var WN={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},qN={"\\textbf":"textbf","\\textmd":"textmd"},sse={"\\textit":"textit","\\textup":"textup"},KN=function(E,R){var P=E.font;return P?WN[P]?R.withTextFontFamily(WN[P]):qN[P]?R.withTextFontWeight(qN[P]):R.withTextFontShape(sse[P]):R};nn({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler:function(E,R){var P=E.parser,O=E.funcName,q=R[0];return{type:"text",mode:P.mode,body:oi(q),font:O}},htmlBuilder:function(E,R){var P=KN(E,R),O=Ja(E.body,P,!0);return ot.makeSpan(["mord","text"],O,P)},mathmlBuilder:function(E,R){var P=KN(E,R);return jd(E.body,P)}}),nn({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){var P=E.parser;return{type:"underline",mode:P.mode,body:R[0]}},htmlBuilder:function(E,R){var P=Qr(E.body,R),O=ot.makeLineSpan("underline-line",R),q=R.fontMetrics().defaultRuleThickness,ne=ot.makeVList({positionType:"top",positionData:P.height,children:[{type:"kern",size:q},{type:"elem",elem:O},{type:"kern",size:3*q},{type:"elem",elem:P}]},R);return ot.makeSpan(["mord","underline"],[ne],R)},mathmlBuilder:function(E,R){var P=new on.MathNode("mo",[new on.TextNode("")]);P.setAttribute("stretchy","true");var O=new on.MathNode("munder",[Ti(E.body,R),P]);return O.setAttribute("accentunder","true"),O}}),nn({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler:function(E,R){var P=E.parser;return{type:"vcenter",mode:P.mode,body:R[0]}},htmlBuilder:function(E,R){var P=Qr(E.body,R),O=R.fontMetrics().axisHeight,q=.5*(P.height-O-(P.depth+O));return ot.makeVList({positionType:"shift",positionData:q,children:[{type:"elem",elem:P}]},R)},mathmlBuilder:function(E,R){return new on.MathNode("mpadded",[Ti(E.body,R)],["vcenter"])}}),nn({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(E,R,P){throw new a("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(E,R){for(var P=YN(E),O=[],q=R.havingStyle(R.style.text()),ne=0;ne<P.length;ne++){var Se=P[ne];Se==="~"&&(Se="\\textasciitilde"),O.push(ot.makeSymbol(Se,"Typewriter-Regular",E.mode,q,["mord","texttt"]))}return ot.makeSpan(["mord","text"].concat(q.sizingClasses(R)),ot.tryCombineChars(O),q)},mathmlBuilder:function(E,R){var P=new on.TextNode(YN(E)),O=new on.MathNode("mtext",[P]);return O.setAttribute("mathvariant","monospace"),O}});var YN=function(E){return E.body.replace(/ /g,E.star?"":"")},ose=Jn,Qd=ose,Ql=function(){function ae(E,R,P){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=E,this.start=R,this.end=P}return ae.range=function(R,P){return P?!R||!R.loc||!P.loc||R.loc.lexer!==P.loc.lexer?null:new ae(R.loc.lexer,R.loc.start,P.loc.end):R&&R.loc},ae}(),Vh=function(){function ae(R,P){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=R,this.loc=P}var E=ae.prototype;return E.range=function(P,O){return new ae(O,Ql.range(this,P))},ae}(),XN=`[ \r
	]`,lse="\\\\[a-zA-Z@]+",cse="\\\\[^\uD800-\uDFFF]",use="("+lse+")"+XN+"*",dse=`\\\\(
|[ \r	]+
?)[ \r	]*`,vE="[-]",fse=new RegExp(vE+"+$"),hse="("+XN+"+)|"+(dse+"|")+"([!-\\[\\]---]"+(vE+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(vE+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+use)+("|"+cse+")"),jN=function(){function ae(R,P){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=R,this.settings=P,this.tokenRegex=new RegExp(hse,"g"),this.catcodes={"%":14,"~":13}}var E=ae.prototype;return E.setCatcode=function(P,O){this.catcodes[P]=O},E.lex=function(){var P=this.input,O=this.tokenRegex.lastIndex;if(O===P.length)return new Vh("EOF",new Ql(this,O,O));var q=this.tokenRegex.exec(P);if(q===null||q.index!==O)throw new a("Unexpected character: '"+P[O]+"'",new Vh(P[O],new Ql(this,O,O+1)));var ne=q[6]||q[3]||(q[2]?"\\ ":" ");if(this.catcodes[ne]===14){var Se=P.indexOf(`
`,this.tokenRegex.lastIndex);return Se===-1?(this.tokenRegex.lastIndex=P.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=Se+1,this.lex()}return new Vh(ne,new Ql(this,O,this.tokenRegex.lastIndex))},ae}(),pse=function(){function ae(R,P){R===void 0&&(R={}),P===void 0&&(P={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=P,this.builtins=R,this.undefStack=[]}var E=ae.prototype;return E.beginGroup=function(){this.undefStack.push({})},E.endGroup=function(){if(this.undefStack.length===0)throw new a("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var P=this.undefStack.pop();for(var O in P)P.hasOwnProperty(O)&&(P[O]===void 0?delete this.current[O]:this.current[O]=P[O])},E.endGroups=function(){for(;this.undefStack.length>0;)this.endGroup()},E.has=function(P){return this.current.hasOwnProperty(P)||this.builtins.hasOwnProperty(P)},E.get=function(P){return this.current.hasOwnProperty(P)?this.current[P]:this.builtins[P]},E.set=function(P,O,q){if(q===void 0&&(q=!1),q){for(var ne=0;ne<this.undefStack.length;ne++)delete this.undefStack[ne][P];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][P]=O)}else{var Se=this.undefStack[this.undefStack.length-1];Se&&!Se.hasOwnProperty(P)&&(Se[P]=this.current[P])}this.current[P]=O},ae}(),mse=FN,vse=mse;ze("\\noexpand",function(ae){var E=ae.popToken();return ae.isExpandable(E.text)&&(E.noexpand=!0,E.treatAsRelax=!0),{tokens:[E],numArgs:0}}),ze("\\expandafter",function(ae){var E=ae.popToken();return ae.expandOnce(!0),{tokens:[E],numArgs:0}}),ze("\\@firstoftwo",function(ae){var E=ae.consumeArgs(2);return{tokens:E[0],numArgs:0}}),ze("\\@secondoftwo",function(ae){var E=ae.consumeArgs(2);return{tokens:E[1],numArgs:0}}),ze("\\@ifnextchar",function(ae){var E=ae.consumeArgs(3);ae.consumeSpaces();var R=ae.future();return E[0].length===1&&E[0][0].text===R.text?{tokens:E[1],numArgs:0}:{tokens:E[2],numArgs:0}}),ze("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),ze("\\TextOrMath",function(ae){var E=ae.consumeArgs(2);return ae.mode==="text"?{tokens:E[0],numArgs:0}:{tokens:E[1],numArgs:0}});var ZN={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ze("\\char",function(ae){var E=ae.popToken(),R,P="";if(E.text==="'")R=8,E=ae.popToken();else if(E.text==='"')R=16,E=ae.popToken();else if(E.text==="`")if(E=ae.popToken(),E.text[0]==="\\")P=E.text.charCodeAt(1);else{if(E.text==="EOF")throw new a("\\char` missing argument");P=E.text.charCodeAt(0)}else R=10;if(R){if(P=ZN[E.text],P==null||P>=R)throw new a("Invalid base-"+R+" digit "+E.text);for(var O;(O=ZN[ae.future().text])!=null&&O<R;)P*=R,P+=O,ae.popToken()}return"\\@char{"+P+"}"});var gE=function(E,R,P){var O=E.consumeArg().tokens;if(O.length!==1)throw new a("\\newcommand's first argument must be a macro name");var q=O[0].text,ne=E.isDefined(q);if(ne&&!R)throw new a("\\newcommand{"+q+"} attempting to redefine "+(q+"; use \\renewcommand"));if(!ne&&!P)throw new a("\\renewcommand{"+q+"} when command "+q+" does not yet exist; use \\newcommand");var Se=0;if(O=E.consumeArg().tokens,O.length===1&&O[0].text==="["){for(var Fe="",Xe=E.expandNextToken();Xe.text!=="]"&&Xe.text!=="EOF";)Fe+=Xe.text,Xe=E.expandNextToken();if(!Fe.match(/^\s*[0-9]+\s*$/))throw new a("Invalid number of arguments: "+Fe);Se=parseInt(Fe),O=E.consumeArg().tokens}return E.macros.set(q,{tokens:O,numArgs:Se}),""};ze("\\newcommand",function(ae){return gE(ae,!1,!0)}),ze("\\renewcommand",function(ae){return gE(ae,!0,!1)}),ze("\\providecommand",function(ae){return gE(ae,!0,!0)}),ze("\\message",function(ae){var E=ae.consumeArgs(1)[0];return console.log(E.reverse().map(function(R){return R.text}).join("")),""}),ze("\\errmessage",function(ae){var E=ae.consumeArgs(1)[0];return console.error(E.reverse().map(function(R){return R.text}).join("")),""}),ze("\\show",function(ae){var E=ae.popToken(),R=E.text;return console.log(E,ae.macros.get(R),Qd[R],jn.math[R],jn.text[R]),""}),ze("\\bgroup","{"),ze("\\egroup","}"),ze("~","\\nobreakspace"),ze("\\lq","`"),ze("\\rq","'"),ze("\\aa","\\r a"),ze("\\AA","\\r A"),ze("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),ze("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),ze("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),ze("","\\mathscr{B}"),ze("","\\mathscr{E}"),ze("","\\mathscr{F}"),ze("","\\mathscr{H}"),ze("","\\mathscr{I}"),ze("","\\mathscr{L}"),ze("","\\mathscr{M}"),ze("","\\mathscr{R}"),ze("","\\mathfrak{C}"),ze("","\\mathfrak{H}"),ze("","\\mathfrak{Z}"),ze("\\Bbbk","\\Bbb{k}"),ze("","\\cdotp"),ze("\\llap","\\mathllap{\\textrm{#1}}"),ze("\\rlap","\\mathrlap{\\textrm{#1}}"),ze("\\clap","\\mathclap{\\textrm{#1}}"),ze("\\mathstrut","\\vphantom{(}"),ze("\\underbar","\\underline{\\text{#1}}"),ze("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),ze("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),ze("\\ne","\\neq"),ze("","\\neq"),ze("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),ze("","\\notin"),ze("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),ze("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),ze("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),ze("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),ze("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),ze("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),ze("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),ze("","\\perp"),ze("","\\mathclose{!\\mkern-0.8mu!}"),ze("","\\notni"),ze("","\\ulcorner"),ze("","\\urcorner"),ze("","\\llcorner"),ze("","\\lrcorner"),ze("","\\copyright"),ze("","\\textregistered"),ze("","\\textregistered"),ze("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),ze("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),ze("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),ze("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),ze("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),ze("","\\vdots"),ze("\\varGamma","\\mathit{\\Gamma}"),ze("\\varDelta","\\mathit{\\Delta}"),ze("\\varTheta","\\mathit{\\Theta}"),ze("\\varLambda","\\mathit{\\Lambda}"),ze("\\varXi","\\mathit{\\Xi}"),ze("\\varPi","\\mathit{\\Pi}"),ze("\\varSigma","\\mathit{\\Sigma}"),ze("\\varUpsilon","\\mathit{\\Upsilon}"),ze("\\varPhi","\\mathit{\\Phi}"),ze("\\varPsi","\\mathit{\\Psi}"),ze("\\varOmega","\\mathit{\\Omega}"),ze("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),ze("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),ze("\\boxed","\\fbox{$\\displaystyle{#1}$}"),ze("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),ze("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),ze("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var QN={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ze("\\dots",function(ae){var E="\\dotso",R=ae.expandAfterFuture().text;return R in QN?E=QN[R]:(R.substr(0,4)==="\\not"||R in jn.math&&v.contains(["bin","rel"],jn.math[R].group))&&(E="\\dotsb"),E});var yE={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ze("\\dotso",function(ae){var E=ae.future().text;return E in yE?"\\ldots\\,":"\\ldots"}),ze("\\dotsc",function(ae){var E=ae.future().text;return E in yE&&E!==","?"\\ldots\\,":"\\ldots"}),ze("\\cdots",function(ae){var E=ae.future().text;return E in yE?"\\@cdots\\,":"\\@cdots"}),ze("\\dotsb","\\cdots"),ze("\\dotsm","\\cdots"),ze("\\dotsi","\\!\\cdots"),ze("\\dotsx","\\ldots\\,"),ze("\\DOTSI","\\relax"),ze("\\DOTSB","\\relax"),ze("\\DOTSX","\\relax"),ze("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),ze("\\,","\\tmspace+{3mu}{.1667em}"),ze("\\thinspace","\\,"),ze("\\>","\\mskip{4mu}"),ze("\\:","\\tmspace+{4mu}{.2222em}"),ze("\\medspace","\\:"),ze("\\;","\\tmspace+{5mu}{.2777em}"),ze("\\thickspace","\\;"),ze("\\!","\\tmspace-{3mu}{.1667em}"),ze("\\negthinspace","\\!"),ze("\\negmedspace","\\tmspace-{4mu}{.2222em}"),ze("\\negthickspace","\\tmspace-{5mu}{.277em}"),ze("\\enspace","\\kern.5em "),ze("\\enskip","\\hskip.5em\\relax"),ze("\\quad","\\hskip1em\\relax"),ze("\\qquad","\\hskip2em\\relax"),ze("\\tag","\\@ifstar\\tag@literal\\tag@paren"),ze("\\tag@paren","\\tag@literal{({#1})}"),ze("\\tag@literal",function(ae){if(ae.macros.get("\\df@tag"))throw new a("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),ze("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),ze("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),ze("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),ze("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),ze("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),ze("\\newline","\\\\\\relax"),ze("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var JN=G(Ne["Main-Regular"]["T".charCodeAt(0)][1]-.7*Ne["Main-Regular"]["A".charCodeAt(0)][1]);ze("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+JN+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),ze("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+JN+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),ze("\\hspace","\\@ifstar\\@hspacer\\@hspace"),ze("\\@hspace","\\hskip #1\\relax"),ze("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),ze("\\ordinarycolon",":"),ze("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),ze("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),ze("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),ze("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),ze("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),ze("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),ze("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),ze("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),ze("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),ze("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),ze("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),ze("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),ze("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),ze("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),ze("","\\dblcolon"),ze("","\\eqcolon"),ze("","\\coloneqq"),ze("","\\eqqcolon"),ze("","\\Coloneqq"),ze("\\ratio","\\vcentcolon"),ze("\\coloncolon","\\dblcolon"),ze("\\colonequals","\\coloneqq"),ze("\\coloncolonequals","\\Coloneqq"),ze("\\equalscolon","\\eqqcolon"),ze("\\equalscoloncolon","\\Eqqcolon"),ze("\\colonminus","\\coloneq"),ze("\\coloncolonminus","\\Coloneq"),ze("\\minuscolon","\\eqcolon"),ze("\\minuscoloncolon","\\Eqcolon"),ze("\\coloncolonapprox","\\Colonapprox"),ze("\\coloncolonsim","\\Colonsim"),ze("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ze("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ze("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ze("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ze("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),ze("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),ze("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),ze("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),ze("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),ze("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),ze("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),ze("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),ze("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),ze("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),ze("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),ze("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),ze("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),ze("\\nleqq","\\html@mathml{\\@nleqq}{}"),ze("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),ze("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),ze("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),ze("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),ze("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),ze("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),ze("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),ze("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),ze("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),ze("\\imath","\\html@mathml{\\@imath}{}"),ze("\\jmath","\\html@mathml{\\@jmath}{}"),ze("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),ze("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),ze("","\\llbracket"),ze("","\\rrbracket"),ze("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),ze("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),ze("","\\lBrace"),ze("","\\rBrace"),ze("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),ze("","\\minuso"),ze("\\darr","\\downarrow"),ze("\\dArr","\\Downarrow"),ze("\\Darr","\\Downarrow"),ze("\\lang","\\langle"),ze("\\rang","\\rangle"),ze("\\uarr","\\uparrow"),ze("\\uArr","\\Uparrow"),ze("\\Uarr","\\Uparrow"),ze("\\N","\\mathbb{N}"),ze("\\R","\\mathbb{R}"),ze("\\Z","\\mathbb{Z}"),ze("\\alef","\\aleph"),ze("\\alefsym","\\aleph"),ze("\\Alpha","\\mathrm{A}"),ze("\\Beta","\\mathrm{B}"),ze("\\bull","\\bullet"),ze("\\Chi","\\mathrm{X}"),ze("\\clubs","\\clubsuit"),ze("\\cnums","\\mathbb{C}"),ze("\\Complex","\\mathbb{C}"),ze("\\Dagger","\\ddagger"),ze("\\diamonds","\\diamondsuit"),ze("\\empty","\\emptyset"),ze("\\Epsilon","\\mathrm{E}"),ze("\\Eta","\\mathrm{H}"),ze("\\exist","\\exists"),ze("\\harr","\\leftrightarrow"),ze("\\hArr","\\Leftrightarrow"),ze("\\Harr","\\Leftrightarrow"),ze("\\hearts","\\heartsuit"),ze("\\image","\\Im"),ze("\\infin","\\infty"),ze("\\Iota","\\mathrm{I}"),ze("\\isin","\\in"),ze("\\Kappa","\\mathrm{K}"),ze("\\larr","\\leftarrow"),ze("\\lArr","\\Leftarrow"),ze("\\Larr","\\Leftarrow"),ze("\\lrarr","\\leftrightarrow"),ze("\\lrArr","\\Leftrightarrow"),ze("\\Lrarr","\\Leftrightarrow"),ze("\\Mu","\\mathrm{M}"),ze("\\natnums","\\mathbb{N}"),ze("\\Nu","\\mathrm{N}"),ze("\\Omicron","\\mathrm{O}"),ze("\\plusmn","\\pm"),ze("\\rarr","\\rightarrow"),ze("\\rArr","\\Rightarrow"),ze("\\Rarr","\\Rightarrow"),ze("\\real","\\Re"),ze("\\reals","\\mathbb{R}"),ze("\\Reals","\\mathbb{R}"),ze("\\Rho","\\mathrm{P}"),ze("\\sdot","\\cdot"),ze("\\sect","\\S"),ze("\\spades","\\spadesuit"),ze("\\sub","\\subset"),ze("\\sube","\\subseteq"),ze("\\supe","\\supseteq"),ze("\\Tau","\\mathrm{T}"),ze("\\thetasym","\\vartheta"),ze("\\weierp","\\wp"),ze("\\Zeta","\\mathrm{Z}"),ze("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),ze("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),ze("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),ze("\\bra","\\mathinner{\\langle{#1}|}"),ze("\\ket","\\mathinner{|{#1}\\rangle}"),ze("\\braket","\\mathinner{\\langle{#1}\\rangle}"),ze("\\Bra","\\left\\langle#1\\right|"),ze("\\Ket","\\left|#1\\right\\rangle"),ze("\\angln","{\\angl n}"),ze("\\blue","\\textcolor{##6495ed}{#1}"),ze("\\orange","\\textcolor{##ffa500}{#1}"),ze("\\pink","\\textcolor{##ff00af}{#1}"),ze("\\red","\\textcolor{##df0030}{#1}"),ze("\\green","\\textcolor{##28ae7b}{#1}"),ze("\\gray","\\textcolor{gray}{#1}"),ze("\\purple","\\textcolor{##9d38bd}{#1}"),ze("\\blueA","\\textcolor{##ccfaff}{#1}"),ze("\\blueB","\\textcolor{##80f6ff}{#1}"),ze("\\blueC","\\textcolor{##63d9ea}{#1}"),ze("\\blueD","\\textcolor{##11accd}{#1}"),ze("\\blueE","\\textcolor{##0c7f99}{#1}"),ze("\\tealA","\\textcolor{##94fff5}{#1}"),ze("\\tealB","\\textcolor{##26edd5}{#1}"),ze("\\tealC","\\textcolor{##01d1c1}{#1}"),ze("\\tealD","\\textcolor{##01a995}{#1}"),ze("\\tealE","\\textcolor{##208170}{#1}"),ze("\\greenA","\\textcolor{##b6ffb0}{#1}"),ze("\\greenB","\\textcolor{##8af281}{#1}"),ze("\\greenC","\\textcolor{##74cf70}{#1}"),ze("\\greenD","\\textcolor{##1fab54}{#1}"),ze("\\greenE","\\textcolor{##0d923f}{#1}"),ze("\\goldA","\\textcolor{##ffd0a9}{#1}"),ze("\\goldB","\\textcolor{##ffbb71}{#1}"),ze("\\goldC","\\textcolor{##ff9c39}{#1}"),ze("\\goldD","\\textcolor{##e07d10}{#1}"),ze("\\goldE","\\textcolor{##a75a05}{#1}"),ze("\\redA","\\textcolor{##fca9a9}{#1}"),ze("\\redB","\\textcolor{##ff8482}{#1}"),ze("\\redC","\\textcolor{##f9685d}{#1}"),ze("\\redD","\\textcolor{##e84d39}{#1}"),ze("\\redE","\\textcolor{##bc2612}{#1}"),ze("\\maroonA","\\textcolor{##ffbde0}{#1}"),ze("\\maroonB","\\textcolor{##ff92c6}{#1}"),ze("\\maroonC","\\textcolor{##ed5fa6}{#1}"),ze("\\maroonD","\\textcolor{##ca337c}{#1}"),ze("\\maroonE","\\textcolor{##9e034e}{#1}"),ze("\\purpleA","\\textcolor{##ddd7ff}{#1}"),ze("\\purpleB","\\textcolor{##c6b9fc}{#1}"),ze("\\purpleC","\\textcolor{##aa87ff}{#1}"),ze("\\purpleD","\\textcolor{##7854ab}{#1}"),ze("\\purpleE","\\textcolor{##543b78}{#1}"),ze("\\mintA","\\textcolor{##f5f9e8}{#1}"),ze("\\mintB","\\textcolor{##edf2df}{#1}"),ze("\\mintC","\\textcolor{##e0e5cc}{#1}"),ze("\\grayA","\\textcolor{##f6f7f7}{#1}"),ze("\\grayB","\\textcolor{##f0f1f2}{#1}"),ze("\\grayC","\\textcolor{##e3e5e6}{#1}"),ze("\\grayD","\\textcolor{##d6d8da}{#1}"),ze("\\grayE","\\textcolor{##babec2}{#1}"),ze("\\grayF","\\textcolor{##888d93}{#1}"),ze("\\grayG","\\textcolor{##626569}{#1}"),ze("\\grayH","\\textcolor{##3b3e40}{#1}"),ze("\\grayI","\\textcolor{##21242c}{#1}"),ze("\\kaBlue","\\textcolor{##314453}{#1}"),ze("\\kaGreen","\\textcolor{##71B307}{#1}");var eB={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},gse=function(){function ae(R,P,O){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=P,this.expansionCount=0,this.feed(R),this.macros=new pse(vse,P.macros),this.mode=O,this.stack=[]}var E=ae.prototype;return E.feed=function(P){this.lexer=new jN(P,this.settings)},E.switchMode=function(P){this.mode=P},E.beginGroup=function(){this.macros.beginGroup()},E.endGroup=function(){this.macros.endGroup()},E.endGroups=function(){this.macros.endGroups()},E.future=function(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},E.popToken=function(){return this.future(),this.stack.pop()},E.pushToken=function(P){this.stack.push(P)},E.pushTokens=function(P){var O;(O=this.stack).push.apply(O,P)},E.scanArgument=function(P){var O,q,ne;if(P){if(this.consumeSpaces(),this.future().text!=="[")return null;O=this.popToken();var Se=this.consumeArg(["]"]);ne=Se.tokens,q=Se.end}else{var Fe=this.consumeArg();ne=Fe.tokens,O=Fe.start,q=Fe.end}return this.pushToken(new Vh("EOF",q.loc)),this.pushTokens(ne),O.range(q,"")},E.consumeSpaces=function(){for(;;){var P=this.future();if(P.text===" ")this.stack.pop();else break}},E.consumeArg=function(P){var O=[],q=P&&P.length>0;q||this.consumeSpaces();var ne=this.future(),Se,Fe=0,Xe=0;do{if(Se=this.popToken(),O.push(Se),Se.text==="{")++Fe;else if(Se.text==="}"){if(--Fe,Fe===-1)throw new a("Extra }",Se)}else if(Se.text==="EOF")throw new a("Unexpected end of input in a macro argument, expected '"+(P&&q?P[Xe]:"}")+"'",Se);if(P&&q)if((Fe===0||Fe===1&&P[Xe]==="{")&&Se.text===P[Xe]){if(++Xe,Xe===P.length){O.splice(-Xe,Xe);break}}else Xe=0}while(Fe!==0||q);return ne.text==="{"&&O[O.length-1].text==="}"&&(O.pop(),O.shift()),O.reverse(),{tokens:O,start:ne,end:Se}},E.consumeArgs=function(P,O){if(O){if(O.length!==P+1)throw new a("The length of delimiters doesn't match the number of args!");for(var q=O[0],ne=0;ne<q.length;ne++){var Se=this.popToken();if(q[ne]!==Se.text)throw new a("Use of the macro doesn't match its definition",Se)}}for(var Fe=[],Xe=0;Xe<P;Xe++)Fe.push(this.consumeArg(O&&O[Xe+1]).tokens);return Fe},E.expandOnce=function(P){var O=this.popToken(),q=O.text,ne=O.noexpand?null:this._getExpansion(q);if(ne==null||P&&ne.unexpandable){if(P&&ne==null&&q[0]==="\\"&&!this.isDefined(q))throw new a("Undefined control sequence: "+q);return this.pushToken(O),O}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new a("Too many expansions: infinite loop or need to increase maxExpand setting");var Se=ne.tokens,Fe=this.consumeArgs(ne.numArgs,ne.delimiters);if(ne.numArgs){Se=Se.slice();for(var Xe=Se.length-1;Xe>=0;--Xe){var ut=Se[Xe];if(ut.text==="#"){if(Xe===0)throw new a("Incomplete placeholder at end of macro body",ut);if(ut=Se[--Xe],ut.text==="#")Se.splice(Xe+1,1);else if(/^[1-9]$/.test(ut.text)){var Rt;(Rt=Se).splice.apply(Rt,[Xe,2].concat(Fe[+ut.text-1]))}else throw new a("Not a valid argument number",ut)}}}return this.pushTokens(Se),Se},E.expandAfterFuture=function(){return this.expandOnce(),this.future()},E.expandNextToken=function(){for(;;){var P=this.expandOnce();if(P instanceof Vh)if(P.text==="\\relax"||P.treatAsRelax)this.stack.pop();else return this.stack.pop()}throw new Error},E.expandMacro=function(P){return this.macros.has(P)?this.expandTokens([new Vh(P)]):void 0},E.expandTokens=function(P){var O=[],q=this.stack.length;for(this.pushTokens(P);this.stack.length>q;){var ne=this.expandOnce(!0);ne instanceof Vh&&(ne.treatAsRelax&&(ne.noexpand=!1,ne.treatAsRelax=!1),O.push(this.stack.pop()))}return O},E.expandMacroAsText=function(P){var O=this.expandMacro(P);return O&&O.map(function(q){return q.text}).join("")},E._getExpansion=function(P){var O=this.macros.get(P);if(O==null)return O;if(P.length===1){var q=this.lexer.catcodes[P];if(q!=null&&q!==13)return}var ne=typeof O=="function"?O(this):O;if(typeof ne=="string"){var Se=0;if(ne.indexOf("#")!==-1)for(var Fe=ne.replace(/##/g,"");Fe.indexOf("#"+(Se+1))!==-1;)++Se;for(var Xe=new jN(ne,this.settings),ut=[],Rt=Xe.lex();Rt.text!=="EOF";)ut.push(Rt),Rt=Xe.lex();ut.reverse();var Vt={tokens:ut,numArgs:Se};return Vt}return ne},E.isDefined=function(P){return this.macros.has(P)||Qd.hasOwnProperty(P)||jn.math.hasOwnProperty(P)||jn.text.hasOwnProperty(P)||eB.hasOwnProperty(P)},E.isExpandable=function(P){var O=this.macros.get(P);return O!=null?typeof O=="string"||typeof O=="function"||!O.unexpandable:Qd.hasOwnProperty(P)&&!Qd[P].primitive},ae}(),bE={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},tB={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},nB=function(){function ae(R,P){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new gse(R,P,this.mode),this.settings=P,this.leftrightDepth=0}var E=ae.prototype;return E.expect=function(P,O){if(O===void 0&&(O=!0),this.fetch().text!==P)throw new a("Expected '"+P+"', got '"+this.fetch().text+"'",this.fetch());O&&this.consume()},E.consume=function(){this.nextToken=null},E.fetch=function(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken},E.switchMode=function(P){this.mode=P,this.gullet.switchMode(P)},E.parse=function(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var P=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),P}finally{this.gullet.endGroups()}},E.parseExpression=function(P,O){for(var q=[];;){this.mode==="math"&&this.consumeSpaces();var ne=this.fetch();if(ae.endOfExpression.indexOf(ne.text)!==-1||O&&ne.text===O||P&&Qd[ne.text]&&Qd[ne.text].infix)break;var Se=this.parseAtom(O);if(Se){if(Se.type==="internal")continue}else break;q.push(Se)}return this.mode==="text"&&this.formLigatures(q),this.handleInfixNodes(q)},E.handleInfixNodes=function(P){for(var O=-1,q,ne=0;ne<P.length;ne++)if(P[ne].type==="infix"){if(O!==-1)throw new a("only one infix operator per group",P[ne].token);O=ne,q=P[ne].replaceWith}if(O!==-1&&q){var Se,Fe,Xe=P.slice(0,O),ut=P.slice(O+1);Xe.length===1&&Xe[0].type==="ordgroup"?Se=Xe[0]:Se={type:"ordgroup",mode:this.mode,body:Xe},ut.length===1&&ut[0].type==="ordgroup"?Fe=ut[0]:Fe={type:"ordgroup",mode:this.mode,body:ut};var Rt;return q==="\\\\abovefrac"?Rt=this.callFunction(q,[Se,P[O],Fe],[]):Rt=this.callFunction(q,[Se,Fe],[]),[Rt]}else return P},E.handleSupSubscript=function(P){var O=this.fetch(),q=O.text;this.consume(),this.consumeSpaces();var ne=this.parseGroup(P);if(!ne)throw new a("Expected group after '"+q+"'",O);return ne},E.formatUnsupportedCmd=function(P){for(var O=[],q=0;q<P.length;q++)O.push({type:"textord",mode:"text",text:P[q]});var ne={type:"text",mode:this.mode,body:O},Se={type:"color",mode:this.mode,color:this.settings.errorColor,body:[ne]};return Se},E.parseAtom=function(P){var O=this.parseGroup("atom",P);if(this.mode==="text")return O;for(var q,ne;;){this.consumeSpaces();var Se=this.fetch();if(Se.text==="\\limits"||Se.text==="\\nolimits"){if(O&&O.type==="op"){var Fe=Se.text==="\\limits";O.limits=Fe,O.alwaysHandleSupSub=!0}else if(O&&O.type==="operatorname")O.alwaysHandleSupSub&&(O.limits=Se.text==="\\limits");else throw new a("Limit controls must follow a math operator",Se);this.consume()}else if(Se.text==="^"){if(q)throw new a("Double superscript",Se);q=this.handleSupSubscript("superscript")}else if(Se.text==="_"){if(ne)throw new a("Double subscript",Se);ne=this.handleSupSubscript("subscript")}else if(Se.text==="'"){if(q)throw new a("Double superscript",Se);var Xe={type:"textord",mode:this.mode,text:"\\prime"},ut=[Xe];for(this.consume();this.fetch().text==="'";)ut.push(Xe),this.consume();this.fetch().text==="^"&&ut.push(this.handleSupSubscript("superscript")),q={type:"ordgroup",mode:this.mode,body:ut}}else break}return q||ne?{type:"supsub",mode:this.mode,base:O,sup:q,sub:ne}:O},E.parseFunction=function(P,O){var q=this.fetch(),ne=q.text,Se=Qd[ne];if(!Se)return null;if(this.consume(),O&&O!=="atom"&&!Se.allowedInArgument)throw new a("Got function '"+ne+"' with no arguments"+(O?" as "+O:""),q);if(this.mode==="text"&&!Se.allowedInText)throw new a("Can't use function '"+ne+"' in text mode",q);if(this.mode==="math"&&Se.allowedInMath===!1)throw new a("Can't use function '"+ne+"' in math mode",q);var Fe=this.parseArguments(ne,Se),Xe=Fe.args,ut=Fe.optArgs;return this.callFunction(ne,Xe,ut,q,P)},E.callFunction=function(P,O,q,ne,Se){var Fe={funcName:P,parser:this,token:ne,breakOnTokenText:Se},Xe=Qd[P];if(Xe&&Xe.handler)return Xe.handler(Fe,O,q);throw new a("No function handler for "+P)},E.parseArguments=function(P,O){var q=O.numArgs+O.numOptionalArgs;if(q===0)return{args:[],optArgs:[]};for(var ne=[],Se=[],Fe=0;Fe<q;Fe++){var Xe=O.argTypes&&O.argTypes[Fe],ut=Fe<O.numOptionalArgs;(O.primitive&&Xe==null||O.type==="sqrt"&&Fe===1&&Se[0]==null)&&(Xe="primitive");var Rt=this.parseGroupOfType("argument to '"+P+"'",Xe,ut);if(ut)Se.push(Rt);else if(Rt!=null)ne.push(Rt);else throw new a("Null argument, please report this as a bug")}return{args:ne,optArgs:Se}},E.parseGroupOfType=function(P,O,q){switch(O){case"color":return this.parseColorGroup(q);case"size":return this.parseSizeGroup(q);case"url":return this.parseUrlGroup(q);case"math":case"text":return this.parseArgumentGroup(q,O);case"hbox":{var ne=this.parseArgumentGroup(q,"text");return ne!=null?{type:"styling",mode:ne.mode,body:[ne],style:"text"}:null}case"raw":{var Se=this.parseStringGroup("raw",q);return Se!=null?{type:"raw",mode:"text",string:Se.text}:null}case"primitive":{if(q)throw new a("A primitive argument cannot be optional");var Fe=this.parseGroup(P);if(Fe==null)throw new a("Expected group as "+P,this.fetch());return Fe}case"original":case null:case void 0:return this.parseArgumentGroup(q);default:throw new a("Unknown group type as "+P,this.fetch())}},E.consumeSpaces=function(){for(;this.fetch().text===" ";)this.consume()},E.parseStringGroup=function(P,O){var q=this.gullet.scanArgument(O);if(q==null)return null;for(var ne="",Se;(Se=this.fetch()).text!=="EOF";)ne+=Se.text,this.consume();return this.consume(),q.text=ne,q},E.parseRegexGroup=function(P,O){for(var q=this.fetch(),ne=q,Se="",Fe;(Fe=this.fetch()).text!=="EOF"&&P.test(Se+Fe.text);)ne=Fe,Se+=ne.text,this.consume();if(Se==="")throw new a("Invalid "+O+": '"+q.text+"'",q);return q.range(ne,Se)},E.parseColorGroup=function(P){var O=this.parseStringGroup("color",P);if(O==null)return null;var q=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(O.text);if(!q)throw new a("Invalid color: '"+O.text+"'",O);var ne=q[0];return/^[0-9a-f]{6}$/i.test(ne)&&(ne="#"+ne),{type:"color-token",mode:this.mode,color:ne}},E.parseSizeGroup=function(P){var O,q=!1;if(this.gullet.consumeSpaces(),!P&&this.gullet.future().text!=="{"?O=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):O=this.parseStringGroup("size",P),!O)return null;!P&&O.text.length===0&&(O.text="0pt",q=!0);var ne=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(O.text);if(!ne)throw new a("Invalid size: '"+O.text+"'",O);var Se={number:+(ne[1]+ne[2]),unit:ne[3]};if(!ft(Se))throw new a("Invalid unit: '"+Se.unit+"'",O);return{type:"size",mode:this.mode,value:Se,isBlank:q}},E.parseUrlGroup=function(P){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var O=this.parseStringGroup("url",P);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),O==null)return null;var q=O.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:q}},E.parseArgumentGroup=function(P,O){var q=this.gullet.scanArgument(P);if(q==null)return null;var ne=this.mode;O&&this.switchMode(O),this.gullet.beginGroup();var Se=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var Fe={type:"ordgroup",mode:this.mode,loc:q.loc,body:Se};return O&&this.switchMode(ne),Fe},E.parseGroup=function(P,O){var q=this.fetch(),ne=q.text,Se;if(ne==="{"||ne==="\\begingroup"){this.consume();var Fe=ne==="{"?"}":"\\endgroup";this.gullet.beginGroup();var Xe=this.parseExpression(!1,Fe),ut=this.fetch();this.expect(Fe),this.gullet.endGroup(),Se={type:"ordgroup",mode:this.mode,loc:Ql.range(q,ut),body:Xe,semisimple:ne==="\\begingroup"||void 0}}else if(Se=this.parseFunction(O,P)||this.parseSymbol(),Se==null&&ne[0]==="\\"&&!eB.hasOwnProperty(ne)){if(this.settings.throwOnError)throw new a("Undefined control sequence: "+ne,q);Se=this.formatUnsupportedCmd(ne),this.consume()}return Se},E.formLigatures=function(P){for(var O=P.length-1,q=0;q<O;++q){var ne=P[q],Se=ne.text;Se==="-"&&P[q+1].text==="-"&&(q+1<O&&P[q+2].text==="-"?(P.splice(q,3,{type:"textord",mode:"text",loc:Ql.range(ne,P[q+2]),text:"---"}),O-=2):(P.splice(q,2,{type:"textord",mode:"text",loc:Ql.range(ne,P[q+1]),text:"--"}),O-=1)),(Se==="'"||Se==="`")&&P[q+1].text===Se&&(P.splice(q,2,{type:"textord",mode:"text",loc:Ql.range(ne,P[q+1]),text:Se+Se}),O-=1)}},E.parseSymbol=function(){var P=this.fetch(),O=P.text;if(/^\\verb[^a-zA-Z]/.test(O)){this.consume();var q=O.slice(5),ne=q.charAt(0)==="*";if(ne&&(q=q.slice(1)),q.length<2||q.charAt(0)!==q.slice(-1))throw new a(`\\verb assertion failed --
                    please report what input caused this bug`);return q=q.slice(1,-1),{type:"verb",mode:"text",body:q,star:ne}}tB.hasOwnProperty(O[0])&&!jn[this.mode][O[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+O[0]+'" used in math mode',P),O=tB[O[0]]+O.substr(1));var Se=fse.exec(O);Se&&(O=O.substring(0,Se.index),O==="i"?O="":O==="j"&&(O=""));var Fe;if(jn[this.mode][O]){this.settings.strict&&this.mode==="math"&&gr.indexOf(O)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+O[0]+'" used in math mode',P);var Xe=jn[this.mode][O].group,ut=Ql.range(P),Rt;if(or.hasOwnProperty(Xe)){var Vt=Xe;Rt={type:"atom",mode:this.mode,family:Vt,loc:ut,text:O}}else Rt={type:Xe,mode:this.mode,loc:ut,text:O};Fe=Rt}else if(O.charCodeAt(0)>=128)this.settings.strict&&(J(O.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+O[0]+'" used in math mode',P):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+O[0]+'"'+(" ("+O.charCodeAt(0)+")"),P)),Fe={type:"textord",mode:"text",loc:Ql.range(P),text:O};else return null;if(this.consume(),Se)for(var jt=0;jt<Se[0].length;jt++){var Zt=Se[0][jt];if(!bE[Zt])throw new a("Unknown accent ' "+Zt+"'",P);var fn=bE[Zt][this.mode]||bE[Zt].text;if(!fn)throw new a("Accent "+Zt+" unsupported in "+this.mode+" mode",P);Fe={type:"accent",mode:this.mode,loc:Ql.range(P),label:fn,isStretchy:!1,isShifty:!0,base:Fe}}return Fe},ae}();nB.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var yse=function(E,R){if(!(typeof E=="string"||E instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var P=new nB(E,R);delete P.gullet.macros.current["\\df@tag"];var O=P.parse();if(delete P.gullet.macros.current["\\current@color"],delete P.gullet.macros.current["\\color"],P.gullet.macros.get("\\df@tag")){if(!R.displayMode)throw new a("\\tag works only in display equations");P.gullet.feed("\\df@tag"),O=[{type:"tag",mode:"text",body:O,tag:P.parse()}]}return O},_E=yse,rB=function(E,R,P){R.textContent="";var O=SE(E,P).toNode();R.appendChild(O)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),rB=function(){throw new a("KaTeX doesn't work in quirks mode.")});var bse=function(E,R){var P=SE(E,R).toMarkup();return P},_se=function(E,R){var P=new y(R);return _E(E,P)},iB=function(E,R,P){if(P.throwOnError||!(E instanceof a))throw E;var O=ot.makeSpan(["katex-error"],[new nt(R)]);return O.setAttribute("title",E.toString()),O.setAttribute("style","color:"+P.errorColor),O},SE=function(E,R){var P=new y(R);try{var O=_E(E,P);return Mae(O,E,P)}catch(q){return iB(q,E,P)}},Sse=function(E,R){var P=new y(R);try{var O=_E(E,P);return Tae(O,E,P)}catch(q){return iB(q,E,P)}},wse={version:"0.13.24",render:rB,renderToString:bse,ParseError:a,__parse:_se,__renderToDomTree:SE,__renderToHTMLTree:Sse,__setFontMetrics:he,__defineSymbol:X,__defineMacro:ze,__domTree:{Span:Te,Anchor:ht,SymbolNode:nt,SvgNode:vt,PathNode:kt,LineNode:Tt}},xse=wse;return r=r.default,r}()})})(Qne);var MKe=Qne.exports;const TKe=Au(MKe),AKe=(n,e={},t)=>{const{props:r,domProps:i,on:a,...s}=e,o={...s,...r,...i,...(l=>l?Object.entries(l).reduce((c,[u,d])=>({...c,[u=`on${u=u.charAt(0).toUpperCase()+u.slice(1)}`]:d}),{}):null)(a)};return $t(n,o,t)};var _C=Pe({name:"VueLatex",props:{fontsize:{type:Number,default:16},expression:{type:String,required:!0},displayMode:{type:Boolean,default:!1},throwOnError:{type:Boolean,default:!1},errorColor:{type:String,default:void 0},minRuleThickness:{type:Number,default:.04},macros:{type:Object,default:void 0},colorIsTextColor:{type:Boolean,default:void 0},maxSize:{type:Number,default:void 0},maxExpand:{type:Number,default:void 0},allowedProtocols:{type:Array,default:void 0},strict:{type:[Boolean,String,Function],default:void 0}},setup:n=>({html:U(()=>TKe.renderToString(n.expression,n))}),render(){return AKe(this.displayMode?"div":"span",{domProps:{innerHTML:this.html},style:{"font-size":`${this.fontsize}px`}})}});_C.install=n=>{n.component(_C.name,_C)};const EKe=Pe({components:{VueLatex:_C}}),IKe=_e("h1",{class:"section-title"},"Latex",-1),RKe=_e("a",{href:"https://katex.org/docs/options.html",target:"_blank"},"KaTex",-1),PKe=_e("a",{href:"https://github.com/Shimada666/VaTex",target:"_blank"},"VaTex",-1);function LKe(n,e,t,r,i,a){const s=Lt("el-divider"),o=Lt("el-row"),l=Lt("VueLatex"),c=Lt("el-col");return $(),ge("div",null,[pe(s),pe(o,{justify:"center"},{default:Me(()=>[IKe]),_:1}),pe(o,{justify:"center"},{default:Me(()=>[pe(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:Me(()=>[_e("p",null,[un(" Thanks to "),RKe,un(" and "),PKe,un(", now we can show an inline "),pe(l,{expression:"\\LaTeX"}),un(" formula, like "),pe(l,{expression:"1+1=2"}),un(". And we can show an interline formula like this: "),pe(l,{expression:`
            D(x) = \\begin{cases}
            \\lim\\limits_{x \\to 0} \\frac{a^x}{b+c}, & x<3 \\\\
            \\pi, & x=3 \\\\
            \\int_a^{3b}x_{ij}+e^2 \\mathrm{d}x,& x>3 \\\\
            \\end{cases}
          `,"display-mode":""})])]),_:1})]),_:1})])}const DKe=Bs(EKe,[["render",LKe]]);/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const z8="143",Im={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Rm={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},kKe=0,NV=1,OKe=2,Jne=1,NKe=2,tb=3,Ch=0,xc=1,Mh=2,BKe=1,eh=0,lg=1,BV=2,FV=3,zV=4,FKe=5,Cv=100,zKe=101,UKe=102,UV=103,HV=104,HKe=200,VKe=201,$Ke=202,GKe=203,ere=204,tre=205,WKe=206,qKe=207,KKe=208,YKe=209,XKe=210,jKe=0,ZKe=1,QKe=2,eL=3,JKe=4,eYe=5,tYe=6,nYe=7,DA=0,rYe=1,iYe=2,Sd=0,aYe=1,sYe=2,oYe=3,lYe=4,cYe=5,U8=300,k0=301,O0=302,V_=303,UM=304,VS=306,vo=1e3,ka=1001,$_=1002,Ga=1003,HM=1004,VM=1005,ba=1006,H8=1007,Yd=1008,N0=1009,uYe=1010,dYe=1011,nre=1012,fYe=1013,Zp=1014,qf=1015,G_=1016,hYe=1017,pYe=1018,cg=1020,mYe=1021,vYe=1022,Ol=1023,gYe=1024,yYe=1025,v0=1026,$g=1027,bYe=1028,_Ye=1029,SYe=1030,wYe=1031,xYe=1033,SC=33776,D4=33777,wC=33778,xC=33779,VV=35840,$V=35841,GV=35842,WV=35843,rre=36196,qV=37492,KV=37496,YV=37808,XV=37809,jV=37810,ZV=37811,QV=37812,JV=37813,e$=37814,t$=37815,n$=37816,r$=37817,i$=37818,a$=37819,s$=37820,o$=37821,l$=36492,CYe=2200,MYe=2201,TYe=2202,W_=2300,Gg=2301,k4=2302,Fv=2400,zv=2401,$M=2402,V8=2500,AYe=2501,EYe=1,ire=2,Th=3e3,Ir=3001,IYe=3200,RYe=3201,Q0=0,PYe=1,ad="srgb",Qp="srgb-linear",O4=7680,LYe=519,tL=35044,c$="300 es",nL=1035;let Fh=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}};const ys=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let u$=1234567;const ug=Math.PI/180,q_=180/Math.PI;function zl(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ys[n&255]+ys[n>>8&255]+ys[n>>16&255]+ys[n>>24&255]+"-"+ys[e&255]+ys[e>>8&255]+"-"+ys[e>>16&15|64]+ys[e>>24&255]+"-"+ys[t&63|128]+ys[t>>8&255]+"-"+ys[t>>16&255]+ys[t>>24&255]+ys[r&255]+ys[r>>8&255]+ys[r>>16&255]+ys[r>>24&255]).toLowerCase()}function Pa(n,e,t){return Math.max(e,Math.min(t,n))}function $8(n,e){return(n%e+e)%e}function DYe(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function kYe(n,e,t){return n!==e?(t-n)/(e-n):0}function Ib(n,e,t){return(1-t)*n+t*e}function OYe(n,e,t,r){return Ib(n,e,1-Math.exp(-t*r))}function NYe(n,e=1){return e-Math.abs($8(n,e*2)-e)}function BYe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function FYe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function zYe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function UYe(n,e){return n+Math.random()*(e-n)}function HYe(n){return n*(.5-Math.random())}function VYe(n){n!==void 0&&(u$=n);let e=u$+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function $Ye(n){return n*ug}function GYe(n){return n*q_}function rL(n){return(n&n-1)===0&&n!==0}function are(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function GM(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function WYe(n,e,t,r,i){const a=Math.cos,s=Math.sin,o=a(t/2),l=s(t/2),c=a((e+r)/2),u=s((e+r)/2),d=a((e-r)/2),f=s((e-r)/2),h=a((r-e)/2),p=s((r-e)/2);switch(i){case"XYX":n.set(o*u,l*d,l*f,o*c);break;case"YZY":n.set(l*f,o*u,l*d,o*c);break;case"ZXZ":n.set(l*d,l*f,o*u,o*c);break;case"XZX":n.set(o*u,l*p,l*h,o*c);break;case"YXY":n.set(l*h,o*u,l*p,o*c);break;case"ZYZ":n.set(l*p,l*h,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function qYe(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function KYe(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var Ps=Object.freeze({__proto__:null,DEG2RAD:ug,RAD2DEG:q_,generateUUID:zl,clamp:Pa,euclideanModulo:$8,mapLinear:DYe,inverseLerp:kYe,lerp:Ib,damp:OYe,pingpong:NYe,smoothstep:BYe,smootherstep:FYe,randInt:zYe,randFloat:UYe,randFloatSpread:HYe,seededRandom:VYe,degToRad:$Ye,radToDeg:GYe,isPowerOfTwo:rL,ceilPowerOfTwo:are,floorPowerOfTwo:GM,setQuaternionFromProperEuler:WYe,normalize:KYe,denormalize:qYe});let Wt=class sre{constructor(e=0,t=0){sre.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*i+e.x,this.y=a*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},Nl=class ore{constructor(){ore.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,a,s,o,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=t,u[4]=a,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],p=r[8],m=i[0],g=i[3],v=i[6],y=i[1],b=i[4],_=i[7],w=i[2],x=i[5],M=i[8];return a[0]=s*m+o*y+l*w,a[3]=s*g+o*b+l*x,a[6]=s*v+o*_+l*M,a[1]=c*m+u*y+d*w,a[4]=c*g+u*b+d*x,a[7]=c*v+u*_+d*M,a[2]=f*m+h*y+p*w,a[5]=f*g+h*b+p*x,a[8]=f*v+h*_+p*M,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return t*s*u-t*o*c-r*a*u+r*o*l+i*a*c-i*s*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=u*s-o*c,f=o*l-u*a,h=c*a-s*l,p=t*d+r*f+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=d*m,e[1]=(i*c-u*r)*m,e[2]=(o*r-i*s)*m,e[3]=f*m,e[4]=(u*t-i*l)*m,e[5]=(i*a-o*t)*m,e[6]=h*m,e[7]=(r*l-c*t)*m,e[8]=(s*t-r*a)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,s,o){const l=Math.cos(a),c=Math.sin(a);return this.set(r*l,r*c,-r*(l*s+c*o)+s+e,-i*c,i*l,-i*(-c*s+l*o)+o+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,a=i[0],s=i[3],o=i[6],l=i[1],c=i[4],u=i[7];return i[0]=t*a+r*l,i[3]=t*s+r*c,i[6]=t*o+r*u,i[1]=-r*a+t*l,i[4]=-r*s+t*c,i[7]=-r*o+t*u,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}};function lre(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}const YYe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Uv(n,e){return new YYe[n](e)}function K_(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function g0(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function CC(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const N4={[ad]:{[Qp]:g0},[Qp]:{[ad]:CC}},tc={legacyMode:!0,get workingColorSpace(){return Qp},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(N4[e]&&N4[e][t]!==void 0){const r=N4[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},cre={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ta={r:0,g:0,b:0},nc={h:0,s:0,l:0},xx={h:0,s:0,l:0};function B4(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Cx(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let bn=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ad){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,tc.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Qp){return this.r=e,this.g=t,this.b=r,tc.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Qp){if(e=$8(e,1),t=Pa(t,0,1),r=Pa(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,s=2*r-a;this.r=B4(s,a,e+1/3),this.g=B4(s,a,e),this.b=B4(s,a,e-1/3)}return tc.toWorkingColorSpace(this,i),this}setStyle(e,t=ad){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,tc.toWorkingColorSpace(this,t),r(a[4]),this;if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,tc.toWorkingColorSpace(this,t),r(a[4]),this;break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const l=parseFloat(a[1])/360,c=parseInt(a[2],10)/100,u=parseInt(a[3],10)/100;return r(a[4]),this.setHSL(l,c,u,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.r=parseInt(a.charAt(0)+a.charAt(0),16)/255,this.g=parseInt(a.charAt(1)+a.charAt(1),16)/255,this.b=parseInt(a.charAt(2)+a.charAt(2),16)/255,tc.toWorkingColorSpace(this,t),this;if(s===6)return this.r=parseInt(a.charAt(0)+a.charAt(1),16)/255,this.g=parseInt(a.charAt(2)+a.charAt(3),16)/255,this.b=parseInt(a.charAt(4)+a.charAt(5),16)/255,tc.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=ad){const r=cre[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=g0(e.r),this.g=g0(e.g),this.b=g0(e.b),this}copyLinearToSRGB(e){return this.r=CC(e.r),this.g=CC(e.g),this.b=CC(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ad){return tc.fromWorkingColorSpace(Cx(this,Ta),e),Pa(Ta.r*255,0,255)<<16^Pa(Ta.g*255,0,255)<<8^Pa(Ta.b*255,0,255)<<0}getHexString(e=ad){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Qp){tc.fromWorkingColorSpace(Cx(this,Ta),t);const r=Ta.r,i=Ta.g,a=Ta.b,s=Math.max(r,i,a),o=Math.min(r,i,a);let l,c;const u=(o+s)/2;if(o===s)l=0,c=0;else{const d=s-o;switch(c=u<=.5?d/(s+o):d/(2-s-o),s){case r:l=(i-a)/d+(i<a?6:0);break;case i:l=(a-r)/d+2;break;case a:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Qp){return tc.fromWorkingColorSpace(Cx(this,Ta),t),e.r=Ta.r,e.g=Ta.g,e.b=Ta.b,e}getStyle(e=ad){return tc.fromWorkingColorSpace(Cx(this,Ta),e),e!==ad?`color(${e} ${Ta.r} ${Ta.g} ${Ta.b})`:`rgb(${Ta.r*255|0},${Ta.g*255|0},${Ta.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(nc),nc.h+=e,nc.s+=t,nc.l+=r,this.setHSL(nc.h,nc.s,nc.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(nc),e.getHSL(xx);const r=Ib(nc.h,xx.h,t),i=Ib(nc.s,xx.s,t),a=Ib(nc.l,xx.l,t);return this.setHSL(r,i,a),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};bn.NAMES=cre;let Pm,ure=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Pm===void 0&&(Pm=K_("canvas")),Pm.width=e.width,Pm.height=e.height;const r=Pm.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Pm}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=K_("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=g0(a[s]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(g0(t[r]/255)*255):t[r]=g0(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},Hv=class{constructor(e=null){this.isSource=!0,this.uuid=zl(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(F4(i[s].image)):a.push(F4(i[s]))}else a=F4(i);r.url=a}return t||(e.images[this.uuid]=r),r}};function F4(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?ure.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let XYe=0,fs=class iL extends Fh{constructor(e=iL.DEFAULT_IMAGE,t=iL.DEFAULT_MAPPING,r=ka,i=ka,a=ba,s=Yd,o=Ol,l=N0,c=1,u=Th){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:XYe++}),this.uuid=zl(),this.name="",this.source=new Hv(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Wt(0,0),this.repeat=new Wt(1,1),this.center=new Wt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Nl,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==U8)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case vo:e.x=e.x-Math.floor(e.x);break;case ka:e.x=e.x<0?0:1;break;case $_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case vo:e.y=e.y-Math.floor(e.y);break;case ka:e.y=e.y<0?0:1;break;case $_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}};fs.DEFAULT_IMAGE=null;fs.DEFAULT_MAPPING=U8;let ai=class dre{constructor(e=0,t=0,r=0,i=1){dre.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*a,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*a,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*a,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],p=l[9],m=l[2],g=l[6],v=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(p-g)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(p+g)<.1&&Math.abs(c+h+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,_=(h+1)/2,w=(v+1)/2,x=(u+f)/4,M=(d+m)/4,C=(p+g)/4;return b>_&&b>w?b<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(b),i=x/r,a=M/r):_>w?_<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(_),r=x/i,a=C/i):w<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(w),r=M/a,i=C/a),this.set(r,i,a,t),this}let y=Math.sqrt((g-p)*(g-p)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(y)<.001&&(y=1),this.x=(g-p)/y,this.y=(d-m)/y,this.z=(f-u)/y,this.w=Math.acos((c+h+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},B0=class extends Fh{constructor(e,t,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new ai(0,0,e,t),this.scissorTest=!1,this.viewport=new ai(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new fs(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:ba,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Hv(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},fre=class extends fs{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Ga,this.minFilter=Ga,this.wrapR=ka,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},jYe=class extends fs{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Ga,this.minFilter=Ga,this.wrapR=ka,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},ss=class{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,a,s,o){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=a[s+0],h=a[s+1],p=a[s+2],m=a[s+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(o===1){e[t+0]=f,e[t+1]=h,e[t+2]=p,e[t+3]=m;return}if(d!==m||l!==f||c!==h||u!==p){let g=1-o;const v=l*f+c*h+u*p+d*m,y=v>=0?1:-1,b=1-v*v;if(b>Number.EPSILON){const w=Math.sqrt(b),x=Math.atan2(w,v*y);g=Math.sin(g*x)/w,o=Math.sin(o*x)/w}const _=o*y;if(l=l*g+f*_,c=c*g+h*_,u=u*g+p*_,d=d*g+m*_,g===1-o){const w=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=w,c*=w,u*=w,d*=w}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,a,s){const o=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=a[s],f=a[s+1],h=a[s+2],p=a[s+3];return e[t]=o*p+u*d+l*h-c*f,e[t+1]=l*p+u*f+c*d-o*h,e[t+2]=c*p+u*h+o*f-l*d,e[t+3]=u*p-o*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(r/2),u=o(i/2),d=o(a/2),f=l(r/2),h=l(i/2),p=l(a/2);switch(s){case"XYZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"YXZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"ZXY":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"ZYX":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"YZX":this._x=f*u*d+c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d-f*h*p;break;case"XZY":this._x=f*u*d-c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],a=t[8],s=t[1],o=t[5],l=t[9],c=t[2],u=t[6],d=t[10],f=r+o+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(a-c)*h,this._z=(s-i)*h}else if(r>o&&r>d){const h=2*Math.sqrt(1+r-o-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(a+c)/h}else if(o>d){const h=2*Math.sqrt(1+o-r-d);this._w=(a-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-o);this._w=(s-i)/h,this._x=(a+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Pa(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,a=e._z,s=e._w,o=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+s*o+i*c-a*l,this._y=i*u+s*l+a*o-r*c,this._z=a*u+s*c+r*l-i*o,this._w=s*u-r*o-i*l-a*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,s=this._w;let o=s*e._w+r*e._x+i*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=r,this._y=i,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const h=1-t;return this._w=h*s+t*this._w,this._x=h*r+t*this._x,this._y=h*i+t*this._y,this._z=h*a+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),d=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=s*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=a*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(a),r*Math.cos(a),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},je=class hre{constructor(e=0,t=0,r=0){hre.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(d$.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(d$.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,a=e.x,s=e.y,o=e.z,l=e.w,c=l*t+s*i-o*r,u=l*r+o*t-a*i,d=l*i+a*r-s*t,f=-a*t-s*r-o*i;return this.x=c*l+f*-a+u*-o-d*-s,this.y=u*l+f*-s+d*-a-c*-o,this.z=d*l+f*-o+c*-s-u*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,a=e.z,s=t.x,o=t.y,l=t.z;return this.x=i*l-a*o,this.y=a*s-r*l,this.z=r*o-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return z4.copy(this).projectOnVector(e),this.sub(z4)}reflect(e){return this.sub(z4.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Pa(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};const z4=new je,d$=new ss;let J0=class{constructor(e=new je(1/0,1/0,1/0),t=new je(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,a=-1/0,s=-1/0,o=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],f=e[l+2];u<t&&(t=u),d<r&&(r=d),f<i&&(i=f),u>a&&(a=u),d>s&&(s=d),f>o&&(o=f)}return this.min.set(t,r,i),this.max.set(a,s,o),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,a=-1/0,s=-1/0,o=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),f=e.getZ(l);u<t&&(t=u),d<r&&(r=d),f<i&&(i=f),u>a&&(a=u),d>s&&(s=d),f>o&&(o=f)}return this.min.set(t,r,i),this.max.set(a,s,o),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=pp.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const a=r.attributes.position;for(let s=0,o=a.count;s<o;s++)pp.fromBufferAttribute(a,s).applyMatrix4(e.matrixWorld),this.expandByPoint(pp)}else r.boundingBox===null&&r.computeBoundingBox(),U4.copy(r.boundingBox),U4.applyMatrix4(e.matrixWorld),this.union(U4);const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,pp),pp.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(I1),Mx.subVectors(this.max,I1),Lm.subVectors(e.a,I1),Dm.subVectors(e.b,I1),km.subVectors(e.c,I1),df.subVectors(Dm,Lm),ff.subVectors(km,Dm),mp.subVectors(Lm,km);let t=[0,-df.z,df.y,0,-ff.z,ff.y,0,-mp.z,mp.y,df.z,0,-df.x,ff.z,0,-ff.x,mp.z,0,-mp.x,-df.y,df.x,0,-ff.y,ff.x,0,-mp.y,mp.x,0];return!H4(t,Lm,Dm,km,Mx)||(t=[1,0,0,0,1,0,0,0,1],!H4(t,Lm,Dm,km,Mx))?!1:(Tx.crossVectors(df,ff),t=[Tx.x,Tx.y,Tx.z],H4(t,Lm,Dm,km,Mx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return pp.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(pp).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Hu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Hu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Hu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Hu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Hu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Hu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Hu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Hu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Hu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};const Hu=[new je,new je,new je,new je,new je,new je,new je,new je],pp=new je,U4=new J0,Lm=new je,Dm=new je,km=new je,df=new je,ff=new je,mp=new je,I1=new je,Mx=new je,Tx=new je,vp=new je;function H4(n,e,t,r,i){for(let a=0,s=n.length-3;a<=s;a+=3){vp.fromArray(n,a);const o=i.x*Math.abs(vp.x)+i.y*Math.abs(vp.y)+i.z*Math.abs(vp.z),l=e.dot(vp),c=t.dot(vp),u=r.dot(vp);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const ZYe=new J0,f$=new je,Ax=new je,V4=new je;let em=class{constructor(e=new je,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):ZYe.setFromPoints(e).getCenter(r);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){V4.subVectors(e,this.center);const t=V4.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(V4.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?Ax.set(0,0,1).multiplyScalar(e.radius):Ax.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(f$.copy(e.center).add(Ax)),this.expandByPoint(f$.copy(e.center).sub(Ax)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const Vu=new je,$4=new je,Ex=new je,hf=new je,G4=new je,Ix=new je,W4=new je;let kA=class{constructor(e=new je,t=new je(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Vu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Vu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Vu.copy(this.direction).multiplyScalar(t).add(this.origin),Vu.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){$4.copy(e).add(t).multiplyScalar(.5),Ex.copy(t).sub(e).normalize(),hf.copy(this.origin).sub($4);const a=e.distanceTo(t)*.5,s=-this.direction.dot(Ex),o=hf.dot(this.direction),l=-hf.dot(Ex),c=hf.lengthSq(),u=Math.abs(1-s*s);let d,f,h,p;if(u>0)if(d=s*l-o,f=s*o-l,p=a*u,d>=0)if(f>=-p)if(f<=p){const m=1/u;d*=m,f*=m,h=d*(d+s*f+2*o)+f*(s*d+f+2*l)+c}else f=a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;else f=-a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;else f<=-p?(d=Math.max(0,-(-s*a+o)),f=d>0?-a:Math.min(Math.max(-a,-l),a),h=-d*d+f*(f+2*l)+c):f<=p?(d=0,f=Math.min(Math.max(-a,-l),a),h=f*(f+2*l)+c):(d=Math.max(0,-(s*a+o)),f=d>0?a:Math.min(Math.max(-a,-l),a),h=-d*d+f*(f+2*l)+c);else f=s>0?-a:a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(Ex).multiplyScalar(f).add($4),h}intersectSphere(e,t){Vu.subVectors(e.center,this.origin);const r=Vu.dot(this.direction),i=Vu.dot(Vu)-r*r,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=r-s,l=r+s;return o<0&&l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,s,o,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(a=(e.min.y-f.y)*u,s=(e.max.y-f.y)*u):(a=(e.max.y-f.y)*u,s=(e.min.y-f.y)*u),r>s||a>i||((a>r||r!==r)&&(r=a),(s<i||i!==i)&&(i=s),d>=0?(o=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(o=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Vu)!==null}intersectTriangle(e,t,r,i,a){G4.subVectors(t,e),Ix.subVectors(r,e),W4.crossVectors(G4,Ix);let s=this.direction.dot(W4),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;hf.subVectors(this.origin,e);const l=o*this.direction.dot(Ix.crossVectors(hf,Ix));if(l<0)return null;const c=o*this.direction.dot(G4.cross(hf));if(c<0||l+c>s)return null;const u=-o*hf.dot(W4);return u<0?null:this.at(u/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Un=class aL{constructor(){aL.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,g){const v=this.elements;return v[0]=e,v[4]=t,v[8]=r,v[12]=i,v[1]=a,v[5]=s,v[9]=o,v[13]=l,v[2]=c,v[6]=u,v[10]=d,v[14]=f,v[3]=h,v[7]=p,v[11]=m,v[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new aL().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Om.setFromMatrixColumn(e,0).length(),a=1/Om.setFromMatrixColumn(e,1).length(),s=1/Om.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(a),d=Math.sin(a);if(e.order==="XYZ"){const f=s*u,h=s*d,p=o*u,m=o*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=h+p*c,t[5]=f-m*c,t[9]=-o*l,t[2]=m-f*c,t[6]=p+h*c,t[10]=s*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,p=c*u,m=c*d;t[0]=f+m*o,t[4]=p*o-h,t[8]=s*c,t[1]=s*d,t[5]=s*u,t[9]=-o,t[2]=h*o-p,t[6]=m+f*o,t[10]=s*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,p=c*u,m=c*d;t[0]=f-m*o,t[4]=-s*d,t[8]=p+h*o,t[1]=h+p*o,t[5]=s*u,t[9]=m-f*o,t[2]=-s*c,t[6]=o,t[10]=s*l}else if(e.order==="ZYX"){const f=s*u,h=s*d,p=o*u,m=o*d;t[0]=l*u,t[4]=p*c-h,t[8]=f*c+m,t[1]=l*d,t[5]=m*c+f,t[9]=h*c-p,t[2]=-c,t[6]=o*l,t[10]=s*l}else if(e.order==="YZX"){const f=s*l,h=s*c,p=o*l,m=o*c;t[0]=l*u,t[4]=m-f*d,t[8]=p*d+h,t[1]=d,t[5]=s*u,t[9]=-o*u,t[2]=-c*u,t[6]=h*d+p,t[10]=f-m*d}else if(e.order==="XZY"){const f=s*l,h=s*c,p=o*l,m=o*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=f*d+m,t[5]=s*u,t[9]=h*d-p,t[2]=p*d-h,t[6]=o*u,t[10]=m*d+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(QYe,e,JYe)}lookAt(e,t,r){const i=this.elements;return Oo.subVectors(e,t),Oo.lengthSq()===0&&(Oo.z=1),Oo.normalize(),pf.crossVectors(r,Oo),pf.lengthSq()===0&&(Math.abs(r.z)===1?Oo.x+=1e-4:Oo.z+=1e-4,Oo.normalize(),pf.crossVectors(r,Oo)),pf.normalize(),Rx.crossVectors(Oo,pf),i[0]=pf.x,i[4]=Rx.x,i[8]=Oo.x,i[1]=pf.y,i[5]=Rx.y,i[9]=Oo.y,i[2]=pf.z,i[6]=Rx.z,i[10]=Oo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],p=r[2],m=r[6],g=r[10],v=r[14],y=r[3],b=r[7],_=r[11],w=r[15],x=i[0],M=i[4],C=i[8],T=i[12],A=i[1],I=i[5],L=i[9],k=i[13],N=i[2],F=i[6],D=i[10],H=i[14],z=i[3],B=i[7],W=i[11],Z=i[15];return a[0]=s*x+o*A+l*N+c*z,a[4]=s*M+o*I+l*F+c*B,a[8]=s*C+o*L+l*D+c*W,a[12]=s*T+o*k+l*H+c*Z,a[1]=u*x+d*A+f*N+h*z,a[5]=u*M+d*I+f*F+h*B,a[9]=u*C+d*L+f*D+h*W,a[13]=u*T+d*k+f*H+h*Z,a[2]=p*x+m*A+g*N+v*z,a[6]=p*M+m*I+g*F+v*B,a[10]=p*C+m*L+g*D+v*W,a[14]=p*T+m*k+g*H+v*Z,a[3]=y*x+b*A+_*N+w*z,a[7]=y*M+b*I+_*F+w*B,a[11]=y*C+b*L+_*D+w*W,a[15]=y*T+b*k+_*H+w*Z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],s=e[1],o=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],p=e[3],m=e[7],g=e[11],v=e[15];return p*(+a*l*d-i*c*d-a*o*f+r*c*f+i*o*h-r*l*h)+m*(+t*l*h-t*c*f+a*s*f-i*s*h+i*c*u-a*l*u)+g*(+t*c*d-t*o*h-a*s*d+r*s*h+a*o*u-r*c*u)+v*(-i*o*u-t*l*d+t*o*f+i*s*d-r*s*f+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],m=e[13],g=e[14],v=e[15],y=d*g*c-m*f*c+m*l*h-o*g*h-d*l*v+o*f*v,b=p*f*c-u*g*c-p*l*h+s*g*h+u*l*v-s*f*v,_=u*m*c-p*d*c+p*o*h-s*m*h-u*o*v+s*d*v,w=p*d*l-u*m*l-p*o*f+s*m*f+u*o*g-s*d*g,x=t*y+r*b+i*_+a*w;if(x===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/x;return e[0]=y*M,e[1]=(m*f*a-d*g*a-m*i*h+r*g*h+d*i*v-r*f*v)*M,e[2]=(o*g*a-m*l*a+m*i*c-r*g*c-o*i*v+r*l*v)*M,e[3]=(d*l*a-o*f*a-d*i*c+r*f*c+o*i*h-r*l*h)*M,e[4]=b*M,e[5]=(u*g*a-p*f*a+p*i*h-t*g*h-u*i*v+t*f*v)*M,e[6]=(p*l*a-s*g*a-p*i*c+t*g*c+s*i*v-t*l*v)*M,e[7]=(s*f*a-u*l*a+u*i*c-t*f*c-s*i*h+t*l*h)*M,e[8]=_*M,e[9]=(p*d*a-u*m*a-p*r*h+t*m*h+u*r*v-t*d*v)*M,e[10]=(s*m*a-p*o*a+p*r*c-t*m*c-s*r*v+t*o*v)*M,e[11]=(u*o*a-s*d*a-u*r*c+t*d*c+s*r*h-t*o*h)*M,e[12]=w*M,e[13]=(u*m*i-p*d*i+p*r*f-t*m*f-u*r*g+t*d*g)*M,e[14]=(p*o*i-s*m*i-p*r*l+t*m*l+s*r*g-t*o*g)*M,e[15]=(s*d*i-u*o*i+u*r*l-t*d*l-s*r*f+t*o*f)*M,this}scale(e){const t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),a=1-r,s=e.x,o=e.y,l=e.z,c=a*s,u=a*o;return this.set(c*s+r,c*o-i*l,c*l+i*o,0,c*o+i*l,u*o+r,u*l-i*s,0,c*l-i*o,u*l+i*s,a*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,a=t._x,s=t._y,o=t._z,l=t._w,c=a+a,u=s+s,d=o+o,f=a*c,h=a*u,p=a*d,m=s*u,g=s*d,v=o*d,y=l*c,b=l*u,_=l*d,w=r.x,x=r.y,M=r.z;return i[0]=(1-(m+v))*w,i[1]=(h+_)*w,i[2]=(p-b)*w,i[3]=0,i[4]=(h-_)*x,i[5]=(1-(f+v))*x,i[6]=(g+y)*x,i[7]=0,i[8]=(p+b)*M,i[9]=(g-y)*M,i[10]=(1-(f+m))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let a=Om.set(i[0],i[1],i[2]).length();const s=Om.set(i[4],i[5],i[6]).length(),o=Om.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],rc.copy(this);const c=1/a,u=1/s,d=1/o;return rc.elements[0]*=c,rc.elements[1]*=c,rc.elements[2]*=c,rc.elements[4]*=u,rc.elements[5]*=u,rc.elements[6]*=u,rc.elements[8]*=d,rc.elements[9]*=d,rc.elements[10]*=d,t.setFromRotationMatrix(rc),r.x=a,r.y=s,r.z=o,this}makePerspective(e,t,r,i,a,s){const o=this.elements,l=2*a/(t-e),c=2*a/(r-i),u=(t+e)/(t-e),d=(r+i)/(r-i),f=-(s+a)/(s-a),h=-2*s*a/(s-a);return o[0]=l,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=c,o[9]=d,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,r,i,a,s){const o=this.elements,l=1/(t-e),c=1/(r-i),u=1/(s-a),d=(t+e)*l,f=(r+i)*c,h=(s+a)*u;return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-d,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}};const Om=new je,rc=new Un,QYe=new je(0,0,0),JYe=new je(1,1,1),pf=new je,Rx=new je,Oo=new je,h$=new Un,p$=new ss;let vd=class pre{constructor(e=0,t=0,r=0,i=pre.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(Pa(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Pa(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(Pa(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-Pa(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Pa(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Pa(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return h$.makeRotationFromQuaternion(e),this.setFromRotationMatrix(h$,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return p$.setFromEuler(this),this.setFromQuaternion(p$,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}};vd.DefaultOrder="XYZ";vd.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];let G8=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},eXe=0;const m$=new je,Nm=new ss,$u=new Un,Px=new je,R1=new je,tXe=new je,nXe=new ss,v$=new je(1,0,0),g$=new je(0,1,0),y$=new je(0,0,1),rXe={type:"added"},b$={type:"removed"};let Gi=class sL extends Fh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:eXe++}),this.uuid=zl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=sL.DefaultUp.clone();const e=new je,t=new vd,r=new ss,i=new je(1,1,1);function a(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Un},normalMatrix:{value:new Nl}}),this.matrix=new Un,this.matrixWorld=new Un,this.matrixAutoUpdate=sL.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new G8,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Nm.setFromAxisAngle(e,t),this.quaternion.multiply(Nm),this}rotateOnWorldAxis(e,t){return Nm.setFromAxisAngle(e,t),this.quaternion.premultiply(Nm),this}rotateX(e){return this.rotateOnAxis(v$,e)}rotateY(e){return this.rotateOnAxis(g$,e)}rotateZ(e){return this.rotateOnAxis(y$,e)}translateOnAxis(e,t){return m$.copy(e).applyQuaternion(this.quaternion),this.position.add(m$.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(v$,e)}translateY(e){return this.translateOnAxis(g$,e)}translateZ(e){return this.translateOnAxis(y$,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4($u.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Px.copy(e):Px.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),R1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$u.lookAt(R1,Px,this.up):$u.lookAt(Px,R1,this.up),this.quaternion.setFromRotationMatrix($u),i&&($u.extractRotation(i.matrixWorld),Nm.setFromRotationMatrix($u),this.quaternion.premultiply(Nm.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(rXe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(b$)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(b$)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),$u.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),$u.multiply(e.parent.matrixWorld)),e.applyMatrix4($u),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(R1,e,tXe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(R1,nXe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];a(e.shapes,d)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(a(e.materials,this.material[l]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(a(e.animations,l))}}if(t){const o=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),f=s(e.skeletons),h=s(e.animations),p=s(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function s(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}};Gi.DefaultUp=new je(0,1,0);Gi.DefaultMatrixAutoUpdate=!0;const ic=new je,Gu=new je,q4=new je,Wu=new je,Bm=new je,Fm=new je,_$=new je,K4=new je,Y4=new je,X4=new je;let Rb=class Mv{constructor(e=new je,t=new je,r=new je){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),ic.subVectors(e,t),i.cross(ic);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){ic.subVectors(i,t),Gu.subVectors(r,t),q4.subVectors(e,t);const s=ic.dot(ic),o=ic.dot(Gu),l=ic.dot(q4),c=Gu.dot(Gu),u=Gu.dot(q4),d=s*c-o*o;if(d===0)return a.set(-2,-1,-1);const f=1/d,h=(c*l-o*u)*f,p=(s*u-o*l)*f;return a.set(1-h-p,p,h)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Wu),Wu.x>=0&&Wu.y>=0&&Wu.x+Wu.y<=1}static getUV(e,t,r,i,a,s,o,l){return this.getBarycoord(e,t,r,i,Wu),l.set(0,0),l.addScaledVector(a,Wu.x),l.addScaledVector(s,Wu.y),l.addScaledVector(o,Wu.z),l}static isFrontFacing(e,t,r,i){return ic.subVectors(r,t),Gu.subVectors(e,t),ic.cross(Gu).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ic.subVectors(this.c,this.b),Gu.subVectors(this.a,this.b),ic.cross(Gu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Mv.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Mv.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,a){return Mv.getUV(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return Mv.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Mv.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,a=this.c;let s,o;Bm.subVectors(i,r),Fm.subVectors(a,r),K4.subVectors(e,r);const l=Bm.dot(K4),c=Fm.dot(K4);if(l<=0&&c<=0)return t.copy(r);Y4.subVectors(e,i);const u=Bm.dot(Y4),d=Fm.dot(Y4);if(u>=0&&d<=u)return t.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return s=l/(l-u),t.copy(r).addScaledVector(Bm,s);X4.subVectors(e,a);const h=Bm.dot(X4),p=Fm.dot(X4);if(p>=0&&h<=p)return t.copy(a);const m=h*c-l*p;if(m<=0&&c>=0&&p<=0)return o=c/(c-p),t.copy(r).addScaledVector(Fm,o);const g=u*p-h*d;if(g<=0&&d-u>=0&&h-p>=0)return _$.subVectors(a,i),o=(d-u)/(d-u+(h-p)),t.copy(i).addScaledVector(_$,o);const v=1/(g+m+f);return s=m*v,o=f*v,t.copy(r).addScaledVector(Bm,s).addScaledVector(Fm,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},iXe=0,Ma=class extends Fh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:iXe++}),this.uuid=zl(),this.name="",this.type="Material",this.blending=lg,this.side=Ch,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=ere,this.blendDst=tre,this.blendEquation=Cv,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=eL,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=LYe,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=O4,this.stencilZFail=O4,this.stencilZPass=O4,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===BKe;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==lg&&(r.blending=this.blending),this.side!==Ch&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(t){const a=i(e.textures),s=i(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},bc=class extends Ma{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new bn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=DA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}};const ga=new je,Lx=new Wt;let ia=class{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=tL,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new bn),t[r++]=s.r,t[r++]=s.g,t[r++]=s.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new Wt),t[r++]=s.x,t[r++]=s.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new je),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new ai),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z,t[r++]=s.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Lx.fromBufferAttribute(this,t),Lx.applyMatrix3(e),this.setXY(t,Lx.x,Lx.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)ga.fromBufferAttribute(this,t),ga.applyMatrix3(e),this.setXYZ(t,ga.x,ga.y,ga.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)ga.fromBufferAttribute(this,t),ga.applyMatrix4(e),this.setXYZ(t,ga.x,ga.y,ga.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ga.fromBufferAttribute(this,t),ga.applyNormalMatrix(e),this.setXYZ(t,ga.x,ga.y,ga.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ga.fromBufferAttribute(this,t),ga.transformDirection(e),this.setXYZ(t,ga.x,ga.y,ga.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==tL&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}},W8=class extends ia{constructor(e,t,r){super(new Uint16Array(e),t,r)}},mre=class extends ia{constructor(e,t,r){super(new Uint32Array(e),t,r)}},En=class extends ia{constructor(e,t,r){super(new Float32Array(e),t,r)}},aXe=0;const fl=new Un,j4=new Gi,zm=new je,No=new J0,P1=new J0,Va=new je;let Hr=class vre extends Fh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:aXe++}),this.uuid=zl(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(lre(e)?mre:W8)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new Nl().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return fl.makeRotationFromQuaternion(e),this.applyMatrix4(fl),this}rotateX(e){return fl.makeRotationX(e),this.applyMatrix4(fl),this}rotateY(e){return fl.makeRotationY(e),this.applyMatrix4(fl),this}rotateZ(e){return fl.makeRotationZ(e),this.applyMatrix4(fl),this}translate(e,t,r){return fl.makeTranslation(e,t,r),this.applyMatrix4(fl),this}scale(e,t,r){return fl.makeScale(e,t,r),this.applyMatrix4(fl),this}lookAt(e){return j4.lookAt(e),j4.updateMatrix(),this.applyMatrix4(j4.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zm).negate(),this.translate(zm.x,zm.y,zm.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const a=e[r];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new En(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new J0);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new je(-1/0,-1/0,-1/0),new je(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const a=t[r];No.setFromBufferAttribute(a),this.morphTargetsRelative?(Va.addVectors(this.boundingBox.min,No.min),this.boundingBox.expandByPoint(Va),Va.addVectors(this.boundingBox.max,No.max),this.boundingBox.expandByPoint(Va)):(this.boundingBox.expandByPoint(No.min),this.boundingBox.expandByPoint(No.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new em);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new je,1/0);return}if(e){const r=this.boundingSphere.center;if(No.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];P1.setFromBufferAttribute(o),this.morphTargetsRelative?(Va.addVectors(No.min,P1.min),No.expandByPoint(Va),Va.addVectors(No.max,P1.max),No.expandByPoint(Va)):(No.expandByPoint(P1.min),No.expandByPoint(P1.max))}No.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)Va.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Va));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)Va.fromBufferAttribute(o,c),l&&(zm.fromBufferAttribute(e,c),Va.add(zm)),i=Math.max(i,r.distanceToSquared(Va))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,a=t.normal.array,s=t.uv.array,o=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ia(new Float32Array(4*o),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let A=0;A<o;A++)c[A]=new je,u[A]=new je;const d=new je,f=new je,h=new je,p=new Wt,m=new Wt,g=new Wt,v=new je,y=new je;function b(A,I,L){d.fromArray(i,A*3),f.fromArray(i,I*3),h.fromArray(i,L*3),p.fromArray(s,A*2),m.fromArray(s,I*2),g.fromArray(s,L*2),f.sub(d),h.sub(d),m.sub(p),g.sub(p);const k=1/(m.x*g.y-g.x*m.y);isFinite(k)&&(v.copy(f).multiplyScalar(g.y).addScaledVector(h,-m.y).multiplyScalar(k),y.copy(h).multiplyScalar(m.x).addScaledVector(f,-g.x).multiplyScalar(k),c[A].add(v),c[I].add(v),c[L].add(v),u[A].add(y),u[I].add(y),u[L].add(y))}let _=this.groups;_.length===0&&(_=[{start:0,count:r.length}]);for(let A=0,I=_.length;A<I;++A){const L=_[A],k=L.start,N=L.count;for(let F=k,D=k+N;F<D;F+=3)b(r[F+0],r[F+1],r[F+2])}const w=new je,x=new je,M=new je,C=new je;function T(A){M.fromArray(a,A*3),C.copy(M);const I=c[A];w.copy(I),w.sub(M.multiplyScalar(M.dot(I))).normalize(),x.crossVectors(C,I);const k=x.dot(u[A])<0?-1:1;l[A*4]=w.x,l[A*4+1]=w.y,l[A*4+2]=w.z,l[A*4+3]=k}for(let A=0,I=_.length;A<I;++A){const L=_[A],k=L.start,N=L.count;for(let F=k,D=k+N;F<D;F+=3)T(r[F+0]),T(r[F+1]),T(r[F+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ia(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new je,a=new je,s=new je,o=new je,l=new je,c=new je,u=new je,d=new je;if(e)for(let f=0,h=e.count;f<h;f+=3){const p=e.getX(f+0),m=e.getX(f+1),g=e.getX(f+2);i.fromBufferAttribute(t,p),a.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),u.subVectors(s,a),d.subVectors(i,a),u.cross(d),o.fromBufferAttribute(r,p),l.fromBufferAttribute(r,m),c.fromBufferAttribute(r,g),o.add(u),l.add(u),c.add(u),r.setXYZ(p,o.x,o.y,o.z),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(g,c.x,c.y,c.z)}else for(let f=0,h=t.count;f<h;f+=3)i.fromBufferAttribute(t,f+0),a.fromBufferAttribute(t,f+1),s.fromBufferAttribute(t,f+2),u.subVectors(s,a),d.subVectors(i,a),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const s=r[i].array,o=e.attributes[i],l=o.array,c=o.itemSize*t,u=Math.min(l.length,s.length-c);for(let d=0,f=c;d<u;d++,f++)s[f]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Va.fromBufferAttribute(e,t),Va.normalize(),e.setXYZ(t,Va.x,Va.y,Va.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,d=o.normalized,f=new c.constructor(l.length*u);let h=0,p=0;for(let m=0,g=l.length;m<g;m++){o.isInterleavedBufferAttribute?h=l[m]*o.data.stride+o.offset:h=l[m]*u;for(let v=0;v<u;v++)f[p++]=c[h++]}return new ia(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new vre,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);t.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const l=[],c=a[o];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,r);l.push(h)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const c=s[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const a=e.morphAttributes;for(const c in a){const u=[],d=a[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}};const S$=new Un,Um=new kA,Z4=new em,mf=new je,vf=new je,gf=new je,Q4=new je,J4=new je,eI=new je,Dx=new je,kx=new je,Ox=new je,Nx=new Wt,Bx=new Wt,Fx=new Wt,tI=new je,zx=new je;let Oa=class extends Gi{constructor(e=new Hr,t=new bc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}raycast(e,t){const r=this.geometry,i=this.material,a=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),Z4.copy(r.boundingSphere),Z4.applyMatrix4(a),e.ray.intersectsSphere(Z4)===!1)||(S$.copy(a).invert(),Um.copy(e.ray).applyMatrix4(S$),r.boundingBox!==null&&Um.intersectsBox(r.boundingBox)===!1))return;let s;const o=r.index,l=r.attributes.position,c=r.morphAttributes.position,u=r.morphTargetsRelative,d=r.attributes.uv,f=r.attributes.uv2,h=r.groups,p=r.drawRange;if(o!==null)if(Array.isArray(i))for(let m=0,g=h.length;m<g;m++){const v=h[m],y=i[v.materialIndex],b=Math.max(v.start,p.start),_=Math.min(o.count,Math.min(v.start+v.count,p.start+p.count));for(let w=b,x=_;w<x;w+=3){const M=o.getX(w),C=o.getX(w+1),T=o.getX(w+2);s=Ux(this,y,e,Um,l,c,u,d,f,M,C,T),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=v.materialIndex,t.push(s))}}else{const m=Math.max(0,p.start),g=Math.min(o.count,p.start+p.count);for(let v=m,y=g;v<y;v+=3){const b=o.getX(v),_=o.getX(v+1),w=o.getX(v+2);s=Ux(this,i,e,Um,l,c,u,d,f,b,_,w),s&&(s.faceIndex=Math.floor(v/3),t.push(s))}}else if(l!==void 0)if(Array.isArray(i))for(let m=0,g=h.length;m<g;m++){const v=h[m],y=i[v.materialIndex],b=Math.max(v.start,p.start),_=Math.min(l.count,Math.min(v.start+v.count,p.start+p.count));for(let w=b,x=_;w<x;w+=3){const M=w,C=w+1,T=w+2;s=Ux(this,y,e,Um,l,c,u,d,f,M,C,T),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=v.materialIndex,t.push(s))}}else{const m=Math.max(0,p.start),g=Math.min(l.count,p.start+p.count);for(let v=m,y=g;v<y;v+=3){const b=v,_=v+1,w=v+2;s=Ux(this,i,e,Um,l,c,u,d,f,b,_,w),s&&(s.faceIndex=Math.floor(v/3),t.push(s))}}}};function sXe(n,e,t,r,i,a,s,o){let l;if(e.side===xc?l=r.intersectTriangle(s,a,i,!0,o):l=r.intersectTriangle(i,a,s,e.side!==Mh,o),l===null)return null;zx.copy(o),zx.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(zx);return c<t.near||c>t.far?null:{distance:c,point:zx.clone(),object:n}}function Ux(n,e,t,r,i,a,s,o,l,c,u,d){mf.fromBufferAttribute(i,c),vf.fromBufferAttribute(i,u),gf.fromBufferAttribute(i,d);const f=n.morphTargetInfluences;if(a&&f){Dx.set(0,0,0),kx.set(0,0,0),Ox.set(0,0,0);for(let p=0,m=a.length;p<m;p++){const g=f[p],v=a[p];g!==0&&(Q4.fromBufferAttribute(v,c),J4.fromBufferAttribute(v,u),eI.fromBufferAttribute(v,d),s?(Dx.addScaledVector(Q4,g),kx.addScaledVector(J4,g),Ox.addScaledVector(eI,g)):(Dx.addScaledVector(Q4.sub(mf),g),kx.addScaledVector(J4.sub(vf),g),Ox.addScaledVector(eI.sub(gf),g)))}mf.add(Dx),vf.add(kx),gf.add(Ox)}n.isSkinnedMesh&&(n.boneTransform(c,mf),n.boneTransform(u,vf),n.boneTransform(d,gf));const h=sXe(n,e,t,r,mf,vf,gf,tI);if(h){o&&(Nx.fromBufferAttribute(o,c),Bx.fromBufferAttribute(o,u),Fx.fromBufferAttribute(o,d),h.uv=Rb.getUV(tI,mf,vf,gf,Nx,Bx,Fx,new Wt)),l&&(Nx.fromBufferAttribute(l,c),Bx.fromBufferAttribute(l,u),Fx.fromBufferAttribute(l,d),h.uv2=Rb.getUV(tI,mf,vf,gf,Nx,Bx,Fx,new Wt));const p={a:c,b:u,c:d,normal:new je,materialIndex:0};Rb.getNormal(mf,vf,gf,p.normal),h.face=p}return h}let Y_=class gre extends Hr{constructor(e=1,t=1,r=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const l=[],c=[],u=[],d=[];let f=0,h=0;p("z","y","x",-1,-1,r,t,e,s,a,0),p("z","y","x",1,-1,r,t,-e,s,a,1),p("x","z","y",1,1,e,r,t,i,s,2),p("x","z","y",1,-1,e,r,-t,i,s,3),p("x","y","z",1,-1,e,t,r,i,a,4),p("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new En(c,3)),this.setAttribute("normal",new En(u,3)),this.setAttribute("uv",new En(d,2));function p(m,g,v,y,b,_,w,x,M,C,T){const A=_/M,I=w/C,L=_/2,k=w/2,N=x/2,F=M+1,D=C+1;let H=0,z=0;const B=new je;for(let W=0;W<D;W++){const Z=W*I-k;for(let ee=0;ee<F;ee++){const J=ee*A-L;B[m]=J*y,B[g]=Z*b,B[v]=N,c.push(B.x,B.y,B.z),B[m]=0,B[g]=0,B[v]=x>0?1:-1,u.push(B.x,B.y,B.z),d.push(ee/M),d.push(1-W/C),H+=1}}for(let W=0;W<C;W++)for(let Z=0;Z<M;Z++){const ee=f+Z+F*W,J=f+Z+F*(W+1),re=f+(Z+1)+F*(W+1),fe=f+(Z+1)+F*W;l.push(ee,J,fe),l.push(J,re,fe),z+=6}o.addGroup(h,z,T),h+=z,f+=H}}static fromJSON(e){return new gre(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Wg(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function xs(n){const e={};for(let t=0;t<n.length;t++){const r=Wg(n[t]);for(const i in r)e[i]=r[i]}return e}function oXe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}const lXe={clone:Wg,merge:xs};var cXe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,uXe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;let Pd=class extends Ma{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=cXe,this.fragmentShader=uXe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Wg(e.uniforms),this.uniformsGroups=oXe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}},yre=class extends Gi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Un,this.projectionMatrix=new Un,this.projectionMatrixInverse=new Un}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},La=class extends yre{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=q_*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ug*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return q_*2*Math.atan(Math.tan(ug*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(ug*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;a+=s.offsetX*i/l,t-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const Hm=90,Vm=1;let dXe=class extends Gi{constructor(e,t,r){if(super(),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new La(Hm,Vm,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new je(1,0,0)),this.add(i);const a=new La(Hm,Vm,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new je(-1,0,0)),this.add(a);const s=new La(Hm,Vm,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new je(0,1,0)),this.add(s);const o=new La(Hm,Vm,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new je(0,-1,0)),this.add(o);const l=new La(Hm,Vm,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new je(0,0,1)),this.add(l);const c=new La(Hm,Vm,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new je(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,a,s,o,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,f=e.xr.enabled;e.toneMapping=Sd,e.xr.enabled=!1;const h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,a),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,o),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=h,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=f,r.texture.needsPMREMUpdate=!0}},q8=class extends fs{constructor(e,t,r,i,a,s,o,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:k0,super(e,t,r,i,a,s,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},fXe=class extends B0{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new q8(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ba}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Y_(5,5,5),a=new Pd({name:"CubemapFromEquirect",uniforms:Wg(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:xc,blending:eh});a.uniforms.tEquirect.value=t;const s=new Oa(i,a),o=t.minFilter;return t.minFilter===Yd&&(t.minFilter=ba),new dXe(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(a)}};const nI=new je,hXe=new je,pXe=new Nl;let Mp=class{constructor(e=new je(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=nI.subVectors(r,t).cross(hXe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(nI),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(r).multiplyScalar(a).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||pXe.getNormalMatrix(e),i=this.coplanarPoint(nI).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const $m=new em,Hx=new je;let K8=class{constructor(e=new Mp,t=new Mp,r=new Mp,i=new Mp,a=new Mp,s=new Mp){this.planes=[e,t,r,i,a,s]}set(e,t,r,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],a=r[1],s=r[2],o=r[3],l=r[4],c=r[5],u=r[6],d=r[7],f=r[8],h=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15];return t[0].setComponents(o-i,d-l,m-f,b-g).normalize(),t[1].setComponents(o+i,d+l,m+f,b+g).normalize(),t[2].setComponents(o+a,d+c,m+h,b+v).normalize(),t[3].setComponents(o-a,d-c,m-h,b-v).normalize(),t[4].setComponents(o-s,d-u,m-p,b-y).normalize(),t[5].setComponents(o+s,d+u,m+p,b+y).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),$m.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere($m)}intersectsSprite(e){return $m.center.set(0,0,0),$m.radius=.7071067811865476,$m.applyMatrix4(e.matrixWorld),this.intersectsSphere($m)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Hx.x=i.normal.x>0?e.max.x:e.min.x,Hx.y=i.normal.y>0?e.max.y:e.min.y,Hx.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Hx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function bre(){let n=null,e=!1,t=null,r=null;function i(a,s){t(a,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function mXe(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const d=c.array,f=c.usage,h=n.createBuffer();n.bindBuffer(u,h),n.bufferData(u,d,f),c.onUploadCallback();let p;if(d instanceof Float32Array)p=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)p=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else p=5123;else if(d instanceof Int16Array)p=5122;else if(d instanceof Uint32Array)p=5125;else if(d instanceof Int32Array)p=5124;else if(d instanceof Int8Array)p=5120;else if(d instanceof Uint8Array)p=5121;else if(d instanceof Uint8ClampedArray)p=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:h,type:p,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function a(c,u,d){const f=u.array,h=u.updateRange;n.bindBuffer(d,c),h.count===-1?n.bufferSubData(d,0,f):(t?n.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):n.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1)}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=r.get(c);(!f||f.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d===void 0?r.set(c,i(c,u)):d.version<c.version&&(a(d.buffer,c,u),d.version=c.version)}return{get:s,remove:o,update:l}}let oL=class _re extends Hr{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const a=e/2,s=t/2,o=Math.floor(r),l=Math.floor(i),c=o+1,u=l+1,d=e/o,f=t/l,h=[],p=[],m=[],g=[];for(let v=0;v<u;v++){const y=v*f-s;for(let b=0;b<c;b++){const _=b*d-a;p.push(_,-y,0),m.push(0,0,1),g.push(b/o),g.push(1-v/l)}}for(let v=0;v<l;v++)for(let y=0;y<o;y++){const b=y+c*v,_=y+c*(v+1),w=y+1+c*(v+1),x=y+1+c*v;h.push(b,_,x),h.push(_,w,x)}this.setIndex(h),this.setAttribute("position",new En(p,3)),this.setAttribute("normal",new En(m,3)),this.setAttribute("uv",new En(g,2))}static fromJSON(e){return new _re(e.width,e.height,e.widthSegments,e.heightSegments)}};var vXe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,gXe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,yXe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,bXe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,_Xe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,SXe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,wXe="vec3 transformed = vec3( position );",xXe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,CXe=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,MXe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,TXe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,AXe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,EXe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,IXe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,RXe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,PXe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,LXe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,DXe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,kXe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,OXe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,NXe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,BXe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,FXe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,zXe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,UXe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,HXe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,VXe="gl_FragColor = linearToOutputTexel( gl_FragColor );",$Xe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,GXe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,WXe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,qXe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,KXe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,YXe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,XXe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,jXe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ZXe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,QXe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,JXe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,eje=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,tje=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,nje=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,rje=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ije=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,aje=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,sje=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,oje=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lje=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,cje=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,uje=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,dje=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,fje=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,hje=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,pje=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,mje=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,vje=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,gje=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,yje=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,bje=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,_je=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Sje=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wje=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,xje=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Cje=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Mje=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Tje=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Aje=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Eje=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Ije=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Rje=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Pje=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Lje=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Dje=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,kje=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Oje=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Nje=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Bje=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Fje=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,zje=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Uje=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Hje=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Vje=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,$je=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Gje=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Wje=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,qje=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Kje=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Yje=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Xje=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,jje=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Zje=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Qje=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Jje=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,eZe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,tZe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,nZe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,rZe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,iZe=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,aZe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,sZe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,oZe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,lZe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,cZe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uZe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,dZe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,fZe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const hZe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,pZe=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,mZe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,vZe=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,gZe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,yZe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,bZe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,_Ze=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,SZe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,wZe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,xZe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,CZe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,MZe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,TZe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AZe=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,EZe=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,IZe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,RZe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PZe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,LZe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,DZe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kZe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OZe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,NZe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BZe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,FZe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zZe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,UZe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,HZe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VZe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,$Ze=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,GZe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Or={alphamap_fragment:vXe,alphamap_pars_fragment:gXe,alphatest_fragment:yXe,alphatest_pars_fragment:bXe,aomap_fragment:_Xe,aomap_pars_fragment:SXe,begin_vertex:wXe,beginnormal_vertex:xXe,bsdfs:CXe,iridescence_fragment:MXe,bumpmap_pars_fragment:TXe,clipping_planes_fragment:AXe,clipping_planes_pars_fragment:EXe,clipping_planes_pars_vertex:IXe,clipping_planes_vertex:RXe,color_fragment:PXe,color_pars_fragment:LXe,color_pars_vertex:DXe,color_vertex:kXe,common:OXe,cube_uv_reflection_fragment:NXe,defaultnormal_vertex:BXe,displacementmap_pars_vertex:FXe,displacementmap_vertex:zXe,emissivemap_fragment:UXe,emissivemap_pars_fragment:HXe,encodings_fragment:VXe,encodings_pars_fragment:$Xe,envmap_fragment:GXe,envmap_common_pars_fragment:WXe,envmap_pars_fragment:qXe,envmap_pars_vertex:KXe,envmap_physical_pars_fragment:ije,envmap_vertex:YXe,fog_vertex:XXe,fog_pars_vertex:jXe,fog_fragment:ZXe,fog_pars_fragment:QXe,gradientmap_pars_fragment:JXe,lightmap_fragment:eje,lightmap_pars_fragment:tje,lights_lambert_vertex:nje,lights_pars_begin:rje,lights_toon_fragment:aje,lights_toon_pars_fragment:sje,lights_phong_fragment:oje,lights_phong_pars_fragment:lje,lights_physical_fragment:cje,lights_physical_pars_fragment:uje,lights_fragment_begin:dje,lights_fragment_maps:fje,lights_fragment_end:hje,logdepthbuf_fragment:pje,logdepthbuf_pars_fragment:mje,logdepthbuf_pars_vertex:vje,logdepthbuf_vertex:gje,map_fragment:yje,map_pars_fragment:bje,map_particle_fragment:_je,map_particle_pars_fragment:Sje,metalnessmap_fragment:wje,metalnessmap_pars_fragment:xje,morphcolor_vertex:Cje,morphnormal_vertex:Mje,morphtarget_pars_vertex:Tje,morphtarget_vertex:Aje,normal_fragment_begin:Eje,normal_fragment_maps:Ije,normal_pars_fragment:Rje,normal_pars_vertex:Pje,normal_vertex:Lje,normalmap_pars_fragment:Dje,clearcoat_normal_fragment_begin:kje,clearcoat_normal_fragment_maps:Oje,clearcoat_pars_fragment:Nje,iridescence_pars_fragment:Bje,output_fragment:Fje,packing:zje,premultiplied_alpha_fragment:Uje,project_vertex:Hje,dithering_fragment:Vje,dithering_pars_fragment:$je,roughnessmap_fragment:Gje,roughnessmap_pars_fragment:Wje,shadowmap_pars_fragment:qje,shadowmap_pars_vertex:Kje,shadowmap_vertex:Yje,shadowmask_pars_fragment:Xje,skinbase_vertex:jje,skinning_pars_vertex:Zje,skinning_vertex:Qje,skinnormal_vertex:Jje,specularmap_fragment:eZe,specularmap_pars_fragment:tZe,tonemapping_fragment:nZe,tonemapping_pars_fragment:rZe,transmission_fragment:iZe,transmission_pars_fragment:aZe,uv_pars_fragment:sZe,uv_pars_vertex:oZe,uv_vertex:lZe,uv2_pars_fragment:cZe,uv2_pars_vertex:uZe,uv2_vertex:dZe,worldpos_vertex:fZe,background_vert:hZe,background_frag:pZe,cube_vert:mZe,cube_frag:vZe,depth_vert:gZe,depth_frag:yZe,distanceRGBA_vert:bZe,distanceRGBA_frag:_Ze,equirect_vert:SZe,equirect_frag:wZe,linedashed_vert:xZe,linedashed_frag:CZe,meshbasic_vert:MZe,meshbasic_frag:TZe,meshlambert_vert:AZe,meshlambert_frag:EZe,meshmatcap_vert:IZe,meshmatcap_frag:RZe,meshnormal_vert:PZe,meshnormal_frag:LZe,meshphong_vert:DZe,meshphong_frag:kZe,meshphysical_vert:OZe,meshphysical_frag:NZe,meshtoon_vert:BZe,meshtoon_frag:FZe,points_vert:zZe,points_frag:UZe,shadow_vert:HZe,shadow_frag:VZe,sprite_vert:$Ze,sprite_frag:GZe},Cn={common:{diffuse:{value:new bn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Nl},uv2Transform:{value:new Nl},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Wt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new bn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new bn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Nl}},sprite:{diffuse:{value:new bn(16777215)},opacity:{value:1},center:{value:new Wt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Nl}}},Yc={basic:{uniforms:xs([Cn.common,Cn.specularmap,Cn.envmap,Cn.aomap,Cn.lightmap,Cn.fog]),vertexShader:Or.meshbasic_vert,fragmentShader:Or.meshbasic_frag},lambert:{uniforms:xs([Cn.common,Cn.specularmap,Cn.envmap,Cn.aomap,Cn.lightmap,Cn.emissivemap,Cn.fog,Cn.lights,{emissive:{value:new bn(0)}}]),vertexShader:Or.meshlambert_vert,fragmentShader:Or.meshlambert_frag},phong:{uniforms:xs([Cn.common,Cn.specularmap,Cn.envmap,Cn.aomap,Cn.lightmap,Cn.emissivemap,Cn.bumpmap,Cn.normalmap,Cn.displacementmap,Cn.fog,Cn.lights,{emissive:{value:new bn(0)},specular:{value:new bn(1118481)},shininess:{value:30}}]),vertexShader:Or.meshphong_vert,fragmentShader:Or.meshphong_frag},standard:{uniforms:xs([Cn.common,Cn.envmap,Cn.aomap,Cn.lightmap,Cn.emissivemap,Cn.bumpmap,Cn.normalmap,Cn.displacementmap,Cn.roughnessmap,Cn.metalnessmap,Cn.fog,Cn.lights,{emissive:{value:new bn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Or.meshphysical_vert,fragmentShader:Or.meshphysical_frag},toon:{uniforms:xs([Cn.common,Cn.aomap,Cn.lightmap,Cn.emissivemap,Cn.bumpmap,Cn.normalmap,Cn.displacementmap,Cn.gradientmap,Cn.fog,Cn.lights,{emissive:{value:new bn(0)}}]),vertexShader:Or.meshtoon_vert,fragmentShader:Or.meshtoon_frag},matcap:{uniforms:xs([Cn.common,Cn.bumpmap,Cn.normalmap,Cn.displacementmap,Cn.fog,{matcap:{value:null}}]),vertexShader:Or.meshmatcap_vert,fragmentShader:Or.meshmatcap_frag},points:{uniforms:xs([Cn.points,Cn.fog]),vertexShader:Or.points_vert,fragmentShader:Or.points_frag},dashed:{uniforms:xs([Cn.common,Cn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Or.linedashed_vert,fragmentShader:Or.linedashed_frag},depth:{uniforms:xs([Cn.common,Cn.displacementmap]),vertexShader:Or.depth_vert,fragmentShader:Or.depth_frag},normal:{uniforms:xs([Cn.common,Cn.bumpmap,Cn.normalmap,Cn.displacementmap,{opacity:{value:1}}]),vertexShader:Or.meshnormal_vert,fragmentShader:Or.meshnormal_frag},sprite:{uniforms:xs([Cn.sprite,Cn.fog]),vertexShader:Or.sprite_vert,fragmentShader:Or.sprite_frag},background:{uniforms:{uvTransform:{value:new Nl},t2D:{value:null}},vertexShader:Or.background_vert,fragmentShader:Or.background_frag},cube:{uniforms:xs([Cn.envmap,{opacity:{value:1}}]),vertexShader:Or.cube_vert,fragmentShader:Or.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Or.equirect_vert,fragmentShader:Or.equirect_frag},distanceRGBA:{uniforms:xs([Cn.common,Cn.displacementmap,{referencePosition:{value:new je},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Or.distanceRGBA_vert,fragmentShader:Or.distanceRGBA_frag},shadow:{uniforms:xs([Cn.lights,Cn.fog,{color:{value:new bn(0)},opacity:{value:1}}]),vertexShader:Or.shadow_vert,fragmentShader:Or.shadow_frag}};Yc.physical={uniforms:xs([Yc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Wt(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new bn(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Wt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new bn(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new bn(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Or.meshphysical_vert,fragmentShader:Or.meshphysical_frag};function WZe(n,e,t,r,i,a){const s=new bn(0);let o=i===!0?0:1,l,c,u=null,d=0,f=null;function h(m,g){let v=!1,y=g.isScene===!0?g.background:null;y&&y.isTexture&&(y=e.get(y));const b=n.xr,_=b.getSession&&b.getSession();_&&_.environmentBlendMode==="additive"&&(y=null),y===null?p(s,o):y&&y.isColor&&(p(y,1),v=!0),(n.autoClear||v)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),y&&(y.isCubeTexture||y.mapping===VS)?(c===void 0&&(c=new Oa(new Y_(1,1,1),new Pd({name:"BackgroundCubeMaterial",uniforms:Wg(Yc.cube.uniforms),vertexShader:Yc.cube.vertexShader,fragmentShader:Yc.cube.fragmentShader,side:xc,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(w,x,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=y,c.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,(u!==y||d!==y.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,u=y,d=y.version,f=n.toneMapping),c.layers.enableAll(),m.unshift(c,c.geometry,c.material,0,0,null)):y&&y.isTexture&&(l===void 0&&(l=new Oa(new oL(2,2),new Pd({name:"BackgroundMaterial",uniforms:Wg(Yc.background.uniforms),vertexShader:Yc.background.vertexShader,fragmentShader:Yc.background.fragmentShader,side:Ch,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=y,y.matrixAutoUpdate===!0&&y.updateMatrix(),l.material.uniforms.uvTransform.value.copy(y.matrix),(u!==y||d!==y.version||f!==n.toneMapping)&&(l.material.needsUpdate=!0,u=y,d=y.version,f=n.toneMapping),l.layers.enableAll(),m.unshift(l,l.geometry,l.material,0,0,null))}function p(m,g){t.buffers.color.setClear(m.r,m.g,m.b,g,a)}return{getClearColor:function(){return s},setClearColor:function(m,g=1){s.set(m),o=g,p(s,o)},getClearAlpha:function(){return o},setClearAlpha:function(m){o=m,p(s,o)},render:h}}function qZe(n,e,t,r){const i=n.getParameter(34921),a=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||a!==null,o={},l=g(null);let c=l,u=!1;function d(N,F,D,H,z){let B=!1;if(s){const W=m(H,D,F);c!==W&&(c=W,h(c.object)),B=v(N,H,D,z),B&&y(N,H,D,z)}else{const W=F.wireframe===!0;(c.geometry!==H.id||c.program!==D.id||c.wireframe!==W)&&(c.geometry=H.id,c.program=D.id,c.wireframe=W,B=!0)}z!==null&&t.update(z,34963),(B||u)&&(u=!1,C(N,F,D,H),z!==null&&n.bindBuffer(34963,t.get(z).buffer))}function f(){return r.isWebGL2?n.createVertexArray():a.createVertexArrayOES()}function h(N){return r.isWebGL2?n.bindVertexArray(N):a.bindVertexArrayOES(N)}function p(N){return r.isWebGL2?n.deleteVertexArray(N):a.deleteVertexArrayOES(N)}function m(N,F,D){const H=D.wireframe===!0;let z=o[N.id];z===void 0&&(z={},o[N.id]=z);let B=z[F.id];B===void 0&&(B={},z[F.id]=B);let W=B[H];return W===void 0&&(W=g(f()),B[H]=W),W}function g(N){const F=[],D=[],H=[];for(let z=0;z<i;z++)F[z]=0,D[z]=0,H[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:D,attributeDivisors:H,object:N,attributes:{},index:null}}function v(N,F,D,H){const z=c.attributes,B=F.attributes;let W=0;const Z=D.getAttributes();for(const ee in Z)if(Z[ee].location>=0){const re=z[ee];let fe=B[ee];if(fe===void 0&&(ee==="instanceMatrix"&&N.instanceMatrix&&(fe=N.instanceMatrix),ee==="instanceColor"&&N.instanceColor&&(fe=N.instanceColor)),re===void 0||re.attribute!==fe||fe&&re.data!==fe.data)return!0;W++}return c.attributesNum!==W||c.index!==H}function y(N,F,D,H){const z={},B=F.attributes;let W=0;const Z=D.getAttributes();for(const ee in Z)if(Z[ee].location>=0){let re=B[ee];re===void 0&&(ee==="instanceMatrix"&&N.instanceMatrix&&(re=N.instanceMatrix),ee==="instanceColor"&&N.instanceColor&&(re=N.instanceColor));const fe={};fe.attribute=re,re&&re.data&&(fe.data=re.data),z[ee]=fe,W++}c.attributes=z,c.attributesNum=W,c.index=H}function b(){const N=c.newAttributes;for(let F=0,D=N.length;F<D;F++)N[F]=0}function _(N){w(N,0)}function w(N,F){const D=c.newAttributes,H=c.enabledAttributes,z=c.attributeDivisors;D[N]=1,H[N]===0&&(n.enableVertexAttribArray(N),H[N]=1),z[N]!==F&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](N,F),z[N]=F)}function x(){const N=c.newAttributes,F=c.enabledAttributes;for(let D=0,H=F.length;D<H;D++)F[D]!==N[D]&&(n.disableVertexAttribArray(D),F[D]=0)}function M(N,F,D,H,z,B){r.isWebGL2===!0&&(D===5124||D===5125)?n.vertexAttribIPointer(N,F,D,z,B):n.vertexAttribPointer(N,F,D,H,z,B)}function C(N,F,D,H){if(r.isWebGL2===!1&&(N.isInstancedMesh||H.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const z=H.attributes,B=D.getAttributes(),W=F.defaultAttributeValues;for(const Z in B){const ee=B[Z];if(ee.location>=0){let J=z[Z];if(J===void 0&&(Z==="instanceMatrix"&&N.instanceMatrix&&(J=N.instanceMatrix),Z==="instanceColor"&&N.instanceColor&&(J=N.instanceColor)),J!==void 0){const re=J.normalized,fe=J.itemSize,de=t.get(J);if(de===void 0)continue;const me=de.buffer,Re=de.type,De=de.bytesPerElement;if(J.isInterleavedBufferAttribute){const Ge=J.data,We=Ge.stride,K=J.offset;if(Ge.isInstancedInterleavedBuffer){for(let ue=0;ue<ee.locationSize;ue++)w(ee.location+ue,Ge.meshPerAttribute);N.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=Ge.meshPerAttribute*Ge.count)}else for(let ue=0;ue<ee.locationSize;ue++)_(ee.location+ue);n.bindBuffer(34962,me);for(let ue=0;ue<ee.locationSize;ue++)M(ee.location+ue,fe/ee.locationSize,Re,re,We*De,(K+fe/ee.locationSize*ue)*De)}else{if(J.isInstancedBufferAttribute){for(let Ge=0;Ge<ee.locationSize;Ge++)w(ee.location+Ge,J.meshPerAttribute);N.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let Ge=0;Ge<ee.locationSize;Ge++)_(ee.location+Ge);n.bindBuffer(34962,me);for(let Ge=0;Ge<ee.locationSize;Ge++)M(ee.location+Ge,fe/ee.locationSize,Re,re,fe*De,fe/ee.locationSize*Ge*De)}}else if(W!==void 0){const re=W[Z];if(re!==void 0)switch(re.length){case 2:n.vertexAttrib2fv(ee.location,re);break;case 3:n.vertexAttrib3fv(ee.location,re);break;case 4:n.vertexAttrib4fv(ee.location,re);break;default:n.vertexAttrib1fv(ee.location,re)}}}}x()}function T(){L();for(const N in o){const F=o[N];for(const D in F){const H=F[D];for(const z in H)p(H[z].object),delete H[z];delete F[D]}delete o[N]}}function A(N){if(o[N.id]===void 0)return;const F=o[N.id];for(const D in F){const H=F[D];for(const z in H)p(H[z].object),delete H[z];delete F[D]}delete o[N.id]}function I(N){for(const F in o){const D=o[F];if(D[N.id]===void 0)continue;const H=D[N.id];for(const z in H)p(H[z].object),delete H[z];delete D[N.id]}}function L(){k(),u=!0,c!==l&&(c=l,h(c.object))}function k(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:L,resetDefaultState:k,dispose:T,releaseStatesOfGeometry:A,releaseStatesOfProgram:I,initAttributes:b,enableAttribute:_,disableUnusedAttributes:x}}function KZe(n,e,t,r){const i=r.isWebGL2;let a;function s(c){a=c}function o(c,u){n.drawArrays(a,c,u),t.update(u,a,1)}function l(c,u,d){if(d===0)return;let f,h;if(i)f=n,h="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[h](a,c,u,d),t.update(u,a,d)}this.setMode=s,this.render=o,this.renderInstances=l}function YZe(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(M){if(M==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";M="mediump"}return M==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let o=t.precision!==void 0?t.precision:"highp";const l=a(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=s||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),f=n.getParameter(35660),h=n.getParameter(3379),p=n.getParameter(34076),m=n.getParameter(34921),g=n.getParameter(36347),v=n.getParameter(36348),y=n.getParameter(36349),b=f>0,_=s||e.has("OES_texture_float"),w=b&&_,x=s?n.getParameter(36183):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:y,vertexTextures:b,floatFragmentTextures:_,floatVertexTextures:w,maxSamples:x}}function XZe(n){const e=this;let t=null,r=0,i=!1,a=!1;const s=new Mp,o=new Nl,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f,h){const p=d.length!==0||f||r!==0||i;return i=f,t=u(d,h,0),r=d.length,p},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1,c()},this.setState=function(d,f,h){const p=d.clippingPlanes,m=d.clipIntersection,g=d.clipShadows,v=n.get(d);if(!i||p===null||p.length===0||a&&!g)a?u(null):c();else{const y=a?0:r,b=y*4;let _=v.clippingState||null;l.value=_,_=u(p,f,b,h);for(let w=0;w!==b;++w)_[w]=t[w];v.clippingState=_,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,h,p){const m=d!==null?d.length:0;let g=null;if(m!==0){if(g=l.value,p!==!0||g===null){const v=h+m*4,y=f.matrixWorldInverse;o.getNormalMatrix(y),(g===null||g.length<v)&&(g=new Float32Array(v));for(let b=0,_=h;b!==m;++b,_+=4)s.copy(d[b]).applyMatrix4(y,o),s.normal.toArray(g,_),g[_+3]=s.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,g}}function jZe(n){let e=new WeakMap;function t(s,o){return o===V_?s.mapping=k0:o===UM&&(s.mapping=O0),s}function r(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const o=s.mapping;if(o===V_||o===UM)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new fXe(l.height/2);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}let Ey=class extends yre{constructor(e=-1,t=1,r=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,s=r+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};const Vv=4,w$=[.125,.215,.35,.446,.526,.582],kp=20,rI=new Ey,x$=new bn;let iI=null;const Tp=(1+Math.sqrt(5))/2,Gm=1/Tp,C$=[new je(1,1,1),new je(-1,1,1),new je(1,1,-1),new je(-1,1,-1),new je(0,Tp,Gm),new je(0,Tp,-Gm),new je(Gm,0,Tp),new je(-Gm,0,Tp),new je(Tp,Gm,0),new je(-Tp,Gm,0)];let M$=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){iI=this._renderer.getRenderTarget(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=E$(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=A$(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(iI),e.scissorTest=!1,Vx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===k0||e.mapping===O0?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),iI=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:ba,minFilter:ba,generateMipmaps:!1,type:G_,format:Ol,encoding:Th,depthBuffer:!1},i=T$(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=T$(e,t,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ZZe(a)),this._blurMaterial=QZe(a,e,t)}return i}_compileMaterial(e){const t=new Oa(this._lodPlanes[0],e);this._renderer.compile(t,rI)}_sceneToCubeUV(e,t,r,i){const o=new La(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(x$),u.toneMapping=Sd,u.autoClear=!1;const h=new bc({name:"PMREM.Background",side:xc,depthWrite:!1,depthTest:!1}),p=new Oa(new Y_,h);let m=!1;const g=e.background;g?g.isColor&&(h.color.copy(g),e.background=null,m=!0):(h.color.copy(x$),m=!0);for(let v=0;v<6;v++){const y=v%3;y===0?(o.up.set(0,l[v],0),o.lookAt(c[v],0,0)):y===1?(o.up.set(0,0,l[v]),o.lookAt(0,c[v],0)):(o.up.set(0,l[v],0),o.lookAt(0,0,c[v]));const b=this._cubeSize;Vx(i,y*b,v>2?b:0,b,b),u.setRenderTarget(i),m&&u.render(p,o),u.render(e,o)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=g}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===k0||e.mapping===O0;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=E$()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=A$());const a=i?this._cubemapMaterial:this._equirectMaterial,s=new Oa(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;Vx(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(s,rI)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const a=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),s=C$[(i-1)%C$.length];this._blur(e,i-1,i,a,s)}t.autoClear=r}_blur(e,t,r,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",a),this._halfBlur(s,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,s,o){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Oa(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,p=isFinite(a)?Math.PI/(2*h):2*Math.PI/(2*kp-1),m=a/p,g=isFinite(a)?1+Math.floor(u*m):kp;g>kp&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${kp}`);const v=[];let y=0;for(let M=0;M<kp;++M){const C=M/m,T=Math.exp(-C*C/2);v.push(T),M===0?y+=T:M<g&&(y+=2*T)}for(let M=0;M<v.length;M++)v[M]=v[M]/y;f.envMap.value=e.texture,f.samples.value=g,f.weights.value=v,f.latitudinal.value=s==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:b}=this;f.dTheta.value=p,f.mipInt.value=b-r;const _=this._sizeLods[i],w=3*_*(i>b-Vv?i-b+Vv:0),x=4*(this._cubeSize-_);Vx(t,w,x,3*_,2*_),l.setRenderTarget(t),l.render(d,rI)}};function ZZe(n){const e=[],t=[],r=[];let i=n;const a=n-Vv+1+w$.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);t.push(o);let l=1/o;s>n-Vv?l=w$[s-n+Vv-1]:s===0&&(l=0),r.push(l);const c=1/(o-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,m=3,g=2,v=1,y=new Float32Array(m*p*h),b=new Float32Array(g*p*h),_=new Float32Array(v*p*h);for(let x=0;x<h;x++){const M=x%3*2/3-1,C=x>2?0:-1,T=[M,C,0,M+2/3,C,0,M+2/3,C+1,0,M,C,0,M+2/3,C+1,0,M,C+1,0];y.set(T,m*p*x),b.set(f,g*p*x);const A=[x,x,x,x,x,x];_.set(A,v*p*x)}const w=new Hr;w.setAttribute("position",new ia(y,m)),w.setAttribute("uv",new ia(b,g)),w.setAttribute("faceIndex",new ia(_,v)),e.push(w),i>Vv&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function T$(n,e,t){const r=new B0(n,e,t);return r.texture.mapping=VS,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Vx(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function QZe(n,e,t){const r=new Float32Array(kp),i=new je(0,1,0);return new Pd({name:"SphericalGaussianBlur",defines:{n:kp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Y8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:eh,depthTest:!1,depthWrite:!1})}function A$(){return new Pd({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Y8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:eh,depthTest:!1,depthWrite:!1})}function E$(){return new Pd({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Y8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:eh,depthTest:!1,depthWrite:!1})}function Y8(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function JZe(n){let e=new WeakMap,t=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===V_||l===UM,u=l===k0||l===O0;if(c||u)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let d=e.get(o);return t===null&&(t=new M$(n)),d=c?t.fromEquirectangular(o,d):t.fromCubemap(o,d),e.set(o,d),d.texture}else{if(e.has(o))return e.get(o).texture;{const d=o.image;if(c&&d&&d.height>0||u&&d&&i(d)){t===null&&(t=new M$(n));const f=c?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,f),o.addEventListener("dispose",a),f.texture}else return null}}}return o}function i(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function eQe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function tQe(n,e,t,r){const i={},a=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const p in f.attributes)e.remove(f.attributes[p]);f.removeEventListener("dispose",s),delete i[f.id];const h=a.get(f);h&&(e.remove(h),a.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function o(d,f){return i[f.id]===!0||(f.addEventListener("dispose",s),i[f.id]=!0,t.memory.geometries++),f}function l(d){const f=d.attributes;for(const p in f)e.update(f[p],34962);const h=d.morphAttributes;for(const p in h){const m=h[p];for(let g=0,v=m.length;g<v;g++)e.update(m[g],34962)}}function c(d){const f=[],h=d.index,p=d.attributes.position;let m=0;if(h!==null){const y=h.array;m=h.version;for(let b=0,_=y.length;b<_;b+=3){const w=y[b+0],x=y[b+1],M=y[b+2];f.push(w,x,x,M,M,w)}}else{const y=p.array;m=p.version;for(let b=0,_=y.length/3-1;b<_;b+=3){const w=b+0,x=b+1,M=b+2;f.push(w,x,x,M,M,w)}}const g=new(lre(f)?mre:W8)(f,1);g.version=m;const v=a.get(d);v&&e.remove(v),a.set(d,g)}function u(d){const f=a.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return a.get(d)}return{get:o,update:l,getWireframeAttribute:u}}function nQe(n,e,t,r){const i=r.isWebGL2;let a;function s(f){a=f}let o,l;function c(f){o=f.type,l=f.bytesPerElement}function u(f,h){n.drawElements(a,h,o,f*l),t.update(h,a,1)}function d(f,h,p){if(p===0)return;let m,g;if(i)m=n,g="drawElementsInstanced";else if(m=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",m===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[g](a,h,o,f*l,p),t.update(h,a,p)}this.setMode=s,this.setIndex=c,this.render=u,this.renderInstances=d}function rQe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,o){switch(t.calls++,s){case 4:t.triangles+=o*(a/3);break;case 1:t.lines+=o*(a/2);break;case 3:t.lines+=o*(a-1);break;case 2:t.lines+=o*a;break;case 0:t.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function iQe(n,e){return n[0]-e[0]}function aQe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function aI(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Uint8Array?t=255:r instanceof Uint16Array?t=65535:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function sQe(n,e,t){const r={},i=new Float32Array(8),a=new WeakMap,s=new ai,o=[];for(let c=0;c<8;c++)o[c]=[c,0];function l(c,u,d,f){const h=c.morphTargetInfluences;if(e.isWebGL2===!0){const p=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,m=p!==void 0?p.length:0;let g=a.get(u);if(g===void 0||g.count!==m){let b=function(){N.dispose(),a.delete(u),u.removeEventListener("dispose",b)};g!==void 0&&g.texture.dispose();const _=u.morphAttributes.position!==void 0,w=u.morphAttributes.normal!==void 0,x=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],C=u.morphAttributes.normal||[],T=u.morphAttributes.color||[];let A=0;_===!0&&(A=1),w===!0&&(A=2),x===!0&&(A=3);let I=u.attributes.position.count*A,L=1;I>e.maxTextureSize&&(L=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const k=new Float32Array(I*L*4*m),N=new fre(k,I,L,m);N.type=qf,N.needsUpdate=!0;const F=A*4;for(let D=0;D<m;D++){const H=M[D],z=C[D],B=T[D],W=I*L*4*D;for(let Z=0;Z<H.count;Z++){const ee=Z*F;_===!0&&(s.fromBufferAttribute(H,Z),H.normalized===!0&&aI(s,H),k[W+ee+0]=s.x,k[W+ee+1]=s.y,k[W+ee+2]=s.z,k[W+ee+3]=0),w===!0&&(s.fromBufferAttribute(z,Z),z.normalized===!0&&aI(s,z),k[W+ee+4]=s.x,k[W+ee+5]=s.y,k[W+ee+6]=s.z,k[W+ee+7]=0),x===!0&&(s.fromBufferAttribute(B,Z),B.normalized===!0&&aI(s,B),k[W+ee+8]=s.x,k[W+ee+9]=s.y,k[W+ee+10]=s.z,k[W+ee+11]=B.itemSize===4?s.w:1)}}g={count:m,texture:N,size:new Wt(I,L)},a.set(u,g),u.addEventListener("dispose",b)}let v=0;for(let b=0;b<h.length;b++)v+=h[b];const y=u.morphTargetsRelative?1:1-v;f.getUniforms().setValue(n,"morphTargetBaseInfluence",y),f.getUniforms().setValue(n,"morphTargetInfluences",h),f.getUniforms().setValue(n,"morphTargetsTexture",g.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",g.size)}else{const p=h===void 0?0:h.length;let m=r[u.id];if(m===void 0||m.length!==p){m=[];for(let _=0;_<p;_++)m[_]=[_,0];r[u.id]=m}for(let _=0;_<p;_++){const w=m[_];w[0]=_,w[1]=h[_]}m.sort(aQe);for(let _=0;_<8;_++)_<p&&m[_][1]?(o[_][0]=m[_][0],o[_][1]=m[_][1]):(o[_][0]=Number.MAX_SAFE_INTEGER,o[_][1]=0);o.sort(iQe);const g=u.morphAttributes.position,v=u.morphAttributes.normal;let y=0;for(let _=0;_<8;_++){const w=o[_],x=w[0],M=w[1];x!==Number.MAX_SAFE_INTEGER&&M?(g&&u.getAttribute("morphTarget"+_)!==g[x]&&u.setAttribute("morphTarget"+_,g[x]),v&&u.getAttribute("morphNormal"+_)!==v[x]&&u.setAttribute("morphNormal"+_,v[x]),i[_]=M,y+=M):(g&&u.hasAttribute("morphTarget"+_)===!0&&u.deleteAttribute("morphTarget"+_),v&&u.hasAttribute("morphNormal"+_)===!0&&u.deleteAttribute("morphNormal"+_),i[_]=0)}const b=u.morphTargetsRelative?1:1-y;f.getUniforms().setValue(n,"morphTargetBaseInfluence",b),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function oQe(n,e,t,r){let i=new WeakMap;function a(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function s(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:a,dispose:s}}const Sre=new fs,wre=new fre,xre=new jYe,Cre=new q8,I$=[],R$=[],P$=new Float32Array(16),L$=new Float32Array(9),D$=new Float32Array(4);function Iy(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let a=I$[i];if(a===void 0&&(a=new Float32Array(i),I$[i]=a),e!==0){r.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,n[s].toArray(a,o)}return a}function ro(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function io(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function OA(n,e){let t=R$[e];t===void 0&&(t=new Int32Array(e),R$[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function lQe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function cQe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ro(t,e))return;n.uniform2fv(this.addr,e),io(t,e)}}function uQe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ro(t,e))return;n.uniform3fv(this.addr,e),io(t,e)}}function dQe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ro(t,e))return;n.uniform4fv(this.addr,e),io(t,e)}}function fQe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ro(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),io(t,e)}else{if(ro(t,r))return;D$.set(r),n.uniformMatrix2fv(this.addr,!1,D$),io(t,r)}}function hQe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ro(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),io(t,e)}else{if(ro(t,r))return;L$.set(r),n.uniformMatrix3fv(this.addr,!1,L$),io(t,r)}}function pQe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ro(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),io(t,e)}else{if(ro(t,r))return;P$.set(r),n.uniformMatrix4fv(this.addr,!1,P$),io(t,r)}}function mQe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function vQe(n,e){const t=this.cache;ro(t,e)||(n.uniform2iv(this.addr,e),io(t,e))}function gQe(n,e){const t=this.cache;ro(t,e)||(n.uniform3iv(this.addr,e),io(t,e))}function yQe(n,e){const t=this.cache;ro(t,e)||(n.uniform4iv(this.addr,e),io(t,e))}function bQe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function _Qe(n,e){const t=this.cache;ro(t,e)||(n.uniform2uiv(this.addr,e),io(t,e))}function SQe(n,e){const t=this.cache;ro(t,e)||(n.uniform3uiv(this.addr,e),io(t,e))}function wQe(n,e){const t=this.cache;ro(t,e)||(n.uniform4uiv(this.addr,e),io(t,e))}function xQe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||Sre,i)}function CQe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||xre,i)}function MQe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Cre,i)}function TQe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||wre,i)}function AQe(n){switch(n){case 5126:return lQe;case 35664:return cQe;case 35665:return uQe;case 35666:return dQe;case 35674:return fQe;case 35675:return hQe;case 35676:return pQe;case 5124:case 35670:return mQe;case 35667:case 35671:return vQe;case 35668:case 35672:return gQe;case 35669:case 35673:return yQe;case 5125:return bQe;case 36294:return _Qe;case 36295:return SQe;case 36296:return wQe;case 35678:case 36198:case 36298:case 36306:case 35682:return xQe;case 35679:case 36299:case 36307:return CQe;case 35680:case 36300:case 36308:case 36293:return MQe;case 36289:case 36303:case 36311:case 36292:return TQe}}function EQe(n,e){n.uniform1fv(this.addr,e)}function IQe(n,e){const t=Iy(e,this.size,2);n.uniform2fv(this.addr,t)}function RQe(n,e){const t=Iy(e,this.size,3);n.uniform3fv(this.addr,t)}function PQe(n,e){const t=Iy(e,this.size,4);n.uniform4fv(this.addr,t)}function LQe(n,e){const t=Iy(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function DQe(n,e){const t=Iy(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function kQe(n,e){const t=Iy(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function OQe(n,e){n.uniform1iv(this.addr,e)}function NQe(n,e){n.uniform2iv(this.addr,e)}function BQe(n,e){n.uniform3iv(this.addr,e)}function FQe(n,e){n.uniform4iv(this.addr,e)}function zQe(n,e){n.uniform1uiv(this.addr,e)}function UQe(n,e){n.uniform2uiv(this.addr,e)}function HQe(n,e){n.uniform3uiv(this.addr,e)}function VQe(n,e){n.uniform4uiv(this.addr,e)}function $Qe(n,e,t){const r=e.length,i=OA(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTexture2D(e[a]||Sre,i[a])}function GQe(n,e,t){const r=e.length,i=OA(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTexture3D(e[a]||xre,i[a])}function WQe(n,e,t){const r=e.length,i=OA(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTextureCube(e[a]||Cre,i[a])}function qQe(n,e,t){const r=e.length,i=OA(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||wre,i[a])}function KQe(n){switch(n){case 5126:return EQe;case 35664:return IQe;case 35665:return RQe;case 35666:return PQe;case 35674:return LQe;case 35675:return DQe;case 35676:return kQe;case 5124:case 35670:return OQe;case 35667:case 35671:return NQe;case 35668:case 35672:return BQe;case 35669:case 35673:return FQe;case 5125:return zQe;case 36294:return UQe;case 36295:return HQe;case 36296:return VQe;case 35678:case 36198:case 36298:case 36306:case 35682:return $Qe;case 35679:case 36299:case 36307:return GQe;case 35680:case 36300:case 36308:case 36293:return WQe;case 36289:case 36303:case 36311:case 36292:return qQe}}let YQe=class{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=AQe(t.type)}},XQe=class{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=KQe(t.type)}},jQe=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,t[o.id],r)}}};const sI=/(\w+)(\])?(\[|\.)?/g;function k$(n,e){n.seq.push(e),n.map[e.id]=e}function ZQe(n,e,t){const r=n.name,i=r.length;for(sI.lastIndex=0;;){const a=sI.exec(r),s=sI.lastIndex;let o=a[1];const l=a[2]==="]",c=a[3];if(l&&(o=o|0),c===void 0||c==="["&&s+2===i){k$(t,c===void 0?new YQe(o,n,e):new XQe(o,n,e));break}else{let d=t.map[o];d===void 0&&(d=new jQe(o),k$(t,d)),t=d}}}let MC=class{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const a=e.getActiveUniform(t,i),s=e.getUniformLocation(t,a.name);ZQe(a,s,this)}}setValue(e,t,r,i){const a=this.map[t];a!==void 0&&a.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let a=0,s=t.length;a!==s;++a){const o=t[a],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in t&&r.push(s)}return r}};function O$(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let QQe=0;function JQe(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=i;s<a;s++){const o=s+1;r.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return r.join(`
`)}function eJe(n){switch(n){case Th:return["Linear","( value )"];case Ir:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function N$(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const s=parseInt(a[1]);return t.toUpperCase()+`

`+i+`

`+JQe(n.getShaderSource(e),s)}else return i}function tJe(n,e){const t=eJe(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function nJe(n,e){let t;switch(e){case aYe:t="Linear";break;case sYe:t="Reinhard";break;case oYe:t="OptimizedCineon";break;case lYe:t="ACESFilmic";break;case cYe:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function rJe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(nb).join(`
`)}function iJe(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function aJe(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const a=n.getActiveAttrib(e,i),s=a.name;let o=1;a.type===35674&&(o=2),a.type===35675&&(o=3),a.type===35676&&(o=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:o}}return t}function nb(n){return n!==""}function B$(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function F$(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const sJe=/^[ \t]*#include +<([\w\d./]+)>/gm;function lL(n){return n.replace(sJe,oJe)}function oJe(n,e){const t=Or[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return lL(t)}const lJe=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,cJe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function z$(n){return n.replace(cJe,Mre).replace(lJe,uJe)}function uJe(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Mre(n,e,t,r)}function Mre(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function U$(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function dJe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Jne?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===NKe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===tb&&(e="SHADOWMAP_TYPE_VSM"),e}function fJe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case k0:case O0:e="ENVMAP_TYPE_CUBE";break;case VS:e="ENVMAP_TYPE_CUBE_UV";break}return e}function hJe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case O0:e="ENVMAP_MODE_REFRACTION";break}return e}function pJe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case DA:e="ENVMAP_BLENDING_MULTIPLY";break;case rYe:e="ENVMAP_BLENDING_MIX";break;case iYe:e="ENVMAP_BLENDING_ADD";break}return e}function mJe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function vJe(n,e,t,r){const i=n.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const l=dJe(t),c=fJe(t),u=hJe(t),d=pJe(t),f=mJe(t),h=t.isWebGL2?"":rJe(t),p=iJe(a),m=i.createProgram();let g,v,y=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=[p].filter(nb).join(`
`),g.length>0&&(g+=`
`),v=[h,p].filter(nb).join(`
`),v.length>0&&(v+=`
`)):(g=[U$(t),"#define SHADER_NAME "+t.shaderName,p,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(nb).join(`
`),v=[h,U$(t),"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Sd?"#define TONE_MAPPING":"",t.toneMapping!==Sd?Or.tonemapping_pars_fragment:"",t.toneMapping!==Sd?nJe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Or.encodings_pars_fragment,tJe("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(nb).join(`
`)),s=lL(s),s=B$(s,t),s=F$(s,t),o=lL(o),o=B$(o,t),o=F$(o,t),s=z$(s),o=z$(o),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,v=["#define varying in",t.glslVersion===c$?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===c$?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const b=y+g+s,_=y+v+o,w=O$(i,35633,b),x=O$(i,35632,_);if(i.attachShader(m,w),i.attachShader(m,x),t.index0AttributeName!==void 0?i.bindAttribLocation(m,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),n.debug.checkShaderErrors){const T=i.getProgramInfoLog(m).trim(),A=i.getShaderInfoLog(w).trim(),I=i.getShaderInfoLog(x).trim();let L=!0,k=!0;if(i.getProgramParameter(m,35714)===!1){L=!1;const N=N$(i,w,"vertex"),F=N$(i,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,35715)+`

Program Info Log: `+T+`
`+N+`
`+F)}else T!==""?console.warn("THREE.WebGLProgram: Program Info Log:",T):(A===""||I==="")&&(k=!1);k&&(this.diagnostics={runnable:L,programLog:T,vertexShader:{log:A,prefix:g},fragmentShader:{log:I,prefix:v}})}i.deleteShader(w),i.deleteShader(x);let M;this.getUniforms=function(){return M===void 0&&(M=new MC(i,m)),M};let C;return this.getAttributes=function(){return C===void 0&&(C=aJe(i,m)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.name=t.shaderName,this.id=QQe++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=w,this.fragmentShader=x,this}let gJe=0,yJe=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const r=new bJe(e);t.set(e,r)}return t.get(e)}},bJe=class{constructor(e){this.id=gJe++,this.code=e,this.usedTimes=0}};function _Je(n,e,t,r,i,a,s){const o=new G8,l=new yJe,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(C,T,A,I,L){const k=I.fog,N=L.geometry,F=C.isMeshStandardMaterial?I.environment:null,D=(C.isMeshStandardMaterial?t:e).get(C.envMap||F),H=D&&D.mapping===VS?D.image.height:null,z=p[C.type];C.precision!==null&&(h=i.getMaxPrecision(C.precision),h!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",h,"instead."));const B=N.morphAttributes.position||N.morphAttributes.normal||N.morphAttributes.color,W=B!==void 0?B.length:0;let Z=0;N.morphAttributes.position!==void 0&&(Z=1),N.morphAttributes.normal!==void 0&&(Z=2),N.morphAttributes.color!==void 0&&(Z=3);let ee,J,re,fe;if(z){const We=Yc[z];ee=We.vertexShader,J=We.fragmentShader}else ee=C.vertexShader,J=C.fragmentShader,l.update(C),re=l.getVertexShaderID(C),fe=l.getFragmentShaderID(C);const de=n.getRenderTarget(),me=C.alphaTest>0,Re=C.clearcoat>0,De=C.iridescence>0;return{isWebGL2:u,shaderID:z,shaderName:C.type,vertexShader:ee,fragmentShader:J,defines:C.defines,customVertexShaderID:re,customFragmentShaderID:fe,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:h,instancing:L.isInstancedMesh===!0,instancingColor:L.isInstancedMesh===!0&&L.instanceColor!==null,supportsVertexTextures:f,outputEncoding:de===null?n.outputEncoding:de.isXRRenderTarget===!0?de.texture.encoding:Th,map:!!C.map,matcap:!!C.matcap,envMap:!!D,envMapMode:D&&D.mapping,envMapCubeUVHeight:H,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:C.normalMapType===PYe,tangentSpaceNormalMap:C.normalMapType===Q0,decodeVideoTexture:!!C.map&&C.map.isVideoTexture===!0&&C.map.encoding===Ir,clearcoat:Re,clearcoatMap:Re&&!!C.clearcoatMap,clearcoatRoughnessMap:Re&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:Re&&!!C.clearcoatNormalMap,iridescence:De,iridescenceMap:De&&!!C.iridescenceMap,iridescenceThicknessMap:De&&!!C.iridescenceThicknessMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:C.transparent===!1&&C.blending===lg,alphaMap:!!C.alphaMap,alphaTest:me,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!N.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!N.attributes.color&&N.attributes.color.itemSize===4,vertexUvs:!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatMap||!!C.clearcoatRoughnessMap||!!C.clearcoatNormalMap||!!C.iridescenceMap||!!C.iridescenceThicknessMap||!!C.displacementMap||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||!!C.sheenColorMap||!!C.sheenRoughnessMap,uvsVertexOnly:!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatNormalMap||C.iridescenceMap||C.iridescenceThicknessMap||C.transmission>0||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheen>0||C.sheenColorMap||C.sheenRoughnessMap)&&!!C.displacementMap,fog:!!k,useFog:C.fog===!0,fogExp2:k&&k.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:d,skinning:L.isSkinnedMesh===!0,morphTargets:N.morphAttributes.position!==void 0,morphNormals:N.morphAttributes.normal!==void 0,morphColors:N.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:Z,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&A.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:Sd,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===Mh,flipSided:C.side===xc,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function g(C){const T=[];if(C.shaderID?T.push(C.shaderID):(T.push(C.customVertexShaderID),T.push(C.customFragmentShaderID)),C.defines!==void 0)for(const A in C.defines)T.push(A),T.push(C.defines[A]);return C.isRawShaderMaterial===!1&&(v(T,C),y(T,C),T.push(n.outputEncoding)),T.push(C.customProgramCacheKey),T.join()}function v(C,T){C.push(T.precision),C.push(T.outputEncoding),C.push(T.envMapMode),C.push(T.envMapCubeUVHeight),C.push(T.combine),C.push(T.vertexUvs),C.push(T.fogExp2),C.push(T.sizeAttenuation),C.push(T.morphTargetsCount),C.push(T.morphAttributeCount),C.push(T.numDirLights),C.push(T.numPointLights),C.push(T.numSpotLights),C.push(T.numHemiLights),C.push(T.numRectAreaLights),C.push(T.numDirLightShadows),C.push(T.numPointLightShadows),C.push(T.numSpotLightShadows),C.push(T.shadowMapType),C.push(T.toneMapping),C.push(T.numClippingPlanes),C.push(T.numClipIntersection),C.push(T.depthPacking)}function y(C,T){o.disableAll(),T.isWebGL2&&o.enable(0),T.supportsVertexTextures&&o.enable(1),T.instancing&&o.enable(2),T.instancingColor&&o.enable(3),T.map&&o.enable(4),T.matcap&&o.enable(5),T.envMap&&o.enable(6),T.lightMap&&o.enable(7),T.aoMap&&o.enable(8),T.emissiveMap&&o.enable(9),T.bumpMap&&o.enable(10),T.normalMap&&o.enable(11),T.objectSpaceNormalMap&&o.enable(12),T.tangentSpaceNormalMap&&o.enable(13),T.clearcoat&&o.enable(14),T.clearcoatMap&&o.enable(15),T.clearcoatRoughnessMap&&o.enable(16),T.clearcoatNormalMap&&o.enable(17),T.iridescence&&o.enable(18),T.iridescenceMap&&o.enable(19),T.iridescenceThicknessMap&&o.enable(20),T.displacementMap&&o.enable(21),T.specularMap&&o.enable(22),T.roughnessMap&&o.enable(23),T.metalnessMap&&o.enable(24),T.gradientMap&&o.enable(25),T.alphaMap&&o.enable(26),T.alphaTest&&o.enable(27),T.vertexColors&&o.enable(28),T.vertexAlphas&&o.enable(29),T.vertexUvs&&o.enable(30),T.vertexTangents&&o.enable(31),T.uvsVertexOnly&&o.enable(32),T.fog&&o.enable(33),C.push(o.mask),o.disableAll(),T.useFog&&o.enable(0),T.flatShading&&o.enable(1),T.logarithmicDepthBuffer&&o.enable(2),T.skinning&&o.enable(3),T.morphTargets&&o.enable(4),T.morphNormals&&o.enable(5),T.morphColors&&o.enable(6),T.premultipliedAlpha&&o.enable(7),T.shadowMapEnabled&&o.enable(8),T.physicallyCorrectLights&&o.enable(9),T.doubleSided&&o.enable(10),T.flipSided&&o.enable(11),T.useDepthPacking&&o.enable(12),T.dithering&&o.enable(13),T.specularIntensityMap&&o.enable(14),T.specularColorMap&&o.enable(15),T.transmission&&o.enable(16),T.transmissionMap&&o.enable(17),T.thicknessMap&&o.enable(18),T.sheen&&o.enable(19),T.sheenColorMap&&o.enable(20),T.sheenRoughnessMap&&o.enable(21),T.decodeVideoTexture&&o.enable(22),T.opaque&&o.enable(23),C.push(o.mask)}function b(C){const T=p[C.type];let A;if(T){const I=Yc[T];A=lXe.clone(I.uniforms)}else A=C.uniforms;return A}function _(C,T){let A;for(let I=0,L=c.length;I<L;I++){const k=c[I];if(k.cacheKey===T){A=k,++A.usedTimes;break}}return A===void 0&&(A=new vJe(n,T,C,a),c.push(A)),A}function w(C){if(--C.usedTimes===0){const T=c.indexOf(C);c[T]=c[c.length-1],c.pop(),C.destroy()}}function x(C){l.remove(C)}function M(){l.dispose()}return{getParameters:m,getProgramCacheKey:g,getUniforms:b,acquireProgram:_,releaseProgram:w,releaseShaderCache:x,programs:c,dispose:M}}function SJe(){let n=new WeakMap;function e(a){let s=n.get(a);return s===void 0&&(s={},n.set(a,s)),s}function t(a){n.delete(a)}function r(a,s,o){n.get(a)[s]=o}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function wJe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function H$(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function V$(){const n=[];let e=0;const t=[],r=[],i=[];function a(){e=0,t.length=0,r.length=0,i.length=0}function s(d,f,h,p,m,g){let v=n[e];return v===void 0?(v={id:d.id,object:d,geometry:f,material:h,groupOrder:p,renderOrder:d.renderOrder,z:m,group:g},n[e]=v):(v.id=d.id,v.object=d,v.geometry=f,v.material=h,v.groupOrder=p,v.renderOrder=d.renderOrder,v.z=m,v.group=g),e++,v}function o(d,f,h,p,m,g){const v=s(d,f,h,p,m,g);h.transmission>0?r.push(v):h.transparent===!0?i.push(v):t.push(v)}function l(d,f,h,p,m,g){const v=s(d,f,h,p,m,g);h.transmission>0?r.unshift(v):h.transparent===!0?i.unshift(v):t.unshift(v)}function c(d,f){t.length>1&&t.sort(d||wJe),r.length>1&&r.sort(f||H$),i.length>1&&i.sort(f||H$)}function u(){for(let d=e,f=n.length;d<f;d++){const h=n[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:t,transmissive:r,transparent:i,init:a,push:o,unshift:l,finish:u,sort:c}}function xJe(){let n=new WeakMap;function e(r,i){let a;return n.has(r)===!1?(a=new V$,n.set(r,[a])):i>=n.get(r).length?(a=new V$,n.get(r).push(a)):a=n.get(r)[i],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function CJe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new je,color:new bn};break;case"SpotLight":t={position:new je,direction:new je,color:new bn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new je,color:new bn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new je,skyColor:new bn,groundColor:new bn};break;case"RectAreaLight":t={color:new bn,position:new je,halfWidth:new je,halfHeight:new je};break}return n[e.id]=t,t}}}function MJe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Wt};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Wt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Wt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let TJe=0;function AJe(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function EJe(n,e){const t=new CJe,r=MJe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)i.probe.push(new je);const a=new je,s=new Un,o=new Un;function l(u,d){let f=0,h=0,p=0;for(let T=0;T<9;T++)i.probe[T].set(0,0,0);let m=0,g=0,v=0,y=0,b=0,_=0,w=0,x=0;u.sort(AJe);const M=d!==!0?Math.PI:1;for(let T=0,A=u.length;T<A;T++){const I=u[T],L=I.color,k=I.intensity,N=I.distance,F=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)f+=L.r*k*M,h+=L.g*k*M,p+=L.b*k*M;else if(I.isLightProbe)for(let D=0;D<9;D++)i.probe[D].addScaledVector(I.sh.coefficients[D],k);else if(I.isDirectionalLight){const D=t.get(I);if(D.color.copy(I.color).multiplyScalar(I.intensity*M),I.castShadow){const H=I.shadow,z=r.get(I);z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,i.directionalShadow[m]=z,i.directionalShadowMap[m]=F,i.directionalShadowMatrix[m]=I.shadow.matrix,_++}i.directional[m]=D,m++}else if(I.isSpotLight){const D=t.get(I);if(D.position.setFromMatrixPosition(I.matrixWorld),D.color.copy(L).multiplyScalar(k*M),D.distance=N,D.coneCos=Math.cos(I.angle),D.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),D.decay=I.decay,I.castShadow){const H=I.shadow,z=r.get(I);z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,i.spotShadow[v]=z,i.spotShadowMap[v]=F,i.spotShadowMatrix[v]=I.shadow.matrix,x++}i.spot[v]=D,v++}else if(I.isRectAreaLight){const D=t.get(I);D.color.copy(L).multiplyScalar(k),D.halfWidth.set(I.width*.5,0,0),D.halfHeight.set(0,I.height*.5,0),i.rectArea[y]=D,y++}else if(I.isPointLight){const D=t.get(I);if(D.color.copy(I.color).multiplyScalar(I.intensity*M),D.distance=I.distance,D.decay=I.decay,I.castShadow){const H=I.shadow,z=r.get(I);z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,z.shadowCameraNear=H.camera.near,z.shadowCameraFar=H.camera.far,i.pointShadow[g]=z,i.pointShadowMap[g]=F,i.pointShadowMatrix[g]=I.shadow.matrix,w++}i.point[g]=D,g++}else if(I.isHemisphereLight){const D=t.get(I);D.skyColor.copy(I.color).multiplyScalar(k*M),D.groundColor.copy(I.groundColor).multiplyScalar(k*M),i.hemi[b]=D,b++}}y>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Cn.LTC_FLOAT_1,i.rectAreaLTC2=Cn.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Cn.LTC_HALF_1,i.rectAreaLTC2=Cn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=h,i.ambient[2]=p;const C=i.hash;(C.directionalLength!==m||C.pointLength!==g||C.spotLength!==v||C.rectAreaLength!==y||C.hemiLength!==b||C.numDirectionalShadows!==_||C.numPointShadows!==w||C.numSpotShadows!==x)&&(i.directional.length=m,i.spot.length=v,i.rectArea.length=y,i.point.length=g,i.hemi.length=b,i.directionalShadow.length=_,i.directionalShadowMap.length=_,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=x,i.spotShadowMap.length=x,i.directionalShadowMatrix.length=_,i.pointShadowMatrix.length=w,i.spotShadowMatrix.length=x,C.directionalLength=m,C.pointLength=g,C.spotLength=v,C.rectAreaLength=y,C.hemiLength=b,C.numDirectionalShadows=_,C.numPointShadows=w,C.numSpotShadows=x,i.version=TJe++)}function c(u,d){let f=0,h=0,p=0,m=0,g=0;const v=d.matrixWorldInverse;for(let y=0,b=u.length;y<b;y++){const _=u[y];if(_.isDirectionalLight){const w=i.directional[f];w.direction.setFromMatrixPosition(_.matrixWorld),a.setFromMatrixPosition(_.target.matrixWorld),w.direction.sub(a),w.direction.transformDirection(v),f++}else if(_.isSpotLight){const w=i.spot[p];w.position.setFromMatrixPosition(_.matrixWorld),w.position.applyMatrix4(v),w.direction.setFromMatrixPosition(_.matrixWorld),a.setFromMatrixPosition(_.target.matrixWorld),w.direction.sub(a),w.direction.transformDirection(v),p++}else if(_.isRectAreaLight){const w=i.rectArea[m];w.position.setFromMatrixPosition(_.matrixWorld),w.position.applyMatrix4(v),o.identity(),s.copy(_.matrixWorld),s.premultiply(v),o.extractRotation(s),w.halfWidth.set(_.width*.5,0,0),w.halfHeight.set(0,_.height*.5,0),w.halfWidth.applyMatrix4(o),w.halfHeight.applyMatrix4(o),m++}else if(_.isPointLight){const w=i.point[h];w.position.setFromMatrixPosition(_.matrixWorld),w.position.applyMatrix4(v),h++}else if(_.isHemisphereLight){const w=i.hemi[g];w.direction.setFromMatrixPosition(_.matrixWorld),w.direction.transformDirection(v),g++}}}return{setup:l,setupView:c,state:i}}function $$(n,e){const t=new EJe(n,e),r=[],i=[];function a(){r.length=0,i.length=0}function s(d){r.push(d)}function o(d){i.push(d)}function l(d){t.setup(r,d)}function c(d){t.setupView(r,d)}return{init:a,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:s,pushShadow:o}}function IJe(n,e){let t=new WeakMap;function r(a,s=0){let o;return t.has(a)===!1?(o=new $$(n,e),t.set(a,[o])):s>=t.get(a).length?(o=new $$(n,e),t.get(a).push(o)):o=t.get(a)[s],o}function i(){t=new WeakMap}return{get:r,dispose:i}}let Tre=class extends Ma{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=IYe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},Are=class extends Ma{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new je,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}};const RJe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,PJe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function LJe(n,e,t){let r=new K8;const i=new Wt,a=new Wt,s=new ai,o=new Tre({depthPacking:RYe}),l=new Are,c={},u=t.maxTextureSize,d={0:xc,1:Ch,2:Mh},f=new Pd({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Wt},radius:{value:4}},vertexShader:RJe,fragmentShader:PJe}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new Hr;p.setAttribute("position",new ia(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Oa(p,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Jne,this.render=function(_,w,x){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||_.length===0)return;const M=n.getRenderTarget(),C=n.getActiveCubeFace(),T=n.getActiveMipmapLevel(),A=n.state;A.setBlending(eh),A.buffers.color.setClear(1,1,1,1),A.buffers.depth.setTest(!0),A.setScissorTest(!1);for(let I=0,L=_.length;I<L;I++){const k=_[I],N=k.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",k,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;i.copy(N.mapSize);const F=N.getFrameExtents();if(i.multiply(F),a.copy(N.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/F.x),i.x=a.x*F.x,N.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/F.y),i.y=a.y*F.y,N.mapSize.y=a.y)),N.map===null){const H=this.type!==tb?{minFilter:Ga,magFilter:Ga}:{};N.map=new B0(i.x,i.y,H),N.map.texture.name=k.name+".shadowMap",N.camera.updateProjectionMatrix()}n.setRenderTarget(N.map),n.clear();const D=N.getViewportCount();for(let H=0;H<D;H++){const z=N.getViewport(H);s.set(a.x*z.x,a.y*z.y,a.x*z.z,a.y*z.w),A.viewport(s),N.updateMatrices(k,H),r=N.getFrustum(),b(w,x,N.camera,k,this.type)}N.isPointLightShadow!==!0&&this.type===tb&&v(N,x),N.needsUpdate=!1}g.needsUpdate=!1,n.setRenderTarget(M,C,T)};function v(_,w){const x=e.update(m);f.defines.VSM_SAMPLES!==_.blurSamples&&(f.defines.VSM_SAMPLES=_.blurSamples,h.defines.VSM_SAMPLES=_.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),_.mapPass===null&&(_.mapPass=new B0(i.x,i.y)),f.uniforms.shadow_pass.value=_.map.texture,f.uniforms.resolution.value=_.mapSize,f.uniforms.radius.value=_.radius,n.setRenderTarget(_.mapPass),n.clear(),n.renderBufferDirect(w,null,x,f,m,null),h.uniforms.shadow_pass.value=_.mapPass.texture,h.uniforms.resolution.value=_.mapSize,h.uniforms.radius.value=_.radius,n.setRenderTarget(_.map),n.clear(),n.renderBufferDirect(w,null,x,h,m,null)}function y(_,w,x,M,C,T){let A=null;const I=x.isPointLight===!0?_.customDistanceMaterial:_.customDepthMaterial;if(I!==void 0?A=I:A=x.isPointLight===!0?l:o,n.localClippingEnabled&&w.clipShadows===!0&&Array.isArray(w.clippingPlanes)&&w.clippingPlanes.length!==0||w.displacementMap&&w.displacementScale!==0||w.alphaMap&&w.alphaTest>0){const L=A.uuid,k=w.uuid;let N=c[L];N===void 0&&(N={},c[L]=N);let F=N[k];F===void 0&&(F=A.clone(),N[k]=F),A=F}return A.visible=w.visible,A.wireframe=w.wireframe,T===tb?A.side=w.shadowSide!==null?w.shadowSide:w.side:A.side=w.shadowSide!==null?w.shadowSide:d[w.side],A.alphaMap=w.alphaMap,A.alphaTest=w.alphaTest,A.clipShadows=w.clipShadows,A.clippingPlanes=w.clippingPlanes,A.clipIntersection=w.clipIntersection,A.displacementMap=w.displacementMap,A.displacementScale=w.displacementScale,A.displacementBias=w.displacementBias,A.wireframeLinewidth=w.wireframeLinewidth,A.linewidth=w.linewidth,x.isPointLight===!0&&A.isMeshDistanceMaterial===!0&&(A.referencePosition.setFromMatrixPosition(x.matrixWorld),A.nearDistance=M,A.farDistance=C),A}function b(_,w,x,M,C){if(_.visible===!1)return;if(_.layers.test(w.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&C===tb)&&(!_.frustumCulled||r.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(x.matrixWorldInverse,_.matrixWorld);const I=e.update(_),L=_.material;if(Array.isArray(L)){const k=I.groups;for(let N=0,F=k.length;N<F;N++){const D=k[N],H=L[D.materialIndex];if(H&&H.visible){const z=y(_,H,M,x.near,x.far,C);n.renderBufferDirect(x,null,I,z,_,D)}}}else if(L.visible){const k=y(_,L,M,x.near,x.far,C);n.renderBufferDirect(x,null,I,k,_,null)}}const A=_.children;for(let I=0,L=A.length;I<L;I++)b(A[I],w,x,M,C)}}function DJe(n,e,t){const r=t.isWebGL2;function i(){let Te=!1;const ht=new ai;let Ie=null;const bt=new ai(0,0,0,0);return{setMask:function(nt){Ie!==nt&&!Te&&(n.colorMask(nt,nt,nt,nt),Ie=nt)},setLocked:function(nt){Te=nt},setClear:function(nt,vt,kt,Tt,an){an===!0&&(nt*=Tt,vt*=Tt,kt*=Tt),ht.set(nt,vt,kt,Tt),bt.equals(ht)===!1&&(n.clearColor(nt,vt,kt,Tt),bt.copy(ht))},reset:function(){Te=!1,Ie=null,bt.set(-1,0,0,0)}}}function a(){let Te=!1,ht=null,Ie=null,bt=null;return{setTest:function(nt){nt?me(2929):Re(2929)},setMask:function(nt){ht!==nt&&!Te&&(n.depthMask(nt),ht=nt)},setFunc:function(nt){if(Ie!==nt){if(nt)switch(nt){case jKe:n.depthFunc(512);break;case ZKe:n.depthFunc(519);break;case QKe:n.depthFunc(513);break;case eL:n.depthFunc(515);break;case JKe:n.depthFunc(514);break;case eYe:n.depthFunc(518);break;case tYe:n.depthFunc(516);break;case nYe:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);Ie=nt}},setLocked:function(nt){Te=nt},setClear:function(nt){bt!==nt&&(n.clearDepth(nt),bt=nt)},reset:function(){Te=!1,ht=null,Ie=null,bt=null}}}function s(){let Te=!1,ht=null,Ie=null,bt=null,nt=null,vt=null,kt=null,Tt=null,an=null;return{setTest:function(_n){Te||(_n?me(2960):Re(2960))},setMask:function(_n){ht!==_n&&!Te&&(n.stencilMask(_n),ht=_n)},setFunc:function(_n,or,Ln){(Ie!==_n||bt!==or||nt!==Ln)&&(n.stencilFunc(_n,or,Ln),Ie=_n,bt=or,nt=Ln)},setOp:function(_n,or,Ln){(vt!==_n||kt!==or||Tt!==Ln)&&(n.stencilOp(_n,or,Ln),vt=_n,kt=or,Tt=Ln)},setLocked:function(_n){Te=_n},setClear:function(_n){an!==_n&&(n.clearStencil(_n),an=_n)},reset:function(){Te=!1,ht=null,Ie=null,bt=null,nt=null,vt=null,kt=null,Tt=null,an=null}}}const o=new i,l=new a,c=new s,u=new WeakMap,d=new WeakMap;let f={},h={},p=new WeakMap,m=[],g=null,v=!1,y=null,b=null,_=null,w=null,x=null,M=null,C=null,T=!1,A=null,I=null,L=null,k=null,N=null;const F=n.getParameter(35661);let D=!1,H=0;const z=n.getParameter(7938);z.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(z)[1]),D=H>=1):z.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),D=H>=2);let B=null,W={};const Z=n.getParameter(3088),ee=n.getParameter(2978),J=new ai().fromArray(Z),re=new ai().fromArray(ee);function fe(Te,ht,Ie){const bt=new Uint8Array(4),nt=n.createTexture();n.bindTexture(Te,nt),n.texParameteri(Te,10241,9728),n.texParameteri(Te,10240,9728);for(let vt=0;vt<Ie;vt++)n.texImage2D(ht+vt,0,6408,1,1,0,6408,5121,bt);return nt}const de={};de[3553]=fe(3553,3553,1),de[34067]=fe(34067,34069,6),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),me(2929),l.setFunc(eL),Ne(!1),Ye(NV),me(2884),ie(eh);function me(Te){f[Te]!==!0&&(n.enable(Te),f[Te]=!0)}function Re(Te){f[Te]!==!1&&(n.disable(Te),f[Te]=!1)}function De(Te,ht){return h[Te]!==ht?(n.bindFramebuffer(Te,ht),h[Te]=ht,r&&(Te===36009&&(h[36160]=ht),Te===36160&&(h[36009]=ht)),!0):!1}function Ge(Te,ht){let Ie=m,bt=!1;if(Te)if(Ie=p.get(ht),Ie===void 0&&(Ie=[],p.set(ht,Ie)),Te.isWebGLMultipleRenderTargets){const nt=Te.texture;if(Ie.length!==nt.length||Ie[0]!==36064){for(let vt=0,kt=nt.length;vt<kt;vt++)Ie[vt]=36064+vt;Ie.length=nt.length,bt=!0}}else Ie[0]!==36064&&(Ie[0]=36064,bt=!0);else Ie[0]!==1029&&(Ie[0]=1029,bt=!0);bt&&(t.isWebGL2?n.drawBuffers(Ie):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ie))}function We(Te){return g!==Te?(n.useProgram(Te),g=Te,!0):!1}const K={[Cv]:32774,[zKe]:32778,[UKe]:32779};if(r)K[UV]=32775,K[HV]=32776;else{const Te=e.get("EXT_blend_minmax");Te!==null&&(K[UV]=Te.MIN_EXT,K[HV]=Te.MAX_EXT)}const ue={[HKe]:0,[VKe]:1,[$Ke]:768,[ere]:770,[XKe]:776,[KKe]:774,[WKe]:772,[GKe]:769,[tre]:771,[YKe]:775,[qKe]:773};function ie(Te,ht,Ie,bt,nt,vt,kt,Tt){if(Te===eh){v===!0&&(Re(3042),v=!1);return}if(v===!1&&(me(3042),v=!0),Te!==FKe){if(Te!==y||Tt!==T){if((b!==Cv||x!==Cv)&&(n.blendEquation(32774),b=Cv,x=Cv),Tt)switch(Te){case lg:n.blendFuncSeparate(1,771,1,771);break;case BV:n.blendFunc(1,1);break;case FV:n.blendFuncSeparate(0,769,0,1);break;case zV:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te);break}else switch(Te){case lg:n.blendFuncSeparate(770,771,1,771);break;case BV:n.blendFunc(770,1);break;case FV:n.blendFuncSeparate(0,769,0,1);break;case zV:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te);break}_=null,w=null,M=null,C=null,y=Te,T=Tt}return}nt=nt||ht,vt=vt||Ie,kt=kt||bt,(ht!==b||nt!==x)&&(n.blendEquationSeparate(K[ht],K[nt]),b=ht,x=nt),(Ie!==_||bt!==w||vt!==M||kt!==C)&&(n.blendFuncSeparate(ue[Ie],ue[bt],ue[vt],ue[kt]),_=Ie,w=bt,M=vt,C=kt),y=Te,T=null}function $e(Te,ht){Te.side===Mh?Re(2884):me(2884);let Ie=Te.side===xc;ht&&(Ie=!Ie),Ne(Ie),Te.blending===lg&&Te.transparent===!1?ie(eh):ie(Te.blending,Te.blendEquation,Te.blendSrc,Te.blendDst,Te.blendEquationAlpha,Te.blendSrcAlpha,Te.blendDstAlpha,Te.premultipliedAlpha),l.setFunc(Te.depthFunc),l.setTest(Te.depthTest),l.setMask(Te.depthWrite),o.setMask(Te.colorWrite);const bt=Te.stencilWrite;c.setTest(bt),bt&&(c.setMask(Te.stencilWriteMask),c.setFunc(Te.stencilFunc,Te.stencilRef,Te.stencilFuncMask),c.setOp(Te.stencilFail,Te.stencilZFail,Te.stencilZPass)),he(Te.polygonOffset,Te.polygonOffsetFactor,Te.polygonOffsetUnits),Te.alphaToCoverage===!0?me(32926):Re(32926)}function Ne(Te){A!==Te&&(Te?n.frontFace(2304):n.frontFace(2305),A=Te)}function Ye(Te){Te!==kKe?(me(2884),Te!==I&&(Te===NV?n.cullFace(1029):Te===OKe?n.cullFace(1028):n.cullFace(1032))):Re(2884),I=Te}function ce(Te){Te!==L&&(D&&n.lineWidth(Te),L=Te)}function he(Te,ht,Ie){Te?(me(32823),(k!==ht||N!==Ie)&&(n.polygonOffset(ht,Ie),k=ht,N=Ie)):Re(32823)}function ke(Te){Te?me(3089):Re(3089)}function oe(Te){Te===void 0&&(Te=33984+F-1),B!==Te&&(n.activeTexture(Te),B=Te)}function V(Te,ht){B===null&&oe();let Ie=W[B];Ie===void 0&&(Ie={type:void 0,texture:void 0},W[B]=Ie),(Ie.type!==Te||Ie.texture!==ht)&&(n.bindTexture(Te,ht||de[Te]),Ie.type=Te,Ie.texture=ht)}function Y(){const Te=W[B];Te!==void 0&&Te.type!==void 0&&(n.bindTexture(Te.type,null),Te.type=void 0,Te.texture=void 0)}function Q(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function we(){try{n.texSubImage2D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function Ue(){try{n.texSubImage3D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function ct(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function pt(){try{n.texStorage2D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function Ee(){try{n.texStorage3D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function ft(){try{n.texImage2D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function st(){try{n.texImage3D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function G(Te){J.equals(Te)===!1&&(n.scissor(Te.x,Te.y,Te.z,Te.w),J.copy(Te))}function ye(Te){re.equals(Te)===!1&&(n.viewport(Te.x,Te.y,Te.z,Te.w),re.copy(Te))}function ve(Te,ht){let Ie=d.get(ht);Ie===void 0&&(Ie=new WeakMap,d.set(ht,Ie));let bt=Ie.get(Te);bt===void 0&&(bt=n.getUniformBlockIndex(ht,Te.name),Ie.set(Te,bt))}function Le(Te,ht){const bt=d.get(ht).get(Te);u.get(Te)!==bt&&(n.uniformBlockBinding(ht,bt,Te.__bindingPointIndex),u.set(Te,bt))}function be(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},B=null,W={},h={},p=new WeakMap,m=[],g=null,v=!1,y=null,b=null,_=null,w=null,x=null,M=null,C=null,T=!1,A=null,I=null,L=null,k=null,N=null,J.set(0,0,n.canvas.width,n.canvas.height),re.set(0,0,n.canvas.width,n.canvas.height),o.reset(),l.reset(),c.reset()}return{buffers:{color:o,depth:l,stencil:c},enable:me,disable:Re,bindFramebuffer:De,drawBuffers:Ge,useProgram:We,setBlending:ie,setMaterial:$e,setFlipSided:Ne,setCullFace:Ye,setLineWidth:ce,setPolygonOffset:he,setScissorTest:ke,activeTexture:oe,bindTexture:V,unbindTexture:Y,compressedTexImage2D:Q,texImage2D:ft,texImage3D:st,updateUBOMapping:ve,uniformBlockBinding:Le,texStorage2D:pt,texStorage3D:Ee,texSubImage2D:we,texSubImage3D:Ue,compressedTexSubImage2D:ct,scissor:G,viewport:ye,reset:be}}function kJe(n,e,t,r,i,a,s){const o=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const g=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(V,Y){return v?new OffscreenCanvas(V,Y):K_("canvas")}function b(V,Y,Q,we){let Ue=1;if((V.width>we||V.height>we)&&(Ue=we/Math.max(V.width,V.height)),Ue<1||Y===!0)if(typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&V instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&V instanceof ImageBitmap){const ct=Y?GM:Math.floor,pt=ct(Ue*V.width),Ee=ct(Ue*V.height);m===void 0&&(m=y(pt,Ee));const ft=Q?y(pt,Ee):m;return ft.width=pt,ft.height=Ee,ft.getContext("2d").drawImage(V,0,0,pt,Ee),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+V.width+"x"+V.height+") to ("+pt+"x"+Ee+")."),ft}else return"data"in V&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+V.width+"x"+V.height+")."),V;return V}function _(V){return rL(V.width)&&rL(V.height)}function w(V){return o?!1:V.wrapS!==ka||V.wrapT!==ka||V.minFilter!==Ga&&V.minFilter!==ba}function x(V,Y){return V.generateMipmaps&&Y&&V.minFilter!==Ga&&V.minFilter!==ba}function M(V){n.generateMipmap(V)}function C(V,Y,Q,we,Ue=!1){if(o===!1)return Y;if(V!==null){if(n[V]!==void 0)return n[V];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let ct=Y;return Y===6403&&(Q===5126&&(ct=33326),Q===5131&&(ct=33325),Q===5121&&(ct=33321)),Y===33319&&(Q===5126&&(ct=33328),Q===5131&&(ct=33327),Q===5121&&(ct=33323)),Y===6408&&(Q===5126&&(ct=34836),Q===5131&&(ct=34842),Q===5121&&(ct=we===Ir&&Ue===!1?35907:32856),Q===32819&&(ct=32854),Q===32820&&(ct=32855)),(ct===33325||ct===33326||ct===33327||ct===33328||ct===34842||ct===34836)&&e.get("EXT_color_buffer_float"),ct}function T(V,Y,Q){return x(V,Q)===!0||V.isFramebufferTexture&&V.minFilter!==Ga&&V.minFilter!==ba?Math.log2(Math.max(Y.width,Y.height))+1:V.mipmaps!==void 0&&V.mipmaps.length>0?V.mipmaps.length:V.isCompressedTexture&&Array.isArray(V.image)?Y.mipmaps.length:1}function A(V){return V===Ga||V===HM||V===VM?9728:9729}function I(V){const Y=V.target;Y.removeEventListener("dispose",I),k(Y),Y.isVideoTexture&&p.delete(Y)}function L(V){const Y=V.target;Y.removeEventListener("dispose",L),F(Y)}function k(V){const Y=r.get(V);if(Y.__webglInit===void 0)return;const Q=V.source,we=g.get(Q);if(we){const Ue=we[Y.__cacheKey];Ue.usedTimes--,Ue.usedTimes===0&&N(V),Object.keys(we).length===0&&g.delete(Q)}r.remove(V)}function N(V){const Y=r.get(V);n.deleteTexture(Y.__webglTexture);const Q=V.source,we=g.get(Q);delete we[Y.__cacheKey],s.memory.textures--}function F(V){const Y=V.texture,Q=r.get(V),we=r.get(Y);if(we.__webglTexture!==void 0&&(n.deleteTexture(we.__webglTexture),s.memory.textures--),V.depthTexture&&V.depthTexture.dispose(),V.isWebGLCubeRenderTarget)for(let Ue=0;Ue<6;Ue++)n.deleteFramebuffer(Q.__webglFramebuffer[Ue]),Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer[Ue]);else{if(n.deleteFramebuffer(Q.__webglFramebuffer),Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer),Q.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Q.__webglMultisampledFramebuffer),Q.__webglColorRenderbuffer)for(let Ue=0;Ue<Q.__webglColorRenderbuffer.length;Ue++)Q.__webglColorRenderbuffer[Ue]&&n.deleteRenderbuffer(Q.__webglColorRenderbuffer[Ue]);Q.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Q.__webglDepthRenderbuffer)}if(V.isWebGLMultipleRenderTargets)for(let Ue=0,ct=Y.length;Ue<ct;Ue++){const pt=r.get(Y[Ue]);pt.__webglTexture&&(n.deleteTexture(pt.__webglTexture),s.memory.textures--),r.remove(Y[Ue])}r.remove(Y),r.remove(V)}let D=0;function H(){D=0}function z(){const V=D;return V>=l&&console.warn("THREE.WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+l),D+=1,V}function B(V){const Y=[];return Y.push(V.wrapS),Y.push(V.wrapT),Y.push(V.magFilter),Y.push(V.minFilter),Y.push(V.anisotropy),Y.push(V.internalFormat),Y.push(V.format),Y.push(V.type),Y.push(V.generateMipmaps),Y.push(V.premultiplyAlpha),Y.push(V.flipY),Y.push(V.unpackAlignment),Y.push(V.encoding),Y.join()}function W(V,Y){const Q=r.get(V);if(V.isVideoTexture&&ke(V),V.isRenderTargetTexture===!1&&V.version>0&&Q.__version!==V.version){const we=V.image;if(we===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(we.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Re(Q,V,Y);return}}t.activeTexture(33984+Y),t.bindTexture(3553,Q.__webglTexture)}function Z(V,Y){const Q=r.get(V);if(V.version>0&&Q.__version!==V.version){Re(Q,V,Y);return}t.activeTexture(33984+Y),t.bindTexture(35866,Q.__webglTexture)}function ee(V,Y){const Q=r.get(V);if(V.version>0&&Q.__version!==V.version){Re(Q,V,Y);return}t.activeTexture(33984+Y),t.bindTexture(32879,Q.__webglTexture)}function J(V,Y){const Q=r.get(V);if(V.version>0&&Q.__version!==V.version){De(Q,V,Y);return}t.activeTexture(33984+Y),t.bindTexture(34067,Q.__webglTexture)}const re={[vo]:10497,[ka]:33071,[$_]:33648},fe={[Ga]:9728,[HM]:9984,[VM]:9986,[ba]:9729,[H8]:9985,[Yd]:9987};function de(V,Y,Q){if(Q?(n.texParameteri(V,10242,re[Y.wrapS]),n.texParameteri(V,10243,re[Y.wrapT]),(V===32879||V===35866)&&n.texParameteri(V,32882,re[Y.wrapR]),n.texParameteri(V,10240,fe[Y.magFilter]),n.texParameteri(V,10241,fe[Y.minFilter])):(n.texParameteri(V,10242,33071),n.texParameteri(V,10243,33071),(V===32879||V===35866)&&n.texParameteri(V,32882,33071),(Y.wrapS!==ka||Y.wrapT!==ka)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(V,10240,A(Y.magFilter)),n.texParameteri(V,10241,A(Y.minFilter)),Y.minFilter!==Ga&&Y.minFilter!==ba&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const we=e.get("EXT_texture_filter_anisotropic");if(Y.type===qf&&e.has("OES_texture_float_linear")===!1||o===!1&&Y.type===G_&&e.has("OES_texture_half_float_linear")===!1)return;(Y.anisotropy>1||r.get(Y).__currentAnisotropy)&&(n.texParameterf(V,we.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Y.anisotropy,i.getMaxAnisotropy())),r.get(Y).__currentAnisotropy=Y.anisotropy)}}function me(V,Y){let Q=!1;V.__webglInit===void 0&&(V.__webglInit=!0,Y.addEventListener("dispose",I));const we=Y.source;let Ue=g.get(we);Ue===void 0&&(Ue={},g.set(we,Ue));const ct=B(Y);if(ct!==V.__cacheKey){Ue[ct]===void 0&&(Ue[ct]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,Q=!0),Ue[ct].usedTimes++;const pt=Ue[V.__cacheKey];pt!==void 0&&(Ue[V.__cacheKey].usedTimes--,pt.usedTimes===0&&N(Y)),V.__cacheKey=ct,V.__webglTexture=Ue[ct].texture}return Q}function Re(V,Y,Q){let we=3553;Y.isDataArrayTexture&&(we=35866),Y.isData3DTexture&&(we=32879);const Ue=me(V,Y),ct=Y.source;if(t.activeTexture(33984+Q),t.bindTexture(we,V.__webglTexture),ct.version!==ct.__currentVersion||Ue===!0){n.pixelStorei(37440,Y.flipY),n.pixelStorei(37441,Y.premultiplyAlpha),n.pixelStorei(3317,Y.unpackAlignment),n.pixelStorei(37443,0);const pt=w(Y)&&_(Y.image)===!1;let Ee=b(Y.image,pt,!1,u);Ee=oe(Y,Ee);const ft=_(Ee)||o,st=a.convert(Y.format,Y.encoding);let G=a.convert(Y.type),ye=C(Y.internalFormat,st,G,Y.encoding,Y.isVideoTexture);de(we,Y,ft);let ve;const Le=Y.mipmaps,be=o&&Y.isVideoTexture!==!0,Te=ct.__currentVersion===void 0||Ue===!0,ht=T(Y,Ee,ft);if(Y.isDepthTexture)ye=6402,o?Y.type===qf?ye=36012:Y.type===Zp?ye=33190:Y.type===cg?ye=35056:ye=33189:Y.type===qf&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Y.format===v0&&ye===6402&&Y.type!==nre&&Y.type!==Zp&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Y.type=Zp,G=a.convert(Y.type)),Y.format===$g&&ye===6402&&(ye=34041,Y.type!==cg&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Y.type=cg,G=a.convert(Y.type))),Te&&(be?t.texStorage2D(3553,1,ye,Ee.width,Ee.height):t.texImage2D(3553,0,ye,Ee.width,Ee.height,0,st,G,null));else if(Y.isDataTexture)if(Le.length>0&&ft){be&&Te&&t.texStorage2D(3553,ht,ye,Le[0].width,Le[0].height);for(let Ie=0,bt=Le.length;Ie<bt;Ie++)ve=Le[Ie],be?t.texSubImage2D(3553,Ie,0,0,ve.width,ve.height,st,G,ve.data):t.texImage2D(3553,Ie,ye,ve.width,ve.height,0,st,G,ve.data);Y.generateMipmaps=!1}else be?(Te&&t.texStorage2D(3553,ht,ye,Ee.width,Ee.height),t.texSubImage2D(3553,0,0,0,Ee.width,Ee.height,st,G,Ee.data)):t.texImage2D(3553,0,ye,Ee.width,Ee.height,0,st,G,Ee.data);else if(Y.isCompressedTexture){be&&Te&&t.texStorage2D(3553,ht,ye,Le[0].width,Le[0].height);for(let Ie=0,bt=Le.length;Ie<bt;Ie++)ve=Le[Ie],Y.format!==Ol?st!==null?be?t.compressedTexSubImage2D(3553,Ie,0,0,ve.width,ve.height,st,ve.data):t.compressedTexImage2D(3553,Ie,ye,ve.width,ve.height,0,ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):be?t.texSubImage2D(3553,Ie,0,0,ve.width,ve.height,st,G,ve.data):t.texImage2D(3553,Ie,ye,ve.width,ve.height,0,st,G,ve.data)}else if(Y.isDataArrayTexture)be?(Te&&t.texStorage3D(35866,ht,ye,Ee.width,Ee.height,Ee.depth),t.texSubImage3D(35866,0,0,0,0,Ee.width,Ee.height,Ee.depth,st,G,Ee.data)):t.texImage3D(35866,0,ye,Ee.width,Ee.height,Ee.depth,0,st,G,Ee.data);else if(Y.isData3DTexture)be?(Te&&t.texStorage3D(32879,ht,ye,Ee.width,Ee.height,Ee.depth),t.texSubImage3D(32879,0,0,0,0,Ee.width,Ee.height,Ee.depth,st,G,Ee.data)):t.texImage3D(32879,0,ye,Ee.width,Ee.height,Ee.depth,0,st,G,Ee.data);else if(Y.isFramebufferTexture){if(Te)if(be)t.texStorage2D(3553,ht,ye,Ee.width,Ee.height);else{let Ie=Ee.width,bt=Ee.height;for(let nt=0;nt<ht;nt++)t.texImage2D(3553,nt,ye,Ie,bt,0,st,G,null),Ie>>=1,bt>>=1}}else if(Le.length>0&&ft){be&&Te&&t.texStorage2D(3553,ht,ye,Le[0].width,Le[0].height);for(let Ie=0,bt=Le.length;Ie<bt;Ie++)ve=Le[Ie],be?t.texSubImage2D(3553,Ie,0,0,st,G,ve):t.texImage2D(3553,Ie,ye,st,G,ve);Y.generateMipmaps=!1}else be?(Te&&t.texStorage2D(3553,ht,ye,Ee.width,Ee.height),t.texSubImage2D(3553,0,0,0,st,G,Ee)):t.texImage2D(3553,0,ye,st,G,Ee);x(Y,ft)&&M(we),ct.__currentVersion=ct.version,Y.onUpdate&&Y.onUpdate(Y)}V.__version=Y.version}function De(V,Y,Q){if(Y.image.length!==6)return;const we=me(V,Y),Ue=Y.source;if(t.activeTexture(33984+Q),t.bindTexture(34067,V.__webglTexture),Ue.version!==Ue.__currentVersion||we===!0){n.pixelStorei(37440,Y.flipY),n.pixelStorei(37441,Y.premultiplyAlpha),n.pixelStorei(3317,Y.unpackAlignment),n.pixelStorei(37443,0);const ct=Y.isCompressedTexture||Y.image[0].isCompressedTexture,pt=Y.image[0]&&Y.image[0].isDataTexture,Ee=[];for(let Ie=0;Ie<6;Ie++)!ct&&!pt?Ee[Ie]=b(Y.image[Ie],!1,!0,c):Ee[Ie]=pt?Y.image[Ie].image:Y.image[Ie],Ee[Ie]=oe(Y,Ee[Ie]);const ft=Ee[0],st=_(ft)||o,G=a.convert(Y.format,Y.encoding),ye=a.convert(Y.type),ve=C(Y.internalFormat,G,ye,Y.encoding),Le=o&&Y.isVideoTexture!==!0,be=Ue.__currentVersion===void 0||we===!0;let Te=T(Y,ft,st);de(34067,Y,st);let ht;if(ct){Le&&be&&t.texStorage2D(34067,Te,ve,ft.width,ft.height);for(let Ie=0;Ie<6;Ie++){ht=Ee[Ie].mipmaps;for(let bt=0;bt<ht.length;bt++){const nt=ht[bt];Y.format!==Ol?G!==null?Le?t.compressedTexSubImage2D(34069+Ie,bt,0,0,nt.width,nt.height,G,nt.data):t.compressedTexImage2D(34069+Ie,bt,ve,nt.width,nt.height,0,nt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Le?t.texSubImage2D(34069+Ie,bt,0,0,nt.width,nt.height,G,ye,nt.data):t.texImage2D(34069+Ie,bt,ve,nt.width,nt.height,0,G,ye,nt.data)}}}else{ht=Y.mipmaps,Le&&be&&(ht.length>0&&Te++,t.texStorage2D(34067,Te,ve,Ee[0].width,Ee[0].height));for(let Ie=0;Ie<6;Ie++)if(pt){Le?t.texSubImage2D(34069+Ie,0,0,0,Ee[Ie].width,Ee[Ie].height,G,ye,Ee[Ie].data):t.texImage2D(34069+Ie,0,ve,Ee[Ie].width,Ee[Ie].height,0,G,ye,Ee[Ie].data);for(let bt=0;bt<ht.length;bt++){const vt=ht[bt].image[Ie].image;Le?t.texSubImage2D(34069+Ie,bt+1,0,0,vt.width,vt.height,G,ye,vt.data):t.texImage2D(34069+Ie,bt+1,ve,vt.width,vt.height,0,G,ye,vt.data)}}else{Le?t.texSubImage2D(34069+Ie,0,0,0,G,ye,Ee[Ie]):t.texImage2D(34069+Ie,0,ve,G,ye,Ee[Ie]);for(let bt=0;bt<ht.length;bt++){const nt=ht[bt];Le?t.texSubImage2D(34069+Ie,bt+1,0,0,G,ye,nt.image[Ie]):t.texImage2D(34069+Ie,bt+1,ve,G,ye,nt.image[Ie])}}}x(Y,st)&&M(34067),Ue.__currentVersion=Ue.version,Y.onUpdate&&Y.onUpdate(Y)}V.__version=Y.version}function Ge(V,Y,Q,we,Ue){const ct=a.convert(Q.format,Q.encoding),pt=a.convert(Q.type),Ee=C(Q.internalFormat,ct,pt,Q.encoding);r.get(Y).__hasExternalTextures||(Ue===32879||Ue===35866?t.texImage3D(Ue,0,Ee,Y.width,Y.height,Y.depth,0,ct,pt,null):t.texImage2D(Ue,0,Ee,Y.width,Y.height,0,ct,pt,null)),t.bindFramebuffer(36160,V),he(Y)?f.framebufferTexture2DMultisampleEXT(36160,we,Ue,r.get(Q).__webglTexture,0,ce(Y)):n.framebufferTexture2D(36160,we,Ue,r.get(Q).__webglTexture,0),t.bindFramebuffer(36160,null)}function We(V,Y,Q){if(n.bindRenderbuffer(36161,V),Y.depthBuffer&&!Y.stencilBuffer){let we=33189;if(Q||he(Y)){const Ue=Y.depthTexture;Ue&&Ue.isDepthTexture&&(Ue.type===qf?we=36012:Ue.type===Zp&&(we=33190));const ct=ce(Y);he(Y)?f.renderbufferStorageMultisampleEXT(36161,ct,we,Y.width,Y.height):n.renderbufferStorageMultisample(36161,ct,we,Y.width,Y.height)}else n.renderbufferStorage(36161,we,Y.width,Y.height);n.framebufferRenderbuffer(36160,36096,36161,V)}else if(Y.depthBuffer&&Y.stencilBuffer){const we=ce(Y);Q&&he(Y)===!1?n.renderbufferStorageMultisample(36161,we,35056,Y.width,Y.height):he(Y)?f.renderbufferStorageMultisampleEXT(36161,we,35056,Y.width,Y.height):n.renderbufferStorage(36161,34041,Y.width,Y.height),n.framebufferRenderbuffer(36160,33306,36161,V)}else{const we=Y.isWebGLMultipleRenderTargets===!0?Y.texture:[Y.texture];for(let Ue=0;Ue<we.length;Ue++){const ct=we[Ue],pt=a.convert(ct.format,ct.encoding),Ee=a.convert(ct.type),ft=C(ct.internalFormat,pt,Ee,ct.encoding),st=ce(Y);Q&&he(Y)===!1?n.renderbufferStorageMultisample(36161,st,ft,Y.width,Y.height):he(Y)?f.renderbufferStorageMultisampleEXT(36161,st,ft,Y.width,Y.height):n.renderbufferStorage(36161,ft,Y.width,Y.height)}}n.bindRenderbuffer(36161,null)}function K(V,Y){if(Y&&Y.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,V),!(Y.depthTexture&&Y.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Y.depthTexture).__webglTexture||Y.depthTexture.image.width!==Y.width||Y.depthTexture.image.height!==Y.height)&&(Y.depthTexture.image.width=Y.width,Y.depthTexture.image.height=Y.height,Y.depthTexture.needsUpdate=!0),W(Y.depthTexture,0);const we=r.get(Y.depthTexture).__webglTexture,Ue=ce(Y);if(Y.depthTexture.format===v0)he(Y)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,we,0,Ue):n.framebufferTexture2D(36160,36096,3553,we,0);else if(Y.depthTexture.format===$g)he(Y)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,we,0,Ue):n.framebufferTexture2D(36160,33306,3553,we,0);else throw new Error("Unknown depthTexture format")}function ue(V){const Y=r.get(V),Q=V.isWebGLCubeRenderTarget===!0;if(V.depthTexture&&!Y.__autoAllocateDepthBuffer){if(Q)throw new Error("target.depthTexture not supported in Cube render targets");K(Y.__webglFramebuffer,V)}else if(Q){Y.__webglDepthbuffer=[];for(let we=0;we<6;we++)t.bindFramebuffer(36160,Y.__webglFramebuffer[we]),Y.__webglDepthbuffer[we]=n.createRenderbuffer(),We(Y.__webglDepthbuffer[we],V,!1)}else t.bindFramebuffer(36160,Y.__webglFramebuffer),Y.__webglDepthbuffer=n.createRenderbuffer(),We(Y.__webglDepthbuffer,V,!1);t.bindFramebuffer(36160,null)}function ie(V,Y,Q){const we=r.get(V);Y!==void 0&&Ge(we.__webglFramebuffer,V,V.texture,36064,3553),Q!==void 0&&ue(V)}function $e(V){const Y=V.texture,Q=r.get(V),we=r.get(Y);V.addEventListener("dispose",L),V.isWebGLMultipleRenderTargets!==!0&&(we.__webglTexture===void 0&&(we.__webglTexture=n.createTexture()),we.__version=Y.version,s.memory.textures++);const Ue=V.isWebGLCubeRenderTarget===!0,ct=V.isWebGLMultipleRenderTargets===!0,pt=_(V)||o;if(Ue){Q.__webglFramebuffer=[];for(let Ee=0;Ee<6;Ee++)Q.__webglFramebuffer[Ee]=n.createFramebuffer()}else{if(Q.__webglFramebuffer=n.createFramebuffer(),ct)if(i.drawBuffers){const Ee=V.texture;for(let ft=0,st=Ee.length;ft<st;ft++){const G=r.get(Ee[ft]);G.__webglTexture===void 0&&(G.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&V.samples>0&&he(V)===!1){const Ee=ct?Y:[Y];Q.__webglMultisampledFramebuffer=n.createFramebuffer(),Q.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,Q.__webglMultisampledFramebuffer);for(let ft=0;ft<Ee.length;ft++){const st=Ee[ft];Q.__webglColorRenderbuffer[ft]=n.createRenderbuffer(),n.bindRenderbuffer(36161,Q.__webglColorRenderbuffer[ft]);const G=a.convert(st.format,st.encoding),ye=a.convert(st.type),ve=C(st.internalFormat,G,ye,st.encoding),Le=ce(V);n.renderbufferStorageMultisample(36161,Le,ve,V.width,V.height),n.framebufferRenderbuffer(36160,36064+ft,36161,Q.__webglColorRenderbuffer[ft])}n.bindRenderbuffer(36161,null),V.depthBuffer&&(Q.__webglDepthRenderbuffer=n.createRenderbuffer(),We(Q.__webglDepthRenderbuffer,V,!0)),t.bindFramebuffer(36160,null)}}if(Ue){t.bindTexture(34067,we.__webglTexture),de(34067,Y,pt);for(let Ee=0;Ee<6;Ee++)Ge(Q.__webglFramebuffer[Ee],V,Y,36064,34069+Ee);x(Y,pt)&&M(34067),t.unbindTexture()}else if(ct){const Ee=V.texture;for(let ft=0,st=Ee.length;ft<st;ft++){const G=Ee[ft],ye=r.get(G);t.bindTexture(3553,ye.__webglTexture),de(3553,G,pt),Ge(Q.__webglFramebuffer,V,G,36064+ft,3553),x(G,pt)&&M(3553)}t.unbindTexture()}else{let Ee=3553;(V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(o?Ee=V.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ee,we.__webglTexture),de(Ee,Y,pt),Ge(Q.__webglFramebuffer,V,Y,36064,Ee),x(Y,pt)&&M(Ee),t.unbindTexture()}V.depthBuffer&&ue(V)}function Ne(V){const Y=_(V)||o,Q=V.isWebGLMultipleRenderTargets===!0?V.texture:[V.texture];for(let we=0,Ue=Q.length;we<Ue;we++){const ct=Q[we];if(x(ct,Y)){const pt=V.isWebGLCubeRenderTarget?34067:3553,Ee=r.get(ct).__webglTexture;t.bindTexture(pt,Ee),M(pt),t.unbindTexture()}}}function Ye(V){if(o&&V.samples>0&&he(V)===!1){const Y=V.isWebGLMultipleRenderTargets?V.texture:[V.texture],Q=V.width,we=V.height;let Ue=16384;const ct=[],pt=V.stencilBuffer?33306:36096,Ee=r.get(V),ft=V.isWebGLMultipleRenderTargets===!0;if(ft)for(let st=0;st<Y.length;st++)t.bindFramebuffer(36160,Ee.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+st,36161,null),t.bindFramebuffer(36160,Ee.__webglFramebuffer),n.framebufferTexture2D(36009,36064+st,3553,null,0);t.bindFramebuffer(36008,Ee.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ee.__webglFramebuffer);for(let st=0;st<Y.length;st++){ct.push(36064+st),V.depthBuffer&&ct.push(pt);const G=Ee.__ignoreDepthValues!==void 0?Ee.__ignoreDepthValues:!1;if(G===!1&&(V.depthBuffer&&(Ue|=256),V.stencilBuffer&&(Ue|=1024)),ft&&n.framebufferRenderbuffer(36008,36064,36161,Ee.__webglColorRenderbuffer[st]),G===!0&&(n.invalidateFramebuffer(36008,[pt]),n.invalidateFramebuffer(36009,[pt])),ft){const ye=r.get(Y[st]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ye,0)}n.blitFramebuffer(0,0,Q,we,0,0,Q,we,Ue,9728),h&&n.invalidateFramebuffer(36008,ct)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ft)for(let st=0;st<Y.length;st++){t.bindFramebuffer(36160,Ee.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+st,36161,Ee.__webglColorRenderbuffer[st]);const G=r.get(Y[st]).__webglTexture;t.bindFramebuffer(36160,Ee.__webglFramebuffer),n.framebufferTexture2D(36009,36064+st,3553,G,0)}t.bindFramebuffer(36009,Ee.__webglMultisampledFramebuffer)}}function ce(V){return Math.min(d,V.samples)}function he(V){const Y=r.get(V);return o&&V.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Y.__useRenderToTexture!==!1}function ke(V){const Y=s.render.frame;p.get(V)!==Y&&(p.set(V,Y),V.update())}function oe(V,Y){const Q=V.encoding,we=V.format,Ue=V.type;return V.isCompressedTexture===!0||V.isVideoTexture===!0||V.format===nL||Q!==Th&&(Q===Ir?o===!1?e.has("EXT_sRGB")===!0&&we===Ol?(V.format=nL,V.minFilter=ba,V.generateMipmaps=!1):Y=ure.sRGBToLinear(Y):(we!==Ol||Ue!==N0)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Q)),Y}this.allocateTextureUnit=z,this.resetTextureUnits=H,this.setTexture2D=W,this.setTexture2DArray=Z,this.setTexture3D=ee,this.setTextureCube=J,this.rebindTextures=ie,this.setupRenderTarget=$e,this.updateRenderTargetMipmap=Ne,this.updateMultisampleRenderTarget=Ye,this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=Ge,this.useMultisampledRTT=he}function OJe(n,e,t){const r=t.isWebGL2;function i(a,s=null){let o;if(a===N0)return 5121;if(a===hYe)return 32819;if(a===pYe)return 32820;if(a===uYe)return 5120;if(a===dYe)return 5122;if(a===nre)return 5123;if(a===fYe)return 5124;if(a===Zp)return 5125;if(a===qf)return 5126;if(a===G_)return r?5131:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(a===mYe)return 6406;if(a===Ol)return 6408;if(a===gYe)return 6409;if(a===yYe)return 6410;if(a===v0)return 6402;if(a===$g)return 34041;if(a===bYe)return 6403;if(a===vYe)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(a===nL)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(a===_Ye)return 36244;if(a===SYe)return 33319;if(a===wYe)return 33320;if(a===xYe)return 36249;if(a===SC||a===D4||a===wC||a===xC)if(s===Ir)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(a===SC)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===D4)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===wC)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===xC)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(a===SC)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===D4)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===wC)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===xC)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===VV||a===$V||a===GV||a===WV)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(a===VV)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===$V)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===GV)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===WV)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===rre)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===qV||a===KV)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(a===qV)return s===Ir?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(a===KV)return s===Ir?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===YV||a===XV||a===jV||a===ZV||a===QV||a===JV||a===e$||a===t$||a===n$||a===r$||a===i$||a===a$||a===s$||a===o$)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(a===YV)return s===Ir?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===XV)return s===Ir?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===jV)return s===Ir?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===ZV)return s===Ir?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===QV)return s===Ir?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===JV)return s===Ir?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===e$)return s===Ir?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===t$)return s===Ir?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===n$)return s===Ir?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===r$)return s===Ir?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===i$)return s===Ir?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===a$)return s===Ir?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===s$)return s===Ir?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===o$)return s===Ir?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===l$)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(a===l$)return s===Ir?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return a===cg?r?34042:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):n[a]!==void 0?n[a]:null}return{convert:i}}let NJe=class extends La{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},go=class extends Gi{constructor(){super(),this.isGroup=!0,this.type="Group"}};const BJe={type:"move"};let oI=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new go,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new go,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new je,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new je),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new go,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new je,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new je),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,s=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const m of e.hand.values()){const g=t.getJointPose(m,r);if(c.joints[m.jointName]===void 0){const y=new go;y.matrixAutoUpdate=!1,y.visible=!1,c.joints[m.jointName]=y,c.add(y)}const v=c.joints[m.jointName];g!==null&&(v.matrix.fromArray(g.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.jointRadius=g.radius),v.visible=g!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,p=.005;c.inputState.pinching&&f>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(BJe)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=s!==null),this}},FJe=class extends fs{constructor(e,t,r,i,a,s,o,l,c,u){if(u=u!==void 0?u:v0,u!==v0&&u!==$g)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===v0&&(r=Zp),r===void 0&&u===$g&&(r=cg),super(null,i,a,s,o,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:Ga,this.minFilter=l!==void 0?l:Ga,this.flipY=!1,this.generateMipmaps=!1}},zJe=class extends Fh{constructor(e,t){super();const r=this;let i=null,a=1,s=null,o="local-floor",l=null,c=null,u=null,d=null,f=null,h=null;const p=t.getContextAttributes();let m=null,g=null;const v=[],y=[],b=new La;b.layers.enable(1),b.viewport=new ai;const _=new La;_.layers.enable(2),_.viewport=new ai;const w=[b,_],x=new NJe;x.layers.enable(1),x.layers.enable(2);let M=null,C=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(B){let W=v[B];return W===void 0&&(W=new oI,v[B]=W),W.getTargetRaySpace()},this.getControllerGrip=function(B){let W=v[B];return W===void 0&&(W=new oI,v[B]=W),W.getGripSpace()},this.getHand=function(B){let W=v[B];return W===void 0&&(W=new oI,v[B]=W),W.getHandSpace()};function T(B){const W=y.indexOf(B.inputSource);if(W===-1)return;const Z=v[W];Z!==void 0&&Z.dispatchEvent({type:B.type,data:B.inputSource})}function A(){i.removeEventListener("select",T),i.removeEventListener("selectstart",T),i.removeEventListener("selectend",T),i.removeEventListener("squeeze",T),i.removeEventListener("squeezestart",T),i.removeEventListener("squeezeend",T),i.removeEventListener("end",A),i.removeEventListener("inputsourceschange",I);for(let B=0;B<v.length;B++){const W=y[B];W!==null&&(y[B]=null,v[B].disconnect(W))}M=null,C=null,e.setRenderTarget(m),f=null,d=null,u=null,i=null,g=null,z.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(B){a=B,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(B){o=B,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||s},this.setReferenceSpace=function(B){l=B},this.getBaseLayer=function(){return d!==null?d:f},this.getBinding=function(){return u},this.getFrame=function(){return h},this.getSession=function(){return i},this.setSession=async function(B){if(i=B,i!==null){if(m=e.getRenderTarget(),i.addEventListener("select",T),i.addEventListener("selectstart",T),i.addEventListener("selectend",T),i.addEventListener("squeeze",T),i.addEventListener("squeezestart",T),i.addEventListener("squeezeend",T),i.addEventListener("end",A),i.addEventListener("inputsourceschange",I),p.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const W={antialias:i.renderState.layers===void 0?p.antialias:!0,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:a};f=new XRWebGLLayer(i,t,W),i.updateRenderState({baseLayer:f}),g=new B0(f.framebufferWidth,f.framebufferHeight,{format:Ol,type:N0,encoding:e.outputEncoding})}else{let W=null,Z=null,ee=null;p.depth&&(ee=p.stencil?35056:33190,W=p.stencil?$g:v0,Z=p.stencil?cg:Zp);const J={colorFormat:32856,depthFormat:ee,scaleFactor:a};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(J),i.updateRenderState({layers:[d]}),g=new B0(d.textureWidth,d.textureHeight,{format:Ol,type:N0,depthTexture:new FJe(d.textureWidth,d.textureHeight,Z,void 0,void 0,void 0,void 0,void 0,void 0,W),stencilBuffer:p.stencil,encoding:e.outputEncoding,samples:p.antialias?4:0});const re=e.properties.get(g);re.__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),l=null,s=await i.requestReferenceSpace(o),z.setContext(i),z.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function I(B){for(let W=0;W<B.removed.length;W++){const Z=B.removed[W],ee=y.indexOf(Z);ee>=0&&(y[ee]=null,v[ee].dispatchEvent({type:"disconnected",data:Z}))}for(let W=0;W<B.added.length;W++){const Z=B.added[W];let ee=y.indexOf(Z);if(ee===-1){for(let re=0;re<v.length;re++)if(re>=y.length){y.push(Z),ee=re;break}else if(y[re]===null){y[re]=Z,ee=re;break}if(ee===-1)break}const J=v[ee];J&&J.dispatchEvent({type:"connected",data:Z})}}const L=new je,k=new je;function N(B,W,Z){L.setFromMatrixPosition(W.matrixWorld),k.setFromMatrixPosition(Z.matrixWorld);const ee=L.distanceTo(k),J=W.projectionMatrix.elements,re=Z.projectionMatrix.elements,fe=J[14]/(J[10]-1),de=J[14]/(J[10]+1),me=(J[9]+1)/J[5],Re=(J[9]-1)/J[5],De=(J[8]-1)/J[0],Ge=(re[8]+1)/re[0],We=fe*De,K=fe*Ge,ue=ee/(-De+Ge),ie=ue*-De;W.matrixWorld.decompose(B.position,B.quaternion,B.scale),B.translateX(ie),B.translateZ(ue),B.matrixWorld.compose(B.position,B.quaternion,B.scale),B.matrixWorldInverse.copy(B.matrixWorld).invert();const $e=fe+ue,Ne=de+ue,Ye=We-ie,ce=K+(ee-ie),he=me*de/Ne*$e,ke=Re*de/Ne*$e;B.projectionMatrix.makePerspective(Ye,ce,he,ke,$e,Ne)}function F(B,W){W===null?B.matrixWorld.copy(B.matrix):B.matrixWorld.multiplyMatrices(W.matrixWorld,B.matrix),B.matrixWorldInverse.copy(B.matrixWorld).invert()}this.updateCamera=function(B){if(i===null)return;x.near=_.near=b.near=B.near,x.far=_.far=b.far=B.far,(M!==x.near||C!==x.far)&&(i.updateRenderState({depthNear:x.near,depthFar:x.far}),M=x.near,C=x.far);const W=B.parent,Z=x.cameras;F(x,W);for(let J=0;J<Z.length;J++)F(Z[J],W);x.matrixWorld.decompose(x.position,x.quaternion,x.scale),B.position.copy(x.position),B.quaternion.copy(x.quaternion),B.scale.copy(x.scale),B.matrix.copy(x.matrix),B.matrixWorld.copy(x.matrixWorld);const ee=B.children;for(let J=0,re=ee.length;J<re;J++)ee[J].updateMatrixWorld(!0);Z.length===2?N(x,b,_):x.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return x},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(f!==null)return f.fixedFoveation},this.setFoveation=function(B){d!==null&&(d.fixedFoveation=B),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=B)};let D=null;function H(B,W){if(c=W.getViewerPose(l||s),h=W,c!==null){const Z=c.views;f!==null&&(e.setRenderTargetFramebuffer(g,f.framebuffer),e.setRenderTarget(g));let ee=!1;Z.length!==x.cameras.length&&(x.cameras.length=0,ee=!0);for(let J=0;J<Z.length;J++){const re=Z[J];let fe=null;if(f!==null)fe=f.getViewport(re);else{const me=u.getViewSubImage(d,re);fe=me.viewport,J===0&&(e.setRenderTargetTextures(g,me.colorTexture,d.ignoreDepthValues?void 0:me.depthStencilTexture),e.setRenderTarget(g))}let de=w[J];de===void 0&&(de=new La,de.layers.enable(J),de.viewport=new ai,w[J]=de),de.matrix.fromArray(re.transform.matrix),de.projectionMatrix.fromArray(re.projectionMatrix),de.viewport.set(fe.x,fe.y,fe.width,fe.height),J===0&&x.matrix.copy(de.matrix),ee===!0&&x.cameras.push(de)}}for(let Z=0;Z<v.length;Z++){const ee=y[Z],J=v[Z];ee!==null&&J!==void 0&&J.update(ee,W,l||s)}D&&D(B,W),h=null}const z=new bre;z.setAnimationLoop(H),this.setAnimationLoop=function(B){D=B},this.dispose=function(){}}};function UJe(n,e){function t(m,g){m.fogColor.value.copy(g.color),g.isFog?(m.fogNear.value=g.near,m.fogFar.value=g.far):g.isFogExp2&&(m.fogDensity.value=g.density)}function r(m,g,v,y,b){g.isMeshBasicMaterial||g.isMeshLambertMaterial?i(m,g):g.isMeshToonMaterial?(i(m,g),u(m,g)):g.isMeshPhongMaterial?(i(m,g),c(m,g)):g.isMeshStandardMaterial?(i(m,g),d(m,g),g.isMeshPhysicalMaterial&&f(m,g,b)):g.isMeshMatcapMaterial?(i(m,g),h(m,g)):g.isMeshDepthMaterial?i(m,g):g.isMeshDistanceMaterial?(i(m,g),p(m,g)):g.isMeshNormalMaterial?i(m,g):g.isLineBasicMaterial?(a(m,g),g.isLineDashedMaterial&&s(m,g)):g.isPointsMaterial?o(m,g,v,y):g.isSpriteMaterial?l(m,g):g.isShadowMaterial?(m.color.value.copy(g.color),m.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function i(m,g){m.opacity.value=g.opacity,g.color&&m.diffuse.value.copy(g.color),g.emissive&&m.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.bumpMap&&(m.bumpMap.value=g.bumpMap,m.bumpScale.value=g.bumpScale,g.side===xc&&(m.bumpScale.value*=-1)),g.displacementMap&&(m.displacementMap.value=g.displacementMap,m.displacementScale.value=g.displacementScale,m.displacementBias.value=g.displacementBias),g.emissiveMap&&(m.emissiveMap.value=g.emissiveMap),g.normalMap&&(m.normalMap.value=g.normalMap,m.normalScale.value.copy(g.normalScale),g.side===xc&&m.normalScale.value.negate()),g.specularMap&&(m.specularMap.value=g.specularMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);const v=e.get(g).envMap;if(v&&(m.envMap.value=v,m.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=g.reflectivity,m.ior.value=g.ior,m.refractionRatio.value=g.refractionRatio),g.lightMap){m.lightMap.value=g.lightMap;const _=n.physicallyCorrectLights!==!0?Math.PI:1;m.lightMapIntensity.value=g.lightMapIntensity*_}g.aoMap&&(m.aoMap.value=g.aoMap,m.aoMapIntensity.value=g.aoMapIntensity);let y;g.map?y=g.map:g.specularMap?y=g.specularMap:g.displacementMap?y=g.displacementMap:g.normalMap?y=g.normalMap:g.bumpMap?y=g.bumpMap:g.roughnessMap?y=g.roughnessMap:g.metalnessMap?y=g.metalnessMap:g.alphaMap?y=g.alphaMap:g.emissiveMap?y=g.emissiveMap:g.clearcoatMap?y=g.clearcoatMap:g.clearcoatNormalMap?y=g.clearcoatNormalMap:g.clearcoatRoughnessMap?y=g.clearcoatRoughnessMap:g.iridescenceMap?y=g.iridescenceMap:g.iridescenceThicknessMap?y=g.iridescenceThicknessMap:g.specularIntensityMap?y=g.specularIntensityMap:g.specularColorMap?y=g.specularColorMap:g.transmissionMap?y=g.transmissionMap:g.thicknessMap?y=g.thicknessMap:g.sheenColorMap?y=g.sheenColorMap:g.sheenRoughnessMap&&(y=g.sheenRoughnessMap),y!==void 0&&(y.isWebGLRenderTarget&&(y=y.texture),y.matrixAutoUpdate===!0&&y.updateMatrix(),m.uvTransform.value.copy(y.matrix));let b;g.aoMap?b=g.aoMap:g.lightMap&&(b=g.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uv2Transform.value.copy(b.matrix))}function a(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity}function s(m,g){m.dashSize.value=g.dashSize,m.totalSize.value=g.dashSize+g.gapSize,m.scale.value=g.scale}function o(m,g,v,y){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.size.value=g.size*v,m.scale.value=y*.5,g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);let b;g.map?b=g.map:g.alphaMap&&(b=g.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uvTransform.value.copy(b.matrix))}function l(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.rotation.value=g.rotation,g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);let v;g.map?v=g.map:g.alphaMap&&(v=g.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),m.uvTransform.value.copy(v.matrix))}function c(m,g){m.specular.value.copy(g.specular),m.shininess.value=Math.max(g.shininess,1e-4)}function u(m,g){g.gradientMap&&(m.gradientMap.value=g.gradientMap)}function d(m,g){m.roughness.value=g.roughness,m.metalness.value=g.metalness,g.roughnessMap&&(m.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(m.metalnessMap.value=g.metalnessMap),e.get(g).envMap&&(m.envMapIntensity.value=g.envMapIntensity)}function f(m,g,v){m.ior.value=g.ior,g.sheen>0&&(m.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),m.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(m.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(m.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(m.clearcoat.value=g.clearcoat,m.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(m.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),m.clearcoatNormalMap.value=g.clearcoatNormalMap,g.side===xc&&m.clearcoatNormalScale.value.negate())),g.iridescence>0&&(m.iridescence.value=g.iridescence,m.iridescenceIOR.value=g.iridescenceIOR,m.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(m.iridescenceMap.value=g.iridescenceMap),g.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=g.iridescenceThicknessMap)),g.transmission>0&&(m.transmission.value=g.transmission,m.transmissionSamplerMap.value=v.texture,m.transmissionSamplerSize.value.set(v.width,v.height),g.transmissionMap&&(m.transmissionMap.value=g.transmissionMap),m.thickness.value=g.thickness,g.thicknessMap&&(m.thicknessMap.value=g.thicknessMap),m.attenuationDistance.value=g.attenuationDistance,m.attenuationColor.value.copy(g.attenuationColor)),m.specularIntensity.value=g.specularIntensity,m.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(m.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(m.specularColorMap.value=g.specularColorMap)}function h(m,g){g.matcap&&(m.matcap.value=g.matcap)}function p(m,g){m.referencePosition.value.copy(g.referencePosition),m.nearDistance.value=g.nearDistance,m.farDistance.value=g.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function HJe(n,e,t,r){let i={},a={},s=[];const o=t.isWebGL2?n.getParameter(35375):0;function l(y,b){const _=b.program;r.uniformBlockBinding(y,_)}function c(y,b){let _=i[y.id];_===void 0&&(p(y),_=u(y),i[y.id]=_,y.addEventListener("dispose",g));const w=b.program;r.updateUBOMapping(y,w);const x=e.render.frame;a[y.id]!==x&&(f(y),a[y.id]=x)}function u(y){const b=d();y.__bindingPointIndex=b;const _=n.createBuffer(),w=y.__size,x=y.usage;return n.bindBuffer(35345,_),n.bufferData(35345,w,x),n.bindBuffer(35345,null),n.bindBufferBase(35345,b,_),_}function d(){for(let y=0;y<o;y++)if(s.indexOf(y)===-1)return s.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(y){const b=i[y.id],_=y.uniforms,w=y.__cache;n.bindBuffer(35345,b);for(let x=0,M=_.length;x<M;x++){const C=_[x];if(h(C,x,w)===!0){const T=C.value,A=C.__offset;typeof T=="number"?(C.__data[0]=T,n.bufferSubData(35345,A,C.__data)):(C.value.isMatrix3?(C.__data[0]=C.value.elements[0],C.__data[1]=C.value.elements[1],C.__data[2]=C.value.elements[2],C.__data[3]=C.value.elements[0],C.__data[4]=C.value.elements[3],C.__data[5]=C.value.elements[4],C.__data[6]=C.value.elements[5],C.__data[7]=C.value.elements[0],C.__data[8]=C.value.elements[6],C.__data[9]=C.value.elements[7],C.__data[10]=C.value.elements[8],C.__data[11]=C.value.elements[0]):T.toArray(C.__data),n.bufferSubData(35345,A,C.__data))}}n.bindBuffer(35345,null)}function h(y,b,_){const w=y.value;if(_[b]===void 0)return typeof w=="number"?_[b]=w:_[b]=w.clone(),!0;if(typeof w=="number"){if(_[b]!==w)return _[b]=w,!0}else{const x=_[b];if(x.equals(w)===!1)return x.copy(w),!0}return!1}function p(y){const b=y.uniforms;let _=0;const w=16;let x=0;for(let M=0,C=b.length;M<C;M++){const T=b[M],A=m(T);if(T.__data=new Float32Array(A.storage/Float32Array.BYTES_PER_ELEMENT),T.__offset=_,M>0){x=_%w;const I=w-x;x!==0&&I-A.boundary<0&&(_+=w-x,T.__offset=_)}_+=A.storage}return x=_%w,x>0&&(_+=w-x),y.__size=_,y.__cache={},this}function m(y){const b=y.value,_={boundary:0,storage:0};return typeof b=="number"?(_.boundary=4,_.storage=4):b.isVector2?(_.boundary=8,_.storage=8):b.isVector3||b.isColor?(_.boundary=16,_.storage=12):b.isVector4?(_.boundary=16,_.storage=16):b.isMatrix3?(_.boundary=48,_.storage=48):b.isMatrix4?(_.boundary=64,_.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),_}function g(y){const b=y.target;b.removeEventListener("dispose",g);const _=s.indexOf(b.__bindingPointIndex);s.splice(_,1),n.deleteBuffer(i[b.id]),delete i[b.id],delete a[b.id]}function v(){for(const y in i)n.deleteBuffer(i[y]);s=[],i={},a={}}return{bind:l,update:c,dispose:v}}function VJe(){const n=K_("canvas");return n.style.display="block",n}function Ere(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:VJe(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,a=n.antialias!==void 0?n.antialias:!1,s=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,o=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let d=null,f=null;const h=[],p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Th,this.physicallyCorrectLights=!1,this.toneMapping=Sd,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const m=this;let g=!1,v=0,y=0,b=null,_=-1,w=null;const x=new ai,M=new ai;let C=null,T=e.width,A=e.height,I=1,L=null,k=null;const N=new ai(0,0,T,A),F=new ai(0,0,T,A);let D=!1;const H=new K8;let z=!1,B=!1,W=null;const Z=new Un,ee=new Wt,J=new je,re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function fe(){return b===null?I:1}let de=t;function me(le,xt){for(let mt=0;mt<le.length;mt++){const At=le[mt],et=e.getContext(At,xt);if(et!==null)return et}return null}try{const le={alpha:!0,depth:r,stencil:i,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:o,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${z8}`),e.addEventListener("webglcontextlost",ve,!1),e.addEventListener("webglcontextrestored",Le,!1),e.addEventListener("webglcontextcreationerror",be,!1),de===null){const xt=["webgl2","webgl","experimental-webgl"];if(m.isWebGL1Renderer===!0&&xt.shift(),de=me(xt,le),de===null)throw me(xt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}de.getShaderPrecisionFormat===void 0&&(de.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(le){throw console.error("THREE.WebGLRenderer: "+le.message),le}let Re,De,Ge,We,K,ue,ie,$e,Ne,Ye,ce,he,ke,oe,V,Y,Q,we,Ue,ct,pt,Ee,ft,st;function G(){Re=new eQe(de),De=new YZe(de,Re,n),Re.init(De),Ee=new OJe(de,Re,De),Ge=new DJe(de,Re,De),We=new rQe,K=new SJe,ue=new kJe(de,Re,Ge,K,De,Ee,We),ie=new jZe(m),$e=new JZe(m),Ne=new mXe(de,De),ft=new qZe(de,Re,Ne,De),Ye=new tQe(de,Ne,We,ft),ce=new oQe(de,Ye,Ne,We),Ue=new sQe(de,De,ue),Y=new XZe(K),he=new _Je(m,ie,$e,Re,De,ft,Y),ke=new UJe(m,K),oe=new xJe,V=new IJe(Re,De),we=new WZe(m,ie,Ge,ce,u,s),Q=new LJe(m,ce,De),st=new HJe(de,We,De,Ge),ct=new KZe(de,Re,We,De),pt=new nQe(de,Re,We,De),We.programs=he.programs,m.capabilities=De,m.extensions=Re,m.properties=K,m.renderLists=oe,m.shadowMap=Q,m.state=Ge,m.info=We}G();const ye=new zJe(m,de);this.xr=ye,this.getContext=function(){return de},this.getContextAttributes=function(){return de.getContextAttributes()},this.forceContextLoss=function(){const le=Re.get("WEBGL_lose_context");le&&le.loseContext()},this.forceContextRestore=function(){const le=Re.get("WEBGL_lose_context");le&&le.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(le){le!==void 0&&(I=le,this.setSize(T,A,!1))},this.getSize=function(le){return le.set(T,A)},this.setSize=function(le,xt,mt){if(ye.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}T=le,A=xt,e.width=Math.floor(le*I),e.height=Math.floor(xt*I),mt!==!1&&(e.style.width=le+"px",e.style.height=xt+"px"),this.setViewport(0,0,le,xt)},this.getDrawingBufferSize=function(le){return le.set(T*I,A*I).floor()},this.setDrawingBufferSize=function(le,xt,mt){T=le,A=xt,I=mt,e.width=Math.floor(le*mt),e.height=Math.floor(xt*mt),this.setViewport(0,0,le,xt)},this.getCurrentViewport=function(le){return le.copy(x)},this.getViewport=function(le){return le.copy(N)},this.setViewport=function(le,xt,mt,At){le.isVector4?N.set(le.x,le.y,le.z,le.w):N.set(le,xt,mt,At),Ge.viewport(x.copy(N).multiplyScalar(I).floor())},this.getScissor=function(le){return le.copy(F)},this.setScissor=function(le,xt,mt,At){le.isVector4?F.set(le.x,le.y,le.z,le.w):F.set(le,xt,mt,At),Ge.scissor(M.copy(F).multiplyScalar(I).floor())},this.getScissorTest=function(){return D},this.setScissorTest=function(le){Ge.setScissorTest(D=le)},this.setOpaqueSort=function(le){L=le},this.setTransparentSort=function(le){k=le},this.getClearColor=function(le){return le.copy(we.getClearColor())},this.setClearColor=function(){we.setClearColor.apply(we,arguments)},this.getClearAlpha=function(){return we.getClearAlpha()},this.setClearAlpha=function(){we.setClearAlpha.apply(we,arguments)},this.clear=function(le=!0,xt=!0,mt=!0){let At=0;le&&(At|=16384),xt&&(At|=256),mt&&(At|=1024),de.clear(At)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ve,!1),e.removeEventListener("webglcontextrestored",Le,!1),e.removeEventListener("webglcontextcreationerror",be,!1),oe.dispose(),V.dispose(),K.dispose(),ie.dispose(),$e.dispose(),ce.dispose(),ft.dispose(),st.dispose(),he.dispose(),ye.dispose(),ye.removeEventListener("sessionstart",vt),ye.removeEventListener("sessionend",kt),W&&(W.dispose(),W=null),Tt.stop()};function ve(le){le.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function Le(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;const le=We.autoReset,xt=Q.enabled,mt=Q.autoUpdate,At=Q.needsUpdate,et=Q.type;G(),We.autoReset=le,Q.enabled=xt,Q.autoUpdate=mt,Q.needsUpdate=At,Q.type=et}function be(le){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",le.statusMessage)}function Te(le){const xt=le.target;xt.removeEventListener("dispose",Te),ht(xt)}function ht(le){Ie(le),K.remove(le)}function Ie(le){const xt=K.get(le).programs;xt!==void 0&&(xt.forEach(function(mt){he.releaseProgram(mt)}),le.isShaderMaterial&&he.releaseShaderCache(le))}this.renderBufferDirect=function(le,xt,mt,At,et,wt){xt===null&&(xt=re);const Xt=et.isMesh&&et.matrixWorld.determinant()<0,yn=se(le,xt,mt,At,et);Ge.setMaterial(At,Xt);let On=mt.index;const Ze=mt.attributes.position;if(On===null){if(Ze===void 0||Ze.count===0)return}else if(On.count===0)return;let Yn=1;At.wireframe===!0&&(On=Ye.getWireframeAttribute(mt),Yn=2),ft.setup(et,At,yn,mt,On);let at,Oe=ct;On!==null&&(at=Ne.get(On),Oe=pt,Oe.setIndex(at));const gt=On!==null?On.count:Ze.count,qe=mt.drawRange.start*Yn,lt=mt.drawRange.count*Yn,it=wt!==null?wt.start*Yn:0,Ct=wt!==null?wt.count*Yn:1/0,tn=Math.max(qe,it),Qt=Math.min(gt,qe+lt,it+Ct)-1,mn=Math.max(0,Qt-tn+1);if(mn!==0){if(et.isMesh)At.wireframe===!0?(Ge.setLineWidth(At.wireframeLinewidth*fe()),Oe.setMode(1)):Oe.setMode(4);else if(et.isLine){let $n=At.linewidth;$n===void 0&&($n=1),Ge.setLineWidth($n*fe()),et.isLineSegments?Oe.setMode(1):et.isLineLoop?Oe.setMode(2):Oe.setMode(3)}else et.isPoints?Oe.setMode(0):et.isSprite&&Oe.setMode(4);if(et.isInstancedMesh)Oe.renderInstances(tn,mn,et.count);else if(mt.isInstancedBufferGeometry){const $n=Math.min(mt.instanceCount,mt._maxInstanceCount);Oe.renderInstances(tn,mn,$n)}else Oe.render(tn,mn)}},this.compile=function(le,xt){f=V.get(le),f.init(),p.push(f),le.traverseVisible(function(mt){mt.isLight&&mt.layers.test(xt.layers)&&(f.pushLight(mt),mt.castShadow&&f.pushShadow(mt))}),f.setupLights(m.physicallyCorrectLights),le.traverse(function(mt){const At=mt.material;if(At)if(Array.isArray(At))for(let et=0;et<At.length;et++){const wt=At[et];jn(wt,le,mt)}else jn(At,le,mt)}),p.pop(),f=null};let bt=null;function nt(le){bt&&bt(le)}function vt(){Tt.stop()}function kt(){Tt.start()}const Tt=new bre;Tt.setAnimationLoop(nt),typeof self<"u"&&Tt.setContext(self),this.setAnimationLoop=function(le){bt=le,ye.setAnimationLoop(le),le===null?Tt.stop():Tt.start()},ye.addEventListener("sessionstart",vt),ye.addEventListener("sessionend",kt),this.render=function(le,xt){if(xt!==void 0&&xt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(g===!0)return;le.autoUpdate===!0&&le.updateMatrixWorld(),xt.parent===null&&xt.updateMatrixWorld(),ye.enabled===!0&&ye.isPresenting===!0&&(ye.cameraAutoUpdate===!0&&ye.updateCamera(xt),xt=ye.getCamera()),le.isScene===!0&&le.onBeforeRender(m,le,xt,b),f=V.get(le,p.length),f.init(),p.push(f),Z.multiplyMatrices(xt.projectionMatrix,xt.matrixWorldInverse),H.setFromProjectionMatrix(Z),B=this.localClippingEnabled,z=Y.init(this.clippingPlanes,B,xt),d=oe.get(le,h.length),d.init(),h.push(d),an(le,xt,0,m.sortObjects),d.finish(),m.sortObjects===!0&&d.sort(L,k),z===!0&&Y.beginShadows();const mt=f.state.shadowsArray;if(Q.render(mt,le,xt),z===!0&&Y.endShadows(),this.info.autoReset===!0&&this.info.reset(),we.render(d,le),f.setupLights(m.physicallyCorrectLights),xt.isArrayCamera){const At=xt.cameras;for(let et=0,wt=At.length;et<wt;et++){const Xt=At[et];_n(d,le,Xt,Xt.viewport)}}else _n(d,le,xt);b!==null&&(ue.updateMultisampleRenderTarget(b),ue.updateRenderTargetMipmap(b)),le.isScene===!0&&le.onAfterRender(m,le,xt),ft.resetDefaultState(),_=-1,w=null,p.pop(),p.length>0?f=p[p.length-1]:f=null,h.pop(),h.length>0?d=h[h.length-1]:d=null};function an(le,xt,mt,At){if(le.visible===!1)return;if(le.layers.test(xt.layers)){if(le.isGroup)mt=le.renderOrder;else if(le.isLOD)le.autoUpdate===!0&&le.update(xt);else if(le.isLight)f.pushLight(le),le.castShadow&&f.pushShadow(le);else if(le.isSprite){if(!le.frustumCulled||H.intersectsSprite(le)){At&&J.setFromMatrixPosition(le.matrixWorld).applyMatrix4(Z);const Xt=ce.update(le),yn=le.material;yn.visible&&d.push(le,Xt,yn,mt,J.z,null)}}else if((le.isMesh||le.isLine||le.isPoints)&&(le.isSkinnedMesh&&le.skeleton.frame!==We.render.frame&&(le.skeleton.update(),le.skeleton.frame=We.render.frame),!le.frustumCulled||H.intersectsObject(le))){At&&J.setFromMatrixPosition(le.matrixWorld).applyMatrix4(Z);const Xt=ce.update(le),yn=le.material;if(Array.isArray(yn)){const On=Xt.groups;for(let Ze=0,Yn=On.length;Ze<Yn;Ze++){const at=On[Ze],Oe=yn[at.materialIndex];Oe&&Oe.visible&&d.push(le,Xt,Oe,mt,J.z,at)}}else yn.visible&&d.push(le,Xt,yn,mt,J.z,null)}}const wt=le.children;for(let Xt=0,yn=wt.length;Xt<yn;Xt++)an(wt[Xt],xt,mt,At)}function _n(le,xt,mt,At){const et=le.opaque,wt=le.transmissive,Xt=le.transparent;f.setupLightsView(mt),wt.length>0&&or(et,xt,mt),At&&Ge.viewport(x.copy(At)),et.length>0&&Ln(et,xt,mt),wt.length>0&&Ln(wt,xt,mt),Xt.length>0&&Ln(Xt,xt,mt),Ge.buffers.depth.setTest(!0),Ge.buffers.depth.setMask(!0),Ge.buffers.color.setMask(!0),Ge.setPolygonOffset(!1)}function or(le,xt,mt){const At=De.isWebGL2;W===null&&(W=new B0(1,1,{generateMipmaps:!0,type:Re.has("EXT_color_buffer_half_float")?G_:N0,minFilter:Yd,samples:At&&a===!0?4:0})),m.getDrawingBufferSize(ee),At?W.setSize(ee.x,ee.y):W.setSize(GM(ee.x),GM(ee.y));const et=m.getRenderTarget();m.setRenderTarget(W),m.clear();const wt=m.toneMapping;m.toneMapping=Sd,Ln(le,xt,mt),m.toneMapping=wt,ue.updateMultisampleRenderTarget(W),ue.updateRenderTargetMipmap(W),m.setRenderTarget(et)}function Ln(le,xt,mt){const At=xt.isScene===!0?xt.overrideMaterial:null;for(let et=0,wt=le.length;et<wt;et++){const Xt=le[et],yn=Xt.object,On=Xt.geometry,Ze=At===null?Xt.material:At,Yn=Xt.group;yn.layers.test(mt.layers)&&Kr(yn,xt,mt,On,Ze,Yn)}}function Kr(le,xt,mt,At,et,wt){le.onBeforeRender(m,xt,mt,At,et,wt),le.modelViewMatrix.multiplyMatrices(mt.matrixWorldInverse,le.matrixWorld),le.normalMatrix.getNormalMatrix(le.modelViewMatrix),et.onBeforeRender(m,xt,mt,At,le,wt),et.transparent===!0&&et.side===Mh?(et.side=xc,et.needsUpdate=!0,m.renderBufferDirect(mt,xt,At,et,le,wt),et.side=Ch,et.needsUpdate=!0,m.renderBufferDirect(mt,xt,At,et,le,wt),et.side=Mh):m.renderBufferDirect(mt,xt,At,et,le,wt),le.onAfterRender(m,xt,mt,At,et,wt)}function jn(le,xt,mt){xt.isScene!==!0&&(xt=re);const At=K.get(le),et=f.state.lights,wt=f.state.shadowsArray,Xt=et.state.version,yn=he.getParameters(le,et.state,wt,xt,mt),On=he.getProgramCacheKey(yn);let Ze=At.programs;At.environment=le.isMeshStandardMaterial?xt.environment:null,At.fog=xt.fog,At.envMap=(le.isMeshStandardMaterial?$e:ie).get(le.envMap||At.environment),Ze===void 0&&(le.addEventListener("dispose",Te),Ze=new Map,At.programs=Ze);let Yn=Ze.get(On);if(Yn!==void 0){if(At.currentProgram===Yn&&At.lightsStateVersion===Xt)return X(le,yn),Yn}else yn.uniforms=he.getUniforms(le),le.onBuild(mt,yn,m),le.onBeforeCompile(yn,m),Yn=he.acquireProgram(yn,On),Ze.set(On,Yn),At.uniforms=yn.uniforms;const at=At.uniforms;(!le.isShaderMaterial&&!le.isRawShaderMaterial||le.clipping===!0)&&(at.clippingPlanes=Y.uniform),X(le,yn),At.needsLights=Ae(le),At.lightsStateVersion=Xt,At.needsLights&&(at.ambientLightColor.value=et.state.ambient,at.lightProbe.value=et.state.probe,at.directionalLights.value=et.state.directional,at.directionalLightShadows.value=et.state.directionalShadow,at.spotLights.value=et.state.spot,at.spotLightShadows.value=et.state.spotShadow,at.rectAreaLights.value=et.state.rectArea,at.ltc_1.value=et.state.rectAreaLTC1,at.ltc_2.value=et.state.rectAreaLTC2,at.pointLights.value=et.state.point,at.pointLightShadows.value=et.state.pointShadow,at.hemisphereLights.value=et.state.hemi,at.directionalShadowMap.value=et.state.directionalShadowMap,at.directionalShadowMatrix.value=et.state.directionalShadowMatrix,at.spotShadowMap.value=et.state.spotShadowMap,at.spotShadowMatrix.value=et.state.spotShadowMatrix,at.pointShadowMap.value=et.state.pointShadowMap,at.pointShadowMatrix.value=et.state.pointShadowMatrix);const Oe=Yn.getUniforms(),gt=MC.seqWithValue(Oe.seq,at);return At.currentProgram=Yn,At.uniformsList=gt,Yn}function X(le,xt){const mt=K.get(le);mt.outputEncoding=xt.outputEncoding,mt.instancing=xt.instancing,mt.skinning=xt.skinning,mt.morphTargets=xt.morphTargets,mt.morphNormals=xt.morphNormals,mt.morphColors=xt.morphColors,mt.morphTargetsCount=xt.morphTargetsCount,mt.numClippingPlanes=xt.numClippingPlanes,mt.numIntersection=xt.numClipIntersection,mt.vertexAlphas=xt.vertexAlphas,mt.vertexTangents=xt.vertexTangents,mt.toneMapping=xt.toneMapping}function se(le,xt,mt,At,et){xt.isScene!==!0&&(xt=re),ue.resetTextureUnits();const wt=xt.fog,Xt=At.isMeshStandardMaterial?xt.environment:null,yn=b===null?m.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:Th,On=(At.isMeshStandardMaterial?$e:ie).get(At.envMap||Xt),Ze=At.vertexColors===!0&&!!mt.attributes.color&&mt.attributes.color.itemSize===4,Yn=!!At.normalMap&&!!mt.attributes.tangent,at=!!mt.morphAttributes.position,Oe=!!mt.morphAttributes.normal,gt=!!mt.morphAttributes.color,qe=At.toneMapped?m.toneMapping:Sd,lt=mt.morphAttributes.position||mt.morphAttributes.normal||mt.morphAttributes.color,it=lt!==void 0?lt.length:0,Ct=K.get(At),tn=f.state.lights;if(z===!0&&(B===!0||le!==w)){const gr=le===w&&At.id===_;Y.setState(At,le,gr)}let Qt=!1;At.version===Ct.__version?(Ct.needsLights&&Ct.lightsStateVersion!==tn.state.version||Ct.outputEncoding!==yn||et.isInstancedMesh&&Ct.instancing===!1||!et.isInstancedMesh&&Ct.instancing===!0||et.isSkinnedMesh&&Ct.skinning===!1||!et.isSkinnedMesh&&Ct.skinning===!0||Ct.envMap!==On||At.fog===!0&&Ct.fog!==wt||Ct.numClippingPlanes!==void 0&&(Ct.numClippingPlanes!==Y.numPlanes||Ct.numIntersection!==Y.numIntersection)||Ct.vertexAlphas!==Ze||Ct.vertexTangents!==Yn||Ct.morphTargets!==at||Ct.morphNormals!==Oe||Ct.morphColors!==gt||Ct.toneMapping!==qe||De.isWebGL2===!0&&Ct.morphTargetsCount!==it)&&(Qt=!0):(Qt=!0,Ct.__version=At.version);let mn=Ct.currentProgram;Qt===!0&&(mn=jn(At,xt,et));let $n=!1,rn=!1,Mn=!1;const An=mn.getUniforms(),rr=Ct.uniforms;if(Ge.useProgram(mn.program)&&($n=!0,rn=!0,Mn=!0),At.id!==_&&(_=At.id,rn=!0),$n||w!==le){if(An.setValue(de,"projectionMatrix",le.projectionMatrix),De.logarithmicDepthBuffer&&An.setValue(de,"logDepthBufFC",2/(Math.log(le.far+1)/Math.LN2)),w!==le&&(w=le,rn=!0,Mn=!0),At.isShaderMaterial||At.isMeshPhongMaterial||At.isMeshToonMaterial||At.isMeshStandardMaterial||At.envMap){const gr=An.map.cameraPosition;gr!==void 0&&gr.setValue(de,J.setFromMatrixPosition(le.matrixWorld))}(At.isMeshPhongMaterial||At.isMeshToonMaterial||At.isMeshLambertMaterial||At.isMeshBasicMaterial||At.isMeshStandardMaterial||At.isShaderMaterial)&&An.setValue(de,"isOrthographic",le.isOrthographicCamera===!0),(At.isMeshPhongMaterial||At.isMeshToonMaterial||At.isMeshLambertMaterial||At.isMeshBasicMaterial||At.isMeshStandardMaterial||At.isShaderMaterial||At.isShadowMaterial||et.isSkinnedMesh)&&An.setValue(de,"viewMatrix",le.matrixWorldInverse)}if(et.isSkinnedMesh){An.setOptional(de,et,"bindMatrix"),An.setOptional(de,et,"bindMatrixInverse");const gr=et.skeleton;gr&&(De.floatVertexTextures?(gr.boneTexture===null&&gr.computeBoneTexture(),An.setValue(de,"boneTexture",gr.boneTexture,ue),An.setValue(de,"boneTextureSize",gr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Wr=mt.morphAttributes;if((Wr.position!==void 0||Wr.normal!==void 0||Wr.color!==void 0&&De.isWebGL2===!0)&&Ue.update(et,mt,At,mn),(rn||Ct.receiveShadow!==et.receiveShadow)&&(Ct.receiveShadow=et.receiveShadow,An.setValue(de,"receiveShadow",et.receiveShadow)),rn&&(An.setValue(de,"toneMappingExposure",m.toneMappingExposure),Ct.needsLights&&Ut(rr,Mn),wt&&At.fog===!0&&ke.refreshFogUniforms(rr,wt),ke.refreshMaterialUniforms(rr,At,I,A,W),MC.upload(de,Ct.uniformsList,rr,ue)),At.isShaderMaterial&&At.uniformsNeedUpdate===!0&&(MC.upload(de,Ct.uniformsList,rr,ue),At.uniformsNeedUpdate=!1),At.isSpriteMaterial&&An.setValue(de,"center",et.center),An.setValue(de,"modelViewMatrix",et.modelViewMatrix),An.setValue(de,"normalMatrix",et.normalMatrix),An.setValue(de,"modelMatrix",et.matrixWorld),At.isShaderMaterial||At.isRawShaderMaterial){const gr=At.uniformsGroups;for(let yr=0,Gn=gr.length;yr<Gn;yr++)if(De.isWebGL2){const Mi=gr[yr];st.update(Mi,mn),st.bind(Mi,mn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return mn}function Ut(le,xt){le.ambientLightColor.needsUpdate=xt,le.lightProbe.needsUpdate=xt,le.directionalLights.needsUpdate=xt,le.directionalLightShadows.needsUpdate=xt,le.pointLights.needsUpdate=xt,le.pointLightShadows.needsUpdate=xt,le.spotLights.needsUpdate=xt,le.spotLightShadows.needsUpdate=xt,le.rectAreaLights.needsUpdate=xt,le.hemisphereLights.needsUpdate=xt}function Ae(le){return le.isMeshLambertMaterial||le.isMeshToonMaterial||le.isMeshPhongMaterial||le.isMeshStandardMaterial||le.isShadowMaterial||le.isShaderMaterial&&le.lights===!0}this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(le,xt,mt){K.get(le.texture).__webglTexture=xt,K.get(le.depthTexture).__webglTexture=mt;const At=K.get(le);At.__hasExternalTextures=!0,At.__hasExternalTextures&&(At.__autoAllocateDepthBuffer=mt===void 0,At.__autoAllocateDepthBuffer||Re.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),At.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(le,xt){const mt=K.get(le);mt.__webglFramebuffer=xt,mt.__useDefaultFramebuffer=xt===void 0},this.setRenderTarget=function(le,xt=0,mt=0){b=le,v=xt,y=mt;let At=!0;if(le){const On=K.get(le);On.__useDefaultFramebuffer!==void 0?(Ge.bindFramebuffer(36160,null),At=!1):On.__webglFramebuffer===void 0?ue.setupRenderTarget(le):On.__hasExternalTextures&&ue.rebindTextures(le,K.get(le.texture).__webglTexture,K.get(le.depthTexture).__webglTexture)}let et=null,wt=!1,Xt=!1;if(le){const On=le.texture;(On.isData3DTexture||On.isDataArrayTexture)&&(Xt=!0);const Ze=K.get(le).__webglFramebuffer;le.isWebGLCubeRenderTarget?(et=Ze[xt],wt=!0):De.isWebGL2&&le.samples>0&&ue.useMultisampledRTT(le)===!1?et=K.get(le).__webglMultisampledFramebuffer:et=Ze,x.copy(le.viewport),M.copy(le.scissor),C=le.scissorTest}else x.copy(N).multiplyScalar(I).floor(),M.copy(F).multiplyScalar(I).floor(),C=D;if(Ge.bindFramebuffer(36160,et)&&De.drawBuffers&&At&&Ge.drawBuffers(le,et),Ge.viewport(x),Ge.scissor(M),Ge.setScissorTest(C),wt){const On=K.get(le.texture);de.framebufferTexture2D(36160,36064,34069+xt,On.__webglTexture,mt)}else if(Xt){const On=K.get(le.texture),Ze=xt||0;de.framebufferTextureLayer(36160,36064,On.__webglTexture,mt||0,Ze)}_=-1},this.readRenderTargetPixels=function(le,xt,mt,At,et,wt,Xt){if(!(le&&le.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let yn=K.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&Xt!==void 0&&(yn=yn[Xt]),yn){Ge.bindFramebuffer(36160,yn);try{const On=le.texture,Ze=On.format,Yn=On.type;if(Ze!==Ol&&Ee.convert(Ze)!==de.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const at=Yn===G_&&(Re.has("EXT_color_buffer_half_float")||De.isWebGL2&&Re.has("EXT_color_buffer_float"));if(Yn!==N0&&Ee.convert(Yn)!==de.getParameter(35738)&&!(Yn===qf&&(De.isWebGL2||Re.has("OES_texture_float")||Re.has("WEBGL_color_buffer_float")))&&!at){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}xt>=0&&xt<=le.width-At&&mt>=0&&mt<=le.height-et&&de.readPixels(xt,mt,At,et,Ee.convert(Ze),Ee.convert(Yn),wt)}finally{const On=b!==null?K.get(b).__webglFramebuffer:null;Ge.bindFramebuffer(36160,On)}}},this.copyFramebufferToTexture=function(le,xt,mt=0){const At=Math.pow(2,-mt),et=Math.floor(xt.image.width*At),wt=Math.floor(xt.image.height*At);ue.setTexture2D(xt,0),de.copyTexSubImage2D(3553,mt,0,0,le.x,le.y,et,wt),Ge.unbindTexture()},this.copyTextureToTexture=function(le,xt,mt,At=0){const et=xt.image.width,wt=xt.image.height,Xt=Ee.convert(mt.format),yn=Ee.convert(mt.type);ue.setTexture2D(mt,0),de.pixelStorei(37440,mt.flipY),de.pixelStorei(37441,mt.premultiplyAlpha),de.pixelStorei(3317,mt.unpackAlignment),xt.isDataTexture?de.texSubImage2D(3553,At,le.x,le.y,et,wt,Xt,yn,xt.image.data):xt.isCompressedTexture?de.compressedTexSubImage2D(3553,At,le.x,le.y,xt.mipmaps[0].width,xt.mipmaps[0].height,Xt,xt.mipmaps[0].data):de.texSubImage2D(3553,At,le.x,le.y,Xt,yn,xt.image),At===0&&mt.generateMipmaps&&de.generateMipmap(3553),Ge.unbindTexture()},this.copyTextureToTexture3D=function(le,xt,mt,At,et=0){if(m.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const wt=le.max.x-le.min.x+1,Xt=le.max.y-le.min.y+1,yn=le.max.z-le.min.z+1,On=Ee.convert(At.format),Ze=Ee.convert(At.type);let Yn;if(At.isData3DTexture)ue.setTexture3D(At,0),Yn=32879;else if(At.isDataArrayTexture)ue.setTexture2DArray(At,0),Yn=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}de.pixelStorei(37440,At.flipY),de.pixelStorei(37441,At.premultiplyAlpha),de.pixelStorei(3317,At.unpackAlignment);const at=de.getParameter(3314),Oe=de.getParameter(32878),gt=de.getParameter(3316),qe=de.getParameter(3315),lt=de.getParameter(32877),it=mt.isCompressedTexture?mt.mipmaps[0]:mt.image;de.pixelStorei(3314,it.width),de.pixelStorei(32878,it.height),de.pixelStorei(3316,le.min.x),de.pixelStorei(3315,le.min.y),de.pixelStorei(32877,le.min.z),mt.isDataTexture||mt.isData3DTexture?de.texSubImage3D(Yn,et,xt.x,xt.y,xt.z,wt,Xt,yn,On,Ze,it.data):mt.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),de.compressedTexSubImage3D(Yn,et,xt.x,xt.y,xt.z,wt,Xt,yn,On,it.data)):de.texSubImage3D(Yn,et,xt.x,xt.y,xt.z,wt,Xt,yn,On,Ze,it),de.pixelStorei(3314,at),de.pixelStorei(32878,Oe),de.pixelStorei(3316,gt),de.pixelStorei(3315,qe),de.pixelStorei(32877,lt),et===0&&At.generateMipmaps&&de.generateMipmap(Yn),Ge.unbindTexture()},this.initTexture=function(le){le.isCubeTexture?ue.setTextureCube(le,0):le.isData3DTexture?ue.setTexture3D(le,0):le.isDataArrayTexture?ue.setTexture2DArray(le,0):ue.setTexture2D(le,0),Ge.unbindTexture()},this.resetState=function(){v=0,y=0,b=null,Ge.reset(),ft.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class $Je extends Ere{}$Je.prototype.isWebGL1Renderer=!0;class X8{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new bn(e),this.density=t}clone(){return new X8(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class j8{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new bn(e),this.near=t,this.far=r}clone(){return new j8(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}let Z8=class extends Gi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}};class Q8{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=tL,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=zl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=zl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=zl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Us=new je;class F0{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Us.fromBufferAttribute(this,t),Us.applyMatrix4(e),this.setXYZ(t,Us.x,Us.y,Us.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Us.fromBufferAttribute(this,t),Us.applyNormalMatrix(e),this.setXYZ(t,Us.x,Us.y,Us.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Us.fromBufferAttribute(this,t),Us.transformDirection(e),this.setXYZ(t,Us.x,Us.y,Us.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new ia(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new F0(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class J8 extends Ma{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new bn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Wm;const L1=new je,qm=new je,Km=new je,Ym=new Wt,D1=new Wt,Ire=new Un,$x=new je,k1=new je,Gx=new je,G$=new Wt,lI=new Wt,W$=new Wt;class TC extends Gi{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Wm===void 0){Wm=new Hr;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Q8(t,5);Wm.setIndex([0,1,2,0,2,3]),Wm.setAttribute("position",new F0(r,3,0,!1)),Wm.setAttribute("uv",new F0(r,2,3,!1))}this.geometry=Wm,this.material=e!==void 0?e:new J8,this.center=new Wt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),qm.setFromMatrixScale(this.matrixWorld),Ire.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Km.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&qm.multiplyScalar(-Km.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const s=this.center;Wx($x.set(-.5,-.5,0),Km,s,qm,i,a),Wx(k1.set(.5,-.5,0),Km,s,qm,i,a),Wx(Gx.set(.5,.5,0),Km,s,qm,i,a),G$.set(0,0),lI.set(1,0),W$.set(1,1);let o=e.ray.intersectTriangle($x,k1,Gx,!1,L1);if(o===null&&(Wx(k1.set(-.5,.5,0),Km,s,qm,i,a),lI.set(0,1),o=e.ray.intersectTriangle($x,Gx,k1,!1,L1),o===null))return;const l=e.ray.origin.distanceTo(L1);l<e.near||l>e.far||t.push({distance:l,point:L1.clone(),uv:Rb.getUV(L1,$x,k1,Gx,G$,lI,W$,new Wt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Wx(n,e,t,r,i,a){Ym.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(D1.x=a*Ym.x-i*Ym.y,D1.y=i*Ym.x+a*Ym.y):D1.copy(Ym),n.copy(e),n.x+=D1.x,n.y+=D1.y,n.applyMatrix4(Ire)}const qx=new je,q$=new je;class GJe extends Gi{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const a=t[r];this.addLevel(a.object.clone(),a.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){qx.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(qx);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){qx.setFromMatrixPosition(e.matrixWorld),q$.setFromMatrixPosition(this.matrixWorld);const r=qx.distanceTo(q$)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const s=r[i];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}}const K$=new je,Y$=new ai,X$=new ai,WJe=new je,j$=new Un;class NA extends Oa{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Un,this.bindMatrixInverse=new Un}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ai,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;Y$.fromBufferAttribute(i.attributes.skinIndex,e),X$.fromBufferAttribute(i.attributes.skinWeight,e),K$.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=X$.getComponent(a);if(s!==0){const o=Y$.getComponent(a);j$.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),t.addScaledVector(WJe.copy(K$).applyMatrix4(j$),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class qg extends Gi{constructor(){super(),this.isBone=!0,this.type="Bone"}}let Pb=class extends fs{constructor(e=null,t=1,r=1,i,a,s,o,l,c=Ga,u=Ga,d,f){super(null,s,o,l,c,u,i,a,d,f),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};const Z$=new Un,qJe=new Un;class Ry{constructor(e=[],t=[]){this.uuid=zl(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Un)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Un;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:qJe;Z$.multiplyMatrices(o,t[a]),Z$.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Ry(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=are(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Pb(t,e,e,Ol,qf);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new qg),this.bones.push(s),this.boneInverses.push(new Un().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const s=t[i];e.bones.push(s.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}let X_=class extends ia{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}};const Q$=new Un,J$=new Un,Kx=[],O1=new Oa;class KJe extends Oa{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new X_(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(O1.geometry=this.geometry,O1.material=this.material,O1.material!==void 0)for(let a=0;a<i;a++){this.getMatrixAt(a,Q$),J$.multiplyMatrices(r,Q$),O1.matrixWorld=J$,O1.raycast(e,Kx);for(let s=0,o=Kx.length;s<o;s++){const l=Kx[s];l.instanceId=a,l.object=this,t.push(l)}Kx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new X_(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Cc extends Ma{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new bn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const eG=new je,tG=new je,nG=new Un,cI=new kA,Yx=new em;class Py extends Gi{constructor(e=new Hr,t=new Cc){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,a=t.count;i<a;i++)eG.fromBufferAttribute(t,i-1),tG.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=eG.distanceTo(tG);e.setAttribute("lineDistance",new En(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Yx.copy(r.boundingSphere),Yx.applyMatrix4(i),Yx.radius+=a,e.ray.intersectsSphere(Yx)===!1)return;nG.copy(i).invert(),cI.copy(e.ray).applyMatrix4(nG);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=new je,u=new je,d=new je,f=new je,h=this.isLineSegments?2:1,p=r.index,g=r.attributes.position;if(p!==null){const v=Math.max(0,s.start),y=Math.min(p.count,s.start+s.count);for(let b=v,_=y-1;b<_;b+=h){const w=p.getX(b),x=p.getX(b+1);if(c.fromBufferAttribute(g,w),u.fromBufferAttribute(g,x),cI.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(f);C<e.near||C>e.far||t.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,s.start),y=Math.min(g.count,s.start+s.count);for(let b=v,_=y-1;b<_;b+=h){if(c.fromBufferAttribute(g,b),u.fromBufferAttribute(g,b+1),cI.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const x=e.ray.origin.distanceTo(f);x<e.near||x>e.far||t.push({distance:x,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}const rG=new je,iG=new je;class z0 extends Py{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,a=t.count;i<a;i+=2)rG.fromBufferAttribute(t,i),iG.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+rG.distanceTo(iG);e.setAttribute("lineDistance",new En(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Rre extends Py{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Jp extends Ma{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new bn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const aG=new Un,cL=new kA,Xx=new em,jx=new je;class Lb extends Gi{constructor(e=new Hr,t=new Jp){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Xx.copy(r.boundingSphere),Xx.applyMatrix4(i),Xx.radius+=a,e.ray.intersectsSphere(Xx)===!1)return;aG.copy(i).invert(),cL.copy(e.ray).applyMatrix4(aG);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=r.index,d=r.attributes.position;if(c!==null){const f=Math.max(0,s.start),h=Math.min(c.count,s.start+s.count);for(let p=f,m=h;p<m;p++){const g=c.getX(p);jx.fromBufferAttribute(d,g),sG(jx,g,l,i,e,t,this)}}else{const f=Math.max(0,s.start),h=Math.min(d.count,s.start+s.count);for(let p=f,m=h;p<m;p++)jx.fromBufferAttribute(d,p),sG(jx,p,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function sG(n,e,t,r,i,a,s){const o=cL.distanceSqToPoint(n);if(o<t){const l=new je;cL.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,object:s})}}class YJe extends fs{constructor(e,t,r,i,a,s,o,l,c,u,d,f){super(null,s,o,l,c,u,i,a,d,f),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class kc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),a+=r.distanceTo(i),t.push(a),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const a=r.length;let s;t?s=t:s=e*r[a-1];let o=0,l=a-1,c;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),c=r[i]-s,c<0)o=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(a-1);const u=r[i],f=r[i+1]-u,h=(s-u)/f;return(i+h)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const s=this.getPoint(i),o=this.getPoint(a),l=t||(s.isVector2?new Wt:new je);return l.copy(o).sub(s).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new je,i=[],a=[],s=[],o=new je,l=new Un;for(let h=0;h<=e;h++){const p=h/e;i[h]=this.getTangentAt(p,new je)}a[0]=new je,s[0]=new je;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),f<=c&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],o),s[0].crossVectors(i[0],a[0]);for(let h=1;h<=e;h++){if(a[h]=a[h-1].clone(),s[h]=s[h-1].clone(),o.crossVectors(i[h-1],i[h]),o.length()>Number.EPSILON){o.normalize();const p=Math.acos(Pa(i[h-1].dot(i[h]),-1,1));a[h].applyMatrix4(l.makeRotationAxis(o,p))}s[h].crossVectors(i[h],a[h])}if(t===!0){let h=Math.acos(Pa(a[0].dot(a[e]),-1,1));h/=e,i[0].dot(o.crossVectors(a[0],a[e]))>0&&(h=-h);for(let p=1;p<=e;p++)a[p].applyMatrix4(l.makeRotationAxis(i[p],h*p)),s[p].crossVectors(i[p],a[p])}return{tangents:i,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class eO extends kc{constructor(e=0,t=0,r=1,i=1,a=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,t){const r=t||new Wt,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(s?a=0:a=i),this.aClockwise===!0&&!s&&(a===i?a=-i:a=a-i);const o=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,h=c-this.aY;l=f*u-h*d+this.aX,c=f*d+h*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class XJe extends eO{constructor(e,t,r,i,a,s){super(e,t,r,r,i,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function tO(){let n=0,e=0,t=0,r=0;function i(a,s,o,l){n=a,e=o,t=-3*a+3*s-2*o-l,r=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,c){i(s,o,c*(o-a),c*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,c,u,d){let f=(s-a)/c-(o-a)/(c+u)+(o-s)/u,h=(o-s)/u-(l-s)/(u+d)+(l-o)/d;f*=u,h*=u,i(s,o,f,h)},calc:function(a){const s=a*a,o=s*a;return n+e*a+t*s+r*o}}}const Zx=new je,uI=new tO,dI=new tO,fI=new tO;class jJe extends kc{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new je){const r=t,i=this.points,a=i.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:l===0&&o===a-1&&(o=a-2,l=1);let c,u;this.closed||o>0?c=i[(o-1)%a]:(Zx.subVectors(i[0],i[1]).add(i[0]),c=Zx);const d=i[o%a],f=i[(o+1)%a];if(this.closed||o+2<a?u=i[(o+2)%a]:(Zx.subVectors(i[a-1],i[a-2]).add(i[a-1]),u=Zx),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let p=Math.pow(c.distanceToSquared(d),h),m=Math.pow(d.distanceToSquared(f),h),g=Math.pow(f.distanceToSquared(u),h);m<1e-4&&(m=1),p<1e-4&&(p=m),g<1e-4&&(g=m),uI.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,p,m,g),dI.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,p,m,g),fI.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,p,m,g)}else this.curveType==="catmullrom"&&(uI.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),dI.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),fI.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return r.set(uI.calc(l),dI.calc(l),fI.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new je().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function oG(n,e,t,r,i){const a=(r-e)*.5,s=(i-t)*.5,o=n*n,l=n*o;return(2*t-2*r+a+s)*l+(-3*t+3*r-2*a-s)*o+a*n+t}function ZJe(n,e){const t=1-n;return t*t*e}function QJe(n,e){return 2*(1-n)*n*e}function JJe(n,e){return n*n*e}function Db(n,e,t,r){return ZJe(n,e)+QJe(n,t)+JJe(n,r)}function eet(n,e){const t=1-n;return t*t*t*e}function tet(n,e){const t=1-n;return 3*t*t*n*e}function net(n,e){return 3*(1-n)*n*n*e}function ret(n,e){return n*n*n*e}function kb(n,e,t,r,i){return eet(n,e)+tet(n,t)+net(n,r)+ret(n,i)}class Pre extends kc{constructor(e=new Wt,t=new Wt,r=new Wt,i=new Wt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Wt){const r=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(kb(e,i.x,a.x,s.x,o.x),kb(e,i.y,a.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class iet extends kc{constructor(e=new je,t=new je,r=new je,i=new je){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new je){const r=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(kb(e,i.x,a.x,s.x,o.x),kb(e,i.y,a.y,s.y,o.y),kb(e,i.z,a.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class nO extends kc{constructor(e=new Wt,t=new Wt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Wt){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new Wt;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aet extends kc{constructor(e=new je,t=new je){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new je){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Lre extends kc{constructor(e=new Wt,t=new Wt,r=new Wt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Wt){const r=t,i=this.v0,a=this.v1,s=this.v2;return r.set(Db(e,i.x,a.x,s.x),Db(e,i.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Dre extends kc{constructor(e=new je,t=new je,r=new je){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new je){const r=t,i=this.v0,a=this.v1,s=this.v2;return r.set(Db(e,i.x,a.x,s.x),Db(e,i.y,a.y,s.y),Db(e,i.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kre extends kc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Wt){const r=t,i=this.points,a=(i.length-1)*e,s=Math.floor(a),o=a-s,l=i[s===0?s:s-1],c=i[s],u=i[s>i.length-2?i.length-1:s+1],d=i[s>i.length-3?i.length-1:s+2];return r.set(oG(o,l.x,c.x,u.x,d.x),oG(o,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Wt().fromArray(i))}return this}}var rO=Object.freeze({__proto__:null,ArcCurve:XJe,CatmullRomCurve3:jJe,CubicBezierCurve:Pre,CubicBezierCurve3:iet,EllipseCurve:eO,LineCurve:nO,LineCurve3:aet,QuadraticBezierCurve:Lre,QuadraticBezierCurve3:Dre,SplineCurve:kre});class set extends kc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new nO(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const s=i[a]-r,o=this.curves[a],l=o.getLength(),c=l===0?0:1-s/l;return o.getPointAt(c,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const s=a[i],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new rO[i.type]().fromJSON(i))}return this}}class uL extends set{constructor(e){super(),this.type="Path",this.currentPoint=new Wt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new nO(this.currentPoint.clone(),new Wt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const a=new Lre(this.currentPoint.clone(),new Wt(e,t),new Wt(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,a,s){const o=new Pre(this.currentPoint.clone(),new Wt(e,t),new Wt(r,i),new Wt(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new kre(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,a,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,r,i,a,s),this}absarc(e,t,r,i,a,s){return this.absellipse(e,t,r,r,i,a,s),this}ellipse(e,t,r,i,a,s,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,a,s,o,l),this}absellipse(e,t,r,i,a,s,o,l){const c=new eO(e,t,r,i,a,s,o,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class j_ extends Hr{constructor(e=[new Wt(0,-.5),new Wt(.5,0),new Wt(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Pa(i,0,Math.PI*2);const a=[],s=[],o=[],l=[],c=[],u=1/t,d=new je,f=new Wt,h=new je,p=new je,m=new je;let g=0,v=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:g=e[y+1].x-e[y].x,v=e[y+1].y-e[y].y,h.x=v*1,h.y=-g,h.z=v*0,m.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(m.x,m.y,m.z);break;default:g=e[y+1].x-e[y].x,v=e[y+1].y-e[y].y,h.x=v*1,h.y=-g,h.z=v*0,p.copy(h),h.x+=m.x,h.y+=m.y,h.z+=m.z,h.normalize(),l.push(h.x,h.y,h.z),m.copy(p)}for(let y=0;y<=t;y++){const b=r+y*u*i,_=Math.sin(b),w=Math.cos(b);for(let x=0;x<=e.length-1;x++){d.x=e[x].x*_,d.y=e[x].y,d.z=e[x].x*w,s.push(d.x,d.y,d.z),f.x=y/t,f.y=x/(e.length-1),o.push(f.x,f.y);const M=l[3*x+0]*_,C=l[3*x+1],T=l[3*x+0]*w;c.push(M,C,T)}}for(let y=0;y<t;y++)for(let b=0;b<e.length-1;b++){const _=b+y*e.length,w=_,x=_+e.length,M=_+e.length+1,C=_+1;a.push(w,x,C),a.push(M,C,x)}this.setIndex(a),this.setAttribute("position",new En(s,3)),this.setAttribute("uv",new En(o,2)),this.setAttribute("normal",new En(c,3))}static fromJSON(e){return new j_(e.points,e.segments,e.phiStart,e.phiLength)}}class WM extends j_{constructor(e=1,t=1,r=4,i=8){const a=new uL;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new WM(e.radius,e.length,e.capSegments,e.radialSegments)}}class qM extends Hr{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const a=[],s=[],o=[],l=[],c=new je,u=new Wt;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=t;d++,f+=3){const h=r+d/t*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),s.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(s[f]/e+1)/2,u.y=(s[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)a.push(d,d+1,0);this.setIndex(a),this.setAttribute("position",new En(s,3)),this.setAttribute("normal",new En(o,3)),this.setAttribute("uv",new En(l,2))}static fromJSON(e){return new qM(e.radius,e.segments,e.thetaStart,e.thetaLength)}}let dL=class Ore extends Hr{constructor(e=1,t=1,r=1,i=8,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),a=Math.floor(a);const u=[],d=[],f=[],h=[];let p=0;const m=[],g=r/2;let v=0;y(),s===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new En(d,3)),this.setAttribute("normal",new En(f,3)),this.setAttribute("uv",new En(h,2));function y(){const _=new je,w=new je;let x=0;const M=(t-e)/r;for(let C=0;C<=a;C++){const T=[],A=C/a,I=A*(t-e)+e;for(let L=0;L<=i;L++){const k=L/i,N=k*l+o,F=Math.sin(N),D=Math.cos(N);w.x=I*F,w.y=-A*r+g,w.z=I*D,d.push(w.x,w.y,w.z),_.set(F,M,D).normalize(),f.push(_.x,_.y,_.z),h.push(k,1-A),T.push(p++)}m.push(T)}for(let C=0;C<i;C++)for(let T=0;T<a;T++){const A=m[T][C],I=m[T+1][C],L=m[T+1][C+1],k=m[T][C+1];u.push(A,I,k),u.push(I,L,k),x+=6}c.addGroup(v,x,0),v+=x}function b(_){const w=p,x=new Wt,M=new je;let C=0;const T=_===!0?e:t,A=_===!0?1:-1;for(let L=1;L<=i;L++)d.push(0,g*A,0),f.push(0,A,0),h.push(.5,.5),p++;const I=p;for(let L=0;L<=i;L++){const N=L/i*l+o,F=Math.cos(N),D=Math.sin(N);M.x=T*D,M.y=g*A,M.z=T*F,d.push(M.x,M.y,M.z),f.push(0,A,0),x.x=F*.5+.5,x.y=D*.5*A+.5,h.push(x.x,x.y),p++}for(let L=0;L<i;L++){const k=w+L,N=I+L;_===!0?u.push(N,N+1,k):u.push(N+1,N,k),C+=3}c.addGroup(v,C,_===!0?1:2),v+=C}}static fromJSON(e){return new Ore(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},lG=class Nre extends dL{constructor(e=1,t=1,r=8,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,r,i,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new Nre(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}};class Ah extends Hr{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const a=[],s=[];o(i),c(r),u(),this.setAttribute("position",new En(a,3)),this.setAttribute("normal",new En(a.slice(),3)),this.setAttribute("uv",new En(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(y){const b=new je,_=new je,w=new je;for(let x=0;x<t.length;x+=3)h(t[x+0],b),h(t[x+1],_),h(t[x+2],w),l(b,_,w,y)}function l(y,b,_,w){const x=w+1,M=[];for(let C=0;C<=x;C++){M[C]=[];const T=y.clone().lerp(_,C/x),A=b.clone().lerp(_,C/x),I=x-C;for(let L=0;L<=I;L++)L===0&&C===x?M[C][L]=T:M[C][L]=T.clone().lerp(A,L/I)}for(let C=0;C<x;C++)for(let T=0;T<2*(x-C)-1;T++){const A=Math.floor(T/2);T%2===0?(f(M[C][A+1]),f(M[C+1][A]),f(M[C][A])):(f(M[C][A+1]),f(M[C+1][A+1]),f(M[C+1][A]))}}function c(y){const b=new je;for(let _=0;_<a.length;_+=3)b.x=a[_+0],b.y=a[_+1],b.z=a[_+2],b.normalize().multiplyScalar(y),a[_+0]=b.x,a[_+1]=b.y,a[_+2]=b.z}function u(){const y=new je;for(let b=0;b<a.length;b+=3){y.x=a[b+0],y.y=a[b+1],y.z=a[b+2];const _=g(y)/2/Math.PI+.5,w=v(y)/Math.PI+.5;s.push(_,1-w)}p(),d()}function d(){for(let y=0;y<s.length;y+=6){const b=s[y+0],_=s[y+2],w=s[y+4],x=Math.max(b,_,w),M=Math.min(b,_,w);x>.9&&M<.1&&(b<.2&&(s[y+0]+=1),_<.2&&(s[y+2]+=1),w<.2&&(s[y+4]+=1))}}function f(y){a.push(y.x,y.y,y.z)}function h(y,b){const _=y*3;b.x=e[_+0],b.y=e[_+1],b.z=e[_+2]}function p(){const y=new je,b=new je,_=new je,w=new je,x=new Wt,M=new Wt,C=new Wt;for(let T=0,A=0;T<a.length;T+=9,A+=6){y.set(a[T+0],a[T+1],a[T+2]),b.set(a[T+3],a[T+4],a[T+5]),_.set(a[T+6],a[T+7],a[T+8]),x.set(s[A+0],s[A+1]),M.set(s[A+2],s[A+3]),C.set(s[A+4],s[A+5]),w.copy(y).add(b).add(_).divideScalar(3);const I=g(w);m(x,A+0,y,I),m(M,A+2,b,I),m(C,A+4,_,I)}}function m(y,b,_,w){w<0&&y.x===1&&(s[b]=y.x-1),_.x===0&&_.z===0&&(s[b]=w/2/Math.PI+.5)}function g(y){return Math.atan2(y.z,-y.x)}function v(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}static fromJSON(e){return new Ah(e.vertices,e.indices,e.radius,e.details)}}class KM extends Ah{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new KM(e.radius,e.detail)}}const Qx=new je,Jx=new je,hI=new je,e2=new Rb;class oet extends Hr{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(ug*t),s=e.getIndex(),o=e.getAttribute("position"),l=s?s.count:o.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},h=[];for(let p=0;p<l;p+=3){s?(c[0]=s.getX(p),c[1]=s.getX(p+1),c[2]=s.getX(p+2)):(c[0]=p,c[1]=p+1,c[2]=p+2);const{a:m,b:g,c:v}=e2;if(m.fromBufferAttribute(o,c[0]),g.fromBufferAttribute(o,c[1]),v.fromBufferAttribute(o,c[2]),e2.getNormal(hI),d[0]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,d[1]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,d[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let y=0;y<3;y++){const b=(y+1)%3,_=d[y],w=d[b],x=e2[u[y]],M=e2[u[b]],C=`${_}_${w}`,T=`${w}_${_}`;T in f&&f[T]?(hI.dot(f[T].normal)<=a&&(h.push(x.x,x.y,x.z),h.push(M.x,M.y,M.z)),f[T]=null):C in f||(f[C]={index0:c[y],index1:c[b],normal:hI.clone()})}}for(const p in f)if(f[p]){const{index0:m,index1:g}=f[p];Qx.fromBufferAttribute(o,m),Jx.fromBufferAttribute(o,g),h.push(Qx.x,Qx.y,Qx.z),h.push(Jx.x,Jx.y,Jx.z)}this.setAttribute("position",new En(h,3))}}}class iO extends uL{constructor(e){super(e),this.uuid=zl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new uL().fromJSON(i))}return this}}const cet={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let a=Bre(n,0,i,t,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,c,u,d,f,h;if(r&&(a=pet(n,e,a,t)),n.length>80*t){o=c=n[0],l=u=n[1];for(let p=t;p<i;p+=t)d=n[p],f=n[p+1],d<o&&(o=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);h=Math.max(c-o,u-l),h=h!==0?1/h:0}return Z_(a,s,t,o,l,h),s}};function Bre(n,e,t,r,i){let a,s;if(i===Tet(n,e,t,r)>0)for(a=e;a<t;a+=r)s=cG(a,n[a],n[a+1],s);else for(a=t-r;a>=e;a-=r)s=cG(a,n[a],n[a+1],s);return s&&BA(s,s.next)&&(J_(s),s=s.next),s}function Eh(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(BA(t,t.next)||Ki(t.prev,t,t.next)===0)){if(J_(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Z_(n,e,t,r,i,a,s){if(!n)return;!s&&a&&bet(n,r,i,a);let o=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,a?det(n,r,i,a):uet(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),J_(n),n=c.next,o=c.next;continue}if(n=c,n===o){s?s===1?(n=fet(Eh(n),e,t),Z_(n,e,t,r,i,a,2)):s===2&&het(n,e,t,r,i,a):Z_(Eh(n),e,t,r,i,a,1);break}}}function uet(n){const e=n.prev,t=n,r=n.next;if(Ki(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if($v(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&Ki(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function det(n,e,t,r){const i=n.prev,a=n,s=n.next;if(Ki(i,a,s)>=0)return!1;const o=i.x<a.x?i.x<s.x?i.x:s.x:a.x<s.x?a.x:s.x,l=i.y<a.y?i.y<s.y?i.y:s.y:a.y<s.y?a.y:s.y,c=i.x>a.x?i.x>s.x?i.x:s.x:a.x>s.x?a.x:s.x,u=i.y>a.y?i.y>s.y?i.y:s.y:a.y>s.y?a.y:s.y,d=fL(o,l,e,t,r),f=fL(c,u,e,t,r);let h=n.prevZ,p=n.nextZ;for(;h&&h.z>=d&&p&&p.z<=f;){if(h!==n.prev&&h!==n.next&&$v(i.x,i.y,a.x,a.y,s.x,s.y,h.x,h.y)&&Ki(h.prev,h,h.next)>=0||(h=h.prevZ,p!==n.prev&&p!==n.next&&$v(i.x,i.y,a.x,a.y,s.x,s.y,p.x,p.y)&&Ki(p.prev,p,p.next)>=0))return!1;p=p.nextZ}for(;h&&h.z>=d;){if(h!==n.prev&&h!==n.next&&$v(i.x,i.y,a.x,a.y,s.x,s.y,h.x,h.y)&&Ki(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=f;){if(p!==n.prev&&p!==n.next&&$v(i.x,i.y,a.x,a.y,s.x,s.y,p.x,p.y)&&Ki(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function fet(n,e,t){let r=n;do{const i=r.prev,a=r.next.next;!BA(i,a)&&Fre(i,r,r.next,a)&&Q_(i,a)&&Q_(a,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(a.i/t),J_(r),J_(r.next),r=n=a),r=r.next}while(r!==n);return Eh(r)}function het(n,e,t,r,i,a){let s=n;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&xet(s,o)){let l=zre(s,o);s=Eh(s,s.next),l=Eh(l,l.next),Z_(s,e,t,r,i,a),Z_(l,e,t,r,i,a);return}o=o.next}s=s.next}while(s!==n)}function pet(n,e,t,r){const i=[];let a,s,o,l,c;for(a=0,s=e.length;a<s;a++)o=e[a]*r,l=a<s-1?e[a+1]*r:n.length,c=Bre(n,o,l,r,!1),c===c.next&&(c.steiner=!0),i.push(wet(c));for(i.sort(met),a=0;a<i.length;a++)vet(i[a],t),t=Eh(t,t.next);return t}function met(n,e){return n.x-e.x}function vet(n,e){if(e=get(n,e),e){const t=zre(e,n);Eh(e,e.next),Eh(t,t.next)}}function get(n,e){let t=e;const r=n.x,i=n.y;let a=-1/0,s;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const f=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=r&&f>a){if(a=f,f===r){if(i===t.y)return t;if(i===t.next.y)return t.next}s=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!s)return null;if(r===a)return s;const o=s,l=s.x,c=s.y;let u=1/0,d;t=s;do r>=t.x&&t.x>=l&&r!==t.x&&$v(i<c?r:a,i,l,c,i<c?a:r,i,t.x,t.y)&&(d=Math.abs(i-t.y)/(r-t.x),Q_(t,n)&&(d<u||d===u&&(t.x>s.x||t.x===s.x&&yet(s,t)))&&(s=t,u=d)),t=t.next;while(t!==o);return s}function yet(n,e){return Ki(n.prev,n,e.prev)<0&&Ki(e.next,n,n.next)<0}function bet(n,e,t,r){let i=n;do i.z===null&&(i.z=fL(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,_et(i)}function _et(n){let e,t,r,i,a,s,o,l,c=1;do{for(t=n,n=null,a=null,s=0;t;){for(s++,r=t,o=0,e=0;e<c&&(o++,r=r.nextZ,!!r);e++);for(l=c;o>0||l>0&&r;)o!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,o--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:n=i,i.prevZ=a,a=i;t=r}a.nextZ=null,c*=2}while(s>1);return n}function fL(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function wet(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function $v(n,e,t,r,i,a,s,o){return(i-s)*(e-o)-(n-s)*(a-o)>=0&&(n-s)*(r-o)-(t-s)*(e-o)>=0&&(t-s)*(a-o)-(i-s)*(r-o)>=0}function xet(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Cet(n,e)&&(Q_(n,e)&&Q_(e,n)&&Met(n,e)&&(Ki(n.prev,n,e.prev)||Ki(n,e.prev,e))||BA(n,e)&&Ki(n.prev,n,n.next)>0&&Ki(e.prev,e,e.next)>0)}function Ki(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function BA(n,e){return n.x===e.x&&n.y===e.y}function Fre(n,e,t,r){const i=n2(Ki(n,e,t)),a=n2(Ki(n,e,r)),s=n2(Ki(t,r,n)),o=n2(Ki(t,r,e));return!!(i!==a&&s!==o||i===0&&t2(n,t,e)||a===0&&t2(n,r,e)||s===0&&t2(t,n,r)||o===0&&t2(t,e,r))}function t2(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function n2(n){return n>0?1:n<0?-1:0}function Cet(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Fre(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Q_(n,e){return Ki(n.prev,n,n.next)<0?Ki(n,e,n.next)>=0&&Ki(n,n.prev,e)>=0:Ki(n,e,n.prev)<0||Ki(n,n.next,e)<0}function Met(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function zre(n,e){const t=new hL(n.i,n.x,n.y),r=new hL(e.i,e.x,e.y),i=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function cG(n,e,t,r){const i=new hL(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function J_(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function hL(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Tet(n,e,t,r){let i=0;for(let a=e,s=t-r;a<t;a+=r)i+=(n[s]-n[a])*(n[a+1]+n[s+1]),s=a;return i}class th{static area(e){const t=e.length;let r=0;for(let i=t-1,a=0;a<t;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return th.area(e)<0}static triangulateShape(e,t){const r=[],i=[],a=[];uG(e),dG(r,e);let s=e.length;t.forEach(uG);for(let l=0;l<t.length;l++)i.push(s),s+=t[l].length,dG(r,t[l]);const o=cet.triangulate(r,i);for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3));return a}}function uG(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function dG(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class YM extends Hr{constructor(e=new iO([new Wt(.5,.5),new Wt(-.5,.5),new Wt(-.5,-.5),new Wt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];s(c)}this.setAttribute("position",new En(i,3)),this.setAttribute("uv",new En(a,2)),this.computeVertexNormals();function s(o){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,h=t.bevelThickness!==void 0?t.bevelThickness:.2,p=t.bevelSize!==void 0?t.bevelSize:h-.1,m=t.bevelOffset!==void 0?t.bevelOffset:0,g=t.bevelSegments!==void 0?t.bevelSegments:3;const v=t.extrudePath,y=t.UVGenerator!==void 0?t.UVGenerator:Aet;let b,_=!1,w,x,M,C;v&&(b=v.getSpacedPoints(u),_=!0,f=!1,w=v.computeFrenetFrames(u,!1),x=new je,M=new je,C=new je),f||(g=0,h=0,p=0,m=0);const T=o.extractPoints(c);let A=T.shape;const I=T.holes;if(!th.isClockWise(A)){A=A.reverse();for(let K=0,ue=I.length;K<ue;K++){const ie=I[K];th.isClockWise(ie)&&(I[K]=ie.reverse())}}const k=th.triangulateShape(A,I),N=A;for(let K=0,ue=I.length;K<ue;K++){const ie=I[K];A=A.concat(ie)}function F(K,ue,ie){return ue||console.error("THREE.ExtrudeGeometry: vec does not exist"),ue.clone().multiplyScalar(ie).add(K)}const D=A.length,H=k.length;function z(K,ue,ie){let $e,Ne,Ye;const ce=K.x-ue.x,he=K.y-ue.y,ke=ie.x-K.x,oe=ie.y-K.y,V=ce*ce+he*he,Y=ce*oe-he*ke;if(Math.abs(Y)>Number.EPSILON){const Q=Math.sqrt(V),we=Math.sqrt(ke*ke+oe*oe),Ue=ue.x-he/Q,ct=ue.y+ce/Q,pt=ie.x-oe/we,Ee=ie.y+ke/we,ft=((pt-Ue)*oe-(Ee-ct)*ke)/(ce*oe-he*ke);$e=Ue+ce*ft-K.x,Ne=ct+he*ft-K.y;const st=$e*$e+Ne*Ne;if(st<=2)return new Wt($e,Ne);Ye=Math.sqrt(st/2)}else{let Q=!1;ce>Number.EPSILON?ke>Number.EPSILON&&(Q=!0):ce<-Number.EPSILON?ke<-Number.EPSILON&&(Q=!0):Math.sign(he)===Math.sign(oe)&&(Q=!0),Q?($e=-he,Ne=ce,Ye=Math.sqrt(V)):($e=ce,Ne=he,Ye=Math.sqrt(V/2))}return new Wt($e/Ye,Ne/Ye)}const B=[];for(let K=0,ue=N.length,ie=ue-1,$e=K+1;K<ue;K++,ie++,$e++)ie===ue&&(ie=0),$e===ue&&($e=0),B[K]=z(N[K],N[ie],N[$e]);const W=[];let Z,ee=B.concat();for(let K=0,ue=I.length;K<ue;K++){const ie=I[K];Z=[];for(let $e=0,Ne=ie.length,Ye=Ne-1,ce=$e+1;$e<Ne;$e++,Ye++,ce++)Ye===Ne&&(Ye=0),ce===Ne&&(ce=0),Z[$e]=z(ie[$e],ie[Ye],ie[ce]);W.push(Z),ee=ee.concat(Z)}for(let K=0;K<g;K++){const ue=K/g,ie=h*Math.cos(ue*Math.PI/2),$e=p*Math.sin(ue*Math.PI/2)+m;for(let Ne=0,Ye=N.length;Ne<Ye;Ne++){const ce=F(N[Ne],B[Ne],$e);me(ce.x,ce.y,-ie)}for(let Ne=0,Ye=I.length;Ne<Ye;Ne++){const ce=I[Ne];Z=W[Ne];for(let he=0,ke=ce.length;he<ke;he++){const oe=F(ce[he],Z[he],$e);me(oe.x,oe.y,-ie)}}}const J=p+m;for(let K=0;K<D;K++){const ue=f?F(A[K],ee[K],J):A[K];_?(M.copy(w.normals[0]).multiplyScalar(ue.x),x.copy(w.binormals[0]).multiplyScalar(ue.y),C.copy(b[0]).add(M).add(x),me(C.x,C.y,C.z)):me(ue.x,ue.y,0)}for(let K=1;K<=u;K++)for(let ue=0;ue<D;ue++){const ie=f?F(A[ue],ee[ue],J):A[ue];_?(M.copy(w.normals[K]).multiplyScalar(ie.x),x.copy(w.binormals[K]).multiplyScalar(ie.y),C.copy(b[K]).add(M).add(x),me(C.x,C.y,C.z)):me(ie.x,ie.y,d/u*K)}for(let K=g-1;K>=0;K--){const ue=K/g,ie=h*Math.cos(ue*Math.PI/2),$e=p*Math.sin(ue*Math.PI/2)+m;for(let Ne=0,Ye=N.length;Ne<Ye;Ne++){const ce=F(N[Ne],B[Ne],$e);me(ce.x,ce.y,d+ie)}for(let Ne=0,Ye=I.length;Ne<Ye;Ne++){const ce=I[Ne];Z=W[Ne];for(let he=0,ke=ce.length;he<ke;he++){const oe=F(ce[he],Z[he],$e);_?me(oe.x,oe.y+b[u-1].y,b[u-1].x+ie):me(oe.x,oe.y,d+ie)}}}re(),fe();function re(){const K=i.length/3;if(f){let ue=0,ie=D*ue;for(let $e=0;$e<H;$e++){const Ne=k[$e];Re(Ne[2]+ie,Ne[1]+ie,Ne[0]+ie)}ue=u+g*2,ie=D*ue;for(let $e=0;$e<H;$e++){const Ne=k[$e];Re(Ne[0]+ie,Ne[1]+ie,Ne[2]+ie)}}else{for(let ue=0;ue<H;ue++){const ie=k[ue];Re(ie[2],ie[1],ie[0])}for(let ue=0;ue<H;ue++){const ie=k[ue];Re(ie[0]+D*u,ie[1]+D*u,ie[2]+D*u)}}r.addGroup(K,i.length/3-K,0)}function fe(){const K=i.length/3;let ue=0;de(N,ue),ue+=N.length;for(let ie=0,$e=I.length;ie<$e;ie++){const Ne=I[ie];de(Ne,ue),ue+=Ne.length}r.addGroup(K,i.length/3-K,1)}function de(K,ue){let ie=K.length;for(;--ie>=0;){const $e=ie;let Ne=ie-1;Ne<0&&(Ne=K.length-1);for(let Ye=0,ce=u+g*2;Ye<ce;Ye++){const he=D*Ye,ke=D*(Ye+1),oe=ue+$e+he,V=ue+Ne+he,Y=ue+Ne+ke,Q=ue+$e+ke;De(oe,V,Y,Q)}}}function me(K,ue,ie){l.push(K),l.push(ue),l.push(ie)}function Re(K,ue,ie){Ge(K),Ge(ue),Ge(ie);const $e=i.length/3,Ne=y.generateTopUV(r,i,$e-3,$e-2,$e-1);We(Ne[0]),We(Ne[1]),We(Ne[2])}function De(K,ue,ie,$e){Ge(K),Ge(ue),Ge($e),Ge(ue),Ge(ie),Ge($e);const Ne=i.length/3,Ye=y.generateSideWallUV(r,i,Ne-6,Ne-3,Ne-2,Ne-1);We(Ye[0]),We(Ye[1]),We(Ye[3]),We(Ye[1]),We(Ye[2]),We(Ye[3])}function Ge(K){i.push(l[K*3+0]),i.push(l[K*3+1]),i.push(l[K*3+2])}function We(K){a.push(K.x),a.push(K.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Eet(t,r,e)}static fromJSON(e,t){const r=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=t[e.shapes[a]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new rO[i.type]().fromJSON(i)),new YM(r,e.options)}}const Aet={generateTopUV:function(n,e,t,r,i){const a=e[t*3],s=e[t*3+1],o=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Wt(a,s),new Wt(o,l),new Wt(c,u)]},generateSideWallUV:function(n,e,t,r,i,a){const s=e[t*3],o=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],f=e[i*3],h=e[i*3+1],p=e[i*3+2],m=e[a*3],g=e[a*3+1],v=e[a*3+2];return Math.abs(o-u)<Math.abs(s-c)?[new Wt(s,1-l),new Wt(c,1-d),new Wt(f,1-p),new Wt(m,1-v)]:[new Wt(o,1-l),new Wt(u,1-d),new Wt(h,1-p),new Wt(g,1-v)]}};function Eet(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const a=n[r];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class XM extends Ah{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new XM(e.radius,e.detail)}}class jM extends Ah{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new jM(e.radius,e.detail)}}class ZM extends Hr{constructor(e=.5,t=1,r=8,i=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],c=[],u=[];let d=e;const f=(t-e)/i,h=new je,p=new Wt;for(let m=0;m<=i;m++){for(let g=0;g<=r;g++){const v=a+g/r*s;h.x=d*Math.cos(v),h.y=d*Math.sin(v),l.push(h.x,h.y,h.z),c.push(0,0,1),p.x=(h.x/t+1)/2,p.y=(h.y/t+1)/2,u.push(p.x,p.y)}d+=f}for(let m=0;m<i;m++){const g=m*(r+1);for(let v=0;v<r;v++){const y=v+g,b=y,_=y+r+1,w=y+r+2,x=y+1;o.push(b,_,x),o.push(_,w,x)}}this.setIndex(o),this.setAttribute("position",new En(l,3)),this.setAttribute("normal",new En(c,3)),this.setAttribute("uv",new En(u,2))}static fromJSON(e){return new ZM(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class QM extends Hr{constructor(e=new iO([new Wt(0,.5),new Wt(-.5,-.5),new Wt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],a=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new En(i,3)),this.setAttribute("normal",new En(a,3)),this.setAttribute("uv",new En(s,2));function c(u){const d=i.length/3,f=u.extractPoints(t);let h=f.shape;const p=f.holes;th.isClockWise(h)===!1&&(h=h.reverse());for(let g=0,v=p.length;g<v;g++){const y=p[g];th.isClockWise(y)===!0&&(p[g]=y.reverse())}const m=th.triangulateShape(h,p);for(let g=0,v=p.length;g<v;g++){const y=p[g];h=h.concat(y)}for(let g=0,v=h.length;g<v;g++){const y=h[g];i.push(y.x,y.y,0),a.push(0,0,1),s.push(y.x,y.y)}for(let g=0,v=m.length;g<v;g++){const y=m[g],b=y[0]+d,_=y[1]+d,w=y[2]+d;r.push(b,_,w),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Iet(t,e)}static fromJSON(e,t){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const s=t[e.shapes[i]];r.push(s)}return new QM(r,e.curveSegments)}}function Iet(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}let fG=class Ure extends Hr{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(s+o,Math.PI);let c=0;const u=[],d=new je,f=new je,h=[],p=[],m=[],g=[];for(let v=0;v<=r;v++){const y=[],b=v/r;let _=0;v==0&&s==0?_=.5/t:v==r&&l==Math.PI&&(_=-.5/t);for(let w=0;w<=t;w++){const x=w/t;d.x=-e*Math.cos(i+x*a)*Math.sin(s+b*o),d.y=e*Math.cos(s+b*o),d.z=e*Math.sin(i+x*a)*Math.sin(s+b*o),p.push(d.x,d.y,d.z),f.copy(d).normalize(),m.push(f.x,f.y,f.z),g.push(x+_,1-b),y.push(c++)}u.push(y)}for(let v=0;v<r;v++)for(let y=0;y<t;y++){const b=u[v][y+1],_=u[v][y],w=u[v+1][y],x=u[v+1][y+1];(v!==0||s>0)&&h.push(b,_,x),(v!==r-1||l<Math.PI)&&h.push(_,w,x)}this.setIndex(h),this.setAttribute("position",new En(p,3)),this.setAttribute("normal",new En(m,3)),this.setAttribute("uv",new En(g,2))}static fromJSON(e){return new Ure(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}};class JM extends Ah{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new JM(e.radius,e.detail)}}class eT extends Hr{constructor(e=1,t=.4,r=8,i=6,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const s=[],o=[],l=[],c=[],u=new je,d=new je,f=new je;for(let h=0;h<=r;h++)for(let p=0;p<=i;p++){const m=p/i*a,g=h/r*Math.PI*2;d.x=(e+t*Math.cos(g))*Math.cos(m),d.y=(e+t*Math.cos(g))*Math.sin(m),d.z=t*Math.sin(g),o.push(d.x,d.y,d.z),u.x=e*Math.cos(m),u.y=e*Math.sin(m),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(p/i),c.push(h/r)}for(let h=1;h<=r;h++)for(let p=1;p<=i;p++){const m=(i+1)*h+p-1,g=(i+1)*(h-1)+p-1,v=(i+1)*(h-1)+p,y=(i+1)*h+p;s.push(m,g,y),s.push(g,v,y)}this.setIndex(s),this.setAttribute("position",new En(o,3)),this.setAttribute("normal",new En(l,3)),this.setAttribute("uv",new En(c,2))}static fromJSON(e){return new eT(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class tT extends Hr{constructor(e=1,t=.4,r=64,i=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:a,q:s},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],c=[],u=[],d=new je,f=new je,h=new je,p=new je,m=new je,g=new je,v=new je;for(let b=0;b<=r;++b){const _=b/r*a*Math.PI*2;y(_,a,s,e,h),y(_+.01,a,s,e,p),g.subVectors(p,h),v.addVectors(p,h),m.crossVectors(g,v),v.crossVectors(m,g),m.normalize(),v.normalize();for(let w=0;w<=i;++w){const x=w/i*Math.PI*2,M=-t*Math.cos(x),C=t*Math.sin(x);d.x=h.x+(M*v.x+C*m.x),d.y=h.y+(M*v.y+C*m.y),d.z=h.z+(M*v.z+C*m.z),l.push(d.x,d.y,d.z),f.subVectors(d,h).normalize(),c.push(f.x,f.y,f.z),u.push(b/r),u.push(w/i)}}for(let b=1;b<=r;b++)for(let _=1;_<=i;_++){const w=(i+1)*(b-1)+(_-1),x=(i+1)*b+(_-1),M=(i+1)*b+_,C=(i+1)*(b-1)+_;o.push(w,x,C),o.push(x,M,C)}this.setIndex(o),this.setAttribute("position",new En(l,3)),this.setAttribute("normal",new En(c,3)),this.setAttribute("uv",new En(u,2));function y(b,_,w,x,M){const C=Math.cos(b),T=Math.sin(b),A=w/_*b,I=Math.cos(A);M.x=x*(2+I)*.5*C,M.y=x*(2+I)*T*.5,M.z=x*Math.sin(A)*.5}}static fromJSON(e){return new tT(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class nT extends Hr{constructor(e=new Dre(new je(-1,-1,0),new je(-1,1,0),new je(1,1,0)),t=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new je,l=new je,c=new Wt;let u=new je;const d=[],f=[],h=[],p=[];m(),this.setIndex(p),this.setAttribute("position",new En(d,3)),this.setAttribute("normal",new En(f,3)),this.setAttribute("uv",new En(h,2));function m(){for(let b=0;b<t;b++)g(b);g(a===!1?t:0),y(),v()}function g(b){u=e.getPointAt(b/t,u);const _=s.normals[b],w=s.binormals[b];for(let x=0;x<=i;x++){const M=x/i*Math.PI*2,C=Math.sin(M),T=-Math.cos(M);l.x=T*_.x+C*w.x,l.y=T*_.y+C*w.y,l.z=T*_.z+C*w.z,l.normalize(),f.push(l.x,l.y,l.z),o.x=u.x+r*l.x,o.y=u.y+r*l.y,o.z=u.z+r*l.z,d.push(o.x,o.y,o.z)}}function v(){for(let b=1;b<=t;b++)for(let _=1;_<=i;_++){const w=(i+1)*(b-1)+(_-1),x=(i+1)*b+(_-1),M=(i+1)*b+_,C=(i+1)*(b-1)+_;p.push(w,x,C),p.push(x,M,C)}}function y(){for(let b=0;b<=t;b++)for(let _=0;_<=i;_++)c.x=b/t,c.y=_/i,h.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new nT(new rO[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Ret extends Hr{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new je,a=new je;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,h=d.count;for(let p=f,m=f+h;p<m;p+=3)for(let g=0;g<3;g++){const v=o.getX(p+g),y=o.getX(p+(g+1)%3);i.fromBufferAttribute(s,v),a.fromBufferAttribute(s,y),hG(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,d=3*o+(c+1)%3;i.fromBufferAttribute(s,u),a.fromBufferAttribute(s,d),hG(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new En(t,3))}}}function hG(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var pG=Object.freeze({__proto__:null,BoxGeometry:Y_,BoxBufferGeometry:Y_,CapsuleGeometry:WM,CapsuleBufferGeometry:WM,CircleGeometry:qM,CircleBufferGeometry:qM,ConeGeometry:lG,ConeBufferGeometry:lG,CylinderGeometry:dL,CylinderBufferGeometry:dL,DodecahedronGeometry:KM,DodecahedronBufferGeometry:KM,EdgesGeometry:oet,ExtrudeGeometry:YM,ExtrudeBufferGeometry:YM,IcosahedronGeometry:XM,IcosahedronBufferGeometry:XM,LatheGeometry:j_,LatheBufferGeometry:j_,OctahedronGeometry:jM,OctahedronBufferGeometry:jM,PlaneGeometry:oL,PlaneBufferGeometry:oL,PolyhedronGeometry:Ah,PolyhedronBufferGeometry:Ah,RingGeometry:ZM,RingBufferGeometry:ZM,ShapeGeometry:QM,ShapeBufferGeometry:QM,SphereGeometry:fG,SphereBufferGeometry:fG,TetrahedronGeometry:JM,TetrahedronBufferGeometry:JM,TorusGeometry:eT,TorusBufferGeometry:eT,TorusKnotGeometry:tT,TorusKnotBufferGeometry:tT,TubeGeometry:nT,TubeBufferGeometry:nT,WireframeGeometry:Ret});class Pet extends Ma{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new bn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Let extends Pd{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Ly extends Ma{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new bn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Q0,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zh extends Ly{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Wt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Pa(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new bn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new bn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new bn(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class wd extends Ma{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new bn(16777215),this.specular=new bn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Q0,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=DA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Det extends Ma{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new bn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Q0,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class ket extends Ma{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Q0,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class aO extends Ma{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new bn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=DA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Oet extends Ma{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new bn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Q0,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Net extends Cc{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function yf(n,e,t){return Hre(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function r2(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function Hre(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Bet(n){function e(i,a){return n[i]-n[a]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function mG(n,e,t){const r=n.length,i=new n.constructor(r);for(let a=0,s=0;s!==r;++a){const o=t[a]*e;for(let l=0;l!==e;++l)i[s++]=n[o+l]}return i}function Vre(n,e,t,r){let i=1,a=n[0];for(;a!==void 0&&a[r]===void 0;)a=n[i++];if(a===void 0)return;let s=a[r];if(s!==void 0)if(Array.isArray(s))do s=a[r],s!==void 0&&(e.push(a.time),t.push.apply(t,s)),a=n[i++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[r],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=n[i++];while(a!==void 0);else do s=a[r],s!==void 0&&(e.push(a.time),t.push(s)),a=n[i++];while(a!==void 0)}class $S{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],a=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<a)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(a=i,i=t[++r],e<i)break t}s=t.length;break n}if(!(e>=a)){const o=t[1];e<o&&(r=2,a=o);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=t[--r-1],e>=a)break t}s=r,r=0;break n}break e}for(;r<s;){const o=r+s>>>1;e<t[o]?s=o:r=o+1}if(i=t[r],a=t[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let s=0;s!==i;++s)t[s]=r[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Fet extends $S{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Fv,endingEnd:Fv}}intervalChanged_(e,t,r){const i=this.parameterPositions;let a=e-2,s=e+1,o=i[a],l=i[s];if(o===void 0)switch(this.getSettings_().endingStart){case zv:a=e,o=2*t-r;break;case $M:a=i.length-2,o=t+i[a]-i[a+1];break;default:a=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case zv:s=e,l=2*r-t;break;case $M:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(l-r),this._offsetPrev=a*u,this._offsetNext=s*u}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,p=(r-t)/(i-t),m=p*p,g=m*p,v=-f*g+2*f*m-f*p,y=(1+f)*g+(-1.5-2*f)*m+(-.5+f)*p+1,b=(-1-h)*g+(1.5+h)*m+.5*p,_=h*g-h*m;for(let w=0;w!==o;++w)a[w]=v*s[u+w]+y*s[c+w]+b*s[l+w]+_*s[d+w];return a}}class $re extends $S{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(r-t)/(i-t),d=1-u;for(let f=0;f!==o;++f)a[f]=s[c+f]*d+s[l+f]*u;return a}}class zet extends $S{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Du{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=r2(t,this.TimeBufferType),this.values=r2(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:r2(e.times,Array),values:r2(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new zet(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new $re(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Fet(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case W_:t=this.InterpolantFactoryMethodDiscrete;break;case Gg:t=this.InterpolantFactoryMethodLinear;break;case k4:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return W_;case this.InterpolantFactoryMethodLinear:return Gg;case this.InterpolantFactoryMethodSmooth:return k4}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let a=0,s=i-1;for(;a!==i&&r[a]<e;)++a;for(;s!==-1&&r[s]>t;)--s;if(++s,a!==0||s!==i){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=yf(r,a,s),this.values=yf(this.values,a*o,s*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(i!==void 0&&Hre(i))for(let o=0,l=i.length;o!==l;++o){const c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=yf(this.times),t=yf(this.values),r=this.getValueSize(),i=this.getInterpolation()===k4,a=e.length-1;let s=1;for(let o=1;o<a;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(i)l=!0;else{const d=o*r,f=d-r,h=d+r;for(let p=0;p!==r;++p){const m=t[d+p];if(m!==t[f+p]||m!==t[h+p]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const d=o*r,f=s*r;for(let h=0;h!==r;++h)t[f+h]=t[d+h]}++s}}if(a>0){e[s]=e[a];for(let o=a*r,l=s*r,c=0;c!==r;++c)t[l+c]=t[o+c];++s}return s!==e.length?(this.times=yf(e,0,s),this.values=yf(t,0,s*r)):(this.times=e,this.values=t),this}clone(){const e=yf(this.times,0),t=yf(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Du.prototype.TimeBufferType=Float32Array;Du.prototype.ValueBufferType=Float32Array;Du.prototype.DefaultInterpolation=Gg;class Dy extends Du{}Dy.prototype.ValueTypeName="bool";Dy.prototype.ValueBufferType=Array;Dy.prototype.DefaultInterpolation=W_;Dy.prototype.InterpolantFactoryMethodLinear=void 0;Dy.prototype.InterpolantFactoryMethodSmooth=void 0;class Gre extends Du{}Gre.prototype.ValueTypeName="color";class Kg extends Du{}Kg.prototype.ValueTypeName="number";class Uet extends $S{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(r-t)/(i-t);let c=e*o;for(let u=c+o;c!==u;c+=4)ss.slerpFlat(a,0,s,c-o,s,c,l);return a}}class Ld extends Du{InterpolantFactoryMethodLinear(e){return new Uet(this.times,this.values,this.getValueSize(),e)}}Ld.prototype.ValueTypeName="quaternion";Ld.prototype.DefaultInterpolation=Gg;Ld.prototype.InterpolantFactoryMethodSmooth=void 0;class ky extends Du{}ky.prototype.ValueTypeName="string";ky.prototype.ValueBufferType=Array;ky.prototype.DefaultInterpolation=W_;ky.prototype.InterpolantFactoryMethodLinear=void 0;ky.prototype.InterpolantFactoryMethodSmooth=void 0;class Ih extends Du{}Ih.prototype.ValueTypeName="vector";class U0{constructor(e,t=-1,r,i=V8){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=zl(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,o=r.length;s!==o;++s)t.push(Vet(r[s]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=r.length;a!==s;++a)t.push(Du.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const a=t.length,s=[];for(let o=0;o<a;o++){let l=[],c=[];l.push((o+a-1)%a,o,(o+1)%a),c.push(0,1,0);const u=Bet(l);l=mG(l,1,u),c=mG(c,1,u),!i&&l[0]===0&&(l.push(a),c.push(c[0])),s.push(new Kg(".morphTargetInfluences["+t[o].name+"]",l,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(a);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const s=[];for(const o in i)s.push(this.CreateFromMorphTargetSequence(o,i[o],t,r));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,f,h,p,m){if(h.length!==0){const g=[],v=[];Vre(h,g,v,p),g.length!==0&&m.push(new d(f,g,v))}},i=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let p;for(p=0;p<f.length;p++)if(f[p].morphTargets)for(let m=0;m<f[p].morphTargets.length;m++)h[f[p].morphTargets[m]]=-1;for(const m in h){const g=[],v=[];for(let y=0;y!==f[p].morphTargets.length;++y){const b=f[p];g.push(b.time),v.push(b.morphTarget===m?1:0)}i.push(new Kg(".morphTargetInfluence["+m+"]",g,v))}l=h.length*s}else{const h=".bones["+t[d].name+"]";r(Ih,h+".position",f,"pos",i),r(Ld,h+".quaternion",f,"rot",i),r(Ih,h+".scale",f,"scl",i)}}return i.length===0?null:new this(a,l,i,o)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Het(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Kg;case"vector":case"vector2":case"vector3":case"vector4":return Ih;case"color":return Gre;case"quaternion":return Ld;case"bool":case"boolean":return Dy;case"string":return ky}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Vet(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Het(n.type);if(n.times===void 0){const t=[],r=[];Vre(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Yg={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class Wre{constructor(e,t,r){const i=this;let a=!1,s=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){o++,a===!1&&i.onStart!==void 0&&i.onStart(u,s,o),a=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],p=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null}}}const qre=new Wre;class ms{constructor(e){this.manager=e!==void 0?e:qre,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,a){r.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const qu={};class $et extends Error{constructor(e,t){super(e),this.response=t}}class Ns extends ms{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Yg.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(qu[e]!==void 0){qu[e].push({onLoad:t,onProgress:r,onError:i});return}qu[e]=[],qu[e].push({onLoad:t,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=qu[e],d=c.body.getReader(),f=c.headers.get("Content-Length"),h=f?parseInt(f):0,p=h!==0;let m=0;const g=new ReadableStream({start(v){y();function y(){d.read().then(({done:b,value:_})=>{if(b)v.close();else{m+=_.byteLength;const w=new ProgressEvent("progress",{lengthComputable:p,loaded:m,total:h});for(let x=0,M=u.length;x<M;x++){const C=u[x];C.onProgress&&C.onProgress(w)}v.enqueue(_),y()}})}}});return new Response(g)}else throw new $et(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(o),f=d&&d[1]?d[1].toLowerCase():void 0,h=new TextDecoder(f);return c.arrayBuffer().then(p=>h.decode(p))}}}).then(c=>{Yg.add(e,c);const u=qu[e];delete qu[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=qu[e];if(u===void 0)throw this.manager.itemError(e),c;delete qu[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Get extends ms{constructor(e){super(e)}load(e,t,r,i){const a=this,s=[],o=new YJe,l=new Ns(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const h=a.parse(f,!0);s[d]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(o.minFilter=ba),o.image=s,o.format=h.format,o.needsUpdate=!0,t&&t(o))},r,i)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=a.parse(d,!0);if(f.isCubemap){const h=f.mipmaps.length/f.mipmapCount;for(let p=0;p<h;p++){s[p]={mipmaps:[]};for(let m=0;m<f.mipmapCount;m++)s[p].mipmaps.push(f.mipmaps[p*f.mipmapCount+m]),s[p].format=f.format,s[p].width=f.width,s[p].height=f.height}o.image=s}else o.image.width=f.width,o.image.height=f.height,o.mipmaps=f.mipmaps;f.mipmapCount===1&&(o.minFilter=ba),o.format=f.format,o.needsUpdate=!0,t&&t(o)},r,i);return o}}class pL extends ms{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Yg.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;const o=K_("img");function l(){u(),Yg.add(e,this),t&&t(this),a.manager.itemEnd(e)}function c(d){u(),i&&i(d),a.manager.itemError(e),a.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}class Wet extends ms{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new Pb,o=new Ns(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(l){const c=a.parse(l);c&&(c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:ka,s.wrapT=c.wrapT!==void 0?c.wrapT:ka,s.magFilter=c.magFilter!==void 0?c.magFilter:ba,s.minFilter=c.minFilter!==void 0?c.minFilter:ba,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(s.encoding=c.encoding),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=Yd),c.mipmapCount===1&&(s.minFilter=ba),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,t&&t(s,c))},r,i),s}}class Xg extends ms{constructor(e){super(e)}load(e,t,r,i){const a=new fs,s=new pL(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},r,i),a}}class tm extends Gi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new bn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class Kre extends tm{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Gi.DefaultUp),this.updateMatrix(),this.groundColor=new bn(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const vG=new Un,gG=new je,yG=new je;class sO{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Wt(512,512),this.map=null,this.mapPass=null,this.matrix=new Un,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new K8,this._frameExtents=new Wt(1,1),this._viewportCount=1,this._viewports=[new ai(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;gG.setFromMatrixPosition(e.matrixWorld),t.position.copy(gG),yG.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(yG),t.updateMatrixWorld(),vG.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vG),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class qet extends sO{constructor(){super(new La(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=q_*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(r!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class FA extends tm{constructor(e,t,r=0,i=Math.PI/3,a=0,s=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Gi.DefaultUp),this.updateMatrix(),this.target=new Gi,this.distance=r,this.angle=i,this.penumbra=a,this.decay=s,this.shadow=new qet}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const bG=new Un,N1=new je,pI=new je;class Ket extends sO{constructor(){super(new La(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Wt(4,2),this._viewportCount=6,this._viewports=[new ai(2,1,1,1),new ai(0,1,1,1),new ai(3,1,1,1),new ai(1,1,1,1),new ai(3,0,1,1),new ai(1,0,1,1)],this._cubeDirections=[new je(1,0,0),new je(-1,0,0),new je(0,0,1),new je(0,0,-1),new je(0,1,0),new je(0,-1,0)],this._cubeUps=[new je(0,1,0),new je(0,1,0),new je(0,1,0),new je(0,1,0),new je(0,0,1),new je(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),N1.setFromMatrixPosition(e.matrixWorld),r.position.copy(N1),pI.copy(r.position),pI.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(pI),r.updateMatrixWorld(),i.makeTranslation(-N1.x,-N1.y,-N1.z),bG.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(bG)}}class H0 extends tm{constructor(e,t,r=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Ket}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Yet extends sO{constructor(){super(new Ey(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class GS extends tm{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Gi.DefaultUp),this.updateMatrix(),this.target=new Gi,this.shadow=new Yet}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class zA extends tm{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Xet extends tm{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class jet{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new je)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],1.092548*(r*i)),t.addScaledVector(s[5],1.092548*(i*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(r*a)),t.addScaledVector(s[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*r),t.addScaledVector(s[4],2*.429043*r*i),t.addScaledVector(s[5],2*.429043*i*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*r*a),t.addScaledVector(s[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-i*i)}}class Zet extends tm{constructor(e=new jet,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class oO extends ms{constructor(e){super(e),this.textures={}}load(e,t,r,i){const a=this,s=new Ns(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const i=oO.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new bn().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(i.uniforms[a]={},s.type){case"t":i.uniforms[a].value=r(s.value);break;case"c":i.uniforms[a].value=new bn().setHex(s.value);break;case"v2":i.uniforms[a].value=new Wt().fromArray(s.value);break;case"v3":i.uniforms[a].value=new je().fromArray(s.value);break;case"v4":i.uniforms[a].value=new ai().fromArray(s.value);break;case"m3":i.uniforms[a].value=new Nl().fromArray(s.value);break;case"m4":i.uniforms[a].value=new Un().fromArray(s.value);break;default:i.uniforms[a].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new Wt().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Wt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:Pet,SpriteMaterial:J8,RawShaderMaterial:Let,ShaderMaterial:Pd,PointsMaterial:Jp,MeshPhysicalMaterial:zh,MeshStandardMaterial:Ly,MeshPhongMaterial:wd,MeshToonMaterial:Det,MeshNormalMaterial:ket,MeshLambertMaterial:aO,MeshDepthMaterial:Tre,MeshDistanceMaterial:Are,MeshBasicMaterial:bc,MeshMatcapMaterial:Oet,LineDashedMaterial:Net,LineBasicMaterial:Cc,Material:Ma};return new t[e]}}class Os{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}let Qet=class extends Hr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}};class Jet extends ms{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new Ns(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(h,p){if(t[p]!==void 0)return t[p];const g=h.interleavedBuffers[p],v=a(h,g.buffer),y=Uv(g.type,v),b=new Q8(y,g.stride);return b.uuid=g.uuid,t[p]=b,b}function a(h,p){if(r[p]!==void 0)return r[p];const g=h.arrayBuffers[p],v=new Uint32Array(g).buffer;return r[p]=v,v}const s=e.isInstancedBufferGeometry?new Qet:new Hr,o=e.data.index;if(o!==void 0){const h=Uv(o.type,o.array);s.setIndex(new ia(h,1))}const l=e.data.attributes;for(const h in l){const p=l[h];let m;if(p.isInterleavedBufferAttribute){const g=i(e.data,p.data);m=new F0(g,p.itemSize,p.offset,p.normalized)}else{const g=Uv(p.type,p.array),v=p.isInstancedBufferAttribute?X_:ia;m=new v(g,p.itemSize,p.normalized)}p.name!==void 0&&(m.name=p.name),p.usage!==void 0&&m.setUsage(p.usage),p.updateRange!==void 0&&(m.updateRange.offset=p.updateRange.offset,m.updateRange.count=p.updateRange.count),s.setAttribute(h,m)}const c=e.data.morphAttributes;if(c)for(const h in c){const p=c[h],m=[];for(let g=0,v=p.length;g<v;g++){const y=p[g];let b;if(y.isInterleavedBufferAttribute){const _=i(e.data,y.data);b=new F0(_,y.itemSize,y.offset,y.normalized)}else{const _=Uv(y.type,y.array);b=new ia(_,y.itemSize,y.normalized)}y.name!==void 0&&(b.name=y.name),m.push(b)}s.morphAttributes[h]=m}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let h=0,p=d.length;h!==p;++h){const m=d[h];s.addGroup(m.start,m.count,m.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const h=new je;f.center!==void 0&&h.fromArray(f.center),s.boundingSphere=new em(h,f.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class ett extends ms{constructor(e){super(e)}load(e,t,r,i){const a=this,s=this.path===""?Os.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new Ns(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Os.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new Ns(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(c)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,a,l,o,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let d=!1;for(const f in s)if(s[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,o,s,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new iO().fromJSON(e[r]);t[a.uuid]=a}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new Ry().fromJSON(e[a],i);r[o.uuid]=o}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new Jet;for(let a=0,s=e.length;a<s;a++){let o;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in pG?o=pG[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),o.isBufferGeometry===!0&&l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const a=new oO;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){const l=e[s];if(l.type==="MultiMaterial"){const c=[];for(let u=0;u<l.materials.length;u++){const d=l.materials[u];r[d.uuid]===void 0&&(r[d.uuid]=a.parse(d)),c.push(r[d.uuid])}i[l.uuid]=c}else r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=U0.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const r=this,i={};let a;function s(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return s(u)}else return l.data?{data:Uv(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Wre(t);a=new pL(l),a.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const h=[];for(let p=0,m=f.length;p<m;p++){const g=f[p],v=o(g);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new Pb(v.data,v.width,v.height)))}i[d.uuid]=new Hv(h)}else{const h=o(d.url);i[d.uuid]=new Hv(h)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function a(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await i.loadAsync(l)}else return s.data?{data:Uv(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new pL(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d],p=await a(h);p!==null&&(p instanceof HTMLImageElement?u.push(p):u.push(new Pb(p.data,p.width,p.height)))}r[l.uuid]=new Hv(u)}else{const u=await a(l.url);r[l.uuid]=new Hv(u)}}}return r}parseTextures(e,t){function r(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const i={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=t[o.image],c=l.data;let u;Array.isArray(c)?(u=new q8,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Pb:u=new fs,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=r(o.mapping,ttt)),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=r(o.wrap[0],_G),u.wrapT=r(o.wrap[1],_G)),o.format!==void 0&&(u.format=o.format),o.type!==void 0&&(u.type=o.type),o.encoding!==void 0&&(u.encoding=o.encoding),o.minFilter!==void 0&&(u.minFilter=r(o.minFilter,SG)),o.magFilter!==void 0&&(u.magFilter=r(o.magFilter,SG)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.userData!==void 0&&(u.userData=o.userData),i[o.uuid]=u}return i}parseObject(e,t,r,i,a){let s;function o(f){return t[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),t[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const h=[];for(let p=0,m=f.length;p<m;p++){const g=f[p];r[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),h.push(r[g])}return h}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let u,d;switch(e.type){case"Scene":s=new Z8,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new bn(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new j8(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new X8(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":s=new La(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Ey(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new zA(e.color,e.intensity);break;case"DirectionalLight":s=new GS(e.color,e.intensity);break;case"PointLight":s=new H0(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new Xet(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new FA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new Kre(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new Zet().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),d=l(e.material),s=new NA(u,d),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),d=l(e.material),s=new Oa(u,d);break;case"InstancedMesh":u=o(e.geometry),d=l(e.material);const f=e.count,h=e.instanceMatrix,p=e.instanceColor;s=new KJe(u,d,f),s.instanceMatrix=new X_(new Float32Array(h.array),16),p!==void 0&&(s.instanceColor=new X_(new Float32Array(p.array),p.itemSize));break;case"LOD":s=new GJe;break;case"Line":s=new Py(o(e.geometry),l(e.material));break;case"LineLoop":s=new Rre(o(e.geometry),l(e.material));break;case"LineSegments":s=new z0(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new Lb(o(e.geometry),l(e.material));break;case"Sprite":s=new TC(l(e.material));break;case"Group":s=new go;break;case"Bone":s=new qg;break;default:s=new Gi}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let h=0;h<f.length;h++)s.add(this.parseObject(f[h],t,r,i,a))}if(e.animations!==void 0){const f=e.animations;for(let h=0;h<f.length;h++){const p=f[h];s.animations.push(a[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const f=e.levels;for(let h=0;h<f.length;h++){const p=f[h],m=s.getObjectByProperty("uuid",p.object);m!==void 0&&s.addLevel(m,p.distance)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const ttt={UVMapping:U8,CubeReflectionMapping:k0,CubeRefractionMapping:O0,EquirectangularReflectionMapping:V_,EquirectangularRefractionMapping:UM,CubeUVReflectionMapping:VS},_G={RepeatWrapping:vo,ClampToEdgeWrapping:ka,MirroredRepeatWrapping:$_},SG={NearestFilter:Ga,NearestMipmapNearestFilter:HM,NearestMipmapLinearFilter:VM,LinearFilter:ba,LinearMipmapNearestFilter:H8,LinearMipmapLinearFilter:Yd};class ntt extends ms{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Yg.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(l){Yg.add(e,l),t&&t(l),a.manager.itemEnd(e)}).catch(function(l){i&&i(l),a.manager.itemError(e),a.manager.itemEnd(e)}),a.manager.itemStart(e)}}class rtt{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=wG(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=wG();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function wG(){return(typeof performance>"u"?Date:performance).now()}class itt{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,a,s;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,a=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==i;++o)r[a+o]=r[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(r,a,0,o,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-a,t)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let a=r,s=i;a!==s;++a)t[a]=t[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,a){if(i>=.5)for(let s=0;s!==a;++s)e[t+s]=e[r+s]}_slerp(e,t,r,i){ss.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,a){const s=this._workIndex*a;ss.multiplyQuaternionsFlat(e,s,e,t,e,r),ss.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,r,i,a){const s=1-i;for(let o=0;o!==a;++o){const l=t+o;e[l]=e[l]*s+e[r+o]*i}}_lerpAdditive(e,t,r,i,a){for(let s=0;s!==a;++s){const o=t+s;e[o]=e[o]+e[r+s]*i}}}const lO="\\[\\]\\.:\\/",att=new RegExp("["+lO+"]","g"),cO="[^"+lO+"]",stt="[^"+lO.replace("\\.","")+"]",ott=/((?:WC+[\/:])*)/.source.replace("WC",cO),ltt=/(WCOD+)?/.source.replace("WCOD",stt),ctt=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",cO),utt=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",cO),dtt=new RegExp("^"+ott+ltt+ctt+utt+"$"),ftt=["material","materials","bones"];class htt{constructor(e,t,r){const i=r||Yr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Yr{constructor(e,t,r){this.path=t,this.parsedPath=r||Yr.parseTrackName(t),this.node=Yr.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Yr.Composite(e,t,r):new Yr(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(att,"")}static parseTrackName(e){const t=dtt.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);ftt.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===t||o.uuid===t)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=Yr.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[i];if(s===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Yr.Composite=htt;Yr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Yr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Yr.prototype.GetterByBindingType=[Yr.prototype._getValue_direct,Yr.prototype._getValue_array,Yr.prototype._getValue_arrayElement,Yr.prototype._getValue_toArray];Yr.prototype.SetterByBindingTypeAndVersioning=[[Yr.prototype._setValue_direct,Yr.prototype._setValue_direct_setNeedsUpdate,Yr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Yr.prototype._setValue_array,Yr.prototype._setValue_array_setNeedsUpdate,Yr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Yr.prototype._setValue_arrayElement,Yr.prototype._setValue_arrayElement_setNeedsUpdate,Yr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Yr.prototype._setValue_fromArray,Yr.prototype._setValue_fromArray_setNeedsUpdate,Yr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class ptt{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const a=t.tracks,s=a.length,o=new Array(s),l={endingStart:Fv,endingEnd:Fv};for(let c=0;c!==s;++c){const u=a[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=MYe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,a=e._clip.duration,s=a/i,o=i/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,a=i.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=a,l[1]=a+r,c[0]=e/s,c[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;if(l<0||r===0)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case AYe:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulateAdditive(o);break;case V8:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulate(i,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const s=r===TYe;if(e===0)return a===-1?i:s&&(a&1)===1?t-i:i;if(r===CYe){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const o=Math.floor(i/t);i-=t*o,a+=Math.abs(o);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(s&&(a&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=zv,i.endingEnd=zv):(e?i.endingStart=this.zeroSlopeAtStart?zv:Fv:i.endingStart=$M,t?i.endingEnd=this.zeroSlopeAtEnd?zv:Fv:i.endingEnd=$M)}_scheduleFading(e,t,r){const i=this._mixer,a=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=a,l[0]=t,o[1]=a+e,l[1]=r,this}}const mtt=new Float32Array(1);class mI extends Fh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,s=e._propertyBindings,o=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==a;++d){const f=i[d],h=f.name;let p=u[h];if(p!==void 0)++p.referenceCount,s[d]=p;else{if(p=s[d],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,l,h));continue}const m=t&&t._propertyBindings[d].binding.parsedPath;p=new itt(Yr.create(r,h,m),f.ValueTypeName,f.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,h),s[d]=p}o[d].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=o.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,a=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,s=this._bindingsByRootAndName,o=s[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new $re(new Float32Array(2),new Float32Array(2),1,mtt),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=r,t[r]=a}clipAction(e,t,r){const i=t||this._root,a=i.uuid;let s=typeof e=="string"?U0.findByName(i,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let c=null;if(r===void 0&&(s!==null?r=s.blendMode:r=V8),l!==void 0){const d=l.actionByRoot[a];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const u=new ptt(this,s,t,r);return this._bindAction(u,c),this._addInactiveAction(u,o,a),u}existingAction(e,t){const r=t||this._root,i=r.uuid,a=typeof e=="string"?U0.findByName(r,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,a,s);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const s=a.knownActions;for(let o=0,l=s.length;o!==l;++o){const c=s[o];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const s in r){const o=r[s].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}let vtt=class{constructor(e,t,r=0,i=1/0){this.ray=new kA(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new G8,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return mL(e,this,r,t),r.sort(xG),r}intersectObjects(e,t=!0,r=[]){for(let i=0,a=e.length;i<a;i++)mL(e[i],this,r,t);return r.sort(xG),r}};function xG(n,e){return n.distance-e.distance}function mL(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let a=0,s=i.length;a<s;a++)mL(i[a],e,t,!0)}}let CG=class{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Pa(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}};class gtt extends z0{constructor(e=10,t=10,r=4473924,i=8947848){r=new bn(r),i=new bn(i);const a=t/2,s=e/t,o=e/2,l=[],c=[];for(let f=0,h=0,p=-o;f<=t;f++,p+=s){l.push(-o,0,p,o,0,p),l.push(p,0,-o,p,0,o);const m=f===a?r:i;m.toArray(c,h),h+=3,m.toArray(c,h),h+=3,m.toArray(c,h),h+=3,m.toArray(c,h),h+=3}const u=new Hr;u.setAttribute("position",new En(l,3)),u.setAttribute("color",new En(c,3));const d=new Cc({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}}class ytt extends z0{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Hr;i.setAttribute("position",new En(t,3)),i.setAttribute("color",new En(r,3));const a=new Cc({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,r){const i=new bn,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:z8}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=z8);const MG={type:"change"},vI={type:"start"},TG={type:"end"};let btt=class extends Fh{constructor(e,t){super(),t===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new je,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Im.ROTATE,MIDDLE:Im.DOLLY,RIGHT:Im.PAN},this.touches={ONE:Rm.ROTATE,TWO:Rm.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Ee){Ee.addEventListener("keydown",oe),this._domElementKeyEvents=Ee},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(MG),r.update(),a=i.NONE},this.update=function(){const Ee=new je,ft=new ss().setFromUnitVectors(e.up,new je(0,1,0)),st=ft.clone().invert(),G=new je,ye=new ss,ve=2*Math.PI;return function(){const be=r.object.position;Ee.copy(be).sub(r.target),Ee.applyQuaternion(ft),o.setFromVector3(Ee),r.autoRotate&&a===i.NONE&&T(M()),r.enableDamping?(o.theta+=l.theta*r.dampingFactor,o.phi+=l.phi*r.dampingFactor):(o.theta+=l.theta,o.phi+=l.phi);let Te=r.minAzimuthAngle,ht=r.maxAzimuthAngle;return isFinite(Te)&&isFinite(ht)&&(Te<-Math.PI?Te+=ve:Te>Math.PI&&(Te-=ve),ht<-Math.PI?ht+=ve:ht>Math.PI&&(ht-=ve),Te<=ht?o.theta=Math.max(Te,Math.min(ht,o.theta)):o.theta=o.theta>(Te+ht)/2?Math.max(Te,o.theta):Math.min(ht,o.theta)),o.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=c,o.radius=Math.max(r.minDistance,Math.min(r.maxDistance,o.radius)),r.enableDamping===!0?r.target.addScaledVector(u,r.dampingFactor):r.target.add(u),Ee.setFromSpherical(o),Ee.applyQuaternion(st),be.copy(r.target).add(Ee),r.object.lookAt(r.target),r.enableDamping===!0?(l.theta*=1-r.dampingFactor,l.phi*=1-r.dampingFactor,u.multiplyScalar(1-r.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),c=1,d||G.distanceToSquared(r.object.position)>s||8*(1-ye.dot(r.object.quaternion))>s?(r.dispatchEvent(MG),G.copy(r.object.position),ye.copy(r.object.quaternion),d=!1,!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",Q),r.domElement.removeEventListener("pointerdown",ie),r.domElement.removeEventListener("pointercancel",Ye),r.domElement.removeEventListener("wheel",ke),r.domElement.removeEventListener("pointermove",$e),r.domElement.removeEventListener("pointerup",Ne),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",oe)};const r=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=i.NONE;const s=1e-6,o=new CG,l=new CG;let c=1;const u=new je;let d=!1;const f=new Wt,h=new Wt,p=new Wt,m=new Wt,g=new Wt,v=new Wt,y=new Wt,b=new Wt,_=new Wt,w=[],x={};function M(){return 2*Math.PI/60/60*r.autoRotateSpeed}function C(){return Math.pow(.95,r.zoomSpeed)}function T(Ee){l.theta-=Ee}function A(Ee){l.phi-=Ee}const I=function(){const Ee=new je;return function(st,G){Ee.setFromMatrixColumn(G,0),Ee.multiplyScalar(-st),u.add(Ee)}}(),L=function(){const Ee=new je;return function(st,G){r.screenSpacePanning===!0?Ee.setFromMatrixColumn(G,1):(Ee.setFromMatrixColumn(G,0),Ee.crossVectors(r.object.up,Ee)),Ee.multiplyScalar(st),u.add(Ee)}}(),k=function(){const Ee=new je;return function(st,G){const ye=r.domElement;if(r.object.isPerspectiveCamera){const ve=r.object.position;Ee.copy(ve).sub(r.target);let Le=Ee.length();Le*=Math.tan(r.object.fov/2*Math.PI/180),I(2*st*Le/ye.clientHeight,r.object.matrix),L(2*G*Le/ye.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(I(st*(r.object.right-r.object.left)/r.object.zoom/ye.clientWidth,r.object.matrix),L(G*(r.object.top-r.object.bottom)/r.object.zoom/ye.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function N(Ee){r.object.isPerspectiveCamera?c/=Ee:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*Ee)),r.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function F(Ee){r.object.isPerspectiveCamera?c*=Ee:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/Ee)),r.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function D(Ee){f.set(Ee.clientX,Ee.clientY)}function H(Ee){y.set(Ee.clientX,Ee.clientY)}function z(Ee){m.set(Ee.clientX,Ee.clientY)}function B(Ee){h.set(Ee.clientX,Ee.clientY),p.subVectors(h,f).multiplyScalar(r.rotateSpeed);const ft=r.domElement;T(2*Math.PI*p.x/ft.clientHeight),A(2*Math.PI*p.y/ft.clientHeight),f.copy(h),r.update()}function W(Ee){b.set(Ee.clientX,Ee.clientY),_.subVectors(b,y),_.y>0?N(C()):_.y<0&&F(C()),y.copy(b),r.update()}function Z(Ee){g.set(Ee.clientX,Ee.clientY),v.subVectors(g,m).multiplyScalar(r.panSpeed),k(v.x,v.y),m.copy(g),r.update()}function ee(Ee){Ee.deltaY<0?F(C()):Ee.deltaY>0&&N(C()),r.update()}function J(Ee){let ft=!1;switch(Ee.code){case r.keys.UP:k(0,r.keyPanSpeed),ft=!0;break;case r.keys.BOTTOM:k(0,-r.keyPanSpeed),ft=!0;break;case r.keys.LEFT:k(r.keyPanSpeed,0),ft=!0;break;case r.keys.RIGHT:k(-r.keyPanSpeed,0),ft=!0;break}ft&&(Ee.preventDefault(),r.update())}function re(){if(w.length===1)f.set(w[0].pageX,w[0].pageY);else{const Ee=.5*(w[0].pageX+w[1].pageX),ft=.5*(w[0].pageY+w[1].pageY);f.set(Ee,ft)}}function fe(){if(w.length===1)m.set(w[0].pageX,w[0].pageY);else{const Ee=.5*(w[0].pageX+w[1].pageX),ft=.5*(w[0].pageY+w[1].pageY);m.set(Ee,ft)}}function de(){const Ee=w[0].pageX-w[1].pageX,ft=w[0].pageY-w[1].pageY,st=Math.sqrt(Ee*Ee+ft*ft);y.set(0,st)}function me(){r.enableZoom&&de(),r.enablePan&&fe()}function Re(){r.enableZoom&&de(),r.enableRotate&&re()}function De(Ee){if(w.length==1)h.set(Ee.pageX,Ee.pageY);else{const st=pt(Ee),G=.5*(Ee.pageX+st.x),ye=.5*(Ee.pageY+st.y);h.set(G,ye)}p.subVectors(h,f).multiplyScalar(r.rotateSpeed);const ft=r.domElement;T(2*Math.PI*p.x/ft.clientHeight),A(2*Math.PI*p.y/ft.clientHeight),f.copy(h)}function Ge(Ee){if(w.length===1)g.set(Ee.pageX,Ee.pageY);else{const ft=pt(Ee),st=.5*(Ee.pageX+ft.x),G=.5*(Ee.pageY+ft.y);g.set(st,G)}v.subVectors(g,m).multiplyScalar(r.panSpeed),k(v.x,v.y),m.copy(g)}function We(Ee){const ft=pt(Ee),st=Ee.pageX-ft.x,G=Ee.pageY-ft.y,ye=Math.sqrt(st*st+G*G);b.set(0,ye),_.set(0,Math.pow(b.y/y.y,r.zoomSpeed)),N(_.y),y.copy(b)}function K(Ee){r.enableZoom&&We(Ee),r.enablePan&&Ge(Ee)}function ue(Ee){r.enableZoom&&We(Ee),r.enableRotate&&De(Ee)}function ie(Ee){r.enabled!==!1&&(w.length===0&&(r.domElement.setPointerCapture(Ee.pointerId),r.domElement.addEventListener("pointermove",$e),r.domElement.addEventListener("pointerup",Ne)),we(Ee),Ee.pointerType==="touch"?V(Ee):ce(Ee))}function $e(Ee){r.enabled!==!1&&(Ee.pointerType==="touch"?Y(Ee):he(Ee))}function Ne(Ee){Ue(Ee),w.length===0&&(r.domElement.releasePointerCapture(Ee.pointerId),r.domElement.removeEventListener("pointermove",$e),r.domElement.removeEventListener("pointerup",Ne)),r.dispatchEvent(TG),a=i.NONE}function Ye(Ee){Ue(Ee)}function ce(Ee){let ft;switch(Ee.button){case 0:ft=r.mouseButtons.LEFT;break;case 1:ft=r.mouseButtons.MIDDLE;break;case 2:ft=r.mouseButtons.RIGHT;break;default:ft=-1}switch(ft){case Im.DOLLY:if(r.enableZoom===!1)return;H(Ee),a=i.DOLLY;break;case Im.ROTATE:if(Ee.ctrlKey||Ee.metaKey||Ee.shiftKey){if(r.enablePan===!1)return;z(Ee),a=i.PAN}else{if(r.enableRotate===!1)return;D(Ee),a=i.ROTATE}break;case Im.PAN:if(Ee.ctrlKey||Ee.metaKey||Ee.shiftKey){if(r.enableRotate===!1)return;D(Ee),a=i.ROTATE}else{if(r.enablePan===!1)return;z(Ee),a=i.PAN}break;default:a=i.NONE}a!==i.NONE&&r.dispatchEvent(vI)}function he(Ee){switch(a){case i.ROTATE:if(r.enableRotate===!1)return;B(Ee);break;case i.DOLLY:if(r.enableZoom===!1)return;W(Ee);break;case i.PAN:if(r.enablePan===!1)return;Z(Ee);break}}function ke(Ee){r.enabled===!1||r.enableZoom===!1||a!==i.NONE||(Ee.preventDefault(),r.dispatchEvent(vI),ee(Ee),r.dispatchEvent(TG))}function oe(Ee){r.enabled===!1||r.enablePan===!1||J(Ee)}function V(Ee){switch(ct(Ee),w.length){case 1:switch(r.touches.ONE){case Rm.ROTATE:if(r.enableRotate===!1)return;re(),a=i.TOUCH_ROTATE;break;case Rm.PAN:if(r.enablePan===!1)return;fe(),a=i.TOUCH_PAN;break;default:a=i.NONE}break;case 2:switch(r.touches.TWO){case Rm.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;me(),a=i.TOUCH_DOLLY_PAN;break;case Rm.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Re(),a=i.TOUCH_DOLLY_ROTATE;break;default:a=i.NONE}break;default:a=i.NONE}a!==i.NONE&&r.dispatchEvent(vI)}function Y(Ee){switch(ct(Ee),a){case i.TOUCH_ROTATE:if(r.enableRotate===!1)return;De(Ee),r.update();break;case i.TOUCH_PAN:if(r.enablePan===!1)return;Ge(Ee),r.update();break;case i.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;K(Ee),r.update();break;case i.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ue(Ee),r.update();break;default:a=i.NONE}}function Q(Ee){r.enabled!==!1&&Ee.preventDefault()}function we(Ee){w.push(Ee)}function Ue(Ee){delete x[Ee.pointerId];for(let ft=0;ft<w.length;ft++)if(w[ft].pointerId==Ee.pointerId){w.splice(ft,1);return}}function ct(Ee){let ft=x[Ee.pointerId];ft===void 0&&(ft=new Wt,x[Ee.pointerId]=ft),ft.set(Ee.pageX,Ee.pageY)}function pt(Ee){const ft=Ee.pointerId===w[0].pointerId?w[1]:w[0];return x[ft.pointerId]}r.domElement.addEventListener("contextmenu",Q),r.domElement.addEventListener("pointerdown",ie),r.domElement.addEventListener("pointercancel",Ye),r.domElement.addEventListener("wheel",ke,{passive:!1}),this.update()}};var Ob=function(){var n=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(u){u.preventDefault(),r(++n%e.children.length)},!1);function t(u){return e.appendChild(u.dom),u}function r(u){for(var d=0;d<e.children.length;d++)e.children[d].style.display=d===u?"block":"none";n=u}var i=(performance||Date).now(),a=i,s=0,o=t(new Ob.Panel("FPS","#0ff","#002")),l=t(new Ob.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new Ob.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:e,addPanel:t,showPanel:r,begin:function(){i=(performance||Date).now()},end:function(){s++;var u=(performance||Date).now();if(l.update(u-i,200),u>=a+1e3&&(o.update(s*1e3/(u-a),100),a=u,s=0,c)){var d=performance.memory;c.update(d.usedJSHeapSize/1048576,d.jsHeapSizeLimit/1048576)}return u},update:function(){i=this.end()},domElement:e,setMode:r}};Ob.Panel=function(n,e,t){var r=1/0,i=0,a=Math.round,s=a(window.devicePixelRatio||1),o=80*s,l=48*s,c=3*s,u=2*s,d=3*s,f=15*s,h=74*s,p=30*s,m=document.createElement("canvas");m.width=o,m.height=l,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*s+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=t,g.fillRect(0,0,o,l),g.fillStyle=e,g.fillText(n,c,u),g.fillRect(d,f,h,p),g.fillStyle=t,g.globalAlpha=.9,g.fillRect(d,f,h,p),{dom:m,update:function(v,y){r=Math.min(r,v),i=Math.max(i,v),g.fillStyle=t,g.globalAlpha=1,g.fillRect(0,0,o,f),g.fillStyle=e,g.fillText(a(v)+" "+n+" ("+a(r)+"-"+a(i)+")",c,u),g.drawImage(m,d+s,f,h-s,p,d,f,h-s,p),g.fillRect(d+h-s,f,s,p),g.fillStyle=t,g.globalAlpha=.9,g.fillRect(d+h-s,f,s,a((1-v/y)*p))}}};/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var AG={},vL=function(n){return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},Yre=function(n){return new Worker(n)};try{URL.revokeObjectURL(vL(""))}catch{vL=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)},Yre=function(e){return new Worker(e,{type:"module"})}}var _tt=function(n,e,t,r,i){var a=Yre(AG[e]||(AG[e]=vL(n)));return a.onerror=function(s){return i(s.error,null)},a.onmessage=function(s){return i(null,s.data)},a.postMessage(t,r),a},Gr=Uint8Array,qa=Uint16Array,Dd=Uint32Array,Oy=new Gr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ny=new Gr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),eS=new Gr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xre=function(n,e){for(var t=new qa(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new Dd(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return[t,i]},jre=Xre(Oy,2),uO=jre[0],rT=jre[1];uO[28]=258,rT[258]=28;var Zre=Xre(Ny,0),Qre=Zre[0],gL=Zre[1],tS=new qa(32768);for(var Bi=0;Bi<32768;++Bi){var bf=(Bi&43690)>>>1|(Bi&21845)<<1;bf=(bf&52428)>>>2|(bf&13107)<<2,bf=(bf&61680)>>>4|(bf&3855)<<4,tS[Bi]=((bf&65280)>>>8|(bf&255)<<8)>>>1}var Ul=function(n,e,t){for(var r=n.length,i=0,a=new qa(e);i<r;++i)++a[n[i]-1];var s=new qa(e);for(i=0;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(t){o=new qa(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],d=s[n[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)o[tS[d]>>>l]=c}else for(o=new qa(r),i=0;i<r;++i)n[i]&&(o[i]=tS[s[n[i]-1]++]>>>15-n[i]);return o},kd=new Gr(288);for(var Bi=0;Bi<144;++Bi)kd[Bi]=8;for(var Bi=144;Bi<256;++Bi)kd[Bi]=9;for(var Bi=256;Bi<280;++Bi)kd[Bi]=7;for(var Bi=280;Bi<288;++Bi)kd[Bi]=8;var jg=new Gr(32);for(var Bi=0;Bi<32;++Bi)jg[Bi]=5;var Jre=Ul(kd,9,0),eie=Ul(kd,9,1),tie=Ul(jg,5,0),nie=Ul(jg,5,1),AC=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},gl=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},EC=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},WS=function(n){return(n/8|0)+(n&7&&1)},Hl=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof qa?qa:n instanceof Dd?Dd:Gr)(t-e);return r.set(n.subarray(e,t)),r},qS=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new Gr(0);var i=!e||t,a=!t||t.i;t||(t={}),e||(e=new Gr(r*3));var s=function(de){var me=e.length;if(de>me){var Re=new Gr(Math.max(me*2,de));Re.set(e),e=Re}},o=t.f||0,l=t.p||0,c=t.b||0,u=t.l,d=t.d,f=t.m,h=t.n,p=r*8;do{if(!u){t.f=o=gl(n,l,1);var m=gl(n,l+1,3);if(l+=3,m)if(m==1)u=eie,d=nie,f=9,h=5;else if(m==2){var b=gl(n,l,31)+257,_=gl(n,l+10,15)+4,w=b+gl(n,l+5,31)+1;l+=14;for(var x=new Gr(w),M=new Gr(19),C=0;C<_;++C)M[eS[C]]=gl(n,l+C*3,7);l+=_*3;for(var T=AC(M),A=(1<<T)-1,I=Ul(M,T,1),C=0;C<w;){var L=I[gl(n,l,A)];l+=L&15;var g=L>>>4;if(g<16)x[C++]=g;else{var k=0,N=0;for(g==16?(N=3+gl(n,l,3),l+=2,k=x[C-1]):g==17?(N=3+gl(n,l,7),l+=3):g==18&&(N=11+gl(n,l,127),l+=7);N--;)x[C++]=k}}var F=x.subarray(0,b),D=x.subarray(b);f=AC(F),h=AC(D),u=Ul(F,f,1),d=Ul(D,h,1)}else throw"invalid block type";else{var g=WS(l)+4,v=n[g-4]|n[g-3]<<8,y=g+v;if(y>r){if(a)throw"unexpected EOF";break}i&&s(c+v),e.set(n.subarray(g,y),c),t.b=c+=v,t.p=l=y*8;continue}if(l>p){if(a)throw"unexpected EOF";break}}i&&s(c+131072);for(var H=(1<<f)-1,z=(1<<h)-1,B=l;;B=l){var k=u[EC(n,l)&H],W=k>>>4;if(l+=k&15,l>p){if(a)throw"unexpected EOF";break}if(!k)throw"invalid length/literal";if(W<256)e[c++]=W;else if(W==256){B=l,u=null;break}else{var Z=W-254;if(W>264){var C=W-257,ee=Oy[C];Z=gl(n,l,(1<<ee)-1)+uO[C],l+=ee}var J=d[EC(n,l)&z],re=J>>>4;if(!J)throw"invalid distance";l+=J&15;var D=Qre[re];if(re>3){var ee=Ny[re];D+=EC(n,l)&(1<<ee)-1,l+=ee}if(l>p){if(a)throw"unexpected EOF";break}i&&s(c+131072);for(var fe=c+Z;c<fe;c+=4)e[c]=e[c-D],e[c+1]=e[c+1-D],e[c+2]=e[c+2-D],e[c+3]=e[c+3-D];c=fe}}t.l=u,t.p=B,t.b=c,u&&(o=1,t.m=f,t.d=d,t.n=h)}while(!o);return c==e.length?e:Hl(e,0,c)},Wc=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>>8},Tv=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>>8,n[r+2]|=t>>>16},IC=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,a=t.slice();if(!i)return[gd,0];if(i==1){var s=new Gr(t[0].s+1);return s[t[0].s]=1,[s,1]}t.sort(function(w,x){return w.f-x.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],c=0,u=1,d=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=t[t[c].f<t[d].f?c++:d++],l=t[c!=u&&t[c].f<t[d].f?c++:d++],t[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var f=a[0].s,r=1;r<i;++r)a[r].s>f&&(f=a[r].s);var h=new qa(f+1),p=iT(t[u-1],h,0);if(p>e){var r=0,m=0,g=p-e,v=1<<g;for(a.sort(function(x,M){return h[M.s]-h[x.s]||x.f-M.f});r<i;++r){var y=a[r].s;if(h[y]>e)m+=v-(1<<p-h[y]),h[y]=e;else break}for(m>>>=g;m>0;){var b=a[r].s;h[b]<e?m-=1<<e-h[b]++-1:++r}for(;r>=0&&m;--r){var _=a[r].s;h[_]==e&&(--h[_],++m)}p=e}return[new Gr(h),p]},iT=function(n,e,t){return n.s==-1?Math.max(iT(n.l,e,t+1),iT(n.r,e,t+1)):e[n.s]=t},yL=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new qa(++e),r=0,i=n[0],a=1,s=function(l){t[r++]=l},o=1;o<=e;++o)if(n[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=n[o]}return[t.subarray(0,r),e]},Av=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Nb=function(n,e,t){var r=t.length,i=WS(e+2);n[i]=r&255,n[i+1]=r>>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var a=0;a<r;++a)n[i+a+4]=t[a];return(i+4+r)*8},bL=function(n,e,t,r,i,a,s,o,l,c,u){Wc(e,u++,t),++i[256];for(var d=IC(i,15),f=d[0],h=d[1],p=IC(a,15),m=p[0],g=p[1],v=yL(f),y=v[0],b=v[1],_=yL(m),w=_[0],x=_[1],M=new qa(19),C=0;C<y.length;++C)M[y[C]&31]++;for(var C=0;C<w.length;++C)M[w[C]&31]++;for(var T=IC(M,7),A=T[0],I=T[1],L=19;L>4&&!A[eS[L-1]];--L);var k=c+5<<3,N=Av(i,kd)+Av(a,jg)+s,F=Av(i,f)+Av(a,m)+s+14+3*L+Av(M,A)+(2*M[16]+3*M[17]+7*M[18]);if(k<=N&&k<=F)return Nb(e,u,n.subarray(l,l+c));var D,H,z,B;if(Wc(e,u,1+(F<N)),u+=2,F<N){D=Ul(f,h,0),H=f,z=Ul(m,g,0),B=m;var W=Ul(A,I,0);Wc(e,u,b-257),Wc(e,u+5,x-1),Wc(e,u+10,L-4),u+=14;for(var C=0;C<L;++C)Wc(e,u+3*C,A[eS[C]]);u+=3*L;for(var Z=[y,w],ee=0;ee<2;++ee)for(var J=Z[ee],C=0;C<J.length;++C){var re=J[C]&31;Wc(e,u,W[re]),u+=A[re],re>15&&(Wc(e,u,J[C]>>>5&127),u+=J[C]>>>12)}}else D=Jre,H=kd,z=tie,B=jg;for(var C=0;C<o;++C)if(r[C]>255){var re=r[C]>>>18&31;Tv(e,u,D[re+257]),u+=H[re+257],re>7&&(Wc(e,u,r[C]>>>23&31),u+=Oy[re]);var fe=r[C]&31;Tv(e,u,z[fe]),u+=B[fe],fe>3&&(Tv(e,u,r[C]>>>5&8191),u+=Ny[fe])}else Tv(e,u,D[r[C]]),u+=H[r[C]];return Tv(e,u,D[256]),u+H[256]},rie=new Dd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gd=new Gr(0),iie=function(n,e,t,r,i,a){var s=n.length,o=new Gr(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),c=0;if(!e||s<8)for(var u=0;u<=s;u+=65535){var d=u+65535;d<s?c=Nb(l,c,n.subarray(u,d)):(l[u]=a,c=Nb(l,c,n.subarray(u,s)))}else{for(var f=rie[e-1],h=f>>>13,p=f&8191,m=(1<<t)-1,g=new qa(32768),v=new qa(m+1),y=Math.ceil(t/3),b=2*y,_=function(ie){return(n[ie]^n[ie+1]<<y^n[ie+2]<<b)&m},w=new Dd(25e3),x=new qa(288),M=new qa(32),C=0,T=0,u=0,A=0,I=0,L=0;u<s;++u){var k=_(u),N=u&32767,F=v[k];if(g[N]=F,v[k]=N,I<=u){var D=s-u;if((C>7e3||A>24576)&&D>423){c=bL(n,l,0,w,x,M,T,A,L,u-L,c),A=C=T=0,L=u;for(var H=0;H<286;++H)x[H]=0;for(var H=0;H<30;++H)M[H]=0}var z=2,B=0,W=p,Z=N-F&32767;if(D>2&&k==_(u-Z))for(var ee=Math.min(h,D)-1,J=Math.min(32767,u),re=Math.min(258,D);Z<=J&&--W&&N!=F;){if(n[u+z]==n[u+z-Z]){for(var fe=0;fe<re&&n[u+fe]==n[u+fe-Z];++fe);if(fe>z){if(z=fe,B=Z,fe>ee)break;for(var de=Math.min(Z,fe-2),me=0,H=0;H<de;++H){var Re=u-Z+H+32768&32767,De=g[Re],Ge=Re-De+32768&32767;Ge>me&&(me=Ge,F=Re)}}}N=F,F=g[N],Z+=N-F+32768&32767}if(B){w[A++]=268435456|rT[z]<<18|gL[B];var We=rT[z]&31,K=gL[B]&31;T+=Oy[We]+Ny[K],++x[257+We],++M[K],I=u+z,++C}else w[A++]=n[u],++x[n[u]]}}c=bL(n,l,a,w,x,M,T,A,L,u-L,c),!a&&c&7&&(c=Nb(l,c+1,gd))}return Hl(o,0,r+WS(c)+i)},aie=function(){for(var n=new Dd(256),e=0;e<256;++e){for(var t=e,r=9;--r;)t=(t&1&&3988292384)^t>>>1;n[e]=t}return n}(),By=function(){var n=-1;return{p:function(e){for(var t=n,r=0;r<e.length;++r)t=aie[t&255^e[r]]^t>>>8;n=t},d:function(){return~n}}},dO=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,a=t.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|n>>>8<<16|(e&255)<<8|e>>>8}}},nm=function(n,e,t,r,i){return iie(n,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):12+e.mem,t,r,!i)},KS=function(n,e){var t={};for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t},EG=function(n,e,t){for(var r=n(),i=n.toString(),a=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/ /g,"").split(","),s=0;s<r.length;++s){var o=r[s],l=a[s];if(typeof o=="function"){e+=";"+l+"=";var c=o.toString();if(o.prototype)if(c.indexOf("[native code]")!=-1){var u=c.indexOf(" ",8)+1;e+=c.slice(u,c.indexOf("(",u))}else{e+=c;for(var d in o.prototype)e+=";"+l+".prototype."+d+"="+o.prototype[d].toString()}else e+=c}else t[l]=o}return[e,t]},i2=[],Stt=function(n){var e=[];for(var t in n)(n[t]instanceof Gr||n[t]instanceof qa||n[t]instanceof Dd)&&e.push((n[t]=new n[t].constructor(n[t])).buffer);return e},sie=function(n,e,t,r){var i;if(!i2[t]){for(var a="",s={},o=n.length-1,l=0;l<o;++l)i=EG(n[l],a,s),a=i[0],s=i[1];i2[t]=EG(n[o],a,s)}var c=KS({},i2[t][1]);return _tt(i2[t][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",t,c,Stt(c),r)},Fy=function(){return[Gr,qa,Dd,Oy,Ny,eS,uO,Qre,eie,nie,tS,Ul,AC,gl,EC,WS,Hl,qS,Vy,Uh,fO]},zy=function(){return[Gr,qa,Dd,Oy,Ny,eS,rT,gL,Jre,kd,tie,jg,tS,rie,gd,Ul,Wc,Tv,IC,iT,yL,Av,Nb,bL,WS,Hl,iie,nm,YS,Uh]},oie=function(){return[hO,mO,fi,By,aie]},lie=function(){return[pO,die]},cie=function(){return[vO,fi,dO]},uie=function(){return[fie]},Uh=function(n){return postMessage(n,[n.buffer])},fO=function(n){return n&&n.size&&new Gr(n.size)},Uy=function(n,e,t,r,i,a){var s=sie(t,r,i,function(o,l){s.terminate(),a(o,l)});return s.postMessage([n,e],e.consume?[n.buffer]:[]),function(){s.terminate()}},Yl=function(n){return n.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(e){return n.push(e.data[0],e.data[1])}},Hy=function(n,e,t,r,i){var a,s=sie(n,r,i,function(o,l){o?(s.terminate(),e.ondata.call(e,o)):(l[1]&&s.terminate(),e.ondata.call(e,o,l[0],l[1]))});s.postMessage(t),e.push=function(o,l){if(a)throw"stream finished";if(!e.ondata)throw"no stream handler";s.postMessage([o,a=l],[o.buffer])},e.terminate=function(){s.terminate()}},Ys=function(n,e){return n[e]|n[e+1]<<8},ha=function(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0},gI=function(n,e){return ha(n,e)+ha(n,e+4)*4294967296},fi=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},hO=function(n,e){var t=e.filename;if(n[0]=31,n[1]=139,n[2]=8,n[8]=e.level<2?4:e.level==9?2:0,n[9]=3,e.mtime!=0&&fi(n,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),t){n[3]=8;for(var r=0;r<=t.length;++r)n[r+10]=t.charCodeAt(r)}},pO=function(n){if(n[0]!=31||n[1]!=139||n[2]!=8)throw"invalid gzip data";var e=n[3],t=10;e&4&&(t+=n[10]|(n[11]<<8)+2);for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!n[t++]);return t+(e&2)},die=function(n){var e=n.length;return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0},mO=function(n){return 10+(n.filename&&n.filename.length+1||0)},vO=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;n[0]=120,n[1]=r<<6|(r?32-2*r:1)},fie=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function gO(n,e){return!e&&typeof n=="function"&&(e=n,n={}),this.ondata=e,n}var Su=function(){function n(e,t){!t&&typeof e=="function"&&(t=e,e={}),this.ondata=t,this.o=e||{}}return n.prototype.p=function(e,t){this.ondata(nm(e,this.o,0,0,!t),t)},n.prototype.push=function(e,t){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=t,this.p(e,t||!1)},n}(),hie=function(){function n(e,t){Hy([zy,function(){return[Yl,Su]}],this,gO.call(this,e,t),function(r){var i=new Su(r.data);onmessage=Yl(i)},6)}return n}();function pie(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return Uy(n,e,[zy],function(r){return Uh(YS(r.data[0],r.data[1]))},0,t)}function YS(n,e){return nm(n,e||{},0,0)}var wo=function(){function n(e){this.s={},this.p=new Gr(0),this.ondata=e}return n.prototype.e=function(e){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var t=this.p.length,r=new Gr(t+e.length);r.set(this.p),r.set(e,t),this.p=r},n.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,r=qS(this.p,this.o,this.s);this.ondata(Hl(r,t,this.s.b),this.d),this.o=Hl(r,this.s.b-32768),this.s.b=this.o.length,this.p=Hl(this.p,this.s.p/8|0),this.s.p&=7},n.prototype.push=function(e,t){this.e(e),this.c(t)},n}(),yO=function(){function n(e){this.ondata=e,Hy([Fy,function(){return[Yl,wo]}],this,0,function(){var t=new wo;onmessage=Yl(t)},7)}return n}();function bO(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return Uy(n,e,[Fy],function(r){return Uh(Vy(r.data[0],fO(r.data[1])))},1,t)}function Vy(n,e){return qS(n,e)}var aT=function(){function n(e,t){this.c=By(),this.l=0,this.v=1,Su.call(this,e,t)}return n.prototype.push=function(e,t){Su.prototype.push.call(this,e,t)},n.prototype.p=function(e,t){this.c.p(e),this.l+=e.length;var r=nm(e,this.o,this.v&&mO(this.o),t&&8,!t);this.v&&(hO(r,this.o),this.v=0),t&&(fi(r,r.length-8,this.c.d()),fi(r,r.length-4,this.l)),this.ondata(r,t)},n}(),IG=function(){function n(e,t){Hy([zy,oie,function(){return[Yl,Su,aT]}],this,gO.call(this,e,t),function(r){var i=new aT(r.data);onmessage=Yl(i)},8)}return n}();function RG(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return Uy(n,e,[zy,oie,function(){return[sT]}],function(r){return Uh(sT(r.data[0],r.data[1]))},2,t)}function sT(n,e){e||(e={});var t=By(),r=n.length;t.p(n);var i=nm(n,e,mO(e),8),a=i.length;return hO(i,e),fi(i,a-8,t.d()),fi(i,a-4,r),i}var oT=function(){function n(e){this.v=1,wo.call(this,e)}return n.prototype.push=function(e,t){if(wo.prototype.e.call(this,e),this.v){var r=this.p.length>3?pO(this.p):4;if(r>=this.p.length&&!t)return;this.p=this.p.subarray(r),this.v=0}if(t){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}wo.prototype.c.call(this,t)},n}(),mie=function(){function n(e){this.ondata=e,Hy([Fy,lie,function(){return[Yl,wo,oT]}],this,0,function(){var t=new oT;onmessage=Yl(t)},9)}return n}();function vie(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return Uy(n,e,[Fy,lie,function(){return[lT]}],function(r){return Uh(lT(r.data[0]))},3,t)}function lT(n,e){return qS(n.subarray(pO(n),-8),e||new Gr(die(n)))}var _L=function(){function n(e,t){this.c=dO(),this.v=1,Su.call(this,e,t)}return n.prototype.push=function(e,t){Su.prototype.push.call(this,e,t)},n.prototype.p=function(e,t){this.c.p(e);var r=nm(e,this.o,this.v&&2,t&&4,!t);this.v&&(vO(r,this.o),this.v=0),t&&fi(r,r.length-4,this.c.d()),this.ondata(r,t)},n}(),wtt=function(){function n(e,t){Hy([zy,cie,function(){return[Yl,Su,_L]}],this,gO.call(this,e,t),function(r){var i=new _L(r.data);onmessage=Yl(i)},10)}return n}();function xtt(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return Uy(n,e,[zy,cie,function(){return[SL]}],function(r){return Uh(SL(r.data[0],r.data[1]))},4,t)}function SL(n,e){e||(e={});var t=dO();t.p(n);var r=nm(n,e,2,4);return vO(r,e),fi(r,r.length-4,t.d()),r}var cT=function(){function n(e){this.v=1,wo.call(this,e)}return n.prototype.push=function(e,t){if(wo.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}if(t){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}wo.prototype.c.call(this,t)},n}(),gie=function(){function n(e){this.ondata=e,Hy([Fy,uie,function(){return[Yl,wo,cT]}],this,0,function(){var t=new cT;onmessage=Yl(t)},11)}return n}();function yie(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return Uy(n,e,[Fy,uie,function(){return[nS]}],function(r){return Uh(nS(r.data[0],fO(r.data[1])))},5,t)}function nS(n,e){return qS((fie(n),n.subarray(2,-4)),e)}var bie=function(){function n(e){this.G=oT,this.I=wo,this.Z=cT,this.ondata=e}return n.prototype.push=function(e,t){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var r=new Gr(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var i=this,a=function(){i.ondata.apply(i,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(a):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(a):new this.Z(a),this.s.push(this.p,t),this.p=null}}},n}(),Ctt=function(){function n(e){this.G=mie,this.I=yO,this.Z=gie,this.ondata=e}return n.prototype.push=function(e,t){bie.prototype.push.call(this,e,t)},n}();function Mtt(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return n[0]==31&&n[1]==139&&n[2]==8?vie(n,e,t):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?bO(n,e,t):yie(n,e,t)}function Ttt(n,e){return n[0]==31&&n[1]==139&&n[2]==8?lT(n,e):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?Vy(n,e):nS(n,e)}var _O=function(n,e,t,r){for(var i in n){var a=n[i],s=e+i;a instanceof Gr?t[s]=[a,r]:Array.isArray(a)?t[s]=[a[0],KS(r,a[1])]:_O(a,s+"/",t,r)}},PG=typeof TextEncoder<"u"&&new TextEncoder,wL=typeof TextDecoder<"u"&&new TextDecoder,_ie=0;try{wL.decode(gd,{stream:!0}),_ie=1}catch{}var Sie=function(n){for(var e="",t=0;;){var r=n[t++],i=(r>127)+(r>223)+(r>239);if(t+i>n.length)return[e,Hl(n,t-1)];i?i==3?(r=((r&15)<<18|(n[t++]&63)<<12|(n[t++]&63)<<6|n[t++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):i&1?e+=String.fromCharCode((r&31)<<6|n[t++]&63):e+=String.fromCharCode((r&15)<<12|(n[t++]&63)<<6|n[t++]&63):e+=String.fromCharCode(r)}},Att=function(){function n(e){this.ondata=e,_ie?this.t=new TextDecoder:this.p=gd}return n.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(t=!!t,this.t){if(this.ondata(this.t.decode(e,{stream:!0}),t),t){if(this.t.decode().length)throw"invalid utf-8 data";this.t=null}return}if(!this.p)throw"stream finished";var r=new Gr(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length);var i=Sie(r),a=i[0],s=i[1];if(t){if(s.length)throw"invalid utf-8 data";this.p=null}else this.p=s;this.ondata(a,t)},n}(),Ett=function(){function n(e){this.ondata=e}return n.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(this.d)throw"stream finished";this.ondata(Rh(e),this.d=t||!1)},n}();function Rh(n,e){if(e){for(var t=new Gr(n.length),r=0;r<n.length;++r)t[r]=n.charCodeAt(r);return t}if(PG)return PG.encode(n);for(var i=n.length,a=new Gr(n.length+(n.length>>1)),s=0,o=function(u){a[s++]=u},r=0;r<i;++r){if(s+5>a.length){var l=new Gr(s+8+(i-r<<1));l.set(a),a=l}var c=n.charCodeAt(r);c<128||e?o(c):c<2048?(o(192|c>>6),o(128|c&63)):c>55295&&c<57344?(c=65536+(c&1047552)|n.charCodeAt(++r)&1023,o(240|c>>18),o(128|c>>12&63),o(128|c>>6&63),o(128|c&63)):(o(224|c>>12),o(128|c>>6&63),o(128|c&63))}return Hl(a,0,s)}function SO(n,e){if(e){for(var t="",r=0;r<n.length;r+=16384)t+=String.fromCharCode.apply(null,n.subarray(r,r+16384));return t}else{if(wL)return wL.decode(n);var i=Sie(n),a=i[0],s=i[1];if(s.length)throw"invalid utf-8 data";return a}}var wie=function(n){return n==1?3:n<6?2:n==9?1:0},xie=function(n,e){return e+30+Ys(n,e+26)+Ys(n,e+28)},Cie=function(n,e,t){var r=Ys(n,e+28),i=SO(n.subarray(e+46,e+46+r),!(Ys(n,e+8)&2048)),a=e+46+r,s=ha(n,e+20),o=t&&s==4294967295?Mie(n,a):[s,ha(n,e+24),ha(n,e+42)],l=o[0],c=o[1],u=o[2];return[Ys(n,e+10),l,c,i,a+Ys(n,e+30)+Ys(n,e+32),u]},Mie=function(n,e){for(;Ys(n,e)!=1;e+=4+Ys(n,e+2));return[gI(n,e+12),gI(n,e+4),gI(n,e+20)]},nh=function(n){var e=0;if(n)for(var t in n){var r=n[t].length;if(r>65535)throw"extra field too long";e+=r+4}return e},Zg=function(n,e,t,r,i,a,s,o){var l=r.length,c=t.extra,u=o&&o.length,d=nh(c);fi(n,e,s!=null?33639248:67324752),e+=4,s!=null&&(n[e++]=20,n[e++]=t.os),n[e]=20,e+=2,n[e++]=t.flag<<1|(a==null&&8),n[e++]=i&&8,n[e++]=t.compression&255,n[e++]=t.compression>>8;var f=new Date(t.mtime==null?Date.now():t.mtime),h=f.getFullYear()-1980;if(h<0||h>119)throw"date not in range 1980-2099";if(fi(n,e,h<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>>1),e+=4,a!=null&&(fi(n,e,t.crc),fi(n,e+4,a),fi(n,e+8,t.size)),fi(n,e+12,l),fi(n,e+14,d),e+=16,s!=null&&(fi(n,e,u),fi(n,e+6,t.attrs),fi(n,e+10,s),e+=14),n.set(r,e),e+=l,d)for(var p in c){var m=c[p],g=m.length;fi(n,e,+p),fi(n,e+2,g),n.set(m,e+4),e+=4+g}return u&&(n.set(o,e),e+=u),e},wO=function(n,e,t,r,i){fi(n,e,101010256),fi(n,e+8,t),fi(n,e+10,t),fi(n,e+12,r),fi(n,e+16,i)},rS=function(){function n(e){this.filename=e,this.c=By(),this.size=0,this.compression=0}return n.prototype.process=function(e,t){this.ondata(null,e,t)},n.prototype.push=function(e,t){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},n}(),Itt=function(){function n(e,t){var r=this;t||(t={}),rS.call(this,e),this.d=new Su(t,function(i,a){r.ondata(null,i,a)}),this.compression=8,this.flag=wie(t.level)}return n.prototype.process=function(e,t){try{this.d.push(e,t)}catch(r){this.ondata(r,null,t)}},n.prototype.push=function(e,t){rS.prototype.push.call(this,e,t)},n}(),Rtt=function(){function n(e,t){var r=this;t||(t={}),rS.call(this,e),this.d=new hie(t,function(i,a,s){r.ondata(i,a,s)}),this.compression=8,this.flag=wie(t.level),this.terminate=this.d.terminate}return n.prototype.process=function(e,t){this.d.push(e,t)},n.prototype.push=function(e,t){rS.prototype.push.call(this,e,t)},n}(),Ptt=function(){function n(e){this.ondata=e,this.u=[],this.d=1}return n.prototype.add=function(e){var t=this;if(this.d&2)throw"stream finished";var r=Rh(e.filename),i=r.length,a=e.comment,s=a&&Rh(a),o=i!=e.filename.length||s&&a.length!=s.length,l=i+nh(e.extra)+30;if(i>65535)throw"filename too long";var c=new Gr(l);Zg(c,0,e,r,o);var u=[c],d=function(){for(var g=0,v=u;g<v.length;g++){var y=v[g];t.ondata(null,y,!1)}u=[]},f=this.d;this.d=0;var h=this.u.length,p=KS(e,{f:r,u:o,o:s,t:function(){e.terminate&&e.terminate()},r:function(){if(d(),f){var g=t.u[h+1];g?g.r():t.d=1}f=1}}),m=0;e.ondata=function(g,v,y){if(g)t.ondata(g,v,y),t.terminate();else if(m+=v.length,u.push(v),y){var b=new Gr(16);fi(b,0,134695760),fi(b,4,e.crc),fi(b,8,m),fi(b,12,e.size),u.push(b),p.c=m,p.b=l+m+16,p.crc=e.crc,p.size=e.size,f&&p.r(),f=1}else f&&d()},this.u.push(p)},n.prototype.end=function(){var e=this;if(this.d&2)throw this.d&1?"stream finishing":"stream finished";this.d?this.e():this.u.push({r:function(){e.d&1&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3},n.prototype.e=function(){for(var e=0,t=0,r=0,i=0,a=this.u;i<a.length;i++){var s=a[i];r+=46+s.f.length+nh(s.extra)+(s.o?s.o.length:0)}for(var o=new Gr(r+22),l=0,c=this.u;l<c.length;l++){var s=c[l];Zg(o,e,s,s.f,s.u,s.c,t,s.o),e+=46+s.f.length+nh(s.extra)+(s.o?s.o.length:0),t+=s.b}wO(o,e,this.u.length,r,t),this.ondata(null,o,!0),this.d=2},n.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++){var r=t[e];r.t()}this.d=2},n}();function Ltt(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";var r={};_O(n,"",r,e);var i=Object.keys(r),a=i.length,s=0,o=0,l=a,c=new Array(a),u=[],d=function(){for(var m=0;m<u.length;++m)u[m]()},f=function(){var m=new Gr(o+22),g=s,v=o-s;o=0;for(var y=0;y<l;++y){var b=c[y];try{var _=b.c.length;Zg(m,o,b,b.f,b.u,_);var w=30+b.f.length+nh(b.extra),x=o+w;m.set(b.c,x),Zg(m,s,b,b.f,b.u,_,o,b.m),s+=16+w+(b.m?b.m.length:0),o=x+_}catch(M){return t(M,null)}}wO(m,s,c.length,v,g),t(null,m)};a||f();for(var h=function(m){var g=i[m],v=r[g],y=v[0],b=v[1],_=By(),w=y.length;_.p(y);var x=Rh(g),M=x.length,C=b.comment,T=C&&Rh(C),A=T&&T.length,I=nh(b.extra),L=b.level==0?0:8,k=function(N,F){if(N)d(),t(N,null);else{var D=F.length;c[m]=KS(b,{size:w,crc:_.d(),c:F,f:x,m:T,u:M!=g.length||T&&C.length!=A,compression:L}),s+=30+M+I+D,o+=76+2*(M+I)+(A||0)+D,--a||f()}};if(M>65535&&k("filename too long",null),!L)k(null,y);else if(w<16e4)try{k(null,YS(y,b))}catch(N){k(N,null)}else u.push(pie(y,b,k))},p=0;p<l;++p)h(p);return d}function Dtt(n,e){e||(e={});var t={},r=[];_O(n,"",t,e);var i=0,a=0;for(var s in t){var o=t[s],l=o[0],c=o[1],u=c.level==0?0:8,d=Rh(s),f=d.length,h=c.comment,p=h&&Rh(h),m=p&&p.length,g=nh(c.extra);if(f>65535)throw"filename too long";var v=u?YS(l,c):l,y=v.length,b=By();b.p(l),r.push(KS(c,{size:l.length,crc:b.d(),c:v,f:d,m:p,u:f!=s.length||p&&h.length!=m,o:i,compression:u})),i+=30+f+g+y,a+=76+2*(f+g)+(m||0)+y}for(var _=new Gr(a+22),w=i,x=a-i,M=0;M<r.length;++M){var d=r[M];Zg(_,d.o,d,d.f,d.u,d.c.length);var C=30+d.f.length+nh(d.extra);_.set(d.c,d.o+C),Zg(_,i,d,d.f,d.u,d.c.length,d.o,d.m),i+=16+C+(d.m?d.m.length:0)}return wO(_,i,r.length,x,w),_}var Tie=function(){function n(){}return n.prototype.push=function(e,t){this.ondata(null,e,t)},n.compression=0,n}(),ktt=function(){function n(){var e=this;this.i=new wo(function(t,r){e.ondata(null,t,r)})}return n.prototype.push=function(e,t){try{this.i.push(e,t)}catch(r){this.ondata(r,e,t)}},n.compression=8,n}(),Ott=function(){function n(e,t){var r=this;t<32e4?this.i=new wo(function(i,a){r.ondata(null,i,a)}):(this.i=new yO(function(i,a,s){r.ondata(i,a,s)}),this.terminate=this.i.terminate)}return n.prototype.push=function(e,t){this.i.terminate&&(e=Hl(e,0)),this.i.push(e,t)},n.compression=8,n}(),Ntt=function(){function n(e){this.onfile=e,this.k=[],this.o={0:Tie},this.p=gd}return n.prototype.push=function(e,t){var r=this;if(!this.onfile)throw"no callback";if(!this.p)throw"stream finished";if(this.c>0){var i=Math.min(this.c,e.length),a=e.subarray(0,i);if(this.c-=i,this.d?this.d.push(a,!this.c):this.k[0].push(a),e=e.subarray(i),e.length)return this.push(e,t)}else{var s=0,o=0,l=void 0,c=void 0;this.p.length?e.length?(c=new Gr(this.p.length+e.length),c.set(this.p),c.set(e,this.p.length)):c=this.p:c=e;for(var u=c.length,d=this.c,f=d&&this.d,h=function(){var v,y=ha(c,o);if(y==67324752){s=1,l=o,p.d=null,p.c=0;var b=Ys(c,o+6),_=Ys(c,o+8),w=b&2048,x=b&8,M=Ys(c,o+26),C=Ys(c,o+28);if(u>o+30+M+C){var T=[];p.k.unshift(T),s=2;var A=ha(c,o+18),I=ha(c,o+22),L=SO(c.subarray(o+30,o+=30+M),!w);A==4294967295?(v=x?[-2]:Mie(c,o),A=v[0],I=v[1]):x&&(A=-1),o+=C,p.c=A;var k,N={name:L,compression:_,start:function(){if(!N.ondata)throw"no callback";if(!A)N.ondata(null,gd,!0);else{var F=r.o[_];if(!F)throw"unknown compression type "+_;k=A<0?new F(L):new F(L,A,I),k.ondata=function(B,W,Z){N.ondata(B,W,Z)};for(var D=0,H=T;D<H.length;D++){var z=H[D];k.push(z,!1)}r.k[0]==T&&r.c?r.d=k:k.push(gd,!0)}},terminate:function(){k&&k.terminate&&k.terminate()}};A>=0&&(N.size=A,N.originalSize=I),p.onfile(N)}return"break"}else if(d){if(y==134695760)return l=o+=12+(d==-2&&8),s=3,p.c=0,"break";if(y==33639248)return l=o-=4,s=3,p.c=0,"break"}},p=this;o<u-4;++o){var m=h();if(m==="break")break}if(this.p=gd,d<0){var g=s?c.subarray(0,l-12-(d==-2&&8)-(ha(c,l-16)==134695760&&4)):c.subarray(0,o);f?f.push(g,!!s):this.k[+(s==2)].push(g)}if(s&2)return this.push(c.subarray(o),t);this.p=c.subarray(o)}if(t){if(this.c)throw"invalid zip file";this.p=null}},n.prototype.register=function(e){this.o[e.compression]=e},n}();function Btt(n,e){if(typeof e!="function")throw"no callback";for(var t=[],r=function(){for(var f=0;f<t.length;++f)t[f]()},i={},a=n.length-22;ha(n,a)!=101010256;--a)if(!a||n.length-a>65558){e("invalid zip file",null);return}var s=Ys(n,a+8);s||e(null,{});var o=s,l=ha(n,a+16),c=l==4294967295;if(c){if(a=ha(n,a-12),ha(n,a)!=101075792){e("invalid zip file",null);return}o=s=ha(n,a+32),l=ha(n,a+48)}for(var u=function(f){var h=Cie(n,l,c),p=h[0],m=h[1],g=h[2],v=h[3],y=h[4],b=h[5],_=xie(n,b);l=y;var w=function(M,C){M?(r(),e(M,null)):(i[v]=C,--s||e(null,i))};if(!p)w(null,Hl(n,_,_+m));else if(p==8){var x=n.subarray(_,_+m);if(m<32e4)try{w(null,Vy(x,new Gr(g)))}catch(M){w(M,null)}else t.push(bO(x,{size:g},w))}else w("unknown compression type "+p,null)},d=0;d<o;++d)u();return r}function Ftt(n){for(var e={},t=n.length-22;ha(n,t)!=101010256;--t)if(!t||n.length-t>65558)throw"invalid zip file";var r=Ys(n,t+8);if(!r)return{};var i=ha(n,t+16),a=i==4294967295;if(a){if(t=ha(n,t-12),ha(n,t)!=101075792)throw"invalid zip file";r=ha(n,t+32),i=ha(n,t+48)}for(var s=0;s<r;++s){var o=Cie(n,i,a),l=o[0],c=o[1],u=o[2],d=o[3],f=o[4],h=o[5],p=xie(n,h);if(i=f,!l)e[d]=Hl(n,p,p+c);else if(l==8)e[d]=Vy(n.subarray(p,p+c),new Gr(u));else throw"unknown compression type "+l}return e}var ztt=Object.freeze(Object.defineProperty({__proto__:null,Deflate:Su,AsyncDeflate:hie,deflate:pie,deflateSync:YS,Inflate:wo,AsyncInflate:yO,inflate:bO,inflateSync:Vy,Gzip:aT,AsyncGzip:IG,gzip:RG,gzipSync:sT,Gunzip:oT,AsyncGunzip:mie,gunzip:vie,gunzipSync:lT,Zlib:_L,AsyncZlib:wtt,zlib:xtt,zlibSync:SL,Unzlib:cT,AsyncUnzlib:gie,unzlib:yie,unzlibSync:nS,compress:RG,AsyncCompress:IG,compressSync:sT,Compress:aT,Decompress:bie,AsyncDecompress:Ctt,decompress:Mtt,decompressSync:Ttt,DecodeUTF8:Att,EncodeUTF8:Ett,strToU8:Rh,strFromU8:SO,ZipPassThrough:rS,ZipDeflate:Itt,AsyncZipDeflate:Rtt,Zip:Ptt,zip:Ltt,zipSync:Dtt,UnzipPassThrough:Tie,UnzipInflate:ktt,AsyncUnzipInflate:Ott,Unzip:Ntt,unzip:Btt,unzipSync:Ftt},Symbol.toStringTag,{value:"Module"}));function Aie(n,e,t){const r=t.length-n-1;if(e>=t[r])return r-1;if(e<=t[n])return n;let i=n,a=r,s=Math.floor((i+a)/2);for(;e<t[s]||e>=t[s+1];)e<t[s]?a=s:i=s,s=Math.floor((i+a)/2);return s}function Utt(n,e,t,r){const i=[],a=[],s=[];i[0]=1;for(let o=1;o<=t;++o){a[o]=e-r[n+1-o],s[o]=r[n+o]-e;let l=0;for(let c=0;c<o;++c){const u=s[c+1],d=a[o-c],f=i[c]/(u+d);i[c]=l+u*f,l=d*f}i[o]=l}return i}function Htt(n,e,t,r){const i=Aie(n,r,e),a=Utt(i,r,n,e),s=new ai(0,0,0,0);for(let o=0;o<=n;++o){const l=t[i-n+o],c=a[o],u=l.w*c;s.x+=l.x*u,s.y+=l.y*u,s.z+=l.z*u,s.w+=l.w*c}return s}function Vtt(n,e,t,r,i){const a=[];for(let d=0;d<=t;++d)a[d]=0;const s=[];for(let d=0;d<=r;++d)s[d]=a.slice(0);const o=[];for(let d=0;d<=t;++d)o[d]=a.slice(0);o[0][0]=1;const l=a.slice(0),c=a.slice(0);for(let d=1;d<=t;++d){l[d]=e-i[n+1-d],c[d]=i[n+d]-e;let f=0;for(let h=0;h<d;++h){const p=c[h+1],m=l[d-h];o[d][h]=p+m;const g=o[h][d-1]/o[d][h];o[h][d]=f+p*g,f=m*g}o[d][d]=f}for(let d=0;d<=t;++d)s[0][d]=o[d][t];for(let d=0;d<=t;++d){let f=0,h=1;const p=[];for(let m=0;m<=t;++m)p[m]=a.slice(0);p[0][0]=1;for(let m=1;m<=r;++m){let g=0;const v=d-m,y=t-m;d>=m&&(p[h][0]=p[f][0]/o[y+1][v],g=p[h][0]*o[v][y]);const b=v>=-1?1:-v,_=d-1<=y?m-1:t-d;for(let x=b;x<=_;++x)p[h][x]=(p[f][x]-p[f][x-1])/o[y+1][v+x],g+=p[h][x]*o[v+x][y];d<=y&&(p[h][m]=-p[f][m-1]/o[y+1][d],g+=p[h][m]*o[d][y]),s[m][d]=g;const w=f;f=h,h=w}}let u=t;for(let d=1;d<=r;++d){for(let f=0;f<=t;++f)s[d][f]*=u;u*=t-d}return s}function $tt(n,e,t,r,i){const a=i<n?i:n,s=[],o=Aie(n,r,e),l=Vtt(o,r,n,a,e),c=[];for(let u=0;u<t.length;++u){const d=t[u].clone(),f=d.w;d.x*=f,d.y*=f,d.z*=f,c[u]=d}for(let u=0;u<=a;++u){const d=c[o-n].clone().multiplyScalar(l[u][0]);for(let f=1;f<=n;++f)d.add(c[o-n+f].clone().multiplyScalar(l[u][f]));s[u]=d}for(let u=a+1;u<=i+1;++u)s[u]=new ai(0,0,0);return s}function Gtt(n,e){let t=1;for(let i=2;i<=n;++i)t*=i;let r=1;for(let i=2;i<=e;++i)r*=i;for(let i=2;i<=n-e;++i)r*=i;return t/r}function Wtt(n){const e=n.length,t=[],r=[];for(let a=0;a<e;++a){const s=n[a];t[a]=new je(s.x,s.y,s.z),r[a]=s.w}const i=[];for(let a=0;a<e;++a){const s=t[a].clone();for(let o=1;o<=a;++o)s.sub(i[a-o].clone().multiplyScalar(Gtt(a,o)*r[o]));i[a]=s.divideScalar(r[0])}return i}function qtt(n,e,t,r,i){const a=$tt(n,e,t,r,i);return Wtt(a)}class LG extends kc{constructor(e,t,r,i,a){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=i||0,this.endKnot=a||this.knots.length-1;for(let s=0;s<r.length;++s){const o=r[s];this.controlPoints[s]=new ai(o.x,o.y,o.z,o.w)}}getPoint(e,t=new je){const r=t,i=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),a=Htt(this.degree,this.knots,this.controlPoints,i);return a.w!==1&&a.divideScalar(a.w),r.set(a.x,a.y,a.z)}getTangent(e,t=new je){const r=t,i=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),a=qtt(this.degree,this.knots,this.controlPoints,i,1);return r.copy(a[1]).normalize(),r}}let Nr,ua,co;class Ktt extends ms{constructor(e){super(e)}load(e,t,r,i){const a=this,s=a.path===""?Os.extractUrlBase(e):a.path,o=new Ns(this.manager);o.setPath(a.path),o.setResponseType("arraybuffer"),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{t(a.parse(l,s))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},r,i)}parse(e,t){if(Jtt(e))Nr=new Qtt().parse(e);else{const i=Pie(e);if(!ent(i))throw new Error("THREE.FBXLoader: Unknown format.");if(kG(i)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+kG(i));Nr=new Ztt().parse(i)}const r=new Xg(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new Ytt(r,this.manager).parse(Nr)}}class Ytt{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){ua=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),r=this.parseMaterials(t),i=this.parseDeformers(),a=new Xtt().parse(i);return this.parseScene(i,a,r),co}parseConnections(){const e=new Map;return"Connections"in Nr&&Nr.Connections.connections.forEach(function(r){const i=r[0],a=r[1],s=r[2];e.has(i)||e.set(i,{parents:[],children:[]});const o={ID:a,relationship:s};e.get(i).parents.push(o),e.has(a)||e.set(a,{parents:[],children:[]});const l={ID:i,relationship:s};e.get(a).children.push(l)}),e}parseImages(){const e={},t={};if("Video"in Nr.Objects){const r=Nr.Objects.Video;for(const i in r){const a=r[i],s=parseInt(i);if(e[s]=a.RelativeFilename||a.Filename,"Content"in a){const o=a.Content instanceof ArrayBuffer&&a.Content.byteLength>0,l=typeof a.Content=="string"&&a.Content!=="";if(o||l){const c=this.parseImage(r[i]);t[a.RelativeFilename||a.Filename]=c}}}}for(const r in e){const i=e[r];t[i]!==void 0?e[r]=t[i]:e[r]=e[r].split("\\").pop()}return e}parseImage(e){const t=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();let a;switch(i){case"bmp":a="image/bmp";break;case"jpg":case"jpeg":a="image/jpeg";break;case"png":a="image/png";break;case"tif":a="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",r),a="image/tga";break;default:console.warn('FBXLoader: Image type "'+i+'" is not supported.');return}if(typeof t=="string")return"data:"+a+";base64,"+t;{const s=new Uint8Array(t);return window.URL.createObjectURL(new Blob([s],{type:a}))}}parseTextures(e){const t=new Map;if("Texture"in Nr.Objects){const r=Nr.Objects.Texture;for(const i in r){const a=this.parseTexture(r[i],e);t.set(parseInt(i),a)}}return t}parseTexture(e,t){const r=this.loadTexture(e,t);r.ID=e.id,r.name=e.attrName;const i=e.WrapModeU,a=e.WrapModeV,s=i!==void 0?i.value:0,o=a!==void 0?a.value:0;if(r.wrapS=s===0?vo:ka,r.wrapT=o===0?vo:ka,"Scaling"in e){const l=e.Scaling.value;r.repeat.x=l[0],r.repeat.y=l[1]}if("Translation"in e){const l=e.Translation.value;r.offset.x=l[0],r.offset.y=l[1]}return r}loadTexture(e,t){let r;const i=this.textureLoader.path,a=ua.get(e.id).children;a!==void 0&&a.length>0&&t[a[0].ID]!==void 0&&(r=t[a[0].ID],(r.indexOf("blob:")===0||r.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let s;const o=e.FileName.slice(-3).toLowerCase();if(o==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),s=new fs):(l.setPath(this.textureLoader.path),s=l.load(r))}else o==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),s=new fs):s=this.textureLoader.load(r);return this.textureLoader.setPath(i),s}parseMaterials(e){const t=new Map;if("Material"in Nr.Objects){const r=Nr.Objects.Material;for(const i in r){const a=this.parseMaterial(r[i],e);a!==null&&t.set(parseInt(i),a)}}return t}parseMaterial(e,t){const r=e.id,i=e.attrName;let a=e.ShadingModel;if(typeof a=="object"&&(a=a.value),!ua.has(r))return null;const s=this.parseParameters(e,t,r);let o;switch(a.toLowerCase()){case"phong":o=new wd;break;case"lambert":o=new aO;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',a),o=new wd;break}return o.setValues(s),o.name=i,o}parseParameters(e,t,r){const i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=new bn().fromArray(e.Diffuse.value):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(i.color=new bn().fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=new bn().fromArray(e.Emissive.value):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(i.emissive=new bn().fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=new bn().fromArray(e.Specular.value):e.SpecularColor&&e.SpecularColor.type==="Color"&&(i.specular=new bn().fromArray(e.SpecularColor.value));const a=this;return ua.get(r).children.forEach(function(s){const o=s.relationship;switch(o){case"Bump":i.bumpMap=a.getTexture(t,s.ID);break;case"Maya|TEX_ao_map":i.aoMap=a.getTexture(t,s.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=a.getTexture(t,s.ID),i.map!==void 0&&(i.map.encoding=Ir);break;case"DisplacementColor":i.displacementMap=a.getTexture(t,s.ID);break;case"EmissiveColor":i.emissiveMap=a.getTexture(t,s.ID),i.emissiveMap!==void 0&&(i.emissiveMap.encoding=Ir);break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=a.getTexture(t,s.ID);break;case"ReflectionColor":i.envMap=a.getTexture(t,s.ID),i.envMap!==void 0&&(i.envMap.mapping=V_,i.envMap.encoding=Ir);break;case"SpecularColor":i.specularMap=a.getTexture(t,s.ID),i.specularMap!==void 0&&(i.specularMap.encoding=Ir);break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=a.getTexture(t,s.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",o);break}}),i}getTexture(e,t){return"LayeredTexture"in Nr.Objects&&t in Nr.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=ua.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in Nr.Objects){const r=Nr.Objects.Deformer;for(const i in r){const a=r[i],s=ua.get(parseInt(i));if(a.attrType==="Skin"){const o=this.parseSkeleton(s,r);o.ID=i,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),o.geometryID=s.parents[0].ID,e[i]=o}else if(a.attrType==="BlendShape"){const o={id:i};o.rawTargets=this.parseMorphTargets(s,r),o.id=i,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[i]=o}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const r=[];return e.children.forEach(function(i){const a=t[i.ID];if(a.attrType!=="Cluster")return;const s={ID:i.ID,indices:[],weights:[],transformLink:new Un().fromArray(a.TransformLink.a)};"Indexes"in a&&(s.indices=a.Indexes.a,s.weights=a.Weights.a),r.push(s)}),{rawBones:r,bones:[]}}parseMorphTargets(e,t){const r=[];for(let i=0;i<e.children.length;i++){const a=e.children[i],s=t[a.ID],o={name:s.attrName,initialWeight:s.DeformPercent,id:s.id,fullWeights:s.FullWeights.a};if(s.attrType!=="BlendShapeChannel")return;o.geoID=ua.get(parseInt(a.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,r.push(o)}return r}parseScene(e,t,r){co=new go;const i=this.parseModels(e.skeletons,t,r),a=Nr.Objects.Model,s=this;i.forEach(function(l){const c=a[l.ID];s.setLookAtProperties(l,c),ua.get(l.ID).parents.forEach(function(d){const f=i.get(d.ID);f!==void 0&&f.add(l)}),l.parent===null&&co.add(l)}),this.bindSkeleton(e.skeletons,t,i),this.createAmbientLight(),co.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const c=Iie(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});const o=new jtt().parse();co.children.length===1&&co.children[0].isGroup&&(co.children[0].animations=o,co=co.children[0]),co.animations=o}parseModels(e,t,r){const i=new Map,a=Nr.Objects.Model;for(const s in a){const o=parseInt(s),l=a[s],c=ua.get(o);let u=this.buildSkeleton(c,e,o,l.attrName);if(!u){switch(l.attrType){case"Camera":u=this.createCamera(c);break;case"Light":u=this.createLight(c);break;case"Mesh":u=this.createMesh(c,t,r);break;case"NurbsCurve":u=this.createCurve(c,t);break;case"LimbNode":case"Root":u=new qg;break;case"Null":default:u=new go;break}u.name=l.attrName?Yr.sanitizeNodeName(l.attrName):"",u.ID=o}this.getTransformData(u,l),i.set(o,u)}return i}buildSkeleton(e,t,r,i){let a=null;return e.parents.forEach(function(s){for(const o in t){const l=t[o];l.rawBones.forEach(function(c,u){if(c.ID===s.ID){const d=a;a=new qg,a.matrixWorld.copy(c.transformLink),a.name=i?Yr.sanitizeNodeName(i):"",a.ID=r,l.bones[u]=a,d!==null&&a.add(d)}})}}),a}createCamera(e){let t,r;if(e.children.forEach(function(i){const a=Nr.Objects.NodeAttribute[i.ID];a!==void 0&&(r=a)}),r===void 0)t=new Gi;else{let i=0;r.CameraProjectionType!==void 0&&r.CameraProjectionType.value===1&&(i=1);let a=1;r.NearPlane!==void 0&&(a=r.NearPlane.value/1e3);let s=1e3;r.FarPlane!==void 0&&(s=r.FarPlane.value/1e3);let o=window.innerWidth,l=window.innerHeight;r.AspectWidth!==void 0&&r.AspectHeight!==void 0&&(o=r.AspectWidth.value,l=r.AspectHeight.value);const c=o/l;let u=45;r.FieldOfView!==void 0&&(u=r.FieldOfView.value);const d=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:t=new La(u,c,a,s),d!==null&&t.setFocalLength(d);break;case 1:t=new Ey(-o/2,o/2,l/2,-l/2,a,s);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),t=new Gi;break}}return t}createLight(e){let t,r;if(e.children.forEach(function(i){const a=Nr.Objects.NodeAttribute[i.ID];a!==void 0&&(r=a)}),r===void 0)t=new Gi;else{let i;r.LightType===void 0?i=0:i=r.LightType.value;let a=16777215;r.Color!==void 0&&(a=new bn().fromArray(r.Color.value));let s=r.Intensity===void 0?1:r.Intensity.value/100;r.CastLightOnObject!==void 0&&r.CastLightOnObject.value===0&&(s=0);let o=0;r.FarAttenuationEnd!==void 0&&(r.EnableFarAttenuation!==void 0&&r.EnableFarAttenuation.value===0?o=0:o=r.FarAttenuationEnd.value);const l=1;switch(i){case 0:t=new H0(a,s,o,l);break;case 1:t=new GS(a,s);break;case 2:let c=Math.PI/3;r.InnerAngle!==void 0&&(c=Ps.degToRad(r.InnerAngle.value));let u=0;r.OuterAngle!==void 0&&(u=Ps.degToRad(r.OuterAngle.value),u=Math.max(u,1)),t=new FA(a,s,o,c,u,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),t=new H0(a,s);break}r.CastShadows!==void 0&&r.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,r){let i,a=null,s=null;const o=[];return e.children.forEach(function(l){t.has(l.ID)&&(a=t.get(l.ID)),r.has(l.ID)&&o.push(r.get(l.ID))}),o.length>1?s=o:o.length>0?s=o[0]:(s=new wd({color:13421772}),o.push(s)),"color"in a.attributes&&o.forEach(function(l){l.vertexColors=!0}),a.FBX_Deformer?(i=new NA(a,s),i.normalizeSkinWeights()):i=new Oa(a,s),i}createCurve(e,t){const r=e.children.reduce(function(a,s){return t.has(s.ID)&&(a=t.get(s.ID)),a},null),i=new Cc({color:3342591,linewidth:1});return new Py(r,i)}getTransformData(e,t){const r={};"InheritType"in t&&(r.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?r.eulerOrder=Rie(t.RotationOrder.value):r.eulerOrder="ZYX","Lcl_Translation"in t&&(r.translation=t.Lcl_Translation.value),"PreRotation"in t&&(r.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(r.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(r.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(r.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(r.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(r.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(r.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(r.rotationPivot=t.RotationPivot.value),e.userData.transformData=r}setLookAtProperties(e,t){"LookAtProperty"in t&&ua.get(e.ID).children.forEach(function(i){if(i.relationship==="LookAtProperty"){const a=Nr.Objects.Model[i.ID];if("Lcl_Translation"in a){const s=a.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(s),co.add(e.target)):e.lookAt(new je().fromArray(s))}}})}bindSkeleton(e,t,r){const i=this.parsePoseNodes();for(const a in e){const s=e[a];ua.get(parseInt(s.ID)).parents.forEach(function(l){if(t.has(l.ID)){const c=l.ID;ua.get(c).parents.forEach(function(d){r.has(d.ID)&&r.get(d.ID).bind(new Ry(s.bones),i[d.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in Nr.Objects){const t=Nr.Objects.Pose;for(const r in t)if(t[r].attrType==="BindPose"&&t[r].NbPoseNodes>0){const i=t[r].PoseNode;Array.isArray(i)?i.forEach(function(a){e[a.Node]=new Un().fromArray(a.Matrix.a)}):e[i.Node]=new Un().fromArray(i.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in Nr&&"AmbientColor"in Nr.GlobalSettings){const e=Nr.GlobalSettings.AmbientColor.value,t=e[0],r=e[1],i=e[2];if(t!==0||r!==0||i!==0){const a=new bn(t,r,i);co.add(new zA(a,1))}}}}class Xtt{parse(e){const t=new Map;if("Geometry"in Nr.Objects){const r=Nr.Objects.Geometry;for(const i in r){const a=ua.get(parseInt(i)),s=this.parseGeometry(a,r[i],e);t.set(parseInt(i),s)}}return t}parseGeometry(e,t,r){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,r);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,r){const i=r.skeletons,a=[],s=e.parents.map(function(d){return Nr.Objects.Model[d.ID]});if(s.length===0)return;const o=e.children.reduce(function(d,f){return i[f.ID]!==void 0&&(d=i[f.ID]),d},null);e.children.forEach(function(d){r.morphTargets[d.ID]!==void 0&&a.push(r.morphTargets[d.ID])});const l=s[0],c={};"RotationOrder"in l&&(c.eulerOrder=Rie(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);const u=Iie(c);return this.genGeometry(t,o,a,u)}genGeometry(e,t,r,i){const a=new Hr;e.attrName&&(a.name=e.attrName);const s=this.parseGeoNode(e,t),o=this.genBuffers(s),l=new En(o.vertex,3);if(l.applyMatrix4(i),a.setAttribute("position",l),o.colors.length>0&&a.setAttribute("color",new En(o.colors,3)),t&&(a.setAttribute("skinIndex",new W8(o.weightsIndices,4)),a.setAttribute("skinWeight",new En(o.vertexWeights,4)),a.FBX_Deformer=t),o.normal.length>0){const c=new Nl().getNormalMatrix(i),u=new En(o.normal,3);u.applyNormalMatrix(c),a.setAttribute("normal",u)}if(o.uvs.forEach(function(c,u){let d="uv"+(u+1).toString();u===0&&(d="uv"),a.setAttribute(d,new En(o.uvs[u],2))}),s.material&&s.material.mappingType!=="AllSame"){let c=o.materialIndex[0],u=0;if(o.materialIndex.forEach(function(d,f){d!==c&&(a.addGroup(u,f-u,c),c=d,u=f)}),a.groups.length>0){const d=a.groups[a.groups.length-1],f=d.start+d.count;f!==o.materialIndex.length&&a.addGroup(f,o.materialIndex.length-f,c)}a.groups.length===0&&a.addGroup(0,o.materialIndex.length,o.materialIndex[0])}return this.addMorphTargets(a,e,r,i),a}parseGeoNode(e,t){const r={};if(r.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],r.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];let i=0;for(;e.LayerElementUV[i];)e.LayerElementUV[i].UV&&r.uv.push(this.parseUVs(e.LayerElementUV[i])),i++}return r.weightTable={},t!==null&&(r.skeleton=t,t.rawBones.forEach(function(i,a){i.indices.forEach(function(s,o){r.weightTable[s]===void 0&&(r.weightTable[s]=[]),r.weightTable[s].push({id:a,weight:i.weights[o]})})})),r}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let r=0,i=0,a=!1,s=[],o=[],l=[],c=[],u=[],d=[];const f=this;return e.vertexIndices.forEach(function(h,p){let m,g=!1;h<0&&(h=h^-1,g=!0);let v=[],y=[];if(s.push(h*3,h*3+1,h*3+2),e.color){const b=a2(p,r,h,e.color);l.push(b[0],b[1],b[2])}if(e.skeleton){if(e.weightTable[h]!==void 0&&e.weightTable[h].forEach(function(b){y.push(b.weight),v.push(b.id)}),y.length>4){a||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),a=!0);const b=[0,0,0,0],_=[0,0,0,0];y.forEach(function(w,x){let M=w,C=v[x];_.forEach(function(T,A,I){if(M>T){I[A]=M,M=T;const L=b[A];b[A]=C,C=L}})}),v=b,y=_}for(;y.length<4;)y.push(0),v.push(0);for(let b=0;b<4;++b)u.push(y[b]),d.push(v[b])}if(e.normal){const b=a2(p,r,h,e.normal);o.push(b[0],b[1],b[2])}e.material&&e.material.mappingType!=="AllSame"&&(m=a2(p,r,h,e.material)[0]),e.uv&&e.uv.forEach(function(b,_){const w=a2(p,r,h,b);c[_]===void 0&&(c[_]=[]),c[_].push(w[0]),c[_].push(w[1])}),i++,g&&(f.genFace(t,e,s,m,o,l,c,u,d,i),r++,i=0,s=[],o=[],l=[],c=[],u=[],d=[])}),t}genFace(e,t,r,i,a,s,o,l,c,u){for(let d=2;d<u;d++)e.vertex.push(t.vertexPositions[r[0]]),e.vertex.push(t.vertexPositions[r[1]]),e.vertex.push(t.vertexPositions[r[2]]),e.vertex.push(t.vertexPositions[r[(d-1)*3]]),e.vertex.push(t.vertexPositions[r[(d-1)*3+1]]),e.vertex.push(t.vertexPositions[r[(d-1)*3+2]]),e.vertex.push(t.vertexPositions[r[d*3]]),e.vertex.push(t.vertexPositions[r[d*3+1]]),e.vertex.push(t.vertexPositions[r[d*3+2]]),t.skeleton&&(e.vertexWeights.push(l[0]),e.vertexWeights.push(l[1]),e.vertexWeights.push(l[2]),e.vertexWeights.push(l[3]),e.vertexWeights.push(l[(d-1)*4]),e.vertexWeights.push(l[(d-1)*4+1]),e.vertexWeights.push(l[(d-1)*4+2]),e.vertexWeights.push(l[(d-1)*4+3]),e.vertexWeights.push(l[d*4]),e.vertexWeights.push(l[d*4+1]),e.vertexWeights.push(l[d*4+2]),e.vertexWeights.push(l[d*4+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[(d-1)*4]),e.weightsIndices.push(c[(d-1)*4+1]),e.weightsIndices.push(c[(d-1)*4+2]),e.weightsIndices.push(c[(d-1)*4+3]),e.weightsIndices.push(c[d*4]),e.weightsIndices.push(c[d*4+1]),e.weightsIndices.push(c[d*4+2]),e.weightsIndices.push(c[d*4+3])),t.color&&(e.colors.push(s[0]),e.colors.push(s[1]),e.colors.push(s[2]),e.colors.push(s[(d-1)*3]),e.colors.push(s[(d-1)*3+1]),e.colors.push(s[(d-1)*3+2]),e.colors.push(s[d*3]),e.colors.push(s[d*3+1]),e.colors.push(s[d*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(i),e.materialIndex.push(i),e.materialIndex.push(i)),t.normal&&(e.normal.push(a[0]),e.normal.push(a[1]),e.normal.push(a[2]),e.normal.push(a[(d-1)*3]),e.normal.push(a[(d-1)*3+1]),e.normal.push(a[(d-1)*3+2]),e.normal.push(a[d*3]),e.normal.push(a[d*3+1]),e.normal.push(a[d*3+2])),t.uv&&t.uv.forEach(function(f,h){e.uvs[h]===void 0&&(e.uvs[h]=[]),e.uvs[h].push(o[h][0]),e.uvs[h].push(o[h][1]),e.uvs[h].push(o[h][(d-1)*2]),e.uvs[h].push(o[h][(d-1)*2+1]),e.uvs[h].push(o[h][d*2]),e.uvs[h].push(o[h][d*2+1])})}addMorphTargets(e,t,r,i){if(r.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const a=this;r.forEach(function(s){s.rawTargets.forEach(function(o){const l=Nr.Objects.Geometry[o.geoID];l!==void 0&&a.genMorphGeometry(e,t,l,i,o.name)})})}genMorphGeometry(e,t,r,i,a){const s=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],o=r.Vertices!==void 0?r.Vertices.a:[],l=r.Indexes!==void 0?r.Indexes.a:[],c=e.attributes.position.count*3,u=new Float32Array(c);for(let p=0;p<l.length;p++){const m=l[p]*3;u[m]=o[p*3],u[m+1]=o[p*3+1],u[m+2]=o[p*3+2]}const d={vertexIndices:s,vertexPositions:u},f=this.genBuffers(d),h=new En(f.vertex,3);h.name=a||r.attrName,h.applyMatrix4(i),e.morphAttributes.position.push(h)}parseNormals(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Normals.a;let a=[];return r==="IndexToDirect"&&("NormalIndex"in e?a=e.NormalIndex.a:"NormalsIndex"in e&&(a=e.NormalsIndex.a)),{dataSize:3,buffer:i,indices:a,mappingType:t,referenceType:r}}parseUVs(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.UV.a;let a=[];return r==="IndexToDirect"&&(a=e.UVIndex.a),{dataSize:2,buffer:i,indices:a,mappingType:t,referenceType:r}}parseVertexColors(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Colors.a;let a=[];return r==="IndexToDirect"&&(a=e.ColorIndex.a),{dataSize:4,buffer:i,indices:a,mappingType:t,referenceType:r}}parseMaterialIndices(e){const t=e.MappingInformationType,r=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};const i=e.Materials.a,a=[];for(let s=0;s<i.length;++s)a.push(s);return{dataSize:1,buffer:i,indices:a,mappingType:t,referenceType:r}}parseNurbsGeometry(e){if(LG===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new Hr;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new Hr;const r=t-1,i=e.KnotVector.a,a=[],s=e.Points.a;for(let d=0,f=s.length;d<f;d+=4)a.push(new ai().fromArray(s,d));let o,l;if(e.Form==="Closed")a.push(a[0]);else if(e.Form==="Periodic"){o=r,l=i.length-1-o;for(let d=0;d<r;++d)a.push(a[d])}const u=new LG(r,i,a,o,l).getPoints(a.length*12);return new Hr().setFromPoints(u)}}class jtt{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const r in t){const i=t[r],a=this.addClip(i);e.push(a)}return e}parseClips(){if(Nr.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=Nr.Objects.AnimationCurveNode,t=new Map;for(const r in e){const i=e[r];if(i.attrName.match(/S|R|T|DeformPercent/)!==null){const a={id:i.id,attr:i.attrName,curves:{}};t.set(a.id,a)}}return t}parseAnimationCurves(e){const t=Nr.Objects.AnimationCurve;for(const r in t){const i={id:t[r].id,times:t[r].KeyTime.a.map(tnt),values:t[r].KeyValueFloat.a},a=ua.get(i.id);if(a!==void 0){const s=a.parents[0].ID,o=a.parents[0].relationship;o.match(/X/)?e.get(s).curves.x=i:o.match(/Y/)?e.get(s).curves.y=i:o.match(/Z/)?e.get(s).curves.z=i:o.match(/d|DeformPercent/)&&e.has(s)&&(e.get(s).curves.morph=i)}}}parseAnimationLayers(e){const t=Nr.Objects.AnimationLayer,r=new Map;for(const i in t){const a=[],s=ua.get(parseInt(i));s!==void 0&&(s.children.forEach(function(l,c){if(e.has(l.ID)){const u=e.get(l.ID);if(u.curves.x!==void 0||u.curves.y!==void 0||u.curves.z!==void 0){if(a[c]===void 0){const d=ua.get(l.ID).parents.filter(function(f){return f.relationship!==void 0})[0].ID;if(d!==void 0){const f=Nr.Objects.Model[d.toString()];if(f===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const h={modelName:f.attrName?Yr.sanitizeNodeName(f.attrName):"",ID:f.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};co.traverse(function(p){p.ID===f.id&&(h.transform=p.matrix,p.userData.transformData&&(h.eulerOrder=p.userData.transformData.eulerOrder))}),h.transform||(h.transform=new Un),"PreRotation"in f&&(h.preRotation=f.PreRotation.value),"PostRotation"in f&&(h.postRotation=f.PostRotation.value),a[c]=h}}a[c]&&(a[c][u.attr]=u)}else if(u.curves.morph!==void 0){if(a[c]===void 0){const d=ua.get(l.ID).parents.filter(function(v){return v.relationship!==void 0})[0].ID,f=ua.get(d).parents[0].ID,h=ua.get(f).parents[0].ID,p=ua.get(h).parents[0].ID,m=Nr.Objects.Model[p],g={modelName:m.attrName?Yr.sanitizeNodeName(m.attrName):"",morphName:Nr.Objects.Deformer[d].attrName};a[c]=g}a[c][u.attr]=u}}}),r.set(parseInt(i),a))}return r}parseAnimStacks(e){const t=Nr.Objects.AnimationStack,r={};for(const i in t){const a=ua.get(parseInt(i)).children;a.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const s=e.get(a[0].ID);r[i]={name:t[i].attrName,layer:s}}return r}addClip(e){let t=[];const r=this;return e.layer.forEach(function(i){t=t.concat(r.generateTracks(i))}),new U0(e.name,-1,t)}generateTracks(e){const t=[];let r=new je,i=new ss,a=new je;if(e.transform&&e.transform.decompose(r,i,a),r=r.toArray(),i=new vd().setFromQuaternion(i,e.eulerOrder).toArray(),a=a.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const s=this.generateVectorTrack(e.modelName,e.T.curves,r,"position");s!==void 0&&t.push(s)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const s=this.generateRotationTrack(e.modelName,e.R.curves,i,e.preRotation,e.postRotation,e.eulerOrder);s!==void 0&&t.push(s)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const s=this.generateVectorTrack(e.modelName,e.S.curves,a,"scale");s!==void 0&&t.push(s)}if(e.DeformPercent!==void 0){const s=this.generateMorphTrack(e);s!==void 0&&t.push(s)}return t}generateVectorTrack(e,t,r,i){const a=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(a,t,r);return new Ih(e+"."+i,a,s)}generateRotationTrack(e,t,r,i,a,s){t.x!==void 0&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(Ps.degToRad)),t.y!==void 0&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(Ps.degToRad)),t.z!==void 0&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(Ps.degToRad));const o=this.getTimesForAllAxes(t),l=this.getKeyframeTrackValues(o,t,r);i!==void 0&&(i=i.map(Ps.degToRad),i.push(s),i=new vd().fromArray(i),i=new ss().setFromEuler(i)),a!==void 0&&(a=a.map(Ps.degToRad),a.push(s),a=new vd().fromArray(a),a=new ss().setFromEuler(a).invert());const c=new ss,u=new vd,d=[];for(let f=0;f<l.length;f+=3)u.set(l[f],l[f+1],l[f+2],s),c.setFromEuler(u),i!==void 0&&c.premultiply(i),a!==void 0&&c.multiply(a),c.toArray(d,f/3*4);return new Ld(e+".quaternion",o,d)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,r=t.values.map(function(a){return a/100}),i=co.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new Kg(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(r,i){return r-i}),t.length>1){let r=1,i=t[0];for(let a=1;a<t.length;a++){const s=t[a];s!==i&&(t[r]=s,i=s,r++)}t=t.slice(0,r)}return t}getKeyframeTrackValues(e,t,r){const i=r,a=[];let s=-1,o=-1,l=-1;return e.forEach(function(c){if(t.x&&(s=t.x.times.indexOf(c)),t.y&&(o=t.y.times.indexOf(c)),t.z&&(l=t.z.times.indexOf(c)),s!==-1){const u=t.x.values[s];a.push(u),i[0]=u}else a.push(i[0]);if(o!==-1){const u=t.y.values[o];a.push(u),i[1]=u}else a.push(i[1]);if(l!==-1){const u=t.z.values[l];a.push(u),i[2]=u}else a.push(i[2])}),a}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const r=e.values[t-1],i=e.values[t]-r,a=Math.abs(i);if(a>=180){const s=a/180,o=i/s;let l=r+o;const c=e.times[t-1],d=(e.times[t]-c)/s;let f=c+d;const h=[],p=[];for(;f<e.times[t];)h.push(f),f+=d,p.push(l),l+=o;e.times=OG(e.times,t,h),e.values=OG(e.values,t,p)}}}}class Ztt{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new Eie,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,r=e.split(/[\r\n]+/);return r.forEach(function(i,a){const s=i.match(/^[\s\t]*;/),o=i.match(/^[\s\t]*$/);if(s||o)return;const l=i.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),c=i.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=i.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(i,l):c?t.parseNodeProperty(i,c,r[++a]):u?t.popStack():i.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(i)}),this.allNodes}parseNodeBegin(e,t){const r=t[1].trim().replace(/^"/,"").replace(/"$/,""),i=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),a={name:r},s=this.parseNodeAttr(i),o=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(r,a):r in o?(r==="PoseNode"?o.PoseNode.push(a):o[r].id!==void 0&&(o[r]={},o[r][o[r].id]=o[r]),s.id!==""&&(o[r][s.id]=a)):typeof s.id=="number"?(o[r]={},o[r][s.id]=a):r!=="Properties70"&&(r==="PoseNode"?o[r]=[a]:o[r]=a),typeof s.id=="number"&&(a.id=s.id),s.name!==""&&(a.attrName=s.name),s.type!==""&&(a.attrType=s.type),this.pushStack(a)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let r="",i="";return e.length>1&&(r=e[1].replace(/^(\w+)::/,""),i=e[2]),{id:t,name:r,type:i}}parseNodeProperty(e,t,r){let i=t[1].replace(/^"/,"").replace(/"$/,"").trim(),a=t[2].replace(/^"/,"").replace(/"$/,"").trim();i==="Content"&&a===","&&(a=r.replace(/"/g,"").replace(/,$/,"").trim());const s=this.getCurrentNode();if(s.name==="Properties70"){this.parseNodeSpecialProperty(e,i,a);return}if(i==="C"){const l=a.split(",").slice(1),c=parseInt(l[0]),u=parseInt(l[1]);let d=a.split(",").slice(3);d=d.map(function(f){return f.trim().replace(/^"/,"")}),i="connections",a=[c,u],rnt(a,d),s[i]===void 0&&(s[i]=[])}i==="Node"&&(s.id=a),i in s&&Array.isArray(s[i])?s[i].push(a):i!=="a"?s[i]=a:s.a=a,this.setCurrentProp(s,i),i==="a"&&a.slice(-1)!==","&&(s.a=bI(a))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=bI(t.a))}parseNodeSpecialProperty(e,t,r){const i=r.split('",').map(function(u){return u.trim().replace(/^\"/,"").replace(/\s/,"_")}),a=i[0],s=i[1],o=i[2],l=i[3];let c=i[4];switch(s){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=bI(c);break}this.getPrevNode()[a]={type:s,type2:o,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),a)}}class Qtt{parse(e){const t=new DG(e);t.skip(23);const r=t.getUint32();if(r<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);const i=new Eie;for(;!this.endOfContent(t);){const a=this.parseNode(t,r);a!==null&&i.add(a.name,a)}return i}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const r={},i=t>=7500?e.getUint64():e.getUint32(),a=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const s=e.getUint8(),o=e.getString(s);if(i===0)return null;const l=[];for(let f=0;f<a;f++)l.push(this.parseProperty(e));const c=l.length>0?l[0]:"",u=l.length>1?l[1]:"",d=l.length>2?l[2]:"";for(r.singleProperty=a===1&&e.getOffset()===i;i>e.getOffset();){const f=this.parseNode(e,t);f!==null&&this.parseSubNode(o,r,f)}return r.propertyList=l,typeof c=="number"&&(r.id=c),u!==""&&(r.attrName=u),d!==""&&(r.attrType=d),o!==""&&(r.name=o),r}parseSubNode(e,t,r){if(r.singleProperty===!0){const i=r.propertyList[0];Array.isArray(i)?(t[r.name]=r,r.a=i):t[r.name]=i}else if(e==="Connections"&&r.name==="C"){const i=[];r.propertyList.forEach(function(a,s){s!==0&&i.push(a)}),t.connections===void 0&&(t.connections=[]),t.connections.push(i)}else if(r.name==="Properties70")Object.keys(r).forEach(function(a){t[a]=r[a]});else if(e==="Properties70"&&r.name==="P"){let i=r.propertyList[0],a=r.propertyList[1];const s=r.propertyList[2],o=r.propertyList[3];let l;i.indexOf("Lcl ")===0&&(i=i.replace("Lcl ","Lcl_")),a.indexOf("Lcl ")===0&&(a=a.replace("Lcl ","Lcl_")),a==="Color"||a==="ColorRGB"||a==="Vector"||a==="Vector3D"||a.indexOf("Lcl_")===0?l=[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:l=r.propertyList[4],t[i]={type:a,type2:s,flag:o,value:l}}else t[r.name]===void 0?typeof r.id=="number"?(t[r.name]={},t[r.name][r.id]=r):t[r.name]=r:r.name==="PoseNode"?(Array.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r)):t[r.name][r.id]===void 0&&(t[r.name][r.id]=r)}parseProperty(e){const t=e.getString(1);let r;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return r=e.getUint32(),e.getArrayBuffer(r);case"S":return r=e.getUint32(),e.getString(r);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const i=e.getUint32(),a=e.getUint32(),s=e.getUint32();if(a===0)switch(t){case"b":case"c":return e.getBooleanArray(i);case"d":return e.getFloat64Array(i);case"f":return e.getFloat32Array(i);case"i":return e.getInt32Array(i);case"l":return e.getInt64Array(i)}typeof ztt>"u"&&console.error("THREE.FBXLoader: External library fflate.min.js required.");const o=nS(new Uint8Array(e.getArrayBuffer(s))),l=new DG(o.buffer);switch(t){case"b":case"c":return l.getBooleanArray(i);case"d":return l.getFloat64Array(i);case"f":return l.getFloat32Array(i);case"i":return l.getInt32Array(i);case"l":return l.getInt64Array(i)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class DG{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const t=[];for(let r=0;r<e;r++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let i=0;i<e;i++)t[i]=this.getUint8();const r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),Os.decodeText(new Uint8Array(t))}}class Eie{add(e,t){this[e]=t}}function Jtt(n){const e="Kaydara FBX Binary  \0";return n.byteLength>=e.length&&e===Pie(n,0,e.length)}function ent(n){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function r(i){const a=n[i-1];return n=n.slice(t+i),t++,a}for(let i=0;i<e.length;++i)if(r(1)===e[i])return!1;return!0}function kG(n){const e=/FBXVersion: (\d+)/,t=n.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function tnt(n){return n/46186158e3}const nnt=[];function a2(n,e,t,r){let i;switch(r.mappingType){case"ByPolygonVertex":i=n;break;case"ByPolygon":i=e;break;case"ByVertice":i=t;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}r.referenceType==="IndexToDirect"&&(i=r.indices[i]);const a=i*r.dataSize,s=a+r.dataSize;return int(nnt,r.buffer,a,s)}const yI=new vd,Xm=new je;function Iie(n){const e=new Un,t=new Un,r=new Un,i=new Un,a=new Un,s=new Un,o=new Un,l=new Un,c=new Un,u=new Un,d=new Un,f=new Un,h=n.inheritType?n.inheritType:0;if(n.translation&&e.setPosition(Xm.fromArray(n.translation)),n.preRotation){const A=n.preRotation.map(Ps.degToRad);A.push(n.eulerOrder),t.makeRotationFromEuler(yI.fromArray(A))}if(n.rotation){const A=n.rotation.map(Ps.degToRad);A.push(n.eulerOrder),r.makeRotationFromEuler(yI.fromArray(A))}if(n.postRotation){const A=n.postRotation.map(Ps.degToRad);A.push(n.eulerOrder),i.makeRotationFromEuler(yI.fromArray(A)),i.invert()}n.scale&&a.scale(Xm.fromArray(n.scale)),n.scalingOffset&&o.setPosition(Xm.fromArray(n.scalingOffset)),n.scalingPivot&&s.setPosition(Xm.fromArray(n.scalingPivot)),n.rotationOffset&&l.setPosition(Xm.fromArray(n.rotationOffset)),n.rotationPivot&&c.setPosition(Xm.fromArray(n.rotationPivot)),n.parentMatrixWorld&&(d.copy(n.parentMatrix),u.copy(n.parentMatrixWorld));const p=t.clone().multiply(r).multiply(i),m=new Un;m.extractRotation(u);const g=new Un;g.copyPosition(u);const v=g.clone().invert().multiply(u),y=m.clone().invert().multiply(v),b=a,_=new Un;if(h===0)_.copy(m).multiply(p).multiply(y).multiply(b);else if(h===1)_.copy(m).multiply(y).multiply(p).multiply(b);else{const I=new Un().scale(new je().setFromMatrixScale(d)).clone().invert(),L=y.clone().multiply(I);_.copy(m).multiply(p).multiply(L).multiply(b)}const w=c.clone().invert(),x=s.clone().invert();let M=e.clone().multiply(l).multiply(c).multiply(t).multiply(r).multiply(i).multiply(w).multiply(o).multiply(s).multiply(a).multiply(x);const C=new Un().copyPosition(M),T=u.clone().multiply(C);return f.copyPosition(T),M=f.clone().multiply(_),M.premultiply(u.invert()),M}function Rie(n){n=n||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return n===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[n]}function bI(n){return n.split(",").map(function(t){return parseFloat(t)})}function Pie(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=n.byteLength),Os.decodeText(new Uint8Array(n,e,t))}function rnt(n,e){for(let t=0,r=n.length,i=e.length;t<i;t++,r++)n[r]=e[t]}function int(n,e,t,r){for(let i=t,a=0;i<r;i++,a++)n[a]=e[i];return n}function OG(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}class xL extends Wet{constructor(e){super(e)}parse(e){function t(D){switch(D.image_type){case f:case m:(D.colormap_length>256||D.colormap_size!==24||D.colormap_type!==1)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case h:case p:case g:case v:D.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case d:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',D.image_type)}(D.width<=0||D.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),D.pixel_size!==8&&D.pixel_size!==16&&D.pixel_size!==24&&D.pixel_size!==32&&console.error('THREE.TGALoader: Invalid pixel size "%s".',D.pixel_size)}function r(D,H,z,B,W){let Z,ee;const J=z.pixel_size>>3,re=z.width*z.height*J;if(H&&(ee=W.subarray(B,B+=z.colormap_length*(z.colormap_size>>3))),D){Z=new Uint8Array(re);let fe,de,me,Re=0;const De=new Uint8Array(J);for(;Re<re;)if(fe=W[B++],de=(fe&127)+1,fe&128){for(me=0;me<J;++me)De[me]=W[B++];for(me=0;me<de;++me)Z.set(De,Re+me*J);Re+=J*de}else{for(de*=J,me=0;me<de;++me)Z[Re+me]=W[B++];Re+=de}}else Z=W.subarray(B,B+=H?z.width*z.height:re);return{pixel_data:Z,palettes:ee}}function i(D,H,z,B,W,Z,ee,J,re){const fe=re;let de,me=0,Re,De;const Ge=A.width;for(De=H;De!==B;De+=z)for(Re=W;Re!==ee;Re+=Z,me++)de=J[me],D[(Re+Ge*De)*4+3]=255,D[(Re+Ge*De)*4+2]=fe[de*3+0],D[(Re+Ge*De)*4+1]=fe[de*3+1],D[(Re+Ge*De)*4+0]=fe[de*3+2];return D}function a(D,H,z,B,W,Z,ee,J){let re,fe=0,de,me;const Re=A.width;for(me=H;me!==B;me+=z)for(de=W;de!==ee;de+=Z,fe+=2)re=J[fe+0]+(J[fe+1]<<8),D[(de+Re*me)*4+0]=(re&31744)>>7,D[(de+Re*me)*4+1]=(re&992)>>2,D[(de+Re*me)*4+2]=(re&31)<<3,D[(de+Re*me)*4+3]=re&32768?0:255;return D}function s(D,H,z,B,W,Z,ee,J){let re=0,fe,de;const me=A.width;for(de=H;de!==B;de+=z)for(fe=W;fe!==ee;fe+=Z,re+=3)D[(fe+me*de)*4+3]=255,D[(fe+me*de)*4+2]=J[re+0],D[(fe+me*de)*4+1]=J[re+1],D[(fe+me*de)*4+0]=J[re+2];return D}function o(D,H,z,B,W,Z,ee,J){let re=0,fe,de;const me=A.width;for(de=H;de!==B;de+=z)for(fe=W;fe!==ee;fe+=Z,re+=4)D[(fe+me*de)*4+2]=J[re+0],D[(fe+me*de)*4+1]=J[re+1],D[(fe+me*de)*4+0]=J[re+2],D[(fe+me*de)*4+3]=J[re+3];return D}function l(D,H,z,B,W,Z,ee,J){let re,fe=0,de,me;const Re=A.width;for(me=H;me!==B;me+=z)for(de=W;de!==ee;de+=Z,fe++)re=J[fe],D[(de+Re*me)*4+0]=re,D[(de+Re*me)*4+1]=re,D[(de+Re*me)*4+2]=re,D[(de+Re*me)*4+3]=255;return D}function c(D,H,z,B,W,Z,ee,J){let re=0,fe,de;const me=A.width;for(de=H;de!==B;de+=z)for(fe=W;fe!==ee;fe+=Z,re+=2)D[(fe+me*de)*4+0]=J[re+0],D[(fe+me*de)*4+1]=J[re+0],D[(fe+me*de)*4+2]=J[re+0],D[(fe+me*de)*4+3]=J[re+1];return D}function u(D,H,z,B,W){let Z,ee,J,re,fe,de;switch((A.flags&y)>>b){default:case x:Z=0,J=1,fe=H,ee=0,re=1,de=z;break;case _:Z=0,J=1,fe=H,ee=z-1,re=-1,de=-1;break;case M:Z=H-1,J=-1,fe=-1,ee=0,re=1,de=z;break;case w:Z=H-1,J=-1,fe=-1,ee=z-1,re=-1,de=-1;break}if(k)switch(A.pixel_size){case 8:l(D,ee,re,de,Z,J,fe,B);break;case 16:c(D,ee,re,de,Z,J,fe,B);break;default:console.error("THREE.TGALoader: Format not supported.");break}else switch(A.pixel_size){case 8:i(D,ee,re,de,Z,J,fe,B,W);break;case 16:a(D,ee,re,de,Z,J,fe,B);break;case 24:s(D,ee,re,de,Z,J,fe,B);break;case 32:o(D,ee,re,de,Z,J,fe,B);break;default:console.error("THREE.TGALoader: Format not supported.");break}return D}const d=0,f=1,h=2,p=3,m=9,g=10,v=11,y=48,b=4,_=0,w=1,x=2,M=3;e.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");let C=0;const T=new Uint8Array(e),A={id_length:T[C++],colormap_type:T[C++],image_type:T[C++],colormap_index:T[C++]|T[C++]<<8,colormap_length:T[C++]|T[C++]<<8,colormap_size:T[C++],origin:[T[C++]|T[C++]<<8,T[C++]|T[C++]<<8],width:T[C++]|T[C++]<<8,height:T[C++]|T[C++]<<8,pixel_size:T[C++],flags:T[C++]};t(A),A.id_length+C>e.length&&console.error("THREE.TGALoader: No data."),C+=A.id_length;let I=!1,L=!1,k=!1;switch(A.image_type){case m:I=!0,L=!0;break;case f:L=!0;break;case g:I=!0;break;case h:break;case v:I=!0,k=!0;break;case p:k=!0;break}const N=new Uint8Array(A.width*A.height*4),F=r(I,L,A,C,T);return u(N,A.width,A.height,F.pixel_data,F.palettes),{data:N,width:A.width,height:A.height,flipY:!0,generateMipmaps:!0,minFilter:Yd}}}class ant extends ms{constructor(e){super(e)}load(e,t,r,i){const a=this,s=a.path===""?Os.extractUrlBase(e):a.path,o=new Ns(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{t(a.parse(l,s))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},r,i)}parse(e,t){function r(Ce,xe){const He=[],Be=Ce.childNodes;for(let Ve=0,Dt=Be.length;Ve<Dt;Ve++){const zt=Be[Ve];zt.nodeName===xe&&He.push(zt)}return He}function i(Ce){if(Ce.length===0)return[];const xe=Ce.trim().split(/\s+/),He=new Array(xe.length);for(let Be=0,Ve=xe.length;Be<Ve;Be++)He[Be]=xe[Be];return He}function a(Ce){if(Ce.length===0)return[];const xe=Ce.trim().split(/\s+/),He=new Array(xe.length);for(let Be=0,Ve=xe.length;Be<Ve;Be++)He[Be]=parseFloat(xe[Be]);return He}function s(Ce){if(Ce.length===0)return[];const xe=Ce.trim().split(/\s+/),He=new Array(xe.length);for(let Be=0,Ve=xe.length;Be<Ve;Be++)He[Be]=parseInt(xe[Be]);return He}function o(Ce){return Ce.substring(1)}function l(){return"three_default_"+WA++}function c(Ce){return Object.keys(Ce).length===0}function u(Ce){return{unit:d(r(Ce,"unit")[0]),upAxis:f(r(Ce,"up_axis")[0])}}function d(Ce){return Ce!==void 0&&Ce.hasAttribute("meter")===!0?parseFloat(Ce.getAttribute("meter")):1}function f(Ce){return Ce!==void 0?Ce.textContent:"Y_UP"}function h(Ce,xe,He,Be){const Ve=r(Ce,xe)[0];if(Ve!==void 0){const Dt=r(Ve,He);for(let zt=0;zt<Dt.length;zt++)Be(Dt[zt])}}function p(Ce,xe){for(const He in Ce){const Be=Ce[He];Be.build=xe(Ce[He])}}function m(Ce,xe){return Ce.build!==void 0||(Ce.build=xe(Ce)),Ce.build}function g(Ce){const xe={sources:{},samplers:{},channels:{}};let He=!1;for(let Be=0,Ve=Ce.childNodes.length;Be<Ve;Be++){const Dt=Ce.childNodes[Be];if(Dt.nodeType!==1)continue;let zt;switch(Dt.nodeName){case"source":zt=Dt.getAttribute("id"),xe.sources[zt]=nt(Dt);break;case"sampler":zt=Dt.getAttribute("id"),xe.samplers[zt]=v(Dt);break;case"channel":zt=Dt.getAttribute("target"),xe.channels[zt]=y(Dt);break;case"animation":g(Dt),He=!0;break;default:console.log(Dt)}}He===!1&&(ir.animations[Ce.getAttribute("id")||Ps.generateUUID()]=xe)}function v(Ce){const xe={inputs:{}};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"input":const Dt=o(Ve.getAttribute("source")),zt=Ve.getAttribute("semantic");xe.inputs[zt]=Dt;break}}return xe}function y(Ce){const xe={};let Be=Ce.getAttribute("target").split("/");const Ve=Be.shift();let Dt=Be.shift();const zt=Dt.indexOf("(")!==-1,In=Dt.indexOf(".")!==-1;if(In)Be=Dt.split("."),Dt=Be.shift(),xe.member=Be.shift();else if(zt){const ot=Dt.split("(");Dt=ot.shift();for(let ln=0;ln<ot.length;ln++)ot[ln]=parseInt(ot[ln].replace(/\)/,""));xe.indices=ot}return xe.id=Ve,xe.sid=Dt,xe.arraySyntax=zt,xe.memberSyntax=In,xe.sampler=o(Ce.getAttribute("source")),xe}function b(Ce){const xe=[],He=Ce.channels,Be=Ce.samplers,Ve=Ce.sources;for(const Dt in He)if(He.hasOwnProperty(Dt)){const zt=He[Dt],In=Be[zt.sampler],ot=In.inputs.INPUT,ln=In.inputs.OUTPUT,Fn=Ve[ot],Jt=Ve[ln],Qn=w(zt,Fn,Jt);A(Qn,xe)}return xe}function _(Ce){return m(ir.animations[Ce],b)}function w(Ce,xe,He){const Be=ir.nodes[Ce.id],Ve=rr(Be.id),Dt=Be.transforms[Ce.sid],zt=Be.matrix.clone().transpose();let In,ot,ln,Fn,Jt,Qn;const Nn={};switch(Dt){case"matrix":for(ln=0,Fn=xe.array.length;ln<Fn;ln++)if(In=xe.array[ln],ot=ln*He.stride,Nn[In]===void 0&&(Nn[In]={}),Ce.arraySyntax===!0){const bi=He.array[ot],nn=Ce.indices[0]+4*Ce.indices[1];Nn[In][nn]=bi}else for(Jt=0,Qn=He.stride;Jt<Qn;Jt++)Nn[In][Jt]=He.array[ot+Jt];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Dt);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Dt);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Dt);break}const Jn=x(Nn,zt);return{name:Ve.uuid,keyframes:Jn}}function x(Ce,xe){const He=[];for(const Ve in Ce)He.push({time:parseFloat(Ve),value:Ce[Ve]});He.sort(Be);for(let Ve=0;Ve<16;Ve++)I(He,Ve,xe.elements[Ve]);return He;function Be(Ve,Dt){return Ve.time-Dt.time}}const M=new je,C=new je,T=new ss;function A(Ce,xe){const He=Ce.keyframes,Be=Ce.name,Ve=[],Dt=[],zt=[],In=[];for(let ot=0,ln=He.length;ot<ln;ot++){const Fn=He[ot],Jt=Fn.time,Qn=Fn.value;qe.fromArray(Qn).transpose(),qe.decompose(M,T,C),Ve.push(Jt),Dt.push(M.x,M.y,M.z),zt.push(T.x,T.y,T.z,T.w),In.push(C.x,C.y,C.z)}return Dt.length>0&&xe.push(new Ih(Be+".position",Ve,Dt)),zt.length>0&&xe.push(new Ld(Be+".quaternion",Ve,zt)),In.length>0&&xe.push(new Ih(Be+".scale",Ve,In)),xe}function I(Ce,xe,He){let Be,Ve=!0,Dt,zt;for(Dt=0,zt=Ce.length;Dt<zt;Dt++)Be=Ce[Dt],Be.value[xe]===void 0?Be.value[xe]=null:Ve=!1;if(Ve===!0)for(Dt=0,zt=Ce.length;Dt<zt;Dt++)Be=Ce[Dt],Be.value[xe]=He;else L(Ce,xe)}function L(Ce,xe){let He,Be;for(let Ve=0,Dt=Ce.length;Ve<Dt;Ve++){const zt=Ce[Ve];if(zt.value[xe]===null){if(He=k(Ce,Ve,xe),Be=N(Ce,Ve,xe),He===null){zt.value[xe]=Be.value[xe];continue}if(Be===null){zt.value[xe]=He.value[xe];continue}F(zt,He,Be,xe)}}}function k(Ce,xe,He){for(;xe>=0;){const Be=Ce[xe];if(Be.value[He]!==null)return Be;xe--}return null}function N(Ce,xe,He){for(;xe<Ce.length;){const Be=Ce[xe];if(Be.value[He]!==null)return Be;xe++}return null}function F(Ce,xe,He,Be){if(He.time-xe.time===0){Ce.value[Be]=xe.value[Be];return}Ce.value[Be]=(Ce.time-xe.time)*(He.value[Be]-xe.value[Be])/(He.time-xe.time)+xe.value[Be]}function D(Ce){const xe={name:Ce.getAttribute("id")||"default",start:parseFloat(Ce.getAttribute("start")||0),end:parseFloat(Ce.getAttribute("end")||0),animations:[]};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"instance_animation":xe.animations.push(o(Ve.getAttribute("url")));break}}ir.clips[Ce.getAttribute("id")]=xe}function H(Ce){const xe=[],He=Ce.name,Be=Ce.end-Ce.start||-1,Ve=Ce.animations;for(let Dt=0,zt=Ve.length;Dt<zt;Dt++){const In=_(Ve[Dt]);for(let ot=0,ln=In.length;ot<ln;ot++)xe.push(In[ot])}return new U0(He,Be,xe)}function z(Ce){return m(ir.clips[Ce],H)}function B(Ce){const xe={};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"skin":xe.id=o(Ve.getAttribute("source")),xe.skin=W(Ve);break;case"morph":xe.id=o(Ve.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}ir.controllers[Ce.getAttribute("id")]=xe}function W(Ce){const xe={sources:{}};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"bind_shape_matrix":xe.bindShapeMatrix=a(Ve.textContent);break;case"source":const Dt=Ve.getAttribute("id");xe.sources[Dt]=nt(Ve);break;case"joints":xe.joints=Z(Ve);break;case"vertex_weights":xe.vertexWeights=ee(Ve);break}}return xe}function Z(Ce){const xe={inputs:{}};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"input":const Dt=Ve.getAttribute("semantic"),zt=o(Ve.getAttribute("source"));xe.inputs[Dt]=zt;break}}return xe}function ee(Ce){const xe={inputs:{}};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"input":const Dt=Ve.getAttribute("semantic"),zt=o(Ve.getAttribute("source")),In=parseInt(Ve.getAttribute("offset"));xe.inputs[Dt]={id:zt,offset:In};break;case"vcount":xe.vcount=s(Ve.textContent);break;case"v":xe.v=s(Ve.textContent);break}}return xe}function J(Ce){const xe={id:Ce.id},He=ir.geometries[xe.id];return Ce.skin!==void 0&&(xe.skin=re(Ce.skin),He.sources.skinIndices=xe.skin.indices,He.sources.skinWeights=xe.skin.weights),xe}function re(Ce){const He={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},Be=Ce.sources,Ve=Ce.vertexWeights,Dt=Ve.vcount,zt=Ve.v,In=Ve.inputs.JOINT.offset,ot=Ve.inputs.WEIGHT.offset,ln=Ce.sources[Ce.joints.inputs.JOINT],Fn=Ce.sources[Ce.joints.inputs.INV_BIND_MATRIX],Jt=Be[Ve.inputs.WEIGHT.id].array;let Qn=0,Nn,Jn,Wn;for(Nn=0,Wn=Dt.length;Nn<Wn;Nn++){const nn=Dt[Nn],Sr=[];for(Jn=0;Jn<nn;Jn++){const kr=zt[Qn+In],oi=zt[Qn+ot],zi=Jt[oi];Sr.push({index:kr,weight:zi}),Qn+=2}for(Sr.sort(bi),Jn=0;Jn<4;Jn++){const kr=Sr[Jn];kr!==void 0?(He.indices.array.push(kr.index),He.weights.array.push(kr.weight)):(He.indices.array.push(0),He.weights.array.push(0))}}for(Ce.bindShapeMatrix?He.bindMatrix=new Un().fromArray(Ce.bindShapeMatrix).transpose():He.bindMatrix=new Un().identity(),Nn=0,Wn=ln.array.length;Nn<Wn;Nn++){const nn=ln.array[Nn],Sr=new Un().fromArray(Fn.array,Nn*Fn.stride).transpose();He.joints.push({name:nn,boneInverse:Sr})}return He;function bi(nn,Sr){return Sr.weight-nn.weight}}function fe(Ce){return m(ir.controllers[Ce],J)}function de(Ce){const xe={init_from:r(Ce,"init_from")[0].textContent};ir.images[Ce.getAttribute("id")]=xe}function me(Ce){return Ce.build!==void 0?Ce.build:Ce.init_from}function Re(Ce){const xe=ir.images[Ce];return xe!==void 0?m(xe,me):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",Ce),null)}function De(Ce){const xe={};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"profile_COMMON":xe.profile=Ge(Ve);break}}ir.effects[Ce.getAttribute("id")]=xe}function Ge(Ce){const xe={surfaces:{},samplers:{}};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"newparam":We(Ve,xe);break;case"technique":xe.technique=ie(Ve);break;case"extra":xe.extra=ke(Ve);break}}return xe}function We(Ce,xe){const He=Ce.getAttribute("sid");for(let Be=0,Ve=Ce.childNodes.length;Be<Ve;Be++){const Dt=Ce.childNodes[Be];if(Dt.nodeType===1)switch(Dt.nodeName){case"surface":xe.surfaces[He]=K(Dt);break;case"sampler2D":xe.samplers[He]=ue(Dt);break}}}function K(Ce){const xe={};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"init_from":xe.init_from=Ve.textContent;break}}return xe}function ue(Ce){const xe={};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"source":xe.source=Ve.textContent;break}}return xe}function ie(Ce){const xe={};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"constant":case"lambert":case"blinn":case"phong":xe.type=Ve.nodeName,xe.parameters=$e(Ve);break;case"extra":xe.extra=ke(Ve);break}}return xe}function $e(Ce){const xe={};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":xe[Ve.nodeName]=Ne(Ve);break;case"transparent":xe[Ve.nodeName]={opaque:Ve.hasAttribute("opaque")?Ve.getAttribute("opaque"):"A_ONE",data:Ne(Ve)};break}}return xe}function Ne(Ce){const xe={};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"color":xe[Ve.nodeName]=a(Ve.textContent);break;case"float":xe[Ve.nodeName]=parseFloat(Ve.textContent);break;case"texture":xe[Ve.nodeName]={id:Ve.getAttribute("texture"),extra:Ye(Ve)};break}}return xe}function Ye(Ce){const xe={technique:{}};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"extra":ce(Ve,xe);break}}return xe}function ce(Ce,xe){for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"technique":he(Ve,xe);break}}}function he(Ce,xe){for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":xe.technique[Ve.nodeName]=parseFloat(Ve.textContent);break;case"wrapU":case"wrapV":Ve.textContent.toUpperCase()==="TRUE"?xe.technique[Ve.nodeName]=1:Ve.textContent.toUpperCase()==="FALSE"?xe.technique[Ve.nodeName]=0:xe.technique[Ve.nodeName]=parseInt(Ve.textContent);break;case"bump":xe[Ve.nodeName]=V(Ve);break}}}function ke(Ce){const xe={};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"technique":xe.technique=oe(Ve);break}}return xe}function oe(Ce){const xe={};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"double_sided":xe[Ve.nodeName]=parseInt(Ve.textContent);break;case"bump":xe[Ve.nodeName]=V(Ve);break}}return xe}function V(Ce){const xe={};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"texture":xe[Ve.nodeName]={id:Ve.getAttribute("texture"),texcoord:Ve.getAttribute("texcoord"),extra:Ye(Ve)};break}}return xe}function Y(Ce){return Ce}function Q(Ce){return m(ir.effects[Ce],Y)}function we(Ce){const xe={name:Ce.getAttribute("name")};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"instance_effect":xe.url=o(Ve.getAttribute("url"));break}}ir.materials[Ce.getAttribute("id")]=xe}function Ue(Ce){let xe,He=Ce.slice((Ce.lastIndexOf(".")-1>>>0)+2);switch(He=He.toLowerCase(),He){case"tga":xe=la;break;default:xe=Qa}return xe}function ct(Ce){const xe=Q(Ce.url),He=xe.profile.technique;let Be;switch(He.type){case"phong":case"blinn":Be=new wd;break;case"lambert":Be=new aO;break;default:Be=new bc;break}Be.name=Ce.name||"";function Ve(ot,ln=null){const Fn=xe.profile.samplers[ot.id];let Jt=null;if(Fn!==void 0){const Qn=xe.profile.surfaces[Fn.source];Jt=Re(Qn.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),Jt=Re(ot.id);if(Jt!==null){const Qn=Ue(Jt);if(Qn!==void 0){const Nn=Qn.load(Jt),Jn=ot.extra;if(Jn!==void 0&&Jn.technique!==void 0&&c(Jn.technique)===!1){const Wn=Jn.technique;Nn.wrapS=Wn.wrapU?vo:ka,Nn.wrapT=Wn.wrapV?vo:ka,Nn.offset.set(Wn.offsetU||0,Wn.offsetV||0),Nn.repeat.set(Wn.repeatU||1,Wn.repeatV||1)}else Nn.wrapS=vo,Nn.wrapT=vo;return ln!==null&&(Nn.encoding=ln),Nn}else return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",Jt),null}else return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",ot.id),null}const Dt=He.parameters;for(const ot in Dt){const ln=Dt[ot];switch(ot){case"diffuse":ln.color&&Be.color.fromArray(ln.color),ln.texture&&(Be.map=Ve(ln.texture,Ir));break;case"specular":ln.color&&Be.specular&&Be.specular.fromArray(ln.color),ln.texture&&(Be.specularMap=Ve(ln.texture));break;case"bump":ln.texture&&(Be.normalMap=Ve(ln.texture));break;case"ambient":ln.texture&&(Be.lightMap=Ve(ln.texture,Ir));break;case"shininess":ln.float&&Be.shininess&&(Be.shininess=ln.float);break;case"emission":ln.color&&Be.emissive&&Be.emissive.fromArray(ln.color),ln.texture&&(Be.emissiveMap=Ve(ln.texture,Ir));break}}Be.color.convertSRGBToLinear(),Be.specular&&Be.specular.convertSRGBToLinear(),Be.emissive&&Be.emissive.convertSRGBToLinear();let zt=Dt.transparent,In=Dt.transparency;if(In===void 0&&zt&&(In={float:1}),zt===void 0&&In&&(zt={opaque:"A_ONE",data:{color:[1,1,1,1]}}),zt&&In)if(zt.data.texture)Be.transparent=!0;else{const ot=zt.data.color;switch(zt.opaque){case"A_ONE":Be.opacity=ot[3]*In.float;break;case"RGB_ZERO":Be.opacity=1-ot[0]*In.float;break;case"A_ZERO":Be.opacity=1-ot[3]*In.float;break;case"RGB_ONE":Be.opacity=ot[0]*In.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',zt.opaque)}Be.opacity<1&&(Be.transparent=!0)}if(He.extra!==void 0&&He.extra.technique!==void 0){const ot=He.extra.technique;for(const ln in ot){const Fn=ot[ln];switch(ln){case"double_sided":Be.side=Fn===1?Mh:Ch;break;case"bump":Be.normalMap=Ve(Fn.texture),Be.normalScale=new Wt(1,1);break}}}return Be}function pt(Ce){return m(ir.materials[Ce],ct)}function Ee(Ce){const xe={name:Ce.getAttribute("name")};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"optics":xe.optics=ft(Ve);break}}ir.cameras[Ce.getAttribute("id")]=xe}function ft(Ce){for(let xe=0;xe<Ce.childNodes.length;xe++){const He=Ce.childNodes[xe];switch(He.nodeName){case"technique_common":return st(He)}}return{}}function st(Ce){const xe={};for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];switch(Be.nodeName){case"perspective":case"orthographic":xe.technique=Be.nodeName,xe.parameters=G(Be);break}}return xe}function G(Ce){const xe={};for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];switch(Be.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":xe[Be.nodeName]=parseFloat(Be.textContent);break}}return xe}function ye(Ce){let xe;switch(Ce.optics.technique){case"perspective":xe=new La(Ce.optics.parameters.yfov,Ce.optics.parameters.aspect_ratio,Ce.optics.parameters.znear,Ce.optics.parameters.zfar);break;case"orthographic":let He=Ce.optics.parameters.ymag,Be=Ce.optics.parameters.xmag;const Ve=Ce.optics.parameters.aspect_ratio;Be=Be===void 0?He*Ve:Be,He=He===void 0?Be/Ve:He,Be*=.5,He*=.5,xe=new Ey(-Be,Be,He,-He,Ce.optics.parameters.znear,Ce.optics.parameters.zfar);break;default:xe=new La;break}return xe.name=Ce.name||"",xe}function ve(Ce){const xe=ir.cameras[Ce];return xe!==void 0?m(xe,ye):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",Ce),null)}function Le(Ce){let xe={};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"technique_common":xe=be(Ve);break}}ir.lights[Ce.getAttribute("id")]=xe}function be(Ce){const xe={};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"directional":case"point":case"spot":case"ambient":xe.technique=Ve.nodeName,xe.parameters=Te(Ve)}}return xe}function Te(Ce){const xe={};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"color":const Dt=a(Ve.textContent);xe.color=new bn().fromArray(Dt).convertSRGBToLinear();break;case"falloff_angle":xe.falloffAngle=parseFloat(Ve.textContent);break;case"quadratic_attenuation":const zt=parseFloat(Ve.textContent);xe.distance=zt?Math.sqrt(1/zt):0;break}}return xe}function ht(Ce){let xe;switch(Ce.technique){case"directional":xe=new GS;break;case"point":xe=new H0;break;case"spot":xe=new FA;break;case"ambient":xe=new zA;break}return Ce.parameters.color&&xe.color.copy(Ce.parameters.color),Ce.parameters.distance&&(xe.distance=Ce.parameters.distance),xe}function Ie(Ce){const xe=ir.lights[Ce];return xe!==void 0?m(xe,ht):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",Ce),null)}function bt(Ce){const xe={name:Ce.getAttribute("name"),sources:{},vertices:{},primitives:[]},He=r(Ce,"mesh")[0];if(He!==void 0){for(let Be=0;Be<He.childNodes.length;Be++){const Ve=He.childNodes[Be];if(Ve.nodeType!==1)continue;const Dt=Ve.getAttribute("id");switch(Ve.nodeName){case"source":xe.sources[Dt]=nt(Ve);break;case"vertices":xe.vertices=vt(Ve);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",Ve.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":xe.primitives.push(kt(Ve));break;default:console.log(Ve)}}ir.geometries[Ce.getAttribute("id")]=xe}}function nt(Ce){const xe={array:[],stride:3};for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];if(Be.nodeType===1)switch(Be.nodeName){case"float_array":xe.array=a(Be.textContent);break;case"Name_array":xe.array=i(Be.textContent);break;case"technique_common":const Ve=r(Be,"accessor")[0];Ve!==void 0&&(xe.stride=parseInt(Ve.getAttribute("stride")));break}}return xe}function vt(Ce){const xe={};for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];Be.nodeType===1&&(xe[Be.getAttribute("semantic")]=o(Be.getAttribute("source")))}return xe}function kt(Ce){const xe={type:Ce.nodeName,material:Ce.getAttribute("material"),count:parseInt(Ce.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let He=0,Be=Ce.childNodes.length;He<Be;He++){const Ve=Ce.childNodes[He];if(Ve.nodeType===1)switch(Ve.nodeName){case"input":const Dt=o(Ve.getAttribute("source")),zt=Ve.getAttribute("semantic"),In=parseInt(Ve.getAttribute("offset")),ot=parseInt(Ve.getAttribute("set")),ln=ot>0?zt+ot:zt;xe.inputs[ln]={id:Dt,offset:In},xe.stride=Math.max(xe.stride,In+1),zt==="TEXCOORD"&&(xe.hasUV=!0);break;case"vcount":xe.vcount=s(Ve.textContent);break;case"p":xe.p=s(Ve.textContent);break}}return xe}function Tt(Ce){const xe={};for(let He=0;He<Ce.length;He++){const Be=Ce[He];xe[Be.type]===void 0&&(xe[Be.type]=[]),xe[Be.type].push(Be)}return xe}function an(Ce){let xe=0;for(let He=0,Be=Ce.length;He<Be;He++)Ce[He].hasUV===!0&&xe++;xe>0&&xe<Ce.length&&(Ce.uvsNeedsFix=!0)}function _n(Ce){const xe={},He=Ce.sources,Be=Ce.vertices,Ve=Ce.primitives;if(Ve.length===0)return{};const Dt=Tt(Ve);for(const zt in Dt){const In=Dt[zt];an(In),xe[zt]=or(In,He,Be)}return xe}function or(Ce,xe,He){const Be={},Ve={array:[],stride:0},Dt={array:[],stride:0},zt={array:[],stride:0},In={array:[],stride:0},ot={array:[],stride:0},ln={array:[],stride:4},Fn={array:[],stride:4},Jt=new Hr,Qn=[];let Nn=0;for(let Jn=0;Jn<Ce.length;Jn++){const Wn=Ce[Jn],bi=Wn.inputs;let nn=0;switch(Wn.type){case"lines":case"linestrips":nn=Wn.count*2;break;case"triangles":nn=Wn.count*3;break;case"polylist":for(let Sr=0;Sr<Wn.count;Sr++){const kr=Wn.vcount[Sr];switch(kr){case 3:nn+=3;break;case 4:nn+=6;break;default:nn+=(kr-2)*3;break}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",Wn.type)}Jt.addGroup(Nn,nn,Jn),Nn+=nn,Wn.material&&Qn.push(Wn.material);for(const Sr in bi){const kr=bi[Sr];switch(Sr){case"VERTEX":for(const oi in He){const zi=He[oi];switch(oi){case"POSITION":const Xd=Ve.array.length;if(Ln(Wn,xe[zi],kr.offset,Ve.array),Ve.stride=xe[zi].stride,xe.skinWeights&&xe.skinIndices&&(Ln(Wn,xe.skinIndices,kr.offset,ln.array),Ln(Wn,xe.skinWeights,kr.offset,Fn.array)),Wn.hasUV===!1&&Ce.uvsNeedsFix===!0){const qA=(Ve.array.length-Xd)/Ve.stride;for(let XS=0;XS<qA;XS++)zt.array.push(0,0)}break;case"NORMAL":Ln(Wn,xe[zi],kr.offset,Dt.array),Dt.stride=xe[zi].stride;break;case"COLOR":Ln(Wn,xe[zi],kr.offset,ot.array),ot.stride=xe[zi].stride;break;case"TEXCOORD":Ln(Wn,xe[zi],kr.offset,zt.array),zt.stride=xe[zi].stride;break;case"TEXCOORD1":Ln(Wn,xe[zi],kr.offset,In.array),zt.stride=xe[zi].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',oi)}}break;case"NORMAL":Ln(Wn,xe[kr.id],kr.offset,Dt.array),Dt.stride=xe[kr.id].stride;break;case"COLOR":Ln(Wn,xe[kr.id],kr.offset,ot.array,!0),ot.stride=xe[kr.id].stride;break;case"TEXCOORD":Ln(Wn,xe[kr.id],kr.offset,zt.array),zt.stride=xe[kr.id].stride;break;case"TEXCOORD1":Ln(Wn,xe[kr.id],kr.offset,In.array),In.stride=xe[kr.id].stride;break}}}return Ve.array.length>0&&Jt.setAttribute("position",new En(Ve.array,Ve.stride)),Dt.array.length>0&&Jt.setAttribute("normal",new En(Dt.array,Dt.stride)),ot.array.length>0&&Jt.setAttribute("color",new En(ot.array,ot.stride)),zt.array.length>0&&Jt.setAttribute("uv",new En(zt.array,zt.stride)),In.array.length>0&&Jt.setAttribute("uv2",new En(In.array,In.stride)),ln.array.length>0&&Jt.setAttribute("skinIndex",new En(ln.array,ln.stride)),Fn.array.length>0&&Jt.setAttribute("skinWeight",new En(Fn.array,Fn.stride)),Be.data=Jt,Be.type=Ce[0].type,Be.materialKeys=Qn,Be}function Ln(Ce,xe,He,Be,Ve=!1){const Dt=Ce.p,zt=Ce.stride,In=Ce.vcount;function ot(Jt){let Qn=Dt[Jt+He]*Fn;const Nn=Qn+Fn;for(;Qn<Nn;Qn++)Be.push(ln[Qn]);if(Ve){const Jn=Be.length-Fn-1;Wi.setRGB(Be[Jn+0],Be[Jn+1],Be[Jn+2]).convertSRGBToLinear(),Be[Jn+0]=Wi.r,Be[Jn+1]=Wi.g,Be[Jn+2]=Wi.b}}const ln=xe.array,Fn=xe.stride;if(Ce.vcount!==void 0){let Jt=0;for(let Qn=0,Nn=In.length;Qn<Nn;Qn++){const Jn=In[Qn];if(Jn===4){const Wn=Jt+zt*0,bi=Jt+zt*1,nn=Jt+zt*2,Sr=Jt+zt*3;ot(Wn),ot(bi),ot(Sr),ot(bi),ot(nn),ot(Sr)}else if(Jn===3){const Wn=Jt+zt*0,bi=Jt+zt*1,nn=Jt+zt*2;ot(Wn),ot(bi),ot(nn)}else if(Jn>4)for(let Wn=1,bi=Jn-2;Wn<=bi;Wn++){const nn=Jt+zt*0,Sr=Jt+zt*Wn,kr=Jt+zt*(Wn+1);ot(nn),ot(Sr),ot(kr)}Jt+=zt*Jn}}else for(let Jt=0,Qn=Dt.length;Jt<Qn;Jt+=zt)ot(Jt)}function Kr(Ce){return m(ir.geometries[Ce],_n)}function jn(Ce){const xe={name:Ce.getAttribute("name")||"",joints:{},links:[]};for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];if(Be.nodeType===1)switch(Be.nodeName){case"technique_common":Ut(Be,xe);break}}ir.kinematicsModels[Ce.getAttribute("id")]=xe}function X(Ce){return Ce.build!==void 0?Ce.build:Ce}function se(Ce){return m(ir.kinematicsModels[Ce],X)}function Ut(Ce,xe){for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];if(Be.nodeType===1)switch(Be.nodeName){case"joint":xe.joints[Be.getAttribute("sid")]=Ae(Be);break;case"link":xe.links.push(xt(Be));break}}}function Ae(Ce){let xe;for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];if(Be.nodeType===1)switch(Be.nodeName){case"prismatic":case"revolute":xe=le(Be);break}}return xe}function le(Ce){const xe={sid:Ce.getAttribute("sid"),name:Ce.getAttribute("name")||"",axis:new je,limits:{min:0,max:0},type:Ce.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];if(Be.nodeType===1)switch(Be.nodeName){case"axis":const Ve=a(Be.textContent);xe.axis.fromArray(Ve);break;case"limits":const Dt=Be.getElementsByTagName("max")[0],zt=Be.getElementsByTagName("min")[0];xe.limits.max=parseFloat(Dt.textContent),xe.limits.min=parseFloat(zt.textContent);break}}return xe.limits.min>=xe.limits.max&&(xe.static=!0),xe.middlePosition=(xe.limits.min+xe.limits.max)/2,xe}function xt(Ce){const xe={sid:Ce.getAttribute("sid"),name:Ce.getAttribute("name")||"",attachments:[],transforms:[]};for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];if(Be.nodeType===1)switch(Be.nodeName){case"attachment_full":xe.attachments.push(mt(Be));break;case"matrix":case"translate":case"rotate":xe.transforms.push(At(Be));break}}return xe}function mt(Ce){const xe={joint:Ce.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];if(Be.nodeType===1)switch(Be.nodeName){case"link":xe.links.push(xt(Be));break;case"matrix":case"translate":case"rotate":xe.transforms.push(At(Be));break}}return xe}function At(Ce){const xe={type:Ce.nodeName},He=a(Ce.textContent);switch(xe.type){case"matrix":xe.obj=new Un,xe.obj.fromArray(He).transpose();break;case"translate":xe.obj=new je,xe.obj.fromArray(He);break;case"rotate":xe.obj=new je,xe.obj.fromArray(He),xe.angle=Ps.degToRad(He[3]);break}return xe}function et(Ce){const xe={name:Ce.getAttribute("name")||"",rigidBodies:{}};for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];if(Be.nodeType===1)switch(Be.nodeName){case"rigid_body":xe.rigidBodies[Be.getAttribute("name")]={},wt(Be,xe.rigidBodies[Be.getAttribute("name")]);break}}ir.physicsModels[Ce.getAttribute("id")]=xe}function wt(Ce,xe){for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];if(Be.nodeType===1)switch(Be.nodeName){case"technique_common":Xt(Be,xe);break}}}function Xt(Ce,xe){for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];if(Be.nodeType===1)switch(Be.nodeName){case"inertia":xe.inertia=a(Be.textContent);break;case"mass":xe.mass=a(Be.textContent)[0];break}}}function yn(Ce){const xe={bindJointAxis:[]};for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];if(Be.nodeType===1)switch(Be.nodeName){case"bind_joint_axis":xe.bindJointAxis.push(On(Be));break}}ir.kinematicsScenes[o(Ce.getAttribute("url"))]=xe}function On(Ce){const xe={target:Ce.getAttribute("target").split("/").pop()};for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];if(Be.nodeType===1)switch(Be.nodeName){case"axis":const Ve=Be.getElementsByTagName("param")[0];xe.axis=Ve.textContent;const Dt=xe.axis.split("inst_").pop().split("axis")[0];xe.jointIndex=Dt.substring(0,Dt.length-1);break}}return xe}function Ze(Ce){return Ce.build!==void 0?Ce.build:Ce}function Yn(Ce){return m(ir.kinematicsScenes[Ce],Ze)}function at(){const Ce=Object.keys(ir.kinematicsModels)[0],xe=Object.keys(ir.kinematicsScenes)[0],He=Object.keys(ir.visualScenes)[0];if(Ce===void 0||xe===void 0)return;const Be=se(Ce),Ve=Yn(xe),Dt=Gn(He),zt=Ve.bindJointAxis,In={};for(let Fn=0,Jt=zt.length;Fn<Jt;Fn++){const Qn=zt[Fn],Nn=hr.querySelector('[sid="'+Qn.target+'"]');if(Nn){const Jn=Nn.parentElement;ot(Qn.jointIndex,Jn)}}function ot(Fn,Jt){const Qn=Jt.getAttribute("name"),Nn=Be.joints[Fn];Dt.traverse(function(Jn){Jn.name===Qn&&(In[Fn]={object:Jn,transforms:Oe(Jt),joint:Nn,position:Nn.zeroPosition})})}const ln=new Un;Ro={joints:Be&&Be.joints,getJointValue:function(Fn){const Jt=In[Fn];if(Jt)return Jt.position;console.warn("THREE.ColladaLoader: Joint "+Fn+" doesn't exist.")},setJointValue:function(Fn,Jt){const Qn=In[Fn];if(Qn){const Nn=Qn.joint;if(Jt>Nn.limits.max||Jt<Nn.limits.min)console.warn("THREE.ColladaLoader: Joint "+Fn+" value "+Jt+" outside of limits (min: "+Nn.limits.min+", max: "+Nn.limits.max+").");else if(Nn.static)console.warn("THREE.ColladaLoader: Joint "+Fn+" is static.");else{const Jn=Qn.object,Wn=Nn.axis,bi=Qn.transforms;qe.identity();for(let nn=0;nn<bi.length;nn++){const Sr=bi[nn];if(Sr.sid&&Sr.sid.indexOf(Fn)!==-1)switch(Nn.type){case"revolute":qe.multiply(ln.makeRotationAxis(Wn,Ps.degToRad(Jt)));break;case"prismatic":qe.multiply(ln.makeTranslation(Wn.x*Jt,Wn.y*Jt,Wn.z*Jt));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+Nn.type);break}else switch(Sr.type){case"matrix":qe.multiply(Sr.obj);break;case"translate":qe.multiply(ln.makeTranslation(Sr.obj.x,Sr.obj.y,Sr.obj.z));break;case"scale":qe.scale(Sr.obj);break;case"rotate":qe.multiply(ln.makeRotationAxis(Sr.obj,Sr.angle));break}}Jn.matrix.copy(qe),Jn.matrix.decompose(Jn.position,Jn.quaternion,Jn.scale),In[Fn].position=Jt}}else console.log("THREE.ColladaLoader: "+Fn+" does not exist.")}}}function Oe(Ce){const xe=[],He=hr.querySelector('[id="'+Ce.id+'"]');for(let Be=0;Be<He.childNodes.length;Be++){const Ve=He.childNodes[Be];if(Ve.nodeType!==1)continue;let Dt,zt;switch(Ve.nodeName){case"matrix":Dt=a(Ve.textContent);const In=new Un().fromArray(Dt).transpose();xe.push({sid:Ve.getAttribute("sid"),type:Ve.nodeName,obj:In});break;case"translate":case"scale":Dt=a(Ve.textContent),zt=new je().fromArray(Dt),xe.push({sid:Ve.getAttribute("sid"),type:Ve.nodeName,obj:zt});break;case"rotate":Dt=a(Ve.textContent),zt=new je().fromArray(Dt);const ot=Ps.degToRad(Dt[3]);xe.push({sid:Ve.getAttribute("sid"),type:Ve.nodeName,obj:zt,angle:ot});break}}return xe}function gt(Ce){const xe=Ce.getElementsByTagName("node");for(let He=0;He<xe.length;He++){const Be=xe[He];Be.hasAttribute("id")===!1&&Be.setAttribute("id",l())}}const qe=new Un,lt=new je;function it(Ce){const xe={name:Ce.getAttribute("name")||"",type:Ce.getAttribute("type"),id:Ce.getAttribute("id"),sid:Ce.getAttribute("sid"),matrix:new Un,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];if(Be.nodeType!==1)continue;let Ve;switch(Be.nodeName){case"node":xe.nodes.push(Be.getAttribute("id")),it(Be);break;case"instance_camera":xe.instanceCameras.push(o(Be.getAttribute("url")));break;case"instance_controller":xe.instanceControllers.push(Ct(Be));break;case"instance_light":xe.instanceLights.push(o(Be.getAttribute("url")));break;case"instance_geometry":xe.instanceGeometries.push(Ct(Be));break;case"instance_node":xe.instanceNodes.push(o(Be.getAttribute("url")));break;case"matrix":Ve=a(Be.textContent),xe.matrix.multiply(qe.fromArray(Ve).transpose()),xe.transforms[Be.getAttribute("sid")]=Be.nodeName;break;case"translate":Ve=a(Be.textContent),lt.fromArray(Ve),xe.matrix.multiply(qe.makeTranslation(lt.x,lt.y,lt.z)),xe.transforms[Be.getAttribute("sid")]=Be.nodeName;break;case"rotate":Ve=a(Be.textContent);const Dt=Ps.degToRad(Ve[3]);xe.matrix.multiply(qe.makeRotationAxis(lt.fromArray(Ve),Dt)),xe.transforms[Be.getAttribute("sid")]=Be.nodeName;break;case"scale":Ve=a(Be.textContent),xe.matrix.scale(lt.fromArray(Ve)),xe.transforms[Be.getAttribute("sid")]=Be.nodeName;break;case"extra":break;default:console.log(Be)}}return An(xe.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",xe.id):ir.nodes[xe.id]=xe,xe}function Ct(Ce){const xe={id:o(Ce.getAttribute("url")),materials:{},skeletons:[]};for(let He=0;He<Ce.childNodes.length;He++){const Be=Ce.childNodes[He];switch(Be.nodeName){case"bind_material":const Ve=Be.getElementsByTagName("instance_material");for(let Dt=0;Dt<Ve.length;Dt++){const zt=Ve[Dt],In=zt.getAttribute("symbol"),ot=zt.getAttribute("target");xe.materials[In]=o(ot)}break;case"skeleton":xe.skeletons.push(o(Be.textContent));break}}return xe}function tn(Ce,xe){const He=[],Be=[];let Ve,Dt,zt;for(Ve=0;Ve<Ce.length;Ve++){const ln=Ce[Ve];let Fn;if(An(ln))Fn=rr(ln),Qt(Fn,xe,He);else if(yr(ln)){const Qn=ir.visualScenes[ln].children;for(let Nn=0;Nn<Qn.length;Nn++){const Jn=Qn[Nn];if(Jn.type==="JOINT"){const Wn=rr(Jn.id);Qt(Wn,xe,He)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",ln)}for(Ve=0;Ve<xe.length;Ve++)for(Dt=0;Dt<He.length;Dt++)if(zt=He[Dt],zt.bone.name===xe[Ve].name){Be[Ve]=zt,zt.processed=!0;break}for(Ve=0;Ve<He.length;Ve++)zt=He[Ve],zt.processed===!1&&(Be.push(zt),zt.processed=!0);const In=[],ot=[];for(Ve=0;Ve<Be.length;Ve++)zt=Be[Ve],In.push(zt.bone),ot.push(zt.boneInverse);return new Ry(In,ot)}function Qt(Ce,xe,He){Ce.traverse(function(Be){if(Be.isBone===!0){let Ve;for(let Dt=0;Dt<xe.length;Dt++){const zt=xe[Dt];if(zt.name===Be.name){Ve=zt.boneInverse;break}}Ve===void 0&&(Ve=new Un),He.push({bone:Be,boneInverse:Ve,processed:!1})}})}function mn(Ce){const xe=[],He=Ce.matrix,Be=Ce.nodes,Ve=Ce.type,Dt=Ce.instanceCameras,zt=Ce.instanceControllers,In=Ce.instanceLights,ot=Ce.instanceGeometries,ln=Ce.instanceNodes;for(let Jt=0,Qn=Be.length;Jt<Qn;Jt++)xe.push(rr(Be[Jt]));for(let Jt=0,Qn=Dt.length;Jt<Qn;Jt++){const Nn=ve(Dt[Jt]);Nn!==null&&xe.push(Nn.clone())}for(let Jt=0,Qn=zt.length;Jt<Qn;Jt++){const Nn=zt[Jt],Jn=fe(Nn.id),Wn=Kr(Jn.id),bi=Mn(Wn,Nn.materials),nn=Nn.skeletons,Sr=Jn.skin.joints,kr=tn(nn,Sr);for(let oi=0,zi=bi.length;oi<zi;oi++){const Xd=bi[oi];Xd.isSkinnedMesh&&(Xd.bind(kr,Jn.skin.bindMatrix),Xd.normalizeSkinWeights()),xe.push(Xd)}}for(let Jt=0,Qn=In.length;Jt<Qn;Jt++){const Nn=Ie(In[Jt]);Nn!==null&&xe.push(Nn.clone())}for(let Jt=0,Qn=ot.length;Jt<Qn;Jt++){const Nn=ot[Jt],Jn=Kr(Nn.id),Wn=Mn(Jn,Nn.materials);for(let bi=0,nn=Wn.length;bi<nn;bi++)xe.push(Wn[bi])}for(let Jt=0,Qn=ln.length;Jt<Qn;Jt++)xe.push(rr(ln[Jt]).clone());let Fn;if(Be.length===0&&xe.length===1)Fn=xe[0];else{Fn=Ve==="JOINT"?new qg:new go;for(let Jt=0;Jt<xe.length;Jt++)Fn.add(xe[Jt])}return Fn.name=Ve==="JOINT"?Ce.sid:Ce.name,Fn.matrix.copy(He),Fn.matrix.decompose(Fn.position,Fn.quaternion,Fn.scale),Fn}const $n=new bc({color:16711935});function rn(Ce,xe){const He=[];for(let Be=0,Ve=Ce.length;Be<Ve;Be++){const Dt=xe[Ce[Be]];Dt===void 0?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",Ce[Be]),He.push($n)):He.push(pt(Dt))}return He}function Mn(Ce,xe){const He=[];for(const Be in Ce){const Ve=Ce[Be],Dt=rn(Ve.materialKeys,xe);Dt.length===0&&(Be==="lines"||Be==="linestrips"?Dt.push(new Cc):Dt.push(new wd));const zt=Ve.data.attributes.skinIndex!==void 0,In=Dt.length===1?Dt[0]:Dt;let ot;switch(Be){case"lines":ot=new z0(Ve.data,In);break;case"linestrips":ot=new Py(Ve.data,In);break;case"triangles":case"polylist":zt?ot=new NA(Ve.data,In):ot=new Oa(Ve.data,In);break}He.push(ot)}return He}function An(Ce){return ir.nodes[Ce]!==void 0}function rr(Ce){return m(ir.nodes[Ce],mn)}function Wr(Ce){const xe={name:Ce.getAttribute("name"),children:[]};gt(Ce);const He=r(Ce,"node");for(let Be=0;Be<He.length;Be++)xe.children.push(it(He[Be]));ir.visualScenes[Ce.getAttribute("id")]=xe}function gr(Ce){const xe=new go;xe.name=Ce.name;const He=Ce.children;for(let Be=0;Be<He.length;Be++){const Ve=He[Be];xe.add(rr(Ve.id))}return xe}function yr(Ce){return ir.visualScenes[Ce]!==void 0}function Gn(Ce){return m(ir.visualScenes[Ce],gr)}function Mi(Ce){const xe=r(Ce,"instance_visual_scene")[0];return Gn(o(xe.getAttribute("url")))}function qr(){const Ce=ir.clips;if(c(Ce)===!0){if(c(ir.animations)===!1){const xe=[];for(const He in ir.animations){const Be=_(He);for(let Ve=0,Dt=Be.length;Ve<Dt;Ve++)xe.push(Be[Ve])}qi.push(new U0("default",-1,xe))}}else for(const xe in Ce)qi.push(z(xe))}function Fs(Ce){let xe="";const He=[Ce];for(;He.length;){const Be=He.shift();Be.nodeType===Node.TEXT_NODE?xe+=Be.textContent:(xe+=`
`,He.push.apply(He,Be.childNodes))}return xe.trim()}if(e.length===0)return{scene:new Z8};const ao=new DOMParser().parseFromString(e,"application/xml"),hr=r(ao,"COLLADA")[0],Zl=ao.getElementsByTagName("parsererror")[0];if(Zl!==void 0){const Ce=r(Zl,"div")[0];let xe;return Ce?xe=Ce.textContent:xe=Fs(Zl),console.error(`THREE.ColladaLoader: Failed to parse collada file.
`,xe),null}const yi=hr.getAttribute("version");console.log("THREE.ColladaLoader: File version",yi);const Za=u(r(hr,"asset")[0]),Qa=new Xg(this.manager);Qa.setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);let la;xL&&(la=new xL(this.manager),la.setPath(this.resourcePath||t));const Wi=new bn,qi=[];let Ro={},WA=0;const ir={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};h(hr,"library_animations","animation",g),h(hr,"library_animation_clips","animation_clip",D),h(hr,"library_controllers","controller",B),h(hr,"library_images","image",de),h(hr,"library_effects","effect",De),h(hr,"library_materials","material",we),h(hr,"library_cameras","camera",Ee),h(hr,"library_lights","light",Le),h(hr,"library_geometries","geometry",bt),h(hr,"library_nodes","node",it),h(hr,"library_visual_scenes","visual_scene",Wr),h(hr,"library_kinematics_models","kinematics_model",jn),h(hr,"library_physics_models","physics_model",et),h(hr,"scene","instance_kinematics_scene",yn),p(ir.animations,b),p(ir.clips,H),p(ir.controllers,J),p(ir.images,me),p(ir.effects,Y),p(ir.materials,ct),p(ir.cameras,ye),p(ir.lights,ht),p(ir.geometries,_n),p(ir.visualScenes,gr),qr(),at();const Hh=Mi(r(hr,"scene")[0]);return Hh.animations=qi,Za.upAxis==="Z_UP"&&(console.warn("THREE.ColladaLoader: You are loading an asset with a Z-UP coordinate system. The loader just rotates the asset to transform it into Y-UP. The vertex data are not converted, see #24289."),Hh.quaternion.setFromEuler(new vd(-Math.PI/2,0,0))),Hh.scale.multiplyScalar(Za.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),qi},kinematics:Ro,library:ir,scene:Hh}}}class snt extends ms{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new dnt(t)}),this.register(function(t){return new ynt(t)}),this.register(function(t){return new bnt(t)}),this.register(function(t){return new hnt(t)}),this.register(function(t){return new pnt(t)}),this.register(function(t){return new mnt(t)}),this.register(function(t){return new vnt(t)}),this.register(function(t){return new unt(t)}),this.register(function(t){return new gnt(t)}),this.register(function(t){return new fnt(t)}),this.register(function(t){return new lnt(t)}),this.register(function(t){return new _nt(t)})}load(e,t,r,i){const a=this;let s;this.resourcePath!==""?s=this.resourcePath:this.path!==""?s=this.path:s=Os.extractUrlBase(e),this.manager.itemStart(e);const o=function(c){i?i(c):console.error(c),a.manager.itemError(e),a.manager.itemEnd(e)},l=new Ns(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{a.parse(c,s,function(u){t(u),a.manager.itemEnd(e)},o)}catch(u){o(u)}},r,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let a;const s={},o={};if(typeof e=="string")a=e;else if(Os.decodeText(new Uint8Array(e,0,4))===Lie){try{s[Br.KHR_BINARY_GLTF]=new Snt(e)}catch(d){i&&i(d);return}a=s[Br.KHR_BINARY_GLTF].content}else a=Os.decodeText(new Uint8Array(e));const l=JSON.parse(a);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new knt(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);o[d.name]=d,s[d.name]=!0}if(l.extensionsUsed)for(let u=0;u<l.extensionsUsed.length;++u){const d=l.extensionsUsed[u],f=l.extensionsRequired||[];switch(d){case Br.KHR_MATERIALS_UNLIT:s[d]=new cnt;break;case Br.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:s[d]=new Cnt;break;case Br.KHR_DRACO_MESH_COMPRESSION:s[d]=new wnt(l,this.dracoLoader);break;case Br.KHR_TEXTURE_TRANSFORM:s[d]=new xnt;break;case Br.KHR_MESH_QUANTIZATION:s[d]=new Mnt;break;default:f.indexOf(d)>=0&&o[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(s),c.setPlugins(o),c.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,a){r.parse(e,t,i,a)})}}function ont(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Br={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class lnt{constructor(e){this.parser=e,this.name=Br.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const a=t[r];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const a=t.json,l=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let c;const u=new bn(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new GS(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new H0(u),c.distance=d;break;case"spot":c=new FA(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,a=r.json.nodes[e],o=(a.extensions&&a.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return r._getNodeRef(t.cache,o,l)})}}class cnt{constructor(){this.name=Br.KHR_MATERIALS_UNLIT}getMaterialType(){return bc}extendParams(e,t,r){const i=[];e.color=new bn(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const s=a.baseColorFactor;e.color.fromArray(s),e.opacity=s[3]}a.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",a.baseColorTexture,Ir))}return Promise.all(i)}}class unt{constructor(e){this.parser=e,this.name=Br.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name].emissiveStrength;return a!==void 0&&(t.emissiveIntensity=a),Promise.resolve()}}class dnt{constructor(e){this.parser=e,this.name=Br.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:zh}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&a.push(r.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&a.push(r.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(a.push(r.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const o=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Wt(o,o)}return Promise.all(a)}}class fnt{constructor(e){this.parser=e,this.name=Br.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:zh}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&a.push(r.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&a.push(r.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(a)}}class hnt{constructor(e){this.parser=e,this.name=Br.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:zh}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new bn(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=i.extensions[this.name];return s.sheenColorFactor!==void 0&&t.sheenColor.fromArray(s.sheenColorFactor),s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&a.push(r.assignTexture(t,"sheenColorMap",s.sheenColorTexture,Ir)),s.sheenRoughnessTexture!==void 0&&a.push(r.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(a)}}class pnt{constructor(e){this.parser=e,this.name=Br.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:zh}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&a.push(r.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(a)}}class mnt{constructor(e){this.parser=e,this.name=Br.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:zh}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&a.push(r.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||0;const o=s.attenuationColor||[1,1,1];return t.attenuationColor=new bn(o[0],o[1],o[2]),Promise.all(a)}}class vnt{constructor(e){this.parser=e,this.name=Br.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:zh}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name];return t.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class gnt{constructor(e){this.parser=e,this.name=Br.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:zh}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&a.push(r.assignTexture(t,"specularIntensityMap",s.specularTexture));const o=s.specularColorFactor||[1,1,1];return t.specularColor=new bn(o[0],o[1],o[2]),s.specularColorTexture!==void 0&&a.push(r.assignTexture(t,"specularColorMap",s.specularColorTexture,Ir)),Promise.all(a)}}class ynt{constructor(e){this.parser=e,this.name=Br.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const a=i.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,s)}}class bnt{constructor(e){this.parser=e,this.name=Br.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,a=i.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],o=i.images[s.source];let l=r.textureLoader;if(o.uri){const c=r.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,s.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class _nt{constructor(e){this.name=Br.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],a=this.parser.getDependency("buffer",i.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([a,s.ready]).then(function(o){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,f=new ArrayBuffer(u*d),h=new Uint8Array(o[0],l,c);return s.decodeGltfBuffer(new Uint8Array(f),u,d,h,i.mode,i.filter),f})}else return null}}const Lie="glTF",B1=12,NG={JSON:1313821514,BIN:5130562};class Snt{constructor(e){this.name=Br.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,B1);if(this.header={magic:Os.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Lie)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-B1,i=new DataView(e,B1);let a=0;for(;a<r;){const s=i.getUint32(a,!0);a+=4;const o=i.getUint32(a,!0);if(a+=4,o===NG.JSON){const l=new Uint8Array(e,B1+a,s);this.content=Os.decodeText(l)}else if(o===NG.BIN){const l=B1+a;this.body=e.slice(l,l+s)}a+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class wnt{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Br.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,o={},l={},c={};for(const u in s){const d=ML[u]||u.toLowerCase();o[d]=s[u]}for(const u in e.attributes){const d=ML[u]||u.toLowerCase();if(s[u]!==void 0){const f=r.accessors[e.attributes[u]],h=iS[f.componentType];c[d]=h,l[d]=f.normalized===!0}}return t.getDependency("bufferView",a).then(function(u){return new Promise(function(d){i.decodeDracoFile(u,function(f){for(const h in f.attributes){const p=f.attributes[h],m=l[h];m!==void 0&&(p.normalized=m)}d(f)},o,c)})})}}class xnt{constructor(){this.name=Br.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class CL extends Ly{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),a=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),s=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),o={specular:{value:new bn().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=o,this.onBeforeCompile=function(l){for(const c in o)l.uniforms[c]=o[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",a).replace("#include <lights_physical_fragment>",s)},Object.defineProperties(this,{specular:{get:function(){return o.specular.value},set:function(l){o.specular.value=l}},specularMap:{get:function(){return o.specularMap.value},set:function(l){o.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return o.glossiness.value},set:function(l){o.glossiness.value=l}},glossinessMap:{get:function(){return o.glossinessMap.value},set:function(l){o.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Cnt{constructor(){this.name=Br.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return CL}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new bn(1,1,1),e.opacity=1;const a=[];if(Array.isArray(i.diffuseFactor)){const s=i.diffuseFactor;e.color.fromArray(s),e.opacity=s[3]}if(i.diffuseTexture!==void 0&&a.push(r.assignTexture(e,"map",i.diffuseTexture,Ir)),e.emissive=new bn(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new bn(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const s=i.specularGlossinessTexture;a.push(r.assignTexture(e,"glossinessMap",s)),a.push(r.assignTexture(e,"specularMap",s,Ir))}return Promise.all(a)}createMaterial(e){const t=new CL(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=Q0,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t}}class Mnt{constructor(){this.name=Br.KHR_MESH_QUANTIZATION}}class Die extends $S{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i*3+i;for(let s=0;s!==i;s++)t[s]=r[a+s];return t}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,u=i-t,d=(r-t)/u,f=d*d,h=f*d,p=e*c,m=p-c,g=-2*h+3*f,v=h-f,y=1-g,b=v-f+d;for(let _=0;_!==o;_++){const w=s[m+_+o],x=s[m+_+l]*u,M=s[p+_+o],C=s[p+_]*u;a[_]=y*w+b*x+g*M+v*C}return a}}const Tnt=new ss;class Ant extends Die{interpolate_(e,t,r,i){const a=super.interpolate_(e,t,r,i);return Tnt.fromArray(a).normalize().toArray(a),a}}const Ku={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},iS={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},BG={9728:Ga,9729:ba,9984:HM,9985:H8,9986:VM,9987:Yd},FG={33071:ka,33648:$_,10497:vo},zG={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ML={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},_f={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Ent={CUBICSPLINE:void 0,LINEAR:Gg,STEP:W_},_I={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Int(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Ly({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ch})),n.DefaultMaterial}function F1(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Ap(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Rnt(n,e,t){let r=!1,i=!1,a=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(n);const s=[],o=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(r){const f=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;s.push(f)}if(i){const f=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;o.push(f)}if(a){const f=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(f)}}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=d),a&&(n.morphAttributes.color=f),n.morphTargetsRelative=!0,n})}function Pnt(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Lnt(n){const e=n.extensions&&n.extensions[Br.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+UG(e.attributes):t=n.indices+":"+UG(n.attributes)+":"+n.mode,t}function UG(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function TL(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Dnt(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class knt{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new ont,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,a=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||r||i&&a<98?this.textureLoader=new Xg(this.options.manager):this.textureLoader=new ntt(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ns(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,a=this.extensions;this.cache.removeAll(),this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(s){const o={scene:s[0][i.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:i.asset,parser:r,userData:{}};F1(a,o,i),Ap(o,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){e(o)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,a=t.length;i<a;i++){const s=t[i].joints;for(let o=0,l=s.length;o<l;o++)e[s[o]].isBone=!0}for(let i=0,a=e.length;i<a;i++){const s=e[i];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(r[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),a=(s,o)=>{const l=this.associations.get(s);l!=null&&this.associations.set(o,l);for(const[c,u]of s.children.entries())a(u,o.children[c])};return a(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const a=e(t[i]);a&&r.push(a)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(a,s){return r.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Br.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(a,s){r.load(Os.resolveURL(t.uri,i.path),a,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,a=t.byteOffset||0;return r.slice(a,a+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const a=[];return i.bufferView!==void 0?a.push(this.getDependency("bufferView",i.bufferView)):a.push(null),i.sparse!==void 0&&(a.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(a).then(function(s){const o=s[0],l=zG[i.type],c=iS[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,f=i.byteOffset||0,h=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,p=i.normalized===!0;let m,g;if(h&&h!==d){const v=Math.floor(f/h),y="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+v+":"+i.count;let b=t.cache.get(y);b||(m=new c(o,v*h,i.count*h/u),b=new Q8(m,h/u),t.cache.add(y,b)),g=new F0(b,l,f%h/u,p)}else o===null?m=new c(i.count*l):m=new c(o,f,i.count*l),g=new ia(m,l,p);if(i.sparse!==void 0){const v=zG.SCALAR,y=iS[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,_=i.sparse.values.byteOffset||0,w=new y(s[1],b,i.sparse.count*v),x=new c(s[2],_,i.sparse.count*l);o!==null&&(g=new ia(g.array.slice(),g.itemSize,g.normalized));for(let M=0,C=w.length;M<C;M++){const T=w[M];if(g.setX(T,x[M*l]),l>=2&&g.setY(T,x[M*l+1]),l>=3&&g.setZ(T,x[M*l+2]),l>=4&&g.setW(T,x[M*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return g})}loadTexture(e){const t=this.json,r=this.options,a=t.textures[e].source,s=t.images[a];let o=this.textureLoader;if(s.uri){const l=r.manager.getHandler(s.uri);l!==null&&(o=l)}return this.loadTextureImage(e,a,o)}loadTextureImage(e,t,r){const i=this,a=this.json,s=a.textures[e],o=a.images[t],l=(o.uri||o.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,s.name&&(u.name=s.name);const f=(a.samplers||{})[s.sampler]||{};return u.magFilter=BG[f.magFilter]||ba,u.minFilter=BG[f.minFilter]||Yd,u.wrapS=FG[f.wrapS]||vo,u.wrapT=FG[f.wrapT]||vo,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const s=i.images[e],o=self.URL||self.webkitURL;let l=s.uri||"",c=!1;if(s.bufferView!==void 0)l=r.getDependency("bufferView",s.bufferView).then(function(d){c=!0;const f=new Blob([d],{type:s.mimeType});return l=o.createObjectURL(f),l});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(f,h){let p=f;t.isImageBitmapLoader===!0&&(p=function(m){const g=new fs(m);g.needsUpdate=!0,f(g)}),t.load(Os.resolveURL(d,a.path),p,void 0,h)})}).then(function(d){return c===!0&&o.revokeObjectURL(l),d.userData.mimeType=s.mimeType||Dnt(s.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const a=this;return this.getDependency("texture",r.index).then(function(s){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),a.extensions[Br.KHR_TEXTURE_TRANSFORM]){const o=r.extensions!==void 0?r.extensions[Br.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=a.associations.get(s);s=a.extensions[Br.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),a.associations.set(s,l)}}return i!==void 0&&(s.encoding=i),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+r.uuid;let l=this.cache.get(o);l||(l=new Jp,Ma.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(o,l)),r=l}else if(e.isLine){const o="LineBasicMaterial:"+r.uuid;let l=this.cache.get(o);l||(l=new Cc,Ma.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(o,l)),r=l}if(i||a||s){let o="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(o+="specular-glossiness:"),i&&(o+="derivative-tangents:"),a&&(o+="vertex-colors:"),s&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=r.clone(),a&&(l.vertexColors=!0),s&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return Ly}loadMaterial(e){const t=this,r=this.json,i=this.extensions,a=r.materials[e];let s;const o={},l=a.extensions||{},c=[];if(l[Br.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=i[Br.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];s=d.getMaterialType(),c.push(d.extendParams(o,a,t))}else if(l[Br.KHR_MATERIALS_UNLIT]){const d=i[Br.KHR_MATERIALS_UNLIT];s=d.getMaterialType(),c.push(d.extendParams(o,a,t))}else{const d=a.pbrMetallicRoughness||{};if(o.color=new bn(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;o.color.fromArray(f),o.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(o,"map",d.baseColorTexture,Ir)),o.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,o.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),s=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,o)})))}a.doubleSided===!0&&(o.side=Mh);const u=a.alphaMode||_I.OPAQUE;if(u===_I.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,u===_I.MASK&&(o.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&s!==bc&&(c.push(t.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new Wt(1,1),a.normalTexture.scale!==void 0)){const d=a.normalTexture.scale;o.normalScale.set(d,d)}return a.occlusionTexture!==void 0&&s!==bc&&(c.push(t.assignTexture(o,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&s!==bc&&(o.emissive=new bn().fromArray(a.emissiveFactor)),a.emissiveTexture!==void 0&&s!==bc&&c.push(t.assignTexture(o,"emissiveMap",a.emissiveTexture,Ir)),Promise.all(c).then(function(){let d;return s===CL?d=i[Br.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):d=new s(o),a.name&&(d.name=a.name),Ap(d,a),t.associations.set(d,{materials:e}),a.extensions&&F1(i,d,a),d})}createUniqueName(e){const t=Yr.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function a(o){return r[Br.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,t).then(function(l){return HG(l,o,t)})}const s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],u=Lnt(c),d=i[u];if(d)s.push(d.promise);else{let f;c.extensions&&c.extensions[Br.KHR_DRACO_MESH_COMPRESSION]?f=a(c):f=HG(new Hr,c,t),i[u]={primitive:c,promise:f},s.push(f)}}return Promise.all(s)}loadMesh(e){const t=this,r=this.json,i=this.extensions,a=r.meshes[e],s=a.primitives,o=[];for(let l=0,c=s.length;l<c;l++){const u=s[l].material===void 0?Int(this.cache):this.getDependency("material",s[l].material);o.push(u)}return o.push(t.loadGeometries(s)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h],g=s[h];let v;const y=c[h];if(g.mode===Ku.TRIANGLES||g.mode===Ku.TRIANGLE_STRIP||g.mode===Ku.TRIANGLE_FAN||g.mode===void 0)v=a.isSkinnedMesh===!0?new NA(m,y):new Oa(m,y),v.isSkinnedMesh===!0&&!v.geometry.attributes.skinWeight.normalized&&v.normalizeSkinWeights(),g.mode===Ku.TRIANGLE_STRIP?v.geometry=VG(v.geometry,EYe):g.mode===Ku.TRIANGLE_FAN&&(v.geometry=VG(v.geometry,ire));else if(g.mode===Ku.LINES)v=new z0(m,y);else if(g.mode===Ku.LINE_STRIP)v=new Py(m,y);else if(g.mode===Ku.LINE_LOOP)v=new Rre(m,y);else if(g.mode===Ku.POINTS)v=new Lb(m,y);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+g.mode);Object.keys(v.geometry.morphAttributes).length>0&&Pnt(v,a),v.name=t.createUniqueName(a.name||"mesh_"+e),Ap(v,a),g.extensions&&F1(i,v,g),t.assignFinalMaterial(v),d.push(v)}for(let h=0,p=d.length;h<p;h++)t.associations.set(d[h],{meshes:e,primitives:h});if(d.length===1)return d[0];const f=new go;t.associations.set(f,{meshes:e});for(let h=0,p=d.length;h<p;h++)f.add(d[h]);return f})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new La(Ps.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Ey(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Ap(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],a=[],s=[],o=[],l=[];for(let c=0,u=r.channels.length;c<u;c++){const d=r.channels[c],f=r.samplers[d.sampler],h=d.target,p=h.node!==void 0?h.node:h.id,m=r.parameters!==void 0?r.parameters[f.input]:f.input,g=r.parameters!==void 0?r.parameters[f.output]:f.output;i.push(this.getDependency("node",p)),a.push(this.getDependency("accessor",m)),s.push(this.getDependency("accessor",g)),o.push(f),l.push(h)}return Promise.all([Promise.all(i),Promise.all(a),Promise.all(s),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2],h=c[3],p=c[4],m=[];for(let v=0,y=u.length;v<y;v++){const b=u[v],_=d[v],w=f[v],x=h[v],M=p[v];if(b===void 0)continue;b.updateMatrix();let C;switch(_f[M.path]){case _f.weights:C=Kg;break;case _f.rotation:C=Ld;break;case _f.position:case _f.scale:default:C=Ih;break}const T=b.name?b.name:b.uuid,A=x.interpolation!==void 0?Ent[x.interpolation]:Gg,I=[];_f[M.path]===_f.weights?b.traverse(function(k){k.morphTargetInfluences&&I.push(k.name?k.name:k.uuid)}):I.push(T);let L=w.array;if(w.normalized){const k=TL(L.constructor),N=new Float32Array(L.length);for(let F=0,D=L.length;F<D;F++)N[F]=L[F]*k;L=N}for(let k=0,N=I.length;k<N;k++){const F=new C(I[k]+"."+_f[M.path],_.array,L,A);x.interpolation==="CUBICSPLINE"&&(F.createInterpolant=function(H){const z=this instanceof Ld?Ant:Die;return new z(this.times,this.values,this.getValueSize()/3,H)},F.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),m.push(F)}}const g=r.name?r.name:"animation_"+e;return new U0(g,void 0,m)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(a){const s=r._getNodeRef(r.meshCache,i.mesh,a);return i.weights!==void 0&&s.traverse(function(o){if(o.isMesh)for(let l=0,c=i.weights.length;l<c;l++)o.morphTargetInfluences[l]=i.weights[l]}),s})}loadNode(e){const t=this.json,r=this.extensions,i=this,a=t.nodes[e],s=a.name?i.createUniqueName(a.name):"";return function(){const o=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),a.camera!==void 0&&o.push(i.getDependency("camera",a.camera).then(function(c){return i._getNodeRef(i.cameraCache,a.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),Promise.all(o)}().then(function(o){let l;if(a.isBone===!0?l=new qg:o.length>1?l=new go:o.length===1?l=o[0]:l=new Gi,l!==o[0])for(let c=0,u=o.length;c<u;c++)l.add(o[c]);if(a.name&&(l.userData.name=a.name,l.name=s),Ap(l,a),a.extensions&&F1(r,l,a),a.matrix!==void 0){const c=new Un;c.fromArray(a.matrix),l.applyMatrix4(c)}else a.translation!==void 0&&l.position.fromArray(a.translation),a.rotation!==void 0&&l.quaternion.fromArray(a.rotation),a.scale!==void 0&&l.scale.fromArray(a.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],a=this,s=new go;i.name&&(s.name=a.createUniqueName(i.name)),Ap(s,i),i.extensions&&F1(r,s,i);const o=i.nodes||[],l=[];for(let c=0,u=o.length;c<u;c++)l.push(kie(o[c],s,t,a));return Promise.all(l).then(function(){const c=u=>{const d=new Map;for(const[f,h]of a.associations)(f instanceof Ma||f instanceof fs)&&d.set(f,h);return u.traverse(f=>{const h=a.associations.get(f);h!=null&&d.set(f,h)}),d};return a.associations=c(s),s})}}function kie(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(a){if(i.skin===void 0)return a;let s;return r.getDependency("skin",i.skin).then(function(o){s=o;const l=[];for(let c=0,u=s.joints.length;c<u;c++)l.push(r.getDependency("node",s.joints[c]));return Promise.all(l)}).then(function(o){return a.traverse(function(l){if(!l.isMesh)return;const c=[],u=[];for(let d=0,f=o.length;d<f;d++){const h=o[d];if(h){c.push(h);const p=new Un;s.inverseBindMatrices!==void 0&&p.fromArray(s.inverseBindMatrices.array,d*16),u.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',s.joints[d])}l.bind(new Ry(c,u),l.matrixWorld)}),a})}).then(function(a){e.add(a);const s=[];if(i.children){const o=i.children;for(let l=0,c=o.length;l<c;l++){const u=o[l];s.push(kie(u,a,t,r))}}return Promise.all(s)})}function Ont(n,e,t){const r=e.attributes,i=new J0;if(r.POSITION!==void 0){const o=t.json.accessors[r.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(i.set(new je(l[0],l[1],l[2]),new je(c[0],c[1],c[2])),o.normalized){const u=TL(iS[o.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const o=new je,l=new je;for(let c=0,u=a.length;c<u;c++){const d=a[c];if(d.POSITION!==void 0){const f=t.json.accessors[d.POSITION],h=f.min,p=f.max;if(h!==void 0&&p!==void 0){if(l.setX(Math.max(Math.abs(h[0]),Math.abs(p[0]))),l.setY(Math.max(Math.abs(h[1]),Math.abs(p[1]))),l.setZ(Math.max(Math.abs(h[2]),Math.abs(p[2]))),f.normalized){const m=TL(iS[f.componentType]);l.multiplyScalar(m)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(o)}n.boundingBox=i;const s=new em;i.getCenter(s.center),s.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=s}function HG(n,e,t){const r=e.attributes,i=[];function a(s,o){return t.getDependency("accessor",s).then(function(l){n.setAttribute(o,l)})}for(const s in r){const o=ML[s]||s.toLowerCase();o in n.attributes||i.push(a(r[s],o))}if(e.indices!==void 0&&!n.index){const s=t.getDependency("accessor",e.indices).then(function(o){n.setIndex(o)});i.push(s)}return Ap(n,e),Ont(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Rnt(n,e.targets,t):n})}function VG(n,e){let t=n.getIndex();if(t===null){const s=[],o=n.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)s.push(l);n.setIndex(s),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===ire)for(let s=1;s<=r;s++)i.push(t.getX(0)),i.push(t.getX(s)),i.push(t.getX(s+1));else for(let s=0;s<r;s++)s%2===0?(i.push(t.getX(s)),i.push(t.getX(s+1)),i.push(t.getX(s+2))):(i.push(t.getX(s+2)),i.push(t.getX(s+1)),i.push(t.getX(s)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=n.clone();return a.setIndex(i),a}const Nnt=/^[og]\s*(.+)?/,Bnt=/^mtllib /,Fnt=/^usemtl /,znt=/^usemap /,$G=/\s+/,GG=new je,SI=new je,WG=new je,qG=new je,hl=new je,s2=new bn;function Unt(){const n={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=t!==!1;return}const r=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(i,a){const s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);const o={index:this.materials.length,name:i||"",mtllib:Array.isArray(a)&&a.length>0?a[a.length-1]:"",smooth:s!==void 0?s.smooth:this.smooth,groupStart:s!==void 0?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(l){const c={index:typeof l=="number"?l:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return c.clone=this.clone.bind(c),c}};return this.materials.push(o),o},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(i){const a=this.currentMaterial();if(a&&a.groupEnd===-1&&(a.groupEnd=this.geometry.vertices.length/3,a.groupCount=a.groupEnd-a.groupStart,a.inherited=!1),i&&this.materials.length>1)for(let s=this.materials.length-1;s>=0;s--)this.materials[s].groupCount<=0&&this.materials.splice(s,1);return i&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),a}},r&&r.name&&typeof r.clone=="function"){const i=r.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/3)*3},parseNormalIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/3)*3},parseUVIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/2)*2},addVertex:function(e,t,r){const i=this.vertices,a=this.object.geometry.vertices;a.push(i[e+0],i[e+1],i[e+2]),a.push(i[t+0],i[t+1],i[t+2]),a.push(i[r+0],i[r+1],i[r+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,r){const i=this.normals,a=this.object.geometry.normals;a.push(i[e+0],i[e+1],i[e+2]),a.push(i[t+0],i[t+1],i[t+2]),a.push(i[r+0],i[r+1],i[r+2])},addFaceNormal:function(e,t,r){const i=this.vertices,a=this.object.geometry.normals;GG.fromArray(i,e),SI.fromArray(i,t),WG.fromArray(i,r),hl.subVectors(WG,SI),qG.subVectors(GG,SI),hl.cross(qG),hl.normalize(),a.push(hl.x,hl.y,hl.z),a.push(hl.x,hl.y,hl.z),a.push(hl.x,hl.y,hl.z)},addColor:function(e,t,r){const i=this.colors,a=this.object.geometry.colors;i[e]!==void 0&&a.push(i[e+0],i[e+1],i[e+2]),i[t]!==void 0&&a.push(i[t+0],i[t+1],i[t+2]),i[r]!==void 0&&a.push(i[r+0],i[r+1],i[r+2])},addUV:function(e,t,r){const i=this.uvs,a=this.object.geometry.uvs;a.push(i[e+0],i[e+1]),a.push(i[t+0],i[t+1]),a.push(i[r+0],i[r+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,r,i,a,s,o,l,c){const u=this.vertices.length;let d=this.parseVertexIndex(e,u),f=this.parseVertexIndex(t,u),h=this.parseVertexIndex(r,u);if(this.addVertex(d,f,h),this.addColor(d,f,h),o!==void 0&&o!==""){const p=this.normals.length;d=this.parseNormalIndex(o,p),f=this.parseNormalIndex(l,p),h=this.parseNormalIndex(c,p),this.addNormal(d,f,h)}else this.addFaceNormal(d,f,h);if(i!==void 0&&i!==""){const p=this.uvs.length;d=this.parseUVIndex(i,p),f=this.parseUVIndex(a,p),h=this.parseUVIndex(s,p),this.addUV(d,f,h),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let r=0,i=e.length;r<i;r++){const a=this.parseVertexIndex(e[r],t);this.addVertexPoint(a),this.addColor(a)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const r=this.vertices.length,i=this.uvs.length;for(let a=0,s=e.length;a<s;a++)this.addVertexLine(this.parseVertexIndex(e[a],r));for(let a=0,s=t.length;a<s;a++)this.addUVLine(this.parseUVIndex(t[a],i))}};return n.startObject("",!1),n}class Hnt extends ms{constructor(e){super(e),this.materials=null}load(e,t,r,i){const a=this,s=new Ns(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(o))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}setMaterials(e){return this.materials=e,this}parse(e){const t=new Unt;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const r=e.split(`
`);let i=[];for(let o=0,l=r.length;o<l;o++){const c=r[o].trimStart();if(c.length===0)continue;const u=c.charAt(0);if(u!=="#")if(u==="v"){const d=c.split($G);switch(d[0]){case"v":t.vertices.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])),d.length>=7?(s2.setRGB(parseFloat(d[4]),parseFloat(d[5]),parseFloat(d[6])).convertSRGBToLinear(),t.colors.push(s2.r,s2.g,s2.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]));break;case"vt":t.uvs.push(parseFloat(d[1]),parseFloat(d[2]));break}}else if(u==="f"){const f=c.slice(1).trim().split($G),h=[];for(let m=0,g=f.length;m<g;m++){const v=f[m];if(v.length>0){const y=v.split("/");h.push(y)}}const p=h[0];for(let m=1,g=h.length-1;m<g;m++){const v=h[m],y=h[m+1];t.addFace(p[0],v[0],y[0],p[1],v[1],y[1],p[2],v[2],y[2])}}else if(u==="l"){const d=c.substring(1).trim().split(" ");let f=[];const h=[];if(c.indexOf("/")===-1)f=d;else for(let p=0,m=d.length;p<m;p++){const g=d[p].split("/");g[0]!==""&&f.push(g[0]),g[1]!==""&&h.push(g[1])}t.addLineGeometry(f,h)}else if(u==="p"){const f=c.slice(1).trim().split(" ");t.addPointGeometry(f)}else if((i=Nnt.exec(c))!==null){const d=(" "+i[0].slice(1).trim()).slice(1);t.startObject(d)}else if(Fnt.test(c))t.object.startMaterial(c.substring(7).trim(),t.materialLibraries);else if(Bnt.test(c))t.materialLibraries.push(c.substring(7).trim());else if(znt.test(c))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(u==="s"){if(i=c.split(" "),i.length>1){const f=i[1].trim().toLowerCase();t.object.smooth=f!=="0"&&f!=="off"}else t.object.smooth=!0;const d=t.object.currentMaterial();d&&(d.smooth=t.object.smooth)}else{if(c==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+c+'"')}}t.finalize();const a=new go;if(a.materialLibraries=[].concat(t.materialLibraries),!(t.objects.length===1&&t.objects[0].geometry.vertices.length===0)===!0)for(let o=0,l=t.objects.length;o<l;o++){const c=t.objects[o],u=c.geometry,d=c.materials,f=u.type==="Line",h=u.type==="Points";let p=!1;if(u.vertices.length===0)continue;const m=new Hr;m.setAttribute("position",new En(u.vertices,3)),u.normals.length>0&&m.setAttribute("normal",new En(u.normals,3)),u.colors.length>0&&(p=!0,m.setAttribute("color",new En(u.colors,3))),u.hasUVIndices===!0&&m.setAttribute("uv",new En(u.uvs,2));const g=[];for(let y=0,b=d.length;y<b;y++){const _=d[y],w=_.name+"_"+_.smooth+"_"+p;let x=t.materials[w];if(this.materials!==null){if(x=this.materials.create(_.name),f&&x&&!(x instanceof Cc)){const M=new Cc;Ma.prototype.copy.call(M,x),M.color.copy(x.color),x=M}else if(h&&x&&!(x instanceof Jp)){const M=new Jp({size:10,sizeAttenuation:!1});Ma.prototype.copy.call(M,x),M.color.copy(x.color),M.map=x.map,x=M}}x===void 0&&(f?x=new Cc:h?x=new Jp({size:1,sizeAttenuation:!1}):x=new wd,x.name=_.name,x.flatShading=!_.smooth,x.vertexColors=p,t.materials[w]=x),g.push(x)}let v;if(g.length>1){for(let y=0,b=d.length;y<b;y++){const _=d[y];m.addGroup(_.groupStart,_.groupCount,y)}f?v=new z0(m,g):h?v=new Lb(m,g):v=new Oa(m,g)}else f?v=new z0(m,g[0]):h?v=new Lb(m,g[0]):v=new Oa(m,g[0]);v.name=c.name,a.add(v)}else if(t.vertices.length>0){const o=new Jp({size:1,sizeAttenuation:!1}),l=new Hr;l.setAttribute("position",new En(t.vertices,3)),t.colors.length>0&&t.colors[0]!==void 0&&(l.setAttribute("color",new En(t.colors,3)),o.vertexColors=!0);const c=new Lb(l,o);a.add(c)}return a}}class Vnt extends Get{constructor(e){super(e)}parse(e,t){const r={mipmaps:[],width:0,height:0,format:null,mipmapCount:1},i=542327876,a=131072,s=512,o=1024,l=2048,c=4096,u=8192,d=16384,f=32768;function h(fe){return fe.charCodeAt(0)+(fe.charCodeAt(1)<<8)+(fe.charCodeAt(2)<<16)+(fe.charCodeAt(3)<<24)}function p(fe){return String.fromCharCode(fe&255,fe>>8&255,fe>>16&255,fe>>24&255)}function m(fe,de,me,Re){const De=me*Re*4,Ge=new Uint8Array(fe,de,De),We=new Uint8Array(De);let K=0,ue=0;for(let ie=0;ie<Re;ie++)for(let $e=0;$e<me;$e++){const Ne=Ge[ue];ue++;const Ye=Ge[ue];ue++;const ce=Ge[ue];ue++;const he=Ge[ue];ue++,We[K]=ce,K++,We[K]=Ye,K++,We[K]=Ne,K++,We[K]=he,K++}return We}const g=h("DXT1"),v=h("DXT3"),y=h("DXT5"),b=h("ETC1"),_=31,w=0,x=1,M=2,C=3,T=4,A=7,I=21,L=22,k=23,N=24,F=25,D=26,H=28,z=new Int32Array(e,0,_);if(z[w]!==i)return console.error("THREE.DDSLoader.parse: Invalid magic number in DDS header."),r;let B;const W=z[I];let Z=!1;switch(W){case g:B=8,r.format=SC;break;case v:B=16,r.format=wC;break;case y:B=16,r.format=xC;break;case b:B=8,r.format=rre;break;default:if(z[L]===32&&z[k]&16711680&&z[N]&65280&&z[F]&255&&z[D]&4278190080)Z=!0,B=64,r.format=Ol;else return console.error("THREE.DDSLoader.parse: Unsupported FourCC code ",p(W)),r}r.mipmapCount=1,z[M]&a&&t!==!1&&(r.mipmapCount=Math.max(1,z[A]));const ee=z[H];if(r.isCubemap=!!(ee&s),r.isCubemap&&(!(ee&o)||!(ee&l)||!(ee&c)||!(ee&u)||!(ee&d)||!(ee&f)))return console.error("THREE.DDSLoader.parse: Incomplete cubemap faces"),r;r.width=z[T],r.height=z[C];let J=z[x]+4;const re=r.isCubemap?6:1;for(let fe=0;fe<re;fe++){let de=r.width,me=r.height;for(let Re=0;Re<r.mipmapCount;Re++){let De,Ge;Z?(De=m(e,J,de,me),Ge=De.length):(Ge=Math.max(4,de)/4*Math.max(4,me)/4*B,De=new Uint8Array(e,J,Ge));const We={data:De,width:de,height:me};r.mipmaps.push(We),J+=Ge,de=Math.max(de>>1,1),me=Math.max(me>>1,1)}}return r}}class $nt{constructor(e,t,r){const i=this;let a=!1,s=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){o++,a===!1&&i.onStart!==void 0&&i.onStart(u,s,o),a=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],p=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null}}}const o2=new bn;class Gnt extends ms{constructor(e){super(e),this.propertyNameMapping={}}load(e,t,r,i){const a=this,s=new Ns(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(o))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}setPropertyNameMapping(e){this.propertyNameMapping=e}parse(e){function t(h){const p=/^ply([\s\S]*)end_header(\r\n|\r|\n)/;let m="",g=0;const v=p.exec(h);v!==null&&(m=v[1],g=new Blob([v[0]]).size);const y={comments:[],elements:[],headerLength:g,objInfo:""},b=m.split(/\r\n|\r|\n/);let _;function w(x,M){const C={type:x[0]};return C.type==="list"?(C.name=x[3],C.countType=x[1],C.itemType=x[2]):C.name=x[1],C.name in M&&(C.name=M[C.name]),C}for(let x=0;x<b.length;x++){let M=b[x];if(M=M.trim(),M==="")continue;const C=M.split(/\s+/),T=C.shift();switch(M=C.join(" "),T){case"format":y.format=C[0],y.version=C[1];break;case"comment":y.comments.push(M);break;case"element":_!==void 0&&y.elements.push(_),_={},_.name=C[0],_.count=parseInt(C[1]),_.properties=[];break;case"property":_.properties.push(w(C,f.propertyNameMapping));break;case"obj_info":y.objInfo=M;break;default:console.log("unhandled",T,C)}}return _!==void 0&&y.elements.push(_),y}function r(h,p){switch(p){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(h);case"float":case"double":case"float32":case"float64":return parseFloat(h)}}function i(h,p){const m=p.split(/\s+/),g={};for(let v=0;v<h.length;v++)if(h[v].type==="list"){const y=[],b=r(m.shift(),h[v].countType);for(let _=0;_<b;_++)y.push(r(m.shift(),h[v].itemType));g[h[v].name]=y}else g[h[v].name]=r(m.shift(),h[v].type);return g}function a(h,p){const m={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]};let g;const v=/end_header\s([\s\S]*)$/;let y="";(g=v.exec(h))!==null&&(y=g[1]);const b=y.split(/\r\n|\r|\n/);let _=0,w=0;for(let x=0;x<b.length;x++){let M=b[x];if(M=M.trim(),M==="")continue;w>=p.elements[_].count&&(_++,w=0);const C=i(p.elements[_].properties,M);o(m,p.elements[_].name,C),w++}return s(m)}function s(h){let p=new Hr;return h.indices.length>0&&p.setIndex(h.indices),p.setAttribute("position",new En(h.vertices,3)),h.normals.length>0&&p.setAttribute("normal",new En(h.normals,3)),h.uvs.length>0&&p.setAttribute("uv",new En(h.uvs,2)),h.colors.length>0&&p.setAttribute("color",new En(h.colors,3)),h.faceVertexUvs.length>0&&(p=p.toNonIndexed(),p.setAttribute("uv",new En(h.faceVertexUvs,2))),p.computeBoundingSphere(),p}function o(h,p,m){function g(L){for(let k=0,N=L.length;k<N;k++){const F=L[k];if(F in m)return F}return null}const v=g(["x","px","posx"])||"x",y=g(["y","py","posy"])||"y",b=g(["z","pz","posz"])||"z",_=g(["nx","normalx"]),w=g(["ny","normaly"]),x=g(["nz","normalz"]),M=g(["s","u","texture_u","tx"]),C=g(["t","v","texture_v","ty"]),T=g(["red","diffuse_red","r","diffuse_r"]),A=g(["green","diffuse_green","g","diffuse_g"]),I=g(["blue","diffuse_blue","b","diffuse_b"]);if(p==="vertex")h.vertices.push(m[v],m[y],m[b]),_!==null&&w!==null&&x!==null&&h.normals.push(m[_],m[w],m[x]),M!==null&&C!==null&&h.uvs.push(m[M],m[C]),T!==null&&A!==null&&I!==null&&(o2.setRGB(m[T]/255,m[A]/255,m[I]/255).convertSRGBToLinear(),h.colors.push(o2.r,o2.g,o2.b));else if(p==="face"){const L=m.vertex_indices||m.vertex_index,k=m.texcoord;L.length===3?(h.indices.push(L[0],L[1],L[2]),k&&k.length===6&&(h.faceVertexUvs.push(k[0],k[1]),h.faceVertexUvs.push(k[2],k[3]),h.faceVertexUvs.push(k[4],k[5]))):L.length===4&&(h.indices.push(L[0],L[1],L[3]),h.indices.push(L[1],L[2],L[3]))}}function l(h,p,m,g){switch(m){case"int8":case"char":return[h.getInt8(p),1];case"uint8":case"uchar":return[h.getUint8(p),1];case"int16":case"short":return[h.getInt16(p,g),2];case"uint16":case"ushort":return[h.getUint16(p,g),2];case"int32":case"int":return[h.getInt32(p,g),4];case"uint32":case"uint":return[h.getUint32(p,g),4];case"float32":case"float":return[h.getFloat32(p,g),4];case"float64":case"double":return[h.getFloat64(p,g),8]}}function c(h,p,m,g){const v={};let y,b=0;for(let _=0;_<m.length;_++)if(m[_].type==="list"){const w=[];y=l(h,p+b,m[_].countType,g);const x=y[0];b+=y[1];for(let M=0;M<x;M++)y=l(h,p+b,m[_].itemType,g),w.push(y[0]),b+=y[1];v[m[_].name]=w}else y=l(h,p+b,m[_].type,g),v[m[_].name]=y[0],b+=y[1];return[v,b]}function u(h,p){const m={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},g=p.format==="binary_little_endian",v=new DataView(h,p.headerLength);let y,b=0;for(let _=0;_<p.elements.length;_++)for(let w=0;w<p.elements[_].count;w++){y=c(v,b,p.elements[_].properties,g),b+=y[1];const x=y[0];o(m,p.elements[_].name,x)}return s(m)}let d;const f=this;if(e instanceof ArrayBuffer){const h=Os.decodeText(new Uint8Array(e)),p=t(h);d=p.format==="ascii"?a(h,p):u(e,p)}else d=a(e,t(e));return d}}class Wnt extends ms{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new Ns(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(o))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){function t(c){const u=new DataView(c),d=32/8*3+32/8*3*3+16/8,f=u.getUint32(80,!0);if(80+32/8+f*d===u.byteLength)return!0;const p=[115,111,108,105,100];for(let m=0;m<5;m++)if(r(p,u,m))return!1;return!0}function r(c,u,d){for(let f=0,h=c.length;f<h;f++)if(c[f]!==u.getUint8(d+f))return!1;return!0}function i(c){const u=new DataView(c),d=u.getUint32(80,!0);let f,h,p,m=!1,g,v,y,b,_;for(let A=0;A<80-10;A++)u.getUint32(A,!1)==1129270351&&u.getUint8(A+4)==82&&u.getUint8(A+5)==61&&(m=!0,g=new Float32Array(d*3*3),v=u.getUint8(A+6)/255,y=u.getUint8(A+7)/255,b=u.getUint8(A+8)/255,_=u.getUint8(A+9)/255);const w=84,x=12*4+2,M=new Hr,C=new Float32Array(d*3*3),T=new Float32Array(d*3*3);for(let A=0;A<d;A++){const I=w+A*x,L=u.getFloat32(I,!0),k=u.getFloat32(I+4,!0),N=u.getFloat32(I+8,!0);if(m){const F=u.getUint16(I+48,!0);F&32768?(f=v,h=y,p=b):(f=(F&31)/31,h=(F>>5&31)/31,p=(F>>10&31)/31)}for(let F=1;F<=3;F++){const D=I+F*12,H=A*3*3+(F-1)*3;C[H]=u.getFloat32(D,!0),C[H+1]=u.getFloat32(D+4,!0),C[H+2]=u.getFloat32(D+8,!0),T[H]=L,T[H+1]=k,T[H+2]=N,m&&(g[H]=f,g[H+1]=h,g[H+2]=p)}}return M.setAttribute("position",new ia(C,3)),M.setAttribute("normal",new ia(T,3)),m&&(M.setAttribute("color",new ia(g,3)),M.hasColors=!0,M.alpha=_),M}function a(c){const u=new Hr,d=/solid([\s\S]*?)endsolid/g,f=/facet([\s\S]*?)endfacet/g;let h=0;const p=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,m=new RegExp("vertex"+p+p+p,"g"),g=new RegExp("normal"+p+p+p,"g"),v=[],y=[],b=new je;let _,w=0,x=0,M=0;for(;(_=d.exec(c))!==null;){x=M;const C=_[0];for(;(_=f.exec(C))!==null;){let I=0,L=0;const k=_[0];for(;(_=g.exec(k))!==null;)b.x=parseFloat(_[1]),b.y=parseFloat(_[2]),b.z=parseFloat(_[3]),L++;for(;(_=m.exec(k))!==null;)v.push(parseFloat(_[1]),parseFloat(_[2]),parseFloat(_[3])),y.push(b.x,b.y,b.z),I++,M++;L!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+h),I!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+h),h++}const T=x,A=M-x;u.addGroup(T,A,w),w++}return u.setAttribute("position",new En(v,3)),u.setAttribute("normal",new En(y,3)),u}function s(c){return typeof c!="string"?Os.decodeText(new Uint8Array(c)):c}function o(c){if(typeof c=="string"){const u=new Uint8Array(c.length);for(let d=0;d<c.length;d++)u[d]=c.charCodeAt(d)&255;return u.buffer||u}else return c}const l=o(e);return t(l)?i(l):a(s(e))}}class qnt extends ms{constructor(e){super(e)}load(e,t,r,i){const a=this,s=this.path===""?Os.extractUrlBase(e):this.path,o=new Ns(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{t(a.parse(l,s))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},r,i)}setMaterialOptions(e){return this.materialOptions=e,this}parse(e,t){const r=e.split(`
`);let i={};const a=/\s+/,s={};for(let l=0;l<r.length;l++){let c=r[l];if(c=c.trim(),c.length===0||c.charAt(0)==="#")continue;const u=c.indexOf(" ");let d=u>=0?c.substring(0,u):c;d=d.toLowerCase();let f=u>=0?c.substring(u+1):"";if(f=f.trim(),d==="newmtl")i={name:f},s[f]=i;else if(d==="ka"||d==="kd"||d==="ks"||d==="ke"){const h=f.split(a,3);i[d]=[parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2])]}else i[d]=f}const o=new Knt(this.resourcePath||t,this.materialOptions);return o.setCrossOrigin(this.crossOrigin),o.setManager(this.manager),o.setMaterials(s),o}}class Knt{constructor(e="",t={}){this.baseUrl=e,this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:Ch,this.wrap=this.options.wrap!==void 0?this.options.wrap:vo}setCrossOrigin(e){return this.crossOrigin=e,this}setManager(e){this.manager=e}setMaterials(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(e){if(!this.options)return e;const t={};for(const r in e){const i=e[r],a={};t[r]=a;for(const s in i){let o=!0,l=i[s];const c=s.toLowerCase();switch(c){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(l=[l[0]/255,l[1]/255,l[2]/255]),this.options&&this.options.ignoreZeroRGBs&&l[0]===0&&l[1]===0&&l[2]===0&&(o=!1);break}o&&(a[c]=l)}}return t}preload(){for(const e in this.materialsInfo)this.create(e)}getIndex(e){return this.nameLookup[e]}getAsArray(){let e=0;for(const t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray}create(e){return this.materials[e]===void 0&&this.createMaterial_(e),this.materials[e]}createMaterial_(e){const t=this,r=this.materialsInfo[e],i={name:e,side:this.side};function a(o,l){return typeof l!="string"||l===""?"":/^https?:\/\//i.test(l)?l:o+l}function s(o,l){if(i[o])return;const c=t.getTextureParams(l,i),u=t.loadTexture(a(t.baseUrl,c.url));u.repeat.copy(c.scale),u.offset.copy(c.offset),u.wrapS=t.wrap,u.wrapT=t.wrap,(o==="map"||o==="emissiveMap")&&(u.encoding=Ir),i[o]=u}for(const o in r){const l=r[o];let c;if(l!=="")switch(o.toLowerCase()){case"kd":i.color=new bn().fromArray(l).convertSRGBToLinear();break;case"ks":i.specular=new bn().fromArray(l).convertSRGBToLinear();break;case"ke":i.emissive=new bn().fromArray(l).convertSRGBToLinear();break;case"map_kd":s("map",l);break;case"map_ks":s("specularMap",l);break;case"map_ke":s("emissiveMap",l);break;case"norm":s("normalMap",l);break;case"map_bump":case"bump":s("bumpMap",l);break;case"map_d":s("alphaMap",l),i.transparent=!0;break;case"ns":i.shininess=parseFloat(l);break;case"d":c=parseFloat(l),c<1&&(i.opacity=c,i.transparent=!0);break;case"tr":c=parseFloat(l),this.options&&this.options.invertTrProperty&&(c=1-c),c>0&&(i.opacity=1-c,i.transparent=!0);break}}return this.materials[e]=new wd(i),this.materials[e]}getTextureParams(e,t){const r={scale:new Wt(1,1),offset:new Wt(0,0)},i=e.split(/\s+/);let a;return a=i.indexOf("-bm"),a>=0&&(t.bumpScale=parseFloat(i[a+1]),i.splice(a,2)),a=i.indexOf("-s"),a>=0&&(r.scale.set(parseFloat(i[a+1]),parseFloat(i[a+2])),i.splice(a,4)),a=i.indexOf("-o"),a>=0&&(r.offset.set(parseFloat(i[a+1]),parseFloat(i[a+2])),i.splice(a,4)),r.url=i.join(" ").trim(),r}loadTexture(e,t,r,i,a){const s=this.manager!==void 0?this.manager:qre;let o=s.getHandler(e);o===null&&(o=new Xg(s)),o.setCrossOrigin&&o.setCrossOrigin(this.crossOrigin);const l=o.load(e,r,i,a);return t!==void 0&&(l.mapping=t),l}}const wI=new WeakMap;class Ynt extends ms{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const a=new Ns(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,s=>{const o={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,o).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const a={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,a).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(wI.has(e)){const l=wI.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const a=this.workerNextTaskID++,s=e.byteLength,o=this._getWorker(a,s).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[a]={resolve:c,reject:u},i.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{i&&a&&this._releaseTask(i,a)}),wI.set(e,{key:r,promise:o}),o}_createGeometry(e){const t=new Hr;e.index&&t.setIndex(new ia(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],a=i.name,s=i.array,o=i.itemSize;t.setAttribute(a,new ia(s,o))}return t}_loadLibrary(e,t){const r=new Ns(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,a)=>{r.load(e,i,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const a=Xnt.toString(),s=["/* draco decoder */",i,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(a){const s=a.data;switch(s.type){case"decode":i._callbacks[s.id].resolve(s);break;case"error":i._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,a){return i._taskLoad>a._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Xnt(){let n,e;onmessage=function(s){const o=s.data;switch(o.type){case"init":n=o.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=o.buffer,c=o.taskConfig;e.then(u=>{const d=u.draco,f=new d.Decoder,h=new d.DecoderBuffer;h.Init(new Int8Array(l),l.byteLength);try{const p=t(d,f,h,c),m=p.attributes.map(g=>g.array.buffer);p.index&&m.push(p.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:p},m)}catch(p){console.error(p),self.postMessage({type:"error",id:o.id,error:p.message})}finally{d.destroy(h),d.destroy(f)}});break}};function t(s,o,l,c){const u=c.attributeIDs,d=c.attributeTypes;let f,h;const p=o.GetEncodedGeometryType(l);if(p===s.TRIANGULAR_MESH)f=new s.Mesh,h=o.DecodeBufferToMesh(l,f);else if(p===s.POINT_CLOUD)f=new s.PointCloud,h=o.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!h.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+h.error_msg());const m={index:null,attributes:[]};for(const g in u){const v=self[d[g]];let y,b;if(c.useUniqueIDs)b=u[g],y=o.GetAttributeByUniqueId(f,b);else{if(b=o.GetAttributeId(f,s[u[g]]),b===-1)continue;y=o.GetAttribute(f,b)}m.attributes.push(i(s,o,f,g,v,y))}return p===s.TRIANGULAR_MESH&&(m.index=r(s,o,f)),s.destroy(f),m}function r(s,o,l){const u=l.num_faces()*3,d=u*4,f=s._malloc(d);o.GetTrianglesUInt32Array(l,d,f);const h=new Uint32Array(s.HEAPF32.buffer,f,u).slice();return s._free(f),{array:h,itemSize:1}}function i(s,o,l,c,u,d){const f=d.num_components(),p=l.num_points()*f,m=p*u.BYTES_PER_ELEMENT,g=a(s,u),v=s._malloc(m);o.GetAttributeDataArrayForAllPoints(l,d,g,m,v);const y=new u(s.HEAPF32.buffer,v,p).slice();return s._free(v),{name:c,array:y,itemSize:f}}function a(s,o){switch(o){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}const uT=new J0,Kc=new $nt;Kc.addHandler(/\.dds$/i,new Vnt);Kc.addHandler(/\.tga$/i,new xL);function jnt(n){return uT.setFromObject(n),uT.getSize(new je)}function Znt(n){return uT.setFromObject(n),uT.getCenter(new je)}function Qnt(n){const e=n.split(".");if(e.length<=1)return"";{let t=e.pop();return t=t.toLowerCase(),t}}function Jnt(n,e,t,r,i){let a;e?a=e:a=Qnt(n),a==="glb"&&(a="gltf");let s={loader:null,getObject:null};switch(a){case"dae":s={loader:new ant(Kc),getObject:o=>o.scene};break;case"fbx":s={loader:new Ktt(Kc)};break;case"gltf":s={loader:new snt(Kc),getObject:o=>{const l=o.scene;return o.animations&&(l.animations=o.animations),l}},trt(t,s,i);break;case"obj":s={loader:new Hnt(Kc)};break;case"ply":s={loader:new Gnt(Kc),getObject:o=>(o.computeVertexNormals(),new Oa(o,r==="MeshStandardMaterial"?new Ly:new bc({vertexColors:!0})))};break;case"stl":s={loader:new Wnt(Kc),getObject:o=>new Oa(o,new wd)};break;case"json":s={loader:new ett(Kc)};break}return s}function ert(){return new qnt(Kc)}function trt(n,e,t){if(n){const r=new Ynt;r.setDecoderPath(t||"assets/draco/gltf/"),r.setDecoderConfig({type:"js"}),e.loader.setDRACOLoader(r)}}const nrt=Pe({name:"vue3dLoader"});Pe({...nrt,props:{filePath:null,fileType:null,width:null,height:null,position:null,rotation:null,scale:null,lights:{default:()=>[{type:"AmbientLight",color:11184810},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]},cameraPosition:{default:()=>({x:0,y:0,z:0})},cameraRotation:null,cameraUp:null,cameraLookAt:null,backgroundColor:{default:()=>16777215},backgroundAlpha:{default:()=>1},controlsOptions:null,crossOrigin:{default:"anonymous"},requestHeader:null,outputEncoding:{default:()=>"linear"},webGLRendererOptions:{default:()=>({})},mtlPath:{default:""},showFps:{type:Boolean,default:!1},textureImage:{default:""},clearScene:{type:Boolean,default:!1},parallelLoad:{type:Boolean,default:!1},labels:{default:()=>[]},autoPlay:{type:Boolean,default:!0},enableDraco:{type:Boolean,default:!1},dracoDir:null,intersectRecursive:{type:Boolean,default:!1},enableDamping:{type:Boolean},dampingFactor:null,verticalCtrl:{type:[Boolean,Object],default:!1},horizontalCtrl:{type:[Boolean,Object],default:!1},plyMaterial:{default:"MeshStandardMaterial"},enableAxesHelper:{type:Boolean,default:!1},axesHelperSize:{default:100},enableGridHelper:{type:Boolean,default:!1},minDistance:{default:0},maxDistance:{default:1/0},pointLightFollowCamera:{type:Boolean}},emits:["mousedown","mousemove","mouseup","click","dblclick","load","process","error"],setup(n,{expose:e,emit:t}){const r=n;let i=null;const a=new vtt,s=new Wt,o=new La(45,1,.1,1e5),l=new rtt;let c=new Z8,u=null,d={},f=[],h=null,p=0,m=null,g=null,v=null,y=null,b=null;const _=te({width:r.width||0,height:r.height||0}),w=te(0),x=te(!1),M=te(!1),C=te(null),T=te(null);dn(()=>{L()}),vr(()=>{I()}),dt([()=>r.autoPlay],()=>{Ue()}),dt([()=>r.width,()=>r.height],()=>{_.value={width:r.width||0,height:r.height||0}}),dt([()=>r.enableAxesHelper,()=>r.axesHelperSize,()=>r.enableGridHelper],()=>{ft()}),dt([()=>r.minDistance,()=>r.maxDistance],()=>{Ee()}),dt([()=>r.filePath,()=>r.fileType,()=>r.mtlPath,()=>r.clearScene,()=>r.backgroundAlpha,()=>r.backgroundColor],G=>{(G[0]||G[1])&&A(),G[2]&&Re(),G[3]&&he(),(G[4]||G[5])&&re()},{deep:!0}),dt([()=>r.rotation,()=>r.position,()=>r.scale,()=>r.lights],G=>{const ye=["rotation","position","scale"];G.forEach((ve,Le)=>{Le<3&&ve?ke(ye[Le],ve):de()})},{deep:!0}),dt([()=>_],()=>{fe(!0),re()},{deep:!0}),dt([()=>r.controlsOptions],()=>{me()},{deep:!0}),dt([()=>r.cameraRotation,()=>r.cameraPosition],()=>{fe()},{deep:!0}),dt([()=>r.labels],()=>{V()},{deep:!0});function A(){I(),L()}function I(){p&&cancelAnimationFrame(p),u&&u.dispose(),d&&Object.keys(d).length>0&&(d.dispose(),d={});const G=C.value;G.removeEventListener("mousedown",D,!1),G.removeEventListener("mousemove",H,!1),G.removeEventListener("mouseup",z,!1),G.removeEventListener("click",B,!1),G.removeEventListener("dblclick",W,!1),window.removeEventListener("resize",F,!1),i=null,c&&c.clear()}function L(){const{filePath:G,outputEncoding:ye,webGLRendererOptions:ve,showFps:Le,enableDamping:be,dampingFactor:Te,labels:ht}=r;G&&typeof G=="object"&&(M.value=!0);const Ie=C.value;k(Ie),F();const nt=Object.assign({},{antialias:!0,alpha:!0},ve,{canvas:T.value});if(!u){u=new Ere(nt),u.shadowMap.enabled=!0;const vt=ye==="linear"?Th:Ir;u.outputEncoding=vt}(!d||Object.keys(d).length<=0)&&(d=new btt(o,Ie),be&&(d.enableDamping=!0,Te!=null&&(d.dampingFactor=Te))),Ee(),ft(),Re(),ee(),N(!0),Ie.addEventListener("mousedown",D,!1),Ie.addEventListener("mouseup",z,!1),Ie.addEventListener("click",B,!1),Ie.addEventListener("dblclick",W,!1),window.addEventListener("resize",F,!1),Le&&(m=Ob(),Ie.appendChild(m.dom)),ie(),ht&&ht.length>0&&V()}function k(G){const{width:ye,height:ve}=r;ye&&(G.style.width=`${ye}px`),ve&&(G.style.height=`${ve}px`)}function N(G){const ye=C.value;G?ye.addEventListener("mousemove",H,!1):ye.removeEventListener("mousemove",H,!1)}function F(){const{width:G,height:ye}=r;(!G||!ye)&&Yt(()=>{const ve=C.value;_.value={width:G||ve.offsetWidth,height:ye||ve.offsetHeight}})}function D(G){N(!1);const ye=Z(G.clientX,G.clientY);t("mousedown",G,ye)}function H(G){const ye=Z(G.clientX,G.clientY);t("mousemove",G,ye)}function z(G){const ye=Z(G.clientX,G.clientY);t("mouseup",G,ye),N(!0)}function B(G){const ye=Z(G.clientX,G.clientY);t("click",G,ye)}function W(G){const ye=Z(G.clientX,G.clientY);t("dblclick",G,ye)}function Z(G,ye){const ve=oe();if(!ve||!C.value)return null;const Le=C.value.getBoundingClientRect();G-=Le.left,ye-=Le.top,s.x=G/_.value.width*2-1,s.y=-(ye/_.value.height)*2+1,a.setFromCamera(s,o);const be=a.intersectObject(ve,r.intersectRecursive);return(be&&be.length)>0?be[0]:null}function ee(){re(),fe(),de(),me()}function J(){if(!i)return;const G=M.value?we(i):null,{position:ye,rotation:ve,scale:Le}=r;ye&&(ye instanceof Array?G!=null?i.position.set(ye[G].x,ye[G].y,ye[G].z):i.position.set(0,0,0):i.position.set(ye.x,ye.y,ye.z)),ve&&(ve instanceof Array?G!=null?i.rotation.set(ve[G].x,ve[G].y,ve[G].z):i.rotation.set(0,0,0):i.rotation.set(ve.x,ve.y,ve.z)),Le&&(Le instanceof Array?G!=null?i.scale.set(Le[G].x,Le[G].y,Le[G].z):i.scale.set(1,1,1):i.scale.set(Le.x,Le.y,Le.z))}function re(){const{backgroundColor:G,backgroundAlpha:ye}=r;u.setSize(_.value.width,_.value.height),u.setPixelRatio(window.devicePixelRatio||1),u.setClearColor(new bn(G).getHex()),u.setClearAlpha(ye)}function fe(G){const{cameraPosition:ye,cameraRotation:ve,cameraUp:Le,cameraLookAt:be}=r;if(o.aspect=_.value.width/_.value.height,o.updateProjectionMatrix(),!G)if(!be||!Le){if(!i)return;const Te=jnt(i).length();o.position.set(ye.x,ye.y,ye.z),ve&&o.rotation.set(ve.x,ve.y,ve.z),ye.x===0&&ye.y===0&&ye.z===0&&(o.position.z=Te),o.lookAt(new je)}else o.position.set(ye.x,ye.y,ye.z),ve&&o.rotation.set(ve.x,ve.y,ve.z),o.up.set(Le.x,Le.y,Le.z),o.lookAt(new je(be.x,be.y,be.z))}function de(){const{lights:G}=r;c.remove(...f),f=[],G.forEach(ye=>{if(!ye.type)return;const ve=ye.type.toLowerCase();let Le=null;if(ve==="ambient"||ve==="ambientlight"){const be=ye.color===0?ye.color:ye.color||4210752,Te=ye.intensity===0?ye.intensity:ye.intensity||1;Le=new zA(be,Te)}if(ve==="point"||ve==="pointlight"){const be=ye.color===0?ye.color:ye.color||16777215,Te=ye.intensity===0?ye.intensity:ye.intensity||1,ht=ye.distance||0,Ie=ye.decay===0?ye.decay:ye.decay||1;Le=new H0(be,Te,ht,Ie),ye.position&&Le.position.copy(ye.position)}if(ve==="directional"||ve==="directionallight"){const be=ye.color===0?ye.color:ye.color||16777215,Te=ye.intensity===0?ye.intensity:ye.intensity||1;Le=new GS(be,Te),ye.position&&Le.position.copy(ye.position),ye.target&&Le.target.copy(ye.target)}if(ve==="hemisphere"||ve==="hemispherelight"){const be=ye.skyColor===0?ye.skyColor:ye.skyColor||16777215,Te=ye.groundColor===0?ye.groundColor:ye.groundColor||16777215,ht=ye.intensity===0?ye.intensity:ye.intensity||1;Le=new Kre(be,Te,ht),ye.position&&Le.position.copy(ye.position)}Le&&(f.push(Le),c.add(Le))})}function me(){const{controlsOptions:G}=r;G&&Object.assign(d,G)}function Re(){const{filePath:G,parallelLoad:ye}=r;ye&&M?G.forEach((ve,Le)=>{De(Le)}):De()}function De(G){const{filePath:ye,fileType:ve,crossOrigin:Le,requestHeader:be,mtlPath:Te,enableDraco:ht,dracoDir:Ie,plyMaterial:bt}=r;if(!ye)return;const nt=G||w.value,vt=M.value?ye[nt]:ye,kt=typeof ve=="string"?ve:ve?ve[nt]:"",Tt=Jnt(vt,kt,ht,bt,Ie);h=Tt.loader;const an=Tt.getObject?Tt.getObject:K;if(i&&nt===0&&c.remove(i),be&&h.setRequestHeader(be),Le&&h.setCrossOrigin(Le),Te)if(!(typeof Te=="object"))We(vt,an,nt);else{if(!Te[nt]){Ge(vt,an,nt);return}We(vt,an,nt)}else Ge(vt,an,nt)}function Ge(G,ye,ve){const{textureImage:Le,parallelLoad:be}=r;h.load(G,(...Te)=>{if(i=ye(...Te),ue(i,G),Le){const Ie=typeof Le=="string"?Le:Le[ve];Ie&&ce(i,Ie)}t("load",c)},Te=>{be||Ye(Te);const ht=w.value+1;t("process",Te,ht)},Te=>{t("error",Te)})}function We(G,ye,ve){const{crossOrigin:Le,requestHeader:be,mtlPath:Te}=r,ht=ert();Le&&ht.setCrossOrigin(Le),be&&ht.setRequestHeader(be);const Ie=typeof Te=="string"?Te:Te[ve],bt=/^(.*\/)([^/]*)$/.exec(Ie),nt=bt[1],vt=bt[2];ht.setPath(nt).load(vt,kt=>{kt.preload(),h.setMaterials(kt),Ge(G,ye,ve)})}function K(G){return G}function ue(G,ye){const ve=Znt(i);x.value||(c.position.copy(ve.negate()),x.value=!0),i=G;let Le=ye.split("/");Le=Le[Le.length-1],i.fileName=Le,c.add(i),fe(),J(),Ue()}function ie(){p=requestAnimationFrame(ie),Ne();const G=l.getDelta();g&&g instanceof mI&&g.update(G),g&&g instanceof Array&&g.forEach(ye=>{ye.update(G)}),d&&d.update(),$e()}function $e(){const{pointLightFollowCamera:G}=r;G&&st(),u.render(c,o)}function Ne(){const{showFps:G}=r;G&&m.update()}function Ye(G){const{filePath:ye}=r;Math.floor(G.loaded/G.total*100)===100&&(M.value&&ye.length>w.value?Yt(()=>{if(w.value++,w.value===ye.length){w.value=0;return}De()}):w.value=0)}function ce(G,ye){v||(v=new Xg),G.traverse(ve=>{ve.isMesh&&v.load(ye,Le=>{ve.material.map=Le,ve.material.needsUpdate=!0},()=>{},Le=>{t("error",Le)})})}function he(){c.clear()}function ke(G,ye){const ve=oe();if(ve){if(M.value){ve.children.forEach(Le=>{const be=we(Le),Te=G==="scale"?1:0;ye[be]?Le[G].set(ye[be].x,ye[be].y,ye[be].z):Le[G].set(Te,Te,Te)});return}ve[G].set(ye.x,ye.y,ye.z)}}function oe(){return M.value?c:i}function V(){const{labels:G}=r;if(!G||G.length<=0)return;Y();const ye=M.value?c:i,ve=be=>(v||(v=new Xg),v.load(be)),Le=(be,Te)=>{const ht=Q(be,Te),Ie=new fs(ht);return Ie.needsUpdate=!0,Ie};G.forEach(be=>{const Te=be.image?ve(be.image):Le(be.text,be.textStyle||{}),ht=new J8({map:Te,color:be.spriteMaterialColor||16777215}),Ie=new TC(ht);be.scale?Ie.scale.set(be.scale.x||1,be.scale.y||1,be.scale.z||0):Ie.scale.set(1,1,0),be.position&&Ie.position.set(be.position.x,be.position.y,be.position.z),be.sid&&(Ie.sid=be.sid),ye.add(Ie)})}function Y(){const G=c.children;for(let ye=G.length-1;ye>=0;ye--){const ve=G[ye];ve&&(ve instanceof go&&ve.children&&(c.children[ye].children=ve.children.map(Le=>Le instanceof TC?null:Le).filter(Le=>Le)),ve instanceof TC&&c.remove(ve))}}function Q(G,ye){const ve=(an,_n,or,Ln,Kr,jn)=>{an.beginPath(),an.moveTo(_n+jn,or),an.lineTo(_n+Ln-jn,or),an.quadraticCurveTo(_n+Ln,or,_n+Ln,or+jn),an.lineTo(_n+Ln,or+Kr-jn),an.quadraticCurveTo(_n+Ln,or+Kr,_n+Ln-jn,or+Kr),an.lineTo(_n+jn,or+Kr),an.quadraticCurveTo(_n,or+Kr,_n,or+Kr-jn),an.lineTo(_n,or+jn),an.quadraticCurveTo(_n,or,_n+jn,or),an.closePath(),an.fill(),an.stroke()},Le=ye.fontFamily||"Arial",be=ye.fontSize===0||ye.fontSize?ye.fontSize:18,Te=ye.color||"#ffffff",ht=ye.fontWeight||"normal",Ie=ye.borderWidth===0||ye.borderWidth?ye.borderWidth:4,bt=ye.borderColor||"rgba(0,0,0,1)",nt=ye.borderRadius===0||ye.borderRadius?ye.borderRadius:4,vt=ye.backgroundColor||"rgba(255, 255, 255, 1)",kt=document.createElement("canvas"),Tt=kt.getContext("2d");if(Tt){Tt.font=`${ht} ${be}px ${Le}`;const _n=Tt.measureText(G).width;Tt.fillStyle=vt,Tt.strokeStyle=bt,Tt.lineWidth=Ie,ve(Tt,Ie/2,Ie/2,_n+Ie,be*1.4+Ie,nt),Tt.fillStyle=Te,Tt.fillText(G,Ie,be+Ie)}return kt}function we(G){const{filePath:ye}=r;let ve;return ye instanceof Array&&(ve=ye.map((Le,be)=>{if(Le.indexOf(G.fileName)>-1)return be}).filter(Le=>Le!=null)[0]),ve}function Ue(){const G=oe();if(G){if(M.value){pt(G);return}ct(G)}}function ct(G){const{autoPlay:ye}=r;g=new mI(G),G.animations&&G.animations.length>0&&G.animations.forEach(ve=>{if(ve){const Le=g.clipAction(ve);ye?Le.play():Le.stop()}})}function pt(G){const{autoPlay:ye}=r;g=[],G.children.forEach((ve,Le)=>{g.push(new mI(ve)),ve.animations&&ve.animations.length>0&&ve.animations.forEach(be=>{if(be){const Te=g[Le].clipAction(be);ye?Te.play():Te.stop()}})})}function Ee(){if(!d)return;const{verticalCtrl:G,horizontalCtrl:ye,minDistance:ve,maxDistance:Le}=r;G&&typeof G=="boolean"&&(d.minAzimuthAngle=-2*Math.PI,d.maxAzimuthAngle=-2*Math.PI),G&&typeof G=="object"&&(d.minAzimuthAngle=G.min,d.maxAzimuthAngle=G.max),ye&&typeof ye=="boolean"&&(d.minPolarAngle=1,d.maxPolarAngle=1),ye&&typeof ye=="object"&&(d.minPolarAngle=ye.min,d.maxPolarAngle=ye.max),ve!=0&&typeof ve=="number"&&(d.minDistance=ve),Le!=1/0&&typeof Le=="number"&&(d.maxDistance=Le)}function ft(){const{enableAxesHelper:G,enableGridHelper:ye,axesHelperSize:ve}=r;G?(y=new ytt(ve),c.add(y)):y&&c.remove(y),ye?(b=new gtt(2e3,100),c.add(b)):b&&c.remove(b)}function st(){const G=o.position.clone();c.children.forEach(ye=>{ye instanceof H0&&ye.position.set(G.x,G.y,G.z)})}return e({camera:o,scene:c}),(G,ye)=>($(),ge("div",{ref_key:"containerElement",ref:C,class:"viewer-container"},[_e("canvas",{ref_key:"canvasElement",ref:T,class:"viewer-canvas"},null,512)],512))}});/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const xO="171",jm={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Zm={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},rrt=0,KG=1,irt=2,Oie=1,art=2,td=3,wu=0,xo=1,Pl=2,rh=0,ih=1,YG=2,XG=3,jG=4,Nie=5,Op=100,srt=101,ort=102,lrt=103,crt=104,urt=200,drt=201,frt=202,hrt=203,aS=204,sS=205,prt=206,mrt=207,vrt=208,grt=209,yrt=210,brt=211,_rt=212,Srt=213,wrt=214,AL=0,EL=1,IL=2,Qg=3,RL=4,PL=5,LL=6,DL=7,Bie=0,xrt=1,Crt=2,ah=0,Mrt=1,Trt=2,Art=3,Ert=4,Irt=5,Rrt=6,Prt=7,Fie=300,Jg=301,ey=302,kL=303,OL=304,UA=306,NL=1e3,e0=1001,BL=1002,el=1003,Lrt=1004,l2=1005,iu=1006,xI=1007,t0=1008,xu=1009,zie=1010,Uie=1011,oS=1012,CO=1013,Bl=1014,_c=1015,$y=1016,MO=1017,TO=1018,ty=1020,Hie=35902,Vie=1021,$ie=1022,js=1023,Gie=1024,Wie=1025,y0=1026,ny=1027,qie=1028,HA=1029,AO=1030,EO=1031,dg=1033,RC=33776,PC=33777,LC=33778,DC=33779,FL=35840,zL=35841,UL=35842,HL=35843,VL=36196,$L=37492,GL=37496,WL=37808,qL=37809,KL=37810,YL=37811,XL=37812,jL=37813,ZL=37814,QL=37815,JL=37816,eD=37817,tD=37818,nD=37819,rD=37820,iD=37821,kC=36492,aD=36494,sD=36495,Kie=36283,oD=36284,lD=36285,cD=36286,Drt=3200,krt=3201,Ort=0,Nrt=1,Ff="",xl="srgb",ry="srgb-linear",dT="linear",_i="srgb",Qm=7680,ZG=519,Brt=512,Frt=513,zrt=514,Yie=515,Urt=516,Hrt=517,Vrt=518,$rt=519,QG=35044,Grt=35048,JG="300 es",yd=2e3,fT=2001;class rm{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}}const bs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let eW=1234567;const Bb=Math.PI/180,lS=180/Math.PI;function Gy(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(bs[n&255]+bs[n>>8&255]+bs[n>>16&255]+bs[n>>24&255]+"-"+bs[e&255]+bs[e>>8&255]+"-"+bs[e>>16&15|64]+bs[e>>24&255]+"-"+bs[t&63|128]+bs[t>>8&255]+"-"+bs[t>>16&255]+bs[t>>24&255]+bs[r&255]+bs[r>>8&255]+bs[r>>16&255]+bs[r>>24&255]).toLowerCase()}function Mr(n,e,t){return Math.max(e,Math.min(t,n))}function IO(n,e){return(n%e+e)%e}function Wrt(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function qrt(n,e,t){return n!==e?(t-n)/(e-n):0}function Fb(n,e,t){return(1-t)*n+t*e}function Krt(n,e,t,r){return Fb(n,e,1-Math.exp(-t*r))}function Yrt(n,e=1){return e-Math.abs(IO(n,e*2)-e)}function Xrt(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function jrt(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Zrt(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Qrt(n,e){return n+Math.random()*(e-n)}function Jrt(n){return n*(.5-Math.random())}function eit(n){n!==void 0&&(eW=n);let e=eW+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function tit(n){return n*Bb}function nit(n){return n*lS}function rit(n){return(n&n-1)===0&&n!==0}function iit(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function ait(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function sit(n,e,t,r,i){const a=Math.cos,s=Math.sin,o=a(t/2),l=s(t/2),c=a((e+r)/2),u=s((e+r)/2),d=a((e-r)/2),f=s((e-r)/2),h=a((r-e)/2),p=s((r-e)/2);switch(i){case"XYX":n.set(o*u,l*d,l*f,o*c);break;case"YZY":n.set(l*f,o*u,l*d,o*c);break;case"ZXZ":n.set(l*d,l*f,o*u,o*c);break;case"XZX":n.set(o*u,l*p,l*h,o*c);break;case"YXY":n.set(l*h,o*u,l*p,o*c);break;case"ZYZ":n.set(l*p,l*h,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ev(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function $s(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Xie={DEG2RAD:Bb,RAD2DEG:lS,generateUUID:Gy,clamp:Mr,euclideanModulo:IO,mapLinear:Wrt,inverseLerp:qrt,lerp:Fb,damp:Krt,pingpong:Yrt,smoothstep:Xrt,smootherstep:jrt,randInt:Zrt,randFloat:Qrt,randFloatSpread:Jrt,seededRandom:eit,degToRad:tit,radToDeg:nit,isPowerOfTwo:rit,ceilPowerOfTwo:iit,floorPowerOfTwo:ait,setQuaternionFromProperEuler:sit,normalize:$s,denormalize:Ev};class Hn{constructor(e=0,t=0){Hn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Mr(this.x,e.x,t.x),this.y=Mr(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Mr(this.x,e,t),this.y=Mr(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Mr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Mr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*i+e.x,this.y=a*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class cr{constructor(e,t,r,i,a,s,o,l,c){cr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,s,o,l,c)}set(e,t,r,i,a,s,o,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=t,u[4]=a,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],p=r[8],m=i[0],g=i[3],v=i[6],y=i[1],b=i[4],_=i[7],w=i[2],x=i[5],M=i[8];return a[0]=s*m+o*y+l*w,a[3]=s*g+o*b+l*x,a[6]=s*v+o*_+l*M,a[1]=c*m+u*y+d*w,a[4]=c*g+u*b+d*x,a[7]=c*v+u*_+d*M,a[2]=f*m+h*y+p*w,a[5]=f*g+h*b+p*x,a[8]=f*v+h*_+p*M,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return t*s*u-t*o*c-r*a*u+r*o*l+i*a*c-i*s*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=u*s-o*c,f=o*l-u*a,h=c*a-s*l,p=t*d+r*f+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=d*m,e[1]=(i*c-u*r)*m,e[2]=(o*r-i*s)*m,e[3]=f*m,e[4]=(u*t-i*l)*m,e[5]=(i*a-o*t)*m,e[6]=h*m,e[7]=(r*l-c*t)*m,e[8]=(s*t-r*a)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,s,o){const l=Math.cos(a),c=Math.sin(a);return this.set(r*l,r*c,-r*(l*s+c*o)+s+e,-i*c,i*l,-i*(-c*s+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(CI.makeScale(e,t)),this}rotate(e){return this.premultiply(CI.makeRotation(-e)),this}translate(e,t){return this.premultiply(CI.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const CI=new cr;function jie(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function hT(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function oit(){const n=hT("canvas");return n.style.display="block",n}const tW={};function Iv(n){n in tW||(tW[n]=!0,console.warn(n))}function lit(n,e,t){return new Promise(function(r,i){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:r()}}setTimeout(a,t)})}function cit(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function uit(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const nW=new cr().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),rW=new cr().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function dit(){const n={enabled:!0,workingColorSpace:ry,spaces:{},convert:function(i,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===_i&&(i.r=xd(i.r),i.g=xd(i.g),i.b=xd(i.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===_i&&(i.r=fg(i.r),i.g=fg(i.g),i.b=fg(i.b))),i},fromWorkingColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},toWorkingColorSpace:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Ff?dT:this.spaces[i].transfer},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,s){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[ry]:{primaries:e,whitePoint:r,transfer:dT,toXYZ:nW,fromXYZ:rW,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:xl},outputColorSpaceConfig:{drawingBufferColorSpace:xl}},[xl]:{primaries:e,whitePoint:r,transfer:_i,toXYZ:nW,fromXYZ:rW,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:xl}}}),n}const ni=dit();function xd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function fg(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Jm;class fit{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Jm===void 0&&(Jm=hT("canvas")),Jm.width=e.width,Jm.height=e.height;const r=Jm.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Jm}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=hT("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=xd(a[s]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(xd(t[r]/255)*255):t[r]=xd(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let hit=0;class Zie{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:hit++}),this.uuid=Gy(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(MI(i[s].image)):a.push(MI(i[s]))}else a=MI(i);r.url=a}return t||(e.images[this.uuid]=r),r}}function MI(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?fit.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let pit=0;class Js extends rm{constructor(e=Js.DEFAULT_IMAGE,t=Js.DEFAULT_MAPPING,r=e0,i=e0,a=iu,s=t0,o=js,l=xu,c=Js.DEFAULT_ANISOTROPY,u=Ff){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:pit++}),this.uuid=Gy(),this.name="",this.source=new Zie(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Hn(0,0),this.repeat=new Hn(1,1),this.center=new Hn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new cr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Fie)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case NL:e.x=e.x-Math.floor(e.x);break;case e0:e.x=e.x<0?0:1;break;case BL:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case NL:e.y=e.y-Math.floor(e.y);break;case e0:e.y=e.y<0?0:1;break;case BL:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Js.DEFAULT_IMAGE=null;Js.DEFAULT_MAPPING=Fie;Js.DEFAULT_ANISOTROPY=1;class Vi{constructor(e=0,t=0,r=0,i=1){Vi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*a,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*a,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*a,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],p=l[9],m=l[2],g=l[6],v=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(p-g)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(p+g)<.1&&Math.abs(c+h+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,_=(h+1)/2,w=(v+1)/2,x=(u+f)/4,M=(d+m)/4,C=(p+g)/4;return b>_&&b>w?b<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(b),i=x/r,a=M/r):_>w?_<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(_),r=x/i,a=C/i):w<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(w),r=M/a,i=C/a),this.set(r,i,a,t),this}let y=Math.sqrt((g-p)*(g-p)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(y)<.001&&(y=1),this.x=(g-p)/y,this.y=(d-m)/y,this.z=(f-u)/y,this.w=Math.acos((c+h+v-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Mr(this.x,e.x,t.x),this.y=Mr(this.y,e.y,t.y),this.z=Mr(this.z,e.z,t.z),this.w=Mr(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Mr(this.x,e,t),this.y=Mr(this.y,e,t),this.z=Mr(this.z,e,t),this.w=Mr(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Mr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class mit extends rm{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Vi(0,0,e,t),this.scissorTest=!1,this.viewport=new Vi(0,0,e,t);const i={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:iu,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const a=new Js(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);a.flipY=!1,a.generateMipmaps=r.generateMipmaps,a.internalFormat=r.internalFormat,this.textures=[];const s=r.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Zie(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ph extends mit{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class Qie extends Js{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=el,this.minFilter=el,this.wrapR=e0,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class vit extends Js{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=el,this.minFilter=el,this.wrapR=e0,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Yi{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,a,s,o){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=a[s+0],h=a[s+1],p=a[s+2],m=a[s+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(o===1){e[t+0]=f,e[t+1]=h,e[t+2]=p,e[t+3]=m;return}if(d!==m||l!==f||c!==h||u!==p){let g=1-o;const v=l*f+c*h+u*p+d*m,y=v>=0?1:-1,b=1-v*v;if(b>Number.EPSILON){const w=Math.sqrt(b),x=Math.atan2(w,v*y);g=Math.sin(g*x)/w,o=Math.sin(o*x)/w}const _=o*y;if(l=l*g+f*_,c=c*g+h*_,u=u*g+p*_,d=d*g+m*_,g===1-o){const w=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=w,c*=w,u*=w,d*=w}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,a,s){const o=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=a[s],f=a[s+1],h=a[s+2],p=a[s+3];return e[t]=o*p+u*d+l*h-c*f,e[t+1]=l*p+u*f+c*d-o*h,e[t+2]=c*p+u*h+o*f-l*d,e[t+3]=u*p-o*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(r/2),u=o(i/2),d=o(a/2),f=l(r/2),h=l(i/2),p=l(a/2);switch(s){case"XYZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"YXZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"ZXY":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"ZYX":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"YZX":this._x=f*u*d+c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d-f*h*p;break;case"XZY":this._x=f*u*d-c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],a=t[8],s=t[1],o=t[5],l=t[9],c=t[2],u=t[6],d=t[10],f=r+o+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(a-c)*h,this._z=(s-i)*h}else if(r>o&&r>d){const h=2*Math.sqrt(1+r-o-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(a+c)/h}else if(o>d){const h=2*Math.sqrt(1+o-r-d);this._w=(a-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-o);this._w=(s-i)/h,this._x=(a+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Mr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,a=e._z,s=e._w,o=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+s*o+i*c-a*l,this._y=i*u+s*l+a*o-r*c,this._z=a*u+s*c+r*l-i*o,this._w=s*u-r*o-i*l-a*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,s=this._w;let o=s*e._w+r*e._x+i*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=r,this._y=i,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const h=1-t;return this._w=h*s+t*this._w,this._x=h*r+t*this._x,this._y=h*i+t*this._y,this._z=h*a+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),d=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=s*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=a*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class tt{constructor(e=0,t=0,r=0){tt.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(iW.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(iW.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,a=e.x,s=e.y,o=e.z,l=e.w,c=2*(s*i-o*r),u=2*(o*t-a*i),d=2*(a*r-s*t);return this.x=t+l*c+s*d-o*u,this.y=r+l*u+o*c-a*d,this.z=i+l*d+a*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Mr(this.x,e.x,t.x),this.y=Mr(this.y,e.y,t.y),this.z=Mr(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Mr(this.x,e,t),this.y=Mr(this.y,e,t),this.z=Mr(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Mr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,a=e.z,s=t.x,o=t.y,l=t.z;return this.x=i*l-a*o,this.y=a*s-r*l,this.z=r*o-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return TI.copy(this).projectOnVector(e),this.sub(TI)}reflect(e){return this.sub(TI.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Mr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const TI=new tt,iW=new Yi;class au{constructor(e=new tt(1/0,1/0,1/0),t=new tt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(ac.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(ac.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=ac.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,ac):ac.fromBufferAttribute(a,s),ac.applyMatrix4(e.matrixWorld),this.expandByPoint(ac);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),c2.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),c2.copy(r.boundingBox)),c2.applyMatrix4(e.matrixWorld),this.union(c2)}const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,ac),ac.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(z1),u2.subVectors(this.max,z1),ev.subVectors(e.a,z1),tv.subVectors(e.b,z1),nv.subVectors(e.c,z1),Sf.subVectors(tv,ev),wf.subVectors(nv,tv),gp.subVectors(ev,nv);let t=[0,-Sf.z,Sf.y,0,-wf.z,wf.y,0,-gp.z,gp.y,Sf.z,0,-Sf.x,wf.z,0,-wf.x,gp.z,0,-gp.x,-Sf.y,Sf.x,0,-wf.y,wf.x,0,-gp.y,gp.x,0];return!AI(t,ev,tv,nv,u2)||(t=[1,0,0,0,1,0,0,0,1],!AI(t,ev,tv,nv,u2))?!1:(d2.crossVectors(Sf,wf),t=[d2.x,d2.y,d2.z],AI(t,ev,tv,nv,u2))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ac).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ac).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Yu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Yu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Yu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Yu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Yu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Yu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Yu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Yu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Yu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Yu=[new tt,new tt,new tt,new tt,new tt,new tt,new tt,new tt],ac=new tt,c2=new au,ev=new tt,tv=new tt,nv=new tt,Sf=new tt,wf=new tt,gp=new tt,z1=new tt,u2=new tt,d2=new tt,yp=new tt;function AI(n,e,t,r,i){for(let a=0,s=n.length-3;a<=s;a+=3){yp.fromArray(n,a);const o=i.x*Math.abs(yp.x)+i.y*Math.abs(yp.y)+i.z*Math.abs(yp.z),l=e.dot(yp),c=t.dot(yp),u=r.dot(yp);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const git=new au,U1=new tt,EI=new tt;class RO{constructor(e=new tt,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):git.setFromPoints(e).getCenter(r);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;U1.subVectors(e,this.center);const t=U1.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(U1,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(EI.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(U1.copy(e.center).add(EI)),this.expandByPoint(U1.copy(e.center).sub(EI))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Xu=new tt,II=new tt,f2=new tt,xf=new tt,RI=new tt,h2=new tt,PI=new tt;let Jie=class{constructor(e=new tt,t=new tt(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Xu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Xu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Xu.copy(this.origin).addScaledVector(this.direction,t),Xu.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){II.copy(e).add(t).multiplyScalar(.5),f2.copy(t).sub(e).normalize(),xf.copy(this.origin).sub(II);const a=e.distanceTo(t)*.5,s=-this.direction.dot(f2),o=xf.dot(this.direction),l=-xf.dot(f2),c=xf.lengthSq(),u=Math.abs(1-s*s);let d,f,h,p;if(u>0)if(d=s*l-o,f=s*o-l,p=a*u,d>=0)if(f>=-p)if(f<=p){const m=1/u;d*=m,f*=m,h=d*(d+s*f+2*o)+f*(s*d+f+2*l)+c}else f=a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;else f=-a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;else f<=-p?(d=Math.max(0,-(-s*a+o)),f=d>0?-a:Math.min(Math.max(-a,-l),a),h=-d*d+f*(f+2*l)+c):f<=p?(d=0,f=Math.min(Math.max(-a,-l),a),h=f*(f+2*l)+c):(d=Math.max(0,-(s*a+o)),f=d>0?a:Math.min(Math.max(-a,-l),a),h=-d*d+f*(f+2*l)+c);else f=s>0?-a:a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(II).addScaledVector(f2,f),h}intersectSphere(e,t){Xu.subVectors(e.center,this.origin);const r=Xu.dot(this.direction),i=Xu.dot(Xu)-r*r,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=r-s,l=r+s;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,s,o,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(a=(e.min.y-f.y)*u,s=(e.max.y-f.y)*u):(a=(e.max.y-f.y)*u,s=(e.min.y-f.y)*u),r>s||a>i||((a>r||isNaN(r))&&(r=a),(s<i||isNaN(i))&&(i=s),d>=0?(o=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(o=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Xu)!==null}intersectTriangle(e,t,r,i,a){RI.subVectors(t,e),h2.subVectors(r,e),PI.crossVectors(RI,h2);let s=this.direction.dot(PI),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;xf.subVectors(this.origin,e);const l=o*this.direction.dot(h2.crossVectors(xf,h2));if(l<0)return null;const c=o*this.direction.dot(RI.cross(xf));if(c<0||l+c>s)return null;const u=-o*xf.dot(PI);return u<0?null:this.at(u/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}};class ur{constructor(e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,g){ur.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,g)}set(e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,g){const v=this.elements;return v[0]=e,v[4]=t,v[8]=r,v[12]=i,v[1]=a,v[5]=s,v[9]=o,v[13]=l,v[2]=c,v[6]=u,v[10]=d,v[14]=f,v[3]=h,v[7]=p,v[11]=m,v[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ur().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/rv.setFromMatrixColumn(e,0).length(),a=1/rv.setFromMatrixColumn(e,1).length(),s=1/rv.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(a),d=Math.sin(a);if(e.order==="XYZ"){const f=s*u,h=s*d,p=o*u,m=o*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=h+p*c,t[5]=f-m*c,t[9]=-o*l,t[2]=m-f*c,t[6]=p+h*c,t[10]=s*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,p=c*u,m=c*d;t[0]=f+m*o,t[4]=p*o-h,t[8]=s*c,t[1]=s*d,t[5]=s*u,t[9]=-o,t[2]=h*o-p,t[6]=m+f*o,t[10]=s*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,p=c*u,m=c*d;t[0]=f-m*o,t[4]=-s*d,t[8]=p+h*o,t[1]=h+p*o,t[5]=s*u,t[9]=m-f*o,t[2]=-s*c,t[6]=o,t[10]=s*l}else if(e.order==="ZYX"){const f=s*u,h=s*d,p=o*u,m=o*d;t[0]=l*u,t[4]=p*c-h,t[8]=f*c+m,t[1]=l*d,t[5]=m*c+f,t[9]=h*c-p,t[2]=-c,t[6]=o*l,t[10]=s*l}else if(e.order==="YZX"){const f=s*l,h=s*c,p=o*l,m=o*c;t[0]=l*u,t[4]=m-f*d,t[8]=p*d+h,t[1]=d,t[5]=s*u,t[9]=-o*u,t[2]=-c*u,t[6]=h*d+p,t[10]=f-m*d}else if(e.order==="XZY"){const f=s*l,h=s*c,p=o*l,m=o*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=f*d+m,t[5]=s*u,t[9]=h*d-p,t[2]=p*d-h,t[6]=o*u,t[10]=m*d+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(yit,e,bit)}lookAt(e,t,r){const i=this.elements;return Bo.subVectors(e,t),Bo.lengthSq()===0&&(Bo.z=1),Bo.normalize(),Cf.crossVectors(r,Bo),Cf.lengthSq()===0&&(Math.abs(r.z)===1?Bo.x+=1e-4:Bo.z+=1e-4,Bo.normalize(),Cf.crossVectors(r,Bo)),Cf.normalize(),p2.crossVectors(Bo,Cf),i[0]=Cf.x,i[4]=p2.x,i[8]=Bo.x,i[1]=Cf.y,i[5]=p2.y,i[9]=Bo.y,i[2]=Cf.z,i[6]=p2.z,i[10]=Bo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],p=r[2],m=r[6],g=r[10],v=r[14],y=r[3],b=r[7],_=r[11],w=r[15],x=i[0],M=i[4],C=i[8],T=i[12],A=i[1],I=i[5],L=i[9],k=i[13],N=i[2],F=i[6],D=i[10],H=i[14],z=i[3],B=i[7],W=i[11],Z=i[15];return a[0]=s*x+o*A+l*N+c*z,a[4]=s*M+o*I+l*F+c*B,a[8]=s*C+o*L+l*D+c*W,a[12]=s*T+o*k+l*H+c*Z,a[1]=u*x+d*A+f*N+h*z,a[5]=u*M+d*I+f*F+h*B,a[9]=u*C+d*L+f*D+h*W,a[13]=u*T+d*k+f*H+h*Z,a[2]=p*x+m*A+g*N+v*z,a[6]=p*M+m*I+g*F+v*B,a[10]=p*C+m*L+g*D+v*W,a[14]=p*T+m*k+g*H+v*Z,a[3]=y*x+b*A+_*N+w*z,a[7]=y*M+b*I+_*F+w*B,a[11]=y*C+b*L+_*D+w*W,a[15]=y*T+b*k+_*H+w*Z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],s=e[1],o=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],p=e[3],m=e[7],g=e[11],v=e[15];return p*(+a*l*d-i*c*d-a*o*f+r*c*f+i*o*h-r*l*h)+m*(+t*l*h-t*c*f+a*s*f-i*s*h+i*c*u-a*l*u)+g*(+t*c*d-t*o*h-a*s*d+r*s*h+a*o*u-r*c*u)+v*(-i*o*u-t*l*d+t*o*f+i*s*d-r*s*f+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],m=e[13],g=e[14],v=e[15],y=d*g*c-m*f*c+m*l*h-o*g*h-d*l*v+o*f*v,b=p*f*c-u*g*c-p*l*h+s*g*h+u*l*v-s*f*v,_=u*m*c-p*d*c+p*o*h-s*m*h-u*o*v+s*d*v,w=p*d*l-u*m*l-p*o*f+s*m*f+u*o*g-s*d*g,x=t*y+r*b+i*_+a*w;if(x===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/x;return e[0]=y*M,e[1]=(m*f*a-d*g*a-m*i*h+r*g*h+d*i*v-r*f*v)*M,e[2]=(o*g*a-m*l*a+m*i*c-r*g*c-o*i*v+r*l*v)*M,e[3]=(d*l*a-o*f*a-d*i*c+r*f*c+o*i*h-r*l*h)*M,e[4]=b*M,e[5]=(u*g*a-p*f*a+p*i*h-t*g*h-u*i*v+t*f*v)*M,e[6]=(p*l*a-s*g*a-p*i*c+t*g*c+s*i*v-t*l*v)*M,e[7]=(s*f*a-u*l*a+u*i*c-t*f*c-s*i*h+t*l*h)*M,e[8]=_*M,e[9]=(p*d*a-u*m*a-p*r*h+t*m*h+u*r*v-t*d*v)*M,e[10]=(s*m*a-p*o*a+p*r*c-t*m*c-s*r*v+t*o*v)*M,e[11]=(u*o*a-s*d*a-u*r*c+t*d*c+s*r*h-t*o*h)*M,e[12]=w*M,e[13]=(u*m*i-p*d*i+p*r*f-t*m*f-u*r*g+t*d*g)*M,e[14]=(p*o*i-s*m*i-p*r*l+t*m*l+s*r*g-t*o*g)*M,e[15]=(s*d*i-u*o*i+u*r*l-t*d*l-s*r*f+t*o*f)*M,this}scale(e){const t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),a=1-r,s=e.x,o=e.y,l=e.z,c=a*s,u=a*o;return this.set(c*s+r,c*o-i*l,c*l+i*o,0,c*o+i*l,u*o+r,u*l-i*s,0,c*l-i*o,u*l+i*s,a*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,a=t._x,s=t._y,o=t._z,l=t._w,c=a+a,u=s+s,d=o+o,f=a*c,h=a*u,p=a*d,m=s*u,g=s*d,v=o*d,y=l*c,b=l*u,_=l*d,w=r.x,x=r.y,M=r.z;return i[0]=(1-(m+v))*w,i[1]=(h+_)*w,i[2]=(p-b)*w,i[3]=0,i[4]=(h-_)*x,i[5]=(1-(f+v))*x,i[6]=(g+y)*x,i[7]=0,i[8]=(p+b)*M,i[9]=(g-y)*M,i[10]=(1-(f+m))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let a=rv.set(i[0],i[1],i[2]).length();const s=rv.set(i[4],i[5],i[6]).length(),o=rv.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],sc.copy(this);const c=1/a,u=1/s,d=1/o;return sc.elements[0]*=c,sc.elements[1]*=c,sc.elements[2]*=c,sc.elements[4]*=u,sc.elements[5]*=u,sc.elements[6]*=u,sc.elements[8]*=d,sc.elements[9]*=d,sc.elements[10]*=d,t.setFromRotationMatrix(sc),r.x=a,r.y=s,r.z=o,this}makePerspective(e,t,r,i,a,s,o=yd){const l=this.elements,c=2*a/(t-e),u=2*a/(r-i),d=(t+e)/(t-e),f=(r+i)/(r-i);let h,p;if(o===yd)h=-(s+a)/(s-a),p=-2*s*a/(s-a);else if(o===fT)h=-s/(s-a),p=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,a,s,o=yd){const l=this.elements,c=1/(t-e),u=1/(r-i),d=1/(s-a),f=(t+e)*c,h=(r+i)*u;let p,m;if(o===yd)p=(s+a)*d,m=-2*d;else if(o===fT)p=a*d,m=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=m,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const rv=new tt,sc=new ur,yit=new tt(0,0,0),bit=new tt(1,1,1),Cf=new tt,p2=new tt,Bo=new tt,aW=new ur,sW=new Yi;class Od{constructor(e=0,t=0,r=0,i=Od.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(Mr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Mr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(Mr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-Mr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Mr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Mr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return aW.makeRotationFromQuaternion(e),this.setFromRotationMatrix(aW,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return sW.setFromEuler(this),this.setFromQuaternion(sW,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Od.DEFAULT_ORDER="XYZ";class eae{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _it=0;const oW=new tt,iv=new Yi,ju=new ur,m2=new tt,H1=new tt,Sit=new tt,wit=new Yi,lW=new tt(1,0,0),cW=new tt(0,1,0),uW=new tt(0,0,1),dW={type:"added"},xit={type:"removed"},av={type:"childadded",child:null},LI={type:"childremoved",child:null};class Na extends rm{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_it++}),this.uuid=Gy(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Na.DEFAULT_UP.clone();const e=new tt,t=new Od,r=new Yi,i=new tt(1,1,1);function a(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ur},normalMatrix:{value:new cr}}),this.matrix=new ur,this.matrixWorld=new ur,this.matrixAutoUpdate=Na.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Na.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new eae,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return iv.setFromAxisAngle(e,t),this.quaternion.multiply(iv),this}rotateOnWorldAxis(e,t){return iv.setFromAxisAngle(e,t),this.quaternion.premultiply(iv),this}rotateX(e){return this.rotateOnAxis(lW,e)}rotateY(e){return this.rotateOnAxis(cW,e)}rotateZ(e){return this.rotateOnAxis(uW,e)}translateOnAxis(e,t){return oW.copy(e).applyQuaternion(this.quaternion),this.position.add(oW.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(lW,e)}translateY(e){return this.translateOnAxis(cW,e)}translateZ(e){return this.translateOnAxis(uW,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ju.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?m2.copy(e):m2.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),H1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ju.lookAt(H1,m2,this.up):ju.lookAt(m2,H1,this.up),this.quaternion.setFromRotationMatrix(ju),i&&(ju.extractRotation(i.matrixWorld),iv.setFromRotationMatrix(ju),this.quaternion.premultiply(iv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(dW),av.child=e,this.dispatchEvent(av),av.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(xit),LI.child=e,this.dispatchEvent(LI),LI.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ju.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ju.multiply(e.parent.matrixWorld)),e.applyMatrix4(ju),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(dW),av.child=e,this.dispatchEvent(av),av.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(H1,e,Sit),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(H1,wit,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];a(e.shapes,d)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(a(e.materials,this.material[l]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(a(e.animations,l))}}if(t){const o=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),f=s(e.skeletons),h=s(e.animations),p=s(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function s(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Na.DEFAULT_UP=new tt(0,1,0);Na.DEFAULT_MATRIX_AUTO_UPDATE=!0;Na.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const oc=new tt,Zu=new tt,DI=new tt,Qu=new tt,sv=new tt,ov=new tt,fW=new tt,kI=new tt,OI=new tt,NI=new tt,BI=new Vi,FI=new Vi,zI=new Vi;class mc{constructor(e=new tt,t=new tt,r=new tt){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),oc.subVectors(e,t),i.cross(oc);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){oc.subVectors(i,t),Zu.subVectors(r,t),DI.subVectors(e,t);const s=oc.dot(oc),o=oc.dot(Zu),l=oc.dot(DI),c=Zu.dot(Zu),u=Zu.dot(DI),d=s*c-o*o;if(d===0)return a.set(0,0,0),null;const f=1/d,h=(c*l-o*u)*f,p=(s*u-o*l)*f;return a.set(1-h-p,p,h)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Qu)===null?!1:Qu.x>=0&&Qu.y>=0&&Qu.x+Qu.y<=1}static getInterpolation(e,t,r,i,a,s,o,l){return this.getBarycoord(e,t,r,i,Qu)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,Qu.x),l.addScaledVector(s,Qu.y),l.addScaledVector(o,Qu.z),l)}static getInterpolatedAttribute(e,t,r,i,a,s){return BI.setScalar(0),FI.setScalar(0),zI.setScalar(0),BI.fromBufferAttribute(e,t),FI.fromBufferAttribute(e,r),zI.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(BI,a.x),s.addScaledVector(FI,a.y),s.addScaledVector(zI,a.z),s}static isFrontFacing(e,t,r,i){return oc.subVectors(r,t),Zu.subVectors(e,t),oc.cross(Zu).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return oc.subVectors(this.c,this.b),Zu.subVectors(this.a,this.b),oc.cross(Zu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return mc.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return mc.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,a){return mc.getInterpolation(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return mc.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return mc.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,a=this.c;let s,o;sv.subVectors(i,r),ov.subVectors(a,r),kI.subVectors(e,r);const l=sv.dot(kI),c=ov.dot(kI);if(l<=0&&c<=0)return t.copy(r);OI.subVectors(e,i);const u=sv.dot(OI),d=ov.dot(OI);if(u>=0&&d<=u)return t.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return s=l/(l-u),t.copy(r).addScaledVector(sv,s);NI.subVectors(e,a);const h=sv.dot(NI),p=ov.dot(NI);if(p>=0&&h<=p)return t.copy(a);const m=h*c-l*p;if(m<=0&&c>=0&&p<=0)return o=c/(c-p),t.copy(r).addScaledVector(ov,o);const g=u*p-h*d;if(g<=0&&d-u>=0&&h-p>=0)return fW.subVectors(a,i),o=(d-u)/(d-u+(h-p)),t.copy(i).addScaledVector(fW,o);const v=1/(g+m+f);return s=m*v,o=f*v,t.copy(r).addScaledVector(sv,s).addScaledVector(ov,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const tae={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Mf={h:0,s:0,l:0},v2={h:0,s:0,l:0};function UI(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ii{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=xl){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ni.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=ni.workingColorSpace){return this.r=e,this.g=t,this.b=r,ni.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=ni.workingColorSpace){if(e=IO(e,1),t=Mr(t,0,1),r=Mr(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,s=2*r-a;this.r=UI(s,a,e+1/3),this.g=UI(s,a,e),this.b=UI(s,a,e-1/3)}return ni.toWorkingColorSpace(this,i),this}setStyle(e,t=xl){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=xl){const r=tae[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=xd(e.r),this.g=xd(e.g),this.b=xd(e.b),this}copyLinearToSRGB(e){return this.r=fg(e.r),this.g=fg(e.g),this.b=fg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=xl){return ni.fromWorkingColorSpace(_s.copy(this),e),Math.round(Mr(_s.r*255,0,255))*65536+Math.round(Mr(_s.g*255,0,255))*256+Math.round(Mr(_s.b*255,0,255))}getHexString(e=xl){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ni.workingColorSpace){ni.fromWorkingColorSpace(_s.copy(this),t);const r=_s.r,i=_s.g,a=_s.b,s=Math.max(r,i,a),o=Math.min(r,i,a);let l,c;const u=(o+s)/2;if(o===s)l=0,c=0;else{const d=s-o;switch(c=u<=.5?d/(s+o):d/(2-s-o),s){case r:l=(i-a)/d+(i<a?6:0);break;case i:l=(a-r)/d+2;break;case a:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=ni.workingColorSpace){return ni.fromWorkingColorSpace(_s.copy(this),t),e.r=_s.r,e.g=_s.g,e.b=_s.b,e}getStyle(e=xl){ni.fromWorkingColorSpace(_s.copy(this),e);const t=_s.r,r=_s.g,i=_s.b;return e!==xl?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(Mf),this.setHSL(Mf.h+e,Mf.s+t,Mf.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Mf),e.getHSL(v2);const r=Fb(Mf.h,v2.h,t),i=Fb(Mf.s,v2.s,t),a=Fb(Mf.l,v2.l,t);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*r+a[6]*i,this.g=a[1]*t+a[4]*r+a[7]*i,this.b=a[2]*t+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _s=new ii;ii.NAMES=tae;let Cit=0;class VA extends rm{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Cit++}),this.uuid=Gy(),this.name="",this.type="Material",this.blending=ih,this.side=wu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=aS,this.blendDst=sS,this.blendEquation=Op,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ii(0,0,0),this.blendAlpha=0,this.depthFunc=Qg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ZG,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Qm,this.stencilZFail=Qm,this.stencilZPass=Qm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ih&&(r.blending=this.blending),this.side!==wu&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==aS&&(r.blendSrc=this.blendSrc),this.blendDst!==sS&&(r.blendDst=this.blendDst),this.blendEquation!==Op&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Qg&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==ZG&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Qm&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Qm&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Qm&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(t){const a=i(e.textures),s=i(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class V0 extends VA{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ii(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Od,this.combine=Bie,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const fd=Mit();function Mit(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,a[l]=c|u}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:s,offsetTable:o}}function Tit(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Mr(n,-65504,65504),fd.floatView[0]=n;const e=fd.uint32View[0],t=e>>23&511;return fd.baseTable[t]+((e&8388607)>>fd.shiftTable[t])}function Ait(n){const e=n>>10;return fd.uint32View[0]=fd.mantissaTable[fd.offsetTable[e]+(n&1023)]+fd.exponentTable[e],fd.floatView[0]}const cS={toHalfFloat:Tit,fromHalfFloat:Ait},ya=new tt,g2=new Hn;class Vl{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=QG,this.updateRanges=[],this.gpuType=_c,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)g2.fromBufferAttribute(this,t),g2.applyMatrix3(e),this.setXY(t,g2.x,g2.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)ya.fromBufferAttribute(this,t),ya.applyMatrix3(e),this.setXYZ(t,ya.x,ya.y,ya.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)ya.fromBufferAttribute(this,t),ya.applyMatrix4(e),this.setXYZ(t,ya.x,ya.y,ya.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ya.fromBufferAttribute(this,t),ya.applyNormalMatrix(e),this.setXYZ(t,ya.x,ya.y,ya.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ya.fromBufferAttribute(this,t),ya.transformDirection(e),this.setXYZ(t,ya.x,ya.y,ya.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Ev(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=$s(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ev(t,this.array)),t}setX(e,t){return this.normalized&&(t=$s(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ev(t,this.array)),t}setY(e,t){return this.normalized&&(t=$s(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ev(t,this.array)),t}setZ(e,t){return this.normalized&&(t=$s(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ev(t,this.array)),t}setW(e,t){return this.normalized&&(t=$s(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=$s(t,this.array),r=$s(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=$s(t,this.array),r=$s(r,this.array),i=$s(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=$s(t,this.array),r=$s(r,this.array),i=$s(i,this.array),a=$s(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==QG&&(e.usage=this.usage),e}}class nae extends Vl{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class rae extends Vl{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class tl extends Vl{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Eit=0;const pl=new ur,HI=new Na,lv=new tt,Fo=new au,V1=new au,$a=new tt;class jl extends rm{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Eit++}),this.uuid=Gy(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(jie(e)?rae:nae)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new cr().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return pl.makeRotationFromQuaternion(e),this.applyMatrix4(pl),this}rotateX(e){return pl.makeRotationX(e),this.applyMatrix4(pl),this}rotateY(e){return pl.makeRotationY(e),this.applyMatrix4(pl),this}rotateZ(e){return pl.makeRotationZ(e),this.applyMatrix4(pl),this}translate(e,t,r){return pl.makeTranslation(e,t,r),this.applyMatrix4(pl),this}scale(e,t,r){return pl.makeScale(e,t,r),this.applyMatrix4(pl),this}lookAt(e){return HI.lookAt(e),HI.updateMatrix(),this.applyMatrix4(HI.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(lv).negate(),this.translate(lv.x,lv.y,lv.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,a=e.length;i<a;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new tl(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const a=e[i];t.setXYZ(i,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new au);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new tt(-1/0,-1/0,-1/0),new tt(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const a=t[r];Fo.setFromBufferAttribute(a),this.morphTargetsRelative?($a.addVectors(this.boundingBox.min,Fo.min),this.boundingBox.expandByPoint($a),$a.addVectors(this.boundingBox.max,Fo.max),this.boundingBox.expandByPoint($a)):(this.boundingBox.expandByPoint(Fo.min),this.boundingBox.expandByPoint(Fo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new RO);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new tt,1/0);return}if(e){const r=this.boundingSphere.center;if(Fo.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];V1.setFromBufferAttribute(o),this.morphTargetsRelative?($a.addVectors(Fo.min,V1.min),Fo.expandByPoint($a),$a.addVectors(Fo.max,V1.max),Fo.expandByPoint($a)):(Fo.expandByPoint(V1.min),Fo.expandByPoint(V1.max))}Fo.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)$a.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared($a));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)$a.fromBufferAttribute(o,c),l&&(lv.fromBufferAttribute(e,c),$a.add(lv)),i=Math.max(i,r.distanceToSquared($a))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Vl(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),o=[],l=[];for(let C=0;C<r.count;C++)o[C]=new tt,l[C]=new tt;const c=new tt,u=new tt,d=new tt,f=new Hn,h=new Hn,p=new Hn,m=new tt,g=new tt;function v(C,T,A){c.fromBufferAttribute(r,C),u.fromBufferAttribute(r,T),d.fromBufferAttribute(r,A),f.fromBufferAttribute(a,C),h.fromBufferAttribute(a,T),p.fromBufferAttribute(a,A),u.sub(c),d.sub(c),h.sub(f),p.sub(f);const I=1/(h.x*p.y-p.x*h.y);isFinite(I)&&(m.copy(u).multiplyScalar(p.y).addScaledVector(d,-h.y).multiplyScalar(I),g.copy(d).multiplyScalar(h.x).addScaledVector(u,-p.x).multiplyScalar(I),o[C].add(m),o[T].add(m),o[A].add(m),l[C].add(g),l[T].add(g),l[A].add(g))}let y=this.groups;y.length===0&&(y=[{start:0,count:e.count}]);for(let C=0,T=y.length;C<T;++C){const A=y[C],I=A.start,L=A.count;for(let k=I,N=I+L;k<N;k+=3)v(e.getX(k+0),e.getX(k+1),e.getX(k+2))}const b=new tt,_=new tt,w=new tt,x=new tt;function M(C){w.fromBufferAttribute(i,C),x.copy(w);const T=o[C];b.copy(T),b.sub(w.multiplyScalar(w.dot(T))).normalize(),_.crossVectors(x,T);const I=_.dot(l[C])<0?-1:1;s.setXYZW(C,b.x,b.y,b.z,I)}for(let C=0,T=y.length;C<T;++C){const A=y[C],I=A.start,L=A.count;for(let k=I,N=I+L;k<N;k+=3)M(e.getX(k+0)),M(e.getX(k+1)),M(e.getX(k+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Vl(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new tt,a=new tt,s=new tt,o=new tt,l=new tt,c=new tt,u=new tt,d=new tt;if(e)for(let f=0,h=e.count;f<h;f+=3){const p=e.getX(f+0),m=e.getX(f+1),g=e.getX(f+2);i.fromBufferAttribute(t,p),a.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),u.subVectors(s,a),d.subVectors(i,a),u.cross(d),o.fromBufferAttribute(r,p),l.fromBufferAttribute(r,m),c.fromBufferAttribute(r,g),o.add(u),l.add(u),c.add(u),r.setXYZ(p,o.x,o.y,o.z),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(g,c.x,c.y,c.z)}else for(let f=0,h=t.count;f<h;f+=3)i.fromBufferAttribute(t,f+0),a.fromBufferAttribute(t,f+1),s.fromBufferAttribute(t,f+2),u.subVectors(s,a),d.subVectors(i,a),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)$a.fromBufferAttribute(e,t),$a.normalize(),e.setXYZ(t,$a.x,$a.y,$a.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,d=o.normalized,f=new c.constructor(l.length*u);let h=0,p=0;for(let m=0,g=l.length;m<g;m++){o.isInterleavedBufferAttribute?h=l[m]*o.data.stride+o.offset:h=l[m]*u;for(let v=0;v<u;v++)f[p++]=c[h++]}return new Vl(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new jl,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);t.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const l=[],c=a[o];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,r);l.push(h)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const c=s[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const a=e.morphAttributes;for(const c in a){const u=[],d=a[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const hW=new ur,bp=new Jie,y2=new RO,pW=new tt,b2=new tt,_2=new tt,S2=new tt,VI=new tt,w2=new tt,mW=new tt,x2=new tt;class fa extends Na{constructor(e=new jl,t=new V0){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,s=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(a&&o){w2.set(0,0,0);for(let l=0,c=a.length;l<c;l++){const u=o[l],d=a[l];u!==0&&(VI.fromBufferAttribute(d,e),s?w2.addScaledVector(VI,u):w2.addScaledVector(VI.sub(t),u))}t.add(w2)}return t}raycast(e,t){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),y2.copy(r.boundingSphere),y2.applyMatrix4(a),bp.copy(e.ray).recast(e.near),!(y2.containsPoint(bp.origin)===!1&&(bp.intersectSphere(y2,pW)===null||bp.origin.distanceToSquared(pW)>(e.far-e.near)**2))&&(hW.copy(a).invert(),bp.copy(e.ray).applyMatrix4(hW),!(r.boundingBox!==null&&bp.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,bp)))}_computeIntersections(e,t,r){let i;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,c=a.attributes.uv,u=a.attributes.uv1,d=a.attributes.normal,f=a.groups,h=a.drawRange;if(o!==null)if(Array.isArray(s))for(let p=0,m=f.length;p<m;p++){const g=f[p],v=s[g.materialIndex],y=Math.max(g.start,h.start),b=Math.min(o.count,Math.min(g.start+g.count,h.start+h.count));for(let _=y,w=b;_<w;_+=3){const x=o.getX(_),M=o.getX(_+1),C=o.getX(_+2);i=C2(this,v,e,r,c,u,d,x,M,C),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else{const p=Math.max(0,h.start),m=Math.min(o.count,h.start+h.count);for(let g=p,v=m;g<v;g+=3){const y=o.getX(g),b=o.getX(g+1),_=o.getX(g+2);i=C2(this,s,e,r,c,u,d,y,b,_),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let p=0,m=f.length;p<m;p++){const g=f[p],v=s[g.materialIndex],y=Math.max(g.start,h.start),b=Math.min(l.count,Math.min(g.start+g.count,h.start+h.count));for(let _=y,w=b;_<w;_+=3){const x=_,M=_+1,C=_+2;i=C2(this,v,e,r,c,u,d,x,M,C),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else{const p=Math.max(0,h.start),m=Math.min(l.count,h.start+h.count);for(let g=p,v=m;g<v;g+=3){const y=g,b=g+1,_=g+2;i=C2(this,s,e,r,c,u,d,y,b,_),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}}}function Iit(n,e,t,r,i,a,s,o){let l;if(e.side===xo?l=r.intersectTriangle(s,a,i,!0,o):l=r.intersectTriangle(i,a,s,e.side===wu,o),l===null)return null;x2.copy(o),x2.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(x2);return c<t.near||c>t.far?null:{distance:c,point:x2.clone(),object:n}}function C2(n,e,t,r,i,a,s,o,l,c){n.getVertexPosition(o,b2),n.getVertexPosition(l,_2),n.getVertexPosition(c,S2);const u=Iit(n,e,t,r,b2,_2,S2,mW);if(u){const d=new tt;mc.getBarycoord(mW,b2,_2,S2,d),i&&(u.uv=mc.getInterpolatedAttribute(i,o,l,c,d,new Hn)),a&&(u.uv1=mc.getInterpolatedAttribute(a,o,l,c,d,new Hn)),s&&(u.normal=mc.getInterpolatedAttribute(s,o,l,c,d,new tt),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a:o,b:l,c,normal:new tt,materialIndex:0};mc.getNormal(b2,_2,S2,f.normal),u.face=f,u.barycoord=d}return u}class Wy extends jl{constructor(e=1,t=1,r=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const l=[],c=[],u=[],d=[];let f=0,h=0;p("z","y","x",-1,-1,r,t,e,s,a,0),p("z","y","x",1,-1,r,t,-e,s,a,1),p("x","z","y",1,1,e,r,t,i,s,2),p("x","z","y",1,-1,e,r,-t,i,s,3),p("x","y","z",1,-1,e,t,r,i,a,4),p("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new tl(c,3)),this.setAttribute("normal",new tl(u,3)),this.setAttribute("uv",new tl(d,2));function p(m,g,v,y,b,_,w,x,M,C,T){const A=_/M,I=w/C,L=_/2,k=w/2,N=x/2,F=M+1,D=C+1;let H=0,z=0;const B=new tt;for(let W=0;W<D;W++){const Z=W*I-k;for(let ee=0;ee<F;ee++){const J=ee*A-L;B[m]=J*y,B[g]=Z*b,B[v]=N,c.push(B.x,B.y,B.z),B[m]=0,B[g]=0,B[v]=x>0?1:-1,u.push(B.x,B.y,B.z),d.push(ee/M),d.push(1-W/C),H+=1}}for(let W=0;W<C;W++)for(let Z=0;Z<M;Z++){const ee=f+Z+F*W,J=f+Z+F*(W+1),re=f+(Z+1)+F*(W+1),fe=f+(Z+1)+F*W;l.push(ee,J,fe),l.push(J,re,fe),z+=6}o.addGroup(h,z,T),h+=z,f+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wy(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function iy(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Gs(n){const e={};for(let t=0;t<n.length;t++){const r=iy(n[t]);for(const i in r)e[i]=r[i]}return e}function Rit(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function iae(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ni.workingColorSpace}const Pit={clone:iy,merge:Gs};var Lit=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Dit=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class nl extends VA{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Lit,this.fragmentShader=Dit,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=iy(e.uniforms),this.uniformsGroups=Rit(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class aae extends Na{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ur,this.projectionMatrix=new ur,this.projectionMatrixInverse=new ur,this.coordinateSystem=yd}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Tf=new tt,vW=new Hn,gW=new Hn;class Rl extends aae{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=lS*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Bb*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return lS*2*Math.atan(Math.tan(Bb*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){Tf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Tf.x,Tf.y).multiplyScalar(-e/Tf.z),Tf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Tf.x,Tf.y).multiplyScalar(-e/Tf.z)}getViewSize(e,t){return this.getViewBounds(e,vW,gW),t.subVectors(gW,vW)}setViewOffset(e,t,r,i,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Bb*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;a+=s.offsetX*i/l,t-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const cv=-90,uv=1;class kit extends Na{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Rl(cv,uv,e,t);i.layers=this.layers,this.add(i);const a=new Rl(cv,uv,e,t);a.layers=this.layers,this.add(a);const s=new Rl(cv,uv,e,t);s.layers=this.layers,this.add(s);const o=new Rl(cv,uv,e,t);o.layers=this.layers,this.add(o);const l=new Rl(cv,uv,e,t);l.layers=this.layers,this.add(l);const c=new Rl(cv,uv,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,a,s,o,l]=t;for(const c of t)this.remove(c);if(e===yd)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===fT)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,a),e.setRenderTarget(r,1,i),e.render(t,s),e.setRenderTarget(r,2,i),e.render(t,o),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=m,e.setRenderTarget(r,5,i),e.render(t,u),e.setRenderTarget(d,f,h),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class sae extends Js{constructor(e,t,r,i,a,s,o,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Jg,super(e,t,r,i,a,s,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Oit extends Ph{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new sae(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:iu}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Wy(5,5,5),a=new nl({name:"CubemapFromEquirect",uniforms:iy(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:xo,blending:rh});a.uniforms.tEquirect.value=t;const s=new fa(i,a),o=t.minFilter;return t.minFilter===t0&&(t.minFilter=iu),new kit(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(a)}}class Nit extends Na{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Od,this.environmentIntensity=1,this.environmentRotation=new Od,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Af extends Js{constructor(e=null,t=1,r=1,i,a,s,o,l,c=el,u=el,d,f){super(null,s,o,l,c,u,i,a,d,f),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Bit extends Vl{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const $I=new tt,Fit=new tt,zit=new cr;class Nf{constructor(e=new tt(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=$I.subVectors(r,t).cross(Fit.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta($I),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||zit.getNormalMatrix(e),i=this.coplanarPoint($I).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _p=new RO,M2=new tt;class oae{constructor(e=new Nf,t=new Nf,r=new Nf,i=new Nf,a=new Nf,s=new Nf){this.planes=[e,t,r,i,a,s]}set(e,t,r,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=yd){const r=this.planes,i=e.elements,a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],h=i[8],p=i[9],m=i[10],g=i[11],v=i[12],y=i[13],b=i[14],_=i[15];if(r[0].setComponents(l-a,f-c,g-h,_-v).normalize(),r[1].setComponents(l+a,f+c,g+h,_+v).normalize(),r[2].setComponents(l+s,f+u,g+p,_+y).normalize(),r[3].setComponents(l-s,f-u,g-p,_-y).normalize(),r[4].setComponents(l-o,f-d,g-m,_-b).normalize(),t===yd)r[5].setComponents(l+o,f+d,g+m,_+b).normalize();else if(t===fT)r[5].setComponents(o,d,m,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),_p.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),_p.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(_p)}intersectsSprite(e){return _p.center.set(0,0,0),_p.radius=.7071067811865476,_p.applyMatrix4(e.matrixWorld),this.intersectsSphere(_p)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(M2.x=i.normal.x>0?e.max.x:e.min.x,M2.y=i.normal.y>0?e.max.y:e.min.y,M2.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(M2)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class T2 extends Na{constructor(){super(),this.isGroup=!0,this.type="Group"}}class PO extends Js{constructor(e,t,r,i,a,s,o,l,c,u=y0){if(u!==y0&&u!==ny)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===y0&&(r=Bl),r===void 0&&u===ny&&(r=ty),super(null,i,a,s,o,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:el,this.minFilter=l!==void 0?l:el,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class uS extends jl{constructor(e=1,t=1,r=1,i=32,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),a=Math.floor(a);const u=[],d=[],f=[],h=[];let p=0;const m=[],g=r/2;let v=0;y(),s===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new tl(d,3)),this.setAttribute("normal",new tl(f,3)),this.setAttribute("uv",new tl(h,2));function y(){const _=new tt,w=new tt;let x=0;const M=(t-e)/r;for(let C=0;C<=a;C++){const T=[],A=C/a,I=A*(t-e)+e;for(let L=0;L<=i;L++){const k=L/i,N=k*l+o,F=Math.sin(N),D=Math.cos(N);w.x=I*F,w.y=-A*r+g,w.z=I*D,d.push(w.x,w.y,w.z),_.set(F,M,D).normalize(),f.push(_.x,_.y,_.z),h.push(k,1-A),T.push(p++)}m.push(T)}for(let C=0;C<i;C++)for(let T=0;T<a;T++){const A=m[T][C],I=m[T+1][C],L=m[T+1][C+1],k=m[T][C+1];(e>0||T!==0)&&(u.push(A,I,k),x+=3),(t>0||T!==a-1)&&(u.push(I,L,k),x+=3)}c.addGroup(v,x,0),v+=x}function b(_){const w=p,x=new Hn,M=new tt;let C=0;const T=_===!0?e:t,A=_===!0?1:-1;for(let L=1;L<=i;L++)d.push(0,g*A,0),f.push(0,A,0),h.push(.5,.5),p++;const I=p;for(let L=0;L<=i;L++){const N=L/i*l+o,F=Math.cos(N),D=Math.sin(N);M.x=T*D,M.y=g*A,M.z=T*F,d.push(M.x,M.y,M.z),f.push(0,A,0),x.x=F*.5+.5,x.y=D*.5*A+.5,h.push(x.x,x.y),p++}for(let L=0;L<i;L++){const k=w+L,N=I+L;_===!0?u.push(N,N+1,k):u.push(N+1,N,k),C+=3}c.addGroup(v,C,_===!0?1:2),v+=C}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uS(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class LO extends uS{constructor(e=1,t=1,r=32,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,r,i,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new LO(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ay extends jl{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const a=e/2,s=t/2,o=Math.floor(r),l=Math.floor(i),c=o+1,u=l+1,d=e/o,f=t/l,h=[],p=[],m=[],g=[];for(let v=0;v<u;v++){const y=v*f-s;for(let b=0;b<c;b++){const _=b*d-a;p.push(_,-y,0),m.push(0,0,1),g.push(b/o),g.push(1-v/l)}}for(let v=0;v<l;v++)for(let y=0;y<o;y++){const b=y+c*v,_=y+c*(v+1),w=y+1+c*(v+1),x=y+1+c*v;h.push(b,_,x),h.push(_,w,x)}this.setIndex(h),this.setAttribute("position",new tl(p,3)),this.setAttribute("normal",new tl(m,3)),this.setAttribute("uv",new tl(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ay(e.width,e.height,e.widthSegments,e.heightSegments)}}class pT extends jl{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(s+o,Math.PI);let c=0;const u=[],d=new tt,f=new tt,h=[],p=[],m=[],g=[];for(let v=0;v<=r;v++){const y=[],b=v/r;let _=0;v===0&&s===0?_=.5/t:v===r&&l===Math.PI&&(_=-.5/t);for(let w=0;w<=t;w++){const x=w/t;d.x=-e*Math.cos(i+x*a)*Math.sin(s+b*o),d.y=e*Math.cos(s+b*o),d.z=e*Math.sin(i+x*a)*Math.sin(s+b*o),p.push(d.x,d.y,d.z),f.copy(d).normalize(),m.push(f.x,f.y,f.z),g.push(x+_,1-b),y.push(c++)}u.push(y)}for(let v=0;v<r;v++)for(let y=0;y<t;y++){const b=u[v][y+1],_=u[v][y],w=u[v+1][y],x=u[v+1][y+1];(v!==0||s>0)&&h.push(b,_,x),(v!==r-1||l<Math.PI)&&h.push(_,w,x)}this.setIndex(h),this.setAttribute("position",new tl(p,3)),this.setAttribute("normal",new tl(m,3)),this.setAttribute("uv",new tl(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pT(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Uit extends VA{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Drt,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Hit extends VA{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class DO extends aae{constructor(e=-1,t=1,r=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,s=r+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Vit extends jl{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class $it extends Rl{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class yW{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Mr(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Mr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}function bW(n,e,t,r){const i=Git(r);switch(t){case Vie:return n*e;case Gie:return n*e;case Wie:return n*e*2;case qie:return n*e/i.components*i.byteLength;case HA:return n*e/i.components*i.byteLength;case AO:return n*e*2/i.components*i.byteLength;case EO:return n*e*2/i.components*i.byteLength;case $ie:return n*e*3/i.components*i.byteLength;case js:return n*e*4/i.components*i.byteLength;case dg:return n*e*4/i.components*i.byteLength;case RC:case PC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case LC:case DC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case zL:case HL:return Math.max(n,16)*Math.max(e,8)/4;case FL:case UL:return Math.max(n,8)*Math.max(e,8)/2;case VL:case $L:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case GL:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case WL:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case qL:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case KL:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case YL:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case XL:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case jL:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case ZL:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case QL:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case JL:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case eD:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case tD:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case nD:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case rD:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case iD:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case kC:case aD:case sD:return Math.ceil(n/4)*Math.ceil(e/4)*16;case Kie:case oD:return Math.ceil(n/4)*Math.ceil(e/4)*8;case lD:case cD:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Git(n){switch(n){case xu:case zie:return{byteLength:1,components:1};case oS:case Uie:case $y:return{byteLength:2,components:1};case MO:case TO:return{byteLength:2,components:4};case Bl:case CO:case _c:return{byteLength:4,components:1};case Hie:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:xO}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=xO);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function lae(){let n=null,e=!1,t=null,r=null;function i(a,s){t(a,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function Wit(n){const e=new WeakMap;function t(o,l){const c=o.array,u=o.usage,d=c.byteLength,f=n.createBuffer();n.bindBuffer(l,f),n.bufferData(l,c,u),o.onUploadCallback();let h;if(c instanceof Float32Array)h=n.FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?h=n.HALF_FLOAT:h=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=n.SHORT;else if(c instanceof Uint32Array)h=n.UNSIGNED_INT;else if(c instanceof Int32Array)h=n.INT;else if(c instanceof Int8Array)h=n.BYTE;else if(c instanceof Uint8Array)h=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:d}}function r(o,l,c){const u=l.array,d=l.updateRanges;if(n.bindBuffer(c,o),d.length===0)n.bufferSubData(c,0,u);else{d.sort((h,p)=>h.start-p.start);let f=0;for(let h=1;h<d.length;h++){const p=d[f],m=d[h];m.start<=p.start+p.count+1?p.count=Math.max(p.count,m.start+m.count-p.start):(++f,d[f]=m)}d.length=f+1;for(let h=0,p=d.length;h<p;h++){const m=d[h];n.bufferSubData(c,m.start*u.BYTES_PER_ELEMENT,u,m.start,m.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function s(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const u=e.get(o);(!u||u.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,t(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,o,l),c.version=o.version}}return{get:i,remove:a,update:s}}var qit=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Kit=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Yit=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Xit=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,jit=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Zit=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Qit=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Jit=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,eat=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,tat=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,nat=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,rat=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,iat=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,aat=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,sat=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,oat=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,lat=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,cat=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,uat=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,dat=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,fat=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,hat=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,pat=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,mat=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,vat=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,gat=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,yat=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,bat=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,_at=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Sat=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,wat="gl_FragColor = linearToOutputTexel( gl_FragColor );",xat=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Cat=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Mat=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Tat=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Aat=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Eat=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Iat=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Rat=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Pat=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Lat=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Dat=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,kat=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Oat=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Nat=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Bat=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Fat=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,zat=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Uat=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Hat=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Vat=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,$at=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Gat=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Wat=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,qat=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Kat=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Yat=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Xat=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,jat=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Zat=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Qat=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Jat=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,est=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,tst=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,nst=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,rst=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ist=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,ast=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,sst=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,ost=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,lst=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,cst=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,ust=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,dst=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,fst=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,hst=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,pst=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,mst=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,vst=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,gst=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,yst=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,bst=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,_st=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Sst=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,wst=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,xst=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Cst=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Mst=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Tst=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Ast=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Est=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Ist=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Rst=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Pst=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Lst=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Dst=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,kst=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Ost=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Nst=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Bst=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Fst=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,zst=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Ust=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Hst=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Vst=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,$st=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Gst=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Wst=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,qst=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Kst=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Yst=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Xst=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,jst=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Zst=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Qst=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Jst=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,eot=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,tot=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,not=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rot=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,iot=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,aot=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,sot=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oot=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lot=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cot=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,uot=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dot=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fot=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,hot=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pot=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mot=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,vot=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,got=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yot=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bot=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,_ot=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Sot=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wot=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,xot=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Cot=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,wr={alphahash_fragment:qit,alphahash_pars_fragment:Kit,alphamap_fragment:Yit,alphamap_pars_fragment:Xit,alphatest_fragment:jit,alphatest_pars_fragment:Zit,aomap_fragment:Qit,aomap_pars_fragment:Jit,batching_pars_vertex:eat,batching_vertex:tat,begin_vertex:nat,beginnormal_vertex:rat,bsdfs:iat,iridescence_fragment:aat,bumpmap_pars_fragment:sat,clipping_planes_fragment:oat,clipping_planes_pars_fragment:lat,clipping_planes_pars_vertex:cat,clipping_planes_vertex:uat,color_fragment:dat,color_pars_fragment:fat,color_pars_vertex:hat,color_vertex:pat,common:mat,cube_uv_reflection_fragment:vat,defaultnormal_vertex:gat,displacementmap_pars_vertex:yat,displacementmap_vertex:bat,emissivemap_fragment:_at,emissivemap_pars_fragment:Sat,colorspace_fragment:wat,colorspace_pars_fragment:xat,envmap_fragment:Cat,envmap_common_pars_fragment:Mat,envmap_pars_fragment:Tat,envmap_pars_vertex:Aat,envmap_physical_pars_fragment:Fat,envmap_vertex:Eat,fog_vertex:Iat,fog_pars_vertex:Rat,fog_fragment:Pat,fog_pars_fragment:Lat,gradientmap_pars_fragment:Dat,lightmap_pars_fragment:kat,lights_lambert_fragment:Oat,lights_lambert_pars_fragment:Nat,lights_pars_begin:Bat,lights_toon_fragment:zat,lights_toon_pars_fragment:Uat,lights_phong_fragment:Hat,lights_phong_pars_fragment:Vat,lights_physical_fragment:$at,lights_physical_pars_fragment:Gat,lights_fragment_begin:Wat,lights_fragment_maps:qat,lights_fragment_end:Kat,logdepthbuf_fragment:Yat,logdepthbuf_pars_fragment:Xat,logdepthbuf_pars_vertex:jat,logdepthbuf_vertex:Zat,map_fragment:Qat,map_pars_fragment:Jat,map_particle_fragment:est,map_particle_pars_fragment:tst,metalnessmap_fragment:nst,metalnessmap_pars_fragment:rst,morphinstance_vertex:ist,morphcolor_vertex:ast,morphnormal_vertex:sst,morphtarget_pars_vertex:ost,morphtarget_vertex:lst,normal_fragment_begin:cst,normal_fragment_maps:ust,normal_pars_fragment:dst,normal_pars_vertex:fst,normal_vertex:hst,normalmap_pars_fragment:pst,clearcoat_normal_fragment_begin:mst,clearcoat_normal_fragment_maps:vst,clearcoat_pars_fragment:gst,iridescence_pars_fragment:yst,opaque_fragment:bst,packing:_st,premultiplied_alpha_fragment:Sst,project_vertex:wst,dithering_fragment:xst,dithering_pars_fragment:Cst,roughnessmap_fragment:Mst,roughnessmap_pars_fragment:Tst,shadowmap_pars_fragment:Ast,shadowmap_pars_vertex:Est,shadowmap_vertex:Ist,shadowmask_pars_fragment:Rst,skinbase_vertex:Pst,skinning_pars_vertex:Lst,skinning_vertex:Dst,skinnormal_vertex:kst,specularmap_fragment:Ost,specularmap_pars_fragment:Nst,tonemapping_fragment:Bst,tonemapping_pars_fragment:Fst,transmission_fragment:zst,transmission_pars_fragment:Ust,uv_pars_fragment:Hst,uv_pars_vertex:Vst,uv_vertex:$st,worldpos_vertex:Gst,background_vert:Wst,background_frag:qst,backgroundCube_vert:Kst,backgroundCube_frag:Yst,cube_vert:Xst,cube_frag:jst,depth_vert:Zst,depth_frag:Qst,distanceRGBA_vert:Jst,distanceRGBA_frag:eot,equirect_vert:tot,equirect_frag:not,linedashed_vert:rot,linedashed_frag:iot,meshbasic_vert:aot,meshbasic_frag:sot,meshlambert_vert:oot,meshlambert_frag:lot,meshmatcap_vert:cot,meshmatcap_frag:uot,meshnormal_vert:dot,meshnormal_frag:fot,meshphong_vert:hot,meshphong_frag:pot,meshphysical_vert:mot,meshphysical_frag:vot,meshtoon_vert:got,meshtoon_frag:yot,points_vert:bot,points_frag:_ot,shadow_vert:Sot,shadow_frag:wot,sprite_vert:xot,sprite_frag:Cot},xn={common:{diffuse:{value:new ii(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new cr},alphaMap:{value:null},alphaMapTransform:{value:new cr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new cr}},envmap:{envMap:{value:null},envMapRotation:{value:new cr},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new cr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new cr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new cr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new cr},normalScale:{value:new Hn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new cr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new cr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new cr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new cr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ii(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ii(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new cr},alphaTest:{value:0},uvTransform:{value:new cr}},sprite:{diffuse:{value:new ii(16777215)},opacity:{value:1},center:{value:new Hn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new cr},alphaMap:{value:null},alphaMapTransform:{value:new cr},alphaTest:{value:0}}},Xc={basic:{uniforms:Gs([xn.common,xn.specularmap,xn.envmap,xn.aomap,xn.lightmap,xn.fog]),vertexShader:wr.meshbasic_vert,fragmentShader:wr.meshbasic_frag},lambert:{uniforms:Gs([xn.common,xn.specularmap,xn.envmap,xn.aomap,xn.lightmap,xn.emissivemap,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.fog,xn.lights,{emissive:{value:new ii(0)}}]),vertexShader:wr.meshlambert_vert,fragmentShader:wr.meshlambert_frag},phong:{uniforms:Gs([xn.common,xn.specularmap,xn.envmap,xn.aomap,xn.lightmap,xn.emissivemap,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.fog,xn.lights,{emissive:{value:new ii(0)},specular:{value:new ii(1118481)},shininess:{value:30}}]),vertexShader:wr.meshphong_vert,fragmentShader:wr.meshphong_frag},standard:{uniforms:Gs([xn.common,xn.envmap,xn.aomap,xn.lightmap,xn.emissivemap,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.roughnessmap,xn.metalnessmap,xn.fog,xn.lights,{emissive:{value:new ii(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:wr.meshphysical_vert,fragmentShader:wr.meshphysical_frag},toon:{uniforms:Gs([xn.common,xn.aomap,xn.lightmap,xn.emissivemap,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.gradientmap,xn.fog,xn.lights,{emissive:{value:new ii(0)}}]),vertexShader:wr.meshtoon_vert,fragmentShader:wr.meshtoon_frag},matcap:{uniforms:Gs([xn.common,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.fog,{matcap:{value:null}}]),vertexShader:wr.meshmatcap_vert,fragmentShader:wr.meshmatcap_frag},points:{uniforms:Gs([xn.points,xn.fog]),vertexShader:wr.points_vert,fragmentShader:wr.points_frag},dashed:{uniforms:Gs([xn.common,xn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:wr.linedashed_vert,fragmentShader:wr.linedashed_frag},depth:{uniforms:Gs([xn.common,xn.displacementmap]),vertexShader:wr.depth_vert,fragmentShader:wr.depth_frag},normal:{uniforms:Gs([xn.common,xn.bumpmap,xn.normalmap,xn.displacementmap,{opacity:{value:1}}]),vertexShader:wr.meshnormal_vert,fragmentShader:wr.meshnormal_frag},sprite:{uniforms:Gs([xn.sprite,xn.fog]),vertexShader:wr.sprite_vert,fragmentShader:wr.sprite_frag},background:{uniforms:{uvTransform:{value:new cr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:wr.background_vert,fragmentShader:wr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new cr}},vertexShader:wr.backgroundCube_vert,fragmentShader:wr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:wr.cube_vert,fragmentShader:wr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:wr.equirect_vert,fragmentShader:wr.equirect_frag},distanceRGBA:{uniforms:Gs([xn.common,xn.displacementmap,{referencePosition:{value:new tt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:wr.distanceRGBA_vert,fragmentShader:wr.distanceRGBA_frag},shadow:{uniforms:Gs([xn.lights,xn.fog,{color:{value:new ii(0)},opacity:{value:1}}]),vertexShader:wr.shadow_vert,fragmentShader:wr.shadow_frag}};Xc.physical={uniforms:Gs([Xc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new cr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new cr},clearcoatNormalScale:{value:new Hn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new cr},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new cr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new cr},sheen:{value:0},sheenColor:{value:new ii(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new cr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new cr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new cr},transmissionSamplerSize:{value:new Hn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new cr},attenuationDistance:{value:0},attenuationColor:{value:new ii(0)},specularColor:{value:new ii(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new cr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new cr},anisotropyVector:{value:new Hn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new cr}}]),vertexShader:wr.meshphysical_vert,fragmentShader:wr.meshphysical_frag};const A2={r:0,b:0,g:0},Sp=new Od,Mot=new ur;function Tot(n,e,t,r,i,a,s){const o=new ii(0);let l=a===!0?0:1,c,u,d=null,f=0,h=null;function p(b){let _=b.isScene===!0?b.background:null;return _&&_.isTexture&&(_=(b.backgroundBlurriness>0?t:e).get(_)),_}function m(b){let _=!1;const w=p(b);w===null?v(o,l):w&&w.isColor&&(v(w,1),_=!0);const x=n.xr.getEnvironmentBlendMode();x==="additive"?r.buffers.color.setClear(0,0,0,1,s):x==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(n.autoClear||_)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function g(b,_){const w=p(_);w&&(w.isCubeTexture||w.mapping===UA)?(u===void 0&&(u=new fa(new Wy(1,1,1),new nl({name:"BackgroundCubeMaterial",uniforms:iy(Xc.backgroundCube.uniforms),vertexShader:Xc.backgroundCube.vertexShader,fragmentShader:Xc.backgroundCube.fragmentShader,side:xo,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(x,M,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),Sp.copy(_.backgroundRotation),Sp.x*=-1,Sp.y*=-1,Sp.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(Sp.y*=-1,Sp.z*=-1),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Mot.makeRotationFromEuler(Sp)),u.material.toneMapped=ni.getTransfer(w.colorSpace)!==_i,(d!==w||f!==w.version||h!==n.toneMapping)&&(u.material.needsUpdate=!0,d=w,f=w.version,h=n.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new fa(new ay(2,2),new nl({name:"BackgroundMaterial",uniforms:iy(Xc.background.uniforms),vertexShader:Xc.background.vertexShader,fragmentShader:Xc.background.fragmentShader,side:wu,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=ni.getTransfer(w.colorSpace)!==_i,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(d!==w||f!==w.version||h!==n.toneMapping)&&(c.material.needsUpdate=!0,d=w,f=w.version,h=n.toneMapping),c.layers.enableAll(),b.unshift(c,c.geometry,c.material,0,0,null))}function v(b,_){b.getRGB(A2,iae(n)),r.buffers.color.setClear(A2.r,A2.g,A2.b,_,s)}function y(){u!==void 0&&(u.geometry.dispose(),u.material.dispose()),c!==void 0&&(c.geometry.dispose(),c.material.dispose())}return{getClearColor:function(){return o},setClearColor:function(b,_=1){o.set(b),l=_,v(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,v(o,l)},render:m,addToRenderList:g,dispose:y}}function Aot(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=f(null);let a=i,s=!1;function o(A,I,L,k,N){let F=!1;const D=d(k,L,I);a!==D&&(a=D,c(a.object)),F=h(A,k,L,N),F&&p(A,k,L,N),N!==null&&e.update(N,n.ELEMENT_ARRAY_BUFFER),(F||s)&&(s=!1,_(A,I,L,k),N!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(N).buffer))}function l(){return n.createVertexArray()}function c(A){return n.bindVertexArray(A)}function u(A){return n.deleteVertexArray(A)}function d(A,I,L){const k=L.wireframe===!0;let N=r[A.id];N===void 0&&(N={},r[A.id]=N);let F=N[I.id];F===void 0&&(F={},N[I.id]=F);let D=F[k];return D===void 0&&(D=f(l()),F[k]=D),D}function f(A){const I=[],L=[],k=[];for(let N=0;N<t;N++)I[N]=0,L[N]=0,k[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:L,attributeDivisors:k,object:A,attributes:{},index:null}}function h(A,I,L,k){const N=a.attributes,F=I.attributes;let D=0;const H=L.getAttributes();for(const z in H)if(H[z].location>=0){const W=N[z];let Z=F[z];if(Z===void 0&&(z==="instanceMatrix"&&A.instanceMatrix&&(Z=A.instanceMatrix),z==="instanceColor"&&A.instanceColor&&(Z=A.instanceColor)),W===void 0||W.attribute!==Z||Z&&W.data!==Z.data)return!0;D++}return a.attributesNum!==D||a.index!==k}function p(A,I,L,k){const N={},F=I.attributes;let D=0;const H=L.getAttributes();for(const z in H)if(H[z].location>=0){let W=F[z];W===void 0&&(z==="instanceMatrix"&&A.instanceMatrix&&(W=A.instanceMatrix),z==="instanceColor"&&A.instanceColor&&(W=A.instanceColor));const Z={};Z.attribute=W,W&&W.data&&(Z.data=W.data),N[z]=Z,D++}a.attributes=N,a.attributesNum=D,a.index=k}function m(){const A=a.newAttributes;for(let I=0,L=A.length;I<L;I++)A[I]=0}function g(A){v(A,0)}function v(A,I){const L=a.newAttributes,k=a.enabledAttributes,N=a.attributeDivisors;L[A]=1,k[A]===0&&(n.enableVertexAttribArray(A),k[A]=1),N[A]!==I&&(n.vertexAttribDivisor(A,I),N[A]=I)}function y(){const A=a.newAttributes,I=a.enabledAttributes;for(let L=0,k=I.length;L<k;L++)I[L]!==A[L]&&(n.disableVertexAttribArray(L),I[L]=0)}function b(A,I,L,k,N,F,D){D===!0?n.vertexAttribIPointer(A,I,L,N,F):n.vertexAttribPointer(A,I,L,k,N,F)}function _(A,I,L,k){m();const N=k.attributes,F=L.getAttributes(),D=I.defaultAttributeValues;for(const H in F){const z=F[H];if(z.location>=0){let B=N[H];if(B===void 0&&(H==="instanceMatrix"&&A.instanceMatrix&&(B=A.instanceMatrix),H==="instanceColor"&&A.instanceColor&&(B=A.instanceColor)),B!==void 0){const W=B.normalized,Z=B.itemSize,ee=e.get(B);if(ee===void 0)continue;const J=ee.buffer,re=ee.type,fe=ee.bytesPerElement,de=re===n.INT||re===n.UNSIGNED_INT||B.gpuType===CO;if(B.isInterleavedBufferAttribute){const me=B.data,Re=me.stride,De=B.offset;if(me.isInstancedInterleavedBuffer){for(let Ge=0;Ge<z.locationSize;Ge++)v(z.location+Ge,me.meshPerAttribute);A.isInstancedMesh!==!0&&k._maxInstanceCount===void 0&&(k._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let Ge=0;Ge<z.locationSize;Ge++)g(z.location+Ge);n.bindBuffer(n.ARRAY_BUFFER,J);for(let Ge=0;Ge<z.locationSize;Ge++)b(z.location+Ge,Z/z.locationSize,re,W,Re*fe,(De+Z/z.locationSize*Ge)*fe,de)}else{if(B.isInstancedBufferAttribute){for(let me=0;me<z.locationSize;me++)v(z.location+me,B.meshPerAttribute);A.isInstancedMesh!==!0&&k._maxInstanceCount===void 0&&(k._maxInstanceCount=B.meshPerAttribute*B.count)}else for(let me=0;me<z.locationSize;me++)g(z.location+me);n.bindBuffer(n.ARRAY_BUFFER,J);for(let me=0;me<z.locationSize;me++)b(z.location+me,Z/z.locationSize,re,W,Z*fe,Z/z.locationSize*me*fe,de)}}else if(D!==void 0){const W=D[H];if(W!==void 0)switch(W.length){case 2:n.vertexAttrib2fv(z.location,W);break;case 3:n.vertexAttrib3fv(z.location,W);break;case 4:n.vertexAttrib4fv(z.location,W);break;default:n.vertexAttrib1fv(z.location,W)}}}}y()}function w(){C();for(const A in r){const I=r[A];for(const L in I){const k=I[L];for(const N in k)u(k[N].object),delete k[N];delete I[L]}delete r[A]}}function x(A){if(r[A.id]===void 0)return;const I=r[A.id];for(const L in I){const k=I[L];for(const N in k)u(k[N].object),delete k[N];delete I[L]}delete r[A.id]}function M(A){for(const I in r){const L=r[I];if(L[A.id]===void 0)continue;const k=L[A.id];for(const N in k)u(k[N].object),delete k[N];delete L[A.id]}}function C(){T(),s=!0,a!==i&&(a=i,c(a.object))}function T(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:C,resetDefaultState:T,dispose:w,releaseStatesOfGeometry:x,releaseStatesOfProgram:M,initAttributes:m,enableAttribute:g,disableUnusedAttributes:y}}function Eot(n,e,t){let r;function i(c){r=c}function a(c,u){n.drawArrays(r,c,u),t.update(u,r,1)}function s(c,u,d){d!==0&&(n.drawArraysInstanced(r,c,u,d),t.update(u,r,d))}function o(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,d);let h=0;for(let p=0;p<d;p++)h+=u[p];t.update(h,r,1)}function l(c,u,d,f){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<c.length;p++)s(c[p],u[p],f[p]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,f,0,d);let p=0;for(let m=0;m<d;m++)p+=u[m]*f[m];t.update(p,r,1)}}this.setMode=i,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function Iot(n,e,t,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(M){return!(M!==js&&r.convert(M)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(M){const C=M===$y&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(M!==xu&&r.convert(M)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&M!==_c&&!C)}function l(M){if(M==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=t.logarithmicDepthBuffer===!0,f=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),g=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),v=n.getParameter(n.MAX_VERTEX_ATTRIBS),y=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),b=n.getParameter(n.MAX_VARYING_VECTORS),_=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),w=p>0,x=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:y,maxVaryings:b,maxFragmentUniforms:_,vertexTextures:w,maxSamples:x}}function Rot(n){const e=this;let t=null,r=0,i=!1,a=!1;const s=new Nf,o=new cr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=d.length!==0||f||r!==0||i;return i=f,r=d.length,h},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(d,f){t=u(d,f,0)},this.setState=function(d,f,h){const p=d.clippingPlanes,m=d.clipIntersection,g=d.clipShadows,v=n.get(d);if(!i||p===null||p.length===0||a&&!g)a?u(null):c();else{const y=a?0:r,b=y*4;let _=v.clippingState||null;l.value=_,_=u(p,f,b,h);for(let w=0;w!==b;++w)_[w]=t[w];v.clippingState=_,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,h,p){const m=d!==null?d.length:0;let g=null;if(m!==0){if(g=l.value,p!==!0||g===null){const v=h+m*4,y=f.matrixWorldInverse;o.getNormalMatrix(y),(g===null||g.length<v)&&(g=new Float32Array(v));for(let b=0,_=h;b!==m;++b,_+=4)s.copy(d[b]).applyMatrix4(y,o),s.normal.toArray(g,_),g[_+3]=s.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,g}}function Pot(n){let e=new WeakMap;function t(s,o){return o===kL?s.mapping=Jg:o===OL&&(s.mapping=ey),s}function r(s){if(s&&s.isTexture){const o=s.mapping;if(o===kL||o===OL)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new Oit(l.height);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}const Gv=4,_W=[.125,.215,.35,.446,.526,.582],Np=20,GI=new DO,SW=new ii;let WI=null,qI=0,KI=0,YI=!1;const Ep=(1+Math.sqrt(5))/2,dv=1/Ep,wW=[new tt(-Ep,dv,0),new tt(Ep,dv,0),new tt(-dv,0,Ep),new tt(dv,0,Ep),new tt(0,Ep,-dv),new tt(0,Ep,dv),new tt(-1,1,-1),new tt(1,1,-1),new tt(-1,1,1),new tt(1,1,1)];class xW{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){WI=this._renderer.getRenderTarget(),qI=this._renderer.getActiveCubeFace(),KI=this._renderer.getActiveMipmapLevel(),YI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=TW(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=MW(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(WI,qI,KI),this._renderer.xr.enabled=YI,e.scissorTest=!1,E2(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Jg||e.mapping===ey?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),WI=this._renderer.getRenderTarget(),qI=this._renderer.getActiveCubeFace(),KI=this._renderer.getActiveMipmapLevel(),YI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:iu,minFilter:iu,generateMipmaps:!1,type:$y,format:js,colorSpace:ry,depthBuffer:!1},i=CW(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=CW(e,t,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Lot(a)),this._blurMaterial=Dot(a,e,t)}return i}_compileMaterial(e){const t=new fa(this._lodPlanes[0],e);this._renderer.compile(t,GI)}_sceneToCubeUV(e,t,r,i){const o=new Rl(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(SW),u.toneMapping=ah,u.autoClear=!1;const h=new V0({name:"PMREM.Background",side:xo,depthWrite:!1,depthTest:!1}),p=new fa(new Wy,h);let m=!1;const g=e.background;g?g.isColor&&(h.color.copy(g),e.background=null,m=!0):(h.color.copy(SW),m=!0);for(let v=0;v<6;v++){const y=v%3;y===0?(o.up.set(0,l[v],0),o.lookAt(c[v],0,0)):y===1?(o.up.set(0,0,l[v]),o.lookAt(0,c[v],0)):(o.up.set(0,l[v],0),o.lookAt(0,0,c[v]));const b=this._cubeSize;E2(i,y*b,v>2?b:0,b,b),u.setRenderTarget(i),m&&u.render(p,o),u.render(e,o)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=g}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Jg||e.mapping===ey;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=TW()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=MW());const a=i?this._cubemapMaterial:this._equirectMaterial,s=new fa(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;E2(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(s,GI)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let a=1;a<i;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),o=wW[(i-a-1)%wW.length];this._blur(e,a-1,a,s,o)}t.autoClear=r}_blur(e,t,r,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",a),this._halfBlur(s,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,s,o){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new fa(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,p=isFinite(a)?Math.PI/(2*h):2*Math.PI/(2*Np-1),m=a/p,g=isFinite(a)?1+Math.floor(u*m):Np;g>Np&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${Np}`);const v=[];let y=0;for(let M=0;M<Np;++M){const C=M/m,T=Math.exp(-C*C/2);v.push(T),M===0?y+=T:M<g&&(y+=2*T)}for(let M=0;M<v.length;M++)v[M]=v[M]/y;f.envMap.value=e.texture,f.samples.value=g,f.weights.value=v,f.latitudinal.value=s==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:b}=this;f.dTheta.value=p,f.mipInt.value=b-r;const _=this._sizeLods[i],w=3*_*(i>b-Gv?i-b+Gv:0),x=4*(this._cubeSize-_);E2(t,w,x,3*_,2*_),l.setRenderTarget(t),l.render(d,GI)}}function Lot(n){const e=[],t=[],r=[];let i=n;const a=n-Gv+1+_W.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);t.push(o);let l=1/o;s>n-Gv?l=_W[s-n+Gv-1]:s===0&&(l=0),r.push(l);const c=1/(o-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,m=3,g=2,v=1,y=new Float32Array(m*p*h),b=new Float32Array(g*p*h),_=new Float32Array(v*p*h);for(let x=0;x<h;x++){const M=x%3*2/3-1,C=x>2?0:-1,T=[M,C,0,M+2/3,C,0,M+2/3,C+1,0,M,C,0,M+2/3,C+1,0,M,C+1,0];y.set(T,m*p*x),b.set(f,g*p*x);const A=[x,x,x,x,x,x];_.set(A,v*p*x)}const w=new jl;w.setAttribute("position",new Vl(y,m)),w.setAttribute("uv",new Vl(b,g)),w.setAttribute("faceIndex",new Vl(_,v)),e.push(w),i>Gv&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function CW(n,e,t){const r=new Ph(n,e,t);return r.texture.mapping=UA,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function E2(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Dot(n,e,t){const r=new Float32Array(Np),i=new tt(0,1,0);return new nl({name:"SphericalGaussianBlur",defines:{n:Np,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:kO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:rh,depthTest:!1,depthWrite:!1})}function MW(){return new nl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:kO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:rh,depthTest:!1,depthWrite:!1})}function TW(){return new nl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:kO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:rh,depthTest:!1,depthWrite:!1})}function kO(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function kot(n){let e=new WeakMap,t=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===kL||l===OL,u=l===Jg||l===ey;if(c||u){let d=e.get(o);const f=d!==void 0?d.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==f)return t===null&&(t=new xW(n)),d=c?t.fromEquirectangular(o,d):t.fromCubemap(o,d),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),d.texture;if(d!==void 0)return d.texture;{const h=o.image;return c&&h&&h.height>0||u&&h&&i(h)?(t===null&&(t=new xW(n)),d=c?t.fromEquirectangular(o):t.fromCubemap(o),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),o.addEventListener("dispose",a),d.texture):null}}}return o}function i(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function Oot(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&Iv("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Not(n,e,t,r){const i={},a=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const p in f.attributes)e.remove(f.attributes[p]);f.removeEventListener("dispose",s),delete i[f.id];const h=a.get(f);h&&(e.remove(h),a.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function o(d,f){return i[f.id]===!0||(f.addEventListener("dispose",s),i[f.id]=!0,t.memory.geometries++),f}function l(d){const f=d.attributes;for(const h in f)e.update(f[h],n.ARRAY_BUFFER)}function c(d){const f=[],h=d.index,p=d.attributes.position;let m=0;if(h!==null){const y=h.array;m=h.version;for(let b=0,_=y.length;b<_;b+=3){const w=y[b+0],x=y[b+1],M=y[b+2];f.push(w,x,x,M,M,w)}}else if(p!==void 0){const y=p.array;m=p.version;for(let b=0,_=y.length/3-1;b<_;b+=3){const w=b+0,x=b+1,M=b+2;f.push(w,x,x,M,M,w)}}else return;const g=new(jie(f)?rae:nae)(f,1);g.version=m;const v=a.get(d);v&&e.remove(v),a.set(d,g)}function u(d){const f=a.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return a.get(d)}return{get:o,update:l,getWireframeAttribute:u}}function Bot(n,e,t){let r;function i(f){r=f}let a,s;function o(f){a=f.type,s=f.bytesPerElement}function l(f,h){n.drawElements(r,h,a,f*s),t.update(h,r,1)}function c(f,h,p){p!==0&&(n.drawElementsInstanced(r,h,a,f*s,p),t.update(h,r,p))}function u(f,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,a,f,0,p);let g=0;for(let v=0;v<p;v++)g+=h[v];t.update(g,r,1)}function d(f,h,p,m){if(p===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let v=0;v<f.length;v++)c(f[v]/s,h[v],m[v]);else{g.multiDrawElementsInstancedWEBGL(r,h,0,a,f,0,m,0,p);let v=0;for(let y=0;y<p;y++)v+=h[y]*m[y];t.update(v,r,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function Fot(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,o){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=o*(a/3);break;case n.LINES:t.lines+=o*(a/2);break;case n.LINE_STRIP:t.lines+=o*(a-1);break;case n.LINE_LOOP:t.lines+=o*a;break;case n.POINTS:t.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function zot(n,e,t){const r=new WeakMap,i=new Vi;function a(s,o,l){const c=s.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=u!==void 0?u.length:0;let f=r.get(o);if(f===void 0||f.count!==d){let A=function(){C.dispose(),r.delete(o),o.removeEventListener("dispose",A)};var h=A;f!==void 0&&f.texture.dispose();const p=o.morphAttributes.position!==void 0,m=o.morphAttributes.normal!==void 0,g=o.morphAttributes.color!==void 0,v=o.morphAttributes.position||[],y=o.morphAttributes.normal||[],b=o.morphAttributes.color||[];let _=0;p===!0&&(_=1),m===!0&&(_=2),g===!0&&(_=3);let w=o.attributes.position.count*_,x=1;w>e.maxTextureSize&&(x=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const M=new Float32Array(w*x*4*d),C=new Qie(M,w,x,d);C.type=_c,C.needsUpdate=!0;const T=_*4;for(let I=0;I<d;I++){const L=v[I],k=y[I],N=b[I],F=w*x*4*I;for(let D=0;D<L.count;D++){const H=D*T;p===!0&&(i.fromBufferAttribute(L,D),M[F+H+0]=i.x,M[F+H+1]=i.y,M[F+H+2]=i.z,M[F+H+3]=0),m===!0&&(i.fromBufferAttribute(k,D),M[F+H+4]=i.x,M[F+H+5]=i.y,M[F+H+6]=i.z,M[F+H+7]=0),g===!0&&(i.fromBufferAttribute(N,D),M[F+H+8]=i.x,M[F+H+9]=i.y,M[F+H+10]=i.z,M[F+H+11]=N.itemSize===4?i.w:1)}}f={count:d,texture:C,size:new Hn(w,x)},r.set(o,f),o.addEventListener("dispose",A)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let p=0;for(let g=0;g<c.length;g++)p+=c[g];const m=o.morphTargetsRelative?1:1-p;l.getUniforms().setValue(n,"morphTargetBaseInfluence",m),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",f.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",f.size)}return{update:a}}function Uot(n,e,t,r){let i=new WeakMap;function a(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function s(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:a,dispose:s}}const cae=new Js,AW=new PO(1,1),uae=new Qie,dae=new vit,fae=new sae,EW=[],IW=[],RW=new Float32Array(16),PW=new Float32Array(9),LW=new Float32Array(4);function qy(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let a=EW[i];if(a===void 0&&(a=new Float32Array(i),EW[i]=a),e!==0){r.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,n[s].toArray(a,o)}return a}function Ua(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Ha(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function $A(n,e){let t=IW[e];t===void 0&&(t=new Int32Array(e),IW[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Hot(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Vot(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ua(t,e))return;n.uniform2fv(this.addr,e),Ha(t,e)}}function $ot(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ua(t,e))return;n.uniform3fv(this.addr,e),Ha(t,e)}}function Got(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ua(t,e))return;n.uniform4fv(this.addr,e),Ha(t,e)}}function Wot(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Ua(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ha(t,e)}else{if(Ua(t,r))return;LW.set(r),n.uniformMatrix2fv(this.addr,!1,LW),Ha(t,r)}}function qot(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Ua(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ha(t,e)}else{if(Ua(t,r))return;PW.set(r),n.uniformMatrix3fv(this.addr,!1,PW),Ha(t,r)}}function Kot(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Ua(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ha(t,e)}else{if(Ua(t,r))return;RW.set(r),n.uniformMatrix4fv(this.addr,!1,RW),Ha(t,r)}}function Yot(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Xot(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ua(t,e))return;n.uniform2iv(this.addr,e),Ha(t,e)}}function jot(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ua(t,e))return;n.uniform3iv(this.addr,e),Ha(t,e)}}function Zot(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ua(t,e))return;n.uniform4iv(this.addr,e),Ha(t,e)}}function Qot(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Jot(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ua(t,e))return;n.uniform2uiv(this.addr,e),Ha(t,e)}}function elt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ua(t,e))return;n.uniform3uiv(this.addr,e),Ha(t,e)}}function tlt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ua(t,e))return;n.uniform4uiv(this.addr,e),Ha(t,e)}}function nlt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let a;this.type===n.SAMPLER_2D_SHADOW?(AW.compareFunction=Yie,a=AW):a=cae,t.setTexture2D(e||a,i)}function rlt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||dae,i)}function ilt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||fae,i)}function alt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||uae,i)}function slt(n){switch(n){case 5126:return Hot;case 35664:return Vot;case 35665:return $ot;case 35666:return Got;case 35674:return Wot;case 35675:return qot;case 35676:return Kot;case 5124:case 35670:return Yot;case 35667:case 35671:return Xot;case 35668:case 35672:return jot;case 35669:case 35673:return Zot;case 5125:return Qot;case 36294:return Jot;case 36295:return elt;case 36296:return tlt;case 35678:case 36198:case 36298:case 36306:case 35682:return nlt;case 35679:case 36299:case 36307:return rlt;case 35680:case 36300:case 36308:case 36293:return ilt;case 36289:case 36303:case 36311:case 36292:return alt}}function olt(n,e){n.uniform1fv(this.addr,e)}function llt(n,e){const t=qy(e,this.size,2);n.uniform2fv(this.addr,t)}function clt(n,e){const t=qy(e,this.size,3);n.uniform3fv(this.addr,t)}function ult(n,e){const t=qy(e,this.size,4);n.uniform4fv(this.addr,t)}function dlt(n,e){const t=qy(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function flt(n,e){const t=qy(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function hlt(n,e){const t=qy(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function plt(n,e){n.uniform1iv(this.addr,e)}function mlt(n,e){n.uniform2iv(this.addr,e)}function vlt(n,e){n.uniform3iv(this.addr,e)}function glt(n,e){n.uniform4iv(this.addr,e)}function ylt(n,e){n.uniform1uiv(this.addr,e)}function blt(n,e){n.uniform2uiv(this.addr,e)}function _lt(n,e){n.uniform3uiv(this.addr,e)}function Slt(n,e){n.uniform4uiv(this.addr,e)}function wlt(n,e,t){const r=this.cache,i=e.length,a=$A(t,i);Ua(r,a)||(n.uniform1iv(this.addr,a),Ha(r,a));for(let s=0;s!==i;++s)t.setTexture2D(e[s]||cae,a[s])}function xlt(n,e,t){const r=this.cache,i=e.length,a=$A(t,i);Ua(r,a)||(n.uniform1iv(this.addr,a),Ha(r,a));for(let s=0;s!==i;++s)t.setTexture3D(e[s]||dae,a[s])}function Clt(n,e,t){const r=this.cache,i=e.length,a=$A(t,i);Ua(r,a)||(n.uniform1iv(this.addr,a),Ha(r,a));for(let s=0;s!==i;++s)t.setTextureCube(e[s]||fae,a[s])}function Mlt(n,e,t){const r=this.cache,i=e.length,a=$A(t,i);Ua(r,a)||(n.uniform1iv(this.addr,a),Ha(r,a));for(let s=0;s!==i;++s)t.setTexture2DArray(e[s]||uae,a[s])}function Tlt(n){switch(n){case 5126:return olt;case 35664:return llt;case 35665:return clt;case 35666:return ult;case 35674:return dlt;case 35675:return flt;case 35676:return hlt;case 5124:case 35670:return plt;case 35667:case 35671:return mlt;case 35668:case 35672:return vlt;case 35669:case 35673:return glt;case 5125:return ylt;case 36294:return blt;case 36295:return _lt;case 36296:return Slt;case 35678:case 36198:case 36298:case 36306:case 35682:return wlt;case 35679:case 36299:case 36307:return xlt;case 35680:case 36300:case 36308:case 36293:return Clt;case 36289:case 36303:case 36311:case 36292:return Mlt}}class Alt{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=slt(t.type)}}class Elt{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Tlt(t.type)}}class Ilt{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,t[o.id],r)}}}const XI=/(\w+)(\])?(\[|\.)?/g;function DW(n,e){n.seq.push(e),n.map[e.id]=e}function Rlt(n,e,t){const r=n.name,i=r.length;for(XI.lastIndex=0;;){const a=XI.exec(r),s=XI.lastIndex;let o=a[1];const l=a[2]==="]",c=a[3];if(l&&(o=o|0),c===void 0||c==="["&&s+2===i){DW(t,c===void 0?new Alt(o,n,e):new Elt(o,n,e));break}else{let d=t.map[o];d===void 0&&(d=new Ilt(o),DW(t,d)),t=d}}}class OC{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(t,i),s=e.getUniformLocation(t,a.name);Rlt(a,s,this)}}setValue(e,t,r,i){const a=this.map[t];a!==void 0&&a.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let a=0,s=t.length;a!==s;++a){const o=t[a],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in t&&r.push(s)}return r}}function kW(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const Plt=37297;let Llt=0;function Dlt(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=i;s<a;s++){const o=s+1;r.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return r.join(`
`)}const OW=new cr;function klt(n){ni._getMatrix(OW,ni.workingColorSpace,n);const e=`mat3( ${OW.elements.map(t=>t.toFixed(4))} )`;switch(ni.getTransfer(n)){case dT:return[e,"LinearTransferOETF"];case _i:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function NW(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const s=parseInt(a[1]);return t.toUpperCase()+`

`+i+`

`+Dlt(n.getShaderSource(e),s)}else return i}function Olt(n,e){const t=klt(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Nlt(n,e){let t;switch(e){case Mrt:t="Linear";break;case Trt:t="Reinhard";break;case Art:t="Cineon";break;case Ert:t="ACESFilmic";break;case Rrt:t="AgX";break;case Prt:t="Neutral";break;case Irt:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const I2=new tt;function Blt(){ni.getLuminanceCoefficients(I2);const n=I2.x.toFixed(4),e=I2.y.toFixed(4),t=I2.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Flt(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(rb).join(`
`)}function zlt(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Ult(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=n.getActiveAttrib(e,i),s=a.name;let o=1;a.type===n.FLOAT_MAT2&&(o=2),a.type===n.FLOAT_MAT3&&(o=3),a.type===n.FLOAT_MAT4&&(o=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:o}}return t}function rb(n){return n!==""}function BW(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function FW(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Hlt=/^[ \t]*#include +<([\w\d./]+)>/gm;function uD(n){return n.replace(Hlt,$lt)}const Vlt=new Map;function $lt(n,e){let t=wr[e];if(t===void 0){const r=Vlt.get(e);if(r!==void 0)t=wr[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return uD(t)}const Glt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function zW(n){return n.replace(Glt,Wlt)}function Wlt(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function UW(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function qlt(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Oie?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===art?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===td&&(e="SHADOWMAP_TYPE_VSM"),e}function Klt(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Jg:case ey:e="ENVMAP_TYPE_CUBE";break;case UA:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Ylt(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ey:e="ENVMAP_MODE_REFRACTION";break}return e}function Xlt(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Bie:e="ENVMAP_BLENDING_MULTIPLY";break;case xrt:e="ENVMAP_BLENDING_MIX";break;case Crt:e="ENVMAP_BLENDING_ADD";break}return e}function jlt(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Zlt(n,e,t,r){const i=n.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const l=qlt(t),c=Klt(t),u=Ylt(t),d=Xlt(t),f=jlt(t),h=Flt(t),p=zlt(a),m=i.createProgram();let g,v,y=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(rb).join(`
`),g.length>0&&(g+=`
`),v=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(rb).join(`
`),v.length>0&&(v+=`
`)):(g=[UW(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(rb).join(`
`),v=[UW(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ah?"#define TONE_MAPPING":"",t.toneMapping!==ah?wr.tonemapping_pars_fragment:"",t.toneMapping!==ah?Nlt("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",wr.colorspace_pars_fragment,Olt("linearToOutputTexel",t.outputColorSpace),Blt(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(rb).join(`
`)),s=uD(s),s=BW(s,t),s=FW(s,t),o=uD(o),o=BW(o,t),o=FW(o,t),s=zW(s),o=zW(o),t.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,g=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,v=["#define varying in",t.glslVersion===JG?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===JG?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const b=y+g+s,_=y+v+o,w=kW(i,i.VERTEX_SHADER,b),x=kW(i,i.FRAGMENT_SHADER,_);i.attachShader(m,w),i.attachShader(m,x),t.index0AttributeName!==void 0?i.bindAttribLocation(m,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m);function M(I){if(n.debug.checkShaderErrors){const L=i.getProgramInfoLog(m).trim(),k=i.getShaderInfoLog(w).trim(),N=i.getShaderInfoLog(x).trim();let F=!0,D=!0;if(i.getProgramParameter(m,i.LINK_STATUS)===!1)if(F=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,m,w,x);else{const H=NW(i,w,"vertex"),z=NW(i,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+`

Material Name: `+I.name+`
Material Type: `+I.type+`

Program Info Log: `+L+`
`+H+`
`+z)}else L!==""?console.warn("THREE.WebGLProgram: Program Info Log:",L):(k===""||N==="")&&(D=!1);D&&(I.diagnostics={runnable:F,programLog:L,vertexShader:{log:k,prefix:g},fragmentShader:{log:N,prefix:v}})}i.deleteShader(w),i.deleteShader(x),C=new OC(i,m),T=Ult(i,m)}let C;this.getUniforms=function(){return C===void 0&&M(this),C};let T;this.getAttributes=function(){return T===void 0&&M(this),T};let A=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return A===!1&&(A=i.getProgramParameter(m,Plt)),A},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Llt++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=w,this.fragmentShader=x,this}let Qlt=0;class Jlt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new ect(e),t.set(e,r)),r}}class ect{constructor(e){this.id=Qlt++,this.code=e,this.usedTimes=0}}function tct(n,e,t,r,i,a,s){const o=new eae,l=new Jlt,c=new Set,u=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(T){return c.add(T),T===0?"uv":`uv${T}`}function g(T,A,I,L,k){const N=L.fog,F=k.geometry,D=T.isMeshStandardMaterial?L.environment:null,H=(T.isMeshStandardMaterial?t:e).get(T.envMap||D),z=H&&H.mapping===UA?H.image.height:null,B=p[T.type];T.precision!==null&&(h=i.getMaxPrecision(T.precision),h!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",h,"instead."));const W=F.morphAttributes.position||F.morphAttributes.normal||F.morphAttributes.color,Z=W!==void 0?W.length:0;let ee=0;F.morphAttributes.position!==void 0&&(ee=1),F.morphAttributes.normal!==void 0&&(ee=2),F.morphAttributes.color!==void 0&&(ee=3);let J,re,fe,de;if(B){const Ln=Xc[B];J=Ln.vertexShader,re=Ln.fragmentShader}else J=T.vertexShader,re=T.fragmentShader,l.update(T),fe=l.getVertexShaderID(T),de=l.getFragmentShaderID(T);const me=n.getRenderTarget(),Re=n.state.buffers.depth.getReversed(),De=k.isInstancedMesh===!0,Ge=k.isBatchedMesh===!0,We=!!T.map,K=!!T.matcap,ue=!!H,ie=!!T.aoMap,$e=!!T.lightMap,Ne=!!T.bumpMap,Ye=!!T.normalMap,ce=!!T.displacementMap,he=!!T.emissiveMap,ke=!!T.metalnessMap,oe=!!T.roughnessMap,V=T.anisotropy>0,Y=T.clearcoat>0,Q=T.dispersion>0,we=T.iridescence>0,Ue=T.sheen>0,ct=T.transmission>0,pt=V&&!!T.anisotropyMap,Ee=Y&&!!T.clearcoatMap,ft=Y&&!!T.clearcoatNormalMap,st=Y&&!!T.clearcoatRoughnessMap,G=we&&!!T.iridescenceMap,ye=we&&!!T.iridescenceThicknessMap,ve=Ue&&!!T.sheenColorMap,Le=Ue&&!!T.sheenRoughnessMap,be=!!T.specularMap,Te=!!T.specularColorMap,ht=!!T.specularIntensityMap,Ie=ct&&!!T.transmissionMap,bt=ct&&!!T.thicknessMap,nt=!!T.gradientMap,vt=!!T.alphaMap,kt=T.alphaTest>0,Tt=!!T.alphaHash,an=!!T.extensions;let _n=ah;T.toneMapped&&(me===null||me.isXRRenderTarget===!0)&&(_n=n.toneMapping);const or={shaderID:B,shaderType:T.type,shaderName:T.name,vertexShader:J,fragmentShader:re,defines:T.defines,customVertexShaderID:fe,customFragmentShaderID:de,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:h,batching:Ge,batchingColor:Ge&&k._colorsTexture!==null,instancing:De,instancingColor:De&&k.instanceColor!==null,instancingMorph:De&&k.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:me===null?n.outputColorSpace:me.isXRRenderTarget===!0?me.texture.colorSpace:ry,alphaToCoverage:!!T.alphaToCoverage,map:We,matcap:K,envMap:ue,envMapMode:ue&&H.mapping,envMapCubeUVHeight:z,aoMap:ie,lightMap:$e,bumpMap:Ne,normalMap:Ye,displacementMap:f&&ce,emissiveMap:he,normalMapObjectSpace:Ye&&T.normalMapType===Nrt,normalMapTangentSpace:Ye&&T.normalMapType===Ort,metalnessMap:ke,roughnessMap:oe,anisotropy:V,anisotropyMap:pt,clearcoat:Y,clearcoatMap:Ee,clearcoatNormalMap:ft,clearcoatRoughnessMap:st,dispersion:Q,iridescence:we,iridescenceMap:G,iridescenceThicknessMap:ye,sheen:Ue,sheenColorMap:ve,sheenRoughnessMap:Le,specularMap:be,specularColorMap:Te,specularIntensityMap:ht,transmission:ct,transmissionMap:Ie,thicknessMap:bt,gradientMap:nt,opaque:T.transparent===!1&&T.blending===ih&&T.alphaToCoverage===!1,alphaMap:vt,alphaTest:kt,alphaHash:Tt,combine:T.combine,mapUv:We&&m(T.map.channel),aoMapUv:ie&&m(T.aoMap.channel),lightMapUv:$e&&m(T.lightMap.channel),bumpMapUv:Ne&&m(T.bumpMap.channel),normalMapUv:Ye&&m(T.normalMap.channel),displacementMapUv:ce&&m(T.displacementMap.channel),emissiveMapUv:he&&m(T.emissiveMap.channel),metalnessMapUv:ke&&m(T.metalnessMap.channel),roughnessMapUv:oe&&m(T.roughnessMap.channel),anisotropyMapUv:pt&&m(T.anisotropyMap.channel),clearcoatMapUv:Ee&&m(T.clearcoatMap.channel),clearcoatNormalMapUv:ft&&m(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:st&&m(T.clearcoatRoughnessMap.channel),iridescenceMapUv:G&&m(T.iridescenceMap.channel),iridescenceThicknessMapUv:ye&&m(T.iridescenceThicknessMap.channel),sheenColorMapUv:ve&&m(T.sheenColorMap.channel),sheenRoughnessMapUv:Le&&m(T.sheenRoughnessMap.channel),specularMapUv:be&&m(T.specularMap.channel),specularColorMapUv:Te&&m(T.specularColorMap.channel),specularIntensityMapUv:ht&&m(T.specularIntensityMap.channel),transmissionMapUv:Ie&&m(T.transmissionMap.channel),thicknessMapUv:bt&&m(T.thicknessMap.channel),alphaMapUv:vt&&m(T.alphaMap.channel),vertexTangents:!!F.attributes.tangent&&(Ye||V),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!F.attributes.color&&F.attributes.color.itemSize===4,pointsUvs:k.isPoints===!0&&!!F.attributes.uv&&(We||vt),fog:!!N,useFog:T.fog===!0,fogExp2:!!N&&N.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:Re,skinning:k.isSkinnedMesh===!0,morphTargets:F.morphAttributes.position!==void 0,morphNormals:F.morphAttributes.normal!==void 0,morphColors:F.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:ee,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numLightProbes:A.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&I.length>0,shadowMapType:n.shadowMap.type,toneMapping:_n,decodeVideoTexture:We&&T.map.isVideoTexture===!0&&ni.getTransfer(T.map.colorSpace)===_i,decodeVideoTextureEmissive:he&&T.emissiveMap.isVideoTexture===!0&&ni.getTransfer(T.emissiveMap.colorSpace)===_i,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Pl,flipSided:T.side===xo,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionClipCullDistance:an&&T.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(an&&T.extensions.multiDraw===!0||Ge)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()};return or.vertexUv1s=c.has(1),or.vertexUv2s=c.has(2),or.vertexUv3s=c.has(3),c.clear(),or}function v(T){const A=[];if(T.shaderID?A.push(T.shaderID):(A.push(T.customVertexShaderID),A.push(T.customFragmentShaderID)),T.defines!==void 0)for(const I in T.defines)A.push(I),A.push(T.defines[I]);return T.isRawShaderMaterial===!1&&(y(A,T),b(A,T),A.push(n.outputColorSpace)),A.push(T.customProgramCacheKey),A.join()}function y(T,A){T.push(A.precision),T.push(A.outputColorSpace),T.push(A.envMapMode),T.push(A.envMapCubeUVHeight),T.push(A.mapUv),T.push(A.alphaMapUv),T.push(A.lightMapUv),T.push(A.aoMapUv),T.push(A.bumpMapUv),T.push(A.normalMapUv),T.push(A.displacementMapUv),T.push(A.emissiveMapUv),T.push(A.metalnessMapUv),T.push(A.roughnessMapUv),T.push(A.anisotropyMapUv),T.push(A.clearcoatMapUv),T.push(A.clearcoatNormalMapUv),T.push(A.clearcoatRoughnessMapUv),T.push(A.iridescenceMapUv),T.push(A.iridescenceThicknessMapUv),T.push(A.sheenColorMapUv),T.push(A.sheenRoughnessMapUv),T.push(A.specularMapUv),T.push(A.specularColorMapUv),T.push(A.specularIntensityMapUv),T.push(A.transmissionMapUv),T.push(A.thicknessMapUv),T.push(A.combine),T.push(A.fogExp2),T.push(A.sizeAttenuation),T.push(A.morphTargetsCount),T.push(A.morphAttributeCount),T.push(A.numDirLights),T.push(A.numPointLights),T.push(A.numSpotLights),T.push(A.numSpotLightMaps),T.push(A.numHemiLights),T.push(A.numRectAreaLights),T.push(A.numDirLightShadows),T.push(A.numPointLightShadows),T.push(A.numSpotLightShadows),T.push(A.numSpotLightShadowsWithMaps),T.push(A.numLightProbes),T.push(A.shadowMapType),T.push(A.toneMapping),T.push(A.numClippingPlanes),T.push(A.numClipIntersection),T.push(A.depthPacking)}function b(T,A){o.disableAll(),A.supportsVertexTextures&&o.enable(0),A.instancing&&o.enable(1),A.instancingColor&&o.enable(2),A.instancingMorph&&o.enable(3),A.matcap&&o.enable(4),A.envMap&&o.enable(5),A.normalMapObjectSpace&&o.enable(6),A.normalMapTangentSpace&&o.enable(7),A.clearcoat&&o.enable(8),A.iridescence&&o.enable(9),A.alphaTest&&o.enable(10),A.vertexColors&&o.enable(11),A.vertexAlphas&&o.enable(12),A.vertexUv1s&&o.enable(13),A.vertexUv2s&&o.enable(14),A.vertexUv3s&&o.enable(15),A.vertexTangents&&o.enable(16),A.anisotropy&&o.enable(17),A.alphaHash&&o.enable(18),A.batching&&o.enable(19),A.dispersion&&o.enable(20),A.batchingColor&&o.enable(21),T.push(o.mask),o.disableAll(),A.fog&&o.enable(0),A.useFog&&o.enable(1),A.flatShading&&o.enable(2),A.logarithmicDepthBuffer&&o.enable(3),A.reverseDepthBuffer&&o.enable(4),A.skinning&&o.enable(5),A.morphTargets&&o.enable(6),A.morphNormals&&o.enable(7),A.morphColors&&o.enable(8),A.premultipliedAlpha&&o.enable(9),A.shadowMapEnabled&&o.enable(10),A.doubleSided&&o.enable(11),A.flipSided&&o.enable(12),A.useDepthPacking&&o.enable(13),A.dithering&&o.enable(14),A.transmission&&o.enable(15),A.sheen&&o.enable(16),A.opaque&&o.enable(17),A.pointsUvs&&o.enable(18),A.decodeVideoTexture&&o.enable(19),A.decodeVideoTextureEmissive&&o.enable(20),A.alphaToCoverage&&o.enable(21),T.push(o.mask)}function _(T){const A=p[T.type];let I;if(A){const L=Xc[A];I=Pit.clone(L.uniforms)}else I=T.uniforms;return I}function w(T,A){let I;for(let L=0,k=u.length;L<k;L++){const N=u[L];if(N.cacheKey===A){I=N,++I.usedTimes;break}}return I===void 0&&(I=new Zlt(n,A,T,a),u.push(I)),I}function x(T){if(--T.usedTimes===0){const A=u.indexOf(T);u[A]=u[u.length-1],u.pop(),T.destroy()}}function M(T){l.remove(T)}function C(){l.dispose()}return{getParameters:g,getProgramCacheKey:v,getUniforms:_,acquireProgram:w,releaseProgram:x,releaseShaderCache:M,programs:u,dispose:C}}function nct(){let n=new WeakMap;function e(s){return n.has(s)}function t(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function r(s){n.delete(s)}function i(s,o,l){n.get(s)[o]=l}function a(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:a}}function rct(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function HW(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function VW(){const n=[];let e=0;const t=[],r=[],i=[];function a(){e=0,t.length=0,r.length=0,i.length=0}function s(d,f,h,p,m,g){let v=n[e];return v===void 0?(v={id:d.id,object:d,geometry:f,material:h,groupOrder:p,renderOrder:d.renderOrder,z:m,group:g},n[e]=v):(v.id=d.id,v.object=d,v.geometry=f,v.material=h,v.groupOrder=p,v.renderOrder=d.renderOrder,v.z=m,v.group=g),e++,v}function o(d,f,h,p,m,g){const v=s(d,f,h,p,m,g);h.transmission>0?r.push(v):h.transparent===!0?i.push(v):t.push(v)}function l(d,f,h,p,m,g){const v=s(d,f,h,p,m,g);h.transmission>0?r.unshift(v):h.transparent===!0?i.unshift(v):t.unshift(v)}function c(d,f){t.length>1&&t.sort(d||rct),r.length>1&&r.sort(f||HW),i.length>1&&i.sort(f||HW)}function u(){for(let d=e,f=n.length;d<f;d++){const h=n[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:t,transmissive:r,transparent:i,init:a,push:o,unshift:l,finish:u,sort:c}}function ict(){let n=new WeakMap;function e(r,i){const a=n.get(r);let s;return a===void 0?(s=new VW,n.set(r,[s])):i>=a.length?(s=new VW,a.push(s)):s=a[i],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function act(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new tt,color:new ii};break;case"SpotLight":t={position:new tt,direction:new tt,color:new ii,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new tt,color:new ii,distance:0,decay:0};break;case"HemisphereLight":t={direction:new tt,skyColor:new ii,groundColor:new ii};break;case"RectAreaLight":t={color:new ii,position:new tt,halfWidth:new tt,halfHeight:new tt};break}return n[e.id]=t,t}}}function sct(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Hn};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Hn};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Hn,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let oct=0;function lct(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function cct(n){const e=new act,t=sct(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new tt);const i=new tt,a=new ur,s=new ur;function o(c){let u=0,d=0,f=0;for(let T=0;T<9;T++)r.probe[T].set(0,0,0);let h=0,p=0,m=0,g=0,v=0,y=0,b=0,_=0,w=0,x=0,M=0;c.sort(lct);for(let T=0,A=c.length;T<A;T++){const I=c[T],L=I.color,k=I.intensity,N=I.distance,F=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)u+=L.r*k,d+=L.g*k,f+=L.b*k;else if(I.isLightProbe){for(let D=0;D<9;D++)r.probe[D].addScaledVector(I.sh.coefficients[D],k);M++}else if(I.isDirectionalLight){const D=e.get(I);if(D.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const H=I.shadow,z=t.get(I);z.shadowIntensity=H.intensity,z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,r.directionalShadow[h]=z,r.directionalShadowMap[h]=F,r.directionalShadowMatrix[h]=I.shadow.matrix,y++}r.directional[h]=D,h++}else if(I.isSpotLight){const D=e.get(I);D.position.setFromMatrixPosition(I.matrixWorld),D.color.copy(L).multiplyScalar(k),D.distance=N,D.coneCos=Math.cos(I.angle),D.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),D.decay=I.decay,r.spot[m]=D;const H=I.shadow;if(I.map&&(r.spotLightMap[w]=I.map,w++,H.updateMatrices(I),I.castShadow&&x++),r.spotLightMatrix[m]=H.matrix,I.castShadow){const z=t.get(I);z.shadowIntensity=H.intensity,z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,r.spotShadow[m]=z,r.spotShadowMap[m]=F,_++}m++}else if(I.isRectAreaLight){const D=e.get(I);D.color.copy(L).multiplyScalar(k),D.halfWidth.set(I.width*.5,0,0),D.halfHeight.set(0,I.height*.5,0),r.rectArea[g]=D,g++}else if(I.isPointLight){const D=e.get(I);if(D.color.copy(I.color).multiplyScalar(I.intensity),D.distance=I.distance,D.decay=I.decay,I.castShadow){const H=I.shadow,z=t.get(I);z.shadowIntensity=H.intensity,z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,z.shadowCameraNear=H.camera.near,z.shadowCameraFar=H.camera.far,r.pointShadow[p]=z,r.pointShadowMap[p]=F,r.pointShadowMatrix[p]=I.shadow.matrix,b++}r.point[p]=D,p++}else if(I.isHemisphereLight){const D=e.get(I);D.skyColor.copy(I.color).multiplyScalar(k),D.groundColor.copy(I.groundColor).multiplyScalar(k),r.hemi[v]=D,v++}}g>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=xn.LTC_FLOAT_1,r.rectAreaLTC2=xn.LTC_FLOAT_2):(r.rectAreaLTC1=xn.LTC_HALF_1,r.rectAreaLTC2=xn.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=d,r.ambient[2]=f;const C=r.hash;(C.directionalLength!==h||C.pointLength!==p||C.spotLength!==m||C.rectAreaLength!==g||C.hemiLength!==v||C.numDirectionalShadows!==y||C.numPointShadows!==b||C.numSpotShadows!==_||C.numSpotMaps!==w||C.numLightProbes!==M)&&(r.directional.length=h,r.spot.length=m,r.rectArea.length=g,r.point.length=p,r.hemi.length=v,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=_,r.spotShadowMap.length=_,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=_+w-x,r.spotLightMap.length=w,r.numSpotLightShadowsWithMaps=x,r.numLightProbes=M,C.directionalLength=h,C.pointLength=p,C.spotLength=m,C.rectAreaLength=g,C.hemiLength=v,C.numDirectionalShadows=y,C.numPointShadows=b,C.numSpotShadows=_,C.numSpotMaps=w,C.numLightProbes=M,r.version=oct++)}function l(c,u){let d=0,f=0,h=0,p=0,m=0;const g=u.matrixWorldInverse;for(let v=0,y=c.length;v<y;v++){const b=c[v];if(b.isDirectionalLight){const _=r.directional[d];_.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),_.direction.sub(i),_.direction.transformDirection(g),d++}else if(b.isSpotLight){const _=r.spot[h];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(g),_.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),_.direction.sub(i),_.direction.transformDirection(g),h++}else if(b.isRectAreaLight){const _=r.rectArea[p];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(g),s.identity(),a.copy(b.matrixWorld),a.premultiply(g),s.extractRotation(a),_.halfWidth.set(b.width*.5,0,0),_.halfHeight.set(0,b.height*.5,0),_.halfWidth.applyMatrix4(s),_.halfHeight.applyMatrix4(s),p++}else if(b.isPointLight){const _=r.point[f];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(g),f++}else if(b.isHemisphereLight){const _=r.hemi[m];_.direction.setFromMatrixPosition(b.matrixWorld),_.direction.transformDirection(g),m++}}}return{setup:o,setupView:l,state:r}}function $W(n){const e=new cct(n),t=[],r=[];function i(u){c.camera=u,t.length=0,r.length=0}function a(u){t.push(u)}function s(u){r.push(u)}function o(){e.setup(t)}function l(u){e.setupView(t,u)}const c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:o,setupLightsView:l,pushLight:a,pushShadow:s}}function uct(n){let e=new WeakMap;function t(i,a=0){const s=e.get(i);let o;return s===void 0?(o=new $W(n),e.set(i,[o])):a>=s.length?(o=new $W(n),s.push(o)):o=s[a],o}function r(){e=new WeakMap}return{get:t,dispose:r}}const dct=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fct=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function hct(n,e,t){let r=new oae;const i=new Hn,a=new Hn,s=new Vi,o=new Uit({depthPacking:krt}),l=new Hit,c={},u=t.maxTextureSize,d={[wu]:xo,[xo]:wu,[Pl]:Pl},f=new nl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Hn},radius:{value:4}},vertexShader:dct,fragmentShader:fct}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new jl;p.setAttribute("position",new Vl(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new fa(p,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Oie;let v=this.type;this.render=function(x,M,C){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||x.length===0)return;const T=n.getRenderTarget(),A=n.getActiveCubeFace(),I=n.getActiveMipmapLevel(),L=n.state;L.setBlending(rh),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);const k=v!==td&&this.type===td,N=v===td&&this.type!==td;for(let F=0,D=x.length;F<D;F++){const H=x[F],z=H.shadow;if(z===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(z.autoUpdate===!1&&z.needsUpdate===!1)continue;i.copy(z.mapSize);const B=z.getFrameExtents();if(i.multiply(B),a.copy(z.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/B.x),i.x=a.x*B.x,z.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/B.y),i.y=a.y*B.y,z.mapSize.y=a.y)),z.map===null||k===!0||N===!0){const Z=this.type!==td?{minFilter:el,magFilter:el}:{};z.map!==null&&z.map.dispose(),z.map=new Ph(i.x,i.y,Z),z.map.texture.name=H.name+".shadowMap",z.camera.updateProjectionMatrix()}n.setRenderTarget(z.map),n.clear();const W=z.getViewportCount();for(let Z=0;Z<W;Z++){const ee=z.getViewport(Z);s.set(a.x*ee.x,a.y*ee.y,a.x*ee.z,a.y*ee.w),L.viewport(s),z.updateMatrices(H,Z),r=z.getFrustum(),_(M,C,z.camera,H,this.type)}z.isPointLightShadow!==!0&&this.type===td&&y(z,C),z.needsUpdate=!1}v=this.type,g.needsUpdate=!1,n.setRenderTarget(T,A,I)};function y(x,M){const C=e.update(m);f.defines.VSM_SAMPLES!==x.blurSamples&&(f.defines.VSM_SAMPLES=x.blurSamples,h.defines.VSM_SAMPLES=x.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),x.mapPass===null&&(x.mapPass=new Ph(i.x,i.y)),f.uniforms.shadow_pass.value=x.map.texture,f.uniforms.resolution.value=x.mapSize,f.uniforms.radius.value=x.radius,n.setRenderTarget(x.mapPass),n.clear(),n.renderBufferDirect(M,null,C,f,m,null),h.uniforms.shadow_pass.value=x.mapPass.texture,h.uniforms.resolution.value=x.mapSize,h.uniforms.radius.value=x.radius,n.setRenderTarget(x.map),n.clear(),n.renderBufferDirect(M,null,C,h,m,null)}function b(x,M,C,T){let A=null;const I=C.isPointLight===!0?x.customDistanceMaterial:x.customDepthMaterial;if(I!==void 0)A=I;else if(A=C.isPointLight===!0?l:o,n.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const L=A.uuid,k=M.uuid;let N=c[L];N===void 0&&(N={},c[L]=N);let F=N[k];F===void 0&&(F=A.clone(),N[k]=F,M.addEventListener("dispose",w)),A=F}if(A.visible=M.visible,A.wireframe=M.wireframe,T===td?A.side=M.shadowSide!==null?M.shadowSide:M.side:A.side=M.shadowSide!==null?M.shadowSide:d[M.side],A.alphaMap=M.alphaMap,A.alphaTest=M.alphaTest,A.map=M.map,A.clipShadows=M.clipShadows,A.clippingPlanes=M.clippingPlanes,A.clipIntersection=M.clipIntersection,A.displacementMap=M.displacementMap,A.displacementScale=M.displacementScale,A.displacementBias=M.displacementBias,A.wireframeLinewidth=M.wireframeLinewidth,A.linewidth=M.linewidth,C.isPointLight===!0&&A.isMeshDistanceMaterial===!0){const L=n.properties.get(A);L.light=C}return A}function _(x,M,C,T,A){if(x.visible===!1)return;if(x.layers.test(M.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&A===td)&&(!x.frustumCulled||r.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,x.matrixWorld);const k=e.update(x),N=x.material;if(Array.isArray(N)){const F=k.groups;for(let D=0,H=F.length;D<H;D++){const z=F[D],B=N[z.materialIndex];if(B&&B.visible){const W=b(x,B,T,A);x.onBeforeShadow(n,x,M,C,k,W,z),n.renderBufferDirect(C,null,k,W,x,z),x.onAfterShadow(n,x,M,C,k,W,z)}}}else if(N.visible){const F=b(x,N,T,A);x.onBeforeShadow(n,x,M,C,k,F,null),n.renderBufferDirect(C,null,k,F,x,null),x.onAfterShadow(n,x,M,C,k,F,null)}}const L=x.children;for(let k=0,N=L.length;k<N;k++)_(L[k],M,C,T,A)}function w(x){x.target.removeEventListener("dispose",w);for(const C in c){const T=c[C],A=x.target.uuid;A in T&&(T[A].dispose(),delete T[A])}}}const pct={[AL]:EL,[IL]:LL,[RL]:DL,[Qg]:PL,[EL]:AL,[LL]:IL,[DL]:RL,[PL]:Qg};function mct(n,e){function t(){let Ie=!1;const bt=new Vi;let nt=null;const vt=new Vi(0,0,0,0);return{setMask:function(kt){nt!==kt&&!Ie&&(n.colorMask(kt,kt,kt,kt),nt=kt)},setLocked:function(kt){Ie=kt},setClear:function(kt,Tt,an,_n,or){or===!0&&(kt*=_n,Tt*=_n,an*=_n),bt.set(kt,Tt,an,_n),vt.equals(bt)===!1&&(n.clearColor(kt,Tt,an,_n),vt.copy(bt))},reset:function(){Ie=!1,nt=null,vt.set(-1,0,0,0)}}}function r(){let Ie=!1,bt=!1,nt=null,vt=null,kt=null;return{setReversed:function(Tt){if(bt!==Tt){const an=e.get("EXT_clip_control");bt?an.clipControlEXT(an.LOWER_LEFT_EXT,an.ZERO_TO_ONE_EXT):an.clipControlEXT(an.LOWER_LEFT_EXT,an.NEGATIVE_ONE_TO_ONE_EXT);const _n=kt;kt=null,this.setClear(_n)}bt=Tt},getReversed:function(){return bt},setTest:function(Tt){Tt?me(n.DEPTH_TEST):Re(n.DEPTH_TEST)},setMask:function(Tt){nt!==Tt&&!Ie&&(n.depthMask(Tt),nt=Tt)},setFunc:function(Tt){if(bt&&(Tt=pct[Tt]),vt!==Tt){switch(Tt){case AL:n.depthFunc(n.NEVER);break;case EL:n.depthFunc(n.ALWAYS);break;case IL:n.depthFunc(n.LESS);break;case Qg:n.depthFunc(n.LEQUAL);break;case RL:n.depthFunc(n.EQUAL);break;case PL:n.depthFunc(n.GEQUAL);break;case LL:n.depthFunc(n.GREATER);break;case DL:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}vt=Tt}},setLocked:function(Tt){Ie=Tt},setClear:function(Tt){kt!==Tt&&(bt&&(Tt=1-Tt),n.clearDepth(Tt),kt=Tt)},reset:function(){Ie=!1,nt=null,vt=null,kt=null,bt=!1}}}function i(){let Ie=!1,bt=null,nt=null,vt=null,kt=null,Tt=null,an=null,_n=null,or=null;return{setTest:function(Ln){Ie||(Ln?me(n.STENCIL_TEST):Re(n.STENCIL_TEST))},setMask:function(Ln){bt!==Ln&&!Ie&&(n.stencilMask(Ln),bt=Ln)},setFunc:function(Ln,Kr,jn){(nt!==Ln||vt!==Kr||kt!==jn)&&(n.stencilFunc(Ln,Kr,jn),nt=Ln,vt=Kr,kt=jn)},setOp:function(Ln,Kr,jn){(Tt!==Ln||an!==Kr||_n!==jn)&&(n.stencilOp(Ln,Kr,jn),Tt=Ln,an=Kr,_n=jn)},setLocked:function(Ln){Ie=Ln},setClear:function(Ln){or!==Ln&&(n.clearStencil(Ln),or=Ln)},reset:function(){Ie=!1,bt=null,nt=null,vt=null,kt=null,Tt=null,an=null,_n=null,or=null}}}const a=new t,s=new r,o=new i,l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,h=[],p=null,m=!1,g=null,v=null,y=null,b=null,_=null,w=null,x=null,M=new ii(0,0,0),C=0,T=!1,A=null,I=null,L=null,k=null,N=null;const F=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let D=!1,H=0;const z=n.getParameter(n.VERSION);z.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(z)[1]),D=H>=1):z.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),D=H>=2);let B=null,W={};const Z=n.getParameter(n.SCISSOR_BOX),ee=n.getParameter(n.VIEWPORT),J=new Vi().fromArray(Z),re=new Vi().fromArray(ee);function fe(Ie,bt,nt,vt){const kt=new Uint8Array(4),Tt=n.createTexture();n.bindTexture(Ie,Tt),n.texParameteri(Ie,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ie,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let an=0;an<nt;an++)Ie===n.TEXTURE_3D||Ie===n.TEXTURE_2D_ARRAY?n.texImage3D(bt,0,n.RGBA,1,1,vt,0,n.RGBA,n.UNSIGNED_BYTE,kt):n.texImage2D(bt+an,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,kt);return Tt}const de={};de[n.TEXTURE_2D]=fe(n.TEXTURE_2D,n.TEXTURE_2D,1),de[n.TEXTURE_CUBE_MAP]=fe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),de[n.TEXTURE_2D_ARRAY]=fe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),de[n.TEXTURE_3D]=fe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),me(n.DEPTH_TEST),s.setFunc(Qg),Ne(!1),Ye(KG),me(n.CULL_FACE),ie(rh);function me(Ie){u[Ie]!==!0&&(n.enable(Ie),u[Ie]=!0)}function Re(Ie){u[Ie]!==!1&&(n.disable(Ie),u[Ie]=!1)}function De(Ie,bt){return d[Ie]!==bt?(n.bindFramebuffer(Ie,bt),d[Ie]=bt,Ie===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=bt),Ie===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=bt),!0):!1}function Ge(Ie,bt){let nt=h,vt=!1;if(Ie){nt=f.get(bt),nt===void 0&&(nt=[],f.set(bt,nt));const kt=Ie.textures;if(nt.length!==kt.length||nt[0]!==n.COLOR_ATTACHMENT0){for(let Tt=0,an=kt.length;Tt<an;Tt++)nt[Tt]=n.COLOR_ATTACHMENT0+Tt;nt.length=kt.length,vt=!0}}else nt[0]!==n.BACK&&(nt[0]=n.BACK,vt=!0);vt&&n.drawBuffers(nt)}function We(Ie){return p!==Ie?(n.useProgram(Ie),p=Ie,!0):!1}const K={[Op]:n.FUNC_ADD,[srt]:n.FUNC_SUBTRACT,[ort]:n.FUNC_REVERSE_SUBTRACT};K[lrt]=n.MIN,K[crt]=n.MAX;const ue={[urt]:n.ZERO,[drt]:n.ONE,[frt]:n.SRC_COLOR,[aS]:n.SRC_ALPHA,[yrt]:n.SRC_ALPHA_SATURATE,[vrt]:n.DST_COLOR,[prt]:n.DST_ALPHA,[hrt]:n.ONE_MINUS_SRC_COLOR,[sS]:n.ONE_MINUS_SRC_ALPHA,[grt]:n.ONE_MINUS_DST_COLOR,[mrt]:n.ONE_MINUS_DST_ALPHA,[brt]:n.CONSTANT_COLOR,[_rt]:n.ONE_MINUS_CONSTANT_COLOR,[Srt]:n.CONSTANT_ALPHA,[wrt]:n.ONE_MINUS_CONSTANT_ALPHA};function ie(Ie,bt,nt,vt,kt,Tt,an,_n,or,Ln){if(Ie===rh){m===!0&&(Re(n.BLEND),m=!1);return}if(m===!1&&(me(n.BLEND),m=!0),Ie!==Nie){if(Ie!==g||Ln!==T){if((v!==Op||_!==Op)&&(n.blendEquation(n.FUNC_ADD),v=Op,_=Op),Ln)switch(Ie){case ih:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case YG:n.blendFunc(n.ONE,n.ONE);break;case XG:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case jG:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ie);break}else switch(Ie){case ih:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case YG:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case XG:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case jG:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ie);break}y=null,b=null,w=null,x=null,M.set(0,0,0),C=0,g=Ie,T=Ln}return}kt=kt||bt,Tt=Tt||nt,an=an||vt,(bt!==v||kt!==_)&&(n.blendEquationSeparate(K[bt],K[kt]),v=bt,_=kt),(nt!==y||vt!==b||Tt!==w||an!==x)&&(n.blendFuncSeparate(ue[nt],ue[vt],ue[Tt],ue[an]),y=nt,b=vt,w=Tt,x=an),(_n.equals(M)===!1||or!==C)&&(n.blendColor(_n.r,_n.g,_n.b,or),M.copy(_n),C=or),g=Ie,T=!1}function $e(Ie,bt){Ie.side===Pl?Re(n.CULL_FACE):me(n.CULL_FACE);let nt=Ie.side===xo;bt&&(nt=!nt),Ne(nt),Ie.blending===ih&&Ie.transparent===!1?ie(rh):ie(Ie.blending,Ie.blendEquation,Ie.blendSrc,Ie.blendDst,Ie.blendEquationAlpha,Ie.blendSrcAlpha,Ie.blendDstAlpha,Ie.blendColor,Ie.blendAlpha,Ie.premultipliedAlpha),s.setFunc(Ie.depthFunc),s.setTest(Ie.depthTest),s.setMask(Ie.depthWrite),a.setMask(Ie.colorWrite);const vt=Ie.stencilWrite;o.setTest(vt),vt&&(o.setMask(Ie.stencilWriteMask),o.setFunc(Ie.stencilFunc,Ie.stencilRef,Ie.stencilFuncMask),o.setOp(Ie.stencilFail,Ie.stencilZFail,Ie.stencilZPass)),he(Ie.polygonOffset,Ie.polygonOffsetFactor,Ie.polygonOffsetUnits),Ie.alphaToCoverage===!0?me(n.SAMPLE_ALPHA_TO_COVERAGE):Re(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ne(Ie){A!==Ie&&(Ie?n.frontFace(n.CW):n.frontFace(n.CCW),A=Ie)}function Ye(Ie){Ie!==rrt?(me(n.CULL_FACE),Ie!==I&&(Ie===KG?n.cullFace(n.BACK):Ie===irt?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Re(n.CULL_FACE),I=Ie}function ce(Ie){Ie!==L&&(D&&n.lineWidth(Ie),L=Ie)}function he(Ie,bt,nt){Ie?(me(n.POLYGON_OFFSET_FILL),(k!==bt||N!==nt)&&(n.polygonOffset(bt,nt),k=bt,N=nt)):Re(n.POLYGON_OFFSET_FILL)}function ke(Ie){Ie?me(n.SCISSOR_TEST):Re(n.SCISSOR_TEST)}function oe(Ie){Ie===void 0&&(Ie=n.TEXTURE0+F-1),B!==Ie&&(n.activeTexture(Ie),B=Ie)}function V(Ie,bt,nt){nt===void 0&&(B===null?nt=n.TEXTURE0+F-1:nt=B);let vt=W[nt];vt===void 0&&(vt={type:void 0,texture:void 0},W[nt]=vt),(vt.type!==Ie||vt.texture!==bt)&&(B!==nt&&(n.activeTexture(nt),B=nt),n.bindTexture(Ie,bt||de[Ie]),vt.type=Ie,vt.texture=bt)}function Y(){const Ie=W[B];Ie!==void 0&&Ie.type!==void 0&&(n.bindTexture(Ie.type,null),Ie.type=void 0,Ie.texture=void 0)}function Q(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function we(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function Ue(){try{n.texSubImage2D.apply(n,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function ct(){try{n.texSubImage3D.apply(n,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function pt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function Ee(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function ft(){try{n.texStorage2D.apply(n,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function st(){try{n.texStorage3D.apply(n,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function G(){try{n.texImage2D.apply(n,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function ye(){try{n.texImage3D.apply(n,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function ve(Ie){J.equals(Ie)===!1&&(n.scissor(Ie.x,Ie.y,Ie.z,Ie.w),J.copy(Ie))}function Le(Ie){re.equals(Ie)===!1&&(n.viewport(Ie.x,Ie.y,Ie.z,Ie.w),re.copy(Ie))}function be(Ie,bt){let nt=c.get(bt);nt===void 0&&(nt=new WeakMap,c.set(bt,nt));let vt=nt.get(Ie);vt===void 0&&(vt=n.getUniformBlockIndex(bt,Ie.name),nt.set(Ie,vt))}function Te(Ie,bt){const vt=c.get(bt).get(Ie);l.get(bt)!==vt&&(n.uniformBlockBinding(bt,vt,Ie.__bindingPointIndex),l.set(bt,vt))}function ht(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),s.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},B=null,W={},d={},f=new WeakMap,h=[],p=null,m=!1,g=null,v=null,y=null,b=null,_=null,w=null,x=null,M=new ii(0,0,0),C=0,T=!1,A=null,I=null,L=null,k=null,N=null,J.set(0,0,n.canvas.width,n.canvas.height),re.set(0,0,n.canvas.width,n.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:me,disable:Re,bindFramebuffer:De,drawBuffers:Ge,useProgram:We,setBlending:ie,setMaterial:$e,setFlipSided:Ne,setCullFace:Ye,setLineWidth:ce,setPolygonOffset:he,setScissorTest:ke,activeTexture:oe,bindTexture:V,unbindTexture:Y,compressedTexImage2D:Q,compressedTexImage3D:we,texImage2D:G,texImage3D:ye,updateUBOMapping:be,uniformBlockBinding:Te,texStorage2D:ft,texStorage3D:st,texSubImage2D:Ue,texSubImage3D:ct,compressedTexSubImage2D:pt,compressedTexSubImage3D:Ee,scissor:ve,viewport:Le,reset:ht}}function vct(n,e,t,r,i,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Hn,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(oe,V){return h?new OffscreenCanvas(oe,V):hT("canvas")}function m(oe,V,Y){let Q=1;const we=ke(oe);if((we.width>Y||we.height>Y)&&(Q=Y/Math.max(we.width,we.height)),Q<1)if(typeof HTMLImageElement<"u"&&oe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&oe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&oe instanceof ImageBitmap||typeof VideoFrame<"u"&&oe instanceof VideoFrame){const Ue=Math.floor(Q*we.width),ct=Math.floor(Q*we.height);d===void 0&&(d=p(Ue,ct));const pt=V?p(Ue,ct):d;return pt.width=Ue,pt.height=ct,pt.getContext("2d").drawImage(oe,0,0,Ue,ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+we.width+"x"+we.height+") to ("+Ue+"x"+ct+")."),pt}else return"data"in oe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+we.width+"x"+we.height+")."),oe;return oe}function g(oe){return oe.generateMipmaps}function v(oe){n.generateMipmap(oe)}function y(oe){return oe.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:oe.isWebGL3DRenderTarget?n.TEXTURE_3D:oe.isWebGLArrayRenderTarget||oe.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function b(oe,V,Y,Q,we=!1){if(oe!==null){if(n[oe]!==void 0)return n[oe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+oe+"'")}let Ue=V;if(V===n.RED&&(Y===n.FLOAT&&(Ue=n.R32F),Y===n.HALF_FLOAT&&(Ue=n.R16F),Y===n.UNSIGNED_BYTE&&(Ue=n.R8)),V===n.RED_INTEGER&&(Y===n.UNSIGNED_BYTE&&(Ue=n.R8UI),Y===n.UNSIGNED_SHORT&&(Ue=n.R16UI),Y===n.UNSIGNED_INT&&(Ue=n.R32UI),Y===n.BYTE&&(Ue=n.R8I),Y===n.SHORT&&(Ue=n.R16I),Y===n.INT&&(Ue=n.R32I)),V===n.RG&&(Y===n.FLOAT&&(Ue=n.RG32F),Y===n.HALF_FLOAT&&(Ue=n.RG16F),Y===n.UNSIGNED_BYTE&&(Ue=n.RG8)),V===n.RG_INTEGER&&(Y===n.UNSIGNED_BYTE&&(Ue=n.RG8UI),Y===n.UNSIGNED_SHORT&&(Ue=n.RG16UI),Y===n.UNSIGNED_INT&&(Ue=n.RG32UI),Y===n.BYTE&&(Ue=n.RG8I),Y===n.SHORT&&(Ue=n.RG16I),Y===n.INT&&(Ue=n.RG32I)),V===n.RGB_INTEGER&&(Y===n.UNSIGNED_BYTE&&(Ue=n.RGB8UI),Y===n.UNSIGNED_SHORT&&(Ue=n.RGB16UI),Y===n.UNSIGNED_INT&&(Ue=n.RGB32UI),Y===n.BYTE&&(Ue=n.RGB8I),Y===n.SHORT&&(Ue=n.RGB16I),Y===n.INT&&(Ue=n.RGB32I)),V===n.RGBA_INTEGER&&(Y===n.UNSIGNED_BYTE&&(Ue=n.RGBA8UI),Y===n.UNSIGNED_SHORT&&(Ue=n.RGBA16UI),Y===n.UNSIGNED_INT&&(Ue=n.RGBA32UI),Y===n.BYTE&&(Ue=n.RGBA8I),Y===n.SHORT&&(Ue=n.RGBA16I),Y===n.INT&&(Ue=n.RGBA32I)),V===n.RGB&&Y===n.UNSIGNED_INT_5_9_9_9_REV&&(Ue=n.RGB9_E5),V===n.RGBA){const ct=we?dT:ni.getTransfer(Q);Y===n.FLOAT&&(Ue=n.RGBA32F),Y===n.HALF_FLOAT&&(Ue=n.RGBA16F),Y===n.UNSIGNED_BYTE&&(Ue=ct===_i?n.SRGB8_ALPHA8:n.RGBA8),Y===n.UNSIGNED_SHORT_4_4_4_4&&(Ue=n.RGBA4),Y===n.UNSIGNED_SHORT_5_5_5_1&&(Ue=n.RGB5_A1)}return(Ue===n.R16F||Ue===n.R32F||Ue===n.RG16F||Ue===n.RG32F||Ue===n.RGBA16F||Ue===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ue}function _(oe,V){let Y;return oe?V===null||V===Bl||V===ty?Y=n.DEPTH24_STENCIL8:V===_c?Y=n.DEPTH32F_STENCIL8:V===oS&&(Y=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):V===null||V===Bl||V===ty?Y=n.DEPTH_COMPONENT24:V===_c?Y=n.DEPTH_COMPONENT32F:V===oS&&(Y=n.DEPTH_COMPONENT16),Y}function w(oe,V){return g(oe)===!0||oe.isFramebufferTexture&&oe.minFilter!==el&&oe.minFilter!==iu?Math.log2(Math.max(V.width,V.height))+1:oe.mipmaps!==void 0&&oe.mipmaps.length>0?oe.mipmaps.length:oe.isCompressedTexture&&Array.isArray(oe.image)?V.mipmaps.length:1}function x(oe){const V=oe.target;V.removeEventListener("dispose",x),C(V),V.isVideoTexture&&u.delete(V)}function M(oe){const V=oe.target;V.removeEventListener("dispose",M),A(V)}function C(oe){const V=r.get(oe);if(V.__webglInit===void 0)return;const Y=oe.source,Q=f.get(Y);if(Q){const we=Q[V.__cacheKey];we.usedTimes--,we.usedTimes===0&&T(oe),Object.keys(Q).length===0&&f.delete(Y)}r.remove(oe)}function T(oe){const V=r.get(oe);n.deleteTexture(V.__webglTexture);const Y=oe.source,Q=f.get(Y);delete Q[V.__cacheKey],s.memory.textures--}function A(oe){const V=r.get(oe);if(oe.depthTexture&&(oe.depthTexture.dispose(),r.remove(oe.depthTexture)),oe.isWebGLCubeRenderTarget)for(let Q=0;Q<6;Q++){if(Array.isArray(V.__webglFramebuffer[Q]))for(let we=0;we<V.__webglFramebuffer[Q].length;we++)n.deleteFramebuffer(V.__webglFramebuffer[Q][we]);else n.deleteFramebuffer(V.__webglFramebuffer[Q]);V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer[Q])}else{if(Array.isArray(V.__webglFramebuffer))for(let Q=0;Q<V.__webglFramebuffer.length;Q++)n.deleteFramebuffer(V.__webglFramebuffer[Q]);else n.deleteFramebuffer(V.__webglFramebuffer);if(V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&n.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let Q=0;Q<V.__webglColorRenderbuffer.length;Q++)V.__webglColorRenderbuffer[Q]&&n.deleteRenderbuffer(V.__webglColorRenderbuffer[Q]);V.__webglDepthRenderbuffer&&n.deleteRenderbuffer(V.__webglDepthRenderbuffer)}const Y=oe.textures;for(let Q=0,we=Y.length;Q<we;Q++){const Ue=r.get(Y[Q]);Ue.__webglTexture&&(n.deleteTexture(Ue.__webglTexture),s.memory.textures--),r.remove(Y[Q])}r.remove(oe)}let I=0;function L(){I=0}function k(){const oe=I;return oe>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+oe+" texture units while this GPU supports only "+i.maxTextures),I+=1,oe}function N(oe){const V=[];return V.push(oe.wrapS),V.push(oe.wrapT),V.push(oe.wrapR||0),V.push(oe.magFilter),V.push(oe.minFilter),V.push(oe.anisotropy),V.push(oe.internalFormat),V.push(oe.format),V.push(oe.type),V.push(oe.generateMipmaps),V.push(oe.premultiplyAlpha),V.push(oe.flipY),V.push(oe.unpackAlignment),V.push(oe.colorSpace),V.join()}function F(oe,V){const Y=r.get(oe);if(oe.isVideoTexture&&ce(oe),oe.isRenderTargetTexture===!1&&oe.version>0&&Y.__version!==oe.version){const Q=oe.image;if(Q===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Q.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{re(Y,oe,V);return}}t.bindTexture(n.TEXTURE_2D,Y.__webglTexture,n.TEXTURE0+V)}function D(oe,V){const Y=r.get(oe);if(oe.version>0&&Y.__version!==oe.version){re(Y,oe,V);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Y.__webglTexture,n.TEXTURE0+V)}function H(oe,V){const Y=r.get(oe);if(oe.version>0&&Y.__version!==oe.version){re(Y,oe,V);return}t.bindTexture(n.TEXTURE_3D,Y.__webglTexture,n.TEXTURE0+V)}function z(oe,V){const Y=r.get(oe);if(oe.version>0&&Y.__version!==oe.version){fe(Y,oe,V);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Y.__webglTexture,n.TEXTURE0+V)}const B={[NL]:n.REPEAT,[e0]:n.CLAMP_TO_EDGE,[BL]:n.MIRRORED_REPEAT},W={[el]:n.NEAREST,[Lrt]:n.NEAREST_MIPMAP_NEAREST,[l2]:n.NEAREST_MIPMAP_LINEAR,[iu]:n.LINEAR,[xI]:n.LINEAR_MIPMAP_NEAREST,[t0]:n.LINEAR_MIPMAP_LINEAR},Z={[Brt]:n.NEVER,[$rt]:n.ALWAYS,[Frt]:n.LESS,[Yie]:n.LEQUAL,[zrt]:n.EQUAL,[Vrt]:n.GEQUAL,[Urt]:n.GREATER,[Hrt]:n.NOTEQUAL};function ee(oe,V){if(V.type===_c&&e.has("OES_texture_float_linear")===!1&&(V.magFilter===iu||V.magFilter===xI||V.magFilter===l2||V.magFilter===t0||V.minFilter===iu||V.minFilter===xI||V.minFilter===l2||V.minFilter===t0)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(oe,n.TEXTURE_WRAP_S,B[V.wrapS]),n.texParameteri(oe,n.TEXTURE_WRAP_T,B[V.wrapT]),(oe===n.TEXTURE_3D||oe===n.TEXTURE_2D_ARRAY)&&n.texParameteri(oe,n.TEXTURE_WRAP_R,B[V.wrapR]),n.texParameteri(oe,n.TEXTURE_MAG_FILTER,W[V.magFilter]),n.texParameteri(oe,n.TEXTURE_MIN_FILTER,W[V.minFilter]),V.compareFunction&&(n.texParameteri(oe,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(oe,n.TEXTURE_COMPARE_FUNC,Z[V.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(V.magFilter===el||V.minFilter!==l2&&V.minFilter!==t0||V.type===_c&&e.has("OES_texture_float_linear")===!1)return;if(V.anisotropy>1||r.get(V).__currentAnisotropy){const Y=e.get("EXT_texture_filter_anisotropic");n.texParameterf(oe,Y.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,i.getMaxAnisotropy())),r.get(V).__currentAnisotropy=V.anisotropy}}}function J(oe,V){let Y=!1;oe.__webglInit===void 0&&(oe.__webglInit=!0,V.addEventListener("dispose",x));const Q=V.source;let we=f.get(Q);we===void 0&&(we={},f.set(Q,we));const Ue=N(V);if(Ue!==oe.__cacheKey){we[Ue]===void 0&&(we[Ue]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,Y=!0),we[Ue].usedTimes++;const ct=we[oe.__cacheKey];ct!==void 0&&(we[oe.__cacheKey].usedTimes--,ct.usedTimes===0&&T(V)),oe.__cacheKey=Ue,oe.__webglTexture=we[Ue].texture}return Y}function re(oe,V,Y){let Q=n.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(Q=n.TEXTURE_2D_ARRAY),V.isData3DTexture&&(Q=n.TEXTURE_3D);const we=J(oe,V),Ue=V.source;t.bindTexture(Q,oe.__webglTexture,n.TEXTURE0+Y);const ct=r.get(Ue);if(Ue.version!==ct.__version||we===!0){t.activeTexture(n.TEXTURE0+Y);const pt=ni.getPrimaries(ni.workingColorSpace),Ee=V.colorSpace===Ff?null:ni.getPrimaries(V.colorSpace),ft=V.colorSpace===Ff||pt===Ee?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,V.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,V.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ft);let st=m(V.image,!1,i.maxTextureSize);st=he(V,st);const G=a.convert(V.format,V.colorSpace),ye=a.convert(V.type);let ve=b(V.internalFormat,G,ye,V.colorSpace,V.isVideoTexture);ee(Q,V);let Le;const be=V.mipmaps,Te=V.isVideoTexture!==!0,ht=ct.__version===void 0||we===!0,Ie=Ue.dataReady,bt=w(V,st);if(V.isDepthTexture)ve=_(V.format===ny,V.type),ht&&(Te?t.texStorage2D(n.TEXTURE_2D,1,ve,st.width,st.height):t.texImage2D(n.TEXTURE_2D,0,ve,st.width,st.height,0,G,ye,null));else if(V.isDataTexture)if(be.length>0){Te&&ht&&t.texStorage2D(n.TEXTURE_2D,bt,ve,be[0].width,be[0].height);for(let nt=0,vt=be.length;nt<vt;nt++)Le=be[nt],Te?Ie&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,Le.width,Le.height,G,ye,Le.data):t.texImage2D(n.TEXTURE_2D,nt,ve,Le.width,Le.height,0,G,ye,Le.data);V.generateMipmaps=!1}else Te?(ht&&t.texStorage2D(n.TEXTURE_2D,bt,ve,st.width,st.height),Ie&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,st.width,st.height,G,ye,st.data)):t.texImage2D(n.TEXTURE_2D,0,ve,st.width,st.height,0,G,ye,st.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){Te&&ht&&t.texStorage3D(n.TEXTURE_2D_ARRAY,bt,ve,be[0].width,be[0].height,st.depth);for(let nt=0,vt=be.length;nt<vt;nt++)if(Le=be[nt],V.format!==js)if(G!==null)if(Te){if(Ie)if(V.layerUpdates.size>0){const kt=bW(Le.width,Le.height,V.format,V.type);for(const Tt of V.layerUpdates){const an=Le.data.subarray(Tt*kt/Le.data.BYTES_PER_ELEMENT,(Tt+1)*kt/Le.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,Tt,Le.width,Le.height,1,G,an)}V.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,0,Le.width,Le.height,st.depth,G,Le.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,nt,ve,Le.width,Le.height,st.depth,0,Le.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Te?Ie&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,0,Le.width,Le.height,st.depth,G,ye,Le.data):t.texImage3D(n.TEXTURE_2D_ARRAY,nt,ve,Le.width,Le.height,st.depth,0,G,ye,Le.data)}else{Te&&ht&&t.texStorage2D(n.TEXTURE_2D,bt,ve,be[0].width,be[0].height);for(let nt=0,vt=be.length;nt<vt;nt++)Le=be[nt],V.format!==js?G!==null?Te?Ie&&t.compressedTexSubImage2D(n.TEXTURE_2D,nt,0,0,Le.width,Le.height,G,Le.data):t.compressedTexImage2D(n.TEXTURE_2D,nt,ve,Le.width,Le.height,0,Le.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Te?Ie&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,Le.width,Le.height,G,ye,Le.data):t.texImage2D(n.TEXTURE_2D,nt,ve,Le.width,Le.height,0,G,ye,Le.data)}else if(V.isDataArrayTexture)if(Te){if(ht&&t.texStorage3D(n.TEXTURE_2D_ARRAY,bt,ve,st.width,st.height,st.depth),Ie)if(V.layerUpdates.size>0){const nt=bW(st.width,st.height,V.format,V.type);for(const vt of V.layerUpdates){const kt=st.data.subarray(vt*nt/st.data.BYTES_PER_ELEMENT,(vt+1)*nt/st.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,vt,st.width,st.height,1,G,ye,kt)}V.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,st.width,st.height,st.depth,G,ye,st.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,ve,st.width,st.height,st.depth,0,G,ye,st.data);else if(V.isData3DTexture)Te?(ht&&t.texStorage3D(n.TEXTURE_3D,bt,ve,st.width,st.height,st.depth),Ie&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,st.width,st.height,st.depth,G,ye,st.data)):t.texImage3D(n.TEXTURE_3D,0,ve,st.width,st.height,st.depth,0,G,ye,st.data);else if(V.isFramebufferTexture){if(ht)if(Te)t.texStorage2D(n.TEXTURE_2D,bt,ve,st.width,st.height);else{let nt=st.width,vt=st.height;for(let kt=0;kt<bt;kt++)t.texImage2D(n.TEXTURE_2D,kt,ve,nt,vt,0,G,ye,null),nt>>=1,vt>>=1}}else if(be.length>0){if(Te&&ht){const nt=ke(be[0]);t.texStorage2D(n.TEXTURE_2D,bt,ve,nt.width,nt.height)}for(let nt=0,vt=be.length;nt<vt;nt++)Le=be[nt],Te?Ie&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,G,ye,Le):t.texImage2D(n.TEXTURE_2D,nt,ve,G,ye,Le);V.generateMipmaps=!1}else if(Te){if(ht){const nt=ke(st);t.texStorage2D(n.TEXTURE_2D,bt,ve,nt.width,nt.height)}Ie&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,G,ye,st)}else t.texImage2D(n.TEXTURE_2D,0,ve,G,ye,st);g(V)&&v(Q),ct.__version=Ue.version,V.onUpdate&&V.onUpdate(V)}oe.__version=V.version}function fe(oe,V,Y){if(V.image.length!==6)return;const Q=J(oe,V),we=V.source;t.bindTexture(n.TEXTURE_CUBE_MAP,oe.__webglTexture,n.TEXTURE0+Y);const Ue=r.get(we);if(we.version!==Ue.__version||Q===!0){t.activeTexture(n.TEXTURE0+Y);const ct=ni.getPrimaries(ni.workingColorSpace),pt=V.colorSpace===Ff?null:ni.getPrimaries(V.colorSpace),Ee=V.colorSpace===Ff||ct===pt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,V.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,V.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ee);const ft=V.isCompressedTexture||V.image[0].isCompressedTexture,st=V.image[0]&&V.image[0].isDataTexture,G=[];for(let vt=0;vt<6;vt++)!ft&&!st?G[vt]=m(V.image[vt],!0,i.maxCubemapSize):G[vt]=st?V.image[vt].image:V.image[vt],G[vt]=he(V,G[vt]);const ye=G[0],ve=a.convert(V.format,V.colorSpace),Le=a.convert(V.type),be=b(V.internalFormat,ve,Le,V.colorSpace),Te=V.isVideoTexture!==!0,ht=Ue.__version===void 0||Q===!0,Ie=we.dataReady;let bt=w(V,ye);ee(n.TEXTURE_CUBE_MAP,V);let nt;if(ft){Te&&ht&&t.texStorage2D(n.TEXTURE_CUBE_MAP,bt,be,ye.width,ye.height);for(let vt=0;vt<6;vt++){nt=G[vt].mipmaps;for(let kt=0;kt<nt.length;kt++){const Tt=nt[kt];V.format!==js?ve!==null?Te?Ie&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,kt,0,0,Tt.width,Tt.height,ve,Tt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,kt,be,Tt.width,Tt.height,0,Tt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Te?Ie&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,kt,0,0,Tt.width,Tt.height,ve,Le,Tt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,kt,be,Tt.width,Tt.height,0,ve,Le,Tt.data)}}}else{if(nt=V.mipmaps,Te&&ht){nt.length>0&&bt++;const vt=ke(G[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,bt,be,vt.width,vt.height)}for(let vt=0;vt<6;vt++)if(st){Te?Ie&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,0,0,0,G[vt].width,G[vt].height,ve,Le,G[vt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,0,be,G[vt].width,G[vt].height,0,ve,Le,G[vt].data);for(let kt=0;kt<nt.length;kt++){const an=nt[kt].image[vt].image;Te?Ie&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,kt+1,0,0,an.width,an.height,ve,Le,an.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,kt+1,be,an.width,an.height,0,ve,Le,an.data)}}else{Te?Ie&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,0,0,0,ve,Le,G[vt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,0,be,ve,Le,G[vt]);for(let kt=0;kt<nt.length;kt++){const Tt=nt[kt];Te?Ie&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,kt+1,0,0,ve,Le,Tt.image[vt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,kt+1,be,ve,Le,Tt.image[vt])}}}g(V)&&v(n.TEXTURE_CUBE_MAP),Ue.__version=we.version,V.onUpdate&&V.onUpdate(V)}oe.__version=V.version}function de(oe,V,Y,Q,we,Ue){const ct=a.convert(Y.format,Y.colorSpace),pt=a.convert(Y.type),Ee=b(Y.internalFormat,ct,pt,Y.colorSpace),ft=r.get(V),st=r.get(Y);if(st.__renderTarget=V,!ft.__hasExternalTextures){const G=Math.max(1,V.width>>Ue),ye=Math.max(1,V.height>>Ue);we===n.TEXTURE_3D||we===n.TEXTURE_2D_ARRAY?t.texImage3D(we,Ue,Ee,G,ye,V.depth,0,ct,pt,null):t.texImage2D(we,Ue,Ee,G,ye,0,ct,pt,null)}t.bindFramebuffer(n.FRAMEBUFFER,oe),Ye(V)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Q,we,st.__webglTexture,0,Ne(V)):(we===n.TEXTURE_2D||we>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&we<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Q,we,st.__webglTexture,Ue),t.bindFramebuffer(n.FRAMEBUFFER,null)}function me(oe,V,Y){if(n.bindRenderbuffer(n.RENDERBUFFER,oe),V.depthBuffer){const Q=V.depthTexture,we=Q&&Q.isDepthTexture?Q.type:null,Ue=_(V.stencilBuffer,we),ct=V.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,pt=Ne(V);Ye(V)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,pt,Ue,V.width,V.height):Y?n.renderbufferStorageMultisample(n.RENDERBUFFER,pt,Ue,V.width,V.height):n.renderbufferStorage(n.RENDERBUFFER,Ue,V.width,V.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ct,n.RENDERBUFFER,oe)}else{const Q=V.textures;for(let we=0;we<Q.length;we++){const Ue=Q[we],ct=a.convert(Ue.format,Ue.colorSpace),pt=a.convert(Ue.type),Ee=b(Ue.internalFormat,ct,pt,Ue.colorSpace),ft=Ne(V);Y&&Ye(V)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ft,Ee,V.width,V.height):Ye(V)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ft,Ee,V.width,V.height):n.renderbufferStorage(n.RENDERBUFFER,Ee,V.width,V.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Re(oe,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,oe),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Q=r.get(V.depthTexture);Q.__renderTarget=V,(!Q.__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),F(V.depthTexture,0);const we=Q.__webglTexture,Ue=Ne(V);if(V.depthTexture.format===y0)Ye(V)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,we,0,Ue):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,we,0);else if(V.depthTexture.format===ny)Ye(V)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,we,0,Ue):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,we,0);else throw new Error("Unknown depthTexture format")}function De(oe){const V=r.get(oe),Y=oe.isWebGLCubeRenderTarget===!0;if(V.__boundDepthTexture!==oe.depthTexture){const Q=oe.depthTexture;if(V.__depthDisposeCallback&&V.__depthDisposeCallback(),Q){const we=()=>{delete V.__boundDepthTexture,delete V.__depthDisposeCallback,Q.removeEventListener("dispose",we)};Q.addEventListener("dispose",we),V.__depthDisposeCallback=we}V.__boundDepthTexture=Q}if(oe.depthTexture&&!V.__autoAllocateDepthBuffer){if(Y)throw new Error("target.depthTexture not supported in Cube render targets");Re(V.__webglFramebuffer,oe)}else if(Y){V.__webglDepthbuffer=[];for(let Q=0;Q<6;Q++)if(t.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer[Q]),V.__webglDepthbuffer[Q]===void 0)V.__webglDepthbuffer[Q]=n.createRenderbuffer(),me(V.__webglDepthbuffer[Q],oe,!1);else{const we=oe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ue=V.__webglDepthbuffer[Q];n.bindRenderbuffer(n.RENDERBUFFER,Ue),n.framebufferRenderbuffer(n.FRAMEBUFFER,we,n.RENDERBUFFER,Ue)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer===void 0)V.__webglDepthbuffer=n.createRenderbuffer(),me(V.__webglDepthbuffer,oe,!1);else{const Q=oe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,we=V.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,we),n.framebufferRenderbuffer(n.FRAMEBUFFER,Q,n.RENDERBUFFER,we)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ge(oe,V,Y){const Q=r.get(oe);V!==void 0&&de(Q.__webglFramebuffer,oe,oe.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Y!==void 0&&De(oe)}function We(oe){const V=oe.texture,Y=r.get(oe),Q=r.get(V);oe.addEventListener("dispose",M);const we=oe.textures,Ue=oe.isWebGLCubeRenderTarget===!0,ct=we.length>1;if(ct||(Q.__webglTexture===void 0&&(Q.__webglTexture=n.createTexture()),Q.__version=V.version,s.memory.textures++),Ue){Y.__webglFramebuffer=[];for(let pt=0;pt<6;pt++)if(V.mipmaps&&V.mipmaps.length>0){Y.__webglFramebuffer[pt]=[];for(let Ee=0;Ee<V.mipmaps.length;Ee++)Y.__webglFramebuffer[pt][Ee]=n.createFramebuffer()}else Y.__webglFramebuffer[pt]=n.createFramebuffer()}else{if(V.mipmaps&&V.mipmaps.length>0){Y.__webglFramebuffer=[];for(let pt=0;pt<V.mipmaps.length;pt++)Y.__webglFramebuffer[pt]=n.createFramebuffer()}else Y.__webglFramebuffer=n.createFramebuffer();if(ct)for(let pt=0,Ee=we.length;pt<Ee;pt++){const ft=r.get(we[pt]);ft.__webglTexture===void 0&&(ft.__webglTexture=n.createTexture(),s.memory.textures++)}if(oe.samples>0&&Ye(oe)===!1){Y.__webglMultisampledFramebuffer=n.createFramebuffer(),Y.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglMultisampledFramebuffer);for(let pt=0;pt<we.length;pt++){const Ee=we[pt];Y.__webglColorRenderbuffer[pt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Y.__webglColorRenderbuffer[pt]);const ft=a.convert(Ee.format,Ee.colorSpace),st=a.convert(Ee.type),G=b(Ee.internalFormat,ft,st,Ee.colorSpace,oe.isXRRenderTarget===!0),ye=Ne(oe);n.renderbufferStorageMultisample(n.RENDERBUFFER,ye,G,oe.width,oe.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+pt,n.RENDERBUFFER,Y.__webglColorRenderbuffer[pt])}n.bindRenderbuffer(n.RENDERBUFFER,null),oe.depthBuffer&&(Y.__webglDepthRenderbuffer=n.createRenderbuffer(),me(Y.__webglDepthRenderbuffer,oe,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ue){t.bindTexture(n.TEXTURE_CUBE_MAP,Q.__webglTexture),ee(n.TEXTURE_CUBE_MAP,V);for(let pt=0;pt<6;pt++)if(V.mipmaps&&V.mipmaps.length>0)for(let Ee=0;Ee<V.mipmaps.length;Ee++)de(Y.__webglFramebuffer[pt][Ee],oe,V,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,Ee);else de(Y.__webglFramebuffer[pt],oe,V,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0);g(V)&&v(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ct){for(let pt=0,Ee=we.length;pt<Ee;pt++){const ft=we[pt],st=r.get(ft);t.bindTexture(n.TEXTURE_2D,st.__webglTexture),ee(n.TEXTURE_2D,ft),de(Y.__webglFramebuffer,oe,ft,n.COLOR_ATTACHMENT0+pt,n.TEXTURE_2D,0),g(ft)&&v(n.TEXTURE_2D)}t.unbindTexture()}else{let pt=n.TEXTURE_2D;if((oe.isWebGL3DRenderTarget||oe.isWebGLArrayRenderTarget)&&(pt=oe.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(pt,Q.__webglTexture),ee(pt,V),V.mipmaps&&V.mipmaps.length>0)for(let Ee=0;Ee<V.mipmaps.length;Ee++)de(Y.__webglFramebuffer[Ee],oe,V,n.COLOR_ATTACHMENT0,pt,Ee);else de(Y.__webglFramebuffer,oe,V,n.COLOR_ATTACHMENT0,pt,0);g(V)&&v(pt),t.unbindTexture()}oe.depthBuffer&&De(oe)}function K(oe){const V=oe.textures;for(let Y=0,Q=V.length;Y<Q;Y++){const we=V[Y];if(g(we)){const Ue=y(oe),ct=r.get(we).__webglTexture;t.bindTexture(Ue,ct),v(Ue),t.unbindTexture()}}}const ue=[],ie=[];function $e(oe){if(oe.samples>0){if(Ye(oe)===!1){const V=oe.textures,Y=oe.width,Q=oe.height;let we=n.COLOR_BUFFER_BIT;const Ue=oe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ct=r.get(oe),pt=V.length>1;if(pt)for(let Ee=0;Ee<V.length;Ee++)t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ee,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ee,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ct.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer);for(let Ee=0;Ee<V.length;Ee++){if(oe.resolveDepthBuffer&&(oe.depthBuffer&&(we|=n.DEPTH_BUFFER_BIT),oe.stencilBuffer&&oe.resolveStencilBuffer&&(we|=n.STENCIL_BUFFER_BIT)),pt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ct.__webglColorRenderbuffer[Ee]);const ft=r.get(V[Ee]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,ft,0)}n.blitFramebuffer(0,0,Y,Q,0,0,Y,Q,we,n.NEAREST),l===!0&&(ue.length=0,ie.length=0,ue.push(n.COLOR_ATTACHMENT0+Ee),oe.depthBuffer&&oe.resolveDepthBuffer===!1&&(ue.push(Ue),ie.push(Ue),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ie)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ue))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),pt)for(let Ee=0;Ee<V.length;Ee++){t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ee,n.RENDERBUFFER,ct.__webglColorRenderbuffer[Ee]);const ft=r.get(V[Ee]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ee,n.TEXTURE_2D,ft,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglMultisampledFramebuffer)}else if(oe.depthBuffer&&oe.resolveDepthBuffer===!1&&l){const V=oe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[V])}}}function Ne(oe){return Math.min(i.maxSamples,oe.samples)}function Ye(oe){const V=r.get(oe);return oe.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function ce(oe){const V=s.render.frame;u.get(oe)!==V&&(u.set(oe,V),oe.update())}function he(oe,V){const Y=oe.colorSpace,Q=oe.format,we=oe.type;return oe.isCompressedTexture===!0||oe.isVideoTexture===!0||Y!==ry&&Y!==Ff&&(ni.getTransfer(Y)===_i?(Q!==js||we!==xu)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Y)),V}function ke(oe){return typeof HTMLImageElement<"u"&&oe instanceof HTMLImageElement?(c.width=oe.naturalWidth||oe.width,c.height=oe.naturalHeight||oe.height):typeof VideoFrame<"u"&&oe instanceof VideoFrame?(c.width=oe.displayWidth,c.height=oe.displayHeight):(c.width=oe.width,c.height=oe.height),c}this.allocateTextureUnit=k,this.resetTextureUnits=L,this.setTexture2D=F,this.setTexture2DArray=D,this.setTexture3D=H,this.setTextureCube=z,this.rebindTextures=Ge,this.setupRenderTarget=We,this.updateRenderTargetMipmap=K,this.updateMultisampleRenderTarget=$e,this.setupDepthRenderbuffer=De,this.setupFrameBufferTexture=de,this.useMultisampledRTT=Ye}function hae(n,e){function t(r,i=Ff){let a;const s=ni.getTransfer(i);if(r===xu)return n.UNSIGNED_BYTE;if(r===MO)return n.UNSIGNED_SHORT_4_4_4_4;if(r===TO)return n.UNSIGNED_SHORT_5_5_5_1;if(r===Hie)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===zie)return n.BYTE;if(r===Uie)return n.SHORT;if(r===oS)return n.UNSIGNED_SHORT;if(r===CO)return n.INT;if(r===Bl)return n.UNSIGNED_INT;if(r===_c)return n.FLOAT;if(r===$y)return n.HALF_FLOAT;if(r===Vie)return n.ALPHA;if(r===$ie)return n.RGB;if(r===js)return n.RGBA;if(r===Gie)return n.LUMINANCE;if(r===Wie)return n.LUMINANCE_ALPHA;if(r===y0)return n.DEPTH_COMPONENT;if(r===ny)return n.DEPTH_STENCIL;if(r===qie)return n.RED;if(r===HA)return n.RED_INTEGER;if(r===AO)return n.RG;if(r===EO)return n.RG_INTEGER;if(r===dg)return n.RGBA_INTEGER;if(r===RC||r===PC||r===LC||r===DC)if(s===_i)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===RC)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===PC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===LC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===DC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===RC)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===PC)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===LC)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===DC)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===FL||r===zL||r===UL||r===HL)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===FL)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===zL)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===UL)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===HL)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===VL||r===$L||r===GL)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===VL||r===$L)return s===_i?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===GL)return s===_i?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===WL||r===qL||r===KL||r===YL||r===XL||r===jL||r===ZL||r===QL||r===JL||r===eD||r===tD||r===nD||r===rD||r===iD)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===WL)return s===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===qL)return s===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===KL)return s===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===YL)return s===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===XL)return s===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===jL)return s===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===ZL)return s===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===QL)return s===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===JL)return s===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===eD)return s===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===tD)return s===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===nD)return s===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===rD)return s===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===iD)return s===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===kC||r===aD||r===sD)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===kC)return s===_i?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===aD)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===sD)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Kie||r===oD||r===lD||r===cD)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===kC)return a.COMPRESSED_RED_RGTC1_EXT;if(r===oD)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===lD)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===cD)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===ty?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const gct={type:"move"};class jI{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new T2,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new T2,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new tt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new tt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new T2,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new tt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new tt),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,s=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const m of e.hand.values()){const g=t.getJointPose(m,r),v=this._getHandJoint(c,m);g!==null&&(v.matrix.fromArray(g.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=g.radius),v.visible=g!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,p=.005;c.inputState.pinching&&f>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(gct)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new T2;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}const yct=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,bct=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class _ct{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const i=new Js,a=e.properties.get(i);a.__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new nl({vertexShader:yct,fragmentShader:bct,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new fa(new ay(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Sct extends rm{constructor(e,t){super();const r=this;let i=null,a=1,s=null,o="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,p=null;const m=new _ct,g=t.getContextAttributes();let v=null,y=null;const b=[],_=[],w=new Hn;let x=null;const M=new Rl;M.viewport=new Vi;const C=new Rl;C.viewport=new Vi;const T=[M,C],A=new $it;let I=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(re){let fe=b[re];return fe===void 0&&(fe=new jI,b[re]=fe),fe.getTargetRaySpace()},this.getControllerGrip=function(re){let fe=b[re];return fe===void 0&&(fe=new jI,b[re]=fe),fe.getGripSpace()},this.getHand=function(re){let fe=b[re];return fe===void 0&&(fe=new jI,b[re]=fe),fe.getHandSpace()};function k(re){const fe=_.indexOf(re.inputSource);if(fe===-1)return;const de=b[fe];de!==void 0&&(de.update(re.inputSource,re.frame,c||s),de.dispatchEvent({type:re.type,data:re.inputSource}))}function N(){i.removeEventListener("select",k),i.removeEventListener("selectstart",k),i.removeEventListener("selectend",k),i.removeEventListener("squeeze",k),i.removeEventListener("squeezestart",k),i.removeEventListener("squeezeend",k),i.removeEventListener("end",N),i.removeEventListener("inputsourceschange",F);for(let re=0;re<b.length;re++){const fe=_[re];fe!==null&&(_[re]=null,b[re].disconnect(fe))}I=null,L=null,m.reset(),e.setRenderTarget(v),h=null,f=null,d=null,i=null,y=null,J.stop(),r.isPresenting=!1,e.setPixelRatio(x),e.setSize(w.width,w.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(re){a=re,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(re){o=re,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(re){c=re},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(re){if(i=re,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",k),i.addEventListener("selectstart",k),i.addEventListener("selectend",k),i.addEventListener("squeeze",k),i.addEventListener("squeezestart",k),i.addEventListener("squeezeend",k),i.addEventListener("end",N),i.addEventListener("inputsourceschange",F),g.xrCompatible!==!0&&await t.makeXRCompatible(),x=e.getPixelRatio(),e.getSize(w),i.renderState.layers===void 0){const fe={antialias:g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:a};h=new XRWebGLLayer(i,t,fe),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),y=new Ph(h.framebufferWidth,h.framebufferHeight,{format:js,type:xu,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil})}else{let fe=null,de=null,me=null;g.depth&&(me=g.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,fe=g.stencil?ny:y0,de=g.stencil?ty:Bl);const Re={colorFormat:t.RGBA8,depthFormat:me,scaleFactor:a};d=new XRWebGLBinding(i,t),f=d.createProjectionLayer(Re),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),y=new Ph(f.textureWidth,f.textureHeight,{format:js,type:xu,depthTexture:new PO(f.textureWidth,f.textureHeight,de,void 0,void 0,void 0,void 0,void 0,void 0,fe),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(o),J.setContext(i),J.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};function F(re){for(let fe=0;fe<re.removed.length;fe++){const de=re.removed[fe],me=_.indexOf(de);me>=0&&(_[me]=null,b[me].disconnect(de))}for(let fe=0;fe<re.added.length;fe++){const de=re.added[fe];let me=_.indexOf(de);if(me===-1){for(let De=0;De<b.length;De++)if(De>=_.length){_.push(de),me=De;break}else if(_[De]===null){_[De]=de,me=De;break}if(me===-1)break}const Re=b[me];Re&&Re.connect(de)}}const D=new tt,H=new tt;function z(re,fe,de){D.setFromMatrixPosition(fe.matrixWorld),H.setFromMatrixPosition(de.matrixWorld);const me=D.distanceTo(H),Re=fe.projectionMatrix.elements,De=de.projectionMatrix.elements,Ge=Re[14]/(Re[10]-1),We=Re[14]/(Re[10]+1),K=(Re[9]+1)/Re[5],ue=(Re[9]-1)/Re[5],ie=(Re[8]-1)/Re[0],$e=(De[8]+1)/De[0],Ne=Ge*ie,Ye=Ge*$e,ce=me/(-ie+$e),he=ce*-ie;if(fe.matrixWorld.decompose(re.position,re.quaternion,re.scale),re.translateX(he),re.translateZ(ce),re.matrixWorld.compose(re.position,re.quaternion,re.scale),re.matrixWorldInverse.copy(re.matrixWorld).invert(),Re[10]===-1)re.projectionMatrix.copy(fe.projectionMatrix),re.projectionMatrixInverse.copy(fe.projectionMatrixInverse);else{const ke=Ge+ce,oe=We+ce,V=Ne-he,Y=Ye+(me-he),Q=K*We/oe*ke,we=ue*We/oe*ke;re.projectionMatrix.makePerspective(V,Y,Q,we,ke,oe),re.projectionMatrixInverse.copy(re.projectionMatrix).invert()}}function B(re,fe){fe===null?re.matrixWorld.copy(re.matrix):re.matrixWorld.multiplyMatrices(fe.matrixWorld,re.matrix),re.matrixWorldInverse.copy(re.matrixWorld).invert()}this.updateCamera=function(re){if(i===null)return;let fe=re.near,de=re.far;m.texture!==null&&(m.depthNear>0&&(fe=m.depthNear),m.depthFar>0&&(de=m.depthFar)),A.near=C.near=M.near=fe,A.far=C.far=M.far=de,(I!==A.near||L!==A.far)&&(i.updateRenderState({depthNear:A.near,depthFar:A.far}),I=A.near,L=A.far),M.layers.mask=re.layers.mask|2,C.layers.mask=re.layers.mask|4,A.layers.mask=M.layers.mask|C.layers.mask;const me=re.parent,Re=A.cameras;B(A,me);for(let De=0;De<Re.length;De++)B(Re[De],me);Re.length===2?z(A,M,C):A.projectionMatrix.copy(M.projectionMatrix),W(re,A,me)};function W(re,fe,de){de===null?re.matrix.copy(fe.matrixWorld):(re.matrix.copy(de.matrixWorld),re.matrix.invert(),re.matrix.multiply(fe.matrixWorld)),re.matrix.decompose(re.position,re.quaternion,re.scale),re.updateMatrixWorld(!0),re.projectionMatrix.copy(fe.projectionMatrix),re.projectionMatrixInverse.copy(fe.projectionMatrixInverse),re.isPerspectiveCamera&&(re.fov=lS*2*Math.atan(1/re.projectionMatrix.elements[5]),re.zoom=1)}this.getCamera=function(){return A},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(re){l=re,f!==null&&(f.fixedFoveation=re),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=re)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(A)};let Z=null;function ee(re,fe){if(u=fe.getViewerPose(c||s),p=fe,u!==null){const de=u.views;h!==null&&(e.setRenderTargetFramebuffer(y,h.framebuffer),e.setRenderTarget(y));let me=!1;de.length!==A.cameras.length&&(A.cameras.length=0,me=!0);for(let De=0;De<de.length;De++){const Ge=de[De];let We=null;if(h!==null)We=h.getViewport(Ge);else{const ue=d.getViewSubImage(f,Ge);We=ue.viewport,De===0&&(e.setRenderTargetTextures(y,ue.colorTexture,f.ignoreDepthValues?void 0:ue.depthStencilTexture),e.setRenderTarget(y))}let K=T[De];K===void 0&&(K=new Rl,K.layers.enable(De),K.viewport=new Vi,T[De]=K),K.matrix.fromArray(Ge.transform.matrix),K.matrix.decompose(K.position,K.quaternion,K.scale),K.projectionMatrix.fromArray(Ge.projectionMatrix),K.projectionMatrixInverse.copy(K.projectionMatrix).invert(),K.viewport.set(We.x,We.y,We.width,We.height),De===0&&(A.matrix.copy(K.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),me===!0&&A.cameras.push(K)}const Re=i.enabledFeatures;if(Re&&Re.includes("depth-sensing")){const De=d.getDepthInformation(de[0]);De&&De.isValid&&De.texture&&m.init(e,De,i.renderState)}}for(let de=0;de<b.length;de++){const me=_[de],Re=b[de];me!==null&&Re!==void 0&&Re.update(me,fe,c||s)}Z&&Z(re,fe),fe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:fe}),p=null}const J=new lae;J.setAnimationLoop(ee),this.setAnimationLoop=function(re){Z=re},this.dispose=function(){}}}const wp=new Od,wct=new ur;function xct(n,e){function t(g,v){g.matrixAutoUpdate===!0&&g.updateMatrix(),v.value.copy(g.matrix)}function r(g,v){v.color.getRGB(g.fogColor.value,iae(n)),v.isFog?(g.fogNear.value=v.near,g.fogFar.value=v.far):v.isFogExp2&&(g.fogDensity.value=v.density)}function i(g,v,y,b,_){v.isMeshBasicMaterial||v.isMeshLambertMaterial?a(g,v):v.isMeshToonMaterial?(a(g,v),d(g,v)):v.isMeshPhongMaterial?(a(g,v),u(g,v)):v.isMeshStandardMaterial?(a(g,v),f(g,v),v.isMeshPhysicalMaterial&&h(g,v,_)):v.isMeshMatcapMaterial?(a(g,v),p(g,v)):v.isMeshDepthMaterial?a(g,v):v.isMeshDistanceMaterial?(a(g,v),m(g,v)):v.isMeshNormalMaterial?a(g,v):v.isLineBasicMaterial?(s(g,v),v.isLineDashedMaterial&&o(g,v)):v.isPointsMaterial?l(g,v,y,b):v.isSpriteMaterial?c(g,v):v.isShadowMaterial?(g.color.value.copy(v.color),g.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function a(g,v){g.opacity.value=v.opacity,v.color&&g.diffuse.value.copy(v.color),v.emissive&&g.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(g.map.value=v.map,t(v.map,g.mapTransform)),v.alphaMap&&(g.alphaMap.value=v.alphaMap,t(v.alphaMap,g.alphaMapTransform)),v.bumpMap&&(g.bumpMap.value=v.bumpMap,t(v.bumpMap,g.bumpMapTransform),g.bumpScale.value=v.bumpScale,v.side===xo&&(g.bumpScale.value*=-1)),v.normalMap&&(g.normalMap.value=v.normalMap,t(v.normalMap,g.normalMapTransform),g.normalScale.value.copy(v.normalScale),v.side===xo&&g.normalScale.value.negate()),v.displacementMap&&(g.displacementMap.value=v.displacementMap,t(v.displacementMap,g.displacementMapTransform),g.displacementScale.value=v.displacementScale,g.displacementBias.value=v.displacementBias),v.emissiveMap&&(g.emissiveMap.value=v.emissiveMap,t(v.emissiveMap,g.emissiveMapTransform)),v.specularMap&&(g.specularMap.value=v.specularMap,t(v.specularMap,g.specularMapTransform)),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);const y=e.get(v),b=y.envMap,_=y.envMapRotation;b&&(g.envMap.value=b,wp.copy(_),wp.x*=-1,wp.y*=-1,wp.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(wp.y*=-1,wp.z*=-1),g.envMapRotation.value.setFromMatrix4(wct.makeRotationFromEuler(wp)),g.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=v.reflectivity,g.ior.value=v.ior,g.refractionRatio.value=v.refractionRatio),v.lightMap&&(g.lightMap.value=v.lightMap,g.lightMapIntensity.value=v.lightMapIntensity,t(v.lightMap,g.lightMapTransform)),v.aoMap&&(g.aoMap.value=v.aoMap,g.aoMapIntensity.value=v.aoMapIntensity,t(v.aoMap,g.aoMapTransform))}function s(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,v.map&&(g.map.value=v.map,t(v.map,g.mapTransform))}function o(g,v){g.dashSize.value=v.dashSize,g.totalSize.value=v.dashSize+v.gapSize,g.scale.value=v.scale}function l(g,v,y,b){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.size.value=v.size*y,g.scale.value=b*.5,v.map&&(g.map.value=v.map,t(v.map,g.uvTransform)),v.alphaMap&&(g.alphaMap.value=v.alphaMap,t(v.alphaMap,g.alphaMapTransform)),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest)}function c(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.rotation.value=v.rotation,v.map&&(g.map.value=v.map,t(v.map,g.mapTransform)),v.alphaMap&&(g.alphaMap.value=v.alphaMap,t(v.alphaMap,g.alphaMapTransform)),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest)}function u(g,v){g.specular.value.copy(v.specular),g.shininess.value=Math.max(v.shininess,1e-4)}function d(g,v){v.gradientMap&&(g.gradientMap.value=v.gradientMap)}function f(g,v){g.metalness.value=v.metalness,v.metalnessMap&&(g.metalnessMap.value=v.metalnessMap,t(v.metalnessMap,g.metalnessMapTransform)),g.roughness.value=v.roughness,v.roughnessMap&&(g.roughnessMap.value=v.roughnessMap,t(v.roughnessMap,g.roughnessMapTransform)),v.envMap&&(g.envMapIntensity.value=v.envMapIntensity)}function h(g,v,y){g.ior.value=v.ior,v.sheen>0&&(g.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),g.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(g.sheenColorMap.value=v.sheenColorMap,t(v.sheenColorMap,g.sheenColorMapTransform)),v.sheenRoughnessMap&&(g.sheenRoughnessMap.value=v.sheenRoughnessMap,t(v.sheenRoughnessMap,g.sheenRoughnessMapTransform))),v.clearcoat>0&&(g.clearcoat.value=v.clearcoat,g.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(g.clearcoatMap.value=v.clearcoatMap,t(v.clearcoatMap,g.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,t(v.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(g.clearcoatNormalMap.value=v.clearcoatNormalMap,t(v.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===xo&&g.clearcoatNormalScale.value.negate())),v.dispersion>0&&(g.dispersion.value=v.dispersion),v.iridescence>0&&(g.iridescence.value=v.iridescence,g.iridescenceIOR.value=v.iridescenceIOR,g.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(g.iridescenceMap.value=v.iridescenceMap,t(v.iridescenceMap,g.iridescenceMapTransform)),v.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=v.iridescenceThicknessMap,t(v.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),v.transmission>0&&(g.transmission.value=v.transmission,g.transmissionSamplerMap.value=y.texture,g.transmissionSamplerSize.value.set(y.width,y.height),v.transmissionMap&&(g.transmissionMap.value=v.transmissionMap,t(v.transmissionMap,g.transmissionMapTransform)),g.thickness.value=v.thickness,v.thicknessMap&&(g.thicknessMap.value=v.thicknessMap,t(v.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=v.attenuationDistance,g.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(g.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(g.anisotropyMap.value=v.anisotropyMap,t(v.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=v.specularIntensity,g.specularColor.value.copy(v.specularColor),v.specularColorMap&&(g.specularColorMap.value=v.specularColorMap,t(v.specularColorMap,g.specularColorMapTransform)),v.specularIntensityMap&&(g.specularIntensityMap.value=v.specularIntensityMap,t(v.specularIntensityMap,g.specularIntensityMapTransform))}function p(g,v){v.matcap&&(g.matcap.value=v.matcap)}function m(g,v){const y=e.get(v).light;g.referencePosition.value.setFromMatrixPosition(y.matrixWorld),g.nearDistance.value=y.shadow.camera.near,g.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Cct(n,e,t,r){let i={},a={},s=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(y,b){const _=b.program;r.uniformBlockBinding(y,_)}function c(y,b){let _=i[y.id];_===void 0&&(p(y),_=u(y),i[y.id]=_,y.addEventListener("dispose",g));const w=b.program;r.updateUBOMapping(y,w);const x=e.render.frame;a[y.id]!==x&&(f(y),a[y.id]=x)}function u(y){const b=d();y.__bindingPointIndex=b;const _=n.createBuffer(),w=y.__size,x=y.usage;return n.bindBuffer(n.UNIFORM_BUFFER,_),n.bufferData(n.UNIFORM_BUFFER,w,x),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,b,_),_}function d(){for(let y=0;y<o;y++)if(s.indexOf(y)===-1)return s.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(y){const b=i[y.id],_=y.uniforms,w=y.__cache;n.bindBuffer(n.UNIFORM_BUFFER,b);for(let x=0,M=_.length;x<M;x++){const C=Array.isArray(_[x])?_[x]:[_[x]];for(let T=0,A=C.length;T<A;T++){const I=C[T];if(h(I,x,T,w)===!0){const L=I.__offset,k=Array.isArray(I.value)?I.value:[I.value];let N=0;for(let F=0;F<k.length;F++){const D=k[F],H=m(D);typeof D=="number"||typeof D=="boolean"?(I.__data[0]=D,n.bufferSubData(n.UNIFORM_BUFFER,L+N,I.__data)):D.isMatrix3?(I.__data[0]=D.elements[0],I.__data[1]=D.elements[1],I.__data[2]=D.elements[2],I.__data[3]=0,I.__data[4]=D.elements[3],I.__data[5]=D.elements[4],I.__data[6]=D.elements[5],I.__data[7]=0,I.__data[8]=D.elements[6],I.__data[9]=D.elements[7],I.__data[10]=D.elements[8],I.__data[11]=0):(D.toArray(I.__data,N),N+=H.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,L,I.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function h(y,b,_,w){const x=y.value,M=b+"_"+_;if(w[M]===void 0)return typeof x=="number"||typeof x=="boolean"?w[M]=x:w[M]=x.clone(),!0;{const C=w[M];if(typeof x=="number"||typeof x=="boolean"){if(C!==x)return w[M]=x,!0}else if(C.equals(x)===!1)return C.copy(x),!0}return!1}function p(y){const b=y.uniforms;let _=0;const w=16;for(let M=0,C=b.length;M<C;M++){const T=Array.isArray(b[M])?b[M]:[b[M]];for(let A=0,I=T.length;A<I;A++){const L=T[A],k=Array.isArray(L.value)?L.value:[L.value];for(let N=0,F=k.length;N<F;N++){const D=k[N],H=m(D),z=_%w,B=z%H.boundary,W=z+B;_+=B,W!==0&&w-W<H.storage&&(_+=w-W),L.__data=new Float32Array(H.storage/Float32Array.BYTES_PER_ELEMENT),L.__offset=_,_+=H.storage}}}const x=_%w;return x>0&&(_+=w-x),y.__size=_,y.__cache={},this}function m(y){const b={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(b.boundary=4,b.storage=4):y.isVector2?(b.boundary=8,b.storage=8):y.isVector3||y.isColor?(b.boundary=16,b.storage=12):y.isVector4?(b.boundary=16,b.storage=16):y.isMatrix3?(b.boundary=48,b.storage=48):y.isMatrix4?(b.boundary=64,b.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),b}function g(y){const b=y.target;b.removeEventListener("dispose",g);const _=s.indexOf(b.__bindingPointIndex);s.splice(_,1),n.deleteBuffer(i[b.id]),delete i[b.id],delete a[b.id]}function v(){for(const y in i)n.deleteBuffer(i[y]);s=[],i={},a={}}return{bind:l,update:c,dispose:v}}class Mct{constructor(e={}){const{canvas:t=oit(),context:r=null,depth:i=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=s;const p=new Uint32Array(4),m=new Int32Array(4);let g=null,v=null;const y=[],b=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=xl,this.toneMapping=ah,this.toneMappingExposure=1;const _=this;let w=!1,x=0,M=0,C=null,T=-1,A=null;const I=new Vi,L=new Vi;let k=null;const N=new ii(0);let F=0,D=t.width,H=t.height,z=1,B=null,W=null;const Z=new Vi(0,0,D,H),ee=new Vi(0,0,D,H);let J=!1;const re=new oae;let fe=!1,de=!1;const me=new ur,Re=new ur,De=new tt,Ge=new Vi,We={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let K=!1;function ue(){return C===null?z:1}let ie=r;function $e(Oe,gt){return t.getContext(Oe,gt)}try{const Oe={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${xO}`),t.addEventListener("webglcontextlost",vt,!1),t.addEventListener("webglcontextrestored",kt,!1),t.addEventListener("webglcontextcreationerror",Tt,!1),ie===null){const gt="webgl2";if(ie=$e(gt,Oe),ie===null)throw $e(gt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Oe){throw console.error("THREE.WebGLRenderer: "+Oe.message),Oe}let Ne,Ye,ce,he,ke,oe,V,Y,Q,we,Ue,ct,pt,Ee,ft,st,G,ye,ve,Le,be,Te,ht,Ie;function bt(){Ne=new Oot(ie),Ne.init(),Te=new hae(ie,Ne),Ye=new Iot(ie,Ne,e,Te),ce=new mct(ie,Ne),Ye.reverseDepthBuffer&&f&&ce.buffers.depth.setReversed(!0),he=new Fot(ie),ke=new nct,oe=new vct(ie,Ne,ce,ke,Ye,Te,he),V=new Pot(_),Y=new kot(_),Q=new Wit(ie),ht=new Aot(ie,Q),we=new Not(ie,Q,he,ht),Ue=new Uot(ie,we,Q,he),ve=new zot(ie,Ye,oe),st=new Rot(ke),ct=new tct(_,V,Y,Ne,Ye,ht,st),pt=new xct(_,ke),Ee=new ict,ft=new uct(Ne),ye=new Tot(_,V,Y,ce,Ue,h,l),G=new hct(_,Ue,Ye),Ie=new Cct(ie,he,Ye,ce),Le=new Eot(ie,Ne,he),be=new Bot(ie,Ne,he),he.programs=ct.programs,_.capabilities=Ye,_.extensions=Ne,_.properties=ke,_.renderLists=Ee,_.shadowMap=G,_.state=ce,_.info=he}bt();const nt=new Sct(_,ie);this.xr=nt,this.getContext=function(){return ie},this.getContextAttributes=function(){return ie.getContextAttributes()},this.forceContextLoss=function(){const Oe=Ne.get("WEBGL_lose_context");Oe&&Oe.loseContext()},this.forceContextRestore=function(){const Oe=Ne.get("WEBGL_lose_context");Oe&&Oe.restoreContext()},this.getPixelRatio=function(){return z},this.setPixelRatio=function(Oe){Oe!==void 0&&(z=Oe,this.setSize(D,H,!1))},this.getSize=function(Oe){return Oe.set(D,H)},this.setSize=function(Oe,gt,qe=!0){if(nt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}D=Oe,H=gt,t.width=Math.floor(Oe*z),t.height=Math.floor(gt*z),qe===!0&&(t.style.width=Oe+"px",t.style.height=gt+"px"),this.setViewport(0,0,Oe,gt)},this.getDrawingBufferSize=function(Oe){return Oe.set(D*z,H*z).floor()},this.setDrawingBufferSize=function(Oe,gt,qe){D=Oe,H=gt,z=qe,t.width=Math.floor(Oe*qe),t.height=Math.floor(gt*qe),this.setViewport(0,0,Oe,gt)},this.getCurrentViewport=function(Oe){return Oe.copy(I)},this.getViewport=function(Oe){return Oe.copy(Z)},this.setViewport=function(Oe,gt,qe,lt){Oe.isVector4?Z.set(Oe.x,Oe.y,Oe.z,Oe.w):Z.set(Oe,gt,qe,lt),ce.viewport(I.copy(Z).multiplyScalar(z).round())},this.getScissor=function(Oe){return Oe.copy(ee)},this.setScissor=function(Oe,gt,qe,lt){Oe.isVector4?ee.set(Oe.x,Oe.y,Oe.z,Oe.w):ee.set(Oe,gt,qe,lt),ce.scissor(L.copy(ee).multiplyScalar(z).round())},this.getScissorTest=function(){return J},this.setScissorTest=function(Oe){ce.setScissorTest(J=Oe)},this.setOpaqueSort=function(Oe){B=Oe},this.setTransparentSort=function(Oe){W=Oe},this.getClearColor=function(Oe){return Oe.copy(ye.getClearColor())},this.setClearColor=function(){ye.setClearColor.apply(ye,arguments)},this.getClearAlpha=function(){return ye.getClearAlpha()},this.setClearAlpha=function(){ye.setClearAlpha.apply(ye,arguments)},this.clear=function(Oe=!0,gt=!0,qe=!0){let lt=0;if(Oe){let it=!1;if(C!==null){const Ct=C.texture.format;it=Ct===dg||Ct===EO||Ct===HA}if(it){const Ct=C.texture.type,tn=Ct===xu||Ct===Bl||Ct===oS||Ct===ty||Ct===MO||Ct===TO,Qt=ye.getClearColor(),mn=ye.getClearAlpha(),$n=Qt.r,rn=Qt.g,Mn=Qt.b;tn?(p[0]=$n,p[1]=rn,p[2]=Mn,p[3]=mn,ie.clearBufferuiv(ie.COLOR,0,p)):(m[0]=$n,m[1]=rn,m[2]=Mn,m[3]=mn,ie.clearBufferiv(ie.COLOR,0,m))}else lt|=ie.COLOR_BUFFER_BIT}gt&&(lt|=ie.DEPTH_BUFFER_BIT),qe&&(lt|=ie.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ie.clear(lt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",vt,!1),t.removeEventListener("webglcontextrestored",kt,!1),t.removeEventListener("webglcontextcreationerror",Tt,!1),ye.dispose(),Ee.dispose(),ft.dispose(),ke.dispose(),V.dispose(),Y.dispose(),Ue.dispose(),ht.dispose(),Ie.dispose(),ct.dispose(),nt.dispose(),nt.removeEventListener("sessionstart",X),nt.removeEventListener("sessionend",se),Ut.stop()};function vt(Oe){Oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function kt(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const Oe=he.autoReset,gt=G.enabled,qe=G.autoUpdate,lt=G.needsUpdate,it=G.type;bt(),he.autoReset=Oe,G.enabled=gt,G.autoUpdate=qe,G.needsUpdate=lt,G.type=it}function Tt(Oe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Oe.statusMessage)}function an(Oe){const gt=Oe.target;gt.removeEventListener("dispose",an),_n(gt)}function _n(Oe){or(Oe),ke.remove(Oe)}function or(Oe){const gt=ke.get(Oe).programs;gt!==void 0&&(gt.forEach(function(qe){ct.releaseProgram(qe)}),Oe.isShaderMaterial&&ct.releaseShaderCache(Oe))}this.renderBufferDirect=function(Oe,gt,qe,lt,it,Ct){gt===null&&(gt=We);const tn=it.isMesh&&it.matrixWorld.determinant()<0,Qt=yn(Oe,gt,qe,lt,it);ce.setMaterial(lt,tn);let mn=qe.index,$n=1;if(lt.wireframe===!0){if(mn=we.getWireframeAttribute(qe),mn===void 0)return;$n=2}const rn=qe.drawRange,Mn=qe.attributes.position;let An=rn.start*$n,rr=(rn.start+rn.count)*$n;Ct!==null&&(An=Math.max(An,Ct.start*$n),rr=Math.min(rr,(Ct.start+Ct.count)*$n)),mn!==null?(An=Math.max(An,0),rr=Math.min(rr,mn.count)):Mn!=null&&(An=Math.max(An,0),rr=Math.min(rr,Mn.count));const Wr=rr-An;if(Wr<0||Wr===1/0)return;ht.setup(it,lt,Qt,qe,mn);let gr,yr=Le;if(mn!==null&&(gr=Q.get(mn),yr=be,yr.setIndex(gr)),it.isMesh)lt.wireframe===!0?(ce.setLineWidth(lt.wireframeLinewidth*ue()),yr.setMode(ie.LINES)):yr.setMode(ie.TRIANGLES);else if(it.isLine){let Gn=lt.linewidth;Gn===void 0&&(Gn=1),ce.setLineWidth(Gn*ue()),it.isLineSegments?yr.setMode(ie.LINES):it.isLineLoop?yr.setMode(ie.LINE_LOOP):yr.setMode(ie.LINE_STRIP)}else it.isPoints?yr.setMode(ie.POINTS):it.isSprite&&yr.setMode(ie.TRIANGLES);if(it.isBatchedMesh)if(it._multiDrawInstances!==null)yr.renderMultiDrawInstances(it._multiDrawStarts,it._multiDrawCounts,it._multiDrawCount,it._multiDrawInstances);else if(Ne.get("WEBGL_multi_draw"))yr.renderMultiDraw(it._multiDrawStarts,it._multiDrawCounts,it._multiDrawCount);else{const Gn=it._multiDrawStarts,Mi=it._multiDrawCounts,qr=it._multiDrawCount,Fs=mn?Q.get(mn).bytesPerElement:1,ao=ke.get(lt).currentProgram.getUniforms();for(let hr=0;hr<qr;hr++)ao.setValue(ie,"_gl_DrawID",hr),yr.render(Gn[hr]/Fs,Mi[hr])}else if(it.isInstancedMesh)yr.renderInstances(An,Wr,it.count);else if(qe.isInstancedBufferGeometry){const Gn=qe._maxInstanceCount!==void 0?qe._maxInstanceCount:1/0,Mi=Math.min(qe.instanceCount,Gn);yr.renderInstances(An,Wr,Mi)}else yr.render(An,Wr)};function Ln(Oe,gt,qe){Oe.transparent===!0&&Oe.side===Pl&&Oe.forceSinglePass===!1?(Oe.side=xo,Oe.needsUpdate=!0,et(Oe,gt,qe),Oe.side=wu,Oe.needsUpdate=!0,et(Oe,gt,qe),Oe.side=Pl):et(Oe,gt,qe)}this.compile=function(Oe,gt,qe=null){qe===null&&(qe=Oe),v=ft.get(qe),v.init(gt),b.push(v),qe.traverseVisible(function(it){it.isLight&&it.layers.test(gt.layers)&&(v.pushLight(it),it.castShadow&&v.pushShadow(it))}),Oe!==qe&&Oe.traverseVisible(function(it){it.isLight&&it.layers.test(gt.layers)&&(v.pushLight(it),it.castShadow&&v.pushShadow(it))}),v.setupLights();const lt=new Set;return Oe.traverse(function(it){if(!(it.isMesh||it.isPoints||it.isLine||it.isSprite))return;const Ct=it.material;if(Ct)if(Array.isArray(Ct))for(let tn=0;tn<Ct.length;tn++){const Qt=Ct[tn];Ln(Qt,qe,it),lt.add(Qt)}else Ln(Ct,qe,it),lt.add(Ct)}),b.pop(),v=null,lt},this.compileAsync=function(Oe,gt,qe=null){const lt=this.compile(Oe,gt,qe);return new Promise(it=>{function Ct(){if(lt.forEach(function(tn){ke.get(tn).currentProgram.isReady()&&lt.delete(tn)}),lt.size===0){it(Oe);return}setTimeout(Ct,10)}Ne.get("KHR_parallel_shader_compile")!==null?Ct():setTimeout(Ct,10)})};let Kr=null;function jn(Oe){Kr&&Kr(Oe)}function X(){Ut.stop()}function se(){Ut.start()}const Ut=new lae;Ut.setAnimationLoop(jn),typeof self<"u"&&Ut.setContext(self),this.setAnimationLoop=function(Oe){Kr=Oe,nt.setAnimationLoop(Oe),Oe===null?Ut.stop():Ut.start()},nt.addEventListener("sessionstart",X),nt.addEventListener("sessionend",se),this.render=function(Oe,gt){if(gt!==void 0&&gt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;if(Oe.matrixWorldAutoUpdate===!0&&Oe.updateMatrixWorld(),gt.parent===null&&gt.matrixWorldAutoUpdate===!0&&gt.updateMatrixWorld(),nt.enabled===!0&&nt.isPresenting===!0&&(nt.cameraAutoUpdate===!0&&nt.updateCamera(gt),gt=nt.getCamera()),Oe.isScene===!0&&Oe.onBeforeRender(_,Oe,gt,C),v=ft.get(Oe,b.length),v.init(gt),b.push(v),Re.multiplyMatrices(gt.projectionMatrix,gt.matrixWorldInverse),re.setFromProjectionMatrix(Re),de=this.localClippingEnabled,fe=st.init(this.clippingPlanes,de),g=Ee.get(Oe,y.length),g.init(),y.push(g),nt.enabled===!0&&nt.isPresenting===!0){const Ct=_.xr.getDepthSensingMesh();Ct!==null&&Ae(Ct,gt,-1/0,_.sortObjects)}Ae(Oe,gt,0,_.sortObjects),g.finish(),_.sortObjects===!0&&g.sort(B,W),K=nt.enabled===!1||nt.isPresenting===!1||nt.hasDepthSensing()===!1,K&&ye.addToRenderList(g,Oe),this.info.render.frame++,fe===!0&&st.beginShadows();const qe=v.state.shadowsArray;G.render(qe,Oe,gt),fe===!0&&st.endShadows(),this.info.autoReset===!0&&this.info.reset();const lt=g.opaque,it=g.transmissive;if(v.setupLights(),gt.isArrayCamera){const Ct=gt.cameras;if(it.length>0)for(let tn=0,Qt=Ct.length;tn<Qt;tn++){const mn=Ct[tn];xt(lt,it,Oe,mn)}K&&ye.render(Oe);for(let tn=0,Qt=Ct.length;tn<Qt;tn++){const mn=Ct[tn];le(g,Oe,mn,mn.viewport)}}else it.length>0&&xt(lt,it,Oe,gt),K&&ye.render(Oe),le(g,Oe,gt);C!==null&&(oe.updateMultisampleRenderTarget(C),oe.updateRenderTargetMipmap(C)),Oe.isScene===!0&&Oe.onAfterRender(_,Oe,gt),ht.resetDefaultState(),T=-1,A=null,b.pop(),b.length>0?(v=b[b.length-1],fe===!0&&st.setGlobalState(_.clippingPlanes,v.state.camera)):v=null,y.pop(),y.length>0?g=y[y.length-1]:g=null};function Ae(Oe,gt,qe,lt){if(Oe.visible===!1)return;if(Oe.layers.test(gt.layers)){if(Oe.isGroup)qe=Oe.renderOrder;else if(Oe.isLOD)Oe.autoUpdate===!0&&Oe.update(gt);else if(Oe.isLight)v.pushLight(Oe),Oe.castShadow&&v.pushShadow(Oe);else if(Oe.isSprite){if(!Oe.frustumCulled||re.intersectsSprite(Oe)){lt&&Ge.setFromMatrixPosition(Oe.matrixWorld).applyMatrix4(Re);const tn=Ue.update(Oe),Qt=Oe.material;Qt.visible&&g.push(Oe,tn,Qt,qe,Ge.z,null)}}else if((Oe.isMesh||Oe.isLine||Oe.isPoints)&&(!Oe.frustumCulled||re.intersectsObject(Oe))){const tn=Ue.update(Oe),Qt=Oe.material;if(lt&&(Oe.boundingSphere!==void 0?(Oe.boundingSphere===null&&Oe.computeBoundingSphere(),Ge.copy(Oe.boundingSphere.center)):(tn.boundingSphere===null&&tn.computeBoundingSphere(),Ge.copy(tn.boundingSphere.center)),Ge.applyMatrix4(Oe.matrixWorld).applyMatrix4(Re)),Array.isArray(Qt)){const mn=tn.groups;for(let $n=0,rn=mn.length;$n<rn;$n++){const Mn=mn[$n],An=Qt[Mn.materialIndex];An&&An.visible&&g.push(Oe,tn,An,qe,Ge.z,Mn)}}else Qt.visible&&g.push(Oe,tn,Qt,qe,Ge.z,null)}}const Ct=Oe.children;for(let tn=0,Qt=Ct.length;tn<Qt;tn++)Ae(Ct[tn],gt,qe,lt)}function le(Oe,gt,qe,lt){const it=Oe.opaque,Ct=Oe.transmissive,tn=Oe.transparent;v.setupLightsView(qe),fe===!0&&st.setGlobalState(_.clippingPlanes,qe),lt&&ce.viewport(I.copy(lt)),it.length>0&&mt(it,gt,qe),Ct.length>0&&mt(Ct,gt,qe),tn.length>0&&mt(tn,gt,qe),ce.buffers.depth.setTest(!0),ce.buffers.depth.setMask(!0),ce.buffers.color.setMask(!0),ce.setPolygonOffset(!1)}function xt(Oe,gt,qe,lt){if((qe.isScene===!0?qe.overrideMaterial:null)!==null)return;v.state.transmissionRenderTarget[lt.id]===void 0&&(v.state.transmissionRenderTarget[lt.id]=new Ph(1,1,{generateMipmaps:!0,type:Ne.has("EXT_color_buffer_half_float")||Ne.has("EXT_color_buffer_float")?$y:xu,minFilter:t0,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ni.workingColorSpace}));const Ct=v.state.transmissionRenderTarget[lt.id],tn=lt.viewport||I;Ct.setSize(tn.z,tn.w);const Qt=_.getRenderTarget();_.setRenderTarget(Ct),_.getClearColor(N),F=_.getClearAlpha(),F<1&&_.setClearColor(16777215,.5),_.clear(),K&&ye.render(qe);const mn=_.toneMapping;_.toneMapping=ah;const $n=lt.viewport;if(lt.viewport!==void 0&&(lt.viewport=void 0),v.setupLightsView(lt),fe===!0&&st.setGlobalState(_.clippingPlanes,lt),mt(Oe,qe,lt),oe.updateMultisampleRenderTarget(Ct),oe.updateRenderTargetMipmap(Ct),Ne.has("WEBGL_multisampled_render_to_texture")===!1){let rn=!1;for(let Mn=0,An=gt.length;Mn<An;Mn++){const rr=gt[Mn],Wr=rr.object,gr=rr.geometry,yr=rr.material,Gn=rr.group;if(yr.side===Pl&&Wr.layers.test(lt.layers)){const Mi=yr.side;yr.side=xo,yr.needsUpdate=!0,At(Wr,qe,lt,gr,yr,Gn),yr.side=Mi,yr.needsUpdate=!0,rn=!0}}rn===!0&&(oe.updateMultisampleRenderTarget(Ct),oe.updateRenderTargetMipmap(Ct))}_.setRenderTarget(Qt),_.setClearColor(N,F),$n!==void 0&&(lt.viewport=$n),_.toneMapping=mn}function mt(Oe,gt,qe){const lt=gt.isScene===!0?gt.overrideMaterial:null;for(let it=0,Ct=Oe.length;it<Ct;it++){const tn=Oe[it],Qt=tn.object,mn=tn.geometry,$n=lt===null?tn.material:lt,rn=tn.group;Qt.layers.test(qe.layers)&&At(Qt,gt,qe,mn,$n,rn)}}function At(Oe,gt,qe,lt,it,Ct){Oe.onBeforeRender(_,gt,qe,lt,it,Ct),Oe.modelViewMatrix.multiplyMatrices(qe.matrixWorldInverse,Oe.matrixWorld),Oe.normalMatrix.getNormalMatrix(Oe.modelViewMatrix),it.onBeforeRender(_,gt,qe,lt,Oe,Ct),it.transparent===!0&&it.side===Pl&&it.forceSinglePass===!1?(it.side=xo,it.needsUpdate=!0,_.renderBufferDirect(qe,gt,lt,it,Oe,Ct),it.side=wu,it.needsUpdate=!0,_.renderBufferDirect(qe,gt,lt,it,Oe,Ct),it.side=Pl):_.renderBufferDirect(qe,gt,lt,it,Oe,Ct),Oe.onAfterRender(_,gt,qe,lt,it,Ct)}function et(Oe,gt,qe){gt.isScene!==!0&&(gt=We);const lt=ke.get(Oe),it=v.state.lights,Ct=v.state.shadowsArray,tn=it.state.version,Qt=ct.getParameters(Oe,it.state,Ct,gt,qe),mn=ct.getProgramCacheKey(Qt);let $n=lt.programs;lt.environment=Oe.isMeshStandardMaterial?gt.environment:null,lt.fog=gt.fog,lt.envMap=(Oe.isMeshStandardMaterial?Y:V).get(Oe.envMap||lt.environment),lt.envMapRotation=lt.environment!==null&&Oe.envMap===null?gt.environmentRotation:Oe.envMapRotation,$n===void 0&&(Oe.addEventListener("dispose",an),$n=new Map,lt.programs=$n);let rn=$n.get(mn);if(rn!==void 0){if(lt.currentProgram===rn&&lt.lightsStateVersion===tn)return Xt(Oe,Qt),rn}else Qt.uniforms=ct.getUniforms(Oe),Oe.onBeforeCompile(Qt,_),rn=ct.acquireProgram(Qt,mn),$n.set(mn,rn),lt.uniforms=Qt.uniforms;const Mn=lt.uniforms;return(!Oe.isShaderMaterial&&!Oe.isRawShaderMaterial||Oe.clipping===!0)&&(Mn.clippingPlanes=st.uniform),Xt(Oe,Qt),lt.needsLights=Ze(Oe),lt.lightsStateVersion=tn,lt.needsLights&&(Mn.ambientLightColor.value=it.state.ambient,Mn.lightProbe.value=it.state.probe,Mn.directionalLights.value=it.state.directional,Mn.directionalLightShadows.value=it.state.directionalShadow,Mn.spotLights.value=it.state.spot,Mn.spotLightShadows.value=it.state.spotShadow,Mn.rectAreaLights.value=it.state.rectArea,Mn.ltc_1.value=it.state.rectAreaLTC1,Mn.ltc_2.value=it.state.rectAreaLTC2,Mn.pointLights.value=it.state.point,Mn.pointLightShadows.value=it.state.pointShadow,Mn.hemisphereLights.value=it.state.hemi,Mn.directionalShadowMap.value=it.state.directionalShadowMap,Mn.directionalShadowMatrix.value=it.state.directionalShadowMatrix,Mn.spotShadowMap.value=it.state.spotShadowMap,Mn.spotLightMatrix.value=it.state.spotLightMatrix,Mn.spotLightMap.value=it.state.spotLightMap,Mn.pointShadowMap.value=it.state.pointShadowMap,Mn.pointShadowMatrix.value=it.state.pointShadowMatrix),lt.currentProgram=rn,lt.uniformsList=null,rn}function wt(Oe){if(Oe.uniformsList===null){const gt=Oe.currentProgram.getUniforms();Oe.uniformsList=OC.seqWithValue(gt.seq,Oe.uniforms)}return Oe.uniformsList}function Xt(Oe,gt){const qe=ke.get(Oe);qe.outputColorSpace=gt.outputColorSpace,qe.batching=gt.batching,qe.batchingColor=gt.batchingColor,qe.instancing=gt.instancing,qe.instancingColor=gt.instancingColor,qe.instancingMorph=gt.instancingMorph,qe.skinning=gt.skinning,qe.morphTargets=gt.morphTargets,qe.morphNormals=gt.morphNormals,qe.morphColors=gt.morphColors,qe.morphTargetsCount=gt.morphTargetsCount,qe.numClippingPlanes=gt.numClippingPlanes,qe.numIntersection=gt.numClipIntersection,qe.vertexAlphas=gt.vertexAlphas,qe.vertexTangents=gt.vertexTangents,qe.toneMapping=gt.toneMapping}function yn(Oe,gt,qe,lt,it){gt.isScene!==!0&&(gt=We),oe.resetTextureUnits();const Ct=gt.fog,tn=lt.isMeshStandardMaterial?gt.environment:null,Qt=C===null?_.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:ry,mn=(lt.isMeshStandardMaterial?Y:V).get(lt.envMap||tn),$n=lt.vertexColors===!0&&!!qe.attributes.color&&qe.attributes.color.itemSize===4,rn=!!qe.attributes.tangent&&(!!lt.normalMap||lt.anisotropy>0),Mn=!!qe.morphAttributes.position,An=!!qe.morphAttributes.normal,rr=!!qe.morphAttributes.color;let Wr=ah;lt.toneMapped&&(C===null||C.isXRRenderTarget===!0)&&(Wr=_.toneMapping);const gr=qe.morphAttributes.position||qe.morphAttributes.normal||qe.morphAttributes.color,yr=gr!==void 0?gr.length:0,Gn=ke.get(lt),Mi=v.state.lights;if(fe===!0&&(de===!0||Oe!==A)){const la=Oe===A&&lt.id===T;st.setState(lt,Oe,la)}let qr=!1;lt.version===Gn.__version?(Gn.needsLights&&Gn.lightsStateVersion!==Mi.state.version||Gn.outputColorSpace!==Qt||it.isBatchedMesh&&Gn.batching===!1||!it.isBatchedMesh&&Gn.batching===!0||it.isBatchedMesh&&Gn.batchingColor===!0&&it.colorTexture===null||it.isBatchedMesh&&Gn.batchingColor===!1&&it.colorTexture!==null||it.isInstancedMesh&&Gn.instancing===!1||!it.isInstancedMesh&&Gn.instancing===!0||it.isSkinnedMesh&&Gn.skinning===!1||!it.isSkinnedMesh&&Gn.skinning===!0||it.isInstancedMesh&&Gn.instancingColor===!0&&it.instanceColor===null||it.isInstancedMesh&&Gn.instancingColor===!1&&it.instanceColor!==null||it.isInstancedMesh&&Gn.instancingMorph===!0&&it.morphTexture===null||it.isInstancedMesh&&Gn.instancingMorph===!1&&it.morphTexture!==null||Gn.envMap!==mn||lt.fog===!0&&Gn.fog!==Ct||Gn.numClippingPlanes!==void 0&&(Gn.numClippingPlanes!==st.numPlanes||Gn.numIntersection!==st.numIntersection)||Gn.vertexAlphas!==$n||Gn.vertexTangents!==rn||Gn.morphTargets!==Mn||Gn.morphNormals!==An||Gn.morphColors!==rr||Gn.toneMapping!==Wr||Gn.morphTargetsCount!==yr)&&(qr=!0):(qr=!0,Gn.__version=lt.version);let Fs=Gn.currentProgram;qr===!0&&(Fs=et(lt,gt,it));let ao=!1,hr=!1,Zl=!1;const yi=Fs.getUniforms(),Za=Gn.uniforms;if(ce.useProgram(Fs.program)&&(ao=!0,hr=!0,Zl=!0),lt.id!==T&&(T=lt.id,hr=!0),ao||A!==Oe){ce.buffers.depth.getReversed()?(me.copy(Oe.projectionMatrix),cit(me),uit(me),yi.setValue(ie,"projectionMatrix",me)):yi.setValue(ie,"projectionMatrix",Oe.projectionMatrix),yi.setValue(ie,"viewMatrix",Oe.matrixWorldInverse);const Wi=yi.map.cameraPosition;Wi!==void 0&&Wi.setValue(ie,De.setFromMatrixPosition(Oe.matrixWorld)),Ye.logarithmicDepthBuffer&&yi.setValue(ie,"logDepthBufFC",2/(Math.log(Oe.far+1)/Math.LN2)),(lt.isMeshPhongMaterial||lt.isMeshToonMaterial||lt.isMeshLambertMaterial||lt.isMeshBasicMaterial||lt.isMeshStandardMaterial||lt.isShaderMaterial)&&yi.setValue(ie,"isOrthographic",Oe.isOrthographicCamera===!0),A!==Oe&&(A=Oe,hr=!0,Zl=!0)}if(it.isSkinnedMesh){yi.setOptional(ie,it,"bindMatrix"),yi.setOptional(ie,it,"bindMatrixInverse");const la=it.skeleton;la&&(la.boneTexture===null&&la.computeBoneTexture(),yi.setValue(ie,"boneTexture",la.boneTexture,oe))}it.isBatchedMesh&&(yi.setOptional(ie,it,"batchingTexture"),yi.setValue(ie,"batchingTexture",it._matricesTexture,oe),yi.setOptional(ie,it,"batchingIdTexture"),yi.setValue(ie,"batchingIdTexture",it._indirectTexture,oe),yi.setOptional(ie,it,"batchingColorTexture"),it._colorsTexture!==null&&yi.setValue(ie,"batchingColorTexture",it._colorsTexture,oe));const Qa=qe.morphAttributes;if((Qa.position!==void 0||Qa.normal!==void 0||Qa.color!==void 0)&&ve.update(it,qe,Fs),(hr||Gn.receiveShadow!==it.receiveShadow)&&(Gn.receiveShadow=it.receiveShadow,yi.setValue(ie,"receiveShadow",it.receiveShadow)),lt.isMeshGouraudMaterial&&lt.envMap!==null&&(Za.envMap.value=mn,Za.flipEnvMap.value=mn.isCubeTexture&&mn.isRenderTargetTexture===!1?-1:1),lt.isMeshStandardMaterial&&lt.envMap===null&&gt.environment!==null&&(Za.envMapIntensity.value=gt.environmentIntensity),hr&&(yi.setValue(ie,"toneMappingExposure",_.toneMappingExposure),Gn.needsLights&&On(Za,Zl),Ct&&lt.fog===!0&&pt.refreshFogUniforms(Za,Ct),pt.refreshMaterialUniforms(Za,lt,z,H,v.state.transmissionRenderTarget[Oe.id]),OC.upload(ie,wt(Gn),Za,oe)),lt.isShaderMaterial&&lt.uniformsNeedUpdate===!0&&(OC.upload(ie,wt(Gn),Za,oe),lt.uniformsNeedUpdate=!1),lt.isSpriteMaterial&&yi.setValue(ie,"center",it.center),yi.setValue(ie,"modelViewMatrix",it.modelViewMatrix),yi.setValue(ie,"normalMatrix",it.normalMatrix),yi.setValue(ie,"modelMatrix",it.matrixWorld),lt.isShaderMaterial||lt.isRawShaderMaterial){const la=lt.uniformsGroups;for(let Wi=0,qi=la.length;Wi<qi;Wi++){const Ro=la[Wi];Ie.update(Ro,Fs),Ie.bind(Ro,Fs)}}return Fs}function On(Oe,gt){Oe.ambientLightColor.needsUpdate=gt,Oe.lightProbe.needsUpdate=gt,Oe.directionalLights.needsUpdate=gt,Oe.directionalLightShadows.needsUpdate=gt,Oe.pointLights.needsUpdate=gt,Oe.pointLightShadows.needsUpdate=gt,Oe.spotLights.needsUpdate=gt,Oe.spotLightShadows.needsUpdate=gt,Oe.rectAreaLights.needsUpdate=gt,Oe.hemisphereLights.needsUpdate=gt}function Ze(Oe){return Oe.isMeshLambertMaterial||Oe.isMeshToonMaterial||Oe.isMeshPhongMaterial||Oe.isMeshStandardMaterial||Oe.isShadowMaterial||Oe.isShaderMaterial&&Oe.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(Oe,gt,qe){ke.get(Oe.texture).__webglTexture=gt,ke.get(Oe.depthTexture).__webglTexture=qe;const lt=ke.get(Oe);lt.__hasExternalTextures=!0,lt.__autoAllocateDepthBuffer=qe===void 0,lt.__autoAllocateDepthBuffer||Ne.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),lt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Oe,gt){const qe=ke.get(Oe);qe.__webglFramebuffer=gt,qe.__useDefaultFramebuffer=gt===void 0},this.setRenderTarget=function(Oe,gt=0,qe=0){C=Oe,x=gt,M=qe;let lt=!0,it=null,Ct=!1,tn=!1;if(Oe){const mn=ke.get(Oe);if(mn.__useDefaultFramebuffer!==void 0)ce.bindFramebuffer(ie.FRAMEBUFFER,null),lt=!1;else if(mn.__webglFramebuffer===void 0)oe.setupRenderTarget(Oe);else if(mn.__hasExternalTextures)oe.rebindTextures(Oe,ke.get(Oe.texture).__webglTexture,ke.get(Oe.depthTexture).__webglTexture);else if(Oe.depthBuffer){const Mn=Oe.depthTexture;if(mn.__boundDepthTexture!==Mn){if(Mn!==null&&ke.has(Mn)&&(Oe.width!==Mn.image.width||Oe.height!==Mn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");oe.setupDepthRenderbuffer(Oe)}}const $n=Oe.texture;($n.isData3DTexture||$n.isDataArrayTexture||$n.isCompressedArrayTexture)&&(tn=!0);const rn=ke.get(Oe).__webglFramebuffer;Oe.isWebGLCubeRenderTarget?(Array.isArray(rn[gt])?it=rn[gt][qe]:it=rn[gt],Ct=!0):Oe.samples>0&&oe.useMultisampledRTT(Oe)===!1?it=ke.get(Oe).__webglMultisampledFramebuffer:Array.isArray(rn)?it=rn[qe]:it=rn,I.copy(Oe.viewport),L.copy(Oe.scissor),k=Oe.scissorTest}else I.copy(Z).multiplyScalar(z).floor(),L.copy(ee).multiplyScalar(z).floor(),k=J;if(ce.bindFramebuffer(ie.FRAMEBUFFER,it)&&lt&&ce.drawBuffers(Oe,it),ce.viewport(I),ce.scissor(L),ce.setScissorTest(k),Ct){const mn=ke.get(Oe.texture);ie.framebufferTexture2D(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_CUBE_MAP_POSITIVE_X+gt,mn.__webglTexture,qe)}else if(tn){const mn=ke.get(Oe.texture),$n=gt||0;ie.framebufferTextureLayer(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,mn.__webglTexture,qe||0,$n)}T=-1},this.readRenderTargetPixels=function(Oe,gt,qe,lt,it,Ct,tn){if(!(Oe&&Oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Qt=ke.get(Oe).__webglFramebuffer;if(Oe.isWebGLCubeRenderTarget&&tn!==void 0&&(Qt=Qt[tn]),Qt){ce.bindFramebuffer(ie.FRAMEBUFFER,Qt);try{const mn=Oe.texture,$n=mn.format,rn=mn.type;if(!Ye.textureFormatReadable($n)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ye.textureTypeReadable(rn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}gt>=0&&gt<=Oe.width-lt&&qe>=0&&qe<=Oe.height-it&&ie.readPixels(gt,qe,lt,it,Te.convert($n),Te.convert(rn),Ct)}finally{const mn=C!==null?ke.get(C).__webglFramebuffer:null;ce.bindFramebuffer(ie.FRAMEBUFFER,mn)}}},this.readRenderTargetPixelsAsync=async function(Oe,gt,qe,lt,it,Ct,tn){if(!(Oe&&Oe.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Qt=ke.get(Oe).__webglFramebuffer;if(Oe.isWebGLCubeRenderTarget&&tn!==void 0&&(Qt=Qt[tn]),Qt){const mn=Oe.texture,$n=mn.format,rn=mn.type;if(!Ye.textureFormatReadable($n))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ye.textureTypeReadable(rn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(gt>=0&&gt<=Oe.width-lt&&qe>=0&&qe<=Oe.height-it){ce.bindFramebuffer(ie.FRAMEBUFFER,Qt);const Mn=ie.createBuffer();ie.bindBuffer(ie.PIXEL_PACK_BUFFER,Mn),ie.bufferData(ie.PIXEL_PACK_BUFFER,Ct.byteLength,ie.STREAM_READ),ie.readPixels(gt,qe,lt,it,Te.convert($n),Te.convert(rn),0);const An=C!==null?ke.get(C).__webglFramebuffer:null;ce.bindFramebuffer(ie.FRAMEBUFFER,An);const rr=ie.fenceSync(ie.SYNC_GPU_COMMANDS_COMPLETE,0);return ie.flush(),await lit(ie,rr,4),ie.bindBuffer(ie.PIXEL_PACK_BUFFER,Mn),ie.getBufferSubData(ie.PIXEL_PACK_BUFFER,0,Ct),ie.deleteBuffer(Mn),ie.deleteSync(rr),Ct}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(Oe,gt=null,qe=0){Oe.isTexture!==!0&&(Iv("WebGLRenderer: copyFramebufferToTexture function signature has changed."),gt=arguments[0]||null,Oe=arguments[1]);const lt=Math.pow(2,-qe),it=Math.floor(Oe.image.width*lt),Ct=Math.floor(Oe.image.height*lt),tn=gt!==null?gt.x:0,Qt=gt!==null?gt.y:0;oe.setTexture2D(Oe,0),ie.copyTexSubImage2D(ie.TEXTURE_2D,qe,0,0,tn,Qt,it,Ct),ce.unbindTexture()};const Yn=ie.createFramebuffer(),at=ie.createFramebuffer();this.copyTextureToTexture=function(Oe,gt,qe=null,lt=null,it=0,Ct=null){Oe.isTexture!==!0&&(Iv("WebGLRenderer: copyTextureToTexture function signature has changed."),lt=arguments[0]||null,Oe=arguments[1],gt=arguments[2],Ct=arguments[3]||0,qe=null),Ct===null&&(it!==0?(Iv("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ct=it,it=0):Ct=0);let tn,Qt,mn,$n,rn,Mn,An,rr,Wr;const gr=Oe.isCompressedTexture?Oe.mipmaps[Ct]:Oe.image;if(qe!==null)tn=qe.max.x-qe.min.x,Qt=qe.max.y-qe.min.y,mn=qe.isBox3?qe.max.z-qe.min.z:1,$n=qe.min.x,rn=qe.min.y,Mn=qe.isBox3?qe.min.z:0;else{const Qa=Math.pow(2,-it);tn=Math.floor(gr.width*Qa),Qt=Math.floor(gr.height*Qa),Oe.isDataArrayTexture?mn=gr.depth:Oe.isData3DTexture?mn=Math.floor(gr.depth*Qa):mn=1,$n=0,rn=0,Mn=0}lt!==null?(An=lt.x,rr=lt.y,Wr=lt.z):(An=0,rr=0,Wr=0);const yr=Te.convert(gt.format),Gn=Te.convert(gt.type);let Mi;gt.isData3DTexture?(oe.setTexture3D(gt,0),Mi=ie.TEXTURE_3D):gt.isDataArrayTexture||gt.isCompressedArrayTexture?(oe.setTexture2DArray(gt,0),Mi=ie.TEXTURE_2D_ARRAY):(oe.setTexture2D(gt,0),Mi=ie.TEXTURE_2D),ie.pixelStorei(ie.UNPACK_FLIP_Y_WEBGL,gt.flipY),ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,gt.premultiplyAlpha),ie.pixelStorei(ie.UNPACK_ALIGNMENT,gt.unpackAlignment);const qr=ie.getParameter(ie.UNPACK_ROW_LENGTH),Fs=ie.getParameter(ie.UNPACK_IMAGE_HEIGHT),ao=ie.getParameter(ie.UNPACK_SKIP_PIXELS),hr=ie.getParameter(ie.UNPACK_SKIP_ROWS),Zl=ie.getParameter(ie.UNPACK_SKIP_IMAGES);ie.pixelStorei(ie.UNPACK_ROW_LENGTH,gr.width),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,gr.height),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,$n),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,rn),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,Mn);const yi=Oe.isDataArrayTexture||Oe.isData3DTexture,Za=gt.isDataArrayTexture||gt.isData3DTexture;if(Oe.isDepthTexture){const Qa=ke.get(Oe),la=ke.get(gt),Wi=ke.get(Qa.__renderTarget),qi=ke.get(la.__renderTarget);ce.bindFramebuffer(ie.READ_FRAMEBUFFER,Wi.__webglFramebuffer),ce.bindFramebuffer(ie.DRAW_FRAMEBUFFER,qi.__webglFramebuffer);for(let Ro=0;Ro<mn;Ro++)yi&&(ie.framebufferTextureLayer(ie.READ_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ke.get(Oe).__webglTexture,it,Mn+Ro),ie.framebufferTextureLayer(ie.DRAW_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ke.get(gt).__webglTexture,Ct,Wr+Ro)),ie.blitFramebuffer($n,rn,tn,Qt,An,rr,tn,Qt,ie.DEPTH_BUFFER_BIT,ie.NEAREST);ce.bindFramebuffer(ie.READ_FRAMEBUFFER,null),ce.bindFramebuffer(ie.DRAW_FRAMEBUFFER,null)}else if(it!==0||Oe.isRenderTargetTexture||ke.has(Oe)){const Qa=ke.get(Oe),la=ke.get(gt);ce.bindFramebuffer(ie.READ_FRAMEBUFFER,Yn),ce.bindFramebuffer(ie.DRAW_FRAMEBUFFER,at);for(let Wi=0;Wi<mn;Wi++)yi?ie.framebufferTextureLayer(ie.READ_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,Qa.__webglTexture,it,Mn+Wi):ie.framebufferTexture2D(ie.READ_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_2D,Qa.__webglTexture,it),Za?ie.framebufferTextureLayer(ie.DRAW_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,la.__webglTexture,Ct,Wr+Wi):ie.framebufferTexture2D(ie.DRAW_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_2D,la.__webglTexture,Ct),it!==0?ie.blitFramebuffer($n,rn,tn,Qt,An,rr,tn,Qt,ie.COLOR_BUFFER_BIT,ie.NEAREST):Za?ie.copyTexSubImage3D(Mi,Ct,An,rr,Wr+Wi,$n,rn,tn,Qt):ie.copyTexSubImage2D(Mi,Ct,An,rr,$n,rn,tn,Qt);ce.bindFramebuffer(ie.READ_FRAMEBUFFER,null),ce.bindFramebuffer(ie.DRAW_FRAMEBUFFER,null)}else Za?Oe.isDataTexture||Oe.isData3DTexture?ie.texSubImage3D(Mi,Ct,An,rr,Wr,tn,Qt,mn,yr,Gn,gr.data):gt.isCompressedArrayTexture?ie.compressedTexSubImage3D(Mi,Ct,An,rr,Wr,tn,Qt,mn,yr,gr.data):ie.texSubImage3D(Mi,Ct,An,rr,Wr,tn,Qt,mn,yr,Gn,gr):Oe.isDataTexture?ie.texSubImage2D(ie.TEXTURE_2D,Ct,An,rr,tn,Qt,yr,Gn,gr.data):Oe.isCompressedTexture?ie.compressedTexSubImage2D(ie.TEXTURE_2D,Ct,An,rr,gr.width,gr.height,yr,gr.data):ie.texSubImage2D(ie.TEXTURE_2D,Ct,An,rr,tn,Qt,yr,Gn,gr);ie.pixelStorei(ie.UNPACK_ROW_LENGTH,qr),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,Fs),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,ao),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,hr),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,Zl),Ct===0&&gt.generateMipmaps&&ie.generateMipmap(Mi),ce.unbindTexture()},this.copyTextureToTexture3D=function(Oe,gt,qe=null,lt=null,it=0){return Oe.isTexture!==!0&&(Iv("WebGLRenderer: copyTextureToTexture3D function signature has changed."),qe=arguments[0]||null,lt=arguments[1]||null,Oe=arguments[2],gt=arguments[3],it=arguments[4]||0),Iv('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Oe,gt,qe,lt,it)},this.initRenderTarget=function(Oe){ke.get(Oe).__webglFramebuffer===void 0&&oe.setupRenderTarget(Oe)},this.initTexture=function(Oe){Oe.isCubeTexture?oe.setTextureCube(Oe,0):Oe.isData3DTexture?oe.setTexture3D(Oe,0):Oe.isDataArrayTexture||Oe.isCompressedArrayTexture?oe.setTexture2DArray(Oe,0):oe.setTexture2D(Oe,0),ce.unbindTexture()},this.resetState=function(){x=0,M=0,C=null,ce.reset(),ht.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return yd}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=ni._getDrawingBufferColorSpace(e),t.unpackColorSpace=ni._getUnpackColorSpace()}}const Fp=class Fp{constructor(e,t){let r,i;this.promise=new Promise((c,u)=>{r=c,i=u});const a=r.bind(this),s=i.bind(this),o=(...c)=>{a(...c)},l=c=>{s(c)};e(o.bind(this),l.bind(this)),this.abortHandler=t,this.id=Fp.idGen++}then(e){return new Fp((t,r)=>{this.promise=this.promise.then((...i)=>{const a=e(...i);a instanceof Promise||a instanceof Fp?a.then((...s)=>{t(...s)}):t(a)}).catch(i=>{r(i)})},this.abortHandler)}catch(e){return new Fp(t=>{this.promise=this.promise.then((...r)=>{t(...r)}).catch(e)},this.abortHandler)}abort(e){this.abortHandler&&this.abortHandler(e)}};cn(Fp,"idGen",0);let dS=Fp;class NC extends Error{constructor(e){super(e)}}(function(){const n=new Float32Array(1),e=new Int32Array(n.buffer);return function(t){n[0]=t;const r=e[0];let i=r>>16&32768,a=r>>12&2047;const s=r>>23&255;return s<103?i:s>142?(i|=31744,i|=(s==255?0:1)&&r&8388607,i):s<113?(a|=2048,i|=(a>>114-s)+(a>>113-s&1),i):(i|=s-112<<10|a>>1,i+=a&1,i)}})();const ZI=function(){const n=new Float32Array(1),e=new Int32Array(n.buffer);return function(t){return n[0]=t,e[0]}}(),Tct=function(n,e){return n[e]+(n[e+1]<<8)+(n[e+2]<<16)+(n[e+3]<<24)},OO=function(n,e,t=!0,r){const i=new AbortController,a=i.signal;let s=!1;const o=l=>{i.abort(l),s=!0};return new dS((l,c)=>{const u={signal:a};r&&(u.headers=r),fetch(n,u).then(async d=>{if(!d.ok){const v=await d.text();c(new Error(`Fetch failed: ${d.status} ${d.statusText} ${v}`));return}const f=d.body.getReader();let h=0,p=d.headers.get("Content-Length"),m=p?parseInt(p):void 0;const g=[];for(;!s;)try{const{value:v,done:y}=await f.read();if(y){if(e&&e(100,"100%",v,m),t){const w=new Blob(g).arrayBuffer();l(w)}else l();break}h+=v.length;let b,_;m!==void 0&&(b=h/m*100,_=`${b.toFixed(2)}%`),t&&g.push(v),e&&e(b,_,v,m)}catch(v){c(v);return}}).catch(d=>{c(new NC(d))})},o)},os=function(n,e,t){return Math.max(Math.min(n,t),e)},fv=function(){return performance.now()/1e3},Rv=n=>{if(n.geometry&&(n.geometry.dispose(),n.geometry=null),n.material&&(n.material.dispose(),n.material=null),n.children)for(let e of n.children)Rv(e)},Sc=(n,e)=>new Promise(t=>{window.setTimeout(()=>{t(n())},e?1:50)}),hg=(n=0)=>{switch(n){case 1:return 9;case 2:return 24}return 0},NO=()=>{let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}},QI=n=>{let e,t;return n||(n=()=>{}),{promise:new dS((i,a)=>{e=i,t=a},n),resolve:e,reject:t}};class Act{constructor(e,t,r){this.major=e,this.minor=t,this.patch=r}toString(){return`${this.major}_${this.minor}_${this.patch}`}}function BO(){const n=navigator.userAgent;return n.indexOf("iPhone")>0||n.indexOf("iPad")>0}function pae(){if(BO()){const n=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return new Act(parseInt(n[1]||0,10),parseInt(n[2]||0,10),parseInt(n[3]||0,10))}else return null}const Ect=14,$b=class $b{constructor(e=0){this.sphericalHarmonicsDegree=e,this.sphericalHarmonicsCount=hg(this.sphericalHarmonicsDegree),this.componentCount=this.sphericalHarmonicsCount+Ect,this.defaultSphericalHarmonics=new Array(this.sphericalHarmonicsCount).fill(0),this.splats=[],this.splatCount=0}static createSplat(e=0){const t=[0,0,0,1,1,1,1,0,0,0,0,0,0,0];let r=hg(e);for(let i=0;i<r;i++)t.push(0);return t}addSplat(e){this.splats.push(e),this.splatCount++}getSplat(e){return this.splats[e]}addDefaultSplat(){const e=$b.createSplat(this.sphericalHarmonicsDegree);return this.addSplat(e),e}addSplatFromComonents(e,t,r,i,a,s,o,l,c,u,d,f,h,p,...m){const g=[e,t,r,i,a,s,o,l,c,u,d,f,h,p,...this.defaultSphericalHarmonics];for(let v=0;v<m.length&&v<this.sphericalHarmonicsCount;v++)g[v]=m[v];return this.addSplat(g),g}addSplatFromArray(e,t){const r=e.splats[t],i=$b.createSplat(this.sphericalHarmonicsDegree);for(let a=0;a<this.componentCount&&a<r.length;a++)i[a]=r[a];this.addSplat(i)}};cn($b,"OFFSET",{X:0,Y:1,Z:2,SCALE0:3,SCALE1:4,SCALE2:5,ROTATION0:6,ROTATION1:7,ROTATION2:8,ROTATION3:9,FDC0:10,FDC1:11,FDC2:12,OPACITY:13,FRC0:14,FRC1:15,FRC2:16,FRC3:17,FRC4:18,FRC5:19,FRC6:20,FRC7:21,FRC8:22,FRC9:23,FRC10:24,FRC11:25,FRC12:26,FRC13:27,FRC14:28,FRC15:29,FRC16:30,FRC17:31,FRC18:32,FRC19:33,FRC20:34,FRC21:35,FRC22:36,FRC23:37});let qn=$b;class Fr{}cn(Fr,"DefaultSplatSortDistanceMapPrecision",16),cn(Fr,"MemoryPageSize",65536),cn(Fr,"BytesPerFloat",4),cn(Fr,"BytesPerInt",4),cn(Fr,"MaxScenes",32),cn(Fr,"ProgressiveLoadSectionSize",262144),cn(Fr,"ProgressiveLoadSectionDelayDuration",15),cn(Fr,"SphericalHarmonics8BitCompressionRange",3);const Ict=Fr.SphericalHarmonics8BitCompressionRange,Ef=Ict/2,Aa=cS.toHalfFloat.bind(cS),FO=cS.fromHalfFloat.bind(cS),Hi=(n,e,t=!1,r,i)=>{if(e===0)return n;if(e===1||e===2&&!t)return cS.fromHalfFloat(n);if(e===2)return zO(n,r,i)},zb=(n,e,t)=>{n=os(n,e,t);const r=t-e;return os(Math.floor((n-e)/r*255),0,255)},zO=(n,e,t)=>{const r=t-e;return n/255*r+e},mae=(n,e,t)=>zb(FO(n,e,t)),Rct=(n,e,t)=>Aa(zO(n,e,t)),ui=(n,e,t,r=!1)=>t===0?n.getFloat32(e*4,!0):t===1||t===2&&!r?n.getUint16(e*2,!0):n.getUint8(e,!0),Pct=function(){const n=e=>e;return function(e,t,r,i=!1){if(t===r)return e;let a=n;return t===2&&i?r===1?a=Rct:r==0&&(a=zO):t===2||t===1?r===0?a=FO:r==2&&(i?a=mae:a=n):t===0&&(r===1?a=Aa:r==2&&(i?a=zb:a=Aa)),a(e)}}(),hv=(n,e,t,r,i=0)=>{const a=new Uint8Array(n,e),s=new Uint8Array(t,r);for(let o=0;o<i;o++)s[o]=a[o]},Ht=class Ht{constructor(e,t=!0){cn(this,"getSplatScaleAndRotation",function(){const e=new ur,t=new ur,r=new ur,i=new tt,a=new tt,s=new Yi;return function(o,l,c,u,d){const f=this.globalSplatIndexToSectionMap[o],h=this.sections[f],p=o-h.splatCountOffset,m=h.bytesPerSplat*p+Ht.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,g=new DataView(this.bufferData,h.dataBase+m);a.set(Hi(ui(g,0,this.compressionLevel),this.compressionLevel),Hi(ui(g,1,this.compressionLevel),this.compressionLevel),Hi(ui(g,2,this.compressionLevel),this.compressionLevel)),d&&(d.x!==void 0&&(a.x=d.x),d.y!==void 0&&(a.y=d.y),d.z!==void 0&&(a.z=d.z)),s.set(Hi(ui(g,4,this.compressionLevel),this.compressionLevel),Hi(ui(g,5,this.compressionLevel),this.compressionLevel),Hi(ui(g,6,this.compressionLevel),this.compressionLevel),Hi(ui(g,3,this.compressionLevel),this.compressionLevel)),u?(e.makeScale(a.x,a.y,a.z),t.makeRotationFromQuaternion(s),r.copy(e).multiply(t).multiply(u),r.decompose(i,c,l)):(l.copy(a),c.copy(s))}}());cn(this,"fillSplatScaleRotationArray",function(){const e=new ur,t=new ur,r=new ur,i=new tt,a=new Yi,s=new tt,o=l=>{const c=l.w<0?-1:1;l.x*=c,l.y*=c,l.z*=c,l.w*=c};return function(l,c,u,d,f,h,p,m){const g=this.splatCount;d=d||0,f=f||g-1,h===void 0&&(h=d);const v=(y,b)=>(b===void 0&&(b=this.compressionLevel),Pct(y,b,p));for(let y=d;y<=f;y++){const b=this.globalSplatIndexToSectionMap[y],_=this.sections[b],w=y-_.splatCountOffset,x=_.bytesPerSplat*w+Ht.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,M=(y-d+h)*Ht.ScaleComponentCount,C=(y-d+h)*Ht.RotationComponentCount,T=new DataView(this.bufferData,_.dataBase+x),A=m&&m.x!==void 0?m.x:ui(T,0,this.compressionLevel),I=m&&m.y!==void 0?m.y:ui(T,1,this.compressionLevel),L=m&&m.z!==void 0?m.z:ui(T,2,this.compressionLevel),k=ui(T,3,this.compressionLevel),N=ui(T,4,this.compressionLevel),F=ui(T,5,this.compressionLevel),D=ui(T,6,this.compressionLevel);i.set(Hi(A,this.compressionLevel),Hi(I,this.compressionLevel),Hi(L,this.compressionLevel)),a.set(Hi(N,this.compressionLevel),Hi(F,this.compressionLevel),Hi(D,this.compressionLevel),Hi(k,this.compressionLevel)).normalize(),u&&(s.set(0,0,0),e.makeScale(i.x,i.y,i.z),t.makeRotationFromQuaternion(a),r.identity().premultiply(e).premultiply(t),r.premultiply(u),r.decompose(s,a,i),a.normalize()),o(a),l&&(l[M]=v(i.x,0),l[M+1]=v(i.y,0),l[M+2]=v(i.z,0)),c&&(c[C]=v(a.x,0),c[C+1]=v(a.y,0),c[C+2]=v(a.z,0),c[C+3]=v(a.w,0))}}}());cn(this,"fillSphericalHarmonicsArray",function(){for(let N=0;N<15;N++)new tt;const e=new cr,t=new ur,r=new tt,i=new tt,a=new Yi,s=[],o=[],l=[],c=[],u=[],d=[],f=[],h=[],p=[],m=[],g=[],v=[],y=[],b=[],_=[],w=[],x=[],M=[],C=N=>N,T=(N,F,D,H)=>{N[0]=F,N[1]=D,N[2]=H},A=(N,F,D,H,z)=>{N[0]=ui(F,H,z,!0),N[1]=ui(F,H+D,z,!0),N[2]=ui(F,H+D+D,z,!0)},I=(N,F)=>{F[0]=N[0],F[1]=N[1],F[2]=N[2]},L=(N,F,D,H)=>{F[D]=H(N[0]),F[D+1]=H(N[1]),F[D+2]=H(N[2])},k=(N,F,D,H,z)=>(F[0]=Hi(N[0],D,!0,H,z),F[1]=Hi(N[1],D,!0,H,z),F[2]=Hi(N[2],D,!0,H,z),F);return function(N,F,D,H,z,B,W){const Z=this.splatCount;H=H||0,z=z||Z-1,B===void 0&&(B=H),D&&F>=1&&(t.copy(D),t.decompose(r,a,i),a.normalize(),t.makeRotationFromQuaternion(a),e.setFromMatrix4(t),T(s,e.elements[4],-e.elements[7],e.elements[1]),T(o,-e.elements[5],e.elements[8],-e.elements[2]),T(l,e.elements[3],-e.elements[6],e.elements[0]));const ee=re=>mae(re,this.minSphericalHarmonicsCoeff,this.maxSphericalHarmonicsCoeff),J=re=>zb(re,this.minSphericalHarmonicsCoeff,this.maxSphericalHarmonicsCoeff);for(let re=H;re<=z;re++){const fe=this.globalSplatIndexToSectionMap[re],de=this.sections[fe];F=Math.min(F,de.sphericalHarmonicsDegree);const me=hg(F),Re=re-de.splatCountOffset,De=de.bytesPerSplat*Re+Ht.CompressionLevels[this.compressionLevel].SphericalHarmonicsOffsetBytes,Ge=new DataView(this.bufferData,de.dataBase+De),We=(re-H+B)*me;let K=D?0:this.compressionLevel,ue=C;K!==W&&(K===1?W===0?ue=FO:W==2&&(ue=ee):K===0&&(W===1?ue=Aa:W==2&&(ue=J)));const ie=this.minSphericalHarmonicsCoeff,$e=this.maxSphericalHarmonicsCoeff;F>=1&&(A(p,Ge,3,0,this.compressionLevel),A(m,Ge,3,1,this.compressionLevel),A(g,Ge,3,2,this.compressionLevel),D?(k(p,p,this.compressionLevel,ie,$e),k(m,m,this.compressionLevel,ie,$e),k(g,g,this.compressionLevel,ie,$e),Ht.rotateSphericalHarmonics3(p,m,g,s,o,l,b,_,w)):(I(p,b),I(m,_),I(g,w)),L(b,N,We,ue),L(_,N,We+3,ue),L(w,N,We+6,ue),F>=2&&(A(p,Ge,5,9,this.compressionLevel),A(m,Ge,5,10,this.compressionLevel),A(g,Ge,5,11,this.compressionLevel),A(v,Ge,5,12,this.compressionLevel),A(y,Ge,5,13,this.compressionLevel),D?(k(p,p,this.compressionLevel,ie,$e),k(m,m,this.compressionLevel,ie,$e),k(g,g,this.compressionLevel,ie,$e),k(v,v,this.compressionLevel,ie,$e),k(y,y,this.compressionLevel,ie,$e),Ht.rotateSphericalHarmonics5(p,m,g,v,y,s,o,l,c,u,d,f,h,b,_,w,x,M)):(I(p,b),I(m,_),I(g,w),I(v,x),I(y,M)),L(b,N,We+9,ue),L(_,N,We+12,ue),L(w,N,We+15,ue),L(x,N,We+18,ue),L(M,N,We+21,ue)))}}}());this.constructFromBuffer(e,t)}getSplatCount(){return this.splatCount}getMaxSplatCount(){return this.maxSplatCount}getMinSphericalHarmonicsDegree(){let e=0;for(let t=0;t<this.sections.length;t++){const r=this.sections[t];(t===0||r.sphericalHarmonicsDegree<e)&&(e=r.sphericalHarmonicsDegree)}return e}getBucketIndex(e,t){let r;const i=e.fullBucketCount*e.bucketSize;if(t<i)r=Math.floor(t/e.bucketSize);else{let a=i;r=e.fullBucketCount;let s=0;for(;a<e.splatCount;){let o=e.partiallyFilledBucketLengths[s];if(t>=a&&t<a+o)break;a+=o,r++,s++}}return r}getSplatCenter(e,t,r){const i=this.globalSplatIndexToSectionMap[e],a=this.sections[i],s=e-a.splatCountOffset,o=a.bytesPerSplat*s,l=new DataView(this.bufferData,a.dataBase+o),c=ui(l,0,this.compressionLevel),u=ui(l,1,this.compressionLevel),d=ui(l,2,this.compressionLevel);if(this.compressionLevel>=1){const h=this.getBucketIndex(a,s)*Ht.BucketStorageSizeFloats,p=a.compressionScaleFactor,m=a.compressionScaleRange;t.x=(c-m)*p+a.bucketArray[h],t.y=(u-m)*p+a.bucketArray[h+1],t.z=(d-m)*p+a.bucketArray[h+2]}else t.x=c,t.y=u,t.z=d;r&&t.applyMatrix4(r)}getSplatColor(e,t){const r=this.globalSplatIndexToSectionMap[e],i=this.sections[r],a=e-i.splatCountOffset,s=i.bytesPerSplat*a+Ht.CompressionLevels[this.compressionLevel].ColorOffsetBytes,o=new Uint8Array(this.bufferData,i.dataBase+s,4);t.set(o[0],o[1],o[2],o[3])}fillSplatCenterArray(e,t,r,i,a){const s=this.splatCount;r=r||0,i=i||s-1,a===void 0&&(a=r);const o=new tt;for(let l=r;l<=i;l++){const c=this.globalSplatIndexToSectionMap[l],u=this.sections[c],d=l-u.splatCountOffset,f=(l-r+a)*Ht.CenterComponentCount,h=u.bytesPerSplat*d,p=new DataView(this.bufferData,u.dataBase+h),m=ui(p,0,this.compressionLevel),g=ui(p,1,this.compressionLevel),v=ui(p,2,this.compressionLevel);if(this.compressionLevel>=1){const b=this.getBucketIndex(u,d)*Ht.BucketStorageSizeFloats,_=u.compressionScaleFactor,w=u.compressionScaleRange;o.x=(m-w)*_+u.bucketArray[b],o.y=(g-w)*_+u.bucketArray[b+1],o.z=(v-w)*_+u.bucketArray[b+2]}else o.x=m,o.y=g,o.z=v;t&&o.applyMatrix4(t),e[f]=o.x,e[f+1]=o.y,e[f+2]=o.z}}fillSplatCovarianceArray(e,t,r,i,a,s){const o=this.splatCount,l=new tt,c=new Yi;r=r||0,i=i||o-1,a===void 0&&(a=r);for(let u=r;u<=i;u++){const d=this.globalSplatIndexToSectionMap[u],f=this.sections[d],h=u-f.splatCountOffset,p=(u-r+a)*Ht.CovarianceComponentCount,m=f.bytesPerSplat*h+Ht.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,g=new DataView(this.bufferData,f.dataBase+m);l.set(Hi(ui(g,0,this.compressionLevel),this.compressionLevel),Hi(ui(g,1,this.compressionLevel),this.compressionLevel),Hi(ui(g,2,this.compressionLevel),this.compressionLevel)),c.set(Hi(ui(g,4,this.compressionLevel),this.compressionLevel),Hi(ui(g,5,this.compressionLevel),this.compressionLevel),Hi(ui(g,6,this.compressionLevel),this.compressionLevel),Hi(ui(g,3,this.compressionLevel),this.compressionLevel)),Ht.computeCovariance(l,c,t,e,p,s)}}fillSplatColorArray(e,t,r,i,a){const s=this.splatCount;r=r||0,i=i||s-1,a===void 0&&(a=r);for(let o=r;o<=i;o++){const l=this.globalSplatIndexToSectionMap[o],c=this.sections[l],u=o-c.splatCountOffset,d=(o-r+a)*Ht.ColorComponentCount,f=c.bytesPerSplat*u+Ht.CompressionLevels[this.compressionLevel].ColorOffsetBytes,h=new Uint8Array(this.bufferData,c.dataBase+f);let p=h[3];p=p>=t?p:0,e[d]=h[0],e[d+1]=h[1],e[d+2]=h[2],e[d+3]=p}}static parseHeader(e){const t=new Uint8Array(e,0,Ht.HeaderSizeBytes),r=new Uint16Array(e,0,Ht.HeaderSizeBytes/2),i=new Uint32Array(e,0,Ht.HeaderSizeBytes/4),a=new Float32Array(e,0,Ht.HeaderSizeBytes/4),s=t[0],o=t[1],l=i[1],c=i[2],u=i[3],d=i[4],f=r[10],h=new tt(a[6],a[7],a[8]),p=a[9]||-Ef,m=a[10]||Ef;return{versionMajor:s,versionMinor:o,maxSectionCount:l,sectionCount:c,maxSplatCount:u,splatCount:d,compressionLevel:f,sceneCenter:h,minSphericalHarmonicsCoeff:p,maxSphericalHarmonicsCoeff:m}}static writeHeaderCountsToBuffer(e,t,r){const i=new Uint32Array(r,0,Ht.HeaderSizeBytes/4);i[2]=e,i[4]=t}static writeHeaderToBuffer(e,t){const r=new Uint8Array(t,0,Ht.HeaderSizeBytes),i=new Uint16Array(t,0,Ht.HeaderSizeBytes/2),a=new Uint32Array(t,0,Ht.HeaderSizeBytes/4),s=new Float32Array(t,0,Ht.HeaderSizeBytes/4);r[0]=e.versionMajor,r[1]=e.versionMinor,r[2]=0,r[3]=0,a[1]=e.maxSectionCount,a[2]=e.sectionCount,a[3]=e.maxSplatCount,a[4]=e.splatCount,i[10]=e.compressionLevel,s[6]=e.sceneCenter.x,s[7]=e.sceneCenter.y,s[8]=e.sceneCenter.z,s[9]=e.minSphericalHarmonicsCoeff||-Ef,s[10]=e.maxSphericalHarmonicsCoeff||Ef}static parseSectionHeaders(e,t,r=0,i){const a=e.compressionLevel,s=e.maxSectionCount,o=new Uint16Array(t,r,s*Ht.SectionHeaderSizeBytes/2),l=new Uint32Array(t,r,s*Ht.SectionHeaderSizeBytes/4),c=new Float32Array(t,r,s*Ht.SectionHeaderSizeBytes/4),u=[];let d=0,f=d/2,h=d/4,p=Ht.HeaderSizeBytes+e.maxSectionCount*Ht.SectionHeaderSizeBytes,m=0;for(let g=0;g<s;g++){const v=l[h+1],y=l[h+2],b=l[h+3],_=c[h+4],w=_/2,x=o[f+10],M=l[h+6]||Ht.CompressionLevels[a].ScaleRange,C=l[h+8],T=l[h+9],A=T*4,I=x*b+A,L=o[f+20],{bytesPerSplat:k}=Ht.calculateComponentStorage(a,L),N=k*v,F=N+I,D={bytesPerSplat:k,splatCountOffset:m,splatCount:i?v:0,maxSplatCount:v,bucketSize:y,bucketCount:b,bucketBlockSize:_,halfBucketBlockSize:w,bucketStorageSizeBytes:x,bucketsStorageSizeBytes:I,splatDataStorageSizeBytes:N,storageSizeBytes:F,compressionScaleRange:M,compressionScaleFactor:w/M,base:p,bucketsBase:p+A,dataBase:p+I,fullBucketCount:C,partiallyFilledBucketCount:T,sphericalHarmonicsDegree:L};u[g]=D,p+=F,d+=Ht.SectionHeaderSizeBytes,f=d/2,h=d/4,m+=v}return u}static writeSectionHeaderToBuffer(e,t,r,i=0){const a=new Uint16Array(r,i,Ht.SectionHeaderSizeBytes/2),s=new Uint32Array(r,i,Ht.SectionHeaderSizeBytes/4),o=new Float32Array(r,i,Ht.SectionHeaderSizeBytes/4);s[0]=e.splatCount,s[1]=e.maxSplatCount,s[2]=t>=1?e.bucketSize:0,s[3]=t>=1?e.bucketCount:0,o[4]=t>=1?e.bucketBlockSize:0,a[10]=t>=1?Ht.BucketStorageSizeBytes:0,s[6]=t>=1?e.compressionScaleRange:0,s[7]=e.storageSizeBytes,s[8]=t>=1?e.fullBucketCount:0,s[9]=t>=1?e.partiallyFilledBucketCount:0,a[20]=e.sphericalHarmonicsDegree}static writeSectionHeaderSplatCountToBuffer(e,t,r=0){const i=new Uint32Array(t,r,Ht.SectionHeaderSizeBytes/4);i[0]=e}constructFromBuffer(e,t){this.bufferData=e,this.globalSplatIndexToLocalSplatIndexMap=[],this.globalSplatIndexToSectionMap=[];const r=Ht.parseHeader(this.bufferData);this.versionMajor=r.versionMajor,this.versionMinor=r.versionMinor,this.maxSectionCount=r.maxSectionCount,this.sectionCount=t?r.maxSectionCount:0,this.maxSplatCount=r.maxSplatCount,this.splatCount=t?r.maxSplatCount:0,this.compressionLevel=r.compressionLevel,this.sceneCenter=new tt().copy(r.sceneCenter),this.minSphericalHarmonicsCoeff=r.minSphericalHarmonicsCoeff,this.maxSphericalHarmonicsCoeff=r.maxSphericalHarmonicsCoeff,this.sections=Ht.parseSectionHeaders(r,this.bufferData,Ht.HeaderSizeBytes,t),this.linkBufferArrays(),this.buildMaps()}static calculateComponentStorage(e,t){const r=Ht.CompressionLevels[e].BytesPerCenter,i=Ht.CompressionLevels[e].BytesPerScale,a=Ht.CompressionLevels[e].BytesPerRotation,s=Ht.CompressionLevels[e].BytesPerColor,o=hg(t),l=Ht.CompressionLevels[e].BytesPerSphericalHarmonicsComponent*o,c=r+i+a+s+l;return{bytesPerCenter:r,bytesPerScale:i,bytesPerRotation:a,bytesPerColor:s,sphericalHarmonicsComponentsPerSplat:o,sphericalHarmonicsBytesPerSplat:l,bytesPerSplat:c}}linkBufferArrays(){for(let e=0;e<this.maxSectionCount;e++){const t=this.sections[e];t.bucketArray=new Float32Array(this.bufferData,t.bucketsBase,t.bucketCount*Ht.BucketStorageSizeFloats),t.partiallyFilledBucketCount>0&&(t.partiallyFilledBucketLengths=new Uint32Array(this.bufferData,t.base,t.partiallyFilledBucketCount))}}buildMaps(){let e=0;for(let t=0;t<this.maxSectionCount;t++){const r=this.sections[t];for(let i=0;i<r.maxSplatCount;i++){const a=e+i;this.globalSplatIndexToLocalSplatIndexMap[a]=i,this.globalSplatIndexToSectionMap[a]=t}e+=r.maxSplatCount}}updateLoadedCounts(e,t){Ht.writeHeaderCountsToBuffer(e,t,this.bufferData),this.sectionCount=e,this.splatCount=t}updateSectionLoadedCounts(e,t){const r=Ht.HeaderSizeBytes+Ht.SectionHeaderSizeBytes*e;Ht.writeSectionHeaderSplatCountToBuffer(t,this.bufferData,r),this.sections[e].splatCount=t}static generateFromUncompressedSplatArrays(e,t,r,i,a,s,o=[]){let l=0;for(let w=0;w<e.length;w++){const x=e[w];l=Math.max(x.sphericalHarmonicsDegree,l)}let c,u;for(let w=0;w<e.length;w++){const x=e[w];for(let M=0;M<x.splats.length;M++){const C=x.splats[M];for(let T=qn.OFFSET.FRC0;T<qn.OFFSET.FRC23&&T<C.length;T++)(!c||C[T]<c)&&(c=C[T]),(!u||C[T]>u)&&(u=C[T])}}c=c||-Ef,u=u||Ef;const{bytesPerSplat:d}=Ht.calculateComponentStorage(r,l),f=Ht.CompressionLevels[r].ScaleRange,h=[],p=[];let m=0;for(let w=0;w<e.length;w++){const x=e[w],M=new qn(l);for(let fe=0;fe<x.splatCount;fe++){const de=x.splats[fe];(de[qn.OFFSET.OPACITY]||0)>=t&&M.addSplat(de)}const C=o[w]||{},T=(C.blockSizeFactor||1)*(a||Ht.BucketBlockSize),A=Math.ceil((C.bucketSizeFactor||1)*(s||Ht.BucketSize)),I=Ht.computeBucketsForUncompressedSplatArray(M,T,A),L=I.fullBuckets.length,k=I.partiallyFullBuckets.map(fe=>fe.splats.length),N=k.length,F=[...I.fullBuckets,...I.partiallyFullBuckets],D=M.splats.length*d,H=N*4,z=r>=1?F.length*Ht.BucketStorageSizeBytes+H:0,B=D+z,W=new ArrayBuffer(B),Z=f/(T*.5),ee=new tt;let J=0;for(let fe=0;fe<F.length;fe++){const de=F[fe];ee.fromArray(de.center);for(let me=0;me<de.splats.length;me++){let Re=de.splats[me];const De=M.splats[Re],Ge=z+J*d;Ht.writeSplatDataToSectionBuffer(De,W,Ge,r,l,ee,Z,f,c,u),J++}}if(m+=J,r>=1){const fe=new Uint32Array(W,0,k.length*4);for(let me=0;me<k.length;me++)fe[me]=k[me];const de=new Float32Array(W,H,F.length*Ht.BucketStorageSizeFloats);for(let me=0;me<F.length;me++){const Re=F[me],De=me*3;de[De]=Re.center[0],de[De+1]=Re.center[1],de[De+2]=Re.center[2]}}h.push(W);const re=new ArrayBuffer(Ht.SectionHeaderSizeBytes);Ht.writeSectionHeaderToBuffer({maxSplatCount:J,splatCount:J,bucketSize:A,bucketCount:F.length,bucketBlockSize:T,compressionScaleRange:f,storageSizeBytes:B,fullBucketCount:L,partiallyFilledBucketCount:N,sphericalHarmonicsDegree:l},r,re,0),p.push(re)}let g=0;for(let w of h)g+=w.byteLength;const v=Ht.HeaderSizeBytes+Ht.SectionHeaderSizeBytes*h.length+g,y=new ArrayBuffer(v);Ht.writeHeaderToBuffer({versionMajor:0,versionMinor:1,maxSectionCount:h.length,sectionCount:h.length,maxSplatCount:m,splatCount:m,compressionLevel:r,sceneCenter:i,minSphericalHarmonicsCoeff:c,maxSphericalHarmonicsCoeff:u},y);let b=Ht.HeaderSizeBytes;for(let w of p)new Uint8Array(y,b,Ht.SectionHeaderSizeBytes).set(new Uint8Array(w)),b+=Ht.SectionHeaderSizeBytes;for(let w of h)new Uint8Array(y,b,w.byteLength).set(new Uint8Array(w)),b+=w.byteLength;return new Ht(y)}static computeBucketsForUncompressedSplatArray(e,t,r){let i=e.splatCount;const a=t/2,s=new tt,o=new tt;for(let m=0;m<i;m++){const g=e.splats[m],v=[g[qn.OFFSET.X],g[qn.OFFSET.Y],g[qn.OFFSET.Z]];(m===0||v[0]<s.x)&&(s.x=v[0]),(m===0||v[0]>o.x)&&(o.x=v[0]),(m===0||v[1]<s.y)&&(s.y=v[1]),(m===0||v[1]>o.y)&&(o.y=v[1]),(m===0||v[2]<s.z)&&(s.z=v[2]),(m===0||v[2]>o.z)&&(o.z=v[2])}const l=new tt().copy(o).sub(s),c=Math.ceil(l.y/t),u=Math.ceil(l.z/t),d=new tt,f=[],h={};for(let m=0;m<i;m++){const g=e.splats[m],v=[g[qn.OFFSET.X],g[qn.OFFSET.Y],g[qn.OFFSET.Z]],y=Math.floor((v[0]-s.x)/t),b=Math.floor((v[1]-s.y)/t),_=Math.floor((v[2]-s.z)/t);d.x=y*t+s.x+a,d.y=b*t+s.y+a,d.z=_*t+s.z+a;const w=y*(c*u)+b*u+_;let x=h[w];x||(h[w]=x={splats:[],center:d.toArray()}),x.splats.push(m),x.splats.length>=r&&(f.push(x),h[w]=null)}const p=[];for(let m in h)if(h.hasOwnProperty(m)){const g=h[m];g&&p.push(g)}return{fullBuckets:f,partiallyFullBuckets:p}}};cn(Ht,"CurrentMajorVersion",0),cn(Ht,"CurrentMinorVersion",1),cn(Ht,"CenterComponentCount",3),cn(Ht,"ScaleComponentCount",3),cn(Ht,"RotationComponentCount",4),cn(Ht,"ColorComponentCount",4),cn(Ht,"CovarianceComponentCount",6),cn(Ht,"SplatScaleOffsetFloat",3),cn(Ht,"SplatRotationOffsetFloat",6),cn(Ht,"CompressionLevels",{0:{BytesPerCenter:12,BytesPerScale:12,BytesPerRotation:16,BytesPerColor:4,ScaleOffsetBytes:12,RotationffsetBytes:24,ColorOffsetBytes:40,SphericalHarmonicsOffsetBytes:44,ScaleRange:1,BytesPerSphericalHarmonicsComponent:4,SphericalHarmonicsOffsetFloat:11,SphericalHarmonicsDegrees:{0:{BytesPerSplat:44},1:{BytesPerSplat:80},2:{BytesPerSplat:140}}},1:{BytesPerCenter:6,BytesPerScale:6,BytesPerRotation:8,BytesPerColor:4,ScaleOffsetBytes:6,RotationffsetBytes:12,ColorOffsetBytes:20,SphericalHarmonicsOffsetBytes:24,ScaleRange:32767,BytesPerSphericalHarmonicsComponent:2,SphericalHarmonicsOffsetFloat:12,SphericalHarmonicsDegrees:{0:{BytesPerSplat:24},1:{BytesPerSplat:42},2:{BytesPerSplat:72}}},2:{BytesPerCenter:6,BytesPerScale:6,BytesPerRotation:8,BytesPerColor:4,ScaleOffsetBytes:6,RotationffsetBytes:12,ColorOffsetBytes:20,SphericalHarmonicsOffsetBytes:24,ScaleRange:32767,BytesPerSphericalHarmonicsComponent:1,SphericalHarmonicsOffsetFloat:12,SphericalHarmonicsDegrees:{0:{BytesPerSplat:24},1:{BytesPerSplat:33},2:{BytesPerSplat:48}}}}),cn(Ht,"CovarianceSizeFloats",6),cn(Ht,"HeaderSizeBytes",4096),cn(Ht,"SectionHeaderSizeBytes",1024),cn(Ht,"BucketStorageSizeBytes",12),cn(Ht,"BucketStorageSizeFloats",3),cn(Ht,"BucketBlockSize",5),cn(Ht,"BucketSize",256),cn(Ht,"computeCovariance",function(){const e=new ur,t=new cr,r=new cr,i=new cr,a=new cr,s=new cr,o=new cr;return function(l,c,u,d,f=0,h){e.makeScale(l.x,l.y,l.z),t.setFromMatrix4(e),e.makeRotationFromQuaternion(c),r.setFromMatrix4(e),i.copy(r).multiply(t),a.copy(i).transpose().premultiply(i),u&&(s.setFromMatrix4(u),o.copy(s).transpose(),a.multiply(o),a.premultiply(s)),h>=1?(d[f]=Aa(a.elements[0]),d[f+1]=Aa(a.elements[3]),d[f+2]=Aa(a.elements[6]),d[f+3]=Aa(a.elements[4]),d[f+4]=Aa(a.elements[7]),d[f+5]=Aa(a.elements[8])):(d[f]=a.elements[0],d[f+1]=a.elements[3],d[f+2]=a.elements[6],d[f+3]=a.elements[4],d[f+4]=a.elements[7],d[f+5]=a.elements[8])}}()),cn(Ht,"dot3",(e,t,r,i,a)=>{a[0]=a[1]=a[2]=0;const s=i[0],o=i[1],l=i[2];Ht.addInto3(e[0]*s,e[1]*s,e[2]*s,a),Ht.addInto3(t[0]*o,t[1]*o,t[2]*o,a),Ht.addInto3(r[0]*l,r[1]*l,r[2]*l,a)}),cn(Ht,"addInto3",(e,t,r,i)=>{i[0]=i[0]+e,i[1]=i[1]+t,i[2]=i[2]+r}),cn(Ht,"dot5",(e,t,r,i,a,s,o)=>{o[0]=o[1]=o[2]=0;const l=s[0],c=s[1],u=s[2],d=s[3],f=s[4];Ht.addInto3(e[0]*l,e[1]*l,e[2]*l,o),Ht.addInto3(t[0]*c,t[1]*c,t[2]*c,o),Ht.addInto3(r[0]*u,r[1]*u,r[2]*u,o),Ht.addInto3(i[0]*d,i[1]*d,i[2]*d,o),Ht.addInto3(a[0]*f,a[1]*f,a[2]*f,o)}),cn(Ht,"rotateSphericalHarmonics3",(e,t,r,i,a,s,o,l,c)=>{Ht.dot3(e,t,r,i,o),Ht.dot3(e,t,r,a,l),Ht.dot3(e,t,r,s,c)}),cn(Ht,"rotateSphericalHarmonics5",(e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,g,v,y)=>{const b=Math.sqrt(.25),_=Math.sqrt(3/4),w=Math.sqrt(1/3),x=Math.sqrt(4/3),M=Math.sqrt(1/12);c[0]=b*(l[2]*s[0]+l[0]*s[2]+(s[2]*l[0]+s[0]*l[2])),c[1]=l[1]*s[0]+s[1]*l[0],c[2]=_*(l[1]*s[1]+s[1]*l[1]),c[3]=l[1]*s[2]+s[1]*l[2],c[4]=b*(l[2]*s[2]-l[0]*s[0]+(s[2]*l[2]-s[0]*l[0])),Ht.dot5(e,t,r,i,a,c,p),u[0]=b*(o[2]*s[0]+o[0]*s[2]+(s[2]*o[0]+s[0]*o[2])),u[1]=o[1]*s[0]+s[1]*o[0],u[2]=_*(o[1]*s[1]+s[1]*o[1]),u[3]=o[1]*s[2]+s[1]*o[2],u[4]=b*(o[2]*s[2]-o[0]*s[0]+(s[2]*o[2]-s[0]*o[0])),Ht.dot5(e,t,r,i,a,u,m),d[0]=w*(o[2]*o[0]+o[0]*o[2])+-M*(l[2]*l[0]+l[0]*l[2]+(s[2]*s[0]+s[0]*s[2])),d[1]=x*o[1]*o[0]+-w*(l[1]*l[0]+s[1]*s[0]),d[2]=o[1]*o[1]+-b*(l[1]*l[1]+s[1]*s[1]),d[3]=x*o[1]*o[2]+-w*(l[1]*l[2]+s[1]*s[2]),d[4]=w*(o[2]*o[2]-o[0]*o[0])+-M*(l[2]*l[2]-l[0]*l[0]+(s[2]*s[2]-s[0]*s[0])),Ht.dot5(e,t,r,i,a,d,g),f[0]=b*(o[2]*l[0]+o[0]*l[2]+(l[2]*o[0]+l[0]*o[2])),f[1]=o[1]*l[0]+l[1]*o[0],f[2]=_*(o[1]*l[1]+l[1]*o[1]),f[3]=o[1]*l[2]+l[1]*o[2],f[4]=b*(o[2]*l[2]-o[0]*l[0]+(l[2]*o[2]-l[0]*o[0])),Ht.dot5(e,t,r,i,a,f,v),h[0]=b*(l[2]*l[0]+l[0]*l[2]-(s[2]*s[0]+s[0]*s[2])),h[1]=l[1]*l[0]-s[1]*s[0],h[2]=_*(l[1]*l[1]-s[1]*s[1]),h[3]=l[1]*l[2]-s[1]*s[2],h[4]=b*(l[2]*l[2]-l[0]*l[0]-(s[2]*s[2]-s[0]*s[0])),Ht.dot5(e,t,r,i,a,h,y)}),cn(Ht,"writeSplatDataToSectionBuffer",function(){const e=new ArrayBuffer(12),t=new ArrayBuffer(12),r=new ArrayBuffer(16),i=new ArrayBuffer(4),a=new ArrayBuffer(256),s=new Yi,o=new tt,l=new tt,{X:c,Y:u,Z:d,SCALE0:f,SCALE1:h,SCALE2:p,ROTATION0:m,ROTATION1:g,ROTATION2:v,ROTATION3:y,FDC0:b,FDC1:_,FDC2:w,OPACITY:x,FRC0:M,FRC9:C}=qn.OFFSET,T=(A,I,L)=>{const k=L*2+1;return A=Math.round(A*I)+L,os(A,0,k)};return function(A,I,L,k,N,F,D,H,z=-Ef,B=Ef){const W=hg(N),Z=Ht.CompressionLevels[k].BytesPerCenter,ee=Ht.CompressionLevels[k].BytesPerScale,J=Ht.CompressionLevels[k].BytesPerRotation,re=Ht.CompressionLevels[k].BytesPerColor,fe=L,de=fe+Z,me=de+ee,Re=me+J,De=Re+re;if(A[m]!==void 0?(s.set(A[m],A[g],A[v],A[y]),s.normalize()):s.set(1,0,0,0),A[f]!==void 0?o.set(A[f]||0,A[h]||0,A[p]||0):o.set(0,0,0),k===0){const We=new Float32Array(I,fe,Ht.CenterComponentCount),K=new Float32Array(I,me,Ht.RotationComponentCount),ue=new Float32Array(I,de,Ht.ScaleComponentCount);if(K.set([s.x,s.y,s.z,s.w]),ue.set([o.x,o.y,o.z]),We.set([A[c],A[u],A[d]]),N>0){const ie=new Float32Array(I,De,W);if(N>=1){for(let $e=0;$e<9;$e++)ie[$e]=A[M+$e]||0;if(N>=2)for(let $e=0;$e<15;$e++)ie[$e+9]=A[C+$e]||0}}}else{const We=new Uint16Array(e,0,Ht.CenterComponentCount),K=new Uint16Array(r,0,Ht.RotationComponentCount),ue=new Uint16Array(t,0,Ht.ScaleComponentCount);if(K.set([Aa(s.x),Aa(s.y),Aa(s.z),Aa(s.w)]),ue.set([Aa(o.x),Aa(o.y),Aa(o.z)]),l.set(A[c],A[u],A[d]).sub(F),l.x=T(l.x,D,H),l.y=T(l.y,D,H),l.z=T(l.z,D,H),We.set([l.x,l.y,l.z]),N>0){const ie=k===1?Uint16Array:Uint8Array,$e=k===1?2:1,Ne=new ie(a,0,W);if(N>=1){for(let ce=0;ce<9;ce++){const he=A[M+ce]||0;Ne[ce]=k===1?Aa(he):zb(he,z,B)}const Ye=9*$e;if(hv(Ne.buffer,0,I,De,Ye),N>=2){for(let ce=0;ce<15;ce++){const he=A[C+ce]||0;Ne[ce+9]=k===1?Aa(he):zb(he,z,B)}hv(Ne.buffer,Ye,I,De+Ye,15*$e)}}}hv(We.buffer,0,I,fe,6),hv(ue.buffer,0,I,de,6),hv(K.buffer,0,I,me,8)}const Ge=new Uint8ClampedArray(i,0,4);Ge.set([A[b]||0,A[_]||0,A[w]||0]),Ge[3]=A[x]||0,hv(Ge.buffer,0,I,Re,4)}}());let Xn=Ht;const GW=new Uint8Array([112,108,121,10]),WW=new Uint8Array([10,101,110,100,95,104,101,97,100,101,114,10]),JI="end_header",eR=new Map([["char",Int8Array],["uchar",Uint8Array],["short",Int16Array],["ushort",Uint16Array],["int",Int32Array],["uint",Uint32Array],["float",Float32Array],["double",Float64Array]]),su=(n,e)=>{const t=(1<<e)-1;return(n&t)/t},qW=(n,e)=>{n.x=su(e>>>21,11),n.y=su(e>>>11,10),n.z=su(e,11)},Lct=(n,e)=>{n.x=su(e>>>24,8),n.y=su(e>>>16,8),n.z=su(e>>>8,8),n.w=su(e,8)},Dct=(n,e)=>{const t=1/(Math.sqrt(2)*.5),r=(su(e>>>20,10)-.5)*t,i=(su(e>>>10,10)-.5)*t,a=(su(e,10)-.5)*t,s=Math.sqrt(1-(r*r+i*i+a*a));switch(e>>>30){case 0:n.set(s,r,i,a);break;case 1:n.set(r,s,i,a);break;case 2:n.set(r,i,s,a);break;case 3:n.set(r,i,a,s);break}},pv=(n,e,t)=>n*(1-t)+e*t,Ss=(n,e)=>{var t;return(t=n.properties.find(r=>r.name===e&&r.storage))==null?void 0:t.storage},Cs=class Cs{static decodeHeaderText(e){let t,r,i;const a=e.split(`
`).filter(l=>!l.startsWith("comment "));let s=0,o=!1;for(let l=1;l<a.length;++l){const c=a[l].split(" ");switch(c[0]){case"format":if(c[1]!=="binary_little_endian")throw new Error("Unsupported ply format");break;case"element":t={name:c[1],count:parseInt(c[2],10),properties:[],storageSizeBytes:0},t.name==="chunk"?r=t:t.name==="vertex"&&(i=t);break;case"property":{if(!eR.has(c[1]))throw new Error(`Unrecognized property data type '${c[1]}' in ply header`);const u=eR.get(c[1]),d=u.BYTES_PER_ELEMENT*t.count;t.name==="vertex"&&(s+=u.BYTES_PER_ELEMENT),t.properties.push({type:c[1],name:c[2],storage:null,byteSize:u.BYTES_PER_ELEMENT,storageSizeByes:d}),t.storageSizeBytes+=d;break}case JI:o=!0;break;default:throw new Error(`Unrecognized header value '${c[0]}' in ply header`)}if(o)break}return{chunkElement:r,vertexElement:i,bytesPerSplat:s,headerSizeBytes:e.indexOf(JI)+JI.length+1,sphericalHarmonicsDegree:0}}static decodeHeader(e){const t=(u,d)=>{const f=u.length-d.length;let h,p;for(h=0;h<=f;++h){for(p=0;p<d.length&&u[h+p]===d[p];++p);if(p===d.length)return h}return-1},r=(u,d)=>{if(u.length<d.length)return!1;for(let f=0;f<d.length;++f)if(u[f]!==d[f])return!1;return!0};let i=new Uint8Array(e),a;if(i.length>=GW.length&&!r(i,GW))throw new Error("Invalid PLY header");if(a=t(i,WW),a===-1)throw new Error("End of PLY header not found");const s=new TextDecoder("ascii").decode(i.slice(0,a)),{chunkElement:o,vertexElement:l,bytesPerSplat:c}=Cs.decodeHeaderText(s);return{headerSizeBytes:a+WW.length,bytesPerSplat:c,chunkElement:o,vertexElement:l}}static readElementData(e,t,r,i,a,s=null){let o=t instanceof DataView?t:new DataView(t);i=i||0,a=a||e.count-1;for(let l=i;l<=a;++l)for(let c=0;c<e.properties.length;++c){const u=e.properties[c],d=eR.get(u.type),f=d.BYTES_PER_ELEMENT*e.count;if((!u.storage||u.storage.byteLength<f)&&(!s||s(u.name))&&(u.storage=new d(e.count)),u.storage)switch(u.type){case"char":u.storage[l]=o.getInt8(r);break;case"uchar":u.storage[l]=o.getUint8(r);break;case"short":u.storage[l]=o.getInt16(r,!0);break;case"ushort":u.storage[l]=o.getUint16(r,!0);break;case"int":u.storage[l]=o.getInt32(r,!0);break;case"uint":u.storage[l]=o.getUint32(r,!0);break;case"float":u.storage[l]=o.getFloat32(r,!0);break;case"double":u.storage[l]=o.getFloat64(r,!0);break}r+=u.byteSize}return r}static readPly(e,t=null){const r=Cs.decodeHeader(e);let i=Cs.readElementData(r.chunkElement,e,r.headerSizeBytes,null,null,t);return Cs.readElementData(r.vertexElement,e,i,null,null,t),{chunkElement:r.chunkElement,vertexElement:r.vertexElement}}static getElementStorageArrays(e,t){const r=Ss(e,"min_x"),i=Ss(e,"min_y"),a=Ss(e,"min_z"),s=Ss(e,"max_x"),o=Ss(e,"max_y"),l=Ss(e,"max_z"),c=Ss(e,"min_scale_x"),u=Ss(e,"min_scale_y"),d=Ss(e,"min_scale_z"),f=Ss(e,"max_scale_x"),h=Ss(e,"max_scale_y"),p=Ss(e,"max_scale_z"),m=Ss(t,"packed_position"),g=Ss(t,"packed_rotation"),v=Ss(t,"packed_scale"),y=Ss(t,"packed_color");return{positionExtremes:{minX:r,maxX:s,minY:i,maxY:o,minZ:a,maxZ:l},scaleExtremes:{minScaleX:c,maxScaleX:f,minScaleY:u,maxScaleY:h,minScaleZ:d,maxScaleZ:p},position:m,rotation:g,scale:v,color:y}}static parseToUncompressedSplatBufferSection(e,t,r,i,a,s,o,l,c,u=null){Cs.readElementData(t,s,o,r,i,u);const d=Xn.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat,{positionExtremes:f,scaleExtremes:h,position:p,rotation:m,scale:g,color:v}=Cs.getElementStorageArrays(e,t),y=qn.createSplat();for(let b=r;b<=i;++b){Cs.decompressSplat(b,a,p,f,g,h,m,v,y);const _=b*d+c;Xn.writeSplatDataToSectionBuffer(y,l,_,0,0)}}static parseToUncompressedSplatArraySection(e,t,r,i,a,s,o,l,c=null){Cs.readElementData(t,s,o,r,i,c);const{positionExtremes:u,scaleExtremes:d,position:f,rotation:h,scale:p,color:m}=Cs.getElementStorageArrays(e,t);for(let g=r;g<=i;++g){const v=qn.createSplat();Cs.decompressSplat(g,a,f,u,p,d,h,m,v),l.addSplat(v)}}static parseToUncompressedSplatArray(e){const{chunkElement:t,vertexElement:r}=Cs.readPly(e),i=new qn,{positionExtremes:a,scaleExtremes:s,position:o,rotation:l,scale:c,color:u}=Cs.getElementStorageArrays(t,r);for(let f=0;f<r.count;++f){i.addDefaultSplat();const h=i.getSplat(i.splatCount-1);Cs.decompressSplat(f,0,o,a,c,s,l,u,h)}return new ur().identity(),i}};cn(Cs,"decompressSplat",function(){const e=new tt,t=new Yi,r=new tt,i=new Vi,a=qn.OFFSET;return function(s,o,l,c,u,d,f,h,p){p=p||qn.createSplat();const m=Math.floor((o+s)/256);return qW(e,l[s]),Dct(t,f[s]),qW(r,u[s]),Lct(i,h[s]),p[a.X]=pv(c.minX[m],c.maxX[m],e.x),p[a.Y]=pv(c.minY[m],c.maxY[m],e.y),p[a.Z]=pv(c.minZ[m],c.maxZ[m],e.z),p[a.ROTATION0]=t.x,p[a.ROTATION1]=t.y,p[a.ROTATION2]=t.z,p[a.ROTATION3]=t.w,p[a.SCALE0]=Math.exp(pv(d.minScaleX[m],d.maxScaleX[m],r.x)),p[a.SCALE1]=Math.exp(pv(d.minScaleY[m],d.maxScaleY[m],r.y)),p[a.SCALE2]=Math.exp(pv(d.minScaleZ[m],d.maxScaleZ[m],r.z)),p[a.FDC0]=os(Math.floor(i.x*255),0,255),p[a.FDC1]=os(Math.floor(i.y*255),0,255),p[a.FDC2]=os(Math.floor(i.z*255),0,255),p[a.OPACITY]=os(Math.floor(i.w*255),0,255),p}}());let n0=Cs;const sh={INRIAV1:0,INRIAV2:1,PlayCanvasCompressed:2},[vae,UO,HO,VO,$O,GO,WO]=[0,1,2,3,4,5,6],KW={double:vae,int:UO,uint:HO,float:VO,short:$O,ushort:GO,uchar:WO},kct={[vae]:8,[UO]:4,[HO]:4,[VO]:4,[$O]:2,[GO]:2,[WO]:1},Uo=class Uo{constructor(){}decodeSectionHeader(e,t,r=0){const i=[];let a=!1,s=-1,o=0,l=!1,c=null;const u=[],d=[],f=[],h={};for(let v=r;v<e.length;v++){const y=e[v].trim();if(y.startsWith("element"))if(a){s--;break}else{a=!0,r=v,s=v;const b=y.split(" ");let _=0;for(let w of b){const x=w.trim();x.length>0&&(_++,_===2?c=x:_===3&&(o=parseInt(x)))}}else if(y.startsWith("property")){const b=y.match(/(\w+)\s+(\w+)\s+(\w+)/);if(b){const _=b[2],w=b[3];f.push(w);const x=t[w];h[w]=_;const M=KW[_];x!==void 0&&(u.push(x),d[x]=M)}}if(y===Uo.HeaderEndToken){l=!0;break}a&&(i.push(y),s++)}const p=[];let m=0;for(let v of f){const y=h[v];if(h.hasOwnProperty(v)){const b=t[v];b!==void 0&&(p[b]=m)}m+=kct[KW[y]]}const g=this.decodeSphericalHarmonicsFromSectionHeader(f,t);return{headerLines:i,headerStartLine:r,headerEndLine:s,fieldTypes:d,fieldIds:u,fieldOffsets:p,bytesPerVertex:m,vertexCount:o,dataSizeBytes:m*o,endOfHeader:l,sectionName:c,sphericalHarmonicsDegree:g.degree,sphericalHarmonicsCoefficientsPerChannel:g.coefficientsPerChannel,sphericalHarmonicsDegree1Fields:g.degree1Fields,sphericalHarmonicsDegree2Fields:g.degree2Fields}}decodeSphericalHarmonicsFromSectionHeader(e,t){let r=0,i=0;for(let l of e)l.startsWith("f_rest")&&r++;i=r/3;let a=0;i>=3&&(a=1),i>=8&&(a=2);let s=[],o=[];for(let l=0;l<3;l++){if(a>=1)for(let c=0;c<3;c++)s.push(t["f_rest_"+(c+i*l)]);if(a>=2)for(let c=0;c<5;c++)o.push(t["f_rest_"+(c+i*l+3)])}return{degree:a,coefficientsPerChannel:i,degree1Fields:s,degree2Fields:o}}static getHeaderSectionNames(e){const t=[];for(let r of e)if(r.startsWith("element")){const i=r.split(" ");let a=0;for(let s of i){const o=s.trim();o.length>0&&(a++,a===2&&t.push(o))}}return t}static checkTextForEndHeader(e){return!!e.includes(Uo.HeaderEndToken)}static checkBufferForEndHeader(e,t,r,i){const a=new Uint8Array(e,Math.max(0,t-r),r),s=i.decode(a);return Uo.checkTextForEndHeader(s)}static extractHeaderFromBufferToText(e){const t=new TextDecoder;let r=0,i="";const a=100;for(;;){if(r+a>=e.byteLength)throw new Error("End of file reached while searching for end of header");const s=new Uint8Array(e,r,a);if(i+=t.decode(s),r+=a,Uo.checkBufferForEndHeader(e,r,a*2,t))break}return i}readHeaderFromBuffer(e){const t=new TextDecoder;let r=0,i="";const a=100;for(;;){if(r+a>=e.byteLength)throw new Error("End of file reached while searching for end of header");const s=new Uint8Array(e,r,a);if(i+=t.decode(s),r+=a,Uo.checkBufferForEndHeader(e,r,a*2,t))break}return i}static convertHeaderTextToLines(e){const t=e.split(`
`),r=[];for(let i=0;i<t.length;i++){const a=t[i].trim();if(r.push(a),a===Uo.HeaderEndToken)break}return r}static determineHeaderFormatFromHeaderText(e){const t=Uo.convertHeaderTextToLines(e);let r=sh.INRIAV1;for(let i=0;i<t.length;i++){const a=t[i].trim();if(a.startsWith("element chunk")||a.match(/[A-Za-z]*packed_[A-Za-z]*/))r=sh.PlayCanvasCompressed;else if(a.startsWith("element codebook_centers"))r=sh.INRIAV2;else if(a===Uo.HeaderEndToken)break}return r}static determineHeaderFormatFromPlyBuffer(e){const t=Uo.extractHeaderFromBufferToText(e);return Uo.determineHeaderFormatFromHeaderText(t)}static readVertex(e,t,r,i,a,s,o=!0){const l=r*t.bytesPerVertex+i,c=t.fieldOffsets,u=t.fieldTypes;for(let d of a){const f=u[d];f===VO?s[d]=e.getFloat32(l+c[d],!0):f===$O?s[d]=e.getInt16(l+c[d],!0):f===GO?s[d]=e.getUint16(l+c[d],!0):f===UO?s[d]=e.getInt32(l+c[d],!0):f===HO?s[d]=e.getUint32(l+c[d],!0):f===WO&&(o?s[d]=e.getUint8(l+c[d])/255:s[d]=e.getUint8(l+c[d]))}}};cn(Uo,"HeaderEndToken","end_header");let as=Uo;const gae=["scale_0","scale_1","scale_2","rot_0","rot_1","rot_2","rot_3","x","y","z","f_dc_0","f_dc_1","f_dc_2","opacity","red","green","blue","f_rest_0"],Oct=gae.map((n,e)=>e),[YW,Nct,Bct,Fct,zct,Uct,Hct,Vct,$ct,Gct,XW,Wct,qct,jW,ZW,Kct,Yct,Xct]=Oct,zp=class zp{constructor(){this.plyParserutils=new as}decodeHeaderLines(e){let t=0;e.forEach(u=>{u.includes("f_rest_")&&t++});let r=0;t>=45?r=45:t>=24?r=24:t>=9&&(r=9);let a=Array.from(Array(Math.max(r-1,0))).map((u,d)=>`f_rest_${d+1}`);const s=[...gae,...a],o=s.map((u,d)=>d),l=o.reduce((u,d)=>(u[s[d]]=d,u),{}),c=this.plyParserutils.decodeSectionHeader(e,l,0);return c.splatCount=c.vertexCount,c.bytesPerSplat=c.bytesPerVertex,c.fieldsToReadIndexes=o,c}decodeHeaderText(e){const t=as.convertHeaderTextToLines(e),r=this.decodeHeaderLines(t);return r.headerText=e,r.headerSizeBytes=e.indexOf(as.HeaderEndToken)+as.HeaderEndToken.length+1,r}decodeHeaderFromBuffer(e){const t=this.plyParserutils.readHeaderFromBuffer(e);return this.decodeHeaderText(t)}findSplatData(e,t){return new DataView(e,t.headerSizeBytes)}parseToUncompressedSplatBufferSection(e,t,r,i,a,s,o,l=0){l=Math.min(l,e.sphericalHarmonicsDegree);const c=Xn.CompressionLevels[0].SphericalHarmonicsDegrees[l].BytesPerSplat;for(let u=t;u<=r;u++){const d=zp.parseToUncompressedSplat(i,u,e,a,l),f=u*c+o;Xn.writeSplatDataToSectionBuffer(d,s,f,0,l)}}parseToUncompressedSplatArraySection(e,t,r,i,a,s,o=0){o=Math.min(o,e.sphericalHarmonicsDegree);for(let l=t;l<=r;l++){const c=zp.parseToUncompressedSplat(i,l,e,a,o);s.addSplat(c)}}decodeSectionSplatData(e,t,r,i){i=Math.min(i,r.sphericalHarmonicsDegree);const a=new qn(i);for(let s=0;s<t;s++){const o=zp.parseToUncompressedSplat(e,s,r,0,i);a.addSplat(o)}return a}static readSplat(e,t,r,i,a){return as.readVertex(e,t,r,i,t.fieldsToReadIndexes,a,!0)}parseToUncompressedSplatArray(e,t=0){const r=this.decodeHeaderFromBuffer(e),i=r.splatCount,a=this.findSplatData(e,r);return this.decodeSectionSplatData(a,i,r,t)}};cn(zp,"parseToUncompressedSplat",function(){let e=[];const t=new Yi,r=qn.OFFSET.X,i=qn.OFFSET.Y,a=qn.OFFSET.Z,s=qn.OFFSET.SCALE0,o=qn.OFFSET.SCALE1,l=qn.OFFSET.SCALE2,c=qn.OFFSET.ROTATION0,u=qn.OFFSET.ROTATION1,d=qn.OFFSET.ROTATION2,f=qn.OFFSET.ROTATION3,h=qn.OFFSET.FDC0,p=qn.OFFSET.FDC1,m=qn.OFFSET.FDC2,g=qn.OFFSET.OPACITY,v=[];for(let y=0;y<45;y++)v[y]=qn.OFFSET.FRC0+y;return function(y,b,_,w=0,x=0){x=Math.min(x,_.sphericalHarmonicsDegree),zp.readSplat(y,_,b,w,e);const M=qn.createSplat(x);if(e[YW]!==void 0?(M[s]=Math.exp(e[YW]),M[o]=Math.exp(e[Nct]),M[l]=Math.exp(e[Bct])):(M[s]=.01,M[o]=.01,M[l]=.01),e[XW]!==void 0){const C=.28209479177387814;M[h]=(.5+C*e[XW])*255,M[p]=(.5+C*e[Wct])*255,M[m]=(.5+C*e[qct])*255}else e[ZW]!==void 0?(M[h]=e[ZW]*255,M[p]=e[Kct]*255,M[m]=e[Yct]*255):(M[h]=0,M[p]=0,M[m]=0);if(e[jW]!==void 0&&(M[g]=1/(1+Math.exp(-e[jW]))*255),M[h]=os(Math.floor(M[h]),0,255),M[p]=os(Math.floor(M[p]),0,255),M[m]=os(Math.floor(M[m]),0,255),M[g]=os(Math.floor(M[g]),0,255),x>=1&&e[Xct]!==void 0){for(let C=0;C<9;C++)M[v[C]]=e[_.sphericalHarmonicsDegree1Fields[C]];if(x>=2)for(let C=0;C<15;C++)M[v[9+C]]=e[_.sphericalHarmonicsDegree2Fields[C]]}return t.set(e[Fct],e[zct],e[Uct],e[Hct]),t.normalize(),M[c]=t.x,M[u]=t.y,M[d]=t.z,M[f]=t.w,M[r]=e[Vct],M[i]=e[$ct],M[a]=e[Gct],M}}());let mT=zp;const yae=["features_dc","features_rest_0","features_rest_1","features_rest_2","features_rest_3","features_rest_4","features_rest_5","features_rest_6","features_rest_7","features_rest_8","features_rest_9","features_rest_10","features_rest_11","features_rest_12","features_rest_13","features_rest_14","opacity","scaling","rotation_re","rotation_im"],R2=yae.map((n,e)=>e),[P2,jct,Zct,QW,L2,Qct,tR]=[0,1,4,16,17,18,19],bae=["scale_0","scale_1","scale_2","rot_0","rot_1","rot_2","rot_3","x","y","z","f_dc_0","f_dc_1","f_dc_2","opacity","red","green","blue","f_rest_0","f_rest_1","f_rest_2","f_rest_3","f_rest_4","f_rest_5","f_rest_6","f_rest_7","f_rest_8","f_rest_9","f_rest_10","f_rest_11","f_rest_12","f_rest_13","f_rest_14","f_rest_15","f_rest_16","f_rest_17","f_rest_18","f_rest_19","f_rest_20","f_rest_21","f_rest_22","f_rest_23","f_rest_24","f_rest_25","f_rest_26","f_rest_27","f_rest_28","f_rest_29","f_rest_30","f_rest_31","f_rest_32","f_rest_33","f_rest_34","f_rest_35","f_rest_36","f_rest_37","f_rest_38","f_rest_39","f_rest_40","f_rest_41","f_rest_42","f_rest_43","f_rest_44","f_rest_45"],dD=bae.map((n,e)=>e),[JW,Jct,eut,tut,nut,rut,iut,aut,sut,out,fD,_ae,Sae,eq]=dD,tq=fD,lut=_ae,cut=Sae,D2=n=>{const e=(31744&n)>>10,t=1023&n;return(n>>15?-1:1)*(e?e===31?t?NaN:1/0:Math.pow(2,e-15)*(1+t/1024):t/1024*6103515625e-14)},Gb=class Gb{constructor(){this.plyParserutils=new as}decodeSectionHeadersFromHeaderLines(e){const t=dD.reduce((u,d)=>(u[bae[d]]=d,u),{}),r=R2.reduce((u,d)=>(u[yae[d]]=d,u),{}),i=as.getHeaderSectionNames(e);let a;for(let u=0;u<i.length;u++)i[u]==="codebook_centers"&&(a=u);let s=0,o=!1;const l=[];let c=0;for(;!o;){let u;c===a?u=this.plyParserutils.decodeSectionHeader(e,r,s):u=this.plyParserutils.decodeSectionHeader(e,t,s),o=u.endOfHeader,s=u.headerEndLine+1,o||(u.splatCount=u.vertexCount,u.bytesPerSplat=u.bytesPerVertex),l.push(u),c++}return l}decodeSectionHeadersFromHeaderText(e){const t=as.convertHeaderTextToLines(e);return this.decodeSectionHeadersFromHeaderLines(t)}getSplatCountFromSectionHeaders(e){let t=0;for(let r of e)r.sectionName!=="codebook_centers"&&(t+=r.vertexCount);return t}decodeHeaderFromHeaderText(e){const t=e.indexOf(as.HeaderEndToken)+as.HeaderEndToken.length+1,r=this.decodeSectionHeadersFromHeaderText(e),i=this.getSplatCountFromSectionHeaders(r);return{headerSizeBytes:t,sectionHeaders:r,splatCount:i}}decodeHeaderFromBuffer(e){const t=this.plyParserutils.readHeaderFromBuffer(e);return this.decodeHeaderFromHeaderText(t)}findVertexData(e,t,r){let i=t.headerSizeBytes;for(let a=0;a<r&&a<t.sectionHeaders.length;a++){const s=t.sectionHeaders[a];i+=s.dataSizeBytes}return new DataView(e,i,t.sectionHeaders[r].dataSizeBytes)}decodeCodeBook(e,t){const r=[],i=[];for(let a=0;a<t.vertexCount;a++){as.readVertex(e,t,a,0,R2,r);for(let s of R2){const o=R2[s];let l=i[o];l||(i[o]=l=[]),l.push(r[s])}}for(let a=0;a<i.length;a++){const s=i[a],o=.28209479177387814;for(let l=0;l<s.length;l++){const c=D2(s[l]);a===QW?s[l]=Math.round(1/(1+Math.exp(-c))*255):a===P2?s[l]=Math.round((.5+o*c)*255):a===L2?s[l]=Math.exp(c):s[l]=c}}return i}decodeSectionSplatData(e,t,r,i,a){a=Math.min(a,r.sphericalHarmonicsDegree);const s=new qn(a);for(let o=0;o<t;o++){const l=Gb.parseToUncompressedSplat(e,o,r,i,0,a);s.addSplat(l)}return s}static readSplat(e,t,r,i,a){return as.readVertex(e,t,r,i,dD,a,!1)}parseToUncompressedSplatArray(e,t=0){const r=[],i=this.decodeHeaderFromBuffer(e,t);let a;for(let o=0;o<i.sectionHeaders.length;o++){const l=i.sectionHeaders[o];if(l.sectionName==="codebook_centers"){const c=this.findVertexData(e,i,o);a=this.decodeCodeBook(c,l)}}for(let o=0;o<i.sectionHeaders.length;o++){const l=i.sectionHeaders[o];if(l.sectionName!=="codebook_centers"){const c=l.vertexCount,u=this.findVertexData(e,i,o),d=this.decodeSectionSplatData(u,c,l,a,t);r.push(d)}}const s=new qn(t);for(let o of r)for(let l of o.splats)s.addSplat(l);return s}};cn(Gb,"parseToUncompressedSplat",function(){let e=[];const t=new Yi,r=qn.OFFSET.X,i=qn.OFFSET.Y,a=qn.OFFSET.Z,s=qn.OFFSET.SCALE0,o=qn.OFFSET.SCALE1,l=qn.OFFSET.SCALE2,c=qn.OFFSET.ROTATION0,u=qn.OFFSET.ROTATION1,d=qn.OFFSET.ROTATION2,f=qn.OFFSET.ROTATION3,h=qn.OFFSET.FDC0,p=qn.OFFSET.FDC1,m=qn.OFFSET.FDC2,g=qn.OFFSET.OPACITY,v=[];for(let y=0;y<45;y++)v[y]=qn.OFFSET.FRC0+y;return function(y,b,_,w,x=0,M=0){M=Math.min(M,_.sphericalHarmonicsDegree),Gb.readSplat(y,_,b,x,e);const C=qn.createSplat(M);if(e[JW]!==void 0?(C[s]=w[L2][e[JW]],C[o]=w[L2][e[Jct]],C[l]=w[L2][e[eut]]):(C[s]=.01,C[o]=.01,C[l]=.01),e[fD]!==void 0?(C[h]=w[P2][e[fD]],C[p]=w[P2][e[_ae]],C[m]=w[P2][e[Sae]]):e[tq]!==void 0?(C[h]=e[tq]*255,C[p]=e[lut]*255,C[m]=e[cut]*255):(C[h]=0,C[p]=0,C[m]=0),e[eq]!==void 0&&(C[g]=w[QW][e[eq]]),C[h]=os(Math.floor(C[h]),0,255),C[p]=os(Math.floor(C[p]),0,255),C[m]=os(Math.floor(C[m]),0,255),C[g]=os(Math.floor(C[g]),0,255),M>=1&&_.sphericalHarmonicsDegree>=1){for(let k=0;k<9;k++){const N=w[jct+k%3];C[v[k]]=N[e[_.sphericalHarmonicsDegree1Fields[k]]]}if(M>=2&&_.sphericalHarmonicsDegree>=2)for(let k=0;k<15;k++){const N=w[Zct+k%5];C[v[9+k]]=N[e[_.sphericalHarmonicsDegree2Fields[k]]]}}const T=w[Qct][e[tut]],A=w[tR][e[nut]],I=w[tR][e[rut]],L=w[tR][e[iut]];return t.set(T,A,I,L),t.normalize(),C[c]=t.x,C[u]=t.y,C[d]=t.z,C[f]=t.w,C[r]=D2(e[aut]),C[i]=D2(e[sut]),C[a]=D2(e[out]),C}}());let hD=Gb;class uut{static parseToUncompressedSplatArray(e,t=0){const r=as.determineHeaderFormatFromPlyBuffer(e);if(r===sh.PlayCanvasCompressed)return n0.parseToUncompressedSplatArray(e);if(r===sh.INRIAV1)return new mT().parseToUncompressedSplatArray(e,t);if(r===sh.INRIAV2)return new hD().parseToUncompressedSplatArray(e,t)}}class qO{constructor(e,t,r,i){this.sectionCount=e,this.sectionFilters=t,this.groupingParameters=r,this.partitionGenerator=i}partitionUncompressedSplatArray(e){let t,r,i;if(this.partitionGenerator){const s=this.partitionGenerator(e);t=s.groupingParameters,r=s.sectionCount,i=s.sectionFilters}else t=this.groupingParameters,r=this.sectionCount,i=this.sectionFilters;const a=[];for(let s=0;s<r;s++){const o=new qn(e.sphericalHarmonicsDegree),l=i[s];for(let c=0;c<e.splatCount;c++)l(c)&&o.addSplat(e.splats[c]);a.push(o)}return{splatArrays:a,parameters:t}}static getStandardPartitioner(e=0,t=new tt,r=Xn.BucketBlockSize,i=Xn.BucketSize){const a=s=>{const o=qn.OFFSET.X,l=qn.OFFSET.Y,c=qn.OFFSET.Z;e<=0&&(e=s.splatCount);const u=new tt,d=.5,f=v=>{v.x=Math.floor(v.x/d)*d,v.y=Math.floor(v.y/d)*d,v.z=Math.floor(v.z/d)*d};s.splats.forEach(v=>{u.set(v[o],v[l],v[c]).sub(t),f(u),v.centerDist=u.lengthSq()}),s.splats.sort((v,y)=>{let b=v.centerDist,_=y.centerDist;return b>_?1:-1});const h=[],p=[];e=Math.min(s.splatCount,e);const m=Math.ceil(s.splatCount/e);let g=0;for(let v=0;v<m;v++){let y=g;h.push(b=>b>=y&&b<y+e),p.push({blocksSize:r,bucketSize:i}),g+=e}return{sectionCount:h.length,sectionFilters:h,groupingParameters:p}};return new qO(void 0,void 0,void 0,a)}}class GA{constructor(e,t,r,i,a,s,o){this.splatPartitioner=e,this.alphaRemovalThreshold=t,this.compressionLevel=r,this.sectionSize=i,this.sceneCenter=a?new tt().copy(a):void 0,this.blockSize=s,this.bucketSize=o}generateFromUncompressedSplatArray(e){const t=this.splatPartitioner.partitionUncompressedSplatArray(e);return Xn.generateFromUncompressedSplatArrays(t.splatArrays,this.alphaRemovalThreshold,this.compressionLevel,this.sceneCenter,this.blockSize,this.bucketSize,t.parameters)}static getStandardGenerator(e=1,t=1,r=0,i=new tt,a=Xn.BucketBlockSize,s=Xn.BucketSize){const o=qO.getStandardPartitioner(r,i,a,s);return new GA(o,e,t,r,i,a,s)}}const Ia={Downloading:0,Processing:1,Done:2};class KO extends Error{constructor(e){super(e)}}const ea={DirectToSplatBuffer:0,DirectToSplatArray:1,DownloadBeforeProcessing:2};function nq(n,e){let t=0;for(let i of n)t+=i.sizeBytes;(!e||e.byteLength<t)&&(e=new ArrayBuffer(t));let r=0;for(let i of n)new Uint8Array(e,r,i.sizeBytes).set(i.data),r+=i.sizeBytes;return e}function rq(n,e,t,r,i,a,s,o){return e?GA.getStandardGenerator(t,r,i,a,s,o).generateFromUncompressedSplatArray(n):Xn.generateFromUncompressedSplatArrays([n],t,0,new tt)}class YO{static loadFromURL(e,t,r,i,a,s,o=!0,l=0,c,u,d,f,h){let p=r?ea.DirectToSplatBuffer:ea.DirectToSplatArray;o&&(p=ea.DirectToSplatArray);const m=Fr.ProgressiveLoadSectionSize,g=Xn.HeaderSizeBytes+Xn.SectionHeaderSizeBytes,v=1;let y,b,_,w,x=0,M=0,C=!1,T=!1,A=!1;const I=NO();let L=0,k=0,N=0,F="",D=null,H=[],z;const B=new TextDecoder,W=new mT,Z=(ee,J,re)=>{const fe=ee>=100;if(re&&(H.push({data:re,sizeBytes:re.byteLength,startBytes:N,endBytes:N+re.byteLength}),N+=re.byteLength),p===ea.DownloadBeforeProcessing)fe&&I.resolve(H);else{if(C){if(A&&!T){const de=D.headerSizeBytes+D.chunkElement.storageSizeBytes;w=nq(H,w),w.byteLength>=de&&(n0.readElementData(D.chunkElement,w,D.headerSizeBytes),L=de,k=de,T=!0)}}else if(F+=B.decode(re),as.checkTextForEndHeader(F)){const de=as.determineHeaderFormatFromHeaderText(F);if(de===sh.INRIAV1)D=W.decodeHeaderText(F),x=D.splatCount,T=!0,A=!1;else if(de===sh.PlayCanvasCompressed)D=n0.decodeHeaderText(F),x=D.vertexElement.count,A=!0;else{if(r)throw new KO("PlyLoader.loadFromURL() -> Selected Ply format cannot be directly loaded.");p=ea.DownloadBeforeProcessing;return}l=Math.min(l,D.sphericalHarmonicsDegree);const me=Xn.CompressionLevels[0].SphericalHarmonicsDegrees[l],Re=g+me.BytesPerSplat*x;p===ea.DirectToSplatBuffer?(b=new ArrayBuffer(Re),Xn.writeHeaderToBuffer({versionMajor:Xn.CurrentMajorVersion,versionMinor:Xn.CurrentMinorVersion,maxSectionCount:v,sectionCount:v,maxSplatCount:x,splatCount:M,compressionLevel:0,sceneCenter:new tt},b)):z=new qn(l),L=D.headerSizeBytes,k=D.headerSizeBytes,C=!0}if(C&&T){if(H.length>0&&(y=nq(H,y),N-L>m||fe)){const me=N-k,Re=Math.floor(me/D.bytesPerSplat),De=Re*D.bytesPerSplat,Ge=me-De,We=M+Re,K=k-H[0].startBytes,ue=new DataView(y,K,De),ie=Xn.CompressionLevels[0].SphericalHarmonicsDegrees[l],$e=M*ie.BytesPerSplat+g;if(p===ea.DirectToSplatBuffer?A?n0.parseToUncompressedSplatBufferSection(D.chunkElement,D.vertexElement,0,Re-1,M,ue,0,b,$e):W.parseToUncompressedSplatBufferSection(D,0,Re-1,ue,0,b,$e,l):A?n0.parseToUncompressedSplatArraySection(D.chunkElement,D.vertexElement,0,Re-1,M,ue,0,z):W.parseToUncompressedSplatArraySection(D,0,Re-1,ue,0,z,l),M=We,p===ea.DirectToSplatBuffer&&(_||(Xn.writeSectionHeaderToBuffer({maxSplatCount:x,splatCount:M,bucketSize:0,bucketCount:0,bucketBlockSize:0,compressionScaleRange:0,storageSizeBytes:0,fullBucketCount:0,partiallyFilledBucketCount:0,sphericalHarmonicsDegree:l},0,b,Xn.HeaderSizeBytes),_=new Xn(b,!1)),_.updateLoadedCounts(1,M),i&&i(_,fe)),L+=m,k+=De,Ge===0)H=[];else{let Ne=[],Ye=0;for(let ce=H.length-1;ce>=0;ce--){const he=H[ce];if(Ye+=he.sizeBytes,Ne.unshift(he),Ye>=Ge)break}H=Ne}}fe&&(p===ea.DirectToSplatBuffer?I.resolve(_):I.resolve(z))}}t&&t(ee,J,Ia.Downloading)};return t&&t(0,"0%",Ia.Downloading),OO(e,Z,!1,c).then(()=>(t&&t(0,"0%",Ia.Processing),I.promise.then(ee=>{if(t&&t(100,"100%",Ia.Done),p===ea.DownloadBeforeProcessing){const J=H.map(re=>re.data);return new Blob(J).arrayBuffer().then(re=>YO.loadFromFileData(re,a,s,o,l,u,d,f,h))}else return p===ea.DirectToSplatBuffer?ee:Sc(()=>rq(ee,o,a,s,u,d,f,h))})))}static loadFromFileData(e,t,r,i,a=0,s,o,l,c){return Sc(()=>uut.parseToUncompressedSplatArray(e,a)).then(u=>rq(u,i,t,r,s,o,l,c))}}const vi=class vi{static parseToUncompressedSplatBufferSection(e,t,r,i,a,s){const o=Xn.CompressionLevels[0].BytesPerCenter,l=Xn.CompressionLevels[0].BytesPerScale,c=Xn.CompressionLevels[0].BytesPerRotation,u=Xn.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat;for(let d=e;d<=t;d++){const f=d*vi.RowSizeBytes+i,h=new Float32Array(r,f,3),p=new Float32Array(r,f+vi.CenterSizeBytes,3),m=new Uint8Array(r,f+vi.CenterSizeBytes+vi.ScaleSizeBytes,4),g=new Uint8Array(r,f+vi.CenterSizeBytes+vi.ScaleSizeBytes+vi.RotationSizeBytes,4),v=new Yi((g[1]-128)/128,(g[2]-128)/128,(g[3]-128)/128,(g[0]-128)/128);v.normalize();const y=d*u+s,b=new Float32Array(a,y,3),_=new Float32Array(a,y+o,3),w=new Float32Array(a,y+o+l,4),x=new Uint8Array(a,y+o+l+c,4);b[0]=h[0],b[1]=h[1],b[2]=h[2],_[0]=p[0],_[1]=p[1],_[2]=p[2],w[0]=v.w,w[1]=v.x,w[2]=v.y,w[3]=v.z,x[0]=m[0],x[1]=m[1],x[2]=m[2],x[3]=m[3]}}static parseToUncompressedSplatArraySection(e,t,r,i,a){for(let s=e;s<=t;s++){const o=s*vi.RowSizeBytes+i,l=new Float32Array(r,o,3),c=new Float32Array(r,o+vi.CenterSizeBytes,3),u=new Uint8Array(r,o+vi.CenterSizeBytes+vi.ScaleSizeBytes,4),d=new Uint8Array(r,o+vi.CenterSizeBytes+vi.ScaleSizeBytes+vi.RotationSizeBytes,4),f=new Yi((d[1]-128)/128,(d[2]-128)/128,(d[3]-128)/128,(d[0]-128)/128);f.normalize(),a.addSplatFromComonents(l[0],l[1],l[2],c[0],c[1],c[2],f.w,f.x,f.y,f.z,u[0],u[1],u[2],u[3])}}static parseStandardSplatToUncompressedSplatArray(e){const t=e.byteLength/vi.RowSizeBytes,r=new qn;for(let i=0;i<t;i++){const a=i*vi.RowSizeBytes,s=new Float32Array(e,a,3),o=new Float32Array(e,a+vi.CenterSizeBytes,3),l=new Uint8Array(e,a+vi.CenterSizeBytes+vi.ScaleSizeBytes,4),c=new Uint8Array(e,a+vi.CenterSizeBytes+vi.ScaleSizeBytes+vi.ColorSizeBytes,4),u=new Yi((c[1]-128)/128,(c[2]-128)/128,(c[3]-128)/128,(c[0]-128)/128);u.normalize(),r.addSplatFromComonents(s[0],s[1],s[2],o[0],o[1],o[2],u.w,u.x,u.y,u.z,l[0],l[1],l[2],l[3])}return r}};cn(vi,"RowSizeBytes",32),cn(vi,"CenterSizeBytes",12),cn(vi,"ScaleSizeBytes",12),cn(vi,"RotationSizeBytes",4),cn(vi,"ColorSizeBytes",4);let Bp=vi;function iq(n,e,t,r,i,a,s,o){return e?GA.getStandardGenerator(t,r,i,a,s,o).generateFromUncompressedSplatArray(n):Xn.generateFromUncompressedSplatArrays([n],t,0,new tt)}class XO{static loadFromURL(e,t,r,i,a,s,o=!0,l,c,u,d,f){let h=r?ea.DirectToSplatBuffer:ea.DirectToSplatArray;o&&(h=ea.DirectToSplatArray);const p=Xn.HeaderSizeBytes+Xn.SectionHeaderSizeBytes,m=Fr.ProgressiveLoadSectionSize,g=1;let v,y,b,_=0,w=0,x;const M=NO();let C=0,T=0,A=[];const I=(L,k,N,F)=>{const D=L>=100;if(N&&A.push(N),h===ea.DownloadBeforeProcessing){D&&M.resolve(A);return}if(!F){if(r)throw new KO("Cannon directly load .splat because no file size info is available.");h=ea.DownloadBeforeProcessing;return}if(!v){_=F/Bp.RowSizeBytes,v=new ArrayBuffer(F);const H=Xn.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat,z=p+H*_;h===ea.DirectToSplatBuffer?(y=new ArrayBuffer(z),Xn.writeHeaderToBuffer({versionMajor:Xn.CurrentMajorVersion,versionMinor:Xn.CurrentMinorVersion,maxSectionCount:g,sectionCount:g,maxSplatCount:_,splatCount:w,compressionLevel:0,sceneCenter:new tt},y)):x=new qn(0)}if(N){new Uint8Array(v,T,N.byteLength).set(new Uint8Array(N)),T+=N.byteLength;const H=T-C;if(H>m||D){const B=(D?H:m)/Bp.RowSizeBytes,W=w+B;h===ea.DirectToSplatBuffer?Bp.parseToUncompressedSplatBufferSection(w,W-1,v,0,y,p):Bp.parseToUncompressedSplatArraySection(w,W-1,v,0,x),w=W,h===ea.DirectToSplatBuffer&&(b||(Xn.writeSectionHeaderToBuffer({maxSplatCount:_,splatCount:w,bucketSize:0,bucketCount:0,bucketBlockSize:0,compressionScaleRange:0,storageSizeBytes:0,fullBucketCount:0,partiallyFilledBucketCount:0},0,y,Xn.HeaderSizeBytes),b=new Xn(y,!1)),b.updateLoadedCounts(1,w),i&&i(b,D)),C+=m}}D&&(h===ea.DirectToSplatBuffer?M.resolve(b):M.resolve(x)),t&&t(L,k,Ia.Downloading)};return t&&t(0,"0%",Ia.Downloading),OO(e,I,!1,l).then(()=>(t&&t(0,"0%",Ia.Processing),M.promise.then(L=>(t&&t(100,"100%",Ia.Done),h===ea.DownloadBeforeProcessing?new Blob(A).arrayBuffer().then(k=>XO.loadFromFileData(k,a,s,o,c,u,d,f)):h===ea.DirectToSplatBuffer?L:Sc(()=>iq(L,o,a,s,c,u,d,f))))))}static loadFromFileData(e,t,r,i,a,s,o,l){return Sc(()=>{const c=Bp.parseStandardSplatToUncompressedSplatArray(e);return iq(c,i,t,r,a,s,o,l)})}}const Wv=class Wv{static checkVersion(e){const t=Xn.CurrentMajorVersion,r=Xn.CurrentMinorVersion,i=Xn.parseHeader(e);if(i.versionMajor===t&&i.versionMinor>=r||i.versionMajor>t)return!0;throw new Error(`KSplat version not supported: v${i.versionMajor}.${i.versionMinor}. Minimum required: v${t}.${r}`)}static loadFromURL(e,t,r,i,a){let s,o,l,c,u=!1,d=!1,f,h=[],p=!1,m=!1,g=0,v=0,y=0,b=!1,_=!1,w=!1,x=[];const M=NO(),C=()=>{!u&&!d&&g>=Xn.HeaderSizeBytes&&(d=!0,new Blob(x).arrayBuffer().then(F=>{l=new ArrayBuffer(Xn.HeaderSizeBytes),new Uint8Array(l).set(new Uint8Array(F,0,Xn.HeaderSizeBytes)),Wv.checkVersion(l),d=!1,u=!0,c=Xn.parseHeader(l),window.setTimeout(()=>{I()},1)}))};let T=0;const A=()=>{T===0&&(T++,window.setTimeout(()=>{T--,L()},1))},I=()=>{const N=()=>{m=!0,new Blob(x).arrayBuffer().then(D=>{m=!1,p=!0,f=new ArrayBuffer(c.maxSectionCount*Xn.SectionHeaderSizeBytes),new Uint8Array(f).set(new Uint8Array(D,Xn.HeaderSizeBytes,c.maxSectionCount*Xn.SectionHeaderSizeBytes)),h=Xn.parseSectionHeaders(c,f,0,!1);let H=0;for(let B=0;B<c.maxSectionCount;B++)H+=h[B].storageSizeBytes;const z=Xn.HeaderSizeBytes+c.maxSectionCount*Xn.SectionHeaderSizeBytes+H;if(!s){s=new ArrayBuffer(z);let B=0;for(let W=0;W<x.length;W++){const Z=x[W];new Uint8Array(s,B,Z.byteLength).set(new Uint8Array(Z)),B+=Z.byteLength}}y=Xn.HeaderSizeBytes+Xn.SectionHeaderSizeBytes*c.maxSectionCount;for(let B=0;B<=h.length&&B<c.maxSectionCount;B++)y+=h[B].storageSizeBytes;A()})};!m&&!p&&u&&g>=Xn.HeaderSizeBytes+Xn.SectionHeaderSizeBytes*c.maxSectionCount&&N()},L=()=>{if(w)return;w=!0;const N=()=>{if(w=!1,p){if(_)return;if(b=g>=y,g-v>Fr.ProgressiveLoadSectionSize||b){v+=Fr.ProgressiveLoadSectionSize,_=v>=y,o||(o=new Xn(s,!1));const D=Xn.HeaderSizeBytes+Xn.SectionHeaderSizeBytes*c.maxSectionCount;let H=0,z=0,B=0;for(let ee=0;ee<c.maxSectionCount;ee++){const J=h[ee],re=H+J.partiallyFilledBucketCount*4+J.bucketStorageSizeBytes*J.bucketCount,fe=D+re;if(v>=fe){z++;const de=v-fe,De=Xn.CompressionLevels[c.compressionLevel].SphericalHarmonicsDegrees[J.sphericalHarmonicsDegree].BytesPerSplat;let Ge=Math.floor(de/De);Ge=Math.min(Ge,J.maxSplatCount),B+=Ge,o.updateLoadedCounts(z,B),o.updateSectionLoadedCounts(ee,Ge)}else break;H+=J.storageSizeBytes}i(o,_);const W=v/y*100,Z=W.toFixed(2)+"%";t&&t(W,Z,Ia.Downloading),_?M.resolve(o):L()}}};window.setTimeout(N,Fr.ProgressiveLoadSectionDelayDuration)};return OO(e,(N,F,D)=>{D&&(x.push(D),s&&new Uint8Array(s,g,D.byteLength).set(new Uint8Array(D)),g+=D.byteLength),r?(C(),I(),L()):t&&t(N,F,Ia.Downloading)},!r,a).then(N=>(t&&t(0,"0%",Ia.Processing),(r?M.promise:Wv.loadFromFileData(N)).then(D=>(t&&t(100,"100%",Ia.Done),D))))}static loadFromFileData(e){return Sc(()=>(Wv.checkVersion(e),new Xn(e)))}};cn(Wv,"downloadFile",function(){let e;return function(t,r){const i=new Blob([t.bufferData],{type:"application/octet-stream"});e||(e=document.createElement("a"),document.body.appendChild(e)),e.download=r,e.href=URL.createObjectURL(i),e.click()}}());let pD=Wv;const od={Splat:0,KSplat:1,Ply:2},aq=n=>n.endsWith(".ply")?od.Ply:n.endsWith(".splat")?od.Splat:n.endsWith(".ksplat")?od.KSplat:null,sq={type:"change"},nR={type:"start"},oq={type:"end"},k2=new Jie,lq=new Nf,dut=Math.cos(70*Xie.DEG2RAD);class O2 extends rm{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new tt,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"KeyA",UP:"KeyW",RIGHT:"KeyD",BOTTOM:"KeyS"},this.mouseButtons={LEFT:jm.ROTATE,MIDDLE:jm.DOLLY,RIGHT:jm.PAN},this.touches={ONE:Zm.ROTATE,TWO:Zm.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(G){G.addEventListener("keydown",Q),this._domElementKeyEvents=G},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Q),this._domElementKeyEvents=null},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,this.clearDampedRotation(),this.clearDampedPan(),r.object.updateProjectionMatrix(),r.dispatchEvent(sq),r.update(),a=i.NONE},this.clearDampedRotation=function(){l.theta=0,l.phi=0},this.clearDampedPan=function(){u.set(0,0,0)},this.update=function(){const G=new tt,ye=new Yi().setFromUnitVectors(e.up,new tt(0,1,0)),ve=ye.clone().invert(),Le=new tt,be=new Yi,Te=new tt,ht=2*Math.PI;return function(){ye.setFromUnitVectors(e.up,new tt(0,1,0)),ve.copy(ye).invert();const bt=r.object.position;G.copy(bt).sub(r.target),G.applyQuaternion(ye),o.setFromVector3(G),r.autoRotate&&a===i.NONE&&I(T()),r.enableDamping?(o.theta+=l.theta*r.dampingFactor,o.phi+=l.phi*r.dampingFactor):(o.theta+=l.theta,o.phi+=l.phi);let nt=r.minAzimuthAngle,vt=r.maxAzimuthAngle;isFinite(nt)&&isFinite(vt)&&(nt<-Math.PI?nt+=ht:nt>Math.PI&&(nt-=ht),vt<-Math.PI?vt+=ht:vt>Math.PI&&(vt-=ht),nt<=vt?o.theta=Math.max(nt,Math.min(vt,o.theta)):o.theta=o.theta>(nt+vt)/2?Math.max(nt,o.theta):Math.min(vt,o.theta)),o.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,o.phi)),o.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(u,r.dampingFactor):r.target.add(u),r.zoomToCursor&&x||r.object.isOrthographicCamera?o.radius=B(o.radius):o.radius=B(o.radius*c),G.setFromSpherical(o),G.applyQuaternion(ve),bt.copy(r.target).add(G),r.object.lookAt(r.target),r.enableDamping===!0?(l.theta*=1-r.dampingFactor,l.phi*=1-r.dampingFactor,u.multiplyScalar(1-r.dampingFactor)):(l.set(0,0,0),u.set(0,0,0));let kt=!1;if(r.zoomToCursor&&x){let Tt=null;if(r.object.isPerspectiveCamera){const an=G.length();Tt=B(an*c);const _n=an-Tt;r.object.position.addScaledVector(_,_n),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const an=new tt(w.x,w.y,0);an.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/c)),r.object.updateProjectionMatrix(),kt=!0;const _n=new tt(w.x,w.y,0);_n.unproject(r.object),r.object.position.sub(_n).add(an),r.object.updateMatrixWorld(),Tt=G.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Tt!==null&&(this.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Tt).add(r.object.position):(k2.origin.copy(r.object.position),k2.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(k2.direction))<dut?e.lookAt(r.target):(lq.setFromNormalAndCoplanarPoint(r.object.up,r.target),k2.intersectPlane(lq,r.target))))}else r.object.isOrthographicCamera&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/c)),r.object.updateProjectionMatrix(),kt=!0);return c=1,x=!1,kt||Le.distanceToSquared(r.object.position)>s||8*(1-be.dot(r.object.quaternion))>s||Te.distanceToSquared(r.target)>0?(r.dispatchEvent(sq),Le.copy(r.object.position),be.copy(r.object.quaternion),Te.copy(r.target),kt=!1,!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",ct),r.domElement.removeEventListener("pointerdown",ce),r.domElement.removeEventListener("pointercancel",ke),r.domElement.removeEventListener("wheel",Y),r.domElement.removeEventListener("pointermove",he),r.domElement.removeEventListener("pointerup",ke),r._domElementKeyEvents!==null&&(r._domElementKeyEvents.removeEventListener("keydown",Q),r._domElementKeyEvents=null)};const r=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=i.NONE;const s=1e-6,o=new yW,l=new yW;let c=1;const u=new tt,d=new Hn,f=new Hn,h=new Hn,p=new Hn,m=new Hn,g=new Hn,v=new Hn,y=new Hn,b=new Hn,_=new tt,w=new Hn;let x=!1;const M=[],C={};function T(){return 2*Math.PI/60/60*r.autoRotateSpeed}function A(){return Math.pow(.95,r.zoomSpeed)}function I(G){l.theta-=G}function L(G){l.phi-=G}const k=function(){const G=new tt;return function(ve,Le){G.setFromMatrixColumn(Le,0),G.multiplyScalar(-ve),u.add(G)}}(),N=function(){const G=new tt;return function(ve,Le){r.screenSpacePanning===!0?G.setFromMatrixColumn(Le,1):(G.setFromMatrixColumn(Le,0),G.crossVectors(r.object.up,G)),G.multiplyScalar(ve),u.add(G)}}(),F=function(){const G=new tt;return function(ve,Le){const be=r.domElement;if(r.object.isPerspectiveCamera){const Te=r.object.position;G.copy(Te).sub(r.target);let ht=G.length();ht*=Math.tan(r.object.fov/2*Math.PI/180),k(2*ve*ht/be.clientHeight,r.object.matrix),N(2*Le*ht/be.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(k(ve*(r.object.right-r.object.left)/r.object.zoom/be.clientWidth,r.object.matrix),N(Le*(r.object.top-r.object.bottom)/r.object.zoom/be.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function D(G){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?c/=G:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function H(G){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?c*=G:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function z(G){if(!r.zoomToCursor)return;x=!0;const ye=r.domElement.getBoundingClientRect(),ve=G.clientX-ye.left,Le=G.clientY-ye.top,be=ye.width,Te=ye.height;w.x=ve/be*2-1,w.y=-(Le/Te)*2+1,_.set(w.x,w.y,1).unproject(e).sub(e.position).normalize()}function B(G){return Math.max(r.minDistance,Math.min(r.maxDistance,G))}function W(G){d.set(G.clientX,G.clientY)}function Z(G){z(G),v.set(G.clientX,G.clientY)}function ee(G){p.set(G.clientX,G.clientY)}function J(G){f.set(G.clientX,G.clientY),h.subVectors(f,d).multiplyScalar(r.rotateSpeed);const ye=r.domElement;I(2*Math.PI*h.x/ye.clientHeight),L(2*Math.PI*h.y/ye.clientHeight),d.copy(f),r.update()}function re(G){y.set(G.clientX,G.clientY),b.subVectors(y,v),b.y>0?D(A()):b.y<0&&H(A()),v.copy(y),r.update()}function fe(G){m.set(G.clientX,G.clientY),g.subVectors(m,p).multiplyScalar(r.panSpeed),F(g.x,g.y),p.copy(m),r.update()}function de(G){z(G),G.deltaY<0?H(A()):G.deltaY>0&&D(A()),r.update()}function me(G){let ye=!1;switch(G.code){case r.keys.UP:G.ctrlKey||G.metaKey||G.shiftKey?L(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):F(0,r.keyPanSpeed),ye=!0;break;case r.keys.BOTTOM:G.ctrlKey||G.metaKey||G.shiftKey?L(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):F(0,-r.keyPanSpeed),ye=!0;break;case r.keys.LEFT:G.ctrlKey||G.metaKey||G.shiftKey?I(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):F(r.keyPanSpeed,0),ye=!0;break;case r.keys.RIGHT:G.ctrlKey||G.metaKey||G.shiftKey?I(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):F(-r.keyPanSpeed,0),ye=!0;break}ye&&(G.preventDefault(),r.update())}function Re(){if(M.length===1)d.set(M[0].pageX,M[0].pageY);else{const G=.5*(M[0].pageX+M[1].pageX),ye=.5*(M[0].pageY+M[1].pageY);d.set(G,ye)}}function De(){if(M.length===1)p.set(M[0].pageX,M[0].pageY);else{const G=.5*(M[0].pageX+M[1].pageX),ye=.5*(M[0].pageY+M[1].pageY);p.set(G,ye)}}function Ge(){const G=M[0].pageX-M[1].pageX,ye=M[0].pageY-M[1].pageY,ve=Math.sqrt(G*G+ye*ye);v.set(0,ve)}function We(){r.enableZoom&&Ge(),r.enablePan&&De()}function K(){r.enableZoom&&Ge(),r.enableRotate&&Re()}function ue(G){if(M.length==1)f.set(G.pageX,G.pageY);else{const ve=st(G),Le=.5*(G.pageX+ve.x),be=.5*(G.pageY+ve.y);f.set(Le,be)}h.subVectors(f,d).multiplyScalar(r.rotateSpeed);const ye=r.domElement;I(2*Math.PI*h.x/ye.clientHeight),L(2*Math.PI*h.y/ye.clientHeight),d.copy(f)}function ie(G){if(M.length===1)m.set(G.pageX,G.pageY);else{const ye=st(G),ve=.5*(G.pageX+ye.x),Le=.5*(G.pageY+ye.y);m.set(ve,Le)}g.subVectors(m,p).multiplyScalar(r.panSpeed),F(g.x,g.y),p.copy(m)}function $e(G){const ye=st(G),ve=G.pageX-ye.x,Le=G.pageY-ye.y,be=Math.sqrt(ve*ve+Le*Le);y.set(0,be),b.set(0,Math.pow(y.y/v.y,r.zoomSpeed)),D(b.y),v.copy(y)}function Ne(G){r.enableZoom&&$e(G),r.enablePan&&ie(G)}function Ye(G){r.enableZoom&&$e(G),r.enableRotate&&ue(G)}function ce(G){r.enabled!==!1&&(M.length===0&&(r.domElement.setPointerCapture(G.pointerId),r.domElement.addEventListener("pointermove",he),r.domElement.addEventListener("pointerup",ke)),pt(G),G.pointerType==="touch"?we(G):oe(G))}function he(G){r.enabled!==!1&&(G.pointerType==="touch"?Ue(G):V(G))}function ke(G){Ee(G),M.length===0&&(r.domElement.releasePointerCapture(G.pointerId),r.domElement.removeEventListener("pointermove",he),r.domElement.removeEventListener("pointerup",ke)),r.dispatchEvent(oq),a=i.NONE}function oe(G){let ye;switch(G.button){case 0:ye=r.mouseButtons.LEFT;break;case 1:ye=r.mouseButtons.MIDDLE;break;case 2:ye=r.mouseButtons.RIGHT;break;default:ye=-1}switch(ye){case jm.DOLLY:if(r.enableZoom===!1)return;Z(G),a=i.DOLLY;break;case jm.ROTATE:if(G.ctrlKey||G.metaKey||G.shiftKey){if(r.enablePan===!1)return;ee(G),a=i.PAN}else{if(r.enableRotate===!1)return;W(G),a=i.ROTATE}break;case jm.PAN:if(G.ctrlKey||G.metaKey||G.shiftKey){if(r.enableRotate===!1)return;W(G),a=i.ROTATE}else{if(r.enablePan===!1)return;ee(G),a=i.PAN}break;default:a=i.NONE}a!==i.NONE&&r.dispatchEvent(nR)}function V(G){switch(a){case i.ROTATE:if(r.enableRotate===!1)return;J(G);break;case i.DOLLY:if(r.enableZoom===!1)return;re(G);break;case i.PAN:if(r.enablePan===!1)return;fe(G);break}}function Y(G){r.enabled===!1||r.enableZoom===!1||a!==i.NONE||(G.preventDefault(),r.dispatchEvent(nR),de(G),r.dispatchEvent(oq))}function Q(G){r.enabled===!1||r.enablePan===!1||me(G)}function we(G){switch(ft(G),M.length){case 1:switch(r.touches.ONE){case Zm.ROTATE:if(r.enableRotate===!1)return;Re(),a=i.TOUCH_ROTATE;break;case Zm.PAN:if(r.enablePan===!1)return;De(),a=i.TOUCH_PAN;break;default:a=i.NONE}break;case 2:switch(r.touches.TWO){case Zm.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;We(),a=i.TOUCH_DOLLY_PAN;break;case Zm.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;K(),a=i.TOUCH_DOLLY_ROTATE;break;default:a=i.NONE}break;default:a=i.NONE}a!==i.NONE&&r.dispatchEvent(nR)}function Ue(G){switch(ft(G),a){case i.TOUCH_ROTATE:if(r.enableRotate===!1)return;ue(G),r.update();break;case i.TOUCH_PAN:if(r.enablePan===!1)return;ie(G),r.update();break;case i.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ne(G),r.update();break;case i.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ye(G),r.update();break;default:a=i.NONE}}function ct(G){r.enabled!==!1&&G.preventDefault()}function pt(G){M.push(G)}function Ee(G){delete C[G.pointerId];for(let ye=0;ye<M.length;ye++)if(M[ye].pointerId==G.pointerId){M.splice(ye,1);return}}function ft(G){let ye=C[G.pointerId];ye===void 0&&(ye=new Hn,C[G.pointerId]=ye),ye.set(G.pageX,G.pageY)}function st(G){const ye=G.pointerId===M[0].pointerId?M[1]:M[0];return C[ye.pointerId]}r.domElement.addEventListener("contextmenu",ct),r.domElement.addEventListener("pointerdown",ce),r.domElement.addEventListener("pointercancel",ke),r.domElement.addEventListener("wheel",Y,{passive:!1}),this.update()}}const fut=(n,e,t,r,i)=>{const a=performance.now();let s=n.style.display==="none"?0:parseFloat(n.style.opacity);isNaN(s)&&(s=1);const o=window.setInterval(()=>{const c=performance.now()-a;let u=Math.min(c/r,1);u>.999&&(u=1);let d;e?(d=(1-u)*s,d<1e-4&&(d=0)):d=(1-s)*u+s,d>0?(n.style.display=t,n.style.opacity=d):n.style.display="none",u>=1&&(i&&i(),window.clearInterval(o))},16);return o},hut=500,yT=class yT{constructor(e,t){this.taskIDGen=0,this.elementID=yT.elementIDGen++,this.tasks=[],this.message=e||"Loading...",this.container=t||document.body,this.spinnerContainerOuter=document.createElement("div"),this.spinnerContainerOuter.className=`spinnerOuterContainer${this.elementID}`,this.spinnerContainerOuter.style.display="none",this.spinnerContainerPrimary=document.createElement("div"),this.spinnerContainerPrimary.className=`spinnerContainerPrimary${this.elementID}`,this.spinnerPrimary=document.createElement("div"),this.spinnerPrimary.classList.add(`spinner${this.elementID}`,`spinnerPrimary${this.elementID}`),this.messageContainerPrimary=document.createElement("div"),this.messageContainerPrimary.classList.add(`messageContainer${this.elementID}`,`messageContainerPrimary${this.elementID}`),this.messageContainerPrimary.innerHTML=this.message,this.spinnerContainerMin=document.createElement("div"),this.spinnerContainerMin.className=`spinnerContainerMin${this.elementID}`,this.spinnerMin=document.createElement("div"),this.spinnerMin.classList.add(`spinner${this.elementID}`,`spinnerMin${this.elementID}`),this.messageContainerMin=document.createElement("div"),this.messageContainerMin.classList.add(`messageContainer${this.elementID}`,`messageContainerMin${this.elementID}`),this.messageContainerMin.innerHTML=this.message,this.spinnerContainerPrimary.appendChild(this.spinnerPrimary),this.spinnerContainerPrimary.appendChild(this.messageContainerPrimary),this.spinnerContainerOuter.appendChild(this.spinnerContainerPrimary),this.spinnerContainerMin.appendChild(this.spinnerMin),this.spinnerContainerMin.appendChild(this.messageContainerMin),this.spinnerContainerOuter.appendChild(this.spinnerContainerMin);const r=document.createElement("style");r.innerHTML=`

            .spinnerOuterContainer${this.elementID} {
                width: 100%;
                height: 100%;
                margin: 0;
                top: 0;
                left: 0;
                position: absolute;
                pointer-events: none;
            }

            .messageContainer${this.elementID} {
                height: 20px;
                font-family: arial;
                font-size: 12pt;
                color: #ffffff;
                text-align: center;
                vertical-align: middle;
            }

            .spinner${this.elementID} {
                padding: 15px;
                background: #07e8d6;
                z-index:99999;
            
                aspect-ratio: 1;
                border-radius: 50%;
                --_m: 
                    conic-gradient(#0000,#000),
                    linear-gradient(#000 0 0) content-box;
                -webkit-mask: var(--_m);
                    mask: var(--_m);
                -webkit-mask-composite: source-out;
                    mask-composite: subtract;
                box-sizing: border-box;
                animation: load 1s linear infinite;
            }

            .spinnerContainerPrimary${this.elementID} {
                z-index:99999;
                background-color: rgba(128, 128, 128, 0.75);
                border: #666666 1px solid;
                border-radius: 5px;
                padding-top: 20px;
                padding-bottom: 10px;
                margin: 0;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-80px, -80px);
                width: 180px;
                pointer-events: auto;
            }

            .spinnerPrimary${this.elementID} {
                width: 120px;
                margin-left: 30px;
            }

            .messageContainerPrimary${this.elementID} {
                padding-top: 15px;
            }

            .spinnerContainerMin${this.elementID} {
                z-index:99999;
                background-color: rgba(128, 128, 128, 0.75);
                border: #666666 1px solid;
                border-radius: 5px;
                padding-top: 20px;
                padding-bottom: 15px;
                margin: 0;
                position: absolute;
                bottom: 50px;
                left: 50%;
                transform: translate(-50%, 0);
                display: flex;
                flex-direction: left;
                pointer-events: auto;
                min-width: 250px;
            }

            .messageContainerMin${this.elementID} {
                margin-right: 15px;
            }

            .spinnerMin${this.elementID} {
                width: 50px;
                height: 50px;
                margin-left: 15px;
                margin-right: 25px;
            }

            .messageContainerMin${this.elementID} {
                padding-top: 15px;
            }
            
            @keyframes load {
                to{transform: rotate(1turn)}
            }

        `,this.spinnerContainerOuter.appendChild(r),this.container.appendChild(this.spinnerContainerOuter),this.setMinimized(!1,!0),this.fadeTransitions=[]}addTask(e){const t={message:e,id:this.taskIDGen++};return this.tasks.push(t),this.update(),t.id}removeTask(e){let t=0;for(let r of this.tasks){if(r.id===e){this.tasks.splice(t,1);break}t++}this.update()}removeAllTasks(){this.tasks=[],this.update()}setMessageForTask(e,t){for(let r of this.tasks)if(r.id===e){r.message=t;break}this.update()}update(){this.tasks.length>0?(this.show(),this.setMessage(this.tasks[this.tasks.length-1].message)):this.hide()}show(){this.spinnerContainerOuter.style.display="block",this.visible=!0}hide(){this.spinnerContainerOuter.style.display="none",this.visible=!1}setContainer(e){this.container&&this.spinnerContainerOuter.parentElement===this.container&&this.container.removeChild(this.spinnerContainerOuter),e&&(this.container=e,this.container.appendChild(this.spinnerContainerOuter),this.spinnerContainerOuter.style.zIndex=this.container.style.zIndex+1)}setMinimized(e,t){const r=(i,a,s,o,l)=>{s?i.style.display=a?o:"none":this.fadeTransitions[l]=fut(i,!a,o,hut,()=>{this.fadeTransitions[l]=null})};r(this.spinnerContainerPrimary,!e,t,"block",0),r(this.spinnerContainerMin,e,t,"flex",1),this.minimized=e}setMessage(e){this.messageContainerPrimary.innerHTML=e,this.messageContainerMin.innerHTML=e}};cn(yT,"elementIDGen",0);let mD=yT;class put{constructor(e){this.idGen=0,this.tasks=[],this.container=e||document.body,this.progressBarContainerOuter=document.createElement("div"),this.progressBarContainerOuter.className="progressBarOuterContainer",this.progressBarContainerOuter.style.display="none",this.progressBarBox=document.createElement("div"),this.progressBarBox.className="progressBarBox",this.progressBarBackground=document.createElement("div"),this.progressBarBackground.className="progressBarBackground",this.progressBar=document.createElement("div"),this.progressBar.className="progressBar",this.progressBarBackground.appendChild(this.progressBar),this.progressBarBox.appendChild(this.progressBarBackground),this.progressBarContainerOuter.appendChild(this.progressBarBox);const t=document.createElement("style");t.innerHTML=`

            .progressBarOuterContainer {
                width: 100%;
                height: 100%;
                margin: 0;
                top: 0;
                left: 0;
                position: absolute;
                pointer-events: none;
            }

            .progressBarBox {
                z-index:99999;
                padding: 7px 9px 5px 7px;
                background-color: rgba(190, 190, 190, 0.75);
                border: #555555 1px solid;
                border-radius: 15px;
                margin: 0;
                position: absolute;
                bottom: 50px;
                left: 50%;
                transform: translate(-50%, 0);
                width: 180px;
                height: 30px;
                pointer-events: auto;
            }

            .progressBarBackground {
                width: 100%;
                height: 25px;
                border-radius:10px;
                background-color: rgba(128, 128, 128, 0.75);
                border: #444444 1px solid;
                box-shadow: inset 0 0 10px #333333;
            }

            .progressBar {
                height: 25px;
                width: 0px;
                border-radius:10px;
                background-color: rgba(0, 200, 0, 0.75);
                box-shadow: inset 0 0 10px #003300;
            }

        `,this.progressBarContainerOuter.appendChild(t),this.container.appendChild(this.progressBarContainerOuter)}show(){this.progressBarContainerOuter.style.display="block"}hide(){this.progressBarContainerOuter.style.display="none"}setProgress(e){this.progressBar.style.width=e+"%"}setContainer(e){this.container&&this.progressBarContainerOuter.parentElement===this.container&&this.container.removeChild(this.progressBarContainerOuter),e&&(this.container=e,this.container.appendChild(this.progressBarContainerOuter),this.progressBarContainerOuter.style.zIndex=this.container.style.zIndex+1)}}class mut{constructor(e){cn(this,"update",function(e,t,r,i,a,s,o,l,c,u,d,f,h,p){const m=`${t.x.toFixed(5)}, ${t.y.toFixed(5)}, ${t.z.toFixed(5)}`;if(this.infoCells.cameraPosition.innerHTML!==m&&(this.infoCells.cameraPosition.innerHTML=m),r){const v=r,y=`${v.x.toFixed(5)}, ${v.y.toFixed(5)}, ${v.z.toFixed(5)}`;this.infoCells.cameraLookAt.innerHTML!==y&&(this.infoCells.cameraLookAt.innerHTML=y)}const g=`${i.x.toFixed(5)}, ${i.y.toFixed(5)}, ${i.z.toFixed(5)}`;if(this.infoCells.cameraUp.innerHTML!==g&&(this.infoCells.cameraUp.innerHTML=g),this.infoCells.orthographicCamera.innerHTML=a?"Orthographic":"Perspective",s){const v=s,y=`${v.x.toFixed(5)}, ${v.y.toFixed(5)}, ${v.z.toFixed(5)}`;this.infoCells.cursorPosition.innerHTML=y}else this.infoCells.cursorPosition.innerHTML="N/A";this.infoCells.fps.innerHTML=o,this.infoCells.renderWindow.innerHTML=`${e.x} x ${e.y}`,this.infoCells.renderSplatCount.innerHTML=`${c} splats out of ${l} (${u.toFixed(2)}%)`,this.infoCells.sortTime.innerHTML=`${d.toFixed(3)} ms`,this.infoCells.focalAdjustment.innerHTML=`${f.toFixed(3)}`,this.infoCells.splatScale.innerHTML=`${h.toFixed(3)}`,this.infoCells.pointCloudMode.innerHTML=`${p}`});this.container=e||document.body,this.infoCells={};const t=[["Camera position","cameraPosition"],["Camera look-at","cameraLookAt"],["Camera up","cameraUp"],["Camera mode","orthographicCamera"],["Cursor position","cursorPosition"],["FPS","fps"],["Rendering:","renderSplatCount"],["Sort time","sortTime"],["Render window","renderWindow"],["Focal adjustment","focalAdjustment"],["Splat scale","splatScale"],["Point cloud mode","pointCloudMode"]];this.infoPanelContainer=document.createElement("div");const r=document.createElement("style");r.innerHTML=`

            .infoPanel {
                width: 430px;
                padding: 10px;
                background-color: rgba(50, 50, 50, 0.85);
                border: #555555 2px solid;
                color: #dddddd;
                border-radius: 10px;
                z-index: 9999;
                font-family: arial;
                font-size: 11pt;
                text-align: left;
                margin: 0;
                top: 10px;
                left:10px;
                position: absolute;
                pointer-events: auto;
            }

            .info-panel-cell {
                margin-bottom: 5px;
                padding-bottom: 2px;
            }

            .label-cell {
                font-weight: bold;
                font-size: 12pt;
                width: 140px;
            }

        `,this.infoPanelContainer.append(r),this.infoPanel=document.createElement("div"),this.infoPanel.className="infoPanel";const i=document.createElement("div");i.style.display="table";for(let a of t){const s=document.createElement("div");s.style.display="table-row",s.className="info-panel-row";const o=document.createElement("div");o.style.display="table-cell",o.innerHTML=`${a[0]}: `,o.classList.add("info-panel-cell","label-cell");const l=document.createElement("div");l.style.display="table-cell",l.style.width="10px",l.innerHTML=" ",l.className="info-panel-cell";const c=document.createElement("div");c.style.display="table-cell",c.innerHTML="",c.className="info-panel-cell",this.infoCells[a[1]]=c,s.appendChild(o),s.appendChild(l),s.appendChild(c),i.appendChild(s)}this.infoPanel.appendChild(i),this.infoPanelContainer.append(this.infoPanel),this.infoPanelContainer.style.display="none",this.container.appendChild(this.infoPanelContainer),this.visible=!1}setContainer(e){this.container&&this.infoPanelContainer.parentElement===this.container&&this.container.removeChild(this.infoPanelContainer),e&&(this.container=e,this.container.appendChild(this.infoPanelContainer),this.infoPanelContainer.style.zIndex=this.container.style.zIndex+1)}show(){this.infoPanelContainer.style.display="block",this.visible=!0}hide(){this.infoPanelContainer.style.display="none",this.visible=!1}}const cq=new tt;class vut extends Na{constructor(e=new tt(0,0,1),t=new tt(0,0,0),r=1,i=.1,a=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper";const l=new uS(i,i,r,32);l.translate(0,r/2,0);const c=new uS(0,o,s,32);c.translate(0,r,0),this.position.copy(t),this.line=new fa(l,new V0({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new fa(c,new V0({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{cq.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(cq,t)}}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Ub{constructor(e){cn(this,"updateFocusMarker",function(){const e=new tt,t=new ur,r=new tt;return function(i,a,s){t.copy(a.matrixWorld).invert(),e.copy(i).applyMatrix4(t),e.normalize().multiplyScalar(10),e.applyMatrix4(a.matrixWorld),r.copy(a.position).sub(i);const o=r.length();this.focusMarker.position.copy(i),this.focusMarker.scale.set(o,o,o),this.focusMarker.material.uniforms.realFocusPosition.value.copy(i),this.focusMarker.material.uniforms.viewport.value.copy(s),this.focusMarker.material.uniformsNeedUpdate=!0}}());cn(this,"positionAndOrientControlPlane",function(){const e=new Yi,t=new tt(0,1,0);return function(r,i){e.setFromUnitVectors(t,i),this.controlPlane.position.copy(r),this.controlPlane.quaternion.copy(e)}}());this.threeScene=e,this.splatRenderTarget=null,this.renderTargetCopyQuad=null,this.renderTargetCopyCamera=null,this.meshCursor=null,this.focusMarker=null,this.controlPlane=null,this.debugRoot=null,this.secondaryDebugRoot=null}updateSplatRenderTargetForRenderDimensions(e,t){this.destroySplatRendertarget(),this.splatRenderTarget=new Ph(e,t,{format:js,stencilBuffer:!1,depthBuffer:!0}),this.splatRenderTarget.depthTexture=new PO(e,t),this.splatRenderTarget.depthTexture.format=y0,this.splatRenderTarget.depthTexture.type=Bl}destroySplatRendertarget(){this.splatRenderTarget&&(this.splatRenderTarget=null)}setupRenderTargetCopyObjects(){const e={sourceColorTexture:{type:"t",value:null},sourceDepthTexture:{type:"t",value:null}},t=new nl({vertexShader:`
                varying vec2 vUv;
                void main() {
                    vUv = uv;
                    gl_Position = vec4( position.xy, 0.0, 1.0 );    
                }
            `,fragmentShader:`
                #include <common>
                #include <packing>
                varying vec2 vUv;
                uniform sampler2D sourceColorTexture;
                uniform sampler2D sourceDepthTexture;
                void main() {
                    vec4 color = texture2D(sourceColorTexture, vUv);
                    float fragDepth = texture2D(sourceDepthTexture, vUv).x;
                    gl_FragDepth = fragDepth;
                    gl_FragColor = vec4(color.rgb, color.a * 2.0);
              }
            `,uniforms:e,depthWrite:!1,depthTest:!1,transparent:!0,blending:Nie,blendSrc:aS,blendSrcAlpha:aS,blendDst:sS,blendDstAlpha:sS});t.extensions.fragDepth=!0,this.renderTargetCopyQuad=new fa(new ay(2,2),t),this.renderTargetCopyCamera=new DO(-1,1,1,-1,0,1)}destroyRenderTargetCopyObjects(){this.renderTargetCopyQuad&&(Rv(this.renderTargetCopyQuad),this.renderTargetCopyQuad=null)}setupMeshCursor(){if(!this.meshCursor){const e=new LO(.5,1.5,32),t=new V0({color:16777215}),r=new fa(e,t);r.rotation.set(0,0,Math.PI),r.position.set(0,1,0);const i=new fa(e,t);i.position.set(0,-1,0);const a=new fa(e,t);a.rotation.set(0,0,Math.PI/2),a.position.set(1,0,0);const s=new fa(e,t);s.rotation.set(0,0,-Math.PI/2),s.position.set(-1,0,0),this.meshCursor=new Na,this.meshCursor.add(r),this.meshCursor.add(i),this.meshCursor.add(a),this.meshCursor.add(s),this.meshCursor.scale.set(.1,.1,.1),this.threeScene.add(this.meshCursor),this.meshCursor.visible=!1}}destroyMeshCursor(){this.meshCursor&&(Rv(this.meshCursor),this.threeScene.remove(this.meshCursor),this.meshCursor=null)}setMeshCursorVisibility(e){this.meshCursor.visible=e}getMeschCursorVisibility(){return this.meshCursor.visible}setMeshCursorPosition(e){this.meshCursor.position.copy(e)}positionAndOrientMeshCursor(e,t){this.meshCursor.position.copy(e),this.meshCursor.up.copy(t.up),this.meshCursor.lookAt(t.position)}setupFocusMarker(){if(!this.focusMarker){const e=new pT(.5,32,32),t=Ub.buildFocusMarkerMaterial();t.depthTest=!1,t.depthWrite=!1,t.transparent=!0,this.focusMarker=new fa(e,t)}}destroyFocusMarker(){this.focusMarker&&(Rv(this.focusMarker),this.focusMarker=null)}setFocusMarkerVisibility(e){this.focusMarker.visible=e}setFocusMarkerOpacity(e){this.focusMarker.material.uniforms.opacity.value=e,this.focusMarker.material.uniformsNeedUpdate=!0}getFocusMarkerOpacity(){return this.focusMarker.material.uniforms.opacity.value}setupControlPlane(){if(!this.controlPlane){const e=new ay(1,1);e.rotateX(-Math.PI/2);const t=new V0({color:16777215});t.transparent=!0,t.opacity=.6,t.depthTest=!1,t.depthWrite=!1,t.side=Pl;const r=new fa(e,t),i=new tt(0,1,0);i.normalize();const a=new tt(0,0,0),s=.5,o=.01,l=56576,c=new vut(i,a,s,o,l,.1,.03);this.controlPlane=new Na,this.controlPlane.add(r),this.controlPlane.add(c)}}destroyControlPlane(){this.controlPlane&&(Rv(this.controlPlane),this.controlPlane=null)}setControlPlaneVisibility(e){this.controlPlane.visible=e}addDebugMeshes(){this.debugRoot=this.createDebugMeshes(),this.secondaryDebugRoot=this.createSecondaryDebugMeshes(),this.threeScene.add(this.debugRoot),this.threeScene.add(this.secondaryDebugRoot)}destroyDebugMeshes(){for(let e of[this.debugRoot,this.secondaryDebugRoot])e&&(Rv(e),this.threeScene.remove(e));this.debugRoot=null,this.secondaryDebugRoot=null}createDebugMeshes(e){const t=new pT(1,32,32),r=new Na,i=(a,s)=>{let o=new fa(t,Ub.buildDebugMaterial(a));o.renderOrder=e,r.add(o),o.position.fromArray(s)};return i(16711680,[-50,0,0]),i(16711680,[50,0,0]),i(65280,[0,0,-50]),i(65280,[0,0,50]),i(16755200,[5,0,5]),r}createSecondaryDebugMeshes(e){const t=new Wy(3,3,3),r=new Na;let i=12303291;const a=o=>{let l=new fa(t,Ub.buildDebugMaterial(i));l.renderOrder=e,r.add(l),l.position.fromArray(o)};let s=10;return a([-s,0,-s]),a([-s,0,s]),a([s,0,-s]),a([s,0,s]),r}static buildDebugMaterial(e){const t=`
            #include <common>
            varying float ndcDepth;

            void main() {
                gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position.xyz, 1.0);
                ndcDepth = gl_Position.z / gl_Position.w;
                gl_Position.x = gl_Position.x / gl_Position.w;
                gl_Position.y = gl_Position.y / gl_Position.w;
                gl_Position.z = 0.0;
                gl_Position.w = 1.0;
    
            }
        `,r=`
            #include <common>
            uniform vec3 color;
            varying float ndcDepth;
            void main() {
                gl_FragDepth = (ndcDepth + 1.0) / 2.0;
                gl_FragColor = vec4(color.rgb, 0.0);
            }
        `,i={color:{type:"v3",value:new ii(e)}},a=new nl({uniforms:i,vertexShader:t,fragmentShader:r,transparent:!1,depthTest:!0,depthWrite:!0,side:wu});return a.extensions.fragDepth=!0,a}static buildFocusMarkerMaterial(e){const t=`
            #include <common>

            uniform vec2 viewport;
            uniform vec3 realFocusPosition;

            varying vec4 ndcPosition;
            varying vec4 ndcCenter;
            varying vec4 ndcFocusPosition;

            void main() {
                float radius = 0.01;

                vec4 viewPosition = modelViewMatrix * vec4(position.xyz, 1.0);
                vec4 viewCenter = modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);

                vec4 viewFocusPosition = modelViewMatrix * vec4(realFocusPosition, 1.0);

                ndcPosition = projectionMatrix * viewPosition;
                ndcPosition = ndcPosition * vec4(1.0 / ndcPosition.w);
                ndcCenter = projectionMatrix * viewCenter;
                ndcCenter = ndcCenter * vec4(1.0 / ndcCenter.w);

                ndcFocusPosition = projectionMatrix * viewFocusPosition;
                ndcFocusPosition = ndcFocusPosition * vec4(1.0 / ndcFocusPosition.w);

                gl_Position = projectionMatrix * viewPosition;

            }
        `,r=`
            #include <common>
            uniform vec3 color;
            uniform vec2 viewport;
            uniform float opacity;

            varying vec4 ndcPosition;
            varying vec4 ndcCenter;
            varying vec4 ndcFocusPosition;

            void main() {
                vec2 screenPosition = vec2(ndcPosition) * viewport;
                vec2 screenCenter = vec2(ndcCenter) * viewport;

                vec2 screenVec = screenPosition - screenCenter;

                float projectedRadius = length(screenVec);

                float lineWidth = 0.0005 * viewport.y;
                float aaRange = 0.0025 * viewport.y;
                float radius = 0.06 * viewport.y;
                float radDiff = abs(projectedRadius - radius) - lineWidth;
                float alpha = 1.0 - clamp(radDiff / 5.0, 0.0, 1.0); 

                gl_FragColor = vec4(color.rgb, alpha * opacity);
            }
        `,i={color:{type:"v3",value:new ii(e)},realFocusPosition:{type:"v3",value:new tt},viewport:{type:"v2",value:new Hn},opacity:{value:0}};return new nl({uniforms:i,vertexShader:t,fragmentShader:r,transparent:!0,depthTest:!1,depthWrite:!1,side:wu})}dispose(){this.destroyMeshCursor(),this.destroyFocusMarker(),this.destroyDebugMeshes(),this.destroyControlPlane(),this.destroyRenderTargetCopyObjects(),this.destroySplatRendertarget()}}const gut=new tt(1,0,0),yut=new tt(0,1,0),but=new tt(0,0,1);class rR{constructor(e=new tt,t=new tt){cn(this,"intersectBox",function(){const e=new tt,t=[],r=[],i=[];return function(a,s){if(r[0]=this.origin.x,r[1]=this.origin.y,r[2]=this.origin.z,i[0]=this.direction.x,i[1]=this.direction.y,i[2]=this.direction.z,this.boxContainsPoint(a,this.origin,1e-4))return s&&(s.origin.copy(this.origin),s.normal.set(0,0,0),s.distance=-1),!0;for(let o=0;o<3;o++){if(i[o]==0)continue;const l=o==0?gut:o==1?yut:but,c=i[o]<0?a.max:a.min;let u=-Math.sign(i[o]);t[0]=o==0?c.x:o==1?c.y:c.z;let d=t[0]-r[o];if(d*u<0){const f=(o+1)%3,h=(o+2)%3;if(t[2]=i[f]/i[o]*d+r[f],t[1]=i[h]/i[o]*d+r[h],e.set(t[o],t[h],t[f]),this.boxContainsPoint(a,e,1e-4))return s&&(s.origin.copy(e),s.normal.copy(l).multiplyScalar(u),s.distance=e.sub(this.origin).length()),!0}}return!1}}());cn(this,"intersectSphere",function(){const e=new tt;return function(t,r,i){e.copy(t).sub(this.origin);const a=e.dot(this.direction),s=a*a,l=e.dot(e)-s,c=r*r;if(l>c)return!1;const u=Math.sqrt(c-l),d=a-u,f=a+u;if(f<0)return!1;let h=d<0?f:d;return i&&(i.origin.copy(this.origin).addScaledVector(this.direction,h),i.normal.copy(i.origin).sub(t).normalize(),i.distance=h),!0}}());this.origin=new tt,this.direction=new tt,this.setParameters(e,t)}setParameters(e,t){this.origin.copy(e),this.direction.copy(t).normalize()}boxContainsPoint(e,t,r){return!(t.x<e.min.x-r||t.x>e.max.x+r||t.y<e.min.y-r||t.y>e.max.y+r||t.z<e.min.z-r||t.z>e.max.z+r)}}class jO{constructor(){this.origin=new tt,this.normal=new tt,this.distance=0,this.splatIndex=0}set(e,t,r,i){this.origin.copy(e),this.normal.copy(t),this.distance=r,this.splatIndex=i}clone(){const e=new jO;return e.origin.copy(this.origin),e.normal.copy(this.normal),e.distance=this.distance,e.splatIndex=this.splatIndex,e}}const ld={ThreeD:0,TwoD:1};class _ut{constructor(e,t,r=!1){cn(this,"setFromCameraAndScreenPosition",function(){const e=new Hn;return function(t,r,i){if(e.x=r.x/i.x*2-1,e.y=(i.y-r.y)/i.y*2-1,t.isPerspectiveCamera)this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t;else if(t.isOrthographicCamera)this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t;else throw new Error("Raycaster::setFromCameraAndScreenPosition() -> Unsupported camera type")}}());cn(this,"intersectSplatMesh",function(){const e=new ur,t=new ur,r=new ur,i=new rR,a=new tt;return function(s,o=[]){const l=s.getSplatTree();if(l){for(let c=0;c<l.subTrees.length;c++){const u=l.subTrees[c];t.copy(s.matrixWorld),s.dynamicMode&&(s.getSceneTransform(c,r),t.multiply(r)),e.copy(t).invert(),i.origin.copy(this.ray.origin).applyMatrix4(e),i.direction.copy(this.ray.origin).add(this.ray.direction),i.direction.applyMatrix4(e).sub(i.origin).normalize();const d=[];u.rootNode&&this.castRayAtSplatTreeNode(i,l,u.rootNode,d),d.forEach(f=>{f.origin.applyMatrix4(t),f.normal.applyMatrix4(t).normalize(),f.distance=a.copy(f.origin).sub(this.ray.origin).length()}),o.push(...d)}return o.sort((c,u)=>c.distance>u.distance?1:-1),o}}}());cn(this,"castRayAtSplatTreeNode",function(){const e=new Vi,t=new tt,r=new tt,i=new Yi,a=new jO,s=1e-7,o=new tt(0,0,0),l=new ur,c=new ur,u=new ur,d=new ur,f=new ur,h=new rR;return function(p,m,g,v=[]){if(p.intersectBox(g.boundingBox)){if(g.data&&g.data.indexes&&g.data.indexes.length>0)for(let y=0;y<g.data.indexes.length;y++){const b=g.data.indexes[y],_=m.splatMesh.getSceneIndexForSplat(b);if(m.splatMesh.getScene(_).visible&&(m.splatMesh.getSplatColor(b,e),m.splatMesh.getSplatCenter(b,t),m.splatMesh.getSplatScaleAndRotation(b,r,i),!(r.x<=s||r.y<=s||m.splatMesh.splatRenderMode===ld.ThreeD&&r.z<=s)))if(this.raycastAgainstTrueSplatEllipsoid){c.makeScale(r.x,r.y,r.z),u.makeRotationFromQuaternion(i);const x=Math.log10(e.w)*2;if(l.makeScale(x,x,x),f.copy(l).multiply(u).multiply(c),d.copy(f).invert(),h.origin.copy(p.origin).sub(t).applyMatrix4(d),h.direction.copy(p.origin).add(p.direction).sub(t),h.direction.applyMatrix4(d).sub(h.origin).normalize(),h.intersectSphere(o,1,a)){const M=a.clone();M.splatIndex=b,M.origin.applyMatrix4(f).add(t),v.push(M)}}else{let x=r.x+r.y,M=2;if(m.splatMesh.splatRenderMode===ld.ThreeD&&(x+=r.z,M=3),x=x/M,p.intersectSphere(t,x,a)){const C=a.clone();C.splatIndex=b,v.push(C)}}}if(g.children&&g.children.length>0)for(let y of g.children)this.castRayAtSplatTreeNode(p,m,y,v);return v}}}());this.ray=new rR(e,t),this.raycastAgainstTrueSplatEllipsoid=r}}class pg{static buildVertexShaderBase(e=!1,t=!1,r=0,i=""){let a=`
        precision highp float;
        #include <common>

        attribute uint splatIndex;
        uniform highp usampler2D centersColorsTexture;
        uniform highp sampler2D sphericalHarmonicsTexture;
        uniform highp sampler2D sphericalHarmonicsTextureR;
        uniform highp sampler2D sphericalHarmonicsTextureG;
        uniform highp sampler2D sphericalHarmonicsTextureB;

        uniform highp usampler2D sceneIndexesTexture;
        uniform vec2 sceneIndexesTextureSize;
        uniform int sceneCount;
    `;return t&&(a+=`
            uniform float sceneOpacity[${Fr.MaxScenes}];
            uniform int sceneVisibility[${Fr.MaxScenes}];
        `),e&&(a+=`
            uniform highp mat4 transforms[${Fr.MaxScenes}];
        `),a+=`
        ${i}
        uniform vec2 focal;
        uniform float orthoZoom;
        uniform int orthographicMode;
        uniform int pointCloudModeEnabled;
        uniform float inverseFocalAdjustment;
        uniform vec2 viewport;
        uniform vec2 basisViewport;
        uniform vec2 centersColorsTextureSize;
        uniform int sphericalHarmonicsDegree;
        uniform vec2 sphericalHarmonicsTextureSize;
        uniform int sphericalHarmonics8BitMode;
        uniform int sphericalHarmonicsMultiTextureMode;
        uniform float visibleRegionRadius;
        uniform float visibleRegionFadeStartRadius;
        uniform float firstRenderTime;
        uniform float currentTime;
        uniform int fadeInComplete;
        uniform vec3 sceneCenter;
        uniform float splatScale;
        uniform float sphericalHarmonics8BitCompressionRangeMin[${Fr.MaxScenes}];
        uniform float sphericalHarmonics8BitCompressionRangeMax[${Fr.MaxScenes}];

        varying vec4 vColor;
        varying vec2 vUv;
        varying vec2 vPosition;

        mat3 quaternionToRotationMatrix(float x, float y, float z, float w) {
            float s = 1.0 / sqrt(w * w + x * x + y * y + z * z);
        
            return mat3(
                1. - 2. * (y * y + z * z),
                2. * (x * y + w * z),
                2. * (x * z - w * y),
                2. * (x * y - w * z),
                1. - 2. * (x * x + z * z),
                2. * (y * z + w * x),
                2. * (x * z + w * y),
                2. * (y * z - w * x),
                1. - 2. * (x * x + y * y)
            );
        }

        const float sqrt8 = sqrt(8.0);
        const float minAlpha = 1.0 / 255.0;

        const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);
        const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));
        const uvec4 shift4 = uvec4(0, 8, 16, 24);
        vec4 uintToRGBAVec (uint u) {
           uvec4 urgba = mask4 & u;
           urgba = urgba >> shift4;
           vec4 rgba = vec4(urgba) * encodeNorm4;
           return rgba;
        }

        vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {
            vec2 samplerUV = vec2(0.0, 0.0);
            float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;
            samplerUV.y = float(floor(d)) / dimensions.y;
            samplerUV.x = fract(d);
            return samplerUV;
        }

        vec2 getDataUVF(in uint sIndex, in float stride, in uint offset, in vec2 dimensions) {
            vec2 samplerUV = vec2(0.0, 0.0);
            float d = float(uint(float(sIndex) * stride) + offset) / dimensions.x;
            samplerUV.y = float(floor(d)) / dimensions.y;
            samplerUV.x = fract(d);
            return samplerUV;
        }

        const float SH_C1 = 0.4886025119029199f;
        const float[5] SH_C2 = float[](1.0925484, -1.0925484, 0.3153916, -1.0925484, 0.5462742);

        void main () {

            uint oddOffset = splatIndex & uint(0x00000001);
            uint doubleOddOffset = oddOffset * uint(2);
            bool isEven = oddOffset == uint(0);
            uint nearestEvenIndex = splatIndex - oddOffset;
            float fOddOffset = float(oddOffset);

            uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));
            vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));

            uint sceneIndex = uint(0);
            if (sceneCount > 1) {
                sceneIndex = texture(sceneIndexesTexture, getDataUV(1, 0, sceneIndexesTextureSize)).r;
            }
            `,t&&(a+=`
                float splatOpacityFromScene = sceneOpacity[sceneIndex];
                int sceneVisible = sceneVisibility[sceneIndex];
                if (splatOpacityFromScene <= 0.01 || sceneVisible == 0) {
                    gl_Position = vec4(0.0, 0.0, 2.0, 1.0);
                    return;
                }
            `),e?a+=`
                mat4 transform = transforms[sceneIndex];
                mat4 transformModelViewMatrix = viewMatrix * transform;
            `:a+="mat4 transformModelViewMatrix = modelViewMatrix;",a+=`
            float sh8BitCompressionRangeMinForScene = sphericalHarmonics8BitCompressionRangeMin[sceneIndex];
            float sh8BitCompressionRangeMaxForScene = sphericalHarmonics8BitCompressionRangeMax[sceneIndex];
            float sh8BitCompressionRangeForScene = sh8BitCompressionRangeMaxForScene - sh8BitCompressionRangeMinForScene;
            float sh8BitCompressionHalfRangeForScene = sh8BitCompressionRangeForScene / 2.0;
            vec3 vec8BitSHShift = vec3(sh8BitCompressionRangeMinForScene);

            vec4 viewCenter = transformModelViewMatrix * vec4(splatCenter, 1.0);

            vec4 clipCenter = projectionMatrix * viewCenter;

            float clip = 1.2 * clipCenter.w;
            if (clipCenter.z < -clip || clipCenter.x < -clip || clipCenter.x > clip || clipCenter.y < -clip || clipCenter.y > clip) {
                gl_Position = vec4(0.0, 0.0, 2.0, 1.0);
                return;
            }

            vec3 ndcCenter = clipCenter.xyz / clipCenter.w;

            vPosition = position.xy;
            vColor = uintToRGBAVec(sampledCenterColor.r);
        `,r>=1&&(a+=`   
            if (sphericalHarmonicsDegree >= 1) {
            `,e?a+=`
                    vec3 worldViewDir = normalize(splatCenter - vec3(inverse(transform) * vec4(cameraPosition, 1.0)));
                `:a+=`
                    vec3 worldViewDir = normalize(splatCenter - cameraPosition);
                `,a+=`
                vec3 sh1;
                vec3 sh2;
                vec3 sh3;
            `,r>=2&&(a+=`
                    vec3 sh4;
                    vec3 sh5;
                    vec3 sh6;
                    vec3 sh7;
                    vec3 sh8;
                `),r===1?a+=`
                    if (sphericalHarmonicsMultiTextureMode == 0) {
                        vec2 shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset, sphericalHarmonicsTextureSize);
                        vec4 sampledSH0123 = texture(sphericalHarmonicsTexture, shUV);
                        shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset + uint(1), sphericalHarmonicsTextureSize);
                        vec4 sampledSH4567 = texture(sphericalHarmonicsTexture, shUV);
                        shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset + uint(2), sphericalHarmonicsTextureSize);
                        vec4 sampledSH891011 = texture(sphericalHarmonicsTexture, shUV);
                        sh1 = vec3(sampledSH0123.rgb) * (1.0 - fOddOffset) + vec3(sampledSH0123.ba, sampledSH4567.r) * fOddOffset;
                        sh2 = vec3(sampledSH0123.a, sampledSH4567.rg) * (1.0 - fOddOffset) + vec3(sampledSH4567.gba) * fOddOffset;
                        sh3 = vec3(sampledSH4567.ba, sampledSH891011.r) * (1.0 - fOddOffset) + vec3(sampledSH891011.rgb) * fOddOffset;
                    } else {
                        vec2 sampledSH01R = texture(sphericalHarmonicsTextureR, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH23R = texture(sphericalHarmonicsTextureR, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH01G = texture(sphericalHarmonicsTextureG, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH23G = texture(sphericalHarmonicsTextureG, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH01B = texture(sphericalHarmonicsTextureB, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH23B = texture(sphericalHarmonicsTextureB, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;
                        sh1 = vec3(sampledSH01R.rg, sampledSH23R.r);
                        sh2 = vec3(sampledSH01G.rg, sampledSH23G.r);
                        sh3 = vec3(sampledSH01B.rg, sampledSH23B.r);
                    }
                `:r===2&&(a+=`
                    vec4 sampledSH0123;
                    vec4 sampledSH4567;
                    vec4 sampledSH891011;

                    vec4 sampledSH0123R;
                    vec4 sampledSH0123G;
                    vec4 sampledSH0123B;

                    if (sphericalHarmonicsMultiTextureMode == 0) {
                        sampledSH0123 = texture(sphericalHarmonicsTexture, getDataUV(6, 0, sphericalHarmonicsTextureSize));
                        sampledSH4567 = texture(sphericalHarmonicsTexture, getDataUV(6, 1, sphericalHarmonicsTextureSize));
                        sampledSH891011 = texture(sphericalHarmonicsTexture, getDataUV(6, 2, sphericalHarmonicsTextureSize));
                        sh1 = sampledSH0123.rgb;
                        sh2 = vec3(sampledSH0123.a, sampledSH4567.rg);
                        sh3 = vec3(sampledSH4567.ba, sampledSH891011.r);
                    } else {
                        sampledSH0123R = texture(sphericalHarmonicsTextureR, getDataUV(2, 0, sphericalHarmonicsTextureSize));
                        sampledSH0123G = texture(sphericalHarmonicsTextureG, getDataUV(2, 0, sphericalHarmonicsTextureSize));
                        sampledSH0123B = texture(sphericalHarmonicsTextureB, getDataUV(2, 0, sphericalHarmonicsTextureSize));
                        sh1 = vec3(sampledSH0123R.rgb);
                        sh2 = vec3(sampledSH0123G.rgb);
                        sh3 = vec3(sampledSH0123B.rgb);
                    }
                `),a+=`
                    if (sphericalHarmonics8BitMode == 1) {
                        sh1 = sh1 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                        sh2 = sh2 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                        sh3 = sh3 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                    }
                    float x = worldViewDir.x;
                    float y = worldViewDir.y;
                    float z = worldViewDir.z;
                    vColor.rgb += SH_C1 * (-sh1 * y + sh2 * z - sh3 * x);
            `,r>=2&&(a+=`
                    if (sphericalHarmonicsDegree >= 2) {
                        float xx = x * x;
                        float yy = y * y;
                        float zz = z * z;
                        float xy = x * y;
                        float yz = y * z;
                        float xz = x * z;
                `,r===2&&(a+=`
                        if (sphericalHarmonicsMultiTextureMode == 0) {
                            vec4 sampledSH12131415 = texture(sphericalHarmonicsTexture, getDataUV(6, 3, sphericalHarmonicsTextureSize));
                            vec4 sampledSH16171819 = texture(sphericalHarmonicsTexture, getDataUV(6, 4, sphericalHarmonicsTextureSize));
                            vec4 sampledSH20212223 = texture(sphericalHarmonicsTexture, getDataUV(6, 5, sphericalHarmonicsTextureSize));
                            sh4 = sampledSH891011.gba;
                            sh5 = sampledSH12131415.rgb;
                            sh6 = vec3(sampledSH12131415.a, sampledSH16171819.rg);
                            sh7 = vec3(sampledSH16171819.ba, sampledSH20212223.r);
                            sh8 = sampledSH20212223.gba;
                        } else {
                            vec4 sampledSH4567R = texture(sphericalHarmonicsTextureR, getDataUV(2, 1, sphericalHarmonicsTextureSize));
                            vec4 sampledSH4567G = texture(sphericalHarmonicsTextureG, getDataUV(2, 1, sphericalHarmonicsTextureSize));
                            vec4 sampledSH4567B = texture(sphericalHarmonicsTextureB, getDataUV(2, 1, sphericalHarmonicsTextureSize));
                            sh4 = vec3(sampledSH0123R.a, sampledSH4567R.rg);
                            sh5 = vec3(sampledSH4567R.ba, sampledSH0123G.a);
                            sh6 = vec3(sampledSH4567G.rgb);
                            sh7 = vec3(sampledSH4567G.a, sampledSH0123B.a, sampledSH4567B.r);
                            sh8 = vec3(sampledSH4567B.gba);
                        }
                    `),a+=`
                        if (sphericalHarmonics8BitMode == 1) {
                            sh4 = sh4 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh5 = sh5 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh6 = sh6 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh7 = sh7 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh8 = sh8 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                        }

                        vColor.rgb +=
                            (SH_C2[0] * xy) * sh4 +
                            (SH_C2[1] * yz) * sh5 +
                            (SH_C2[2] * (2.0 * zz - xx - yy)) * sh6 +
                            (SH_C2[3] * xz) * sh7 +
                            (SH_C2[4] * (xx - yy)) * sh8;
                    }
                `),a+=`

                vColor.rgb = clamp(vColor.rgb, vec3(0.), vec3(1.));

            }

            `),a}static getVertexShaderFadeIn(){return`
            if (fadeInComplete == 0) {
                float opacityAdjust = 1.0;
                float centerDist = length(splatCenter - sceneCenter);
                float renderTime = max(currentTime - firstRenderTime, 0.0);

                float fadeDistance = 0.75;
                float distanceLoadFadeInFactor = step(visibleRegionFadeStartRadius, centerDist);
                distanceLoadFadeInFactor = (1.0 - distanceLoadFadeInFactor) +
                                        (1.0 - clamp((centerDist - visibleRegionFadeStartRadius) / fadeDistance, 0.0, 1.0)) *
                                        distanceLoadFadeInFactor;
                opacityAdjust *= distanceLoadFadeInFactor;
                vColor.a *= opacityAdjust;
            }
        `}static getUniforms(e=!1,t=!1,r=0,i=1,a=!1){const s={sceneCenter:{type:"v3",value:new tt},fadeInComplete:{type:"i",value:0},orthographicMode:{type:"i",value:0},visibleRegionFadeStartRadius:{type:"f",value:0},visibleRegionRadius:{type:"f",value:0},currentTime:{type:"f",value:0},firstRenderTime:{type:"f",value:0},centersColorsTexture:{type:"t",value:null},sphericalHarmonicsTexture:{type:"t",value:null},sphericalHarmonicsTextureR:{type:"t",value:null},sphericalHarmonicsTextureG:{type:"t",value:null},sphericalHarmonicsTextureB:{type:"t",value:null},sphericalHarmonics8BitCompressionRangeMin:{type:"f",value:[]},sphericalHarmonics8BitCompressionRangeMax:{type:"f",value:[]},focal:{type:"v2",value:new Hn},orthoZoom:{type:"f",value:1},inverseFocalAdjustment:{type:"f",value:1},viewport:{type:"v2",value:new Hn},basisViewport:{type:"v2",value:new Hn},debugColor:{type:"v3",value:new ii},centersColorsTextureSize:{type:"v2",value:new Hn(1024,1024)},sphericalHarmonicsDegree:{type:"i",value:r},sphericalHarmonicsTextureSize:{type:"v2",value:new Hn(1024,1024)},sphericalHarmonics8BitMode:{type:"i",value:0},sphericalHarmonicsMultiTextureMode:{type:"i",value:0},splatScale:{type:"f",value:i},pointCloudModeEnabled:{type:"i",value:a?1:0},sceneIndexesTexture:{type:"t",value:null},sceneIndexesTextureSize:{type:"v2",value:new Hn(1024,1024)},sceneCount:{type:"i",value:1}};for(let o=0;o<Fr.MaxScenes;o++)s.sphericalHarmonics8BitCompressionRangeMin.value.push(-Fr.SphericalHarmonics8BitCompressionRange/2),s.sphericalHarmonics8BitCompressionRangeMax.value.push(Fr.SphericalHarmonics8BitCompressionRange/2);if(t){const o=[];for(let c=0;c<Fr.MaxScenes;c++)o.push(1);s.sceneOpacity={type:"f",value:o};const l=[];for(let c=0;c<Fr.MaxScenes;c++)l.push(1);s.sceneVisibility={type:"i",value:l}}if(e){const o=[];for(let l=0;l<Fr.MaxScenes;l++)o.push(new ur);s.transforms={type:"mat4",value:o}}return s}}class vT{static build(e=!1,t=!1,r=!1,i=2048,a=1,s=!1,o=0,l=.3){const c=`
            uniform vec2 covariancesTextureSize;
            uniform highp sampler2D covariancesTexture;
            uniform highp usampler2D covariancesTextureHalfFloat;
            uniform int covariancesAreHalfFloat;

            void fromCovarianceHalfFloatV4(uvec4 val, out vec4 first, out vec4 second) {
                vec2 r = unpackHalf2x16(val.r);
                vec2 g = unpackHalf2x16(val.g);
                vec2 b = unpackHalf2x16(val.b);

                first = vec4(r.x, r.y, g.x, g.y);
                second = vec4(b.x, b.y, 0.0, 0.0);
            }
        `;let u=pg.buildVertexShaderBase(e,t,o,c);u+=vT.buildVertexShaderProjection(r,t,i,l);const d=vT.buildFragmentShader(),f=pg.getUniforms(e,t,o,a,s);return f.covariancesTextureSize={type:"v2",value:new Hn(1024,1024)},f.covariancesTexture={type:"t",value:null},f.covariancesTextureHalfFloat={type:"t",value:null},f.covariancesAreHalfFloat={type:"i",value:0},new nl({uniforms:f,vertexShader:u,fragmentShader:d,transparent:!0,alphaTest:1,blending:ih,depthTest:!0,depthWrite:!1,side:Pl})}static buildVertexShaderProjection(e,t,r,i){let a=`

            vec4 sampledCovarianceA;
            vec4 sampledCovarianceB;
            vec3 cov3D_M11_M12_M13;
            vec3 cov3D_M22_M23_M33;
            if (covariancesAreHalfFloat == 0) {
                sampledCovarianceA = texture(covariancesTexture, getDataUVF(nearestEvenIndex, 1.5, oddOffset,
                                                                            covariancesTextureSize));
                sampledCovarianceB = texture(covariancesTexture, getDataUVF(nearestEvenIndex, 1.5, oddOffset + uint(1),
                                                                            covariancesTextureSize));

                cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rgb) * (1.0 - fOddOffset) +
                                    vec3(sampledCovarianceA.ba, sampledCovarianceB.r) * fOddOffset;
                cov3D_M22_M23_M33 = vec3(sampledCovarianceA.a, sampledCovarianceB.rg) * (1.0 - fOddOffset) +
                                    vec3(sampledCovarianceB.gba) * fOddOffset;
            } else {
                uvec4 sampledCovarianceU = texture(covariancesTextureHalfFloat, getDataUV(1, 0, covariancesTextureSize));
                fromCovarianceHalfFloatV4(sampledCovarianceU, sampledCovarianceA, sampledCovarianceB);
                cov3D_M11_M12_M13 = sampledCovarianceA.rgb;
                cov3D_M22_M23_M33 = vec3(sampledCovarianceA.a, sampledCovarianceB.rg);
            }
        
            // Construct the 3D covariance matrix
            mat3 Vrk = mat3(
                cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,
                cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,
                cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z
            );

            mat3 J;
            if (orthographicMode == 1) {
                // Since the projection is linear, we don't need an approximation
                J = transpose(mat3(orthoZoom, 0.0, 0.0,
                                0.0, orthoZoom, 0.0,
                                0.0, 0.0, 0.0));
            } else {
                // Construct the Jacobian of the affine approximation of the projection matrix. It will be used to transform the
                // 3D covariance matrix instead of using the actual projection matrix because that transformation would
                // require a non-linear component (perspective division) which would yield a non-gaussian result.
                float s = 1.0 / (viewCenter.z * viewCenter.z);
                J = mat3(
                    focal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,
                    0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,
                    0., 0., 0.
                );
            }

            // Concatenate the projection approximation with the model-view transformation
            mat3 W = transpose(mat3(transformModelViewMatrix));
            mat3 T = W * J;

            // Transform the 3D covariance matrix (Vrk) to compute the 2D covariance matrix
            mat3 cov2Dm = transpose(T) * Vrk * T;
            `;return e?a+=`
                float detOrig = cov2Dm[0][0] * cov2Dm[1][1] - cov2Dm[0][1] * cov2Dm[0][1];
                cov2Dm[0][0] += ${i};
                cov2Dm[1][1] += ${i};
                float detBlur = cov2Dm[0][0] * cov2Dm[1][1] - cov2Dm[0][1] * cov2Dm[0][1];
                vColor.a *= sqrt(max(detOrig / detBlur, 0.0));
                if (vColor.a < minAlpha) return;
            `:a+=`
                cov2Dm[0][0] += ${i};
                cov2Dm[1][1] += ${i};
            `,a+=`

            // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because
            // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],
            // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't
            // need cov2Dm[1][0] because it is a symetric matrix.
            vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);

            // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix
            // so that we can determine the 2D basis for the splat. This is done using the method described
            // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html
            // After calculating the eigen-values and eigen-vectors, we calculate the basis for rendering the splat
            // by normalizing the eigen-vectors and then multiplying them by (sqrt(8) * sqrt(eigen-value)), which is
            // equal to scaling them by sqrt(8) standard deviations.
            //
            // This is a different approach than in the original work at INRIA. In that work they compute the
            // max extents of the projected splat in screen space to form a screen-space aligned bounding rectangle
            // which forms the geometry that is actually rasterized. The dimensions of that bounding box are 3.0
            // times the square root of the maximum eigen-value, or 3 standard deviations. They then use the inverse
            // 2D covariance matrix (called 'conic') in the CUDA rendering thread to determine fragment opacity by
            // calculating the full gaussian: exp(-0.5 * (X - mean) * conic * (X - mean)) * splat opacity
            float a = cov2Dv.x;
            float d = cov2Dv.z;
            float b = cov2Dv.y;
            float D = a * d - b * b;
            float trace = a + d;
            float traceOver2 = 0.5 * trace;
            float term2 = sqrt(max(0.1f, traceOver2 * traceOver2 - D));
            float eigenValue1 = traceOver2 + term2;
            float eigenValue2 = traceOver2 - term2;

            if (pointCloudModeEnabled == 1) {
                eigenValue1 = eigenValue2 = 0.2;
            }

            if (eigenValue2 <= 0.0) return;

            vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));
            // since the eigen vectors are orthogonal, we derive the second one from the first
            vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);

            // We use sqrt(8) standard deviations instead of 3 to eliminate more of the splat with a very low opacity.
            vec2 basisVector1 = eigenVector1 * splatScale * min(sqrt8 * sqrt(eigenValue1), ${parseInt(r)}.0);
            vec2 basisVector2 = eigenVector2 * splatScale * min(sqrt8 * sqrt(eigenValue2), ${parseInt(r)}.0);
            `,t&&(a+=`
                vColor.a *= splatOpacityFromScene;
            `),a+=`
            vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) *
                             basisViewport * 2.0 * inverseFocalAdjustment;

            vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            gl_Position = quadPos;

            // Scale the position data we send to the fragment shader
            vPosition *= sqrt8;
        `,a+=pg.getVertexShaderFadeIn(),a+="}",a}static buildFragmentShader(){let e=`
            precision highp float;
            #include <common>
 
            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;
            varying vec2 vPosition;
        `;return e+=`
            void main () {
                // Compute the positional squared distance from the center of the splat to the current fragment.
                float A = dot(vPosition, vPosition);
                // Since the positional data in vPosition has been scaled by sqrt(8), the squared result will be
                // scaled by a factor of 8. If the squared result is larger than 8, it means it is outside the ellipse
                // defined by the rectangle formed by vPosition. It also means it's farther
                // away than sqrt(8) standard deviations from the mean.
                if (A > 8.0) discard;
                vec3 color = vColor.rgb;

                // Since the rendered splat is scaled by sqrt(8), the inverse covariance matrix that is part of
                // the gaussian formula becomes the identity matrix. We're then left with (X - mean) * (X - mean),
                // and since 'mean' is zero, we have X * X, which is the same as A:
                float opacity = exp(-0.5 * A) * vColor.a;

                gl_FragColor = vec4(color.rgb, opacity);
            }
        `,e}}class gT{static build(e=!1,t=!1,r=1,i=!1,a=0){const s=`
            uniform vec2 scaleRotationsTextureSize;
            uniform highp sampler2D scaleRotationsTexture;
            varying mat3 vT;
            varying vec2 vQuadCenter;
            varying vec2 vFragCoord;
        `;let o=pg.buildVertexShaderBase(e,t,a,s);o+=gT.buildVertexShaderProjection();const l=gT.buildFragmentShader(),c=pg.getUniforms(e,t,a,r,i);return c.scaleRotationsTexture={type:"t",value:null},c.scaleRotationsTextureSize={type:"v2",value:new Hn(1024,1024)},new nl({uniforms:c,vertexShader:o,fragmentShader:l,transparent:!0,alphaTest:1,blending:ih,depthTest:!0,depthWrite:!1,side:Pl})}static buildVertexShaderProjection(){let e=`

            vec4 scaleRotationA = texture(scaleRotationsTexture, getDataUVF(nearestEvenIndex, 1.5,
                                                                            oddOffset, scaleRotationsTextureSize));
            vec4 scaleRotationB = texture(scaleRotationsTexture, getDataUVF(nearestEvenIndex, 1.5,
                                                                            oddOffset + uint(1), scaleRotationsTextureSize));

            vec3 scaleRotation123 = vec3(scaleRotationA.rgb) * (1.0 - fOddOffset) +
                                    vec3(scaleRotationA.ba, scaleRotationB.r) * fOddOffset;
            vec3 scaleRotation456 = vec3(scaleRotationA.a, scaleRotationB.rg) * (1.0 - fOddOffset) +
                                    vec3(scaleRotationB.gba) * fOddOffset;

            float missingW = sqrt(1.0 - scaleRotation456.x * scaleRotation456.x - scaleRotation456.y *
                                    scaleRotation456.y - scaleRotation456.z * scaleRotation456.z);
            mat3 R = quaternionToRotationMatrix(scaleRotation456.r, scaleRotation456.g, scaleRotation456.b, missingW);
            mat3 S = mat3(scaleRotation123.r, 0.0, 0.0,
                            0.0, scaleRotation123.g, 0.0,
                            0.0, 0.0, scaleRotation123.b);
            
            mat3 L = R * S;

            mat3x4 splat2World = mat3x4(vec4(L[0], 0.0),
                                        vec4(L[1], 0.0),
                                        vec4(splatCenter.x, splatCenter.y, splatCenter.z, 1.0));

            mat4 world2ndc = transpose(projectionMatrix * transformModelViewMatrix);

            mat3x4 ndc2pix = mat3x4(vec4(viewport.x / 2.0, 0.0, 0.0, (viewport.x - 1.0) / 2.0),
                                    vec4(0.0, viewport.y / 2.0, 0.0, (viewport.y - 1.0) / 2.0),
                                    vec4(0.0, 0.0, 0.0, 1.0));

            mat3 T = transpose(splat2World) * world2ndc * ndc2pix;
            vec3 normal = vec3(viewMatrix * vec4(L[0][2], L[1][2], L[2][2], 0.0));
        `;return e+=`

                mat4 splat2World4 = mat4(vec4(L[0], 0.0),
                                        vec4(L[1], 0.0),
                                        vec4(L[2], 0.0),
                                        vec4(splatCenter.x, splatCenter.y, splatCenter.z, 1.0));

                mat4 Tt = transpose(transpose(splat2World4) * world2ndc);

                vec4 tempPoint1 = Tt * vec4(1.0, 0.0, 0.0, 1.0);
                tempPoint1 /= tempPoint1.w;

                vec4 tempPoint2 = Tt * vec4(0.0, 1.0, 0.0, 1.0);
                tempPoint2 /= tempPoint2.w;

                vec4 center = Tt * vec4(0.0, 0.0, 0.0, 1.0);
                center /= center.w;

                vec2 basisVector1 = tempPoint1.xy - center.xy;
                vec2 basisVector2 = tempPoint2.xy - center.xy;

                vec2 basisVector1Screen = basisVector1 * 0.5 * viewport;
                vec2 basisVector2Screen = basisVector2 * 0.5 * viewport;

                const float minPix = 1.;
                if (length(basisVector1Screen) < minPix || length(basisVector2Screen) < minPix) {
                    
            vec3 T0 = vec3(T[0][0], T[0][1], T[0][2]);
            vec3 T1 = vec3(T[1][0], T[1][1], T[1][2]);
            vec3 T3 = vec3(T[2][0], T[2][1], T[2][2]);

            vec3 tempPoint = vec3(1.0, 1.0, -1.0);
            float distance = (T3.x * T3.x * tempPoint.x) + (T3.y * T3.y * tempPoint.y) + (T3.z * T3.z * tempPoint.z);
            vec3 f = (1.0 / distance) * tempPoint;
            if (abs(distance) < 0.00001) return;

            float pointImageX = (T0.x * T3.x * f.x) + (T0.y * T3.y * f.y) + (T0.z * T3.z * f.z);
            float pointImageY = (T1.x * T3.x * f.x) + (T1.y * T3.y * f.y) + (T1.z * T3.z * f.z);
            vec2 pointImage = vec2(pointImageX, pointImageY);

            float tempX = (T0.x * T0.x * f.x) + (T0.y * T0.y * f.y) + (T0.z * T0.z * f.z);
            float tempY = (T1.x * T1.x * f.x) + (T1.y * T1.y * f.y) + (T1.z * T1.z * f.z);
            vec2 temp = vec2(tempX, tempY);

            vec2 halfExtend = pointImage * pointImage - temp;
            vec2 extent = sqrt(max(vec2(0.0001), halfExtend));
            float radius = max(extent.x, extent.y);

            vec2 ndcOffset = ((position.xy * radius * 3.0) * basisViewport * 2.0);

            vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            gl_Position = quadPos;

            vT = T;
            vQuadCenter = pointImage;
            vFragCoord = (quadPos.xy * 0.5 + 0.5) * viewport;
        
                } else {
                    vec2 ndcOffset = vec2(position.x * basisVector1 + position.y * basisVector2) * 3.0 * inverseFocalAdjustment;
                    vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
                    gl_Position = quadPos;

                    vT = T;
                    vQuadCenter = center.xy;
                    vFragCoord = (quadPos.xy * 0.5 + 0.5) * viewport;
                }
            `,e+=pg.getVertexShaderFadeIn(),e+="}",e}static buildFragmentShader(){return`
            precision highp float;
            #include <common>

            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;
            varying vec2 vPosition;
            varying mat3 vT;
            varying vec2 vQuadCenter;
            varying vec2 vFragCoord;

            void main () {

                const float FilterInvSquare = 2.0;
                const float near_n = 0.2;
                const float T = 1.0;

                vec2 xy = vQuadCenter;
                vec3 Tu = vT[0];
                vec3 Tv = vT[1];
                vec3 Tw = vT[2];
                vec3 k = vFragCoord.x * Tw - Tu;
                vec3 l = vFragCoord.y * Tw - Tv;
                vec3 p = cross(k, l);
                if (p.z == 0.0) discard;
                vec2 s = vec2(p.x / p.z, p.y / p.z);
                float rho3d = (s.x * s.x + s.y * s.y); 
                vec2 d = vec2(xy.x - vFragCoord.x, xy.y - vFragCoord.y);
                float rho2d = FilterInvSquare * (d.x * d.x + d.y * d.y); 

                // compute intersection and depth
                float rho = min(rho3d, rho2d);
                float depth = (rho3d <= rho2d) ? (s.x * Tw.x + s.y * Tw.y) + Tw.z : Tw.z; 
                if (depth < near_n) discard;
                //  vec4 nor_o = collected_normal_opacity[j];
                //  float normal[3] = {nor_o.x, nor_o.y, nor_o.z};
                float opa = vColor.a;

                float power = -0.5f * rho;
                if (power > 0.0f) discard;

                // Eq. (2) from 3D Gaussian splatting paper.
                // Obtain alpha by multiplying with Gaussian opacity
                // and its exponential falloff from mean.
                // Avoid numerical instabilities (see paper appendix). 
                float alpha = min(0.99f, opa * exp(power));
                if (alpha < 1.0f / 255.0f) discard;
                float test_T = T * (1.0 - alpha);
                if (test_T < 0.0001)discard;

                float w = alpha * T;
                gl_FragColor = vec4(vColor.rgb, w);
            }
        `}}class Sut{static build(e){const t=new jl;t.setIndex([0,1,2,0,2,3]);const r=new Float32Array(4*3),i=new Vl(r,3);t.setAttribute("position",i),i.setXYZ(0,-1,-1,0),i.setXYZ(1,-1,1,0),i.setXYZ(2,1,1,0),i.setXYZ(3,1,-1,0),i.needsUpdate=!0;const a=new Vit().copy(t),s=new Uint32Array(e),o=new Bit(s,1,!1);return o.setUsage(Grt),a.setAttribute("splatIndex",o),a.instanceCount=0,a}}class wut extends Na{constructor(e,t=new tt,r=new Yi,i=new tt(1,1,1),a=1,s=1,o=!0){super(),this.splatBuffer=e,this.position.copy(t),this.quaternion.copy(r),this.scale.copy(i),this.transform=new ur,this.minimumAlpha=a,this.opacity=s,this.visible=o}copyTransformData(e){this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.transform.copy(e.transform)}updateTransform(e){e?(this.matrixWorldAutoUpdate&&this.updateWorldMatrix(!0,!1),this.transform.copy(this.matrixWorld)):(this.matrixAutoUpdate&&this.updateMatrix(),this.transform.copy(this.matrix))}}const bT=class bT{constructor(e,t,r,i){this.min=new tt().copy(e),this.max=new tt().copy(t),this.boundingBox=new au(this.min,this.max),this.center=new tt().copy(this.max).sub(this.min).multiplyScalar(.5).add(this.min),this.depth=r,this.children=[],this.data=null,this.id=i||bT.idGen++}};cn(bT,"idGen",0);let vD=bT;class Hb{constructor(e,t){this.maxDepth=e,this.maxCentersPerNode=t,this.sceneDimensions=new tt,this.sceneMin=new tt,this.sceneMax=new tt,this.rootNode=null,this.nodesWithIndexes=[],this.splatMesh=null}static convertWorkerSubTreeNode(e){const t=new tt().fromArray(e.min),r=new tt().fromArray(e.max),i=new vD(t,r,e.depth,e.id);if(e.data.indexes){i.data={indexes:[]};for(let a of e.data.indexes)i.data.indexes.push(a)}if(e.children)for(let a of e.children)i.children.push(Hb.convertWorkerSubTreeNode(a));return i}static convertWorkerSubTree(e,t){const r=new Hb(e.maxDepth,e.maxCentersPerNode);r.sceneMin=new tt().fromArray(e.sceneMin),r.sceneMax=new tt().fromArray(e.sceneMax),r.splatMesh=t,r.rootNode=Hb.convertWorkerSubTreeNode(e.rootNode);const i=(a,s)=>{a.children.length===0&&s(a);for(let o of a.children)i(o,s)};return r.nodesWithIndexes=[],i(r.rootNode,a=>{a.data&&a.data.indexes&&a.data.indexes.length>0&&r.nodesWithIndexes.push(a)}),r}}function xut(n){let e=0;class t{constructor(l,c){this.min=[l[0],l[1],l[2]],this.max=[c[0],c[1],c[2]]}containsPoint(l){return l[0]>=this.min[0]&&l[0]<=this.max[0]&&l[1]>=this.min[1]&&l[1]<=this.max[1]&&l[2]>=this.min[2]&&l[2]<=this.max[2]}}class r{constructor(l,c){this.maxDepth=l,this.maxCentersPerNode=c,this.sceneDimensions=[],this.sceneMin=[],this.sceneMax=[],this.rootNode=null,this.addedIndexes={},this.nodesWithIndexes=[],this.splatMesh=null,this.disposed=!1}}class i{constructor(l,c,u,d){this.min=[l[0],l[1],l[2]],this.max=[c[0],c[1],c[2]],this.center=[(c[0]-l[0])*.5+l[0],(c[1]-l[1])*.5+l[1],(c[2]-l[2])*.5+l[2]],this.depth=u,this.children=[],this.data=null,this.id=d||e++}}processSplatTreeNode=function(o,l,c,u){const d=l.data.indexes.length;if(d<o.maxCentersPerNode||l.depth>o.maxDepth){const y=[];for(let b=0;b<l.data.indexes.length;b++)o.addedIndexes[l.data.indexes[b]]||(y.push(l.data.indexes[b]),o.addedIndexes[l.data.indexes[b]]=!0);l.data.indexes=y,l.data.indexes.sort((b,_)=>b>_?1:-1),o.nodesWithIndexes.push(l);return}const f=[l.max[0]-l.min[0],l.max[1]-l.min[1],l.max[2]-l.min[2]],h=[f[0]*.5,f[1]*.5,f[2]*.5],p=[l.min[0]+h[0],l.min[1]+h[1],l.min[2]+h[2]],m=[new t([p[0]-h[0],p[1],p[2]-h[2]],[p[0],p[1]+h[1],p[2]]),new t([p[0],p[1],p[2]-h[2]],[p[0]+h[0],p[1]+h[1],p[2]]),new t([p[0],p[1],p[2]],[p[0]+h[0],p[1]+h[1],p[2]+h[2]]),new t([p[0]-h[0],p[1],p[2]],[p[0],p[1]+h[1],p[2]+h[2]]),new t([p[0]-h[0],p[1]-h[1],p[2]-h[2]],[p[0],p[1],p[2]]),new t([p[0],p[1]-h[1],p[2]-h[2]],[p[0]+h[0],p[1],p[2]]),new t([p[0],p[1]-h[1],p[2]],[p[0]+h[0],p[1],p[2]+h[2]]),new t([p[0]-h[0],p[1]-h[1],p[2]],[p[0],p[1],p[2]+h[2]])],g=[];for(let y=0;y<m.length;y++)g[y]=[];const v=[0,0,0];for(let y=0;y<d;y++){const b=l.data.indexes[y],_=c[b];v[0]=u[_],v[1]=u[_+1],v[2]=u[_+2];for(let w=0;w<m.length;w++)m[w].containsPoint(v)&&g[w].push(b)}for(let y=0;y<m.length;y++){const b=new i(m[y].min,m[y].max,l.depth+1);b.data={indexes:g[y]},l.children.push(b)}l.data={};for(let y of l.children)processSplatTreeNode(o,y,c,u)};const a=(o,l,c)=>{const u=[0,0,0],d=[0,0,0],f=[],h=Math.floor(o.length/4);for(let m=0;m<h;m++){const g=m*4,v=o[g],y=o[g+1],b=o[g+2],_=Math.round(o[g+3]);(m===0||v<u[0])&&(u[0]=v),(m===0||v>d[0])&&(d[0]=v),(m===0||y<u[1])&&(u[1]=y),(m===0||y>d[1])&&(d[1]=y),(m===0||b<u[2])&&(u[2]=b),(m===0||b>d[2])&&(d[2]=b),f.push(_)}const p=new r(l,c);return p.sceneMin=u,p.sceneMax=d,p.rootNode=new i(p.sceneMin,p.sceneMax,0),p.rootNode.data={indexes:f},p};function s(o,l,c){const u=[];for(let f of o){const h=Math.floor(f.length/4);for(let p=0;p<h;p++){const m=p*4,g=Math.round(f[m+3]);u[g]=m}}const d=[];for(let f of o){const h=a(f,l,c);d.push(h),processSplatTreeNode(h,h.rootNode,u,f)}n.postMessage({subTrees:d})}n.onmessage=o=>{o.data.process&&s(o.data.process.centers,o.data.process.maxDepth,o.data.process.maxCentersPerNode)}}function Cut(n,e,t,r,i){n.postMessage({process:{centers:e,maxDepth:r,maxCentersPerNode:i}},t)}function Mut(){return new Worker(URL.createObjectURL(new Blob(["(",xut.toString(),")(self)"],{type:"application/javascript"})))}class Tut{constructor(e,t){cn(this,"processSplatMesh",function(e,t=()=>!0,r,i){this.splatTreeWorker||(this.splatTreeWorker=Mut()),this.splatMesh=e,this.subTrees=[];const a=new tt,s=(o,l)=>{const c=new Float32Array(l*4);let u=0;for(let d=0;d<l;d++){const f=d+o;if(t(f)){e.getSplatCenter(f,a);const h=u*4;c[h]=a.x,c[h+1]=a.y,c[h+2]=a.z,c[h+3]=f,u++}}return c};return new Promise(o=>{const l=()=>this.disposed?(this.diposeSplatTreeWorker(),o(),!0):!1;r&&r(!1),Sc(()=>{if(l())return;const c=[];if(e.dynamicMode){let u=0;for(let d=0;d<e.scenes.length;d++){const h=e.getScene(d).splatBuffer.getSplatCount(),p=s(u,h);c.push(p),u+=h}}else{const u=s(0,e.getSplatCount());c.push(u)}this.splatTreeWorker.onmessage=u=>{l()||u.data.subTrees&&(i&&i(!1),Sc(()=>{if(!l()){for(let d of u.data.subTrees){const f=Hb.convertWorkerSubTree(d,e);this.subTrees.push(f)}this.diposeSplatTreeWorker(),i&&i(!0),Sc(()=>{o()})}}))},Sc(()=>{if(l())return;r&&r(!0);const u=c.map(d=>d.buffer);Cut(this.splatTreeWorker,c,u,this.maxDepth,this.maxCentersPerNode)})})})});this.maxDepth=e,this.maxCentersPerNode=t,this.subTrees=[],this.splatMesh=null}dispose(){this.diposeSplatTreeWorker(),this.disposed=!0}diposeSplatTreeWorker(){this.splatTreeWorker&&this.splatTreeWorker.terminate(),this.splatTreeWorker=null}countLeaves(){let e=0;return this.visitLeaves(()=>{e++}),e}visitLeaves(e){const t=(r,i)=>{r.children.length===0&&i(r);for(let a of r.children)t(a,i)};for(let r of this.subTrees)t(r.rootNode,e)}}function Aut(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?(t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance")):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Eut(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(M){if(M==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let o=t.precision!==void 0?t.precision:"highp";const l=a(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=s||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=n.getParameter(n.MAX_TEXTURE_SIZE),p=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),m=n.getParameter(n.MAX_VERTEX_ATTRIBS),g=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),v=n.getParameter(n.MAX_VARYING_VECTORS),y=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),b=f>0,_=s||e.has("OES_texture_float"),w=b&&_,x=s?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:y,vertexTextures:b,floatFragmentTextures:_,floatVertexTextures:w,maxSamples:x}}const Vb={Default:0,Gradual:1,Instant:2},mg={None:0,Error:1,Warning:2,Info:3,Debug:4},uq=new jl,Iut=new V0,N2=6,Rut=4,Put=4,Lut=4,Dut=6,kut=8,iR=4,aR=4,dq=1,Out=.012,Nut=.003,fq=1,hq=16777216;class es extends fa{constructor(t=ld.ThreeD,r=!1,i=!1,a=!1,s=1,o=!0,l=!1,c=!1,u=1024,d=mg.None,f=0,h=1,p=.3){super(uq,Iut);cn(this,"buildSplatTree",function(t=[],r,i){return new Promise(a=>{this.disposeSplatTree(),this.baseSplatTree=new Tut(8,1e3);const s=performance.now(),o=new Vi;this.baseSplatTree.processSplatMesh(this,l=>{this.getSplatColor(l,o);const c=this.getSceneIndexForSplat(l),u=t[c]||1;return o.w>=u},r,i).then(()=>{const l=performance.now()-s;if(this.logLevel>=mg.Info&&console.log("SplatTree build: "+l+" ms"),this.disposed)a();else{this.splatTree=this.baseSplatTree,this.baseSplatTree=null;let c=0,u=0,d=0;this.splatTree.visitLeaves(f=>{const h=f.data.indexes.length;h>0&&(u+=h,d++,c++)}),this.logLevel>=mg.Info&&(console.log(`SplatTree leaves: ${this.splatTree.countLeaves()}`),console.log(`SplatTree leaves with splats:${c}`),u=u/d,console.log(`Avg splat count per node: ${u}`),console.log(`Total splat count: ${this.getSplatCount()}`)),a()}})})});cn(this,"updateUniforms",function(){const t=new Hn;return function(r,i,a,s,o,l){if(this.getSplatCount()>0){if(t.set(r.x*this.devicePixelRatio,r.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(t),this.material.uniforms.basisViewport.value.set(1/t.x,1/t.y),this.material.uniforms.focal.value.set(i,a),this.material.uniforms.orthographicMode.value=s?1:0,this.material.uniforms.orthoZoom.value=o,this.material.uniforms.inverseFocalAdjustment.value=l,this.dynamicMode)for(let u=0;u<this.scenes.length;u++)this.material.uniforms.transforms.value[u].copy(this.getScene(u).transform);if(this.enableOptionalEffects)for(let u=0;u<this.scenes.length;u++)this.material.uniforms.sceneOpacity.value[u]=os(this.getScene(u).opacity,0,1),this.material.uniforms.sceneVisibility.value[u]=this.getScene(u).visible?1:0,this.material.uniformsNeedUpdate=!0;this.material.uniformsNeedUpdate=!0}}}());cn(this,"setupDistancesComputationTransformFeedback",function(){let t;return function(){const r=this.getMaxSplatCount();if(!this.renderer)return;const i=this.lastRenderer!==this.renderer,a=t!==r;if(!i&&!a)return;i?this.disposeDistancesComputationGPUResources():a&&this.disposeDistancesComputationGPUBufferResources();const s=this.renderer.getContext(),o=(h,p,m)=>{const g=h.createShader(p);if(!g)return console.error("Fatal error: gl could not create a shader object."),null;if(h.shaderSource(g,m),h.compileShader(g),!h.getShaderParameter(g,h.COMPILE_STATUS)){let y="unknown";p===h.VERTEX_SHADER?y="vertex shader":p===h.FRAGMENT_SHADER&&(y="fragement shader");const b=h.getShaderInfoLog(g);return console.error("Failed to compile "+y+" with these errors:"+b),h.deleteShader(g),null}return g};let l;this.integerBasedDistancesComputation?(l=`#version 300 es
                in ivec4 center;
                flat out int distance;`,this.dynamicMode?l+=`
                        in uint sceneIndex;
                        uniform ivec4 transforms[${Fr.MaxScenes}];
                        void main(void) {
                            ivec4 transform = transforms[sceneIndex];
                            distance = center.x * transform.x + center.y * transform.y + center.z * transform.z + transform.w * center.w;
                        }
                    `:l+=`
                        uniform ivec3 modelViewProj;
                        void main(void) {
                            distance = center.x * modelViewProj.x + center.y * modelViewProj.y + center.z * modelViewProj.z;
                        }
                    `):(l=`#version 300 es
                in vec4 center;
                flat out float distance;`,this.dynamicMode?l+=`
                        in uint sceneIndex;
                        uniform mat4 transforms[${Fr.MaxScenes}];
                        void main(void) {
                            vec4 transformedCenter = transforms[sceneIndex] * vec4(center.xyz, 1.0);
                            distance = transformedCenter.z;
                        }
                    `:l+=`
                        uniform vec3 modelViewProj;
                        void main(void) {
                            distance = center.x * modelViewProj.x + center.y * modelViewProj.y + center.z * modelViewProj.z;
                        }
                    `);const c=`#version 300 es
                precision lowp float;
                out vec4 fragColor;
                void main(){}
            `,u=s.getParameter(s.VERTEX_ARRAY_BINDING),d=s.getParameter(s.CURRENT_PROGRAM),f=d?s.getProgramParameter(d,s.DELETE_STATUS):!1;if(i&&(this.distancesTransformFeedback.vao=s.createVertexArray()),s.bindVertexArray(this.distancesTransformFeedback.vao),i){const h=s.createProgram(),p=o(s,s.VERTEX_SHADER,l),m=o(s,s.FRAGMENT_SHADER,c);if(!p||!m)throw new Error("Could not compile shaders for distances computation on GPU.");if(s.attachShader(h,p),s.attachShader(h,m),s.transformFeedbackVaryings(h,["distance"],s.SEPARATE_ATTRIBS),s.linkProgram(h),!s.getProgramParameter(h,s.LINK_STATUS)){const v=s.getProgramInfoLog(h);throw console.error("Fatal error: Failed to link program: "+v),s.deleteProgram(h),s.deleteShader(m),s.deleteShader(p),new Error("Could not link shaders for distances computation on GPU.")}this.distancesTransformFeedback.program=h,this.distancesTransformFeedback.vertexShader=p,this.distancesTransformFeedback.vertexShader=m}if(s.useProgram(this.distancesTransformFeedback.program),this.distancesTransformFeedback.centersLoc=s.getAttribLocation(this.distancesTransformFeedback.program,"center"),this.dynamicMode){this.distancesTransformFeedback.sceneIndexesLoc=s.getAttribLocation(this.distancesTransformFeedback.program,"sceneIndex");for(let h=0;h<this.scenes.length;h++)this.distancesTransformFeedback.transformsLocs[h]=s.getUniformLocation(this.distancesTransformFeedback.program,`transforms[${h}]`)}else this.distancesTransformFeedback.modelViewProjLoc=s.getUniformLocation(this.distancesTransformFeedback.program,"modelViewProj");(i||a)&&(this.distancesTransformFeedback.centersBuffer=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this.distancesTransformFeedback.centersBuffer),s.enableVertexAttribArray(this.distancesTransformFeedback.centersLoc),this.integerBasedDistancesComputation?s.vertexAttribIPointer(this.distancesTransformFeedback.centersLoc,4,s.INT,0,0):s.vertexAttribPointer(this.distancesTransformFeedback.centersLoc,4,s.FLOAT,!1,0,0),this.dynamicMode&&(this.distancesTransformFeedback.sceneIndexesBuffer=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this.distancesTransformFeedback.sceneIndexesBuffer),s.enableVertexAttribArray(this.distancesTransformFeedback.sceneIndexesLoc),s.vertexAttribIPointer(this.distancesTransformFeedback.sceneIndexesLoc,1,s.UNSIGNED_INT,0,0))),(i||a)&&(this.distancesTransformFeedback.outDistancesBuffer=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,this.distancesTransformFeedback.outDistancesBuffer),s.bufferData(s.ARRAY_BUFFER,r*4,s.STATIC_READ),i&&(this.distancesTransformFeedback.id=s.createTransformFeedback()),s.bindTransformFeedback(s.TRANSFORM_FEEDBACK,this.distancesTransformFeedback.id),s.bindBufferBase(s.TRANSFORM_FEEDBACK_BUFFER,0,this.distancesTransformFeedback.outDistancesBuffer),d&&f!==!0&&s.useProgram(d),u&&s.bindVertexArray(u),this.lastRenderer=this.renderer,t=r}}());cn(this,"fillTransformsArray",function(){const t=[];return function(r){t.length!==r.length&&(t.length=r.length);for(let i=0;i<this.scenes.length;i++){const s=this.getScene(i).transform.elements;for(let o=0;o<16;o++)t[i*16+o]=s[o]}r.set(t)}}());cn(this,"computeDistancesOnGPU",function(){const t=new ur;return function(r,i){if(!this.renderer)return;const a=this.renderer.getContext(),s=a.getParameter(a.VERTEX_ARRAY_BINDING),o=a.getParameter(a.CURRENT_PROGRAM),l=o?a.getProgramParameter(o,a.DELETE_STATUS):!1;if(a.bindVertexArray(this.distancesTransformFeedback.vao),a.useProgram(this.distancesTransformFeedback.program),a.enable(a.RASTERIZER_DISCARD),this.dynamicMode)for(let d=0;d<this.scenes.length;d++)if(t.copy(this.getScene(d).transform),t.premultiply(r),this.integerBasedDistancesComputation){const f=es.getIntegerMatrixArray(t),h=[f[2],f[6],f[10],f[14]];a.uniform4i(this.distancesTransformFeedback.transformsLocs[d],h[0],h[1],h[2],h[3])}else a.uniformMatrix4fv(this.distancesTransformFeedback.transformsLocs[d],!1,t.elements);else if(this.integerBasedDistancesComputation){const d=es.getIntegerMatrixArray(r),f=[d[2],d[6],d[10]];a.uniform3i(this.distancesTransformFeedback.modelViewProjLoc,f[0],f[1],f[2])}else{const d=[r.elements[2],r.elements[6],r.elements[10]];a.uniform3f(this.distancesTransformFeedback.modelViewProjLoc,d[0],d[1],d[2])}a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.centersBuffer),a.enableVertexAttribArray(this.distancesTransformFeedback.centersLoc),this.integerBasedDistancesComputation?a.vertexAttribIPointer(this.distancesTransformFeedback.centersLoc,4,a.INT,0,0):a.vertexAttribPointer(this.distancesTransformFeedback.centersLoc,4,a.FLOAT,!1,0,0),this.dynamicMode&&(a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.sceneIndexesBuffer),a.enableVertexAttribArray(this.distancesTransformFeedback.sceneIndexesLoc),a.vertexAttribIPointer(this.distancesTransformFeedback.sceneIndexesLoc,1,a.UNSIGNED_INT,0,0)),a.bindTransformFeedback(a.TRANSFORM_FEEDBACK,this.distancesTransformFeedback.id),a.bindBufferBase(a.TRANSFORM_FEEDBACK_BUFFER,0,this.distancesTransformFeedback.outDistancesBuffer),a.beginTransformFeedback(a.POINTS),a.drawArrays(a.POINTS,0,this.getSplatCount()),a.endTransformFeedback(),a.bindBufferBase(a.TRANSFORM_FEEDBACK_BUFFER,0,null),a.bindTransformFeedback(a.TRANSFORM_FEEDBACK,null),a.disable(a.RASTERIZER_DISCARD);const c=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);a.flush();const u=new Promise(d=>{const f=()=>{if(this.disposed)d();else switch(a.clientWaitSync(c,0,0)){case a.TIMEOUT_EXPIRED:return this.computeDistancesOnGPUSyncTimeout=setTimeout(f),this.computeDistancesOnGPUSyncTimeout;case a.WAIT_FAILED:throw new Error("should never get here");default:this.computeDistancesOnGPUSyncTimeout=null,a.deleteSync(c);const g=a.getParameter(a.VERTEX_ARRAY_BINDING);a.bindVertexArray(this.distancesTransformFeedback.vao),a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.outDistancesBuffer),a.getBufferSubData(a.ARRAY_BUFFER,0,i),a.bindBuffer(a.ARRAY_BUFFER,null),g&&a.bindVertexArray(g),d()}};this.computeDistancesOnGPUSyncTimeout=setTimeout(f)});return o&&l!==!0&&a.useProgram(o),s&&a.bindVertexArray(s),u}}());cn(this,"getSplatCenter",function(){const t={};return function(r,i,a){this.getLocalSplatParameters(r,t,a),t.splatBuffer.getSplatCenter(t.localIndex,i,t.sceneTransform)}}());cn(this,"getSplatScaleAndRotation",function(){const t={},r=new tt;return function(i,a,s,o){this.getLocalSplatParameters(i,t,o),r.x=void 0,r.y=void 0,r.z=void 0,this.splatRenderMode===ld.TwoD&&(r.z=0),t.splatBuffer.getSplatScaleAndRotation(t.localIndex,a,s,t.sceneTransform,r)}}());cn(this,"getSplatColor",function(){const t={};return function(r,i){this.getLocalSplatParameters(r,t),t.splatBuffer.getSplatColor(t.localIndex,i)}}());this.renderer=void 0,this.splatRenderMode=t,this.dynamicMode=r,this.enableOptionalEffects=i,this.halfPrecisionCovariancesOnGPU=a,this.devicePixelRatio=s,this.enableDistancesComputationOnGPU=o,this.integerBasedDistancesComputation=l,this.antialiased=c,this.kernel2DSize=p,this.maxScreenSpaceSplatSize=u,this.logLevel=d,this.sphericalHarmonicsDegree=f,this.minSphericalHarmonicsDegree=0,this.sceneFadeInRateMultiplier=h,this.scenes=[],this.splatTree=null,this.baseSplatTree=null,this.splatDataTextures={},this.distancesTransformFeedback={id:null,vertexShader:null,fragmentShader:null,program:null,centersBuffer:null,sceneIndexesBuffer:null,outDistancesBuffer:null,centersLoc:-1,modelViewProjLoc:-1,sceneIndexesLoc:-1,transformsLocs:[]},this.globalSplatIndexToLocalSplatIndexMap=[],this.globalSplatIndexToSceneIndexMap=[],this.lastBuildSplatCount=0,this.lastBuildScenes=[],this.lastBuildMaxSplatCount=0,this.lastBuildSceneCount=0,this.firstRenderTime=-1,this.finalBuild=!1,this.webGLUtils=null,this.boundingBox=new au,this.calculatedSceneCenter=new tt,this.maxSplatDistanceFromSceneCenter=0,this.visibleRegionBufferRadius=0,this.visibleRegionRadius=0,this.visibleRegionFadeStartRadius=0,this.visibleRegionChanging=!1,this.splatScale=1,this.pointCloudModeEnabled=!1,this.disposed=!1,this.lastRenderer=null,this.visible=!1}static buildScenes(t,r,i){const a=[];a.length=r.length;for(let s=0;s<r.length;s++){const o=r[s],l=i[s]||{};let c=l.position||[0,0,0],u=l.rotation||[0,0,0,1],d=l.scale||[1,1,1];const f=new tt().fromArray(c),h=new Yi().fromArray(u),p=new tt().fromArray(d),m=es.createScene(o,f,h,p,l.splatAlphaRemovalThreshold||1,l.opacity,l.visible);t.add(m),a[s]=m}return a}static createScene(t,r,i,a,s,o=1,l=!0){return new wut(t,r,i,a,s,o,l)}static buildSplatIndexMaps(t){const r=[],i=[];let a=0;for(let s=0;s<t.length;s++){const l=t[s].getMaxSplatCount();for(let c=0;c<l;c++)r[a]=c,i[a]=s,a++}return{localSplatIndexMap:r,sceneIndexMap:i}}build(t,r,i=!0,a=!1,s,o,l=!0){this.sceneOptions=r,this.finalBuild=a;const c=es.getTotalMaxSplatCountForSplatBuffers(t),u=es.buildScenes(this,t,r);if(i)for(let g=0;g<this.scenes.length&&g<u.length;g++){const v=u[g],y=this.getScene(g);v.copyTransformData(y)}this.scenes=u;let d=3;for(let g of t){const v=g.getMinSphericalHarmonicsDegree();v<d&&(d=v)}this.minSphericalHarmonicsDegree=Math.min(d,this.sphericalHarmonicsDegree);let f=!1;if(t.length!==this.lastBuildScenes.length)f=!0;else for(let g=0;g<t.length;g++)if(t[g]!==this.lastBuildScenes[g].splatBuffer){f=!0;break}let h=!0;if((this.scenes.length!==1||this.lastBuildSceneCount!==this.scenes.length||this.lastBuildMaxSplatCount!==c||f)&&(h=!1),!h){this.boundingBox=new au,l||(this.maxSplatDistanceFromSceneCenter=0,this.visibleRegionBufferRadius=0,this.visibleRegionRadius=0,this.visibleRegionFadeStartRadius=0,this.firstRenderTime=-1),this.lastBuildScenes=[],this.lastBuildSplatCount=0,this.lastBuildMaxSplatCount=0,this.disposeMeshData(),this.geometry=Sut.build(c),this.splatRenderMode===ld.ThreeD?this.material=vT.build(this.dynamicMode,this.enableOptionalEffects,this.antialiased,this.maxScreenSpaceSplatSize,this.splatScale,this.pointCloudModeEnabled,this.minSphericalHarmonicsDegree,this.kernel2DSize):this.material=gT.build(this.dynamicMode,this.enableOptionalEffects,this.splatScale,this.pointCloudModeEnabled,this.minSphericalHarmonicsDegree);const g=es.buildSplatIndexMaps(t);this.globalSplatIndexToLocalSplatIndexMap=g.localSplatIndexMap,this.globalSplatIndexToSceneIndexMap=g.sceneIndexMap}const p=this.getSplatCount(!0);this.enableDistancesComputationOnGPU&&this.setupDistancesComputationTransformFeedback();const m=this.refreshGPUDataFromSplatBuffers(h);for(let g=0;g<this.scenes.length;g++)this.lastBuildScenes[g]=this.scenes[g];return this.lastBuildSplatCount=p,this.lastBuildMaxSplatCount=this.getMaxSplatCount(),this.lastBuildSceneCount=this.scenes.length,a&&this.scenes.length>0&&this.buildSplatTree(r.map(g=>g.splatAlphaRemovalThreshold||1),s,o).then(()=>{this.onSplatTreeReadyCallback&&this.onSplatTreeReadyCallback(this.splatTree),this.onSplatTreeReadyCallback=null}),this.visible=this.scenes.length>0,m}freeIntermediateSplatData(){const t=r=>{delete r.source.data,delete r.image,r.onUpdate=null};delete this.splatDataTextures.baseData.covariances,delete this.splatDataTextures.baseData.centers,delete this.splatDataTextures.baseData.colors,delete this.splatDataTextures.baseData.sphericalHarmonics,delete this.splatDataTextures.centerColors.data,delete this.splatDataTextures.covariances.data,this.splatDataTextures.sphericalHarmonics&&delete this.splatDataTextures.sphericalHarmonics.data,this.splatDataTextures.sceneIndexes&&delete this.splatDataTextures.sceneIndexes.data,this.splatDataTextures.centerColors.texture.needsUpdate=!0,this.splatDataTextures.centerColors.texture.onUpdate=()=>{t(this.splatDataTextures.centerColors.texture)},this.splatDataTextures.covariances.texture.needsUpdate=!0,this.splatDataTextures.covariances.texture.onUpdate=()=>{t(this.splatDataTextures.covariances.texture)},this.splatDataTextures.sphericalHarmonics&&(this.splatDataTextures.sphericalHarmonics.texture?(this.splatDataTextures.sphericalHarmonics.texture.needsUpdate=!0,this.splatDataTextures.sphericalHarmonics.texture.onUpdate=()=>{t(this.splatDataTextures.sphericalHarmonics.texture)}):this.splatDataTextures.sphericalHarmonics.textures.forEach(r=>{r.needsUpdate=!0,r.onUpdate=()=>{t(r)}})),this.splatDataTextures.sceneIndexes&&(this.splatDataTextures.sceneIndexes.texture.needsUpdate=!0,this.splatDataTextures.sceneIndexes.texture.onUpdate=()=>{t(this.splatDataTextures.sceneIndexes.texture)})}dispose(){this.disposeMeshData(),this.disposeTextures(),this.disposeSplatTree(),this.enableDistancesComputationOnGPU&&(this.computeDistancesOnGPUSyncTimeout&&(clearTimeout(this.computeDistancesOnGPUSyncTimeout),this.computeDistancesOnGPUSyncTimeout=null),this.disposeDistancesComputationGPUResources()),this.scenes=[],this.distancesTransformFeedback={id:null,vertexShader:null,fragmentShader:null,program:null,centersBuffer:null,sceneIndexesBuffer:null,outDistancesBuffer:null,centersLoc:-1,modelViewProjLoc:-1,sceneIndexesLoc:-1,transformsLocs:[]},this.renderer=null,this.globalSplatIndexToLocalSplatIndexMap=[],this.globalSplatIndexToSceneIndexMap=[],this.lastBuildSplatCount=0,this.lastBuildScenes=[],this.lastBuildMaxSplatCount=0,this.lastBuildSceneCount=0,this.firstRenderTime=-1,this.finalBuild=!1,this.webGLUtils=null,this.boundingBox=new au,this.calculatedSceneCenter=new tt,this.maxSplatDistanceFromSceneCenter=0,this.visibleRegionBufferRadius=0,this.visibleRegionRadius=0,this.visibleRegionFadeStartRadius=0,this.visibleRegionChanging=!1,this.splatScale=1,this.pointCloudModeEnabled=!1,this.disposed=!0,this.lastRenderer=null,this.visible=!1}disposeMeshData(){this.geometry&&this.geometry!==uq&&(this.geometry.dispose(),this.geometry=null),this.material&&(this.material.dispose(),this.material=null)}disposeTextures(){for(let t in this.splatDataTextures)if(this.splatDataTextures.hasOwnProperty(t)){const r=this.splatDataTextures[t];r.texture&&(r.texture.dispose(),r.texture=null)}this.splatDataTextures=null}disposeSplatTree(){this.splatTree&&(this.splatTree.dispose(),this.splatTree=null),this.baseSplatTree&&(this.baseSplatTree.dispose(),this.baseSplatTree=null)}getSplatTree(){return this.splatTree}onSplatTreeReady(t){this.onSplatTreeReadyCallback=t}getDataForDistancesComputation(t,r){const i=this.integerBasedDistancesComputation?this.getIntegerCenters(t,r,!0):this.getFloatCenters(t,r,!0),a=this.getSceneIndexes(t,r);return{centers:i,sceneIndexes:a}}refreshGPUDataFromSplatBuffers(t){const r=this.getSplatCount(!0);this.refreshDataTexturesFromSplatBuffers(t);const i=t?this.lastBuildSplatCount:0,{centers:a,sceneIndexes:s}=this.getDataForDistancesComputation(i,r-1);return this.enableDistancesComputationOnGPU&&this.refreshGPUBuffersForDistancesComputation(a,s,t),{from:i,to:r-1,count:r-i,centers:a,sceneIndexes:s}}refreshGPUBuffersForDistancesComputation(t,r,i=!1){const a=i?this.lastBuildSplatCount:0;this.updateGPUCentersBufferForDistancesComputation(i,t,a),this.updateGPUTransformIndexesBufferForDistancesComputation(i,r,a)}refreshDataTexturesFromSplatBuffers(t){const r=this.getSplatCount(!0),i=this.lastBuildSplatCount,a=r-1;t?this.updateBaseDataFromSplatBuffers(i,a):(this.setupDataTextures(),this.updateBaseDataFromSplatBuffers()),this.updateDataTexturesFromBaseData(i,a),this.updateVisibleRegion(t)}setupDataTextures(){const t=this.getMaxSplatCount(),r=this.getSplatCount(!0);this.disposeTextures();const i=(C,T)=>{const A=new Hn(4096,1024);for(;A.x*A.y*C<t*T;)A.y*=2;return A},a=C=>C>=1?Dut:Put,s=C=>{const T=a(C),A=i(T,6);return{elementsPerTexelStored:T,texSize:A}};let o=this.getTargetCovarianceCompressionLevel();const l=0,c=this.getTargetSphericalHarmonicsCompressionLevel();let u,d,f;if(this.splatRenderMode===ld.ThreeD){const C=s(o);C.texSize.x*C.texSize.y>hq&&o===0&&(o=1),u=new Float32Array(t*N2)}else d=new Float32Array(t*3),f=new Float32Array(t*4);const h=new Float32Array(t*3),p=new Uint8Array(t*4);let m=Float32Array;c===1?m=Uint16Array:c===2&&(m=Uint8Array);const g=hg(this.minSphericalHarmonicsDegree),v=this.minSphericalHarmonicsDegree?new m(t*g):void 0,y=i(aR,4),b=new Uint32Array(y.x*y.y*aR);es.updateCenterColorsPaddedData(0,r-1,h,p,b);const _=new Af(b,y.x,y.y,dg,Bl);if(_.internalFormat="RGBA32UI",_.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=_,this.material.uniforms.centersColorsTextureSize.value.copy(y),this.material.uniformsNeedUpdate=!0,this.splatDataTextures={baseData:{covariances:u,scales:d,rotations:f,centers:h,colors:p,sphericalHarmonics:v},centerColors:{data:b,texture:_,size:y}},this.splatRenderMode===ld.ThreeD){const C=s(o),T=C.elementsPerTexelStored,A=C.texSize;let I=o>=1?Uint32Array:Float32Array;const L=o>=1?kut:Lut,k=new I(A.x*A.y*L);o===0?k.set(u):es.updatePaddedCompressedCovariancesTextureData(u,k,0,0,u.length);let N;if(o>=1)N=new Af(k,A.x,A.y,dg,Bl),N.internalFormat="RGBA32UI",this.material.uniforms.covariancesTextureHalfFloat.value=N;else{N=new Af(k,A.x,A.y,js,_c),this.material.uniforms.covariancesTexture.value=N;const F=new Af(new Uint32Array(32),2,2,dg,Bl);F.internalFormat="RGBA32UI",this.material.uniforms.covariancesTextureHalfFloat.value=F,F.needsUpdate=!0}N.needsUpdate=!0,this.material.uniforms.covariancesAreHalfFloat.value=o>=1?1:0,this.material.uniforms.covariancesTextureSize.value.copy(A),this.splatDataTextures.covariances={data:k,texture:N,size:A,compressionLevel:o,elementsPerTexelStored:T,elementsPerTexelAllocated:L}}else{const T=i(iR,6);let A=Float32Array,I=_c;const L=new A(T.x*T.y*iR);es.updateScaleRotationsPaddedData(0,r-1,d,f,L);const k=new Af(L,T.x,T.y,js,I);k.needsUpdate=!0,this.material.uniforms.scaleRotationsTexture.value=k,this.material.uniforms.scaleRotationsTextureSize.value.copy(T),this.splatDataTextures.scaleRotations={data:L,texture:k,size:T,compressionLevel:l}}if(v){const C=c===2?xu:$y;let T=g;T%2!==0&&T++;const A=this.minSphericalHarmonicsDegree===2?4:2,I=A===4?js:AO;let L=i(A,T);if(L.x*L.y<=hq){const k=L.x*L.y*A,N=new m(k);for(let D=0;D<r;D++){const H=g*D,z=T*D;for(let B=0;B<g;B++)N[z+B]=v[H+B]}const F=new Af(N,L.x,L.y,I,C);F.needsUpdate=!0,this.material.uniforms.sphericalHarmonicsTexture.value=F,this.splatDataTextures.sphericalHarmonics={componentCount:g,paddedComponentCount:T,data:N,textureCount:1,texture:F,size:L,compressionLevel:c,elementsPerTexel:A}}else{const k=g/3;T=k,T%2!==0&&T++,L=i(A,T);const N=L.x*L.y*A,F=[this.material.uniforms.sphericalHarmonicsTextureR,this.material.uniforms.sphericalHarmonicsTextureG,this.material.uniforms.sphericalHarmonicsTextureB],D=[],H=[];for(let z=0;z<3;z++){const B=new m(N);D.push(B);for(let Z=0;Z<r;Z++){const ee=g*Z,J=T*Z;if(k>=3){for(let re=0;re<3;re++)B[J+re]=v[ee+z*3+re];if(k>=8)for(let re=0;re<5;re++)B[J+3+re]=v[ee+9+z*5+re]}}const W=new Af(B,L.x,L.y,I,C);H.push(W),W.needsUpdate=!0,F[z].value=W}this.material.uniforms.sphericalHarmonicsMultiTextureMode.value=1,this.splatDataTextures.sphericalHarmonics={componentCount:g,componentCountPerChannel:k,paddedComponentCount:T,data:D,textureCount:3,textures:H,size:L,compressionLevel:c,elementsPerTexel:A}}this.material.uniforms.sphericalHarmonicsTextureSize.value.copy(L),this.material.uniforms.sphericalHarmonics8BitMode.value=c===2?1:0;for(let k=0;k<this.scenes.length;k++){const N=this.scenes[k].splatBuffer;this.material.uniforms.sphericalHarmonics8BitCompressionRangeMin.value[k]=N.minSphericalHarmonicsCoeff,this.material.uniforms.sphericalHarmonics8BitCompressionRangeMax.value[k]=N.maxSphericalHarmonicsCoeff}this.material.uniformsNeedUpdate=!0}const w=i(dq,4),x=new Uint32Array(w.x*w.y*dq);for(let C=0;C<r;C++)x[C]=this.globalSplatIndexToSceneIndexMap[C];const M=new Af(x,w.x,w.y,HA,Bl);M.internalFormat="R32UI",M.needsUpdate=!0,this.material.uniforms.sceneIndexesTexture.value=M,this.material.uniforms.sceneIndexesTextureSize.value.copy(w),this.material.uniformsNeedUpdate=!0,this.splatDataTextures.sceneIndexes={data:x,texture:M,size:w},this.material.uniforms.sceneCount.value=this.scenes.length}updateBaseDataFromSplatBuffers(t,r){const i=this.splatDataTextures.covariances,a=i?i.compressionLevel:void 0,s=this.splatDataTextures.scaleRotations,o=s?s.compressionLevel:void 0,l=this.splatDataTextures.sphericalHarmonics,c=l?l.compressionLevel:0;this.fillSplatDataArrays(this.splatDataTextures.baseData.covariances,this.splatDataTextures.baseData.scales,this.splatDataTextures.baseData.rotations,this.splatDataTextures.baseData.centers,this.splatDataTextures.baseData.colors,this.splatDataTextures.baseData.sphericalHarmonics,void 0,a,o,c,t,r,t)}updateDataTexturesFromBaseData(t,r){const i=this.splatDataTextures.covariances,a=i?i.compressionLevel:void 0,s=this.splatDataTextures.scaleRotations,o=s?s.compressionLevel:void 0,l=this.splatDataTextures.sphericalHarmonics,c=l?l.compressionLevel:0,u=this.splatDataTextures.centerColors,d=u.data,f=u.texture;es.updateCenterColorsPaddedData(t,r,this.splatDataTextures.baseData.centers,this.splatDataTextures.baseData.colors,d);const h=this.renderer?this.renderer.properties.get(f):null;if(!h||!h.__webglTexture?f.needsUpdate=!0:this.updateDataTexture(d,u.texture,u.size,h,aR,Rut,4,t,r),i){const b=i.texture,_=t*N2,w=r*N2;if(a===0)for(let M=_;M<=w;M++){const C=this.splatDataTextures.baseData.covariances[M];i.data[M]=C}else es.updatePaddedCompressedCovariancesTextureData(this.splatDataTextures.baseData.covariances,i.data,t*i.elementsPerTexelAllocated,_,w);const x=this.renderer?this.renderer.properties.get(b):null;!x||!x.__webglTexture?b.needsUpdate=!0:a===0?this.updateDataTexture(i.data,i.texture,i.size,x,i.elementsPerTexelStored,N2,4,t,r):this.updateDataTexture(i.data,i.texture,i.size,x,i.elementsPerTexelAllocated,i.elementsPerTexelAllocated,2,t,r)}if(s){const b=s.data,_=s.texture,w=6,x=o===0?4:2;es.updateScaleRotationsPaddedData(t,r,this.splatDataTextures.baseData.scales,this.splatDataTextures.baseData.rotations,b);const M=this.renderer?this.renderer.properties.get(_):null;!M||!M.__webglTexture?_.needsUpdate=!0:this.updateDataTexture(b,s.texture,s.size,M,iR,w,x,t,r)}const p=this.splatDataTextures.baseData.sphericalHarmonics;if(p){let b=4;c===1?b=2:c===2&&(b=1);const _=(M,C,T,A,I)=>{const L=this.renderer?this.renderer.properties.get(M):null;!L||!L.__webglTexture?M.needsUpdate=!0:this.updateDataTexture(A,M,C,L,T,I,b,t,r)},w=l.componentCount,x=l.paddedComponentCount;if(l.textureCount===1){const M=l.data;for(let C=t;C<=r;C++){const T=w*C,A=x*C;for(let I=0;I<w;I++)M[A+I]=p[T+I]}_(l.texture,l.size,l.elementsPerTexel,M,x)}else{const M=l.componentCountPerChannel;for(let C=0;C<3;C++){const T=l.data[C];for(let A=t;A<=r;A++){const I=w*A,L=x*A;if(M>=3){for(let k=0;k<3;k++)T[L+k]=p[I+C*3+k];if(M>=8)for(let k=0;k<5;k++)T[L+3+k]=p[I+9+C*5+k]}}_(l.textures[C],l.size,l.elementsPerTexel,T,x)}}}const m=this.splatDataTextures.sceneIndexes,g=m.data;for(let b=this.lastBuildSplatCount;b<=r;b++)g[b]=this.globalSplatIndexToSceneIndexMap[b];const v=m.texture,y=this.renderer?this.renderer.properties.get(v):null;!y||!y.__webglTexture?v.needsUpdate=!0:this.updateDataTexture(g,m.texture,m.size,y,1,1,1,this.lastBuildSplatCount,r)}getTargetCovarianceCompressionLevel(){return this.halfPrecisionCovariancesOnGPU?1:0}getTargetSphericalHarmonicsCompressionLevel(){return Math.max(1,this.getMaximumSplatBufferCompressionLevel())}getMaximumSplatBufferCompressionLevel(){let t;for(let r=0;r<this.scenes.length;r++){const a=this.getScene(r).splatBuffer;(r===0||a.compressionLevel>t)&&(t=a.compressionLevel)}return t}getMinimumSplatBufferCompressionLevel(){let t;for(let r=0;r<this.scenes.length;r++){const a=this.getScene(r).splatBuffer;(r===0||a.compressionLevel<t)&&(t=a.compressionLevel)}return t}static computeTextureUpdateRegion(t,r,i,a,s){const o=s/a,l=t*o,c=Math.floor(l/i),u=c*i*a,d=r*o,f=Math.floor(d/i),h=f*i*a+i*a;return{dataStart:u,dataEnd:h,startRow:c,endRow:f}}updateDataTexture(t,r,i,a,s,o,l,c,u){const d=this.renderer.getContext(),f=es.computeTextureUpdateRegion(c,u,i.x,s,o),h=f.dataEnd-f.dataStart,p=new t.constructor(t.buffer,f.dataStart*l,h),m=f.endRow-f.startRow+1,g=this.webGLUtils.convert(r.type),v=this.webGLUtils.convert(r.format,r.colorSpace),y=d.getParameter(d.TEXTURE_BINDING_2D);d.bindTexture(d.TEXTURE_2D,a.__webglTexture),d.texSubImage2D(d.TEXTURE_2D,0,0,f.startRow,i.x,m,v,g,p),d.bindTexture(d.TEXTURE_2D,y)}static updatePaddedCompressedCovariancesTextureData(t,r,i,a,s){let o=new DataView(r.buffer),l=i,c=0;for(let u=a;u<=s;u+=2)o.setUint16(l*2,t[u],!0),o.setUint16(l*2+2,t[u+1],!0),l+=2,c++,c>=3&&(l+=2,c=0)}static updateCenterColorsPaddedData(t,r,i,a,s){for(let o=t;o<=r;o++){const l=o*4,c=o*3,u=o*4;s[u]=Tct(a,l),s[u+1]=ZI(i[c]),s[u+2]=ZI(i[c+1]),s[u+3]=ZI(i[c+2])}}static updateScaleRotationsPaddedData(t,r,i,a,s){for(let l=t;l<=r;l++){const c=l*3,u=l*4,d=l*6;s[d]=i[c],s[d+1]=i[c+1],s[d+2]=i[c+2],s[d+3]=a[u],s[d+4]=a[u+1],s[d+5]=a[u+2]}}updateVisibleRegion(t){const r=this.getSplatCount(!0),i=new tt;if(!t){const s=new tt;this.scenes.forEach(o=>{s.add(o.splatBuffer.sceneCenter)}),s.multiplyScalar(1/this.scenes.length),this.calculatedSceneCenter.copy(s),this.material.uniforms.sceneCenter.value.copy(this.calculatedSceneCenter),this.material.uniformsNeedUpdate=!0}const a=t?this.lastBuildSplatCount:0;for(let s=a;s<r;s++){this.getSplatCenter(s,i,!0);const o=i.sub(this.calculatedSceneCenter).length();o>this.maxSplatDistanceFromSceneCenter&&(this.maxSplatDistanceFromSceneCenter=o)}this.maxSplatDistanceFromSceneCenter-this.visibleRegionBufferRadius>fq&&(this.visibleRegionBufferRadius=this.maxSplatDistanceFromSceneCenter,this.visibleRegionRadius=Math.max(this.visibleRegionBufferRadius-fq,0)),this.finalBuild&&(this.visibleRegionRadius=this.visibleRegionBufferRadius=this.maxSplatDistanceFromSceneCenter),this.updateVisibleRegionFadeDistance()}updateVisibleRegionFadeDistance(t=Vb.Default){const r=Out*this.sceneFadeInRateMultiplier,i=Nut*this.sceneFadeInRateMultiplier,a=this.finalBuild?r:i,s=t===Vb.Default?a:i;this.visibleRegionFadeStartRadius=(this.visibleRegionRadius-this.visibleRegionFadeStartRadius)*s+this.visibleRegionFadeStartRadius;const l=(this.visibleRegionBufferRadius>0?this.visibleRegionFadeStartRadius/this.visibleRegionBufferRadius:0)>.99,c=l||t===Vb.Instant?1:0;this.material.uniforms.visibleRegionFadeStartRadius.value=this.visibleRegionFadeStartRadius,this.material.uniforms.visibleRegionRadius.value=this.visibleRegionRadius,this.material.uniforms.firstRenderTime.value=this.firstRenderTime,this.material.uniforms.currentTime.value=performance.now(),this.material.uniforms.fadeInComplete.value=c,this.material.uniformsNeedUpdate=!0,this.visibleRegionChanging=!l}updateRenderIndexes(t,r){const i=this.geometry;i.attributes.splatIndex.set(t),i.attributes.splatIndex.needsUpdate=!0,r>0&&this.firstRenderTime===-1&&(this.firstRenderTime=performance.now()),i.instanceCount=r,i.setDrawRange(0,r)}updateTransforms(){for(let t=0;t<this.scenes.length;t++)this.getScene(t).updateTransform(this.dynamicMode)}setSplatScale(t=1){this.splatScale=t,this.material.uniforms.splatScale.value=t,this.material.uniformsNeedUpdate=!0}getSplatScale(){return this.splatScale}setPointCloudModeEnabled(t){this.pointCloudModeEnabled=t,this.material.uniforms.pointCloudModeEnabled.value=t?1:0,this.material.uniformsNeedUpdate=!0}getPointCloudModeEnabled(){return this.pointCloudModeEnabled}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(t=!1){return t?es.getTotalSplatCountForScenes(this.scenes):this.lastBuildSplatCount}static getTotalSplatCountForScenes(t){let r=0;for(let i of t)i&&i.splatBuffer&&(r+=i.splatBuffer.getSplatCount());return r}static getTotalSplatCountForSplatBuffers(t){let r=0;for(let i of t)r+=i.getSplatCount();return r}getMaxSplatCount(){return es.getTotalMaxSplatCountForScenes(this.scenes)}static getTotalMaxSplatCountForScenes(t){let r=0;for(let i of t)i&&i.splatBuffer&&(r+=i.splatBuffer.getMaxSplatCount());return r}static getTotalMaxSplatCountForSplatBuffers(t){let r=0;for(let i of t)r+=i.getMaxSplatCount();return r}disposeDistancesComputationGPUResources(){if(!this.renderer)return;const t=this.renderer.getContext();this.distancesTransformFeedback.vao&&(t.deleteVertexArray(this.distancesTransformFeedback.vao),this.distancesTransformFeedback.vao=null),this.distancesTransformFeedback.program&&(t.deleteProgram(this.distancesTransformFeedback.program),t.deleteShader(this.distancesTransformFeedback.vertexShader),t.deleteShader(this.distancesTransformFeedback.fragmentShader),this.distancesTransformFeedback.program=null,this.distancesTransformFeedback.vertexShader=null,this.distancesTransformFeedback.fragmentShader=null),this.disposeDistancesComputationGPUBufferResources(),this.distancesTransformFeedback.id&&(t.deleteTransformFeedback(this.distancesTransformFeedback.id),this.distancesTransformFeedback.id=null)}disposeDistancesComputationGPUBufferResources(){if(!this.renderer)return;const t=this.renderer.getContext();this.distancesTransformFeedback.centersBuffer&&(this.distancesTransformFeedback.centersBuffer=null,t.deleteBuffer(this.distancesTransformFeedback.centersBuffer)),this.distancesTransformFeedback.outDistancesBuffer&&(t.deleteBuffer(this.distancesTransformFeedback.outDistancesBuffer),this.distancesTransformFeedback.outDistancesBuffer=null)}setRenderer(t){if(t!==this.renderer){this.renderer=t;const r=this.renderer.getContext(),i=new Aut(r),a=new Eut(r,i,{});if(i.init(a),this.webGLUtils=new hae(r,i),this.enableDistancesComputationOnGPU&&this.getSplatCount()>0){this.setupDistancesComputationTransformFeedback();const{centers:s,sceneIndexes:o}=this.getDataForDistancesComputation(0,this.getSplatCount()-1);this.refreshGPUBuffersForDistancesComputation(s,o)}}}updateGPUCentersBufferForDistancesComputation(t,r,i){if(!this.renderer)return;const a=this.renderer.getContext(),s=a.getParameter(a.VERTEX_ARRAY_BINDING);a.bindVertexArray(this.distancesTransformFeedback.vao);const o=this.integerBasedDistancesComputation?Uint32Array:Float32Array,l=16,c=i*l;if(a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.centersBuffer),t)a.bufferSubData(a.ARRAY_BUFFER,c,r);else{const u=new o(this.getMaxSplatCount()*l);u.set(r),a.bufferData(a.ARRAY_BUFFER,u,a.STATIC_DRAW)}a.bindBuffer(a.ARRAY_BUFFER,null),s&&a.bindVertexArray(s)}updateGPUTransformIndexesBufferForDistancesComputation(t,r,i){if(!this.renderer||!this.dynamicMode)return;const a=this.renderer.getContext(),s=a.getParameter(a.VERTEX_ARRAY_BINDING);a.bindVertexArray(this.distancesTransformFeedback.vao);const o=i*4;if(a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.sceneIndexesBuffer),t)a.bufferSubData(a.ARRAY_BUFFER,o,r);else{const l=new Uint32Array(this.getMaxSplatCount()*4);l.set(r),a.bufferData(a.ARRAY_BUFFER,l,a.STATIC_DRAW)}a.bindBuffer(a.ARRAY_BUFFER,null),s&&a.bindVertexArray(s)}getSceneIndexes(t,r){let i;const a=r-t+1;i=new Uint32Array(a);for(let s=t;s<=r;s++)i[s]=this.globalSplatIndexToSceneIndexMap[s];return i}getLocalSplatParameters(t,r,i){i==null&&(i=!this.dynamicMode),r.splatBuffer=this.getSplatBufferForSplat(t),r.localIndex=this.getSplatLocalIndex(t),r.sceneTransform=i?this.getSceneTransformForSplat(t):null}fillSplatDataArrays(t,r,i,a,s,o,l,c=0,u=0,d=1,f,h,p=0,m){const g=new tt;g.x=void 0,g.y=void 0,this.splatRenderMode===ld.ThreeD?g.z=void 0:g.z=1;const v=new ur;let y=0,b=this.scenes.length-1;m!=null&&m>=0&&m<=this.scenes.length&&(y=m,b=m);for(let _=y;_<=b;_++){l==null&&(l=!this.dynamicMode);const w=this.getScene(_),x=w.splatBuffer;let M;if(l&&(this.getSceneTransform(_,v),M=v),t&&x.fillSplatCovarianceArray(t,M,f,h,p,c),r||i){if(!r||!i)throw new Error('SplatMesh::fillSplatDataArrays() -> "scales" and "rotations" must both be valid.');x.fillSplatScaleRotationArray(r,i,M,f,h,p,u,g)}a&&x.fillSplatCenterArray(a,M,f,h,p),s&&x.fillSplatColorArray(s,w.minimumAlpha,f,h,p),o&&x.fillSphericalHarmonicsArray(o,this.minSphericalHarmonicsDegree,M,f,h,p,d),p+=x.getSplatCount()}}getIntegerCenters(t,r,i=!1){const a=r-t+1,s=new Float32Array(a*3);this.fillSplatDataArrays(null,null,null,s,null,null,void 0,void 0,void 0,void 0,t);let o,l=i?4:3;o=new Int32Array(a*l);for(let c=0;c<a;c++){for(let u=0;u<3;u++)o[c*l+u]=Math.round(s[c*3+u]*1e3);i&&(o[c*l+3]=1e3)}return o}getFloatCenters(t,r,i=!1){const a=r-t+1,s=new Float32Array(a*3);if(this.fillSplatDataArrays(null,null,null,s,null,null,void 0,void 0,void 0,void 0,t),!i)return s;let o=new Float32Array(a*4);for(let l=0;l<a;l++){for(let c=0;c<3;c++)o[l*4+c]=s[l*3+c];o[l*4+3]=1}return o}getSceneTransform(t,r){const i=this.getScene(t);i.updateTransform(this.dynamicMode),r.copy(i.transform)}getScene(t){if(t<0||t>=this.scenes.length)throw new Error("SplatMesh::getScene() -> Invalid scene index.");return this.scenes[t]}getSceneCount(){return this.scenes.length}getSplatBufferForSplat(t){return this.getScene(this.globalSplatIndexToSceneIndexMap[t]).splatBuffer}getSceneIndexForSplat(t){return this.globalSplatIndexToSceneIndexMap[t]}getSceneTransformForSplat(t){return this.getScene(this.globalSplatIndexToSceneIndexMap[t]).transform}getSplatLocalIndex(t){return this.globalSplatIndexToLocalSplatIndexMap[t]}static getIntegerMatrixArray(t){const r=t.elements,i=[];for(let a=0;a<16;a++)i[a]=Math.round(r[a]*1e3);return i}computeBoundingBox(t=!1,r){let i=this.getSplatCount();if(r!=null){if(r<0||r>=this.scenes.length)throw new Error("SplatMesh::computeBoundingBox() -> Invalid scene index.");i=this.scenes[r].splatBuffer.getSplatCount()}const a=new Float32Array(i*3);this.fillSplatDataArrays(null,null,null,a,null,null,t,void 0,void 0,void 0,void 0,r);const s=new tt,o=new tt;for(let l=0;l<i;l++){const c=l*3,u=a[c],d=a[c+1],f=a[c+2];(l===0||u<s.x)&&(s.x=u),(l===0||d<s.y)&&(s.y=d),(l===0||f<s.z)&&(s.z=f),(l===0||u>o.x)&&(o.x=u),(l===0||d>o.y)&&(o.y=d),(l===0||f>o.z)&&(o.z=f)}return new au(s,o)}}var But="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEbA2AAAGAQf39/f39/f39/f39/f39/fwBgAAF/AhIBA2VudgZtZW1vcnkCAwCAgAQDBAMAAQIHVAQRX193YXNtX2NhbGxfY3RvcnMAABhfX3dhc21fYXBwbHlfZGF0YV9yZWxvY3MAAAtzb3J0SW5kZXhlcwABE2Vtc2NyaXB0ZW5fdGxzX2luaXQAAgqWEAMDAAELihAEAXwDewN/A30gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEBA0AgAyABQQJ0IgVqIAIgACAFaigCAEECdGooAgAiBTYCACAFIAogBSAKSBshCiAFIA0gBSANShshDSABQQFqIgEgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiFWooAgAiFkECdGooAgAiFEcEQAJ/IAX9CQI4IAggFEEGdGoiDv0JAgwgDioCHP0gASAOKgIs/SACIA4qAjz9IAP95gEgBf0JAiggDv0JAgggDioCGP0gASAOKgIo/SACIA4qAjj9IAP95gEgBf0JAgggDv0JAgAgDioCEP0gASAOKgIg/SACIA4qAjD9IAP95gEgBf0JAhggDv0JAgQgDioCFP0gASAOKgIk/SACIA4qAjT9IAP95gH95AH95AH95AEiEf1f/QwAAAAAAECPQAAAAAAAQI9AIhL98gEiE/0hASIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDgJ/IBP9IQAiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgL/REgDv0cAQJ/IBEgEf0NCAkKCwwNDg8AAAAAAAAAAP1fIBL98gEiEf0hACIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAv9HAICfyAR/SEBIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4C/0cAyESIBQhDwsgAyAVaiABIBZBBHRq/QAAACAS/bUBIhH9GwAgEf0bAWogEf0bAmogEf0bA2oiDjYCACAOIAogCiAOShshCiAOIA0gDSAOSBshDSACQQFqIgIgC0cNAAsMAwsCfyAFKgIIu/0UIAUqAhi7/SIB/QwAAAAAAECPQAAAAAAAQI9A/fIBIhH9IQEiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIQ4CfyAR/SEAIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyECAn8gBSoCKLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEFQfj///8HIQpBiICAgHghDSALIAxNDQIgAv0RIA79HAEgBf0cAiESIAwhBQNAIAMgBUECdCICaiABIAAgAmooAgBBBHRq/QAAACAS/bUBIhH9GwAgEf0bAWogEf0bAmoiAjYCACACIAogAiAKSBshCiACIA0gAiANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEBA0AgAyABQQJ0IgVqAn8gAiAAIAVqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAFBAWoiASALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIRcgBSoCGCEYIAUqAgghGUH4////ByEKQYiAgIB4IQ0gDCEFA0ACfyAXIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCAZIAIqAgCUIBggAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIUaigCAEECdCIVaigCACIORwRAIAX9CQI4IAggDkEGdGoiD/0JAgwgDyoCHP0gASAPKgIs/SACIA8qAjz9IAP95gEgBf0JAiggD/0JAgggDyoCGP0gASAPKgIo/SACIA8qAjj9IAP95gEgBf0JAgggD/0JAgAgDyoCEP0gASAPKgIg/SACIA8qAjD9IAP95gEgBf0JAhggD/0JAgQgDyoCFP0gASAPKgIk/SACIA8qAjT9IAP95gH95AH95AH95AEhESAOIQ8LIAMgFGoCfyAR/R8DIAEgFUECdCIOQQxyaioCAJQgEf0fAiABIA5BCHJqKgIAlCAR/R8AIAEgDmoqAgCUIBH9HwEgASAOQQRyaioCAJSSkpK7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAsiDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSACQQFqIgIgC0cNAAsMAQtBiICAgHghDUH4////ByEKCyALIAxLBEAgCUEBa7MgDbIgCrKTlSEXIAwhDQNAAn8gFyADIA1BAnRqIgEoAgAgCmuylCIYi0MAAABPXQRAIBioDAELQYCAgIB4CyEOIAEgDjYCACAEIA5BAnRqIgEgASgCAEEBajYCACANQQFqIg0gC0cNAAsLIAlBAk8EQCAEKAIAIQ1BASEKA0AgBCAKQQJ0aiIBIAEoAgAgDWoiDTYCACAKQQFqIgogCUcNAAsLIAxBAEoEQCAMIQoDQCAGIApBAWsiAUECdCICaiAAIAJqKAIANgIAIApBAUshAiABIQogAg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCwsEAEEACw==",pq="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACEgEDZW52Bm1lbW9yeQIDAICABAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQqiDwICAAucDwMBfAd9Bn8gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEFA0AgAyAFQQJ0IgFqIAIgACABaigCAEECdGooAgAiATYCACABIAogASAKSBshCiABIA0gASANShshDSAFQQFqIgUgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiGmooAgBBAnQiG2ooAgAiDkcEQAJ/IAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRgCfyARIA8qAiyUIBIgDyoCKJQgEyAPKgIglCAUIA8qAiSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRkCfyARIA8qAhyUIBIgDyoCGJQgEyAPKgIQlCAUIA8qAhSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRwCfyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIR0gDiEPCyADIBpqIAEgG0ECdGoiDigCBCAcbCAOKAIAIB1saiAOKAIIIBlsaiAOKAIMIBhsaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAii7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshAgJ/IAUqAhi7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshByALIAxNAn8gBSoCCLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEPQfj///8HIQpBiICAgHghDQ0CIAwhBQNAIAMgBUECdCIIaiABIAAgCGooAgBBBHRqIggoAgQgB2wgCCgCACAPbGogCCgCCCACbGoiCDYCACAIIAogCCAKSBshCiAIIA0gCCANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEFA0AgAyAFQQJ0IgFqAn8gAiAAIAFqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAVBAWoiBSALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIREgBSoCGCESIAUqAgghE0H4////ByEKQYiAgIB4IQ0gDCEFA0ACfyARIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCATIAIqAgCUIBIgAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIYaigCAEECdCIZaigCACIORwRAIAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSIRUgESAPKgIslCASIA8qAiiUIBMgDyoCIJQgFCAPKgIklJKSkiEWIBEgDyoCHJQgEiAPKgIYlCATIA8qAhCUIBQgDyoCFJSSkpIhFyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSIREgDiEPCyADIBhqAn8gFSABIBlBAnRqIg4qAgyUIBYgDioCCJQgESAOKgIAlCAXIA4qAgSUkpKSu0QAAAAAAACwQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIg42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gAkEBaiICIAtHDQALDAELQYiAgIB4IQ1B+P///wchCgsgCyAMSwRAIAlBAWuzIA2yIAqyk5UhESAMIQ0DQAJ/IBEgAyANQQJ0aiIBKAIAIAprspQiEotDAAAAT10EQCASqAwBC0GAgICAeAshDiABIA42AgAgBCAOQQJ0aiIBIAEoAgBBAWo2AgAgDUEBaiINIAtHDQALCyAJQQJPBEAgBCgCACENQQEhCgNAIAQgCkECdGoiASABKAIAIA1qIg02AgAgCkEBaiIKIAlHDQALCyAMQQBKBEAgDCEKA0AgBiAKQQFrIgFBAnQiAmogACACaigCADYCACAKQQFLIAEhCg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCws=",Fut="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACDwEDZW52Bm1lbW9yeQIAAAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQrrDwICAAvlDwQBfAN7B30DfyALIAprIQwCQAJAIA4EQCANBEBB+P///wchCkGIgICAeCENIAsgDE0NAyAMIQUDQCADIAVBAnQiAWogAiAAIAFqKAIAQQJ0aigCACIBNgIAIAEgCiABIApIGyEKIAEgDSABIA1KGyENIAVBAWoiBSALRw0ACwwDCyAPBEAgCyAMTQ0CQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIcaigCACIdQQJ0aigCACIbRwRAAn8gBf0JAjggCCAbQQZ0aiIO/QkCDCAOKgIc/SABIA4qAiz9IAIgDioCPP0gA/3mASAF/QkCKCAO/QkCCCAOKgIY/SABIA4qAij9IAIgDioCOP0gA/3mASAF/QkCCCAO/QkCACAOKgIQ/SABIA4qAiD9IAIgDioCMP0gA/3mASAF/QkCGCAO/QkCBCAOKgIU/SABIA4qAiT9IAIgDioCNP0gA/3mAf3kAf3kAf3kASIR/V/9DAAAAAAAQI9AAAAAAABAj0AiEv3yASIT/SEBIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOAn8gE/0hACIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAv9ESAO/RwBAn8gESAR/Q0ICQoLDA0ODwABAgMAAQID/V8gEv3yASIR/SEAIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4C/0cAgJ/IBH9IQEiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgL/RwDIRIgGyEPCyADIBxqIAEgHUEEdGr9AAAAIBL9tQEiEf0bACAR/RsBaiAR/RsCaiAR/RsDaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAgi7/RQgBSoCGLv9IgH9DAAAAAAAQI9AAAAAAABAj0D98gEiEf0hASIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDgJ/IBH9IQAiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLAn8gBSoCKLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEFQfj///8HIQpBiICAgHghDSALIAxNDQL9ESAO/RwBIAX9HAIhEiAMIQUDQCADIAVBAnQiAmogASAAIAJqKAIAQQR0av0AAAAgEv21ASIR/RsAIBH9GwFqIBH9GwJqIgI2AgAgAiAKIAIgCkgbIQogAiANIAIgDUobIQ0gBUEBaiIFIAtHDQALDAILIA0EQEH4////ByEKQYiAgIB4IQ0gCyAMTQ0CIAwhBQNAIAMgBUECdCIBagJ/IAIgACABaigCAEECdGoqAgC7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAsiDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgD0UEQCALIAxNDQEgBSoCKCEUIAUqAhghFSAFKgIIIRZB+P///wchCkGIgICAeCENIAwhBQNAAn8gFCABIAAgBUECdCIHaigCAEEEdGoiAioCCJQgFiACKgIAlCAVIAIqAgSUkpK7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDiADIAdqIA42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gBUEBaiIFIAtHDQALDAILIAsgDE0NAEF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiG2ooAgBBAnQiHGooAgAiDkcEQCAFKgI4IhQgCCAOQQZ0aiIPKgI8lCAFKgIoIhUgDyoCOJQgBSoCCCIWIA8qAjCUIAUqAhgiFyAPKgI0lJKSkiEYIBQgDyoCLJQgFSAPKgIolCAWIA8qAiCUIBcgDyoCJJSSkpIhGSAUIA8qAhyUIBUgDyoCGJQgFiAPKgIQlCAXIA8qAhSUkpKSIRogFCAPKgIMlCAVIA8qAgiUIBYgDyoCAJQgFyAPKgIElJKSkiEUIA4hDwsgAyAbagJ/IBggASAcQQJ0aiIOKgIMlCAZIA4qAgiUIBQgDioCAJQgGiAOKgIElJKSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAJBAWoiAiALRw0ACwwBC0GIgICAeCENQfj///8HIQoLIAsgDEsEQCAJQQFrsyANsiAKspOVIRQgDCENA0ACfyAUIAMgDUECdGoiASgCACAKa7KUIhWLQwAAAE9dBEAgFagMAQtBgICAgHgLIQ4gASAONgIAIAQgDkECdGoiASABKAIAQQFqNgIAIA1BAWoiDSALRw0ACwsgCUECTwRAIAQoAgAhDUEBIQoDQCAEIApBAnRqIgEgASgCACANaiINNgIAIApBAWoiCiAJRw0ACwsgDEEASgRAIAwhCgNAIAYgCkEBayIBQQJ0IgJqIAAgAmooAgA2AgAgCkEBSyABIQoNAAsLIAsgDEoEQCALIQoDQCAGIAsgBCADIApBAWsiCkECdCIBaigCAEECdGoiAigCACIFa0ECdGogACABaigCADYCACACIAVBAWs2AgAgCiAMSg0ACwsL",zut="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACDwEDZW52Bm1lbW9yeQIAAAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQqiDwICAAucDwMBfAd9Bn8gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEFA0AgAyAFQQJ0IgFqIAIgACABaigCAEECdGooAgAiATYCACABIAogASAKSBshCiABIA0gASANShshDSAFQQFqIgUgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiGmooAgBBAnQiG2ooAgAiDkcEQAJ/IAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRgCfyARIA8qAiyUIBIgDyoCKJQgEyAPKgIglCAUIA8qAiSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRkCfyARIA8qAhyUIBIgDyoCGJQgEyAPKgIQlCAUIA8qAhSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRwCfyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIR0gDiEPCyADIBpqIAEgG0ECdGoiDigCBCAcbCAOKAIAIB1saiAOKAIIIBlsaiAOKAIMIBhsaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAii7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshAgJ/IAUqAhi7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshByALIAxNAn8gBSoCCLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEPQfj///8HIQpBiICAgHghDQ0CIAwhBQNAIAMgBUECdCIIaiABIAAgCGooAgBBBHRqIggoAgQgB2wgCCgCACAPbGogCCgCCCACbGoiCDYCACAIIAogCCAKSBshCiAIIA0gCCANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEFA0AgAyAFQQJ0IgFqAn8gAiAAIAFqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAVBAWoiBSALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIREgBSoCGCESIAUqAgghE0H4////ByEKQYiAgIB4IQ0gDCEFA0ACfyARIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCATIAIqAgCUIBIgAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIYaigCAEECdCIZaigCACIORwRAIAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSIRUgESAPKgIslCASIA8qAiiUIBMgDyoCIJQgFCAPKgIklJKSkiEWIBEgDyoCHJQgEiAPKgIYlCATIA8qAhCUIBQgDyoCFJSSkpIhFyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSIREgDiEPCyADIBhqAn8gFSABIBlBAnRqIg4qAgyUIBYgDioCCJQgESAOKgIAlCAXIA4qAgSUkpKSu0QAAAAAAACwQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIg42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gAkEBaiICIAtHDQALDAELQYiAgIB4IQ1B+P///wchCgsgCyAMSwRAIAlBAWuzIA2yIAqyk5UhESAMIQ0DQAJ/IBEgAyANQQJ0aiIBKAIAIAprspQiEotDAAAAT10EQCASqAwBC0GAgICAeAshDiABIA42AgAgBCAOQQJ0aiIBIAEoAgBBAWo2AgAgDUEBaiINIAtHDQALCyAJQQJPBEAgBCgCACENQQEhCgNAIAQgCkECdGoiASABKAIAIA1qIg02AgAgCkEBaiIKIAlHDQALCyAMQQBKBEAgDCEKA0AgBiAKQQFrIgFBAnQiAmogACACaigCADYCACAKQQFLIAEhCg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCws=";function Uut(n){let e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,g,v,y,b,_;function w(x,M,C,T,A,I,L){const k=performance.now();if(!r&&(new Uint32Array(t,o,A.byteLength/_.BytesPerInt).set(A),new Float32Array(t,u,L.byteLength/_.BytesPerFloat).set(L),T)){let z;i?z=new Int32Array(t,d,I.byteLength/_.BytesPerInt):z=new Float32Array(t,d,I.byteLength/_.BytesPerFloat),z.set(I)}g||(g=new Uint32Array(y)),new Float32Array(t,m,16).set(C),new Uint32Array(t,h,y).set(g),e.exports.sortIndexes(o,p,d,f,h,m,l,c,u,y,x,M,s,T,i,a);const N={sortDone:!0,splatSortCount:x,splatRenderCount:M,sortTime:0};if(!r){const D=new Uint32Array(t,l,M);(!v||v.length<M)&&(v=new Uint32Array(M)),v.set(D),N.sortedIndexes=v}const F=performance.now();N.sortTime=F-k,n.postMessage(N)}n.onmessage=x=>{if(x.data.centers)centers=x.data.centers,sceneIndexes=x.data.sceneIndexes,i?new Int32Array(t,p+x.data.range.from*_.BytesPerInt*4,x.data.range.count*4).set(new Int32Array(centers)):new Float32Array(t,p+x.data.range.from*_.BytesPerFloat*4,x.data.range.count*4).set(new Float32Array(centers)),a&&new Uint32Array(t,c+x.data.range.from*4,x.data.range.count).set(new Uint32Array(sceneIndexes)),b=x.data.range.from+x.data.range.count;else if(x.data.sort){const M=Math.min(x.data.sort.splatRenderCount||0,b),C=Math.min(x.data.sort.splatSortCount||0,b),T=x.data.sort.usePrecomputedDistances;let A,I,L;r||(A=x.data.sort.indexesToSort,L=x.data.sort.transforms,T&&(I=x.data.sort.precomputedDistances)),w(C,M,x.data.sort.modelViewProj,T,A,I,L)}else if(x.data.init){_=x.data.init.Constants,s=x.data.init.splatCount,r=x.data.init.useSharedMemory,i=x.data.init.integerBasedSort,a=x.data.init.dynamicMode,y=x.data.init.distanceMapRange,b=0;const M=i?_.BytesPerInt*4:_.BytesPerFloat*4,C=new Uint8Array(x.data.init.sorterWasmBytes),T=16*_.BytesPerFloat,A=s*_.BytesPerInt,I=s*M,L=T,k=i?s*_.BytesPerInt:s*_.BytesPerFloat,N=s*_.BytesPerInt,F=s*_.BytesPerInt,D=i?y*_.BytesPerInt*2:y*_.BytesPerFloat*2,H=a?s*_.BytesPerInt:0,z=a?_.MaxScenes*T:0,B=_.MemoryPageSize*32,W=A+I+L+k+N+D+F+H+z+B,Z=Math.floor(W/_.MemoryPageSize)+1,ee={module:{},env:{memory:new WebAssembly.Memory({initial:Z,maximum:Z,shared:!0})}};WebAssembly.compile(C).then(J=>WebAssembly.instantiate(J,ee)).then(J=>{e=J,o=0,p=o+A,m=p+I,d=m+L,f=d+k,h=f+N,l=h+D,c=l+F,u=c+H,t=ee.env.memory.buffer,r?n.postMessage({sortSetupPhase1Complete:!0,indexesToSortBuffer:t,indexesToSortOffset:o,sortedIndexesBuffer:t,sortedIndexesOffset:l,precomputedDistancesBuffer:t,precomputedDistancesOffset:d,transformsBuffer:t,transformsOffset:u}):n.postMessage({sortSetupPhase1Complete:!0})})}}}function Hut(n,e,t,r,i,a=Fr.DefaultSplatSortDistanceMapPrecision){const s=new Worker(URL.createObjectURL(new Blob(["(",Uut.toString(),")(self)"],{type:"application/javascript"})));let o=But;const l=BO()?pae():null;!t&&!e?(o=pq,l&&l.major<=16&&l.minor<4&&(o=zut)):t?e||l&&l.major<=16&&l.minor<4&&(o=Fut):o=pq;const c=atob(o),u=new Uint8Array(c.length);for(let d=0;d<c.length;d++)u[d]=c.charCodeAt(d);return s.postMessage({init:{sorterWasmBytes:u.buffer,splatCount:n,useSharedMemory:e,integerBasedSort:r,dynamicMode:i,distanceMapRange:1<<a,Constants:{BytesPerFloat:Fr.BytesPerFloat,BytesPerInt:Fr.BytesPerInt,MemoryPageSize:Fr.MemoryPageSize,MaxScenes:Fr.MaxScenes}}}),s}const mv={None:0,VR:1,AR:2};class sy{static createButton(e,t={}){const r=document.createElement("button");function i(){let c=null;async function u(h){h.addEventListener("end",d),await e.xr.setSession(h),r.textContent="EXIT VR",c=h}function d(){c.removeEventListener("end",d),r.textContent="ENTER VR",c=null}r.style.display="",r.style.cursor="pointer",r.style.left="calc(50% - 50px)",r.style.width="100px",r.textContent="ENTER VR";const f={...t,optionalFeatures:["local-floor","bounded-floor","layers",...t.optionalFeatures||[]]};r.onmouseenter=function(){r.style.opacity="1.0"},r.onmouseleave=function(){r.style.opacity="0.5"},r.onclick=function(){c===null?navigator.xr.requestSession("immersive-vr",f).then(u):(c.end(),navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-vr",f).then(u).catch(h=>{console.warn(h)}))},navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-vr",f).then(u).catch(h=>{console.warn(h)})}function a(){r.style.display="",r.style.cursor="auto",r.style.left="calc(50% - 75px)",r.style.width="150px",r.onmouseenter=null,r.onmouseleave=null,r.onclick=null}function s(){a(),r.textContent="VR NOT SUPPORTED"}function o(c){a(),console.warn("Exception when trying to call xr.isSessionSupported",c),r.textContent="VR NOT ALLOWED"}function l(c){c.style.position="absolute",c.style.bottom="20px",c.style.padding="12px 6px",c.style.border="1px solid #fff",c.style.borderRadius="4px",c.style.background="rgba(0,0,0,0.1)",c.style.color="#fff",c.style.font="normal 13px sans-serif",c.style.textAlign="center",c.style.opacity="0.5",c.style.outline="none",c.style.zIndex="999"}if("xr"in navigator)return r.id="VRButton",r.style.display="none",l(r),navigator.xr.isSessionSupported("immersive-vr").then(function(c){c?i():s(),c&&sy.xrSessionIsGranted&&r.click()}).catch(o),r;{const c=document.createElement("a");return window.isSecureContext===!1?(c.href=document.location.href.replace(/^http:/,"https:"),c.innerHTML="WEBXR NEEDS HTTPS"):(c.href="https://immersiveweb.dev/",c.innerHTML="WEBXR NOT AVAILABLE"),c.style.left="calc(50% - 90px)",c.style.width="180px",c.style.textDecoration="none",l(c),c}}static registerSessionGrantedListener(){if(typeof navigator<"u"&&"xr"in navigator){if(/WebXRViewer\//i.test(navigator.userAgent))return;navigator.xr.addEventListener("sessiongranted",()=>{sy.xrSessionIsGranted=!0})}}}sy.xrSessionIsGranted=!1;sy.registerSessionGrantedListener();class Vut{static createButton(e,t={}){const r=document.createElement("button");function i(){if(t.domOverlay===void 0){const f=document.createElement("div");f.style.display="none",document.body.appendChild(f);const h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.setAttribute("width",38),h.setAttribute("height",38),h.style.position="absolute",h.style.right="20px",h.style.top="20px",h.addEventListener("click",function(){c.end()}),f.appendChild(h);const p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("d","M 12,12 L 28,28 M 28,12 12,28"),p.setAttribute("stroke","#fff"),p.setAttribute("stroke-width",2),h.appendChild(p),t.optionalFeatures===void 0&&(t.optionalFeatures=[]),t.optionalFeatures.push("dom-overlay"),t.domOverlay={root:f}}let c=null;async function u(f){f.addEventListener("end",d),e.xr.setReferenceSpaceType("local"),await e.xr.setSession(f),r.textContent="STOP AR",t.domOverlay.root.style.display="",c=f}function d(){c.removeEventListener("end",d),r.textContent="START AR",t.domOverlay.root.style.display="none",c=null}r.style.display="",r.style.cursor="pointer",r.style.left="calc(50% - 50px)",r.style.width="100px",r.textContent="START AR",r.onmouseenter=function(){r.style.opacity="1.0"},r.onmouseleave=function(){r.style.opacity="0.5"},r.onclick=function(){c===null?navigator.xr.requestSession("immersive-ar",t).then(u):(c.end(),navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-ar",t).then(u).catch(f=>{console.warn(f)}))},navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-ar",t).then(u).catch(f=>{console.warn(f)})}function a(){r.style.display="",r.style.cursor="auto",r.style.left="calc(50% - 75px)",r.style.width="150px",r.onmouseenter=null,r.onmouseleave=null,r.onclick=null}function s(){a(),r.textContent="AR NOT SUPPORTED"}function o(c){a(),console.warn("Exception when trying to call xr.isSessionSupported",c),r.textContent="AR NOT ALLOWED"}function l(c){c.style.position="absolute",c.style.bottom="20px",c.style.padding="12px 6px",c.style.border="1px solid #fff",c.style.borderRadius="4px",c.style.background="rgba(0,0,0,0.1)",c.style.color="#fff",c.style.font="normal 13px sans-serif",c.style.textAlign="center",c.style.opacity="0.5",c.style.outline="none",c.style.zIndex="999"}if("xr"in navigator)return r.id="ARButton",r.style.display="none",l(r),navigator.xr.isSessionSupported("immersive-ar").then(function(c){c?i():s()}).catch(o),r;{const c=document.createElement("a");return window.isSecureContext===!1?(c.href=document.location.href.replace(/^http:/,"https:"),c.innerHTML="WEBXR NEEDS HTTPS"):(c.href="https://immersiveweb.dev/",c.innerHTML="WEBXR NOT AVAILABLE"),c.style.left="calc(50% - 90px)",c.style.width="180px",c.style.textDecoration="none",l(c),c}}}const sR={Always:0,OnChange:1,Never:2},$ut=50,Gut=.75,Wut=15e5,qut=10,Kut=2.5,Yut=60,Bf=class Bf{constructor(e={}){cn(this,"onKeyDown",function(){const e=new tt,t=new ur,r=new ur;return function(i){switch(e.set(0,0,-1),e.transformDirection(this.camera.matrixWorld),t.makeRotationAxis(e,Math.PI/128),r.makeRotationAxis(e,-Math.PI/128),i.code){case"KeyG":this.focalAdjustment+=.02,this.forceRenderNextFrame();break;case"KeyF":this.focalAdjustment-=.02,this.forceRenderNextFrame();break;case"ArrowLeft":this.camera.up.transformDirection(t);break;case"ArrowRight":this.camera.up.transformDirection(r);break;case"KeyC":this.showMeshCursor=!this.showMeshCursor;break;case"KeyU":this.showControlPlane=!this.showControlPlane;break;case"KeyI":this.showInfo=!this.showInfo,this.showInfo?this.infoPanel.show():this.infoPanel.hide();break;case"KeyO":this.usingExternalCamera||this.setOrthographicMode(!this.camera.isOrthographicCamera);break;case"KeyP":this.usingExternalCamera||this.splatMesh.setPointCloudModeEnabled(!this.splatMesh.getPointCloudModeEnabled());break;case"Equal":this.usingExternalCamera||this.splatMesh.setSplatScale(this.splatMesh.getSplatScale()+.05);break;case"Minus":this.usingExternalCamera||this.splatMesh.setSplatScale(Math.max(this.splatMesh.getSplatScale()-.05,0));break}}}());cn(this,"onMouseUp",function(){const e=new Hn;return function(t){e.copy(this.mousePosition).sub(this.mouseDownPosition),fv()-this.mouseDownTime<.5&&e.length()<2&&this.onMouseClick(t)}}());cn(this,"checkForFocalPointChange",function(){const e=new Hn,t=new tt,r=[];return function(){if(!this.transitioningCameraTarget&&(this.getRenderDimensions(e),r.length=0,this.raycaster.setFromCameraAndScreenPosition(this.camera,this.mousePosition,e),this.raycaster.intersectSplatMesh(this.splatMesh,r),r.length>0)){const a=r[0].origin;t.copy(a).sub(this.camera.position),t.length()>Gut&&(this.previousCameraTarget.copy(this.controls.target),this.nextCameraTarget.copy(a),this.transitioningCameraTarget=!0,this.transitioningCameraTargetStartTime=fv())}}}());cn(this,"updateSplatMesh",function(){const e=new Hn;return function(){if(!this.splatMesh)return;if(this.splatMesh.getSplatCount()>0){this.splatMesh.updateVisibleRegionFadeDistance(this.sceneRevealMode),this.splatMesh.updateTransforms(),this.getRenderDimensions(e);const r=this.camera.projectionMatrix.elements[0]*.5*this.devicePixelRatio*e.x,i=this.camera.projectionMatrix.elements[5]*.5*this.devicePixelRatio*e.y,a=this.camera.isOrthographicCamera?1/this.devicePixelRatio:1,s=this.focalAdjustment*a,o=1/s;this.adjustForWebXRStereo(e),this.splatMesh.updateUniforms(e,r*s,i*s,this.camera.isOrthographicCamera,this.camera.zoom||1,o)}}}());cn(this,"addSplatBuffers",function(){return function(e,t=[],r=!0,i=!0,a=!0,s=!1,o=!1,l=!0){if(this.isDisposingOrDisposed())return Promise.resolve();let c=null;const u=()=>{c!==null&&(this.loadingSpinner.removeTask(c),c=null)};return this.splatRenderReady=!1,new Promise(d=>{i&&(c=this.loadingSpinner.addTask("Processing splats...")),Sc(()=>{if(this.isDisposingOrDisposed())d();else{const f=this.addSplatBuffersToMesh(e,t,r,a,s,l),h=this.splatMesh.getMaxSplatCount();this.sortWorker&&this.sortWorker.maxSplatCount!==h&&this.disposeSortWorker(),this.gpuAcceleratedSort||this.preSortMessages.push({centers:f.centers.buffer,sceneIndexes:f.sceneIndexes.buffer,range:{from:f.from,to:f.to,count:f.count}}),(!this.sortWorker&&h>0?this.setupSortWorker(this.splatMesh):Promise.resolve()).then(()=>{this.isDisposingOrDisposed()||this.runSplatSort(!0,!0).then(m=>{!this.sortWorker||!m?(this.splatRenderReady=!0,u(),d()):(o?this.splatRenderReady=!0:this.runAfterNextSort.push(()=>{this.splatRenderReady=!0}),this.runAfterNextSort.push(()=>{u(),d()}))})})}},!0)})}}());cn(this,"addSplatBuffersToMesh",function(){let e;return function(t,r,i=!0,a=!1,s=!1,o=!0){if(this.isDisposingOrDisposed())return;let l=[],c=[];s||(l=this.splatMesh.scenes.map(h=>h.splatBuffer)||[],c=this.splatMesh.sceneOptions?this.splatMesh.sceneOptions.map(h=>h):[]),l.push(...t),c.push(...r),this.renderer&&this.splatMesh.setRenderer(this.renderer);const u=h=>{if(this.isDisposingOrDisposed())return;const p=this.splatMesh.getSplatCount();a&&p>=Wut&&!h&&!e&&(this.loadingSpinner.setMinimized(!0,!0),e=this.loadingSpinner.addTask("Optimizing data structures..."))},d=h=>{this.isDisposingOrDisposed()||h&&e&&(this.loadingSpinner.removeTask(e),e=null)},f=this.splatMesh.build(l,c,!0,i,u,d,o);return i&&this.freeIntermediateSplatData&&this.splatMesh.freeIntermediateSplatData(),f}}());cn(this,"shouldRender",function(){let e=0;const t=new tt,r=new Yi,i=1e-4;return function(){if(!this.initialized||!this.splatRenderReady||this.isDisposingOrDisposed())return!1;let a=!1,s=!1;if(this.camera){const o=this.camera.position,l=this.camera.quaternion;s=Math.abs(o.x-t.x)>i||Math.abs(o.y-t.y)>i||Math.abs(o.z-t.z)>i||Math.abs(l.x-r.x)>i||Math.abs(l.y-r.y)>i||Math.abs(l.z-r.z)>i||Math.abs(l.w-r.w)>i}return a=this.renderMode!==sR.Never&&(e===0||this.splatMesh.visibleRegionChanging||s||this.renderMode===sR.Always||this.dynamicMode===!0||this.renderNextFrame),this.camera&&(t.copy(this.camera.position),r.copy(this.camera.quaternion)),e++,a}}());cn(this,"render",function(){return function(){if(!this.initialized||!this.splatRenderReady||this.isDisposingOrDisposed())return;const e=r=>{for(let i of r.children)if(i.visible)return!0;return!1},t=this.renderer.autoClear;e(this.threeScene)&&(this.renderer.render(this.threeScene,this.camera),this.renderer.autoClear=!1),this.renderer.render(this.splatMesh,this.camera),this.renderer.autoClear=!1,this.sceneHelper.getFocusMarkerOpacity()>0&&this.renderer.render(this.sceneHelper.focusMarker,this.camera),this.showControlPlane&&this.renderer.render(this.sceneHelper.controlPlane,this.camera),this.renderer.autoClear=t}}());cn(this,"updateFPS",function(){let e=fv(),t=0;return function(){if(this.consecutiveRenderFrames>Yut){const r=fv();r-e>=1?(this.currentFPS=t,t=0,e=r):t++}else this.currentFPS=null}}());cn(this,"updateForRendererSizeChanges",function(){const e=new Hn,t=new Hn;let r;return function(){this.usingExternalCamera||(this.renderer.getSize(t),(r===void 0||r!==this.camera.isOrthographicCamera||t.x!==e.x||t.y!==e.y)&&(this.camera.isOrthographicCamera?(this.camera.left=-t.x/2,this.camera.right=t.x/2,this.camera.top=t.y/2,this.camera.bottom=-t.y/2):this.camera.aspect=t.x/t.y,this.camera.updateProjectionMatrix(),e.copy(t),r=this.camera.isOrthographicCamera))}}());cn(this,"timingSensitiveUpdates",function(){let e;return function(){const t=fv();e||(e=t);const r=t-e;this.updateCameraTransition(t),this.updateFocusMarker(r),e=t}}());cn(this,"updateCameraTransition",function(){let e=new tt,t=new tt,r=new tt;return function(i){if(this.transitioningCameraTarget){t.copy(this.previousCameraTarget).sub(this.camera.position).normalize(),r.copy(this.nextCameraTarget).sub(this.camera.position).normalize();const a=Math.acos(t.dot(r)),o=(a/(Math.PI/3)*.65+.3)/a*(i-this.transitioningCameraTargetStartTime);e.copy(this.previousCameraTarget).lerp(this.nextCameraTarget,o),this.camera.lookAt(e),this.controls.target.copy(e),o>=1&&(this.transitioningCameraTarget=!1)}}}());cn(this,"updateFocusMarker",function(){const e=new Hn;let t=!1;return function(r){if(this.getRenderDimensions(e),this.transitioningCameraTarget){this.sceneHelper.setFocusMarkerVisibility(!0);const i=Math.max(this.sceneHelper.getFocusMarkerOpacity(),0);let a=Math.min(i+qut*r,1);this.sceneHelper.setFocusMarkerOpacity(a),this.sceneHelper.updateFocusMarker(this.nextCameraTarget,this.camera,e),t=!0,this.forceRenderNextFrame()}else{let i;if(t?i=1:i=Math.min(this.sceneHelper.getFocusMarkerOpacity(),1),i>0){this.sceneHelper.updateFocusMarker(this.nextCameraTarget,this.camera,e);let a=Math.max(i-Kut*r,0);this.sceneHelper.setFocusMarkerOpacity(a),a===0&&this.sceneHelper.setFocusMarkerVisibility(!1)}i>0&&this.forceRenderNextFrame(),t=!1}}}());cn(this,"updateMeshCursor",function(){const e=[],t=new Hn;return function(){this.showMeshCursor?(this.forceRenderNextFrame(),this.getRenderDimensions(t),e.length=0,this.raycaster.setFromCameraAndScreenPosition(this.camera,this.mousePosition,t),this.raycaster.intersectSplatMesh(this.splatMesh,e),e.length>0?(this.sceneHelper.setMeshCursorVisibility(!0),this.sceneHelper.positionAndOrientMeshCursor(e[0].origin,this.camera)):this.sceneHelper.setMeshCursorVisibility(!1)):(this.sceneHelper.getMeschCursorVisibility()&&this.forceRenderNextFrame(),this.sceneHelper.setMeshCursorVisibility(!1))}}());cn(this,"updateInfoPanel",function(){const e=new Hn;return function(){if(!this.showInfo)return;const t=this.splatMesh.getSplatCount();this.getRenderDimensions(e);const r=this.controls?this.controls.target:null,i=this.showMeshCursor?this.sceneHelper.meshCursor.position:null,a=t>0?this.splatRenderCount/t*100:0;this.infoPanel.update(e,this.camera.position,r,this.camera.up,this.camera.isOrthographicCamera,i,this.currentFPS||"N/A",t,this.splatRenderCount,a,this.lastSortTime,this.focalAdjustment,this.splatMesh.getSplatScale(),this.splatMesh.getPointCloudModeEnabled())}}());cn(this,"runSplatSort",function(){const e=new ur,t=[],r=new tt(0,0,-1),i=new tt(0,0,-1),a=new tt,s=new tt,o=[],l=[{angleThreshold:.55,sortFractions:[.125,.33333,.75]},{angleThreshold:.65,sortFractions:[.33333,.66667]},{angleThreshold:.8,sortFractions:[.5]}];return function(c=!1,u=!1){if(!this.initialized)return Promise.resolve(!1);if(this.sortRunning)return Promise.resolve(!0);if(this.splatMesh.getSplatCount()<=0)return this.splatRenderCount=0,Promise.resolve(!1);let d=0,f=0,h=!1,p=!1;if(i.set(0,0,-1).applyQuaternion(this.camera.quaternion),d=i.dot(r),f=s.copy(this.camera.position).sub(a).length(),!c&&!this.splatMesh.dynamicMode&&o.length===0&&(d<=.99&&(h=!0),f>=1&&(p=!0),!h&&!p))return Promise.resolve(!1);this.sortRunning=!0;let{splatRenderCount:m,shouldSortAll:g}=this.gatherSceneNodesForSort();g=g||u,this.splatRenderCount=m,e.copy(this.camera.matrixWorld).invert();const v=this.perspectiveCamera||this.camera;e.premultiply(v.projectionMatrix),this.splatMesh.dynamicMode||e.multiply(this.splatMesh.matrixWorld);let y=Promise.resolve(!0);return this.gpuAcceleratedSort&&(o.length<=1||o.length%2===0)&&(y=this.splatMesh.computeDistancesOnGPU(e,this.sortWorkerPrecomputedDistances)),y.then(()=>{if(o.length===0)if(this.splatMesh.dynamicMode||g)o.push(this.splatRenderCount);else{for(let w of l)if(d<w.angleThreshold){for(let x of w.sortFractions)o.push(Math.floor(this.splatRenderCount*x));break}o.push(this.splatRenderCount)}let b=Math.min(o.shift(),this.splatRenderCount);this.splatSortCount=b,t[0]=this.camera.position.x,t[1]=this.camera.position.y,t[2]=this.camera.position.z;const _={modelViewProj:e.elements,cameraPosition:t,splatRenderCount:this.splatRenderCount,splatSortCount:b,usePrecomputedDistances:this.gpuAcceleratedSort};return this.splatMesh.dynamicMode&&this.splatMesh.fillTransformsArray(this.sortWorkerTransforms),this.sharedMemoryForWorkers||(_.indexesToSort=this.sortWorkerIndexesToSort,_.transforms=this.sortWorkerTransforms,this.gpuAcceleratedSort&&(_.precomputedDistances=this.sortWorkerPrecomputedDistances)),this.sortPromise=new Promise(w=>{this.sortPromiseResolver=w}),this.preSortMessages.length>0&&(this.preSortMessages.forEach(w=>{this.sortWorker.postMessage(w)}),this.preSortMessages=[]),this.sortWorker.postMessage({sort:_}),o.length===0&&(a.copy(this.camera.position),r.copy(i)),!0}),y}}());cn(this,"gatherSceneNodesForSort",function(){const e=[];let t=null;const r=new tt,i=new tt,a=new tt,s=new ur,o=new ur,l=new ur,c=new tt,u=new tt(0,0,-1),d=new tt,f=h=>d.copy(h.max).sub(h.min).length();return function(h=!1){this.getRenderDimensions(c);const p=c.y/2/Math.tan(this.camera.fov/2*Xie.DEG2RAD),m=Math.atan(c.x/2/p),g=Math.atan(c.y/2/p),v=Math.cos(m),y=Math.cos(g),b=this.splatMesh.getSplatTree();if(b){o.copy(this.camera.matrixWorld).invert(),this.splatMesh.dynamicMode||o.multiply(this.splatMesh.matrixWorld);let _=0,w=0;for(let M=0;M<b.subTrees.length;M++){const C=b.subTrees[M];s.copy(o),this.splatMesh.dynamicMode&&(this.splatMesh.getSceneTransform(M,l),s.multiply(l));const T=C.nodesWithIndexes.length;for(let A=0;A<T;A++){const I=C.nodesWithIndexes[A];if(!I.data||!I.data.indexes||I.data.indexes.length===0)continue;a.copy(I.center).applyMatrix4(s);const L=a.length();a.normalize(),r.copy(a).setX(0).normalize(),i.copy(a).setY(0).normalize();const k=u.dot(i),N=u.dot(r),F=f(I),D=N<y-.6,H=k<v-.6;!h&&(H||D)&&L>F||(w+=I.data.indexes.length,e[_]=I,I.data.distanceToNode=L,_++)}}e.length=_,e.sort((M,C)=>M.data.distanceToNode<C.data.distanceToNode?-1:1);let x=w*Fr.BytesPerInt;for(let M=0;M<_;M++){const C=e[M],T=C.data.indexes.length,A=T*Fr.BytesPerInt;new Uint32Array(this.sortWorkerIndexesToSort.buffer,x-A,T).set(C.data.indexes),x-=A}return{splatRenderCount:w,shouldSortAll:!1}}else{const _=this.splatMesh.getSplatCount();if(!t||t.length!==_){t=new Uint32Array(_);for(let w=0;w<_;w++)t[w]=w}return this.sortWorkerIndexesToSort.set(t),{splatRenderCount:_,shouldSortAll:!0}}}}());if(e.cameraUp||(e.cameraUp=[0,1,0]),this.cameraUp=new tt().fromArray(e.cameraUp),e.initialCameraPosition||(e.initialCameraPosition=[0,10,15]),this.initialCameraPosition=new tt().fromArray(e.initialCameraPosition),e.initialCameraLookAt||(e.initialCameraLookAt=[0,0,0]),this.initialCameraLookAt=new tt().fromArray(e.initialCameraLookAt),this.dropInMode=e.dropInMode||!1,(e.selfDrivenMode===void 0||e.selfDrivenMode===null)&&(e.selfDrivenMode=!0),this.selfDrivenMode=e.selfDrivenMode&&!this.dropInMode,this.selfDrivenUpdateFunc=this.selfDrivenUpdate.bind(this),e.useBuiltInControls===void 0&&(e.useBuiltInControls=!0),this.useBuiltInControls=e.useBuiltInControls,this.rootElement=e.rootElement,this.ignoreDevicePixelRatio=e.ignoreDevicePixelRatio||!1,this.devicePixelRatio=this.ignoreDevicePixelRatio?1:window.devicePixelRatio||1,this.halfPrecisionCovariancesOnGPU=e.halfPrecisionCovariancesOnGPU||!1,this.threeScene=e.threeScene,this.renderer=e.renderer,this.camera=e.camera,this.gpuAcceleratedSort=e.gpuAcceleratedSort||!1,(e.integerBasedSort===void 0||e.integerBasedSort===null)&&(e.integerBasedSort=!0),this.integerBasedSort=e.integerBasedSort,(e.sharedMemoryForWorkers===void 0||e.sharedMemoryForWorkers===null)&&(e.sharedMemoryForWorkers=!0),this.sharedMemoryForWorkers=e.sharedMemoryForWorkers,this.dynamicScene=!!e.dynamicScene,this.antialiased=e.antialiased||!1,this.kernel2DSize=e.kernel2DSize===void 0?.3:e.kernel2DSize,this.webXRMode=e.webXRMode||mv.None,this.webXRMode!==mv.None&&(this.gpuAcceleratedSort=!1),this.webXRActive=!1,this.webXRSessionInit=e.webXRSessionInit||{},this.renderMode=e.renderMode||sR.Always,this.sceneRevealMode=e.sceneRevealMode||Vb.Default,this.focalAdjustment=e.focalAdjustment||1,this.maxScreenSpaceSplatSize=e.maxScreenSpaceSplatSize||1024,this.logLevel=e.logLevel||mg.None,this.sphericalHarmonicsDegree=e.sphericalHarmonicsDegree||0,this.enableOptionalEffects=e.enableOptionalEffects||!1,(e.enableSIMDInSort===void 0||e.enableSIMDInSort===null)&&(e.enableSIMDInSort=!0),this.enableSIMDInSort=e.enableSIMDInSort,(e.inMemoryCompressionLevel===void 0||e.inMemoryCompressionLevel===null)&&(e.inMemoryCompressionLevel=0),this.inMemoryCompressionLevel=e.inMemoryCompressionLevel,(e.optimizeSplatData===void 0||e.optimizeSplatData===null)&&(e.optimizeSplatData=!0),this.optimizeSplatData=e.optimizeSplatData,(e.freeIntermediateSplatData===void 0||e.freeIntermediateSplatData===null)&&(e.freeIntermediateSplatData=!1),this.freeIntermediateSplatData=e.freeIntermediateSplatData,BO()){const r=pae();r.major<17&&(this.enableSIMDInSort=!1),r.major<16&&(this.sharedMemoryForWorkers=!1)}(e.splatRenderMode===void 0||e.splatRenderMode===null)&&(e.splatRenderMode=ld.ThreeD),this.splatRenderMode=e.splatRenderMode,this.sceneFadeInRateMultiplier=e.sceneFadeInRateMultiplier||1,this.splatSortDistanceMapPrecision=e.splatSortDistanceMapPrecision||Fr.DefaultSplatSortDistanceMapPrecision;const t=this.integerBasedSort?20:24;this.splatSortDistanceMapPrecision=os(this.splatSortDistanceMapPrecision,10,t),this.onSplatMeshChangedCallback=null,this.createSplatMesh(),this.controls=null,this.perspectiveControls=null,this.orthographicControls=null,this.orthographicCamera=null,this.perspectiveCamera=null,this.showMeshCursor=!1,this.showControlPlane=!1,this.showInfo=!1,this.sceneHelper=null,this.sortWorker=null,this.sortRunning=!1,this.splatRenderCount=0,this.splatSortCount=0,this.lastSplatSortCount=0,this.sortWorkerIndexesToSort=null,this.sortWorkerSortedIndexes=null,this.sortWorkerPrecomputedDistances=null,this.sortWorkerTransforms=null,this.preSortMessages=[],this.runAfterNextSort=[],this.selfDrivenModeRunning=!1,this.splatRenderReady=!1,this.raycaster=new _ut,this.infoPanel=null,this.startInOrthographicMode=!1,this.currentFPS=0,this.lastSortTime=0,this.consecutiveRenderFrames=0,this.previousCameraTarget=new tt,this.nextCameraTarget=new tt,this.mousePosition=new Hn,this.mouseDownPosition=new Hn,this.mouseDownTime=null,this.resizeObserver=null,this.mouseMoveListener=null,this.mouseDownListener=null,this.mouseUpListener=null,this.keyDownListener=null,this.sortPromise=null,this.sortPromiseResolver=null,this.splatSceneDownloadPromises={},this.splatSceneDownloadAndBuildPromise=null,this.splatSceneRemovalPromise=null,this.loadingSpinner=new mD(null,this.rootElement||document.body),this.loadingSpinner.hide(),this.loadingProgressBar=new put(this.rootElement||document.body),this.loadingProgressBar.hide(),this.infoPanel=new mut(this.rootElement||document.body),this.infoPanel.hide(),this.usingExternalCamera=!!(this.dropInMode||this.camera),this.usingExternalRenderer=!!(this.dropInMode||this.renderer),this.initialized=!1,this.disposing=!1,this.disposed=!1,this.disposePromise=null,this.dropInMode||this.init()}createSplatMesh(){this.splatMesh=new es(this.splatRenderMode,this.dynamicScene,this.enableOptionalEffects,this.halfPrecisionCovariancesOnGPU,this.devicePixelRatio,this.gpuAcceleratedSort,this.integerBasedSort,this.antialiased,this.maxScreenSpaceSplatSize,this.logLevel,this.sphericalHarmonicsDegree,this.sceneFadeInRateMultiplier,this.kernel2DSize),this.splatMesh.frustumCulled=!1,this.onSplatMeshChangedCallback&&this.onSplatMeshChangedCallback()}init(){this.initialized||(this.rootElement||(this.usingExternalRenderer?this.rootElement=this.renderer.domElement||document.body:(this.rootElement=document.createElement("div"),this.rootElement.style.width="100%",this.rootElement.style.height="100%",this.rootElement.style.position="absolute",document.body.appendChild(this.rootElement))),this.setupCamera(),this.setupRenderer(),this.setupWebXR(this.webXRSessionInit),this.setupControls(),this.setupEventHandlers(),this.threeScene=this.threeScene||new Nit,this.sceneHelper=new Ub(this.threeScene),this.sceneHelper.setupMeshCursor(),this.sceneHelper.setupFocusMarker(),this.sceneHelper.setupControlPlane(),this.loadingProgressBar.setContainer(this.rootElement),this.loadingSpinner.setContainer(this.rootElement),this.infoPanel.setContainer(this.rootElement),this.initialized=!0)}setupCamera(){if(!this.usingExternalCamera){const e=new Hn;this.getRenderDimensions(e),this.perspectiveCamera=new Rl($ut,e.x/e.y,.1,1e3),this.orthographicCamera=new DO(e.x/-2,e.x/2,e.y/2,e.y/-2,.1,1e3),this.camera=this.startInOrthographicMode?this.orthographicCamera:this.perspectiveCamera,this.camera.position.copy(this.initialCameraPosition),this.camera.up.copy(this.cameraUp).normalize(),this.camera.lookAt(this.initialCameraLookAt)}}setupRenderer(){if(!this.usingExternalRenderer){const e=new Hn;this.getRenderDimensions(e),this.renderer=new Mct({antialias:!1,precision:"highp"}),this.renderer.setPixelRatio(this.devicePixelRatio),this.renderer.autoClear=!0,this.renderer.setClearColor(new ii(0),0),this.renderer.setSize(e.x,e.y),this.resizeObserver=new ResizeObserver(()=>{this.getRenderDimensions(e),this.renderer.setSize(e.x,e.y),this.forceRenderNextFrame()}),this.resizeObserver.observe(this.rootElement),this.rootElement.appendChild(this.renderer.domElement)}}setupWebXR(e){this.webXRMode&&(this.webXRMode===mv.VR?this.rootElement.appendChild(sy.createButton(this.renderer,e)):this.webXRMode===mv.AR&&this.rootElement.appendChild(Vut.createButton(this.renderer,e)),this.renderer.xr.addEventListener("sessionstart",t=>{this.webXRActive=!0}),this.renderer.xr.addEventListener("sessionend",t=>{this.webXRActive=!1}),this.renderer.xr.enabled=!0,this.camera.position.copy(this.initialCameraPosition),this.camera.up.copy(this.cameraUp).normalize(),this.camera.lookAt(this.initialCameraLookAt))}setupControls(){if(this.useBuiltInControls&&this.webXRMode===mv.None){this.usingExternalCamera?this.camera.isOrthographicCamera?this.orthographicControls=new O2(this.camera,this.renderer.domElement):this.perspectiveControls=new O2(this.camera,this.renderer.domElement):(this.perspectiveControls=new O2(this.perspectiveCamera,this.renderer.domElement),this.orthographicControls=new O2(this.orthographicCamera,this.renderer.domElement));for(let e of[this.orthographicControls,this.perspectiveControls])e&&(e.listenToKeyEvents(window),e.rotateSpeed=.5,e.maxPolarAngle=Math.PI*.75,e.minPolarAngle=.1,e.enableDamping=!0,e.dampingFactor=.05,e.target.copy(this.initialCameraLookAt),e.update());this.controls=this.camera.isOrthographicCamera?this.orthographicControls:this.perspectiveControls,this.controls.update()}}setupEventHandlers(){this.useBuiltInControls&&this.webXRMode===mv.None&&(this.mouseMoveListener=this.onMouseMove.bind(this),this.renderer.domElement.addEventListener("pointermove",this.mouseMoveListener,!1),this.mouseDownListener=this.onMouseDown.bind(this),this.renderer.domElement.addEventListener("pointerdown",this.mouseDownListener,!1),this.mouseUpListener=this.onMouseUp.bind(this),this.renderer.domElement.addEventListener("pointerup",this.mouseUpListener,!1),this.keyDownListener=this.onKeyDown.bind(this),window.addEventListener("keydown",this.keyDownListener,!1))}removeEventHandlers(){this.useBuiltInControls&&(this.renderer.domElement.removeEventListener("pointermove",this.mouseMoveListener),this.mouseMoveListener=null,this.renderer.domElement.removeEventListener("pointerdown",this.mouseDownListener),this.mouseDownListener=null,this.renderer.domElement.removeEventListener("pointerup",this.mouseUpListener),this.mouseUpListener=null,window.removeEventListener("keydown",this.keyDownListener),this.keyDownListener=null)}setRenderMode(e){this.renderMode=e}setActiveSphericalHarmonicsDegrees(e){this.splatMesh.material.uniforms.sphericalHarmonicsDegree.value=e,this.splatMesh.material.uniformsNeedUpdate=!0}onSplatMeshChanged(e){this.onSplatMeshChangedCallback=e}onMouseMove(e){this.mousePosition.set(e.offsetX,e.offsetY)}onMouseDown(){this.mouseDownPosition.copy(this.mousePosition),this.mouseDownTime=fv()}onMouseClick(e){this.mousePosition.set(e.offsetX,e.offsetY),this.checkForFocalPointChange()}getRenderDimensions(e){this.rootElement?(e.x=this.rootElement.offsetWidth,e.y=this.rootElement.offsetHeight):this.renderer.getSize(e)}setOrthographicMode(e){if(e===this.camera.isOrthographicCamera)return;const t=this.camera,r=e?this.orthographicCamera:this.perspectiveCamera;if(r.position.copy(t.position),r.up.copy(t.up),r.rotation.copy(t.rotation),r.quaternion.copy(t.quaternion),r.matrix.copy(t.matrix),this.camera=r,this.controls){const i=o=>{o.saveState(),o.reset()},a=this.controls,s=e?this.orthographicControls:this.perspectiveControls;i(s),i(a),s.target.copy(a.target),e?Bf.setCameraZoomFromPosition(r,t,a):Bf.setCameraPositionFromZoom(r,t,s),this.controls=s,this.camera.lookAt(this.controls.target)}}adjustForWebXRStereo(e){if(this.camera&&this.webXRActive){const r=this.renderer.xr.getCamera().projectionMatrix.elements[0],i=this.camera.projectionMatrix.elements[0];e.x*=i/r}}isLoadingOrUnloading(){return Object.keys(this.splatSceneDownloadPromises).length>0||this.splatSceneDownloadAndBuildPromise!==null||this.splatSceneRemovalPromise!==null}isDisposingOrDisposed(){return this.disposing||this.disposed}addSplatSceneDownloadPromise(e){this.splatSceneDownloadPromises[e.id]=e}removeSplatSceneDownloadPromise(e){delete this.splatSceneDownloadPromises[e.id]}setSplatSceneDownloadAndBuildPromise(e){this.splatSceneDownloadAndBuildPromise=e}clearSplatSceneDownloadAndBuildPromise(){this.splatSceneDownloadAndBuildPromise=null}addSplatScene(e,t={}){if(this.isLoadingOrUnloading())throw new Error("Cannot add splat scene while another load or unload is already in progress.");if(this.isDisposingOrDisposed())throw new Error("Cannot add splat scene after dispose() is called.");t.progressiveLoad&&this.splatMesh.scenes&&this.splatMesh.scenes.length>0&&(console.log('addSplatScene(): "progressiveLoad" option ignore because there are multiple splat scenes'),t.progressiveLoad=!1);const r=t.format!==void 0&&t.format!==null?t.format:aq(e),i=Bf.isProgressivelyLoadable(r)&&t.progressiveLoad,a=t.showLoadingUI!==void 0&&t.showLoadingUI!==null?t.showLoadingUI:!0;let s=null;a&&(this.loadingSpinner.removeAllTasks(),s=this.loadingSpinner.addTask("Downloading..."));const o=()=>{this.loadingProgressBar.hide(),this.loadingSpinner.removeAllTasks()},l=(m,g,v)=>{if(a)if(v===Ia.Downloading)if(m==100)this.loadingSpinner.setMessageForTask(s,"Download complete!");else if(i)this.loadingSpinner.setMessageForTask(s,"Downloading splats...");else{const y=g?`: ${g}`:"...";this.loadingSpinner.setMessageForTask(s,`Downloading${y}`)}else v===Ia.Processing&&this.loadingSpinner.setMessageForTask(s,"Processing splats...")};let c=!1,u=0;const d=(m,g)=>{a&&((m&&i||g&&!i)&&(this.loadingSpinner.removeTask(s),!g&&!c&&this.loadingProgressBar.show()),i&&(g?(c=!0,this.loadingProgressBar.hide()):this.loadingProgressBar.setProgress(u)))},f=(m,g,v)=>{u=m,l(m,g,v),t.onProgress&&t.onProgress(m,g,v)},h=(m,g,v)=>{!i&&t.onProgress&&t.onProgress(0,"0%",Ia.Processing);const y={rotation:t.rotation||t.orientation,position:t.position,scale:t.scale,splatAlphaRemovalThreshold:t.splatAlphaRemovalThreshold};return this.addSplatBuffers([m],[y],v,g&&a,a,i,i).then(()=>{!i&&t.onProgress&&t.onProgress(100,"100%",Ia.Processing),d(g,v)})};return(i?this.downloadAndBuildSingleSplatSceneProgressiveLoad.bind(this):this.downloadAndBuildSingleSplatSceneStandardLoad.bind(this))(e,r,t.splatAlphaRemovalThreshold,h.bind(this),f,o.bind(this),t.headers)}downloadAndBuildSingleSplatSceneStandardLoad(e,t,r,i,a,s,o){const l=this.downloadSplatSceneToSplatBuffer(e,r,a,!1,void 0,t,o),c=QI(l.abortHandler);return l.then(u=>(this.removeSplatSceneDownloadPromise(l),i(u,!0,!0).then(()=>{c.resolve(),this.clearSplatSceneDownloadAndBuildPromise()}))).catch(u=>{s&&s(),this.clearSplatSceneDownloadAndBuildPromise(),this.removeSplatSceneDownloadPromise(l);const d=u instanceof NC?u:new Error(`Viewer::addSplatScene -> Could not load file ${e}`);c.reject(d)}),this.addSplatSceneDownloadPromise(l),this.setSplatSceneDownloadAndBuildPromise(c.promise),c.promise}downloadAndBuildSingleSplatSceneProgressiveLoad(e,t,r,i,a,s,o){let l=0,c=!1;const u=[],d=()=>{if(u.length>0&&!c&&!this.isDisposingOrDisposed()){c=!0;const g=u.shift();i(g.splatBuffer,g.firstBuild,g.finalBuild).then(()=>{c=!1,g.firstBuild?p.resolve():g.finalBuild&&(m.resolve(),this.clearSplatSceneDownloadAndBuildPromise()),u.length>0&&Sc(()=>d())})}},f=(g,v)=>{this.isDisposingOrDisposed()||(v||u.length===0||g.getSplatCount()>u[0].splatBuffer.getSplatCount())&&(u.push({splatBuffer:g,firstBuild:l===0,finalBuild:v}),l++,d())},h=this.downloadSplatSceneToSplatBuffer(e,r,a,!0,f,t,o),p=QI(h.abortHandler),m=QI();return this.addSplatSceneDownloadPromise(h),this.setSplatSceneDownloadAndBuildPromise(m.promise),h.then(()=>{this.removeSplatSceneDownloadPromise(h)}).catch(g=>{this.clearSplatSceneDownloadAndBuildPromise(),this.removeSplatSceneDownloadPromise(h);const v=g instanceof NC?g:new Error("Viewer::addSplatScene -> Could not load one or more scenes");p.reject(v),s&&s(v)}),p.promise}addSplatScenes(e,t=!0,r=void 0){if(this.isLoadingOrUnloading())throw new Error("Cannot add splat scene while another load or unload is already in progress.");if(this.isDisposingOrDisposed())throw new Error("Cannot add splat scene after dispose() is called.");const i=e.length,a=[];let s;t&&(this.loadingSpinner.removeAllTasks(),s=this.loadingSpinner.addTask("Downloading..."));const o=(d,f,h,p)=>{a[d]=f;let m=0;for(let g=0;g<i;g++)m+=a[g]||0;m=m/i,h=`${m.toFixed(2)}%`,t&&p===Ia.Downloading&&this.loadingSpinner.setMessageForTask(s,m==100?"Download complete!":`Downloading: ${h}`),r&&r(m,h,p)},l=[],c=[];for(let d=0;d<e.length;d++){const f=e[d],h=f.format!==void 0&&f.format!==null?f.format:aq(f.path),p=this.downloadSplatSceneToSplatBuffer(f.path,f.splatAlphaRemovalThreshold,o.bind(this,d),!1,void 0,h,f.headers);l.push(p),c.push(p.promise)}const u=new dS((d,f)=>{Promise.all(c).then(h=>{t&&this.loadingSpinner.removeTask(s),r&&r(0,"0%",Ia.Processing),this.addSplatBuffers(h,e,!0,t,t,!1,!1).then(()=>{r&&r(100,"100%",Ia.Processing),this.clearSplatSceneDownloadAndBuildPromise(),d()})}).catch(h=>{t&&this.loadingSpinner.removeTask(s),this.clearSplatSceneDownloadAndBuildPromise();const p=h instanceof NC?h:new Error("Viewer::addSplatScenes -> Could not load one or more splat scenes.");f(p)}).finally(()=>{this.removeSplatSceneDownloadPromise(u)})},d=>{for(let f of l)f.abort(d)});return this.addSplatSceneDownloadPromise(u),this.setSplatSceneDownloadAndBuildPromise(u),u}downloadSplatSceneToSplatBuffer(e,t=1,r=void 0,i=!1,a=void 0,s,o){const l=i?!1:this.optimizeSplatData;try{if(s===od.Splat)return XO.loadFromURL(e,r,i,a,t,this.inMemoryCompressionLevel,l,o);if(s===od.KSplat)return pD.loadFromURL(e,r,i,a,o);if(s===od.Ply)return YO.loadFromURL(e,r,i,a,t,this.inMemoryCompressionLevel,l,this.sphericalHarmonicsDegree,o)}catch(c){throw c instanceof KO?new Error("File type or server does not support progressive loading."):c}throw new Error(`Viewer::downloadSplatSceneToSplatBuffer -> File format not supported: ${e}`)}static isProgressivelyLoadable(e){return e===od.Splat||e===od.KSplat||e===od.Ply}setupSortWorker(e){if(!this.isDisposingOrDisposed())return new Promise(t=>{const r=this.integerBasedSort?Int32Array:Float32Array,i=e.getSplatCount(),a=e.getMaxSplatCount();this.sortWorker=Hut(a,this.sharedMemoryForWorkers,this.enableSIMDInSort,this.integerBasedSort,this.splatMesh.dynamicMode,this.splatSortDistanceMapPrecision),this.sortWorker.onmessage=s=>{if(s.data.sortDone){if(this.sortRunning=!1,this.sharedMemoryForWorkers)this.splatMesh.updateRenderIndexes(this.sortWorkerSortedIndexes,s.data.splatRenderCount);else{const o=new Uint32Array(s.data.sortedIndexes.buffer,0,s.data.splatRenderCount);this.splatMesh.updateRenderIndexes(o,s.data.splatRenderCount)}this.lastSplatSortCount=this.splatSortCount,this.lastSortTime=s.data.sortTime,this.sortPromiseResolver(),this.sortPromiseResolver=null,this.forceRenderNextFrame(),this.runAfterNextSort.length>0&&(this.runAfterNextSort.forEach(o=>{o()}),this.runAfterNextSort.length=0)}else if(s.data.sortCanceled)this.sortRunning=!1;else if(s.data.sortSetupPhase1Complete){this.logLevel>=mg.Info&&console.log("Sorting web worker WASM setup complete."),this.sharedMemoryForWorkers?(this.sortWorkerSortedIndexes=new Uint32Array(s.data.sortedIndexesBuffer,s.data.sortedIndexesOffset,a),this.sortWorkerIndexesToSort=new Uint32Array(s.data.indexesToSortBuffer,s.data.indexesToSortOffset,a),this.sortWorkerPrecomputedDistances=new r(s.data.precomputedDistancesBuffer,s.data.precomputedDistancesOffset,a),this.sortWorkerTransforms=new Float32Array(s.data.transformsBuffer,s.data.transformsOffset,Fr.MaxScenes*16)):(this.sortWorkerIndexesToSort=new Uint32Array(a),this.sortWorkerPrecomputedDistances=new r(a),this.sortWorkerTransforms=new Float32Array(Fr.MaxScenes*16));for(let o=0;o<i;o++)this.sortWorkerIndexesToSort[o]=o;if(this.sortWorker.maxSplatCount=a,this.logLevel>=mg.Info){console.log("Sorting web worker ready.");const o=this.splatMesh.getSplatDataTextures(),l=o.covariances.size,c=o.centerColors.size;console.log("Covariances texture size: "+l.x+" x "+l.y),console.log("Centers/colors texture size: "+c.x+" x "+c.y)}t()}}})}disposeSortWorker(){this.sortWorker&&this.sortWorker.terminate(),this.sortWorker=null,this.sortPromise=null,this.sortPromiseResolver&&(this.sortPromiseResolver(),this.sortPromiseResolver=null),this.preSortMessages=[],this.sortRunning=!1}removeSplatScene(e,t=!0){return this.removeSplatScenes([e],t)}removeSplatScenes(e,t=!0){if(this.isLoadingOrUnloading())throw new Error("Cannot remove splat scene while another load or unload is already in progress.");if(this.isDisposingOrDisposed())throw new Error("Cannot remove splat scene after dispose() is called.");let r;return this.splatSceneRemovalPromise=new Promise((i,a)=>{let s;t&&(this.loadingSpinner.removeAllTasks(),this.loadingSpinner.show(),s=this.loadingSpinner.addTask("Removing splat scene..."));const o=()=>{t&&(this.loadingSpinner.hide(),this.loadingSpinner.removeTask(s))},l=u=>{o(),this.splatSceneRemovalPromise=null,u?a(u):i()},c=()=>this.isDisposingOrDisposed()?(l(),!0):!1;r=this.sortPromise||Promise.resolve(),r.then(()=>{if(c())return;const u=[],d=[],f=[];for(let h=0;h<this.splatMesh.scenes.length;h++){let p=!1;for(let m of e)if(m===h){p=!0;break}if(!p){const m=this.splatMesh.scenes[h];u.push(m.splatBuffer),d.push(this.splatMesh.sceneOptions[h]),f.push({position:m.position.clone(),quaternion:m.quaternion.clone(),scale:m.scale.clone()})}}this.disposeSortWorker(),this.splatMesh.dispose(),this.sceneRevealMode=Vb.Instant,this.createSplatMesh(),this.addSplatBuffers(u,d,!0,!1,!0).then(()=>{c()||(o(),this.splatMesh.scenes.forEach((h,p)=>{h.position.copy(f[p].position),h.quaternion.copy(f[p].quaternion),h.scale.copy(f[p].scale)}),this.splatMesh.updateTransforms(),this.splatRenderReady=!1,this.runSplatSort(!0).then(()=>{if(c()){this.splatRenderReady=!0;return}r=this.sortPromise||Promise.resolve(),r.then(()=>{this.splatRenderReady=!0,l()})}))}).catch(h=>{l(h)})})}),this.splatSceneRemovalPromise}start(){if(this.selfDrivenMode)this.webXRMode?this.renderer.setAnimationLoop(this.selfDrivenUpdateFunc):this.requestFrameId=requestAnimationFrame(this.selfDrivenUpdateFunc),this.selfDrivenModeRunning=!0;else throw new Error("Cannot start viewer unless it is in self driven mode.")}stop(){this.selfDrivenMode&&this.selfDrivenModeRunning&&(this.webXRMode?this.renderer.setAnimationLoop(null):cancelAnimationFrame(this.requestFrameId),this.selfDrivenModeRunning=!1)}async dispose(){if(this.isDisposingOrDisposed())return this.disposePromise;let e=[],t=[];for(let r in this.splatSceneDownloadPromises)if(this.splatSceneDownloadPromises.hasOwnProperty(r)){const i=this.splatSceneDownloadPromises[r];t.push(i),e.push(i.promise)}return this.sortPromise&&e.push(this.sortPromise),this.disposing=!0,this.disposePromise=Promise.all(e).finally(()=>{this.stop(),this.orthographicControls&&(this.orthographicControls.dispose(),this.orthographicControls=null),this.perspectiveControls&&(this.perspectiveControls.dispose(),this.perspectiveControls=null),this.controls=null,this.splatMesh&&(this.splatMesh.dispose(),this.splatMesh=null),this.sceneHelper&&(this.sceneHelper.dispose(),this.sceneHelper=null),this.resizeObserver&&(this.resizeObserver.unobserve(this.rootElement),this.resizeObserver=null),this.disposeSortWorker(),this.removeEventHandlers(),this.loadingSpinner.removeAllTasks(),this.loadingSpinner.setContainer(null),this.loadingProgressBar.hide(),this.loadingProgressBar.setContainer(null),this.infoPanel.setContainer(null),this.camera=null,this.threeScene=null,this.splatRenderReady=!1,this.initialized=!1,this.renderer&&(this.usingExternalRenderer||(this.rootElement.removeChild(this.renderer.domElement),this.renderer.dispose()),this.renderer=null),this.usingExternalRenderer||document.body.removeChild(this.rootElement),this.sortWorkerSortedIndexes=null,this.sortWorkerIndexesToSort=null,this.sortWorkerPrecomputedDistances=null,this.sortWorkerTransforms=null,this.disposed=!0,this.disposing=!1,this.disposePromise=null}),t.forEach(r=>{r.abort("Scene disposed")}),this.disposePromise}selfDrivenUpdate(){this.selfDrivenMode&&!this.webXRMode&&(this.requestFrameId=requestAnimationFrame(this.selfDrivenUpdateFunc)),this.update(),this.shouldRender()?(this.render(),this.consecutiveRenderFrames++):this.consecutiveRenderFrames=0,this.renderNextFrame=!1}forceRenderNextFrame(){this.renderNextFrame=!0}update(e,t){this.dropInMode&&this.updateForDropInMode(e,t),!(!this.initialized||!this.splatRenderReady||this.isDisposingOrDisposed())&&(this.controls&&(this.controls.update(),this.camera.isOrthographicCamera&&!this.usingExternalCamera&&Bf.setCameraPositionFromZoom(this.camera,this.camera,this.controls)),this.runSplatSort(),this.updateForRendererSizeChanges(),this.updateSplatMesh(),this.updateMeshCursor(),this.updateFPS(),this.timingSensitiveUpdates(),this.updateInfoPanel(),this.updateControlPlane())}updateForDropInMode(e,t){this.renderer=e,this.splatMesh&&this.splatMesh.setRenderer(this.renderer),this.camera=t,this.controls&&(this.controls.object=t),this.init()}updateControlPlane(){this.showControlPlane?(this.sceneHelper.setControlPlaneVisibility(!0),this.sceneHelper.positionAndOrientControlPlane(this.controls.target,this.camera.up)):this.sceneHelper.setControlPlaneVisibility(!1)}getSplatMesh(){return this.splatMesh}getSplatScene(e){return this.splatMesh.getScene(e)}getSceneCount(){return this.splatMesh.getSceneCount()}isMobile(){return navigator.userAgent.includes("Mobi")}};cn(Bf,"setCameraPositionFromZoom",function(){const e=new tt;return function(t,r,i){const a=1/(r.zoom*.001);e.copy(i.target).sub(t.position).normalize().multiplyScalar(a).negate(),t.position.copy(i.target).add(e)}}()),cn(Bf,"setCameraZoomFromPosition",function(){const e=new tt;return function(t,r,i){const a=e.copy(i.target).sub(r.position).length();t.zoom=1/(a*.001)}}());let mq=Bf;const Xut={components:{Title:yOe,Abstract:SOe,Markdown:MOe,BibTeX:EOe,Carousel:rBe,Video:sBe,ImageSlider:xBe,ImageSliderInner:DBe,ImageSelector:FBe,Echart:tKe,Collapse:hKe,Table:aKe,SeletionForComparison:CKe,Latex:DKe}};function jut(n,e,t,r,i,a){const s=Lt("Title"),o=Lt("Carousel"),l=Lt("Video"),c=Lt("Abstract"),u=Lt("Markdown"),d=Lt("BibTeX");return $(),ge(Bt,null,[pe(s),pe(o),pe(l),pe(c),pe(u),pe(d)],64)}const Zut=Bs(Xut,[["render",jut]]),ZO=n=>(Nd("data-v-64d158be"),n=n(),Bd(),n),Qut={class:"bg"},Jut={class:"footer"},edt=ZO(()=>_e("br",null,null,-1)),tdt=["href"],ndt=["href"],rdt=ZO(()=>_e("br",null,null,-1)),idt=["href"],adt=["href"],sdt=["href"],odt=ZO(()=>_e("br",null,null,-1)),ldt=["href"],cdt=Pe({__name:"Footer",setup(n){const{t:e}=Iu(),t={GeoAgent:"https://github.com/HVision-NKU/GeoAgent",HVision:"https://github.com/HVision-NKU",Vue:"https://cn.vuejs.org/",Vite:"https://cn.vitejs.dev/",ElementPlus:"https://element-plus.org/zh-CN/",TemplateContributor:"https://github.com/JunyaoHu/academic-project-page-template-vue"};return(r,i)=>{const a=Lt("el-row"),s=Lt("el-watermark");return $(),ge("div",Qut,[pe(s,{content:["GeoAgent","Modi Jin","Hvision@NKU"],gap:["60","0"],"z-index":0},{default:Me(()=>[pe(a,{justify:"center"},{default:Me(()=>[_e("p",Jut,[un(_t(S(e)("footerDesc")),1),edt,un(" "+_t(S(e)("projectPage"))+" ",1),_e("a",{href:t.GeoAgent},"GeoAgent",8,tdt),un(" "+_t(S(e)("by"))+" ",1),_e("a",{href:t.HVision},"Hvision @ NKU",8,ndt),un("."),rdt,un(" "+_t(S(e)("poweredBy"))+" ",1),_e("a",{href:t.Vue},"Vue",8,idt),un(", "),_e("a",{href:t.Vite},"Vite",8,adt),un(", "),_e("a",{href:t.ElementPlus},"Element Plus",8,sdt),un("."),odt,un(" "+_t(S(e)("templateThanks"))+" ",1),_e("a",{href:t.TemplateContributor},_t(S(e)("templateThanksLink")),9,ldt),un(". ")])]),_:1})]),_:1})])}}}),udt=Bs(cdt,[["__scopeId","data-v-64d158be"]]),ddt={components:{Header:rOe,Main:Zut,Footer:udt}};function fdt(n,e,t,r,i,a){const s=Lt("Header"),o=Lt("el-header"),l=Lt("Main"),c=Lt("el-main"),u=Lt("Footer"),d=Lt("el-footer"),f=Lt("el-container"),h=Lt("el-backtop");return $(),ge("div",null,[pe(f,null,{default:Me(()=>[pe(o,null,{default:Me(()=>[pe(s)]),_:1}),pe(c,null,{default:Me(()=>[pe(l)]),_:1}),pe(d,null,{default:Me(()=>[pe(u)]),_:1})]),_:1}),pe(h,{right:40,bottom:80})])}const hdt=Bs(ddt,[["render",fdt]]),QO=qD(hdt);QO.use(j6e);QO.use(Q8e);QO.mount("#app")});export default pdt();
